/**!
 * IMPORTANT NOTE:
 *    This file is licensed only for use in providing the iCloud
 *    service or any part thereof, and is subject to the iCloud
 *    Terms and Conditions. You may not port this file to another
 *    platform without Apple's written consent.
 *
 *    Portions of this Apple Software may utilize copyrighted material under open source licenses.
 *    Please see the file at https://www.icloud.com/applications/iclouddrive/2520Project39/en-us/acknowledgements.txt for licensing information.
 */
!function(e){var n="object"==typeof globalThis&&globalThis||"object"==typeof window&&window||"object"==typeof self&&self;try{var t=n.performance,o=n.Promise,r=n.MessageChannel,a=n.requestAnimationFrame;if(!(t&&t.mark&&o&&r&&a))return;var s=function(n){return t.mark("chunk-"+e+"-"+n)},f=!1,i=!1,c=o.resolve();s("exec-start");for(var u=0;u<5;u++)c=c.then();if(c.then((function(){s("exec-sync-end")})),"undefined"!=typeof window){var l=function(){f&&!i&&(s("after-paint"),i=!0)},p=new r;p.port1.onmessage=l,p.port2.postMessage(null),setTimeout(l),a((function(){f=!0,s("raf"),p.port2.postMessage(null),setTimeout(l)}))}}catch(e){n.__jsPerformanceMarksError=e}}("main");/*! For license information please see main.js.LICENSE.txt */
function __CW_loadBinaries(e,t,n,r,i,a,o){var s=e.URL||e.webkitURL;i=i||(e.__CW_BLOB_URLS={}),e.__CW_BLOBS_READY=!1;var c,l,u=["image/gif","image/png","image/jpeg","image/svg+xml"],d=3,h=!1,f=!1,p=(a||"cw")+"-css",g=a?"_"+a:"";t.match(/\/$/)||(t+="/");function m(n){if(!h){h=!0,_("__CW_SPRITE_START");var r=new XMLHttpRequest;r.open("GET",t+n,!0),r.withCredentials=o,r.responseType="arraybuffer",r.onload=function(){!function(t){try{if(t&&t instanceof ArrayBuffer)for(var n=new DataView(t),r=n.byteLength,a=0;a<r;){var o=n.getUint16(a),c=n.getUint8(a+2),l=n.getUint32(a+3),d=y(t,a+=7,a+l),f=new Blob([d],{type:u[c-1]});i[o]=s.createObjectURL(f),a+=l}h=!1,e.__CW_BLOBS_READY=!0,_("__CW_SPRITE_LOADED")}catch(p){v(p)}}(r.response)},r.onerror=function(e){--d>=0?(h=!1,m(n)):v(e)},r.send()}}function v(t){h=!1,e.__CW_BLOBS_READY=!1,_("__CW_SPRITE_ERROR",t)}function y(e,t,n){if(e.slice)return e.slice(t,n);var r=e.byteLength;if(t=t||0,n=n||r,0===r||t>=r||t>=n)return new ArrayBuffer(0);var i=Math.min(r-t,n-t),a=new ArrayBuffer(i);return new Uint8Array(a).set(new Uint8Array(e,t,i)),a}function _(e,t){var n=document.createEvent("Event");n.data=t,n.initEvent(e+g,!0,!0),document.dispatchEvent(n)}function b(e){var t=i[e],n=new RegExp("\\(blob_"+e+"\\)","gi");return function(e){e.target.onload=null,c++,r&&(r=r.replace(n,"("+JSON.stringify(t)+")"),c===l&&function(){var e=document.getElementById(p);e||((e=document.createElement("link")).rel="stylesheet",e.id=p),e.onload=function(){_("__CW_CSS_LOADED"),r=null,f=!1},e.href="data:text/css;base64,"+btoa(r),document.head.appendChild(e)}())}}document.addEventListener("__CW_SPRITE_LOADED"+g,(function(){if(!f)if(f=!0,_("__CW_CSS_START"),i&&(l=Object.keys(i).length),i&&l>0){c=0;var t=function(){var t="cw-img-container-r"+e.devicePixelRatio,n=document.getElementById(t);if(!n){(n=document.createElement("div")).setAttribute("aria-hidden",!0),n.id=t;var r=n.style;r.overflow="hidden",r.height="0",r.width="0",document.body.appendChild(n)}return n}();for(var n in i){var r=document.createElement("img");r.onload=b(n),r.src=i[n],t.appendChild(r)}}else f=!1})),function(e){for(var t=Math.ceil(e);t>=1&&!n[t-1];)t--;var r=n[t-1];r||(r=n[0]),m(r)}(e.devicePixelRatio)}!function(e,t,n){var r=e.__CW_IMG_URLS={};function i(t){var n=Math.ceil(e.devicePixelRatio);return 1===n?t:t.replace(/@\d{1}(?=x)/i,"@"+n)}var a=function(e){var a=n[e];Object.defineProperty(r,e,{get:function(){return[t,i(a)].join("/")}})};for(var o in n)a(o)}(this,"/applications/iclouddrive/2520Project39/en-us/",{}),__CW_loadBinaries(this,"/applications/iclouddrive/2520Project39/en-us/",["images@1x.bin","images@2x.bin"],'.cw-modal-dialog.cw-alert .alert-icon{background-image:url(blob_1)}\n.cw-modal-dialog.cw-alert .alert-icon.info::after{background-image:url(blob_2)}\n.cw-modal-dialog.cw-alert .alert-icon.error::after{background-image:url(blob_3)}\n.cw-modal-dialog.cw-alert .alert-icon.checked::after{background-image:url(blob_4)}\n.cw-modal-dialog.cw-alert .alert-icon.sharing::after{background-image:url(blob_5)}\ncw-checkbox input+label::before{background-image:url(blob_6)}\ncw-checkbox input:active+label::before{background-image:url(blob_7)}\ncw-checkbox input:checked+label::before{background-image:url(blob_8)}\ncw-checkbox input:active:checked+label::before{background-image:url(blob_9)}\ncw-checkbox input:indeterminate+label::before{background-image:url(blob_10)}\ncw-checkbox input:active:indeterminate+label::before{background-image:url(blob_11)}\ncw-checkbox.cw-ui-checkbox>input[type="checkbox"]+label::before{background-image:url(blob_12)}\ncw-checkbox.cw-ui-checkbox>input[type="checkbox"]:checked+label::before{background-image:url(blob_13)}\ncw-checkbox.cw-ui-checkbox>input[type="checkbox"]:indeterminate+label::before{background-image:url(blob_14)}\ncw-checkbox.cw-ui-checkbox>input[type="checkbox"]:active+label::before{background-image:url(blob_15)}\ncw-checkbox.cw-ui-checkbox>input[type="checkbox"]:active:checked+label::before{background-image:url(blob_16)}\ncw-checkbox.cw-ui-checkbox>input[type="checkbox"]:active:indeterminate+label::before{background-image:url(blob_17)}\n.cw-popover-view:not(.cw-autocomplete-menu) .cw-popover-arrow.cw-up-arrow{background-image:url(blob_18)}\n.cw-popover-view:not(.cw-autocomplete-menu) .cw-popover-arrow.cw-down-arrow{background-image:url(blob_19)}\n.cw-popover-view:not(.cw-autocomplete-menu) .cw-popover-arrow.cw-left-arrow{background-image:url(blob_20)}\n.cw-popover-view:not(.cw-autocomplete-menu) .cw-popover-arrow.cw-right-arrow{background-image:url(blob_21)}\n.cw-popover-view.cosk-account-menu-popover .cw-up-arrow{background-image:url(blob_23)}\n.cw-alert .alert-icon.ck-sharing-error-icon{background-image:url(blob_24)}\n.cw-alert .alert-icon.ck-sharing-icon{background-image:url(blob_25)}\n.ck-sharing-touch-style .add-participants-view footer .cw-button.native_mail::before,.ck-sharing-touch-style .add-participants-view footer .cw-button.web_mail::before{background-image:url(blob_26)}\n.ck-sharing-touch-style .add-participants-view footer .cw-button.copy_link::before{background-image:url(blob_27)}\n.ck-sharing-transports-view.cw-segmented-control .cw-button.email::before{background-image:url(blob_28)}\n.ck-sharing-transports-view.cw-segmented-control .cw-button.copy-link::before{background-image:url(blob_29)}\n.ck-sharing-transports-view.cw-segmented-control .cw-button.schoolwork::before{background-image:url(blob_30)}\n.cw-tokenizedtextfield-view.show-error-indicator::after{background-image:url(blob_31)}\n.drive-ui .folder.showcase{background-image:url(blob_39)}\n.app-folder{background-image:url(blob_39)}\n.drive-ui .folder.showcase.appear-as-shared{background-image:url(blob_40)}\n.drive-ui .folder.showcase.medium{background-image:url(blob_41)}\n.app-folder.medium{background-image:url(blob_41)}\n.drive-ui .folder.showcase.medium.appear-as-shared{background-image:url(blob_42)}\n.drive-ui .x-file.x-showcase.large .file-icon-container,.drive-ui .x-file.x-showcase.extra-large .file-icon-container{background-image:url(blob_43)}\n.drive-ui .x-file.x-showcase.extra-medium .file-icon-container{background-image:url(blob_43)}\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.image,.drive-ui .x-file.x-showcase.extra-large .file-icon-container .file-icon.image{background-image:url(blob_44)}\n.drive-ui .x-file.x-showcase.extra-medium .file-icon-container .file-icon.image{background-image:url(blob_44)}\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.audio,.drive-ui .x-file.x-showcase.extra-large .file-icon-container .file-icon.audio{background-image:url(blob_45)}\n.drive-ui .x-file.x-showcase.extra-medium .file-icon-container .file-icon.audio{background-image:url(blob_45)}\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.video,.drive-ui .x-file.x-showcase.extra-large .file-icon-container .file-icon.video{background-image:url(blob_46)}\n.drive-ui .x-file.x-showcase.extra-medium .file-icon-container .file-icon.video{background-image:url(blob_46)}\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.vcard,.drive-ui .x-file.x-showcase.extra-large .file-icon-container .file-icon.vcard{background-image:url(blob_47)}\n.drive-ui .x-file.x-showcase.extra-medium .file-icon-container .file-icon.vcard{background-image:url(blob_47)}\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.msword,.drive-ui .x-file.x-showcase.extra-large .file-icon-container .file-icon.msword{background-image:url(blob_48)}\n.drive-ui .x-file.x-showcase.extra-medium .file-icon-container .file-icon.msword{background-image:url(blob_48)}\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.msexcel,.drive-ui .x-file.x-showcase.extra-large .file-icon-container .file-icon.msexcel{background-image:url(blob_49)}\n.drive-ui .x-file.x-showcase.extra-medium .file-icon-container .file-icon.msexcel{background-image:url(blob_49)}\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.msppoint,.drive-ui .x-file.x-showcase.extra-large .file-icon-container .file-icon.msppoint{background-image:url(blob_50)}\n.drive-ui .x-file.x-showcase.extra-medium .file-icon-container .file-icon.msppoint{background-image:url(blob_50)}\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.rtf,.drive-ui .x-file.x-showcase.extra-large .file-icon-container .file-icon.rtf{background-image:url(blob_51)}\n.drive-ui .x-file.x-showcase.extra-medium .file-icon-container .file-icon.rtf{background-image:url(blob_51)}\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.txt,.drive-ui .x-file.x-showcase.extra-large .file-icon-container .file-icon.txt{background-image:url(blob_52)}\n.drive-ui .x-file.x-showcase.extra-medium .file-icon-container .file-icon.txt{background-image:url(blob_52)}\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.email,.drive-ui .x-file.x-showcase.extra-large .file-icon-container .file-icon.email{background-image:url(blob_53)}\n.drive-ui .x-file.x-showcase.extra-medium .file-icon-container .file-icon.email{background-image:url(blob_53)}\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.cert,.drive-ui .x-file.x-showcase.extra-large .file-icon-container .file-icon.cert{background-image:url(blob_54)}\n.drive-ui .x-file.x-showcase.extra-medium .file-icon-container .file-icon.cert{background-image:url(blob_54)}\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.cal,.drive-ui .x-file.x-showcase.extra-large .file-icon-container .file-icon.cal{background-image:url(blob_55)}\n.drive-ui .x-file.x-showcase.extra-medium .file-icon-container .file-icon.cal{background-image:url(blob_55)}\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.prov-profile,.drive-ui .x-file.x-showcase.extra-large .file-icon-container .file-icon.prov-profile{background-image:url(blob_56)}\n.drive-ui .x-file.x-showcase.extra-medium .file-icon-container .file-icon.prov-profile{background-image:url(blob_56)}\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.vpn,.drive-ui .x-file.x-showcase.extra-large .file-icon-container .file-icon.vpn{background-image:url(blob_57)}\n.drive-ui .x-file.x-showcase.extra-medium .file-icon-container .file-icon.vpn{background-image:url(blob_57)}\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.csv,.drive-ui .x-file.x-showcase.extra-large .file-icon-container .file-icon.csv{background-image:url(blob_58)}\n.drive-ui .x-file.x-showcase.extra-medium .file-icon-container .file-icon.csv{background-image:url(blob_58)}\n.drive-ui .x-file.x-showcase.medium .shared-folder-adornment{background-image:url(blob_59)}\n.drive-ui .x-file.x-showcase.medium .file-icon-container{background-image:url(blob_60)}\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.image{background-image:url(blob_61)}\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.audio{background-image:url(blob_62)}\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.video{background-image:url(blob_63)}\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.vcard{background-image:url(blob_64)}\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.msword{background-image:url(blob_65)}\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.msexcel{background-image:url(blob_66)}\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.msppoint{background-image:url(blob_67)}\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.rtf{background-image:url(blob_68)}\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.txt{background-image:url(blob_69)}\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.email{background-image:url(blob_70)}\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.cert{background-image:url(blob_71)}\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.cal{background-image:url(blob_72)}\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.prov-profile{background-image:url(blob_73)}\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.vpn{background-image:url(blob_74)}\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.csv{background-image:url(blob_75)}\n.drive-ui .x-file.x-showcase.small .file-icon-container{background-image:url(blob_76)}\n.drive-ui.files-grid-info-popover .cw-popover-view>.cw-popover-arrow.cw-up-arrow{background-image:url(blob_77)}\n.drive-ui.files-grid-info-popover .cw-popover-view>.cw-popover-arrow.cw-down-arrow{background-image:url(blob_78)}\n.drive-ui.files-grid-info-popover .cw-popover-view>.cw-popover-arrow.cw-left-arrow{background-image:url(blob_79)}\n.drive-ui.files-grid-info-popover .cw-popover-view>.cw-popover-arrow.cw-right-arrow{background-image:url(blob_80)}\n.popover-view .cw-popover-arrow.cw-up-arrow{background-image:url(blob_82)}\n.popover-view .cw-popover-arrow.cw-down-arrow{background-image:url(blob_83)}\n.popover-view .cw-popover-arrow.cw-right-arrow{background-image:url(blob_84)}\n',void 0,void 0,!1),function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/applications/iclouddrive/2520Project39/en-us/",n(n.s=837)}(Array(837).concat([function(e,t,n){n(1570),n(1557),n(1571),n(1566),n(1556),n(1567),n(1562),n(1555),n(1560),n(1554),n(1572),n(1573),n(838),n(1302),n(1303),e.exports=n(1574)},function(e,t,n){"use strict";n.r(t),n(839),n(936),n(937),n(938),n(939),n(940),n(941),n(942),n(943),n(944),n(945),n(946),n(947),n(948),n(949),n(950),n(969),n(971),n(975),n(978),n(980),n(981),n(982),n(983),n(985),n(986),n(990),n(991),n(996),n(998),n(999),n(1e3),n(1001),n(1002),n(1007),n(1009),n(1011),n(1012),n(1013),n(1024),n(1026),n(1029),n(1031),n(1032),n(1033),n(932),n(1034),n(1035),n(1043),n(1045),n(1046),n(1047),n(1048),n(1049),n(1051),n(1052),n(1053),n(1054),n(1055),n(1057),n(1058),n(1059),n(1060),n(1061),n(1062),n(1063),n(1064),n(1068),n(1069),n(1071),n(1073),n(1074),n(1075),n(1076),n(1077),n(1079),n(1081),n(1083),n(1085),n(1087),n(1088),n(1090),n(1091),n(1092),n(1093),n(1094),n(1095),n(1096),n(1097),n(1099),n(1100),n(1101),n(1102),n(1103),n(1104),n(1105),n(1106),n(1107),n(1108),n(1110),n(1111),n(1112),n(1113),n(1137),n(1138),n(1139),n(1140),n(1141),n(1143),n(1144),n(1145),n(1147),n(1148),n(1149),n(1150),n(1151),n(1152),n(1153),n(1154),n(1155),n(1156),n(1164),n(1165),n(1167),n(1168),n(1169),n(1170),n(1171),n(1173),n(1174),n(1176),n(1179),n(1180),n(1181),n(1182),n(1186),n(1187),n(1190),n(1191),n(1192),n(1193),n(1195),n(1196),n(1197),n(1198),n(1199),n(1201),n(1204),n(1207),n(1210),n(1211),n(1212),n(1213),n(1214),n(1215),n(1216),n(1217),n(1218),n(1219),n(1220),n(1221),n(1222),n(1232),n(1233),n(1234),n(1235),n(1236),n(1237),n(1238),n(1239),n(1240),n(1241),n(1242),n(1243),n(1244),n(1247),n(1248),n(1249),n(1250),n(1251),n(1252),n(1253),n(1254),n(1255),n(1257),n(1258),n(1259),n(1261),n(1262),n(1263),n(1264),n(1265),n(1266),n(1267),n(1268),n(1269),n(1270),n(1273),n(1275),n(1279),n(1280),n(1284),n(1285),n(1290),n(1291),n(1292),n(1293),n(1294),n(1295),n(1296),n(1297),n(1298),n(1299),n(1300),n(1301)},function(e,t,n){"use strict";n(840),n(929),n(931),n(932),n(935)},function(e,t,n){"use strict";var r=n(841),i=n(842),a=n(847),o=n(853),s=n(875),c=n(845),l=n(865),u=n(846),d=n(877),h=n(863),f=n(885),p=n(851),g=n(857),m=n(907),v=n(850),y=n(910),_=n(912),b=n(896),w=n(914),S=n(905),E=n(844),I=n(883),C=n(911),O=n(849),T=n(886),A=n(916),N=n(873),M=n(892),D=n(893),R=n(879),L=n(872),k=n(917),x=n(918),F=n(920),P=n(921),j=n(890),U=n(922).forEach,B=M("hidden"),V="Symbol",W="prototype",z=j.set,H=j.getterFor(V),G=Object[W],$=i.Symbol,K=$&&$[W],Q=i.RangeError,q=i.TypeError,Z=i.QObject,Y=E.f,X=I.f,J=w.f,ee=O.f,te=o([].push),ne=N("symbols"),re=N("op-symbols"),ie=N("wks"),ae=!Z||!Z[W]||!Z[W].findChild,oe=function(e,t,n){var r=Y(G,t);r&&delete G[t],X(e,t,n),r&&e!==G&&X(G,t,r)},se=c&&u((function(){return 7!==y(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?oe:X,ce=function(e,t){var n=ne[e]=y(K);return z(n,{type:V,tag:e,description:t}),c||(n.description=t),n},le=function(e,t,n){e===G&&le(re,t,n),f(e);var r=g(t);return f(n),d(ne,r)?(n.enumerable?(d(e,B)&&e[B][r]&&(e[B][r]=!1),n=y(n,{enumerable:v(0,!1)})):(d(e,B)||X(e,B,v(1,y(null))),e[B][r]=!0),se(e,r,n)):X(e,r,n)},ue=function(e,t){f(e);var n=p(t),r=_(n).concat(pe(n));return U(r,(function(t){c&&!a(de,n,t)||le(e,t,n[t])})),e},de=function(e){var t=g(e),n=a(ee,this,t);return!(this===G&&d(ne,t)&&!d(re,t))&&(!(n||!d(this,t)||!d(ne,t)||d(this,B)&&this[B][t])||n)},he=function(e,t){var n=p(e),r=g(t);if(n!==G||!d(ne,r)||d(re,r)){var i=Y(n,r);return!i||!d(ne,r)||d(n,B)&&n[B][r]||(i.enumerable=!0),i}},fe=function(e){var t=J(p(e)),n=[];return U(t,(function(e){d(ne,e)||d(D,e)||te(n,e)})),n},pe=function(e){var t=e===G,n=J(t?re:p(e)),r=[];return U(n,(function(e){!d(ne,e)||t&&!d(G,e)||te(r,ne[e])})),r};l||($=function(){if(h(K,this))throw new q("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?m(arguments[0]):void 0,t=R(e),n=function(e){var r=void 0===this?i:this;r===G&&a(n,re,e),d(r,B)&&d(r[B],t)&&(r[B][t]=!1);var o=v(1,e);try{se(r,t,o)}catch(s){if(!(s instanceof Q))throw s;oe(r,t,o)}};return c&&ae&&se(G,t,{configurable:!0,set:n}),ce(t,e)},T(K=$[W],"toString",(function(){return H(this).tag})),T($,"withoutSetter",(function(e){return ce(R(e),e)})),O.f=de,I.f=le,C.f=ue,E.f=he,b.f=w.f=fe,S.f=pe,k.f=function(e){return ce(L(e),e)},c&&(A(K,"description",{configurable:!0,get:function(){return H(this).description}}),s||T(G,"propertyIsEnumerable",de,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!l,sham:!l},{Symbol:$}),U(_(ie),(function(e){x(e)})),r({target:V,stat:!0,forced:!l},{useSetter:function(){ae=!0},useSimple:function(){ae=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!c},{create:function(e,t){return void 0===t?y(e):ue(y(e),t)},defineProperty:le,defineProperties:ue,getOwnPropertyDescriptor:he}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:fe}),F(),P($,V),D[B]=!0},function(e,t,n){"use strict";var r=n(842),i=n(844).f,a=n(882),o=n(886),s=n(876),c=n(894),l=n(906);e.exports=function(e,t){var n,u,d,h,f,p=e.target,g=e.global,m=e.stat;if(n=g?r:m?r[p]||s(p,{}):r[p]&&r[p].prototype)for(u in t){if(h=t[u],d=e.dontCallGetSet?(f=i(n,u))&&f.value:n[u],!l(g?u:p+(m?".":"#")+u,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;c(h,d)}(e.sham||d&&d.sham)&&a(h,"sham",!0),o(n,u,h,e)}}},function(e,t,n){"use strict";(function(t){var n=function(e){return e&&e.Math===Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()}).call(this,n(843))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(845),i=n(847),a=n(849),o=n(850),s=n(851),c=n(857),l=n(877),u=n(880),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=c(t),u)try{return d(e,t)}catch(n){}if(l(e,t))return o(!i(a.f,e,t),e[t])}},function(e,t,n){"use strict";var r=n(846);e.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){"use strict";e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){"use strict";var r=n(848),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},function(e,t,n){"use strict";var r=n(846);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!r.call({1:2},1);t.f=a?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t,n){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){"use strict";var r=n(852),i=n(855);e.exports=function(e){return r(i(e))}},function(e,t,n){"use strict";var r=n(853),i=n(846),a=n(854),o=Object,s=r("".split);e.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"===a(e)?s(e,""):o(e)}:o},function(e,t,n){"use strict";var r=n(848),i=Function.prototype,a=i.call,o=r&&i.bind.bind(a,a);e.exports=r?o:function(e){return function(){return a.apply(e,arguments)}}},function(e,t,n){"use strict";var r=n(853),i=r({}.toString),a=r("".slice);e.exports=function(e){return a(i(e),8,-1)}},function(e,t,n){"use strict";var r=n(856),i=TypeError;e.exports=function(e){if(r(e))throw new i("Can't call method on "+e);return e}},function(e,t,n){"use strict";e.exports=function(e){return null===e||void 0===e}},function(e,t,n){"use strict";var r=n(858),i=n(861);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},function(e,t,n){"use strict";var r=n(847),i=n(859),a=n(861),o=n(868),s=n(871),c=n(872),l=TypeError,u=c("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var n,c=o(e,u);if(c){if(void 0===t&&(t="default"),n=r(c,e,t),!i(n)||a(n))return n;throw new l("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},function(e,t,n){"use strict";var r=n(860);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},function(e,t,n){"use strict";var r="object"==typeof document&&document.all;e.exports="undefined"==typeof r&&void 0!==r?function(e){return"function"==typeof e||e===r}:function(e){return"function"==typeof e}},function(e,t,n){"use strict";var r=n(862),i=n(860),a=n(863),o=n(864),s=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&a(t.prototype,s(e))}},function(e,t,n){"use strict";var r=n(842),i=n(860);e.exports=function(e,t){return arguments.length<2?(n=r[e],i(n)?n:void 0):r[e]&&r[e][t];var n}},function(e,t,n){"use strict";var r=n(853);e.exports=r({}.isPrototypeOf)},function(e,t,n){"use strict";var r=n(865);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){"use strict";var r=n(866),i=n(846),a=n(842).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(e,t,n){"use strict";var r,i,a=n(842),o=n(867),s=a.process,c=a.Deno,l=s&&s.versions||c&&c.version,u=l&&l.v8;u&&(i=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},function(e,t,n){"use strict";var r=n(842).navigator,i=r&&r.userAgent;e.exports=i?String(i):""},function(e,t,n){"use strict";var r=n(869),i=n(856);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},function(e,t,n){"use strict";var r=n(860),i=n(870),a=TypeError;e.exports=function(e){if(r(e))return e;throw new a(i(e)+" is not a function")}},function(e,t,n){"use strict";var r=String;e.exports=function(e){try{return r(e)}catch(t){return"Object"}}},function(e,t,n){"use strict";var r=n(847),i=n(860),a=n(859),o=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&i(n=e.toString)&&!a(s=r(n,e)))return s;if(i(n=e.valueOf)&&!a(s=r(n,e)))return s;if("string"!==t&&i(n=e.toString)&&!a(s=r(n,e)))return s;throw new o("Can't convert object to primitive value")}},function(e,t,n){"use strict";var r=n(842),i=n(873),a=n(877),o=n(879),s=n(865),c=n(864),l=r.Symbol,u=i("wks"),d=c?l.for||l:l&&l.withoutSetter||o;e.exports=function(e){return a(u,e)||(u[e]=s&&a(l,e)?l[e]:d("Symbol."+e)),u[e]}},function(e,t,n){"use strict";var r=n(874);e.exports=function(e,t){return r[e]||(r[e]=t||{})}},function(e,t,n){"use strict";var r=n(875),i=n(842),a=n(876),o="__core-js_shared__",s=e.exports=i[o]||a(o,{});(s.versions||(s.versions=[])).push({version:"3.38.1",mode:r?"pure":"global",copyright:"\xa9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"})},function(e,t,n){"use strict";e.exports=!1},function(e,t,n){"use strict";var r=n(842),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},function(e,t,n){"use strict";var r=n(853),i=n(878),a=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},function(e,t,n){"use strict";var r=n(855),i=Object;e.exports=function(e){return i(r(e))}},function(e,t,n){"use strict";var r=n(853),i=0,a=Math.random(),o=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+a,36)}},function(e,t,n){"use strict";var r=n(845),i=n(846),a=n(881);e.exports=!r&&!i((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){"use strict";var r=n(842),i=n(859),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},function(e,t,n){"use strict";var r=n(845),i=n(883),a=n(850);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){"use strict";var r=n(845),i=n(880),a=n(884),o=n(885),s=n(857),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",f="writable";t.f=r?a?function(e,t,n){if(o(e),t=s(t),o(n),"function"===typeof e&&"prototype"===t&&"value"in n&&f in n&&!n[f]){var r=u(e,t);r&&r[f]&&(e[t]=n.value,n={configurable:h in n?n[h]:r[h],enumerable:d in n?n[d]:r[d],writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(o(e),t=s(t),o(n),i)try{return l(e,t,n)}catch(r){}if("get"in n||"set"in n)throw new c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";var r=n(845),i=n(846);e.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(e,t,n){"use strict";var r=n(859),i=String,a=TypeError;e.exports=function(e){if(r(e))return e;throw new a(i(e)+" is not an object")}},function(e,t,n){"use strict";var r=n(860),i=n(883),a=n(887),o=n(876);e.exports=function(e,t,n,s){s||(s={});var c=s.enumerable,l=void 0!==s.name?s.name:t;if(r(n)&&a(n,l,s),s.global)c?e[t]=n:o(t,n);else{try{s.unsafe?e[t]&&(c=!0):delete e[t]}catch(u){}c?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},function(e,t,n){"use strict";var r=n(853),i=n(846),a=n(860),o=n(877),s=n(845),c=n(888).CONFIGURABLE,l=n(889),u=n(890),d=u.enforce,h=u.get,f=String,p=Object.defineProperty,g=r("".slice),m=r("".replace),v=r([].join),y=s&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),_=String(String).split("String"),b=e.exports=function(e,t,n){"Symbol("===g(f(t),0,7)&&(t="["+m(f(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!o(e,"name")||c&&e.name!==t)&&(s?p(e,"name",{value:t,configurable:!0}):e.name=t),y&&n&&o(n,"arity")&&e.length!==n.arity&&p(e,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?s&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var r=d(e);return o(r,"source")||(r.source=v(_,"string"==typeof t?t:"")),e};Function.prototype.toString=b((function(){return a(this)&&h(this).source||l(this)}),"toString")},function(e,t,n){"use strict";var r=n(845),i=n(877),a=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,s=i(a,"name"),c=s&&"something"===function(){}.name,l=s&&(!r||r&&o(a,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:l}},function(e,t,n){"use strict";var r=n(853),i=n(860),a=n(874),o=r(Function.toString);i(a.inspectSource)||(a.inspectSource=function(e){return o(e)}),e.exports=a.inspectSource},function(e,t,n){"use strict";var r,i,a,o=n(891),s=n(842),c=n(859),l=n(882),u=n(877),d=n(874),h=n(892),f=n(893),p="Object already initialized",g=s.TypeError,m=s.WeakMap;if(o||d.state){var v=d.state||(d.state=new m);v.get=v.get,v.has=v.has,v.set=v.set,r=function(e,t){if(v.has(e))throw new g(p);return t.facade=e,v.set(e,t),t},i=function(e){return v.get(e)||{}},a=function(e){return v.has(e)}}else{var y=h("state");f[y]=!0,r=function(e,t){if(u(e,y))throw new g(p);return t.facade=e,l(e,y,t),t},i=function(e){return u(e,y)?e[y]:{}},a=function(e){return u(e,y)}}e.exports={set:r,get:i,has:a,enforce:function(e){return a(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw new g("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){"use strict";var r=n(842),i=n(860),a=r.WeakMap;e.exports=i(a)&&/native code/.test(String(a))},function(e,t,n){"use strict";var r=n(873),i=n(879),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";var r=n(877),i=n(895),a=n(844),o=n(883);e.exports=function(e,t,n){for(var s=i(t),c=o.f,l=a.f,u=0;u<s.length;u++){var d=s[u];r(e,d)||n&&r(n,d)||c(e,d,l(t,d))}}},function(e,t,n){"use strict";var r=n(862),i=n(853),a=n(896),o=n(905),s=n(885),c=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=a.f(s(e)),n=o.f;return n?c(t,n(e)):t}},function(e,t,n){"use strict";var r=n(897),i=n(904).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){"use strict";var r=n(853),i=n(877),a=n(851),o=n(898).indexOf,s=n(893),c=r([].push);e.exports=function(e,t){var n,r=a(e),l=0,u=[];for(n in r)!i(s,n)&&i(r,n)&&c(u,n);for(;t.length>l;)i(r,n=t[l++])&&(~o(u,n)||c(u,n));return u}},function(e,t,n){"use strict";var r=n(851),i=n(899),a=n(902),o=function(e){return function(t,n,o){var s=r(t),c=a(s);if(0===c)return!e&&-1;var l,u=i(o,c);if(e&&n!==n){for(;c>u;)if((l=s[u++])!==l)return!0}else for(;c>u;u++)if((e||u in s)&&s[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},function(e,t,n){"use strict";var r=n(900),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},function(e,t,n){"use strict";var r=n(901);e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},function(e,t,n){"use strict";var r=Math.ceil,i=Math.floor;e.exports=Math.trunc||function(e){var t=+e;return(t>0?i:r)(t)}},function(e,t,n){"use strict";var r=n(903);e.exports=function(e){return r(e.length)}},function(e,t,n){"use strict";var r=n(900),i=Math.min;e.exports=function(e){var t=r(e);return t>0?i(t,9007199254740991):0}},function(e,t,n){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){"use strict";t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var r=n(846),i=n(860),a=/#|\.prototype\./,o=function(e,t){var n=c[s(e)];return n===u||n!==l&&(i(t)?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},c=o.data={},l=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},function(e,t,n){"use strict";var r=n(908),i=String;e.exports=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},function(e,t,n){"use strict";var r=n(909),i=n(860),a=n(854),o=n(872)("toStringTag"),s=Object,c="Arguments"===a(function(){return arguments}());e.exports=r?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=s(e),o))?n:c?a(t):"Object"===(r=a(t))&&i(t.callee)?"Arguments":r}},function(e,t,n){"use strict";var r={};r[n(872)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){"use strict";var r,i=n(885),a=n(911),o=n(904),s=n(893),c=n(913),l=n(881),u=n(892),d="prototype",h="script",f=u("IE_PROTO"),p=function(){},g=function(e){return"<"+h+">"+e+"</"+h+">"},m=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}v="undefined"!=typeof document?document.domain&&r?m(r):function(){var e,t=l("iframe"),n="java"+h+":";return t.style.display="none",c.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(g("document.F=Object")),e.close(),e.F}():m(r);for(var e=o.length;e--;)delete v[d][o[e]];return v()};s[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(p[d]=i(e),n=new p,p[d]=null,n[f]=e):n=v(),void 0===t?n:a.f(n,t)}},function(e,t,n){"use strict";var r=n(845),i=n(884),a=n(883),o=n(885),s=n(851),c=n(912);t.f=r&&!i?Object.defineProperties:function(e,t){o(e);for(var n,r=s(t),i=c(t),l=i.length,u=0;l>u;)a.f(e,n=i[u++],r[n]);return e}},function(e,t,n){"use strict";var r=n(897),i=n(904);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){"use strict";var r=n(862);e.exports=r("document","documentElement")},function(e,t,n){"use strict";var r=n(854),i=n(851),a=n(896).f,o=n(915),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"===r(e)?function(e){try{return a(e)}catch(t){return o(s)}}(e):a(i(e))}},function(e,t,n){"use strict";var r=n(853);e.exports=r([].slice)},function(e,t,n){"use strict";var r=n(887),i=n(883);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},function(e,t,n){"use strict";var r=n(872);t.f=r},function(e,t,n){"use strict";var r=n(919),i=n(877),a=n(917),o=n(883).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},function(e,t,n){"use strict";var r=n(842);e.exports=r},function(e,t,n){"use strict";var r=n(847),i=n(862),a=n(872),o=n(886);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,s=a("toPrimitive");t&&!t[s]&&o(t,s,(function(e){return r(n,this)}),{arity:1})}},function(e,t,n){"use strict";var r=n(883).f,i=n(877),a=n(872)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t,n){"use strict";var r=n(923),i=n(853),a=n(852),o=n(878),s=n(902),c=n(925),l=i([].push),u=function(e){var t=1===e,n=2===e,i=3===e,u=4===e,d=6===e,h=7===e,f=5===e||d;return function(p,g,m,v){for(var y,_,b=o(p),w=a(b),S=s(w),E=r(g,m),I=0,C=v||c,O=t?C(p,S):n||h?C(p,0):void 0;S>I;I++)if((f||I in w)&&(_=E(y=w[I],I,b),e))if(t)O[I]=_;else if(_)switch(e){case 3:return!0;case 5:return y;case 6:return I;case 2:l(O,y)}else switch(e){case 4:return!1;case 7:l(O,y)}return d?-1:i||u?u:O}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},function(e,t,n){"use strict";var r=n(924),i=n(869),a=n(848),o=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:a?o(e,t):function(){return e.apply(t,arguments)}}},function(e,t,n){"use strict";var r=n(854),i=n(853);e.exports=function(e){if("Function"===r(e))return i(e)}},function(e,t,n){"use strict";var r=n(926);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},function(e,t,n){"use strict";var r=n(927),i=n(928),a=n(859),o=n(872)("species"),s=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(i(t)&&(t===s||r(t.prototype))||a(t)&&null===(t=t[o]))&&(t=void 0)),void 0===t?s:t}},function(e,t,n){"use strict";var r=n(854);e.exports=Array.isArray||function(e){return"Array"===r(e)}},function(e,t,n){"use strict";var r=n(853),i=n(846),a=n(860),o=n(908),s=n(862),c=n(889),l=function(){},u=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,h=r(d.exec),f=!d.test(l),p=function(e){if(!a(e))return!1;try{return u(l,[],e),!0}catch(t){return!1}},g=function(e){if(!a(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!h(d,c(e))}catch(t){return!0}};g.sham=!0,e.exports=!u||i((function(){var e;return p(p.call)||!p(Object)||!p((function(){e=!0}))||e}))?g:p},function(e,t,n){"use strict";var r=n(841),i=n(862),a=n(877),o=n(907),s=n(873),c=n(930),l=s("string-to-symbol-registry"),u=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(e){var t=o(e);if(a(l,t))return l[t];var n=i("Symbol")(t);return l[t]=n,u[n]=t,n}})},function(e,t,n){"use strict";var r=n(865);e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},function(e,t,n){"use strict";var r=n(841),i=n(877),a=n(861),o=n(870),s=n(873),c=n(930),l=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(e){if(!a(e))throw new TypeError(o(e)+" is not a symbol");if(i(l,e))return l[e]}})},function(e,t,n){"use strict";var r=n(841),i=n(862),a=n(933),o=n(847),s=n(853),c=n(846),l=n(860),u=n(861),d=n(915),h=n(934),f=n(865),p=String,g=i("JSON","stringify"),m=s(/./.exec),v=s("".charAt),y=s("".charCodeAt),_=s("".replace),b=s(1..toString),w=/[\uD800-\uDFFF]/g,S=/^[\uD800-\uDBFF]$/,E=/^[\uDC00-\uDFFF]$/,I=!f||c((function(){var e=i("Symbol")("stringify detection");return"[null]"!==g([e])||"{}"!==g({a:e})||"{}"!==g(Object(e))})),C=c((function(){return'"\\udf06\\ud834"'!==g("\udf06\ud834")||'"\\udead"'!==g("\udead")})),O=function(e,t){var n=d(arguments),r=h(t);if(l(r)||void 0!==e&&!u(e))return n[1]=function(e,t){if(l(r)&&(t=o(r,this,p(e),t)),!u(t))return t},a(g,null,n)},T=function(e,t,n){var r=v(n,t-1),i=v(n,t+1);return m(S,e)&&!m(E,i)||m(E,e)&&!m(S,r)?"\\u"+b(y(e,0),16):e};g&&r({target:"JSON",stat:!0,arity:3,forced:I||C},{stringify:function(e,t,n){var r=d(arguments),i=a(I?O:g,null,r);return C&&"string"==typeof i?_(i,w,T):i}})},function(e,t,n){"use strict";var r=n(848),i=Function.prototype,a=i.apply,o=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?o.bind(a):function(){return o.apply(a,arguments)})},function(e,t,n){"use strict";var r=n(853),i=n(927),a=n(860),o=n(854),s=n(907),c=r([].push);e.exports=function(e){if(a(e))return e;if(i(e)){for(var t=e.length,n=[],r=0;r<t;r++){var l=e[r];"string"==typeof l?c(n,l):"number"!=typeof l&&"Number"!==o(l)&&"String"!==o(l)||c(n,s(l))}var u=n.length,d=!0;return function(e,t){if(d)return d=!1,t;if(i(this))return t;for(var r=0;r<u;r++)if(n[r]===e)return t}}}},function(e,t,n){"use strict";var r=n(841),i=n(865),a=n(846),o=n(905),s=n(878);r({target:"Object",stat:!0,forced:!i||a((function(){o.f(1)}))},{getOwnPropertySymbols:function(e){var t=o.f;return t?t(s(e)):[]}})},function(e,t,n){"use strict";var r=n(841),i=n(845),a=n(842),o=n(853),s=n(877),c=n(860),l=n(863),u=n(907),d=n(916),h=n(894),f=a.Symbol,p=f&&f.prototype;if(i&&c(f)&&(!("description"in p)||void 0!==f().description)){var g={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),t=l(p,this)?new f(e):void 0===e?f():f(e);return""===e&&(g[t]=!0),t};h(m,f),m.prototype=p,p.constructor=m;var v="Symbol(description detection)"===String(f("description detection")),y=o(p.valueOf),_=o(p.toString),b=/^Symbol\((.*)\)[^)]+$/,w=o("".replace),S=o("".slice);d(p,"description",{configurable:!0,get:function(){var e=y(this);if(s(g,e))return"";var t=_(e),n=v?S(t,7,-1):w(t,b,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:m})}},function(e,t,n){"use strict";n(918)("asyncIterator")},function(e,t,n){"use strict";n(918)("hasInstance")},function(e,t,n){"use strict";n(918)("isConcatSpreadable")},function(e,t,n){"use strict";n(918)("iterator")},function(e,t,n){"use strict";n(918)("match")},function(e,t,n){"use strict";n(918)("matchAll")},function(e,t,n){"use strict";n(918)("replace")},function(e,t,n){"use strict";n(918)("search")},function(e,t,n){"use strict";n(918)("species")},function(e,t,n){"use strict";n(918)("split")},function(e,t,n){"use strict";var r=n(918),i=n(920);r("toPrimitive"),i()},function(e,t,n){"use strict";var r=n(862),i=n(918),a=n(921);i("toStringTag"),a(r("Symbol"),"Symbol")},function(e,t,n){"use strict";n(918)("unscopables")},function(e,t,n){"use strict";n(951)},function(e,t,n){"use strict";var r=n(841),i=n(863),a=n(952),o=n(954),s=n(894),c=n(910),l=n(882),u=n(850),d=n(958),h=n(959),f=n(962),p=n(968),g=n(872)("toStringTag"),m=Error,v=[].push,y=function(e,t){var n,r=i(_,this);o?n=o(new m,r?a(this):_):(n=r?this:c(_),l(n,g,"Error")),void 0!==t&&l(n,"message",p(t)),h(n,y,n.stack,1),arguments.length>2&&d(n,arguments[2]);var s=[];return f(e,v,{that:s}),l(n,"errors",s),n};o?o(y,m):s(y,m,{name:!0});var _=y.prototype=c(m.prototype,{constructor:u(1,y),message:u(1,""),name:u(1,"AggregateError")});r({global:!0,constructor:!0,arity:2},{AggregateError:y})},function(e,t,n){"use strict";var r=n(877),i=n(860),a=n(878),o=n(892),s=n(953),c=o("IE_PROTO"),l=Object,u=l.prototype;e.exports=s?l.getPrototypeOf:function(e){var t=a(e);if(r(t,c))return t[c];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof l?u:null}},function(e,t,n){"use strict";var r=n(846);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){"use strict";var r=n(955),i=n(859),a=n(855),o=n(956);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(s){}return function(n,r){return a(n),o(r),i(n)?(t?e(n,r):n.__proto__=r,n):n}}():void 0)},function(e,t,n){"use strict";var r=n(853),i=n(869);e.exports=function(e,t,n){try{return r(i(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(a){}}},function(e,t,n){"use strict";var r=n(957),i=String,a=TypeError;e.exports=function(e){if(r(e))return e;throw new a("Can't set "+i(e)+" as a prototype")}},function(e,t,n){"use strict";var r=n(859);e.exports=function(e){return r(e)||null===e}},function(e,t,n){"use strict";var r=n(859),i=n(882);e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},function(e,t,n){"use strict";var r=n(882),i=n(960),a=n(961),o=Error.captureStackTrace;e.exports=function(e,t,n,s){a&&(o?o(e,t):r(e,"stack",i(n,s)))}},function(e,t,n){"use strict";var r=n(853),i=Error,a=r("".replace),o=String(new i("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(o);e.exports=function(e,t){if(c&&"string"==typeof e&&!i.prepareStackTrace)for(;t--;)e=a(e,s,"");return e}},function(e,t,n){"use strict";var r=n(846),i=n(850);e.exports=!r((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},function(e,t,n){"use strict";var r=n(923),i=n(847),a=n(885),o=n(870),s=n(963),c=n(902),l=n(863),u=n(965),d=n(966),h=n(967),f=TypeError,p=function(e,t){this.stopped=e,this.result=t},g=p.prototype;e.exports=function(e,t,n){var m,v,y,_,b,w,S,E=n&&n.that,I=!(!n||!n.AS_ENTRIES),C=!(!n||!n.IS_RECORD),O=!(!n||!n.IS_ITERATOR),T=!(!n||!n.INTERRUPTED),A=r(t,E),N=function(e){return m&&h(m,"normal",e),new p(!0,e)},M=function(e){return I?(a(e),T?A(e[0],e[1],N):A(e[0],e[1])):T?A(e,N):A(e)};if(C)m=e.iterator;else if(O)m=e;else{if(!(v=d(e)))throw new f(o(e)+" is not iterable");if(s(v)){for(y=0,_=c(e);_>y;y++)if((b=M(e[y]))&&l(g,b))return b;return new p(!1)}m=u(e,v)}for(w=C?e.next:m.next;!(S=i(w,m)).done;){try{b=M(S.value)}catch(D){h(m,"throw",D)}if("object"==typeof b&&b&&l(g,b))return b}return new p(!1)}},function(e,t,n){"use strict";var r=n(872),i=n(964),a=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";var r=n(847),i=n(869),a=n(885),o=n(870),s=n(966),c=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(i(n))return a(r(n,e));throw new c(o(e)+" is not iterable")}},function(e,t,n){"use strict";var r=n(908),i=n(868),a=n(856),o=n(964),s=n(872)("iterator");e.exports=function(e){if(!a(e))return i(e,s)||i(e,"@@iterator")||o[r(e)]}},function(e,t,n){"use strict";var r=n(847),i=n(885),a=n(868);e.exports=function(e,t,n){var o,s;i(e);try{if(!(o=a(e,"return"))){if("throw"===t)throw n;return n}o=r(o,e)}catch(c){s=!0,o=c}if("throw"===t)throw n;if(s)throw o;return i(o),n}},function(e,t,n){"use strict";var r=n(907);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},function(e,t,n){"use strict";var r=n(841),i=n(878),a=n(902),o=n(900),s=n(970);r({target:"Array",proto:!0},{at:function(e){var t=i(this),n=a(t),r=o(e),s=r>=0?r:n+r;return s<0||s>=n?void 0:t[s]}}),s("at")},function(e,t,n){"use strict";var r=n(872),i=n(910),a=n(883).f,o=r("unscopables"),s=Array.prototype;void 0===s[o]&&a(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},function(e,t,n){"use strict";var r=n(841),i=n(846),a=n(927),o=n(859),s=n(878),c=n(902),l=n(972),u=n(973),d=n(925),h=n(974),f=n(872),p=n(866),g=f("isConcatSpreadable"),m=p>=51||!i((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),v=function(e){if(!o(e))return!1;var t=e[g];return void 0!==t?!!t:a(e)};r({target:"Array",proto:!0,arity:1,forced:!m||!h("concat")},{concat:function(e){var t,n,r,i,a,o=s(this),h=d(o,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(v(a=-1===t?o:arguments[t]))for(i=c(a),l(f+i),n=0;n<i;n++,f++)n in a&&u(h,f,a[n]);else l(f+1),u(h,f++,a);return h.length=f,h}})},function(e,t,n){"use strict";var r=TypeError;e.exports=function(e){if(e>9007199254740991)throw r("Maximum allowed index exceeded");return e}},function(e,t,n){"use strict";var r=n(845),i=n(883),a=n(850);e.exports=function(e,t,n){r?i.f(e,t,a(0,n)):e[t]=n}},function(e,t,n){"use strict";var r=n(846),i=n(872),a=n(866),o=i("species");e.exports=function(e){return a>=51||!r((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){"use strict";var r=n(841),i=n(976),a=n(970);r({target:"Array",proto:!0},{copyWithin:i}),a("copyWithin")},function(e,t,n){"use strict";var r=n(878),i=n(899),a=n(902),o=n(977),s=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),c=a(n),l=i(e,c),u=i(t,c),d=arguments.length>2?arguments[2]:void 0,h=s((void 0===d?c:i(d,c))-u,c-l),f=1;for(u<l&&l<u+h&&(f=-1,u+=h-1,l+=h-1);h-- >0;)u in n?n[l]=n[u]:o(n,l),l+=f,u+=f;return n}},function(e,t,n){"use strict";var r=n(870),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw new i("Cannot delete property "+r(t)+" of "+r(e))}},function(e,t,n){"use strict";var r=n(841),i=n(979),a=n(970);r({target:"Array",proto:!0},{fill:i}),a("fill")},function(e,t,n){"use strict";var r=n(878),i=n(899),a=n(902);e.exports=function(e){for(var t=r(this),n=a(t),o=arguments.length,s=i(o>1?arguments[1]:void 0,n),c=o>2?arguments[2]:void 0,l=void 0===c?n:i(c,n);l>s;)t[s++]=e;return t}},function(e,t,n){"use strict";var r=n(841),i=n(922).filter;r({target:"Array",proto:!0,forced:!n(974)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(841),i=n(922).find,a=n(970),o="find",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},function(e,t,n){"use strict";var r=n(841),i=n(922).findIndex,a=n(970),o="findIndex",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},function(e,t,n){"use strict";var r=n(841),i=n(984),a=n(878),o=n(902),s=n(900),c=n(925);r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),n=o(t),r=c(t,0);return r.length=i(r,t,t,n,0,void 0===e?1:s(e)),r}})},function(e,t,n){"use strict";var r=n(927),i=n(902),a=n(972),o=n(923),s=function(e,t,n,c,l,u,d,h){for(var f,p,g=l,m=0,v=!!d&&o(d,h);m<c;)m in n&&(f=v?v(n[m],m,t):n[m],u>0&&r(f)?(p=i(f),g=s(e,t,f,p,g,u-1)-1):(a(g+1),e[g]=f),g++),m++;return g};e.exports=s},function(e,t,n){"use strict";var r=n(841),i=n(984),a=n(869),o=n(878),s=n(902),c=n(925);r({target:"Array",proto:!0},{flatMap:function(e){var t,n=o(this),r=s(n);return a(e),(t=c(n,0)).length=i(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},function(e,t,n){"use strict";var r=n(841),i=n(987);r({target:"Array",stat:!0,forced:!n(989)((function(e){Array.from(e)}))},{from:i})},function(e,t,n){"use strict";var r=n(923),i=n(847),a=n(878),o=n(988),s=n(963),c=n(928),l=n(902),u=n(973),d=n(965),h=n(966),f=Array;e.exports=function(e){var t=a(e),n=c(this),p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g;m&&(g=r(g,p>2?arguments[2]:void 0));var v,y,_,b,w,S,E=h(t),I=0;if(!E||this===f&&s(E))for(v=l(t),y=n?new this(v):f(v);v>I;I++)S=m?g(t[I],I):t[I],u(y,I,S);else for(y=n?new this:[],w=(b=d(t,E)).next;!(_=i(w,b)).done;I++)S=m?o(b,g,[_.value,I],!0):_.value,u(y,I,S);return y.length=I,y}},function(e,t,n){"use strict";var r=n(885),i=n(967);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(o){i(e,"throw",o)}}},function(e,t,n){"use strict";var r=n(872)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(s){}e.exports=function(e,t){try{if(!t&&!i)return!1}catch(s){return!1}var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(s){}return n}},function(e,t,n){"use strict";var r=n(841),i=n(898).includes,a=n(846),o=n(970);r({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(e,t,n){"use strict";var r=n(851),i=n(970),a=n(964),o=n(890),s=n(883).f,c=n(992),l=n(995),u=n(875),d=n(845),h="Array Iterator",f=o.set,p=o.getterFor(h);e.exports=c(Array,"Array",(function(e,t){f(this,{type:h,target:r(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=null,l(void 0,!0);switch(e.kind){case"keys":return l(n,!1);case"values":return l(t[n],!1)}return l([n,t[n]],!1)}),"values");var g=a.Arguments=a.Array;if(i("keys"),i("values"),i("entries"),!u&&d&&"values"!==g.name)try{s(g,"name",{value:"values"})}catch(m){}},function(e,t,n){"use strict";var r=n(841),i=n(847),a=n(875),o=n(888),s=n(860),c=n(993),l=n(952),u=n(954),d=n(921),h=n(882),f=n(886),p=n(872),g=n(964),m=n(994),v=o.PROPER,y=o.CONFIGURABLE,_=m.IteratorPrototype,b=m.BUGGY_SAFARI_ITERATORS,w=p("iterator"),S="keys",E="values",I="entries",C=function(){return this};e.exports=function(e,t,n,o,p,m,O){c(n,t,o);var T,A,N,M=function(e){if(e===p&&x)return x;if(!b&&e&&e in L)return L[e];switch(e){case S:case E:case I:return function(){return new n(this,e)}}return function(){return new n(this)}},D=t+" Iterator",R=!1,L=e.prototype,k=L[w]||L["@@iterator"]||p&&L[p],x=!b&&k||M(p),F="Array"===t&&L.entries||k;if(F&&(T=l(F.call(new e)))!==Object.prototype&&T.next&&(a||l(T)===_||(u?u(T,_):s(T[w])||f(T,w,C)),d(T,D,!0,!0),a&&(g[D]=C)),v&&p===E&&k&&k.name!==E&&(!a&&y?h(L,"name",E):(R=!0,x=function(){return i(k,this)})),p)if(A={values:M(E),keys:m?x:M(S),entries:M(I)},O)for(N in A)(b||R||!(N in L))&&f(L,N,A[N]);else r({target:t,proto:!0,forced:b||R},A);return a&&!O||L[w]===x||f(L,w,x,{name:p}),g[t]=x,A}},function(e,t,n){"use strict";var r=n(994).IteratorPrototype,i=n(910),a=n(850),o=n(921),s=n(964),c=function(){return this};e.exports=function(e,t,n,l){var u=t+" Iterator";return e.prototype=i(r,{next:a(+!l,n)}),o(e,u,!1,!0),s[u]=c,e}},function(e,t,n){"use strict";var r,i,a,o=n(846),s=n(860),c=n(859),l=n(910),u=n(952),d=n(886),h=n(872),f=n(875),p=h("iterator"),g=!1;[].keys&&("next"in(a=[].keys())?(i=u(u(a)))!==Object.prototype&&(r=i):g=!0),!c(r)||o((function(){var e={};return r[p].call(e)!==e}))?r={}:f&&(r=l(r)),s(r[p])||d(r,p,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:g}},function(e,t,n){"use strict";e.exports=function(e,t){return{value:e,done:t}}},function(e,t,n){"use strict";var r=n(841),i=n(853),a=n(852),o=n(851),s=n(997),c=i([].join);r({target:"Array",proto:!0,forced:a!==Object||!s("join",",")},{join:function(e){return c(o(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var r=n(846);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},function(e,t,n){"use strict";var r=n(841),i=n(922).map;r({target:"Array",proto:!0,forced:!n(974)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(841),i=n(846),a=n(928),o=n(973),s=Array;r({target:"Array",stat:!0,forced:i((function(){function e(){}return!(s.of.call(e)instanceof e)}))},{of:function(){for(var e=0,t=arguments.length,n=new(a(this)?this:s)(t);t>e;)o(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(841),i=n(853),a=n(927),o=i([].reverse),s=[1,2];r({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),o(this)}})},function(e,t,n){"use strict";var r=n(841),i=n(927),a=n(928),o=n(859),s=n(899),c=n(902),l=n(851),u=n(973),d=n(872),h=n(974),f=n(915),p=h("slice"),g=d("species"),m=Array,v=Math.max;r({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var n,r,d,h=l(this),p=c(h),y=s(e,p),_=s(void 0===t?p:t,p);if(i(h)&&(n=h.constructor,(a(n)&&(n===m||i(n.prototype))||o(n)&&null===(n=n[g]))&&(n=void 0),n===m||void 0===n))return f(h,y,_);for(r=new(void 0===n?m:n)(v(_-y,0)),d=0;y<_;y++,d++)y in h&&u(r,d,h[y]);return r.length=d,r}})},function(e,t,n){"use strict";var r=n(841),i=n(853),a=n(869),o=n(878),s=n(902),c=n(977),l=n(907),u=n(846),d=n(1003),h=n(997),f=n(1004),p=n(1005),g=n(866),m=n(1006),v=[],y=i(v.sort),_=i(v.push),b=u((function(){v.sort(void 0)})),w=u((function(){v.sort(null)})),S=h("sort"),E=!u((function(){if(g)return g<70;if(!(f&&f>3)){if(p)return!0;if(m)return m<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)v.push({k:t+r,v:n})}for(v.sort((function(e,t){return t.v-e.v})),r=0;r<v.length;r++)t=v[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:b||!w||!S||!E},{sort:function(e){void 0!==e&&a(e);var t=o(this);if(E)return void 0===e?y(t):y(t,e);var n,r,i=[],u=s(t);for(r=0;r<u;r++)r in t&&_(i,t[r]);for(d(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:l(t)>l(n)?1:-1}}(e)),n=s(i),r=0;r<n;)t[r]=i[r++];for(;r<u;)c(t,r++);return t}})},function(e,t,n){"use strict";var r=n(915),i=Math.floor,a=function(e,t){var n=e.length;if(n<8)for(var o,s,c=1;c<n;){for(s=c,o=e[c];s&&t(e[s-1],o)>0;)e[s]=e[--s];s!==c++&&(e[s]=o)}else for(var l=i(n/2),u=a(r(e,0,l),t),d=a(r(e,l),t),h=u.length,f=d.length,p=0,g=0;p<h||g<f;)e[p+g]=p<h&&g<f?t(u[p],d[g])<=0?u[p++]:d[g++]:p<h?u[p++]:d[g++];return e};e.exports=a},function(e,t,n){"use strict";var r=n(867).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},function(e,t,n){"use strict";var r=n(867);e.exports=/MSIE|Trident/.test(r)},function(e,t,n){"use strict";var r=n(867).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},function(e,t,n){"use strict";n(1008)("Array")},function(e,t,n){"use strict";var r=n(862),i=n(916),a=n(872),o=n(845),s=a("species");e.exports=function(e){var t=r(e);o&&t&&!t[s]&&i(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(841),i=n(878),a=n(899),o=n(900),s=n(902),c=n(1010),l=n(972),u=n(925),d=n(973),h=n(977),f=n(974)("splice"),p=Math.max,g=Math.min;r({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var n,r,f,m,v,y,_=i(this),b=s(_),w=a(e,b),S=arguments.length;for(0===S?n=r=0:1===S?(n=0,r=b-w):(n=S-2,r=g(p(o(t),0),b-w)),l(b+n-r),f=u(_,r),m=0;m<r;m++)(v=w+m)in _&&d(f,m,_[v]);if(f.length=r,n<r){for(m=w;m<b-r;m++)y=m+n,(v=m+r)in _?_[y]=_[v]:h(_,y);for(m=b;m>b-r+n;m--)h(_,m-1)}else if(n>r)for(m=b-r;m>w;m--)y=m+n-1,(v=m+r-1)in _?_[y]=_[v]:h(_,y);for(m=0;m<n;m++)_[m+w]=arguments[m+2];return c(_,b-r+n),f}})},function(e,t,n){"use strict";var r=n(845),i=n(927),a=TypeError,o=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(i(e)&&!o(e,"length").writable)throw new a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},function(e,t,n){"use strict";n(970)("flat")},function(e,t,n){"use strict";n(970)("flatMap")},function(e,t,n){"use strict";var r=n(841),i=n(842),a=n(1014),o=n(1008),s="ArrayBuffer",c=a[s];r({global:!0,constructor:!0,forced:i[s]!==c},{ArrayBuffer:c}),o(s)},function(e,t,n){"use strict";var r=n(842),i=n(853),a=n(845),o=n(1015),s=n(888),c=n(882),l=n(916),u=n(1016),d=n(846),h=n(1017),f=n(900),p=n(903),g=n(1018),m=n(1019),v=n(1022),y=n(952),_=n(954),b=n(979),w=n(915),S=n(1023),E=n(894),I=n(921),C=n(890),O=s.PROPER,T=s.CONFIGURABLE,A="ArrayBuffer",N="DataView",M="prototype",D="Wrong index",R=C.getterFor(A),L=C.getterFor(N),k=C.set,x=r[A],F=x,P=F&&F[M],j=r[N],U=j&&j[M],B=Object.prototype,V=r.Array,W=r.RangeError,z=i(b),H=i([].reverse),G=v.pack,$=v.unpack,K=function(e){return[255&e]},Q=function(e){return[255&e,e>>8&255]},q=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},Z=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Y=function(e){return G(m(e),23,4)},X=function(e){return G(e,52,8)},J=function(e,t,n){l(e[M],t,{configurable:!0,get:function(){return n(this)[t]}})},ee=function(e,t,n,r){var i=L(e),a=g(n),o=!!r;if(a+t>i.byteLength)throw new W(D);var s=i.bytes,c=a+i.byteOffset,l=w(s,c,c+t);return o?l:H(l)},te=function(e,t,n,r,i,a){var o=L(e),s=g(n),c=r(+i),l=!!a;if(s+t>o.byteLength)throw new W(D);for(var u=o.bytes,d=s+o.byteOffset,h=0;h<t;h++)u[d+h]=c[l?h:t-h-1]};if(o){var ne=O&&x.name!==A;d((function(){x(1)}))&&d((function(){new x(-1)}))&&!d((function(){return new x,new x(1.5),new x(NaN),1!==x.length||ne&&!T}))?ne&&T&&c(x,"name",A):((F=function(e){return h(this,P),S(new x(g(e)),this,F)})[M]=P,P.constructor=F,E(F,x)),_&&y(U)!==B&&_(U,B);var re=new j(new F(2)),ie=i(U.setInt8);re.setInt8(0,2147483648),re.setInt8(1,2147483649),!re.getInt8(0)&&re.getInt8(1)||u(U,{setInt8:function(e,t){ie(this,e,t<<24>>24)},setUint8:function(e,t){ie(this,e,t<<24>>24)}},{unsafe:!0})}else P=(F=function(e){h(this,P);var t=g(e);k(this,{type:A,bytes:z(V(t),0),byteLength:t}),a||(this.byteLength=t,this.detached=!1)})[M],U=(j=function(e,t,n){h(this,U),h(e,P);var r=R(e),i=r.byteLength,o=f(t);if(o<0||o>i)throw new W("Wrong offset");if(o+(n=void 0===n?i-o:p(n))>i)throw new W("Wrong length");k(this,{type:N,buffer:e,byteLength:n,byteOffset:o,bytes:r.bytes}),a||(this.buffer=e,this.byteLength=n,this.byteOffset=o)})[M],a&&(J(F,"byteLength",R),J(j,"buffer",L),J(j,"byteLength",L),J(j,"byteOffset",L)),u(U,{getInt8:function(e){return ee(this,1,e)[0]<<24>>24},getUint8:function(e){return ee(this,1,e)[0]},getInt16:function(e){var t=ee(this,2,e,arguments.length>1&&arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=ee(this,2,e,arguments.length>1&&arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return Z(ee(this,4,e,arguments.length>1&&arguments[1]))},getUint32:function(e){return Z(ee(this,4,e,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(e){return $(ee(this,4,e,arguments.length>1&&arguments[1]),23)},getFloat64:function(e){return $(ee(this,8,e,arguments.length>1&&arguments[1]),52)},setInt8:function(e,t){te(this,1,e,K,t)},setUint8:function(e,t){te(this,1,e,K,t)},setInt16:function(e,t){te(this,2,e,Q,t,arguments.length>2&&arguments[2])},setUint16:function(e,t){te(this,2,e,Q,t,arguments.length>2&&arguments[2])},setInt32:function(e,t){te(this,4,e,q,t,arguments.length>2&&arguments[2])},setUint32:function(e,t){te(this,4,e,q,t,arguments.length>2&&arguments[2])},setFloat32:function(e,t){te(this,4,e,Y,t,arguments.length>2&&arguments[2])},setFloat64:function(e,t){te(this,8,e,X,t,arguments.length>2&&arguments[2])}});I(F,A),I(j,N),e.exports={ArrayBuffer:F,DataView:j}},function(e,t,n){"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(e,t,n){"use strict";var r=n(886);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){"use strict";var r=n(863),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw new i("Incorrect invocation")}},function(e,t,n){"use strict";var r=n(900),i=n(903),a=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw new a("Wrong length or index");return n}},function(e,t,n){"use strict";var r=n(1020);e.exports=Math.fround||function(e){return r(e,1.1920928955078125e-7,34028234663852886e22,11754943508222875e-54)}},function(e,t,n){"use strict";var r=n(1021),i=Math.abs,a=2220446049250313e-31,o=1/a;e.exports=function(e,t,n,s){var c=+e,l=i(c),u=r(c);if(l<s)return u*function(e){return e+o-o}(l/s/t)*s*t;var d=(1+t/a)*l,h=d-(d-l);return h>n||h!==h?u*(1/0):u*h}},function(e,t,n){"use strict";e.exports=Math.sign||function(e){var t=+e;return 0===t||t!==t?t:t<0?-1:1}},function(e,t,n){"use strict";var r=Array,i=Math.abs,a=Math.pow,o=Math.floor,s=Math.log,c=Math.LN2;e.exports={pack:function(e,t,n){var l,u,d,h=r(n),f=8*n-t-1,p=(1<<f)-1,g=p>>1,m=23===t?a(2,-24)-a(2,-77):0,v=e<0||0===e&&1/e<0?1:0,y=0;for((e=i(e))!==e||e===1/0?(u=e!==e?1:0,l=p):(l=o(s(e)/c),e*(d=a(2,-l))<1&&(l--,d*=2),(e+=l+g>=1?m/d:m*a(2,1-g))*d>=2&&(l++,d/=2),l+g>=p?(u=0,l=p):l+g>=1?(u=(e*d-1)*a(2,t),l+=g):(u=e*a(2,g-1)*a(2,t),l=0));t>=8;)h[y++]=255&u,u/=256,t-=8;for(l=l<<t|u,f+=t;f>0;)h[y++]=255&l,l/=256,f-=8;return h[y-1]|=128*v,h},unpack:function(e,t){var n,r=e.length,i=8*r-t-1,o=(1<<i)-1,s=o>>1,c=i-7,l=r-1,u=e[l--],d=127&u;for(u>>=7;c>0;)d=256*d+e[l--],c-=8;for(n=d&(1<<-c)-1,d>>=-c,c+=t;c>0;)n=256*n+e[l--],c-=8;if(0===d)d=1-s;else{if(d===o)return n?NaN:u?-1/0:1/0;n+=a(2,t),d-=s}return(u?-1:1)*n*a(2,d-t)}}},function(e,t,n){"use strict";var r=n(860),i=n(859),a=n(954);e.exports=function(e,t,n){var o,s;return a&&r(o=t.constructor)&&o!==n&&i(s=o.prototype)&&s!==n.prototype&&a(e,s),e}},function(e,t,n){"use strict";var r=n(841),i=n(1025);r({target:"ArrayBuffer",stat:!0,forced:!i.NATIVE_ARRAY_BUFFER_VIEWS},{isView:i.isView})},function(e,t,n){"use strict";var r,i,a,o=n(1015),s=n(845),c=n(842),l=n(860),u=n(859),d=n(877),h=n(908),f=n(870),p=n(882),g=n(886),m=n(916),v=n(863),y=n(952),_=n(954),b=n(872),w=n(879),S=n(890),E=S.enforce,I=S.get,C=c.Int8Array,O=C&&C.prototype,T=c.Uint8ClampedArray,A=T&&T.prototype,N=C&&y(C),M=O&&y(O),D=Object.prototype,R=c.TypeError,L=b("toStringTag"),k=w("TYPED_ARRAY_TAG"),x="TypedArrayConstructor",F=o&&!!_&&"Opera"!==h(c.opera),P=!1,j={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},U={BigInt64Array:8,BigUint64Array:8},B=function(e){var t=y(e);if(u(t)){var n=I(t);return n&&d(n,x)?n[x]:B(t)}},V=function(e){if(!u(e))return!1;var t=h(e);return d(j,t)||d(U,t)};for(r in j)(a=(i=c[r])&&i.prototype)?E(a)[x]=i:F=!1;for(r in U)(a=(i=c[r])&&i.prototype)&&(E(a)[x]=i);if((!F||!l(N)||N===Function.prototype)&&(N=function(){throw new R("Incorrect invocation")},F))for(r in j)c[r]&&_(c[r],N);if((!F||!M||M===D)&&(M=N.prototype,F))for(r in j)c[r]&&_(c[r].prototype,M);if(F&&y(A)!==M&&_(A,M),s&&!d(M,L))for(r in P=!0,m(M,L,{configurable:!0,get:function(){return u(this)?this[k]:void 0}}),j)c[r]&&p(c[r],k,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:F,TYPED_ARRAY_TAG:P&&k,aTypedArray:function(e){if(V(e))return e;throw new R("Target is not a typed array")},aTypedArrayConstructor:function(e){if(l(e)&&(!_||v(N,e)))return e;throw new R(f(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(s){if(n)for(var i in j){var a=c[i];if(a&&d(a.prototype,e))try{delete a.prototype[e]}catch(o){try{a.prototype[e]=t}catch(l){}}}M[e]&&!n||g(M,e,n?t:F&&O[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(s){if(_){if(n)for(r in j)if((i=c[r])&&d(i,e))try{delete i[e]}catch(a){}if(N[e]&&!n)return;try{return g(N,e,n?t:F&&N[e]||t)}catch(a){}}for(r in j)!(i=c[r])||i[e]&&!n||g(i,e,t)}},getTypedArrayConstructor:B,isView:function(e){if(!u(e))return!1;var t=h(e);return"DataView"===t||d(j,t)||d(U,t)},isTypedArray:V,TypedArray:N,TypedArrayPrototype:M}},function(e,t,n){"use strict";var r=n(841),i=n(924),a=n(846),o=n(1014),s=n(885),c=n(899),l=n(903),u=n(1027),d=o.ArrayBuffer,h=o.DataView,f=h.prototype,p=i(d.prototype.slice),g=i(f.getUint8),m=i(f.setUint8);r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:a((function(){return!new d(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(p&&void 0===t)return p(s(this),e);for(var n=s(this).byteLength,r=c(e,n),i=c(void 0===t?n:t,n),a=new(u(this,d))(l(i-r)),o=new h(this),f=new h(a),v=0;r<i;)m(f,v++,g(o,r++));return a}})},function(e,t,n){"use strict";var r=n(885),i=n(1028),a=n(856),o=n(872)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||a(n=r(s)[o])?t:i(n)}},function(e,t,n){"use strict";var r=n(928),i=n(870),a=TypeError;e.exports=function(e){if(r(e))return e;throw new a(i(e)+" is not a constructor")}},function(e,t,n){"use strict";var r=n(877),i=n(886),a=n(1030),o=n(872)("toPrimitive"),s=Date.prototype;r(s,o)||i(s,o,a)},function(e,t,n){"use strict";var r=n(885),i=n(871),a=TypeError;e.exports=function(e){if(r(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw new a("Incorrect hint");return i(this,e)}},function(e,t,n){"use strict";var r=n(860),i=n(859),a=n(883),o=n(863),s=n(872),c=n(887),l=s("hasInstance"),u=Function.prototype;l in u||a.f(u,l,{value:c((function(e){if(!r(this)||!i(e))return!1;var t=this.prototype;return i(t)?o(t,e):e instanceof this}),l)})},function(e,t,n){"use strict";var r=n(845),i=n(888).EXISTS,a=n(853),o=n(916),s=Function.prototype,c=a(s.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=a(l.exec);r&&!i&&o(s,"name",{configurable:!0,get:function(){try{return u(l,c(this))[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(841),i=n(842);r({global:!0,forced:i.globalThis!==i},{globalThis:i})},function(e,t,n){"use strict";var r=n(842);n(921)(r.JSON,"JSON",!0)},function(e,t,n){"use strict";n(1036)},function(e,t,n){"use strict";n(1037)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(1042))},function(e,t,n){"use strict";var r=n(841),i=n(842),a=n(853),o=n(906),s=n(886),c=n(1038),l=n(962),u=n(1017),d=n(860),h=n(856),f=n(859),p=n(846),g=n(989),m=n(921),v=n(1023);e.exports=function(e,t,n){var y=-1!==e.indexOf("Map"),_=-1!==e.indexOf("Weak"),b=y?"set":"add",w=i[e],S=w&&w.prototype,E=w,I={},C=function(e){var t=a(S[e]);s(S,e,"add"===e?function(e){return t(this,0===e?0:e),this}:"delete"===e?function(e){return!(_&&!f(e))&&t(this,0===e?0:e)}:"get"===e?function(e){return _&&!f(e)?void 0:t(this,0===e?0:e)}:"has"===e?function(e){return!(_&&!f(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(o(e,!d(w)||!(_||S.forEach&&!p((function(){(new w).entries().next()})))))E=n.getConstructor(t,e,y,b),c.enable();else if(o(e,!0)){var O=new E,T=O[b](_?{}:-0,1)!==O,A=p((function(){O.has(1)})),N=g((function(e){new w(e)})),M=!_&&p((function(){for(var e=new w,t=5;t--;)e[b](t,t);return!e.has(-0)}));N||((E=t((function(e,t){u(e,S);var n=v(new w,e,E);return h(t)||l(t,n[b],{that:n,AS_ENTRIES:y}),n}))).prototype=S,S.constructor=E),(A||M)&&(C("delete"),C("has"),y&&C("get")),(M||T)&&C(b),_&&S.clear&&delete S.clear}return I[e]=E,r({global:!0,constructor:!0,forced:E!==w},I),m(E,e),_||n.setStrong(E,e,y),E}},function(e,t,n){"use strict";var r=n(841),i=n(853),a=n(893),o=n(859),s=n(877),c=n(883).f,l=n(896),u=n(914),d=n(1039),h=n(879),f=n(1041),p=!1,g=h("meta"),m=0,v=function(e){c(e,g,{value:{objectID:"O"+m++,weakData:{}}})},y=e.exports={enable:function(){y.enable=function(){},p=!0;var e=l.f,t=i([].splice),n={};n[g]=1,e(n).length&&(l.f=function(n){for(var r=e(n),i=0,a=r.length;i<a;i++)if(r[i]===g){t(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,g)){if(!d(e))return"F";if(!t)return"E";v(e)}return e[g].objectID},getWeakData:function(e,t){if(!s(e,g)){if(!d(e))return!0;if(!t)return!1;v(e)}return e[g].weakData},onFreeze:function(e){return f&&p&&d(e)&&!s(e,g)&&v(e),e}};a[g]=!0},function(e,t,n){"use strict";var r=n(846),i=n(859),a=n(854),o=n(1040),s=Object.isExtensible,c=r((function(){s(1)}));e.exports=c||o?function(e){return!!i(e)&&(!o||"ArrayBuffer"!==a(e))&&(!s||s(e))}:s},function(e,t,n){"use strict";var r=n(846);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},function(e,t,n){"use strict";var r=n(846);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,n){"use strict";var r=n(910),i=n(916),a=n(1016),o=n(923),s=n(1017),c=n(856),l=n(962),u=n(992),d=n(995),h=n(1008),f=n(845),p=n(1038).fastKey,g=n(890),m=g.set,v=g.getterFor;e.exports={getConstructor:function(e,t,n,u){var d=e((function(e,i){s(e,h),m(e,{type:t,index:r(null),first:null,last:null,size:0}),f||(e.size=0),c(i)||l(i,e[u],{that:e,AS_ENTRIES:n})})),h=d.prototype,g=v(t),y=function(e,t,n){var r,i,a=g(e),o=_(e,t);return o?o.value=n:(a.last=o={index:i=p(t,!0),key:t,value:n,previous:r=a.last,next:null,removed:!1},a.first||(a.first=o),r&&(r.next=o),f?a.size++:e.size++,"F"!==i&&(a.index[i]=o)),e},_=function(e,t){var n,r=g(e),i=p(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key===t)return n};return a(h,{clear:function(){for(var e=g(this),t=e.first;t;)t.removed=!0,t.previous&&(t.previous=t.previous.next=null),t=t.next;e.first=e.last=null,e.index=r(null),f?e.size=0:this.size=0},delete:function(e){var t=this,n=g(t),r=_(t,e);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first===r&&(n.first=i),n.last===r&&(n.last=a),f?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=g(this),r=o(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!_(this,e)}}),a(h,n?{get:function(e){var t=_(this,e);return t&&t.value},set:function(e,t){return y(this,0===e?0:e,t)}}:{add:function(e){return y(this,e=0===e?0:e,e)}}),f&&i(h,"size",{configurable:!0,get:function(){return g(this).size}}),d},setStrong:function(e,t,n){var r=t+" Iterator",i=v(t),a=v(r);u(e,t,(function(e,t){m(this,{type:r,target:e,state:i(e),kind:t,last:null})}),(function(){for(var e=a(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?d("keys"===t?n.key:"values"===t?n.value:[n.key,n.value],!1):(e.target=null,d(void 0,!0))}),n?"entries":"values",!n,!0),h(t)}}},function(e,t,n){"use strict";var r=n(841),i=n(1044),a=Math.acosh,o=Math.log,s=Math.sqrt,c=Math.LN2;r({target:"Math",stat:!0,forced:!a||710!==Math.floor(a(Number.MAX_VALUE))||a(1/0)!==1/0},{acosh:function(e){var t=+e;return t<1?NaN:t>94906265.62425156?o(t)+c:i(t-1+s(t-1)*s(t+1))}})},function(e,t,n){"use strict";var r=Math.log;e.exports=Math.log1p||function(e){var t=+e;return t>-1e-8&&t<1e-8?t-t*t/2:r(1+t)}},function(e,t,n){"use strict";var r=n(841),i=Math.asinh,a=Math.log,o=Math.sqrt;r({target:"Math",stat:!0,forced:!(i&&1/i(0)>0)},{asinh:function e(t){var n=+t;return isFinite(n)&&0!==n?n<0?-e(-n):a(n+o(n*n+1)):n}})},function(e,t,n){"use strict";var r=n(841),i=Math.atanh,a=Math.log;r({target:"Math",stat:!0,forced:!(i&&1/i(-0)<0)},{atanh:function(e){var t=+e;return 0===t?t:a((1+t)/(1-t))/2}})},function(e,t,n){"use strict";var r=n(841),i=n(1021),a=Math.abs,o=Math.pow;r({target:"Math",stat:!0},{cbrt:function(e){var t=+e;return i(t)*o(a(t),1/3)}})},function(e,t,n){"use strict";var r=n(841),i=Math.floor,a=Math.log,o=Math.LOG2E;r({target:"Math",stat:!0},{clz32:function(e){var t=e>>>0;return t?31-i(a(t+.5)*o):32}})},function(e,t,n){"use strict";var r=n(841),i=n(1050),a=Math.cosh,o=Math.abs,s=Math.E;r({target:"Math",stat:!0,forced:!a||a(710)===1/0},{cosh:function(e){var t=i(o(e)-1)+1;return(t+1/(t*s*s))*(s/2)}})},function(e,t,n){"use strict";var r=Math.expm1,i=Math.exp;e.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!==r(-2e-17)?function(e){var t=+e;return 0===t?t:t>-1e-6&&t<1e-6?t+t*t/2:i(t)-1}:r},function(e,t,n){"use strict";var r=n(841),i=n(1050);r({target:"Math",stat:!0,forced:i!==Math.expm1},{expm1:i})},function(e,t,n){"use strict";n(841)({target:"Math",stat:!0},{fround:n(1019)})},function(e,t,n){"use strict";var r=n(841),i=Math.hypot,a=Math.abs,o=Math.sqrt;r({target:"Math",stat:!0,arity:2,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(e,t){for(var n,r,i=0,s=0,c=arguments.length,l=0;s<c;)l<(n=a(arguments[s++]))?(i=i*(r=l/n)*r+1,l=n):i+=n>0?(r=n/l)*r:n;return l===1/0?1/0:l*o(i)}})},function(e,t,n){"use strict";var r=n(841),i=n(846),a=Math.imul;r({target:"Math",stat:!0,forced:i((function(){return-5!==a(4294967295,5)||2!==a.length}))},{imul:function(e,t){var n=65535,r=+e,i=+t,a=n&r,o=n&i;return 0|a*o+((n&r>>>16)*o+a*(n&i>>>16)<<16>>>0)}})},function(e,t,n){"use strict";n(841)({target:"Math",stat:!0},{log10:n(1056)})},function(e,t,n){"use strict";var r=Math.log,i=Math.LOG10E;e.exports=Math.log10||function(e){return r(e)*i}},function(e,t,n){"use strict";n(841)({target:"Math",stat:!0},{log1p:n(1044)})},function(e,t,n){"use strict";var r=n(841),i=Math.log,a=Math.LN2;r({target:"Math",stat:!0},{log2:function(e){return i(e)/a}})},function(e,t,n){"use strict";n(841)({target:"Math",stat:!0},{sign:n(1021)})},function(e,t,n){"use strict";var r=n(841),i=n(846),a=n(1050),o=Math.abs,s=Math.exp,c=Math.E;r({target:"Math",stat:!0,forced:i((function(){return-2e-17!==Math.sinh(-2e-17)}))},{sinh:function(e){var t=+e;return o(t)<1?(a(t)-a(-t))/2:(s(t-1)-s(-t-1))*(c/2)}})},function(e,t,n){"use strict";var r=n(841),i=n(1050),a=Math.exp;r({target:"Math",stat:!0},{tanh:function(e){var t=+e,n=i(t),r=i(-t);return n===1/0?1:r===1/0?-1:(n-r)/(a(t)+a(-t))}})},function(e,t,n){"use strict";n(921)(Math,"Math",!0)},function(e,t,n){"use strict";n(841)({target:"Math",stat:!0},{trunc:n(901)})},function(e,t,n){"use strict";var r=n(841),i=n(875),a=n(845),o=n(842),s=n(919),c=n(853),l=n(906),u=n(877),d=n(1023),h=n(863),f=n(861),p=n(858),g=n(846),m=n(896).f,v=n(844).f,y=n(883).f,_=n(1065),b=n(1066).trim,w="Number",S=o[w],E=s[w],I=S.prototype,C=o.TypeError,O=c("".slice),T=c("".charCodeAt),A=l(w,!S(" 0o1")||!S("0b1")||S("+0x1")),N=function(e){var t,n=arguments.length<1?0:S(function(e){var t=p(e,"number");return"bigint"==typeof t?t:function(e){var t,n,r,i,a,o,s,c,l=p(e,"number");if(f(l))throw new C("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=b(l),43===(t=T(l,0))||45===t){if(88===(n=T(l,2))||120===n)return NaN}else if(48===t){switch(T(l,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+l}for(o=(a=O(l,2)).length,s=0;s<o;s++)if((c=T(a,s))<48||c>i)return NaN;return parseInt(a,r)}return+l}(t)}(e));return h(I,t=this)&&g((function(){_(t)}))?d(Object(n),this,N):n};N.prototype=I,A&&!i&&(I.constructor=N),r({global:!0,constructor:!0,wrap:!0,forced:A},{Number:N});var M=function(e,t){for(var n,r=a?m(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;r.length>i;i++)u(t,n=r[i])&&!u(e,n)&&y(e,n,v(t,n))};i&&E&&M(s[w],E),(A||i)&&M(s[w],S)},function(e,t,n){"use strict";var r=n(853);e.exports=r(1..valueOf)},function(e,t,n){"use strict";var r=n(853),i=n(855),a=n(907),o=n(1067),s=r("".replace),c=RegExp("^["+o+"]+"),l=RegExp("(^|[^"+o+"])["+o+"]+$"),u=function(e){return function(t){var n=a(i(t));return 1&e&&(n=s(n,c,"")),2&e&&(n=s(n,l,"$1")),n}};e.exports={start:u(1),end:u(2),trim:u(3)}},function(e,t,n){"use strict";e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(e,t,n){"use strict";n(841)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)})},function(e,t,n){"use strict";n(841)({target:"Number",stat:!0},{isFinite:n(1070)})},function(e,t,n){"use strict";var r=n(842).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&r(e)}},function(e,t,n){"use strict";n(841)({target:"Number",stat:!0},{isInteger:n(1072)})},function(e,t,n){"use strict";var r=n(859),i=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t,n){"use strict";n(841)({target:"Number",stat:!0},{isNaN:function(e){return e!==e}})},function(e,t,n){"use strict";var r=n(841),i=n(1072),a=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function(e){return i(e)&&a(e)<=9007199254740991}})},function(e,t,n){"use strict";n(841)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){"use strict";n(841)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){"use strict";var r=n(841),i=n(1078);r({target:"Number",stat:!0,forced:Number.parseFloat!==i},{parseFloat:i})},function(e,t,n){"use strict";var r=n(842),i=n(846),a=n(853),o=n(907),s=n(1066).trim,c=n(1067),l=a("".charAt),u=r.parseFloat,d=r.Symbol,h=d&&d.iterator,f=1/u(c+"-0")!==-1/0||h&&!i((function(){u(Object(h))}));e.exports=f?function(e){var t=s(o(e)),n=u(t);return 0===n&&"-"===l(t,0)?-0:n}:u},function(e,t,n){"use strict";var r=n(841),i=n(1080);r({target:"Number",stat:!0,forced:Number.parseInt!==i},{parseInt:i})},function(e,t,n){"use strict";var r=n(842),i=n(846),a=n(853),o=n(907),s=n(1066).trim,c=n(1067),l=r.parseInt,u=r.Symbol,d=u&&u.iterator,h=/^[+-]?0x/i,f=a(h.exec),p=8!==l(c+"08")||22!==l(c+"0x16")||d&&!i((function(){l(Object(d))}));e.exports=p?function(e,t){var n=s(o(e));return l(n,t>>>0||(f(h,n)?16:10))}:l},function(e,t,n){"use strict";var r=n(841),i=n(853),a=n(900),o=n(1065),s=n(1082),c=n(846),l=RangeError,u=String,d=Math.floor,h=i(s),f=i("".slice),p=i(1..toFixed),g=function(e,t,n){return 0===t?n:t%2===1?g(e,t-1,n*e):g(e*e,t/2,n)},m=function(e,t,n){for(var r=-1,i=n;++r<6;)i+=t*e[r],e[r]=i%1e7,i=d(i/1e7)},v=function(e,t){for(var n=6,r=0;--n>=0;)r+=e[n],e[n]=d(r/t),r=r%t*1e7},y=function(e){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==e[t]){var r=u(e[t]);n=""===n?r:n+h("0",7-r.length)+r}return n};r({target:"Number",proto:!0,forced:c((function(){return"0.000"!==p(8e-5,3)||"1"!==p(.9,0)||"1.25"!==p(1.255,2)||"1000000000000000128"!==p(0xde0b6b3a7640080,0)}))||!c((function(){p({})}))},{toFixed:function(e){var t,n,r,i,s=o(this),c=a(e),d=[0,0,0,0,0,0],p="",_="0";if(c<0||c>20)throw new l("Incorrect fraction digits");if(s!==s)return"NaN";if(s<=-1e21||s>=1e21)return u(s);if(s<0&&(p="-",s=-s),s>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(s*g(2,69,1))-69)<0?s*g(2,-t,1):s/g(2,t,1),n*=4503599627370496,(t=52-t)>0){for(m(d,0,n),r=c;r>=7;)m(d,1e7,0),r-=7;for(m(d,g(10,r,1),0),r=t-1;r>=23;)v(d,1<<23),r-=23;v(d,1<<r),m(d,1,1),v(d,2),_=y(d)}else m(d,0,n),m(d,1<<-t,0),_=y(d)+h("0",c);return c>0?p+((i=_.length)<=c?"0."+h("0",c-i)+_:f(_,0,i-c)+"."+f(_,i-c)):p+_}})},function(e,t,n){"use strict";var r=n(900),i=n(907),a=n(855),o=RangeError;e.exports=function(e){var t=i(a(this)),n="",s=r(e);if(s<0||s===1/0)throw new o("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(n+=t);return n}},function(e,t,n){"use strict";var r=n(841),i=n(1084);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},function(e,t,n){"use strict";var r=n(845),i=n(853),a=n(847),o=n(846),s=n(912),c=n(905),l=n(849),u=n(878),d=n(852),h=Object.assign,f=Object.defineProperty,p=i([].concat);e.exports=!h||o((function(){if(r&&1!==h({b:1},h(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!==h({},e)[n]||s(h({},t)).join("")!==i}))?function(e,t){for(var n=u(e),i=arguments.length,o=1,h=c.f,f=l.f;i>o;)for(var g,m=d(arguments[o++]),v=h?p(s(m),h(m)):s(m),y=v.length,_=0;y>_;)g=v[_++],r&&!a(f,m,g)||(n[g]=m[g]);return n}:h},function(e,t,n){"use strict";var r=n(841),i=n(845),a=n(1086),o=n(869),s=n(878),c=n(883);i&&r({target:"Object",proto:!0,forced:a},{__defineGetter__:function(e,t){c.f(s(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(875),i=n(842),a=n(846),o=n(1006);e.exports=r||!a((function(){if(!(o&&o<535)){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete i[e]}}))},function(e,t,n){"use strict";var r=n(841),i=n(845),a=n(1086),o=n(869),s=n(878),c=n(883);i&&r({target:"Object",proto:!0,forced:a},{__defineSetter__:function(e,t){c.f(s(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(841),i=n(1089).entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},function(e,t,n){"use strict";var r=n(845),i=n(846),a=n(853),o=n(952),s=n(912),c=n(851),l=a(n(849).f),u=a([].push),d=r&&i((function(){var e=Object.create(null);return e[2]=2,!l(e,2)})),h=function(e){return function(t){for(var n,i=c(t),a=s(i),h=d&&null===o(i),f=a.length,p=0,g=[];f>p;)n=a[p++],r&&!(h?n in i:l(i,n))||u(g,e?[n,i[n]]:i[n]);return g}};e.exports={entries:h(!0),values:h(!1)}},function(e,t,n){"use strict";var r=n(841),i=n(1041),a=n(846),o=n(859),s=n(1038).onFreeze,c=Object.freeze;r({target:"Object",stat:!0,forced:a((function(){c(1)})),sham:!i},{freeze:function(e){return c&&o(e)?c(s(e)):e}})},function(e,t,n){"use strict";var r=n(841),i=n(962),a=n(973);r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,n){a(t,e,n)}),{AS_ENTRIES:!0}),t}})},function(e,t,n){"use strict";var r=n(841),i=n(846),a=n(851),o=n(844).f,s=n(845);r({target:"Object",stat:!0,forced:!s||i((function(){o(1)})),sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})},function(e,t,n){"use strict";var r=n(841),i=n(845),a=n(895),o=n(851),s=n(844),c=n(973);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),i=s.f,l=a(r),u={},d=0;l.length>d;)void 0!==(n=i(r,t=l[d++]))&&c(u,t,n);return u}})},function(e,t,n){"use strict";var r=n(841),i=n(846),a=n(914).f;r({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:a})},function(e,t,n){"use strict";var r=n(841),i=n(846),a=n(878),o=n(952),s=n(953);r({target:"Object",stat:!0,forced:i((function(){o(1)})),sham:!s},{getPrototypeOf:function(e){return o(a(e))}})},function(e,t,n){"use strict";n(841)({target:"Object",stat:!0},{hasOwn:n(877)})},function(e,t,n){"use strict";n(841)({target:"Object",stat:!0},{is:n(1098)})},function(e,t,n){"use strict";e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}},function(e,t,n){"use strict";var r=n(841),i=n(1039);r({target:"Object",stat:!0,forced:Object.isExtensible!==i},{isExtensible:i})},function(e,t,n){"use strict";var r=n(841),i=n(846),a=n(859),o=n(854),s=n(1040),c=Object.isFrozen;r({target:"Object",stat:!0,forced:s||i((function(){c(1)}))},{isFrozen:function(e){return!a(e)||!(!s||"ArrayBuffer"!==o(e))||!!c&&c(e)}})},function(e,t,n){"use strict";var r=n(841),i=n(846),a=n(859),o=n(854),s=n(1040),c=Object.isSealed;r({target:"Object",stat:!0,forced:s||i((function(){c(1)}))},{isSealed:function(e){return!a(e)||!(!s||"ArrayBuffer"!==o(e))||!!c&&c(e)}})},function(e,t,n){"use strict";var r=n(841),i=n(878),a=n(912);r({target:"Object",stat:!0,forced:n(846)((function(){a(1)}))},{keys:function(e){return a(i(e))}})},function(e,t,n){"use strict";var r=n(841),i=n(845),a=n(1086),o=n(878),s=n(857),c=n(952),l=n(844).f;i&&r({target:"Object",proto:!0,forced:a},{__lookupGetter__:function(e){var t,n=o(this),r=s(e);do{if(t=l(n,r))return t.get}while(n=c(n))}})},function(e,t,n){"use strict";var r=n(841),i=n(845),a=n(1086),o=n(878),s=n(857),c=n(952),l=n(844).f;i&&r({target:"Object",proto:!0,forced:a},{__lookupSetter__:function(e){var t,n=o(this),r=s(e);do{if(t=l(n,r))return t.set}while(n=c(n))}})},function(e,t,n){"use strict";var r=n(841),i=n(859),a=n(1038).onFreeze,o=n(1041),s=n(846),c=Object.preventExtensions;r({target:"Object",stat:!0,forced:s((function(){c(1)})),sham:!o},{preventExtensions:function(e){return c&&i(e)?c(a(e)):e}})},function(e,t,n){"use strict";var r=n(841),i=n(859),a=n(1038).onFreeze,o=n(1041),s=n(846),c=Object.seal;r({target:"Object",stat:!0,forced:s((function(){c(1)})),sham:!o},{seal:function(e){return c&&i(e)?c(a(e)):e}})},function(e,t,n){"use strict";n(841)({target:"Object",stat:!0},{setPrototypeOf:n(954)})},function(e,t,n){"use strict";var r=n(909),i=n(886),a=n(1109);r||i(Object.prototype,"toString",a,{unsafe:!0})},function(e,t,n){"use strict";var r=n(909),i=n(908);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(e,t,n){"use strict";var r=n(841),i=n(1089).values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},function(e,t,n){"use strict";var r=n(841),i=n(1078);r({global:!0,forced:parseFloat!==i},{parseFloat:i})},function(e,t,n){"use strict";var r=n(841),i=n(1080);r({global:!0,forced:parseInt!==i},{parseInt:i})},function(e,t,n){"use strict";n(1114),n(1130),n(1132),n(1133),n(1134),n(1135)},function(e,t,n){"use strict";var r,i,a,o=n(841),s=n(875),c=n(1115),l=n(842),u=n(847),d=n(886),h=n(954),f=n(921),p=n(1008),g=n(869),m=n(860),v=n(859),y=n(1017),_=n(1027),b=n(1117).set,w=n(1120),S=n(1125),E=n(1126),I=n(1122),C=n(890),O=n(1127),T=n(1128),A=n(1129),N="Promise",M=T.CONSTRUCTOR,D=T.REJECTION_EVENT,R=T.SUBCLASSING,L=C.getterFor(N),k=C.set,x=O&&O.prototype,F=O,P=x,j=l.TypeError,U=l.document,B=l.process,V=A.f,W=V,z=!!(U&&U.createEvent&&l.dispatchEvent),H="unhandledrejection",G=function(e){var t;return!(!v(e)||!m(t=e.then))&&t},$=function(e,t){var n,r,i,a=t.value,o=1===t.state,s=o?e.ok:e.fail,c=e.resolve,l=e.reject,d=e.domain;try{s?(o||(2===t.rejection&&Y(t),t.rejection=1),!0===s?n=a:(d&&d.enter(),n=s(a),d&&(d.exit(),i=!0)),n===e.promise?l(new j("Promise-chain cycle")):(r=G(n))?u(r,n,c,l):c(n)):l(a)}catch(h){d&&!i&&d.exit(),l(h)}},K=function(e,t){e.notified||(e.notified=!0,w((function(){for(var n,r=e.reactions;n=r.get();)$(n,e);e.notified=!1,t&&!e.rejection&&q(e)})))},Q=function(e,t,n){var r,i;z?((r=U.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},!D&&(i=l["on"+e])?i(r):e===H&&S("Unhandled promise rejection",n)},q=function(e){u(b,l,(function(){var t,n=e.facade,r=e.value;if(Z(e)&&(t=E((function(){c?B.emit("unhandledRejection",r,n):Q(H,n,r)})),e.rejection=c||Z(e)?2:1,t.error))throw t.value}))},Z=function(e){return 1!==e.rejection&&!e.parent},Y=function(e){u(b,l,(function(){var t=e.facade;c?B.emit("rejectionHandled",t):Q("rejectionhandled",t,e.value)}))},X=function(e,t,n){return function(r){e(t,r,n)}},J=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,K(e,!0))},ee=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new j("Promise can't be resolved itself");var r=G(t);r?w((function(){var n={done:!1};try{u(r,t,X(ee,n,e),X(J,n,e))}catch(i){J(n,i,e)}})):(e.value=t,e.state=1,K(e,!1))}catch(i){J({done:!1},i,e)}}};if(M&&(P=(F=function(e){y(this,P),g(e),u(r,this);var t=L(this);try{e(X(ee,t),X(J,t))}catch(n){J(t,n)}}).prototype,(r=function(e){k(this,{type:N,done:!1,notified:!1,parent:!1,reactions:new I,rejection:!1,state:0,value:null})}).prototype=d(P,"then",(function(e,t){var n=L(this),r=V(_(this,F));return n.parent=!0,r.ok=!m(e)||e,r.fail=m(t)&&t,r.domain=c?B.domain:void 0,0===n.state?n.reactions.add(r):w((function(){$(r,n)})),r.promise})),i=function(){var e=new r,t=L(e);this.promise=e,this.resolve=X(ee,t),this.reject=X(J,t)},A.f=V=function(e){return e===F||void 0===e?new i(e):W(e)},!s&&m(O)&&x!==Object.prototype)){a=x.then,R||d(x,"then",(function(e,t){var n=this;return new F((function(e,t){u(a,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete x.constructor}catch(te){}h&&h(x,P)}o({global:!0,constructor:!0,wrap:!0,forced:M},{Promise:F}),f(F,N,!1,!0),p(N)},function(e,t,n){"use strict";var r=n(1116);e.exports="NODE"===r},function(e,t,n){"use strict";var r=n(842),i=n(867),a=n(854),o=function(e){return i.slice(0,e.length)===e};e.exports=o("Bun/")?"BUN":o("Cloudflare-Workers")?"CLOUDFLARE":o("Deno/")?"DENO":o("Node.js/")?"NODE":r.Bun&&"string"==typeof Bun.version?"BUN":r.Deno&&"object"==typeof Deno.version?"DENO":"process"===a(r.process)?"NODE":r.window&&r.document?"BROWSER":"REST"},function(e,t,n){"use strict";var r,i,a,o,s=n(842),c=n(933),l=n(923),u=n(860),d=n(877),h=n(846),f=n(913),p=n(915),g=n(881),m=n(1118),v=n(1119),y=n(1115),_=s.setImmediate,b=s.clearImmediate,w=s.process,S=s.Dispatch,E=s.Function,I=s.MessageChannel,C=s.String,O=0,T={},A="onreadystatechange";h((function(){r=s.location}));var N=function(e){if(d(T,e)){var t=T[e];delete T[e],t()}},M=function(e){return function(){N(e)}},D=function(e){N(e.data)},R=function(e){s.postMessage(C(e),r.protocol+"//"+r.host)};_&&b||(_=function(e){m(arguments.length,1);var t=u(e)?e:E(e),n=p(arguments,1);return T[++O]=function(){c(t,void 0,n)},i(O),O},b=function(e){delete T[e]},y?i=function(e){w.nextTick(M(e))}:S&&S.now?i=function(e){S.now(M(e))}:I&&!v?(o=(a=new I).port2,a.port1.onmessage=D,i=l(o.postMessage,o)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!h(R)?(i=R,s.addEventListener("message",D,!1)):i=A in g("script")?function(e){f.appendChild(g("script"))[A]=function(){f.removeChild(this),N(e)}}:function(e){setTimeout(M(e),0)}),e.exports={set:_,clear:b}},function(e,t,n){"use strict";var r=TypeError;e.exports=function(e,t){if(e<t)throw new r("Not enough arguments");return e}},function(e,t,n){"use strict";var r=n(867);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},function(e,t,n){"use strict";var r,i,a,o,s,c=n(842),l=n(1121),u=n(923),d=n(1117).set,h=n(1122),f=n(1119),p=n(1123),g=n(1124),m=n(1115),v=c.MutationObserver||c.WebKitMutationObserver,y=c.document,_=c.process,b=c.Promise,w=l("queueMicrotask");if(!w){var S=new h,E=function(){var e,t;for(m&&(e=_.domain)&&e.exit();t=S.get();)try{t()}catch(n){throw S.head&&r(),n}e&&e.enter()};f||m||g||!v||!y?!p&&b&&b.resolve?((o=b.resolve(void 0)).constructor=b,s=u(o.then,o),r=function(){s(E)}):m?r=function(){_.nextTick(E)}:(d=u(d,c),r=function(){d(E)}):(i=!0,a=y.createTextNode(""),new v(E).observe(a,{characterData:!0}),r=function(){a.data=i=!i}),w=function(e){S.head||r(),S.add(e)}}e.exports=w},function(e,t,n){"use strict";var r=n(842),i=n(845),a=Object.getOwnPropertyDescriptor;e.exports=function(e){if(!i)return r[e];var t=a(r,e);return t&&t.value}},function(e,t,n){"use strict";var r=function(){this.head=null,this.tail=null};r.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=r},function(e,t,n){"use strict";var r=n(867);e.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},function(e,t,n){"use strict";var r=n(867);e.exports=/web0s(?!.*chrome)/i.test(r)},function(e,t,n){"use strict";e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(n){}}},function(e,t,n){"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},function(e,t,n){"use strict";var r=n(842);e.exports=r.Promise},function(e,t,n){"use strict";var r=n(842),i=n(1127),a=n(860),o=n(906),s=n(889),c=n(872),l=n(1116),u=n(875),d=n(866),h=i&&i.prototype,f=c("species"),p=!1,g=a(r.PromiseRejectionEvent),m=o("Promise",(function(){var e=s(i),t=e!==String(i);if(!t&&66===d)return!0;if(u&&(!h.catch||!h.finally))return!0;if(!d||d<51||!/native code/.test(e)){var n=new i((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((n.constructor={})[f]=r,!(p=n.then((function(){}))instanceof r))return!0}return!t&&("BROWSER"===l||"DENO"===l)&&!g}));e.exports={CONSTRUCTOR:m,REJECTION_EVENT:g,SUBCLASSING:p}},function(e,t,n){"use strict";var r=n(869),i=TypeError,a=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw new i("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new a(e)}},function(e,t,n){"use strict";var r=n(841),i=n(847),a=n(869),o=n(1129),s=n(1126),c=n(962);r({target:"Promise",stat:!0,forced:n(1131)},{all:function(e){var t=this,n=o.f(t),r=n.resolve,l=n.reject,u=s((function(){var n=a(t.resolve),o=[],s=0,u=1;c(e,(function(e){var a=s++,c=!1;u++,i(n,t,e).then((function(e){c||(c=!0,o[a]=e,--u||r(o))}),l)})),--u||r(o)}));return u.error&&l(u.value),n.promise}})},function(e,t,n){"use strict";var r=n(1127),i=n(989),a=n(1128).CONSTRUCTOR;e.exports=a||!i((function(e){r.all(e).then(void 0,(function(){}))}))},function(e,t,n){"use strict";var r=n(841),i=n(875),a=n(1128).CONSTRUCTOR,o=n(1127),s=n(862),c=n(860),l=n(886),u=o&&o.prototype;if(r({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&c(o)){var d=s("Promise").prototype.catch;u.catch!==d&&l(u,"catch",d,{unsafe:!0})}},function(e,t,n){"use strict";var r=n(841),i=n(847),a=n(869),o=n(1129),s=n(1126),c=n(962);r({target:"Promise",stat:!0,forced:n(1131)},{race:function(e){var t=this,n=o.f(t),r=n.reject,l=s((function(){var o=a(t.resolve);c(e,(function(e){i(o,t,e).then(n.resolve,r)}))}));return l.error&&r(l.value),n.promise}})},function(e,t,n){"use strict";var r=n(841),i=n(1129);r({target:"Promise",stat:!0,forced:n(1128).CONSTRUCTOR},{reject:function(e){var t=i.f(this);return(0,t.reject)(e),t.promise}})},function(e,t,n){"use strict";var r=n(841),i=n(862),a=n(875),o=n(1127),s=n(1128).CONSTRUCTOR,c=n(1136),l=i("Promise"),u=a&&!s;r({target:"Promise",stat:!0,forced:a||s},{resolve:function(e){return c(u&&this===l?o:this,e)}})},function(e,t,n){"use strict";var r=n(885),i=n(859),a=n(1129);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(841),i=n(847),a=n(869),o=n(1129),s=n(1126),c=n(962);r({target:"Promise",stat:!0,forced:n(1131)},{allSettled:function(e){var t=this,n=o.f(t),r=n.resolve,l=n.reject,u=s((function(){var n=a(t.resolve),o=[],s=0,l=1;c(e,(function(e){var a=s++,c=!1;l++,i(n,t,e).then((function(e){c||(c=!0,o[a]={status:"fulfilled",value:e},--l||r(o))}),(function(e){c||(c=!0,o[a]={status:"rejected",reason:e},--l||r(o))}))})),--l||r(o)}));return u.error&&l(u.value),n.promise}})},function(e,t,n){"use strict";var r=n(841),i=n(847),a=n(869),o=n(862),s=n(1129),c=n(1126),l=n(962),u=n(1131),d="No one promise resolved";r({target:"Promise",stat:!0,forced:u},{any:function(e){var t=this,n=o("AggregateError"),r=s.f(t),u=r.resolve,h=r.reject,f=c((function(){var r=a(t.resolve),o=[],s=0,c=1,f=!1;l(e,(function(e){var a=s++,l=!1;c++,i(r,t,e).then((function(e){l||f||(f=!0,u(e))}),(function(e){l||f||(l=!0,o[a]=e,--c||h(new n(o,d)))}))})),--c||h(new n(o,d))}));return f.error&&h(f.value),r.promise}})},function(e,t,n){"use strict";var r=n(841),i=n(875),a=n(1127),o=n(846),s=n(862),c=n(860),l=n(1027),u=n(1136),d=n(886),h=a&&a.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){h.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=l(this,s("Promise")),n=c(e);return this.then(n?function(n){return u(t,e()).then((function(){return n}))}:e,n?function(n){return u(t,e()).then((function(){throw n}))}:e)}}),!i&&c(a)){var f=s("Promise").prototype.finally;h.finally!==f&&d(h,"finally",f,{unsafe:!0})}},function(e,t,n){"use strict";var r=n(841),i=n(933),a=n(869),o=n(885);r({target:"Reflect",stat:!0,forced:!n(846)((function(){Reflect.apply((function(){}))}))},{apply:function(e,t,n){return i(a(e),t,o(n))}})},function(e,t,n){"use strict";var r=n(841),i=n(862),a=n(933),o=n(1142),s=n(1028),c=n(885),l=n(859),u=n(910),d=n(846),h=i("Reflect","construct"),f=Object.prototype,p=[].push,g=d((function(){function e(){}return!(h((function(){}),[],e)instanceof e)})),m=!d((function(){h((function(){}))})),v=g||m;r({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(e,t){s(e),c(t);var n=arguments.length<3?e:s(arguments[2]);if(m&&!g)return h(e,t,n);if(e===n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return a(p,r,t),new(a(o,e,r))}var i=n.prototype,d=u(l(i)?i:f),v=a(e,d,t);return l(v)?v:d}})},function(e,t,n){"use strict";var r=n(853),i=n(869),a=n(859),o=n(877),s=n(915),c=n(848),l=Function,u=r([].concat),d=r([].join),h={};e.exports=c?l.bind:function(e){var t=i(this),n=t.prototype,r=s(arguments,1),c=function(){var n=u(r,s(arguments));return this instanceof c?function(e,t,n){if(!o(h,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";h[t]=l("C,a","return new C("+d(r,",")+")")}return h[t](e,n)}(t,n.length,n):t.apply(e,n)};return a(n)&&(c.prototype=n),c}},function(e,t,n){"use strict";var r=n(841),i=n(845),a=n(885),o=n(857),s=n(883);r({target:"Reflect",stat:!0,forced:n(846)((function(){Reflect.defineProperty(s.f({},1,{value:1}),1,{value:2})})),sham:!i},{defineProperty:function(e,t,n){a(e);var r=o(t);a(n);try{return s.f(e,r,n),!0}catch(i){return!1}}})},function(e,t,n){"use strict";var r=n(841),i=n(885),a=n(844).f;r({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var n=a(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";var r=n(841),i=n(847),a=n(859),o=n(885),s=n(1146),c=n(844),l=n(952);r({target:"Reflect",stat:!0},{get:function e(t,n){var r,u,d=arguments.length<3?t:arguments[2];return o(t)===d?t[n]:(r=c.f(t,n))?s(r)?r.value:void 0===r.get?void 0:i(r.get,d):a(u=l(t))?e(u,n,d):void 0}})},function(e,t,n){"use strict";var r=n(877);e.exports=function(e){return void 0!==e&&(r(e,"value")||r(e,"writable"))}},function(e,t,n){"use strict";var r=n(841),i=n(845),a=n(885),o=n(844);r({target:"Reflect",stat:!0,sham:!i},{getOwnPropertyDescriptor:function(e,t){return o.f(a(e),t)}})},function(e,t,n){"use strict";var r=n(841),i=n(885),a=n(952);r({target:"Reflect",stat:!0,sham:!n(953)},{getPrototypeOf:function(e){return a(i(e))}})},function(e,t,n){"use strict";n(841)({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})},function(e,t,n){"use strict";var r=n(841),i=n(885),a=n(1039);r({target:"Reflect",stat:!0},{isExtensible:function(e){return i(e),a(e)}})},function(e,t,n){"use strict";n(841)({target:"Reflect",stat:!0},{ownKeys:n(895)})},function(e,t,n){"use strict";var r=n(841),i=n(862),a=n(885);r({target:"Reflect",stat:!0,sham:!n(1041)},{preventExtensions:function(e){a(e);try{var t=i("Object","preventExtensions");return t&&t(e),!0}catch(n){return!1}}})},function(e,t,n){"use strict";var r=n(841),i=n(847),a=n(885),o=n(859),s=n(1146),c=n(846),l=n(883),u=n(844),d=n(952),h=n(850);r({target:"Reflect",stat:!0,forced:c((function(){var e=function(){},t=l.f(new e,"a",{configurable:!0});return!1!==Reflect.set(e.prototype,"a",1,t)}))},{set:function e(t,n,r){var c,f,p,g=arguments.length<4?t:arguments[3],m=u.f(a(t),n);if(!m){if(o(f=d(t)))return e(f,n,r,g);m=h(0)}if(s(m)){if(!1===m.writable||!o(g))return!1;if(c=u.f(g,n)){if(c.get||c.set||!1===c.writable)return!1;c.value=r,l.f(g,n,c)}else l.f(g,n,h(0,r))}else{if(void 0===(p=m.set))return!1;i(p,g,r)}return!0}})},function(e,t,n){"use strict";var r=n(841),i=n(885),a=n(956),o=n(954);o&&r({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){i(e),a(t);try{return o(e,t),!0}catch(n){return!1}}})},function(e,t,n){"use strict";var r=n(841),i=n(842),a=n(921);r({global:!0},{Reflect:{}}),a(i.Reflect,"Reflect",!0)},function(e,t,n){"use strict";var r=n(845),i=n(842),a=n(853),o=n(906),s=n(1023),c=n(882),l=n(910),u=n(896).f,d=n(863),h=n(1157),f=n(907),p=n(1158),g=n(1160),m=n(1161),v=n(886),y=n(846),_=n(877),b=n(890).enforce,w=n(1008),S=n(872),E=n(1162),I=n(1163),C=S("match"),O=i.RegExp,T=O.prototype,A=i.SyntaxError,N=a(T.exec),M=a("".charAt),D=a("".replace),R=a("".indexOf),L=a("".slice),k=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,x=/a/g,F=/a/g,P=new O(x)!==x,j=g.MISSED_STICKY,U=g.UNSUPPORTED_Y;if(o("RegExp",r&&(!P||j||E||I||y((function(){return F[C]=!1,O(x)!==x||O(F)===F||"/a/i"!==String(O(x,"i"))}))))){for(var B=function(e,t){var n,r,i,a,o,u,g=d(T,this),m=h(e),v=void 0===t,y=[],w=e;if(!g&&m&&v&&e.constructor===B)return e;if((m||d(T,e))&&(e=e.source,v&&(t=p(w))),e=void 0===e?"":f(e),t=void 0===t?"":f(t),w=e,E&&"dotAll"in x&&(r=!!t&&R(t,"s")>-1)&&(t=D(t,/s/g,"")),n=t,j&&"sticky"in x&&(i=!!t&&R(t,"y")>-1)&&U&&(t=D(t,/y/g,"")),I&&(a=function(e){for(var t,n=e.length,r=0,i="",a=[],o=l(null),s=!1,c=!1,u=0,d="";r<=n;r++){if("\\"===(t=M(e,r)))t+=M(e,++r);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:if(i+=t,"?:"===L(e,r+1,r+3))continue;N(k,L(e,r+1))&&(r+=2,c=!0),u++;continue;case">"===t&&c:if(""===d||_(o,d))throw new A("Invalid capture group name");o[d]=!0,a[a.length]=[d,u],c=!1,d="";continue}c?d+=t:i+=t}return[i,a]}(e),e=a[0],y=a[1]),o=s(O(e,t),g?this:T,B),(r||i||y.length)&&(u=b(o),r&&(u.dotAll=!0,u.raw=B(function(e){for(var t,n=e.length,r=0,i="",a=!1;r<=n;r++)"\\"!==(t=M(e,r))?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),i+=t):i+="[\\s\\S]":i+=t+M(e,++r);return i}(e),n)),i&&(u.sticky=!0),y.length&&(u.groups=y)),e!==w)try{c(o,"source",""===w?"(?:)":w)}catch(S){}return o},V=u(O),W=0;V.length>W;)m(B,O,V[W++]);T.constructor=B,B.prototype=T,v(i,"RegExp",B,{constructor:!0})}w("RegExp")},function(e,t,n){"use strict";var r=n(859),i=n(854),a=n(872)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"===i(e))}},function(e,t,n){"use strict";var r=n(847),i=n(877),a=n(863),o=n(1159),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||i(e,"flags")||!a(s,e)?t:r(o,e)}},function(e,t,n){"use strict";var r=n(885);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(846),i=n(842).RegExp,a=r((function(){var e=i("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),o=a||r((function(){return!i("a","y").sticky})),s=a||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:o,UNSUPPORTED_Y:a}},function(e,t,n){"use strict";var r=n(883).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},function(e,t,n){"use strict";var r=n(846),i=n(842).RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}))},function(e,t,n){"use strict";var r=n(846),i=n(842).RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},function(e,t,n){"use strict";var r=n(845),i=n(1162),a=n(854),o=n(916),s=n(890).get,c=RegExp.prototype,l=TypeError;r&&i&&o(c,"dotAll",{configurable:!0,get:function(){if(this!==c){if("RegExp"===a(this))return!!s(this).dotAll;throw new l("Incompatible receiver, RegExp required")}}})},function(e,t,n){"use strict";var r=n(841),i=n(1166);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(e,t,n){"use strict";var r=n(847),i=n(853),a=n(907),o=n(1159),s=n(1160),c=n(873),l=n(910),u=n(890).get,d=n(1162),h=n(1163),f=c("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,g=p,m=i("".charAt),v=i("".indexOf),y=i("".replace),_=i("".slice),b=function(){var e=/a/,t=/b*/g;return r(p,e,"a"),r(p,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),w=s.BROKEN_CARET,S=void 0!==/()??/.exec("")[1];(b||S||w||d||h)&&(g=function(e){var t,n,i,s,c,d,h,E=this,I=u(E),C=a(e),O=I.raw;if(O)return O.lastIndex=E.lastIndex,t=r(g,O,C),E.lastIndex=O.lastIndex,t;var T=I.groups,A=w&&E.sticky,N=r(o,E),M=E.source,D=0,R=C;if(A&&(N=y(N,"y",""),-1===v(N,"g")&&(N+="g"),R=_(C,E.lastIndex),E.lastIndex>0&&(!E.multiline||E.multiline&&"\n"!==m(C,E.lastIndex-1))&&(M="(?: "+M+")",R=" "+R,D++),n=new RegExp("^(?:"+M+")",N)),S&&(n=new RegExp("^"+M+"$(?!\\s)",N)),b&&(i=E.lastIndex),s=r(p,A?n:E,R),A?s?(s.input=_(s.input,D),s[0]=_(s[0],D),s.index=E.lastIndex,E.lastIndex+=s[0].length):E.lastIndex=0:b&&s&&(E.lastIndex=E.global?s.index+s[0].length:i),S&&s&&s.length>1&&r(f,s[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(s[c]=void 0)})),s&&T)for(s.groups=d=l(null),c=0;c<T.length;c++)d[(h=T[c])[0]]=s[h[1]];return s}),e.exports=g},function(e,t,n){"use strict";var r=n(842),i=n(845),a=n(916),o=n(1159),s=n(846),c=r.RegExp,l=c.prototype;i&&s((function(){var e=!0;try{c(".","d")}catch(s){e=!1}var t={},n="",r=e?"dgimsy":"gimsy",i=function(e,r){Object.defineProperty(t,e,{get:function(){return n+=r,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in e&&(a.hasIndices="d"),a)i(o,a[o]);return Object.getOwnPropertyDescriptor(l,"flags").get.call(t)!==r||n!==r}))&&a(l,"flags",{configurable:!0,get:o})},function(e,t,n){"use strict";var r=n(845),i=n(1160).MISSED_STICKY,a=n(854),o=n(916),s=n(890).get,c=RegExp.prototype,l=TypeError;r&&i&&o(c,"sticky",{configurable:!0,get:function(){if(this!==c){if("RegExp"===a(this))return!!s(this).sticky;throw new l("Incompatible receiver, RegExp required")}}})},function(e,t,n){"use strict";n(1165);var r=n(841),i=n(847),a=n(860),o=n(885),s=n(907),c=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),l=/./.test;r({target:"RegExp",proto:!0,forced:!c},{test:function(e){var t=o(this),n=s(e),r=t.exec;if(!a(r))return i(l,t,n);var c=i(r,t,n);return null!==c&&(o(c),!0)}})},function(e,t,n){"use strict";var r=n(888).PROPER,i=n(886),a=n(885),o=n(907),s=n(846),c=n(1158),l="toString",u=RegExp.prototype,d=u[l],h=s((function(){return"/a/b"!==d.call({source:"a",flags:"b"})})),f=r&&d.name!==l;(h||f)&&i(u,l,(function(){var e=a(this);return"/"+o(e.source)+"/"+o(c(e))}),{unsafe:!0})},function(e,t,n){"use strict";n(1172)},function(e,t,n){"use strict";n(1037)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(1042))},function(e,t,n){"use strict";var r=n(841),i=n(853),a=n(855),o=n(900),s=n(907),c=n(846),l=i("".charAt);r({target:"String",proto:!0,forced:c((function(){return"\ud842"!=="\ud842\udfb7".at(-2)}))},{at:function(e){var t=s(a(this)),n=t.length,r=o(e),i=r>=0?r:n+r;return i<0||i>=n?void 0:l(t,i)}})},function(e,t,n){"use strict";var r=n(841),i=n(1175).codeAt;r({target:"String",proto:!0},{codePointAt:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(853),i=n(900),a=n(907),o=n(855),s=r("".charAt),c=r("".charCodeAt),l=r("".slice),u=function(e){return function(t,n){var r,u,d=a(o(t)),h=i(n),f=d.length;return h<0||h>=f?e?"":void 0:(r=c(d,h))<55296||r>56319||h+1===f||(u=c(d,h+1))<56320||u>57343?e?s(d,h):r:e?l(d,h,h+2):u-56320+(r-55296<<10)+65536}};e.exports={codeAt:u(!1),charAt:u(!0)}},function(e,t,n){"use strict";var r=n(841),i=n(924),a=n(844).f,o=n(903),s=n(907),c=n(1177),l=n(855),u=n(1178),d=n(875),h=i("".slice),f=Math.min,p=u("endsWith");r({target:"String",proto:!0,forced:!(!d&&!p&&function(){var e=a(String.prototype,"endsWith");return e&&!e.writable}())&&!p},{endsWith:function(e){var t=s(l(this));c(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,i=void 0===n?r:f(o(n),r),a=s(e);return h(t,i-a.length,i)===a}})},function(e,t,n){"use strict";var r=n(1157),i=TypeError;e.exports=function(e){if(r(e))throw new i("The method doesn't accept regular expressions");return e}},function(e,t,n){"use strict";var r=n(872)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(i){}}return!1}},function(e,t,n){"use strict";var r=n(841),i=n(853),a=n(899),o=RangeError,s=String.fromCharCode,c=String.fromCodePoint,l=i([].join);r({target:"String",stat:!0,arity:1,forced:!!c&&1!==c.length},{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,i=0;r>i;){if(t=+arguments[i++],a(t,1114111)!==t)throw new o(t+" is not a valid code point");n[i]=t<65536?s(t):s(55296+((t-=65536)>>10),t%1024+56320)}return l(n,"")}})},function(e,t,n){"use strict";var r=n(841),i=n(853),a=n(1177),o=n(855),s=n(907),c=n(1178),l=i("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~l(s(o(this)),s(a(e)),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(1175).charAt,i=n(907),a=n(890),o=n(992),s=n(995),c="String Iterator",l=a.set,u=a.getterFor(c);o(String,"String",(function(e){l(this,{type:c,string:i(e),index:0})}),(function(){var e,t=u(this),n=t.string,i=t.index;return i>=n.length?s(void 0,!0):(e=r(n,i),t.index+=e.length,s(e,!1))}))},function(e,t,n){"use strict";var r=n(847),i=n(1183),a=n(885),o=n(856),s=n(903),c=n(907),l=n(855),u=n(868),d=n(1184),h=n(1185);i("match",(function(e,t,n){return[function(t){var n=l(this),i=o(t)?void 0:u(t,e);return i?r(i,t,n):new RegExp(t)[e](c(n))},function(e){var r=a(this),i=c(e),o=n(t,r,i);if(o.done)return o.value;if(!r.global)return h(r,i);var l=r.unicode;r.lastIndex=0;for(var u,f=[],p=0;null!==(u=h(r,i));){var g=c(u[0]);f[p]=g,""===g&&(r.lastIndex=d(i,s(r.lastIndex),l)),p++}return 0===p?null:f}]}))},function(e,t,n){"use strict";n(1165);var r=n(847),i=n(886),a=n(1166),o=n(846),s=n(872),c=n(882),l=s("species"),u=RegExp.prototype;e.exports=function(e,t,n,d){var h=s(e),f=!o((function(){var t={};return t[h]=function(){return 7},7!==""[e](t)})),p=f&&!o((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t}));if(!f||!p||n){var g=/./[h],m=t(h,""[e],(function(e,t,n,i,o){var s=t.exec;return s===a||s===u.exec?f&&!o?{done:!0,value:r(g,t,n,i)}:{done:!0,value:r(e,n,t,i)}:{done:!1}}));i(String.prototype,e,m[0]),i(u,h,m[1])}d&&c(u[h],"sham",!0)}},function(e,t,n){"use strict";var r=n(1175).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){"use strict";var r=n(847),i=n(885),a=n(860),o=n(854),s=n(1166),c=TypeError;e.exports=function(e,t){var n=e.exec;if(a(n)){var l=r(n,e,t);return null!==l&&i(l),l}if("RegExp"===o(e))return r(s,e,t);throw new c("RegExp#exec called on incompatible receiver")}},function(e,t,n){"use strict";var r=n(841),i=n(847),a=n(924),o=n(993),s=n(995),c=n(855),l=n(903),u=n(907),d=n(885),h=n(856),f=n(854),p=n(1157),g=n(1158),m=n(868),v=n(886),y=n(846),_=n(872),b=n(1027),w=n(1184),S=n(1185),E=n(890),I=n(875),C=_("matchAll"),O="RegExp String",T=O+" Iterator",A=E.set,N=E.getterFor(T),M=RegExp.prototype,D=TypeError,R=a("".indexOf),L=a("".matchAll),k=!!L&&!y((function(){L("a",/./)})),x=o((function(e,t,n,r){A(this,{type:T,regexp:e,string:t,global:n,unicode:r,done:!1})}),O,(function(){var e=N(this);if(e.done)return s(void 0,!0);var t=e.regexp,n=e.string,r=S(t,n);return null===r?(e.done=!0,s(void 0,!0)):e.global?(""===u(r[0])&&(t.lastIndex=w(n,l(t.lastIndex),e.unicode)),s(r,!1)):(e.done=!0,s(r,!1))})),F=function(e){var t,n,r,i=d(this),a=u(e),o=b(i,RegExp),s=u(g(i));return t=new o(o===RegExp?i.source:i,s),n=!!~R(s,"g"),r=!!~R(s,"u"),t.lastIndex=l(i.lastIndex),new x(t,a,n,r)};r({target:"String",proto:!0,forced:k},{matchAll:function(e){var t,n,r,a,o=c(this);if(h(e)){if(k)return L(o,e)}else{if(p(e)&&(t=u(c(g(e))),!~R(t,"g")))throw new D("`.matchAll` does not allow non-global regexes");if(k)return L(o,e);if(void 0===(r=m(e,C))&&I&&"RegExp"===f(e)&&(r=F),r)return i(r,e,o)}return n=u(o),a=new RegExp(e,"g"),I?i(F,a,n):a[C](n)}}),I||C in M||v(M,C,F)},function(e,t,n){"use strict";var r=n(841),i=n(1188).end;r({target:"String",proto:!0,forced:n(1189)},{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(853),i=n(903),a=n(907),o=n(1082),s=n(855),c=r(o),l=r("".slice),u=Math.ceil,d=function(e){return function(t,n,r){var o,d,h=a(s(t)),f=i(n),p=h.length,g=void 0===r?" ":a(r);return f<=p||""===g?h:((d=c(g,u((o=f-p)/g.length))).length>o&&(d=l(d,0,o)),e?h+d:d+h)}};e.exports={start:d(!1),end:d(!0)}},function(e,t,n){"use strict";var r=n(867);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},function(e,t,n){"use strict";var r=n(841),i=n(1188).start;r({target:"String",proto:!0,forced:n(1189)},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(841),i=n(853),a=n(851),o=n(878),s=n(907),c=n(902),l=i([].push),u=i([].join);r({target:"String",stat:!0},{raw:function(e){var t=a(o(e).raw),n=c(t);if(!n)return"";for(var r=arguments.length,i=[],d=0;;){if(l(i,s(t[d++])),d===n)return u(i,"");d<r&&l(i,s(arguments[d]))}}})},function(e,t,n){"use strict";n(841)({target:"String",proto:!0},{repeat:n(1082)})},function(e,t,n){"use strict";var r=n(933),i=n(847),a=n(853),o=n(1183),s=n(846),c=n(885),l=n(860),u=n(856),d=n(900),h=n(903),f=n(907),p=n(855),g=n(1184),m=n(868),v=n(1194),y=n(1185),_=n(872)("replace"),b=Math.max,w=Math.min,S=a([].concat),E=a([].push),I=a("".indexOf),C=a("".slice),O="$0"==="a".replace(/./,"$0"),T=!!/./[_]&&""===/./[_]("a","$0");o("replace",(function(e,t,n){var a=T?"$":"$0";return[function(e,n){var r=p(this),a=u(e)?void 0:m(e,_);return a?i(a,e,r,n):i(t,f(r),e,n)},function(e,i){var o=c(this),s=f(e);if("string"==typeof i&&-1===I(i,a)&&-1===I(i,"$<")){var u=n(t,o,s,i);if(u.done)return u.value}var p=l(i);p||(i=f(i));var m,_=o.global;_&&(m=o.unicode,o.lastIndex=0);for(var O,T=[];null!==(O=y(o,s))&&(E(T,O),_);)""===f(O[0])&&(o.lastIndex=g(s,h(o.lastIndex),m));for(var A,N="",M=0,D=0;D<T.length;D++){for(var R,L=f((O=T[D])[0]),k=b(w(d(O.index),s.length),0),x=[],F=1;F<O.length;F++)E(x,void 0===(A=O[F])?A:String(A));var P=O.groups;if(p){var j=S([L],x,k,s);void 0!==P&&E(j,P),R=f(r(i,void 0,j))}else R=v(L,s,k,x,P,i);k>=M&&(N+=C(s,M,k)+R,M=k+L.length)}return N+C(s,M)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!O||T)},function(e,t,n){"use strict";var r=n(853),i=n(878),a=Math.floor,o=r("".charAt),s=r("".replace),c=r("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,d,h){var f=n+e.length,p=r.length,g=u;return void 0!==d&&(d=i(d),g=l),s(h,g,(function(i,s){var l;switch(o(s,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,n);case"'":return c(t,f);case"<":l=d[c(s,1,-1)];break;default:var u=+s;if(0===u)return i;if(u>p){var h=a(u/10);return 0===h?i:h<=p?void 0===r[h-1]?o(s,1):r[h-1]+o(s,1):i}l=r[u-1]}return void 0===l?"":l}))}},function(e,t,n){"use strict";var r=n(841),i=n(847),a=n(853),o=n(855),s=n(860),c=n(856),l=n(1157),u=n(907),d=n(868),h=n(1158),f=n(1194),p=n(872),g=n(875),m=p("replace"),v=TypeError,y=a("".indexOf),_=a("".replace),b=a("".slice),w=Math.max;r({target:"String",proto:!0},{replaceAll:function(e,t){var n,r,a,p,S,E,I,C,O,T,A=o(this),N=0,M="";if(!c(e)){if((n=l(e))&&(r=u(o(h(e))),!~y(r,"g")))throw new v("`.replaceAll` does not allow non-global regexes");if(a=d(e,m))return i(a,e,A,t);if(g&&n)return _(u(A),e,t)}for(p=u(A),S=u(e),(E=s(t))||(t=u(t)),I=S.length,C=w(1,I),O=y(p,S);-1!==O;)T=E?u(t(S,O,p)):f(S,p,O,[],void 0,t),M+=b(p,N,O)+T,N=O+I,O=O+C>p.length?-1:y(p,S,O+C);return N<p.length&&(M+=b(p,N)),M}})},function(e,t,n){"use strict";var r=n(847),i=n(1183),a=n(885),o=n(856),s=n(855),c=n(1098),l=n(907),u=n(868),d=n(1185);i("search",(function(e,t,n){return[function(t){var n=s(this),i=o(t)?void 0:u(t,e);return i?r(i,t,n):new RegExp(t)[e](l(n))},function(e){var r=a(this),i=l(e),o=n(t,r,i);if(o.done)return o.value;var s=r.lastIndex;c(s,0)||(r.lastIndex=0);var u=d(r,i);return c(r.lastIndex,s)||(r.lastIndex=s),null===u?-1:u.index}]}))},function(e,t,n){"use strict";var r=n(847),i=n(853),a=n(1183),o=n(885),s=n(856),c=n(855),l=n(1027),u=n(1184),d=n(903),h=n(907),f=n(868),p=n(1185),g=n(1160),m=n(846),v=g.UNSUPPORTED_Y,y=Math.min,_=i([].push),b=i("".slice),w=!m((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),S="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;a("split",(function(e,t,n){var i="0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:r(t,this,e,n)}:t;return[function(t,n){var a=c(this),o=s(t)?void 0:f(t,e);return o?r(o,t,a,n):r(i,h(a),t,n)},function(e,r){var a=o(this),s=h(e);if(!S){var c=n(i,a,s,r,i!==t);if(c.done)return c.value}var f=l(a,RegExp),g=a.unicode,m=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(v?"g":"y"),w=new f(v?"^(?:"+a.source+")":a,m),E=void 0===r?4294967295:r>>>0;if(0===E)return[];if(0===s.length)return null===p(w,s)?[s]:[];for(var I=0,C=0,O=[];C<s.length;){w.lastIndex=v?0:C;var T,A=p(w,v?b(s,C):s);if(null===A||(T=y(d(w.lastIndex+(v?C:0)),s.length))===I)C=u(s,C,g);else{if(_(O,b(s,I,C)),O.length===E)return O;for(var N=1;N<=A.length-1;N++)if(_(O,A[N]),O.length===E)return O;C=I=T}}return _(O,b(s,I)),O}]}),S||!w,v)},function(e,t,n){"use strict";var r=n(841),i=n(924),a=n(844).f,o=n(903),s=n(907),c=n(1177),l=n(855),u=n(1178),d=n(875),h=i("".slice),f=Math.min,p=u("startsWith");r({target:"String",proto:!0,forced:!(!d&&!p&&function(){var e=a(String.prototype,"startsWith");return e&&!e.writable}())&&!p},{startsWith:function(e){var t=s(l(this));c(e);var n=o(f(arguments.length>1?arguments[1]:void 0,t.length)),r=s(e);return h(t,n,n+r.length)===r}})},function(e,t,n){"use strict";var r=n(841),i=n(1066).trim;r({target:"String",proto:!0,forced:n(1200)("trim")},{trim:function(){return i(this)}})},function(e,t,n){"use strict";var r=n(888).PROPER,i=n(846),a=n(1067);e.exports=function(e){return i((function(){return!!a[e]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[e]()||r&&a[e].name!==e}))}},function(e,t,n){"use strict";n(1202);var r=n(841),i=n(1203);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==i},{trimEnd:i})},function(e,t,n){"use strict";var r=n(841),i=n(1203);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==i},{trimRight:i})},function(e,t,n){"use strict";var r=n(1066).end,i=n(1200);e.exports=i("trimEnd")?function(){return r(this)}:"".trimEnd},function(e,t,n){"use strict";n(1205);var r=n(841),i=n(1206);r({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==i},{trimStart:i})},function(e,t,n){"use strict";var r=n(841),i=n(1206);r({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==i},{trimLeft:i})},function(e,t,n){"use strict";var r=n(1066).start,i=n(1200);e.exports=i("trimStart")?function(){return r(this)}:"".trimStart},function(e,t,n){"use strict";var r=n(841),i=n(1208);r({target:"String",proto:!0,forced:n(1209)("anchor")},{anchor:function(e){return i(this,"a","name",e)}})},function(e,t,n){"use strict";var r=n(853),i=n(855),a=n(907),o=/"/g,s=r("".replace);e.exports=function(e,t,n,r){var c=a(i(e)),l="<"+t;return""!==n&&(l+=" "+n+'="'+s(a(r),o,"&quot;")+'"'),l+">"+c+"</"+t+">"}},function(e,t,n){"use strict";var r=n(846);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},function(e,t,n){"use strict";var r=n(841),i=n(1208);r({target:"String",proto:!0,forced:n(1209)("big")},{big:function(){return i(this,"big","","")}})},function(e,t,n){"use strict";var r=n(841),i=n(1208);r({target:"String",proto:!0,forced:n(1209)("blink")},{blink:function(){return i(this,"blink","","")}})},function(e,t,n){"use strict";var r=n(841),i=n(1208);r({target:"String",proto:!0,forced:n(1209)("bold")},{bold:function(){return i(this,"b","","")}})},function(e,t,n){"use strict";var r=n(841),i=n(1208);r({target:"String",proto:!0,forced:n(1209)("fixed")},{fixed:function(){return i(this,"tt","","")}})},function(e,t,n){"use strict";var r=n(841),i=n(1208);r({target:"String",proto:!0,forced:n(1209)("fontcolor")},{fontcolor:function(e){return i(this,"font","color",e)}})},function(e,t,n){"use strict";var r=n(841),i=n(1208);r({target:"String",proto:!0,forced:n(1209)("fontsize")},{fontsize:function(e){return i(this,"font","size",e)}})},function(e,t,n){"use strict";var r=n(841),i=n(1208);r({target:"String",proto:!0,forced:n(1209)("italics")},{italics:function(){return i(this,"i","","")}})},function(e,t,n){"use strict";var r=n(841),i=n(1208);r({target:"String",proto:!0,forced:n(1209)("link")},{link:function(e){return i(this,"a","href",e)}})},function(e,t,n){"use strict";var r=n(841),i=n(1208);r({target:"String",proto:!0,forced:n(1209)("small")},{small:function(){return i(this,"small","","")}})},function(e,t,n){"use strict";var r=n(841),i=n(1208);r({target:"String",proto:!0,forced:n(1209)("strike")},{strike:function(){return i(this,"strike","","")}})},function(e,t,n){"use strict";var r=n(841),i=n(1208);r({target:"String",proto:!0,forced:n(1209)("sub")},{sub:function(){return i(this,"sub","","")}})},function(e,t,n){"use strict";var r=n(841),i=n(1208);r({target:"String",proto:!0,forced:n(1209)("sup")},{sup:function(){return i(this,"sup","","")}})},function(e,t,n){"use strict";n(1223)("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){"use strict";var r=n(841),i=n(842),a=n(847),o=n(845),s=n(1224),c=n(1025),l=n(1014),u=n(1017),d=n(850),h=n(882),f=n(1072),p=n(903),g=n(1018),m=n(1225),v=n(1227),y=n(857),_=n(877),b=n(908),w=n(859),S=n(861),E=n(910),I=n(863),C=n(954),O=n(896).f,T=n(1228),A=n(922).forEach,N=n(1008),M=n(916),D=n(883),R=n(844),L=n(1231),k=n(890),x=n(1023),F=k.get,P=k.set,j=k.enforce,U=D.f,B=R.f,V=i.RangeError,W=l.ArrayBuffer,z=W.prototype,H=l.DataView,G=c.NATIVE_ARRAY_BUFFER_VIEWS,$=c.TYPED_ARRAY_TAG,K=c.TypedArray,Q=c.TypedArrayPrototype,q=c.isTypedArray,Z="BYTES_PER_ELEMENT",Y="Wrong length",X=function(e,t){M(e,t,{configurable:!0,get:function(){return F(this)[t]}})},J=function(e){var t;return I(z,e)||"ArrayBuffer"===(t=b(e))||"SharedArrayBuffer"===t},ee=function(e,t){return q(e)&&!S(t)&&t in e&&f(+t)&&t>=0},te=function(e,t){return t=y(t),ee(e,t)?d(2,e[t]):B(e,t)},ne=function(e,t,n){return t=y(t),!(ee(e,t)&&w(n)&&_(n,"value"))||_(n,"get")||_(n,"set")||n.configurable||_(n,"writable")&&!n.writable||_(n,"enumerable")&&!n.enumerable?U(e,t,n):(e[t]=n.value,e)};o?(G||(R.f=te,D.f=ne,X(Q,"buffer"),X(Q,"byteOffset"),X(Q,"byteLength"),X(Q,"length")),r({target:"Object",stat:!0,forced:!G},{getOwnPropertyDescriptor:te,defineProperty:ne}),e.exports=function(e,t,n){var o=e.match(/\d+/)[0]/8,c=e+(n?"Clamped":"")+"Array",l="get"+e,d="set"+e,f=i[c],y=f,_=y&&y.prototype,b={},S=function(e,t){U(e,t,{get:function(){return function(e,t){var n=F(e);return n.view[l](t*o+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,r){var i=F(e);i.view[d](t*o+i.byteOffset,n?v(r):r,!0)}(this,t,e)},enumerable:!0})};G?s&&(y=t((function(e,t,n,r){return u(e,_),x(w(t)?J(t)?void 0!==r?new f(t,m(n,o),r):void 0!==n?new f(t,m(n,o)):new f(t):q(t)?L(y,t):a(T,y,t):new f(g(t)),e,y)})),C&&C(y,K),A(O(f),(function(e){e in y||h(y,e,f[e])})),y.prototype=_):(y=t((function(e,t,n,r){u(e,_);var i,s,c,l=0,d=0;if(w(t)){if(!J(t))return q(t)?L(y,t):a(T,y,t);i=t,d=m(n,o);var h=t.byteLength;if(void 0===r){if(h%o)throw new V(Y);if((s=h-d)<0)throw new V(Y)}else if((s=p(r)*o)+d>h)throw new V(Y);c=s/o}else c=g(t),i=new W(s=c*o);for(P(e,{buffer:i,byteOffset:d,byteLength:s,length:c,view:new H(i)});l<c;)S(e,l++)})),C&&C(y,K),_=y.prototype=E(Q)),_.constructor!==y&&h(_,"constructor",y),j(_).TypedArrayConstructor=y,$&&h(_,$,c);var I=y!==f;b[c]=y,r({global:!0,constructor:!0,forced:I,sham:!G},b),Z in y||h(y,Z,o),Z in _||h(_,Z,o),N(c)}):e.exports=function(){}},function(e,t,n){"use strict";var r=n(842),i=n(846),a=n(989),o=n(1025).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,c=r.Int8Array;e.exports=!o||!i((function(){c(1)}))||!i((function(){new c(-1)}))||!a((function(e){new c,new c(null),new c(1.5),new c(e)}),!0)||i((function(){return 1!==new c(new s(2),1,void 0).length}))},function(e,t,n){"use strict";var r=n(1226),i=RangeError;e.exports=function(e,t){var n=r(e);if(n%t)throw new i("Wrong offset");return n}},function(e,t,n){"use strict";var r=n(900),i=RangeError;e.exports=function(e){var t=r(e);if(t<0)throw new i("The argument can't be less than 0");return t}},function(e,t,n){"use strict";var r=Math.round;e.exports=function(e){var t=r(e);return t<0?0:t>255?255:255&t}},function(e,t,n){"use strict";var r=n(923),i=n(847),a=n(1028),o=n(878),s=n(902),c=n(965),l=n(966),u=n(963),d=n(1229),h=n(1025).aTypedArrayConstructor,f=n(1230);e.exports=function(e){var t,n,p,g,m,v,y,_,b=a(this),w=o(e),S=arguments.length,E=S>1?arguments[1]:void 0,I=void 0!==E,C=l(w);if(C&&!u(C))for(_=(y=c(w,C)).next,w=[];!(v=i(_,y)).done;)w.push(v.value);for(I&&S>2&&(E=r(E,arguments[2])),n=s(w),p=new(h(b))(n),g=d(p),t=0;n>t;t++)m=I?E(w[t],t):w[t],p[t]=g?f(m):+m;return p}},function(e,t,n){"use strict";var r=n(908);e.exports=function(e){var t=r(e);return"BigInt64Array"===t||"BigUint64Array"===t}},function(e,t,n){"use strict";var r=n(858),i=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw new i("Can't convert number to bigint");return BigInt(t)}},function(e,t,n){"use strict";var r=n(902);e.exports=function(e,t,n){for(var i=0,a=arguments.length>2?n:r(t),o=new e(a);a>i;)o[i]=t[i++];return o}},function(e,t,n){"use strict";n(1223)("Float64",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){"use strict";n(1223)("Int8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){"use strict";n(1223)("Int16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){"use strict";n(1223)("Int32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){"use strict";n(1223)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){"use strict";n(1223)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},function(e,t,n){"use strict";n(1223)("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){"use strict";n(1223)("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){"use strict";var r=n(1025),i=n(902),a=n(900),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("at",(function(e){var t=o(this),n=i(t),r=a(e),s=r>=0?r:n+r;return s<0||s>=n?void 0:t[s]}))},function(e,t,n){"use strict";var r=n(853),i=n(1025),a=r(n(976)),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",(function(e,t){return a(o(this),e,t,arguments.length>2?arguments[2]:void 0)}))},function(e,t,n){"use strict";var r=n(1025),i=n(922).every,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var r=n(1025),i=n(979),a=n(1230),o=n(908),s=n(847),c=n(853),l=n(846),u=r.aTypedArray,d=r.exportTypedArrayMethod,h=c("".slice);d("fill",(function(e){var t=arguments.length;u(this);var n="Big"===h(o(this),0,3)?a(e):+e;return s(i,this,n,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),l((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},function(e,t,n){"use strict";var r=n(1025),i=n(922).filter,a=n(1245),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",(function(e){var t=i(o(this),e,arguments.length>1?arguments[1]:void 0);return a(this,t)}))},function(e,t,n){"use strict";var r=n(1231),i=n(1246);e.exports=function(e,t){return r(i(e),t)}},function(e,t,n){"use strict";var r=n(1025),i=n(1027),a=r.aTypedArrayConstructor,o=r.getTypedArrayConstructor;e.exports=function(e){return a(i(e,o(e)))}},function(e,t,n){"use strict";var r=n(1025),i=n(922).find,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var r=n(1025),i=n(922).findIndex,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var r=n(1025),i=n(922).forEach,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(e){i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var r=n(1224);(0,n(1025).exportTypedArrayStaticMethod)("from",n(1228),r)},function(e,t,n){"use strict";var r=n(1025),i=n(898).includes,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var r=n(1025),i=n(898).indexOf,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var r=n(842),i=n(846),a=n(853),o=n(1025),s=n(991),c=n(872)("iterator"),l=r.Uint8Array,u=a(s.values),d=a(s.keys),h=a(s.entries),f=o.aTypedArray,p=o.exportTypedArrayMethod,g=l&&l.prototype,m=!i((function(){g[c].call([1])})),v=!!g&&g.values&&g[c]===g.values&&"values"===g.values.name,y=function(){return u(f(this))};p("entries",(function(){return h(f(this))}),m),p("keys",(function(){return d(f(this))}),m),p("values",y,m||!v,{name:"values"}),p(c,y,m||!v,{name:"values"})},function(e,t,n){"use strict";var r=n(1025),i=n(853),a=r.aTypedArray,o=r.exportTypedArrayMethod,s=i([].join);o("join",(function(e){return s(a(this),e)}))},function(e,t,n){"use strict";var r=n(1025),i=n(933),a=n(1256),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(e){var t=arguments.length;return i(a,o(this),t>1?[e,arguments[1]]:[e])}))},function(e,t,n){"use strict";var r=n(933),i=n(851),a=n(900),o=n(902),s=n(997),c=Math.min,l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0,d=s("lastIndexOf"),h=u||!d;e.exports=h?function(e){if(u)return r(l,this,arguments)||0;var t=i(this),n=o(t);if(0===n)return-1;var s=n-1;for(arguments.length>1&&(s=c(s,a(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:l},function(e,t,n){"use strict";var r=n(1025),i=n(922).map,a=n(1246),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("map",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(a(e))(t)}))}))},function(e,t,n){"use strict";var r=n(1025),i=n(1224),a=r.aTypedArrayConstructor;(0,r.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,n=new(a(this))(t);t>e;)n[e]=arguments[e++];return n}),i)},function(e,t,n){"use strict";var r=n(1025),i=n(1260).left,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(e){var t=arguments.length;return i(a(this),e,t,t>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var r=n(869),i=n(878),a=n(852),o=n(902),s=TypeError,c="Reduce of empty array with no initial value",l=function(e){return function(t,n,l,u){var d=i(t),h=a(d),f=o(d);if(r(n),0===f&&l<2)throw new s(c);var p=e?f-1:0,g=e?-1:1;if(l<2)for(;;){if(p in h){u=h[p],p+=g;break}if(p+=g,e?p<0:f<=p)throw new s(c)}for(;e?p>=0:f>p;p+=g)p in h&&(u=n(u,h[p],p,d));return u}};e.exports={left:l(!1),right:l(!0)}},function(e,t,n){"use strict";var r=n(1025),i=n(1260).right,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(e){var t=arguments.length;return i(a(this),e,t,t>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var r=n(1025),i=r.aTypedArray,a=r.exportTypedArrayMethod,o=Math.floor;a("reverse",(function(){for(var e,t=this,n=i(t).length,r=o(n/2),a=0;a<r;)e=t[a],t[a++]=t[--n],t[n]=e;return t}))},function(e,t,n){"use strict";var r=n(842),i=n(847),a=n(1025),o=n(902),s=n(1225),c=n(878),l=n(846),u=r.RangeError,d=r.Int8Array,h=d&&d.prototype,f=h&&h.set,p=a.aTypedArray,g=a.exportTypedArrayMethod,m=!l((function(){var e=new Uint8ClampedArray(2);return i(f,e,{length:1,0:3},1),3!==e[1]})),v=m&&a.NATIVE_ARRAY_BUFFER_VIEWS&&l((function(){var e=new d(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));g("set",(function(e){p(this);var t=s(arguments.length>1?arguments[1]:void 0,1),n=c(e);if(m)return i(f,this,n,t);var r=this.length,a=o(n),l=0;if(a+t>r)throw new u("Wrong length");for(;l<a;)this[t+l]=n[l++]}),!m||v)},function(e,t,n){"use strict";var r=n(1025),i=n(1246),a=n(846),o=n(915),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("slice",(function(e,t){for(var n=o(s(this),e,t),r=i(this),a=0,c=n.length,l=new r(c);c>a;)l[a]=n[a++];return l}),a((function(){new Int8Array(1).slice()})))},function(e,t,n){"use strict";var r=n(1025),i=n(922).some,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var r=n(842),i=n(924),a=n(846),o=n(869),s=n(1003),c=n(1025),l=n(1004),u=n(1005),d=n(866),h=n(1006),f=c.aTypedArray,p=c.exportTypedArrayMethod,g=r.Uint16Array,m=g&&i(g.prototype.sort),v=!!m&&!(a((function(){m(new g(2),null)}))&&a((function(){m(new g(2),{})}))),y=!!m&&!a((function(){if(d)return d<74;if(l)return l<67;if(u)return!0;if(h)return h<602;var e,t,n=new g(516),r=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(m(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0}));p("sort",(function(e){return void 0!==e&&o(e),y?m(this,e):s(f(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!==n?-1:t!==t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!y||v)},function(e,t,n){"use strict";var r=n(1025),i=n(903),a=n(899),o=n(1246),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",(function(e,t){var n=s(this),r=n.length,c=a(e,r);return new(o(n))(n.buffer,n.byteOffset+c*n.BYTES_PER_ELEMENT,i((void 0===t?r:a(t,r))-c))}))},function(e,t,n){"use strict";var r=n(842),i=n(933),a=n(1025),o=n(846),s=n(915),c=r.Int8Array,l=a.aTypedArray,u=a.exportTypedArrayMethod,d=[].toLocaleString,h=!!c&&o((function(){d.call(new c(1))}));u("toLocaleString",(function(){return i(d,h?s(l(this)):l(this),s(arguments))}),o((function(){return[1,2].toLocaleString()!==new c([1,2]).toLocaleString()}))||!o((function(){c.prototype.toLocaleString.call([1,2])})))},function(e,t,n){"use strict";var r=n(1025).exportTypedArrayMethod,i=n(846),a=n(842),o=n(853),s=a.Uint8Array,c=s&&s.prototype||{},l=[].toString,u=o([].join);i((function(){l.call({})}))&&(l=function(){return u(this)});var d=c.toString!==l;r("toString",l,d)},function(e,t,n){"use strict";n(1271)},function(e,t,n){"use strict";var r,i=n(1041),a=n(842),o=n(853),s=n(1016),c=n(1038),l=n(1037),u=n(1272),d=n(859),h=n(890).enforce,f=n(846),p=n(891),g=Object,m=Array.isArray,v=g.isExtensible,y=g.isFrozen,_=g.isSealed,b=g.freeze,w=g.seal,S=!a.ActiveXObject&&"ActiveXObject"in a,E=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},I=l("WeakMap",E,u),C=I.prototype,O=o(C.set);if(p)if(S){r=u.getConstructor(E,"WeakMap",!0),c.enable();var T=o(C.delete),A=o(C.has),N=o(C.get);s(C,{delete:function(e){if(d(e)&&!v(e)){var t=h(this);return t.frozen||(t.frozen=new r),T(this,e)||t.frozen.delete(e)}return T(this,e)},has:function(e){if(d(e)&&!v(e)){var t=h(this);return t.frozen||(t.frozen=new r),A(this,e)||t.frozen.has(e)}return A(this,e)},get:function(e){if(d(e)&&!v(e)){var t=h(this);return t.frozen||(t.frozen=new r),A(this,e)?N(this,e):t.frozen.get(e)}return N(this,e)},set:function(e,t){if(d(e)&&!v(e)){var n=h(this);n.frozen||(n.frozen=new r),A(this,e)?O(this,e,t):n.frozen.set(e,t)}else O(this,e,t);return this}})}else i&&f((function(){var e=b([]);return O(new I,e,1),!y(e)}))&&s(C,{set:function(e,t){var n;return m(e)&&(y(e)?n=b:_(e)&&(n=w)),O(this,e,t),n&&n(e),this}})},function(e,t,n){"use strict";var r=n(853),i=n(1016),a=n(1038).getWeakData,o=n(1017),s=n(885),c=n(856),l=n(859),u=n(962),d=n(922),h=n(877),f=n(890),p=f.set,g=f.getterFor,m=d.find,v=d.findIndex,y=r([].splice),_=0,b=function(e){return e.frozen||(e.frozen=new w)},w=function(){this.entries=[]},S=function(e,t){return m(e.entries,(function(e){return e[0]===t}))};w.prototype={get:function(e){var t=S(this,e);if(t)return t[1]},has:function(e){return!!S(this,e)},set:function(e,t){var n=S(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=v(this.entries,(function(t){return t[0]===e}));return~t&&y(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,n,r){var d=e((function(e,i){o(e,f),p(e,{type:t,id:_++,frozen:null}),c(i)||u(i,e[r],{that:e,AS_ENTRIES:n})})),f=d.prototype,m=g(t),v=function(e,t,n){var r=m(e),i=a(s(t),!0);return!0===i?b(r).set(t,n):i[r.id]=n,e};return i(f,{delete:function(e){var t=m(this);if(!l(e))return!1;var n=a(e);return!0===n?b(t).delete(e):n&&h(n,t.id)&&delete n[t.id]},has:function(e){var t=m(this);if(!l(e))return!1;var n=a(e);return!0===n?b(t).has(e):n&&h(n,t.id)}}),i(f,n?{get:function(e){var t=m(this);if(l(e)){var n=a(e);if(!0===n)return b(t).get(e);if(n)return n[t.id]}},set:function(e,t){return v(this,e,t)}}:{add:function(e){return v(this,e,!0)}}),d}}},function(e,t,n){"use strict";n(1274)},function(e,t,n){"use strict";n(1037)("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(1272))},function(e,t,n){"use strict";var r=n(842),i=n(1276),a=n(1277),o=n(1278),s=n(882),c=function(e){if(e&&e.forEach!==o)try{s(e,"forEach",o)}catch(t){e.forEach=o}};for(var l in i)i[l]&&c(r[l]&&r[l].prototype);c(a)},function(e,t,n){"use strict";e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){"use strict";var r=n(881)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},function(e,t,n){"use strict";var r=n(922).forEach,i=n(997)("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,n){"use strict";var r=n(842),i=n(1276),a=n(1277),o=n(991),s=n(882),c=n(921),l=n(872)("iterator"),u=o.values,d=function(e,t){if(e){if(e[l]!==u)try{s(e,l,u)}catch(r){e[l]=u}if(c(e,t,!0),i[t])for(var n in o)if(e[n]!==o[n])try{s(e,n,o[n])}catch(r){e[n]=o[n]}}};for(var h in i)d(r[h]&&r[h].prototype,h);d(a,"DOMTokenList")},function(e,t,n){"use strict";n(1281),n(1282)},function(e,t,n){"use strict";var r=n(841),i=n(842),a=n(1117).clear;r({global:!0,bind:!0,enumerable:!0,forced:i.clearImmediate!==a},{clearImmediate:a})},function(e,t,n){"use strict";var r=n(841),i=n(842),a=n(1117).set,o=n(1283),s=i.setImmediate?o(a,!1):a;r({global:!0,bind:!0,enumerable:!0,forced:i.setImmediate!==s},{setImmediate:s})},function(e,t,n){"use strict";var r=n(842),i=n(933),a=n(860),o=n(1116),s=n(867),c=n(915),l=n(1118),u=r.Function,d=/MSIE .\./.test(s)||"BUN"===o&&function(){var e=r.Bun.version.split(".");return e.length<3||"0"===e[0]&&(e[1]<3||"3"===e[1]&&"0"===e[2])}();e.exports=function(e,t){var n=t?2:1;return d?function(r,o){var s=l(arguments.length,1)>n,d=a(r)?r:u(r),h=s?c(arguments,n):[],f=s?function(){i(d,this,h)}:d;return t?e(f,o):e(f)}:e}},function(e,t,n){"use strict";var r=n(841),i=n(842),a=n(1120),o=n(869),s=n(1118),c=n(846),l=n(845);r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:c((function(){return l&&1!==Object.getOwnPropertyDescriptor(i,"queueMicrotask").value.length}))},{queueMicrotask:function(e){s(arguments.length,1),a(o(e))}})},function(e,t,n){"use strict";n(1286)},function(e,t,n){"use strict";n(1181);var r,i=n(841),a=n(845),o=n(1287),s=n(842),c=n(923),l=n(853),u=n(886),d=n(916),h=n(1017),f=n(877),p=n(1084),g=n(987),m=n(915),v=n(1175).codeAt,y=n(1288),_=n(907),b=n(921),w=n(1118),S=n(1289),E=n(890),I=E.set,C=E.getterFor("URL"),O=S.URLSearchParams,T=S.getState,A=s.URL,N=s.TypeError,M=s.parseInt,D=Math.floor,R=Math.pow,L=l("".charAt),k=l(/./.exec),x=l([].join),F=l(1..toString),P=l([].pop),j=l([].push),U=l("".replace),B=l([].shift),V=l("".split),W=l("".slice),z=l("".toLowerCase),H=l([].unshift),G="Invalid scheme",$="Invalid host",K="Invalid port",Q=/[a-z]/i,q=/[\d+-.a-z]/i,Z=/\d/,Y=/^0x/i,X=/^[0-7]+$/,J=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,re=/^[\u0000-\u0020]+/,ie=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ae=/[\t\n\r]/g,oe=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)H(t,e%256),e=D(e/256);return x(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,a=0;a<8;a++)0!==e[a]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=a),++i);return i>n?r:t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=F(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},se={},ce=p({},se,{" ":1,'"':1,"<":1,">":1,"`":1}),le=p({},ce,{"#":1,"?":1,"{":1,"}":1}),ue=p({},le,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),de=function(e,t){var n=v(e,0);return n>32&&n<127&&!f(t,e)?e:encodeURIComponent(e)},he={ftp:21,file:null,http:80,https:443,ws:80,wss:443},fe=function(e,t){var n;return 2===e.length&&k(Q,L(e,0))&&(":"===(n=L(e,1))||!t&&"|"===n)},pe=function(e){var t;return e.length>1&&fe(W(e,0,2))&&(2===e.length||"/"===(t=L(e,2))||"\\"===t||"?"===t||"#"===t)},ge=function(e){return"."===e||"%2e"===z(e)},me={},ve={},ye={},_e={},be={},we={},Se={},Ee={},Ie={},Ce={},Oe={},Te={},Ae={},Ne={},Me={},De={},Re={},Le={},ke={},xe={},Fe={},Pe=function(e,t,n){var r,i,a,o=_(e);if(t){if(i=this.parse(o))throw new N(i);this.searchParams=null}else{if(void 0!==n&&(r=new Pe(n,!0)),i=this.parse(o,null,r))throw new N(i);(a=T(new O)).bindURL(this),this.searchParams=a}};Pe.prototype={type:"URL",parse:function(e,t,n){var i,a,o,s,c,l=this,u=t||me,d=0,h="",p=!1,v=!1,y=!1;for(e=_(e),t||(l.scheme="",l.username="",l.password="",l.host=null,l.port=null,l.path=[],l.query=null,l.fragment=null,l.cannotBeABaseURL=!1,e=U(e,re,""),e=U(e,ie,"$1")),e=U(e,ae,""),i=g(e);d<=i.length;){switch(a=i[d],u){case me:if(!a||!k(Q,a)){if(t)return G;u=ye;continue}h+=z(a),u=ve;break;case ve:if(a&&(k(q,a)||"+"===a||"-"===a||"."===a))h+=z(a);else{if(":"!==a){if(t)return G;h="",u=ye,d=0;continue}if(t&&(l.isSpecial()!==f(he,h)||"file"===h&&(l.includesCredentials()||null!==l.port)||"file"===l.scheme&&!l.host))return;if(l.scheme=h,t)return void(l.isSpecial()&&he[l.scheme]===l.port&&(l.port=null));h="","file"===l.scheme?u=Ne:l.isSpecial()&&n&&n.scheme===l.scheme?u=_e:l.isSpecial()?u=Ee:"/"===i[d+1]?(u=be,d++):(l.cannotBeABaseURL=!0,j(l.path,""),u=ke)}break;case ye:if(!n||n.cannotBeABaseURL&&"#"!==a)return G;if(n.cannotBeABaseURL&&"#"===a){l.scheme=n.scheme,l.path=m(n.path),l.query=n.query,l.fragment="",l.cannotBeABaseURL=!0,u=Fe;break}u="file"===n.scheme?Ne:we;continue;case _e:if("/"!==a||"/"!==i[d+1]){u=we;continue}u=Ie,d++;break;case be:if("/"===a){u=Ce;break}u=Le;continue;case we:if(l.scheme=n.scheme,a===r)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=m(n.path),l.query=n.query;else if("/"===a||"\\"===a&&l.isSpecial())u=Se;else if("?"===a)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=m(n.path),l.query="",u=xe;else{if("#"!==a){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=m(n.path),l.path.length--,u=Le;continue}l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=m(n.path),l.query=n.query,l.fragment="",u=Fe}break;case Se:if(!l.isSpecial()||"/"!==a&&"\\"!==a){if("/"!==a){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,u=Le;continue}u=Ce}else u=Ie;break;case Ee:if(u=Ie,"/"!==a||"/"!==L(h,d+1))continue;d++;break;case Ie:if("/"!==a&&"\\"!==a){u=Ce;continue}break;case Ce:if("@"===a){p&&(h="%40"+h),p=!0,o=g(h);for(var b=0;b<o.length;b++){var w=o[b];if(":"!==w||y){var S=de(w,ue);y?l.password+=S:l.username+=S}else y=!0}h=""}else if(a===r||"/"===a||"?"===a||"#"===a||"\\"===a&&l.isSpecial()){if(p&&""===h)return"Invalid authority";d-=g(h).length+1,h="",u=Oe}else h+=a;break;case Oe:case Te:if(t&&"file"===l.scheme){u=De;continue}if(":"!==a||v){if(a===r||"/"===a||"?"===a||"#"===a||"\\"===a&&l.isSpecial()){if(l.isSpecial()&&""===h)return $;if(t&&""===h&&(l.includesCredentials()||null!==l.port))return;if(s=l.parseHost(h))return s;if(h="",u=Re,t)return;continue}"["===a?v=!0:"]"===a&&(v=!1),h+=a}else{if(""===h)return $;if(s=l.parseHost(h))return s;if(h="",u=Ae,t===Te)return}break;case Ae:if(!k(Z,a)){if(a===r||"/"===a||"?"===a||"#"===a||"\\"===a&&l.isSpecial()||t){if(""!==h){var E=M(h,10);if(E>65535)return K;l.port=l.isSpecial()&&E===he[l.scheme]?null:E,h=""}if(t)return;u=Re;continue}return K}h+=a;break;case Ne:if(l.scheme="file","/"===a||"\\"===a)u=Me;else{if(!n||"file"!==n.scheme){u=Le;continue}switch(a){case r:l.host=n.host,l.path=m(n.path),l.query=n.query;break;case"?":l.host=n.host,l.path=m(n.path),l.query="",u=xe;break;case"#":l.host=n.host,l.path=m(n.path),l.query=n.query,l.fragment="",u=Fe;break;default:pe(x(m(i,d),""))||(l.host=n.host,l.path=m(n.path),l.shortenPath()),u=Le;continue}}break;case Me:if("/"===a||"\\"===a){u=De;break}n&&"file"===n.scheme&&!pe(x(m(i,d),""))&&(fe(n.path[0],!0)?j(l.path,n.path[0]):l.host=n.host),u=Le;continue;case De:if(a===r||"/"===a||"\\"===a||"?"===a||"#"===a){if(!t&&fe(h))u=Le;else if(""===h){if(l.host="",t)return;u=Re}else{if(s=l.parseHost(h))return s;if("localhost"===l.host&&(l.host=""),t)return;h="",u=Re}continue}h+=a;break;case Re:if(l.isSpecial()){if(u=Le,"/"!==a&&"\\"!==a)continue}else if(t||"?"!==a)if(t||"#"!==a){if(a!==r&&(u=Le,"/"!==a))continue}else l.fragment="",u=Fe;else l.query="",u=xe;break;case Le:if(a===r||"/"===a||"\\"===a&&l.isSpecial()||!t&&("?"===a||"#"===a)){if(".."===(c=z(c=h))||"%2e."===c||".%2e"===c||"%2e%2e"===c?(l.shortenPath(),"/"===a||"\\"===a&&l.isSpecial()||j(l.path,"")):ge(h)?"/"===a||"\\"===a&&l.isSpecial()||j(l.path,""):("file"===l.scheme&&!l.path.length&&fe(h)&&(l.host&&(l.host=""),h=L(h,0)+":"),j(l.path,h)),h="","file"===l.scheme&&(a===r||"?"===a||"#"===a))for(;l.path.length>1&&""===l.path[0];)B(l.path);"?"===a?(l.query="",u=xe):"#"===a&&(l.fragment="",u=Fe)}else h+=de(a,le);break;case ke:"?"===a?(l.query="",u=xe):"#"===a?(l.fragment="",u=Fe):a!==r&&(l.path[0]+=de(a,se));break;case xe:t||"#"!==a?a!==r&&("'"===a&&l.isSpecial()?l.query+="%27":l.query+="#"===a?"%23":de(a,se)):(l.fragment="",u=Fe);break;case Fe:a!==r&&(l.fragment+=de(a,ce))}d++}},parseHost:function(e){var t,n,r;if("["===L(e,0)){if("]"!==L(e,e.length-1))return $;if(t=function(e){var t,n,r,i,a,o,s,c=[0,0,0,0,0,0,0,0],l=0,u=null,d=0,h=function(){return L(e,d)};if(":"===h()){if(":"!==L(e,1))return;d+=2,u=++l}for(;h();){if(8===l)return;if(":"!==h()){for(t=n=0;n<4&&k(ee,h());)t=16*t+M(h(),16),d++,n++;if("."===h()){if(0===n)return;if(d-=n,l>6)return;for(r=0;h();){if(i=null,r>0){if(!("."===h()&&r<4))return;d++}if(!k(Z,h()))return;for(;k(Z,h());){if(a=M(h(),10),null===i)i=a;else{if(0===i)return;i=10*i+a}if(i>255)return;d++}c[l]=256*c[l]+i,2!==++r&&4!==r||l++}if(4!==r)return;break}if(":"===h()){if(d++,!h())return}else if(h())return;c[l++]=t}else{if(null!==u)return;d++,u=++l}}if(null!==u)for(o=l-u,l=7;0!==l&&o>0;)s=c[l],c[l--]=c[u+o-1],c[u+--o]=s;else if(8!==l)return;return c}(W(e,1,-1)),!t)return $;this.host=t}else if(this.isSpecial()){if(e=y(e),k(te,e))return $;if(t=function(e){var t,n,r,i,a,o,s,c=V(e,".");if(c.length&&""===c[c.length-1]&&c.length--,(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""===(i=c[r]))return e;if(a=10,i.length>1&&"0"===L(i,0)&&(a=k(Y,i)?16:8,i=W(i,8===a?1:2)),""===i)o=0;else{if(!k(10===a?J:8===a?X:ee,i))return e;o=M(i,a)}j(n,o)}for(r=0;r<t;r++)if(o=n[r],r===t-1){if(o>=R(256,5-t))return null}else if(o>255)return null;for(s=P(n),r=0;r<n.length;r++)s+=n[r]*R(256,3-r);return s}(e),null===t)return $;this.host=t}else{if(k(ne,e))return $;for(t="",n=g(e),r=0;r<n.length;r++)t+=de(n[r],se);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return f(he,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"===this.scheme&&1===t&&fe(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,a=e.port,o=e.path,s=e.query,c=e.fragment,l=t+":";return null!==i?(l+="//",e.includesCredentials()&&(l+=n+(r?":"+r:"")+"@"),l+=oe(i),null!==a&&(l+=":"+a)):"file"===t&&(l+="//"),l+=e.cannotBeABaseURL?o[0]:o.length?"/"+x(o,"/"):"",null!==s&&(l+="?"+s),null!==c&&(l+="#"+c),l},setHref:function(e){var t=this.parse(e);if(t)throw new N(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"===e)try{return new je(e.path[0]).origin}catch(n){return"null"}return"file"!==e&&this.isSpecial()?e+"://"+oe(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(_(e)+":",me)},getUsername:function(){return this.username},setUsername:function(e){var t=g(_(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=de(t[n],ue)}},getPassword:function(){return this.password},setPassword:function(e){var t=g(_(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=de(t[n],ue)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?oe(e):oe(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Oe)},getHostname:function(){var e=this.host;return null===e?"":oe(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Te)},getPort:function(){var e=this.port;return null===e?"":_(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""===(e=_(e))?this.port=null:this.parse(e,Ae))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+x(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Re))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""===(e=_(e))?this.query=null:("?"===L(e,0)&&(e=W(e,1)),this.query="",this.parse(e,xe)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!==(e=_(e))?("#"===L(e,0)&&(e=W(e,1)),this.fragment="",this.parse(e,Fe)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var je=function(e){var t=h(this,Ue),n=w(arguments.length,1)>1?arguments[1]:void 0,r=I(t,new Pe(e,!1,n));a||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},Ue=je.prototype,Be=function(e,t){return{get:function(){return C(this)[e]()},set:t&&function(e){return C(this)[t](e)},configurable:!0,enumerable:!0}};if(a&&(d(Ue,"href",Be("serialize","setHref")),d(Ue,"origin",Be("getOrigin")),d(Ue,"protocol",Be("getProtocol","setProtocol")),d(Ue,"username",Be("getUsername","setUsername")),d(Ue,"password",Be("getPassword","setPassword")),d(Ue,"host",Be("getHost","setHost")),d(Ue,"hostname",Be("getHostname","setHostname")),d(Ue,"port",Be("getPort","setPort")),d(Ue,"pathname",Be("getPathname","setPathname")),d(Ue,"search",Be("getSearch","setSearch")),d(Ue,"searchParams",Be("getSearchParams")),d(Ue,"hash",Be("getHash","setHash"))),u(Ue,"toJSON",(function(){return C(this).serialize()}),{enumerable:!0}),u(Ue,"toString",(function(){return C(this).serialize()}),{enumerable:!0}),A){var Ve=A.createObjectURL,We=A.revokeObjectURL;Ve&&u(je,"createObjectURL",c(Ve,A)),We&&u(je,"revokeObjectURL",c(We,A))}b(je,"URL"),i({global:!0,constructor:!0,forced:!o,sham:!a},{URL:je})},function(e,t,n){"use strict";var r=n(846),i=n(872),a=n(845),o=n(875),s=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","https://a"),t=e.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),n.delete("a",2),n.delete("b",void 0),o&&(!e.toJSON||!n.has("a",1)||n.has("a",2)||!n.has("a",void 0)||n.has("b"))||!t.size&&(o||!a)||!t.sort||"https://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("https://a#\u0431").hash||"a1c3"!==r||"x"!==new URL("https://x",void 0).host}))},function(e,t,n){"use strict";var r=n(853),i=2147483647,a=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",c=RangeError,l=r(o.exec),u=Math.floor,d=String.fromCharCode,h=r("".charCodeAt),f=r([].join),p=r([].push),g=r("".replace),m=r("".split),v=r("".toLowerCase),y=function(e){return e+22+75*(e<26)},_=function(e,t,n){var r=0;for(e=n?u(e/700):e>>1,e+=u(e/t);e>455;)e=u(e/35),r+=36;return u(r+36*e/(e+38))},b=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=h(e,n++);if(i>=55296&&i<=56319&&n<r){var a=h(e,n++);56320===(64512&a)?p(t,((1023&i)<<10)+(1023&a)+65536):(p(t,i),n--)}else p(t,i)}return t}(e);var n,r,a=e.length,o=128,l=0,g=72;for(n=0;n<e.length;n++)(r=e[n])<128&&p(t,d(r));var m=t.length,v=m;for(m&&p(t,"-");v<a;){var b=i;for(n=0;n<e.length;n++)(r=e[n])>=o&&r<b&&(b=r);var w=v+1;if(b-o>u((i-l)/w))throw new c(s);for(l+=(b-o)*w,o=b,n=0;n<e.length;n++){if((r=e[n])<o&&++l>i)throw new c(s);if(r===o){for(var S=l,E=36;;){var I=E<=g?1:E>=g+26?26:E-g;if(S<I)break;var C=S-I,O=36-I;p(t,d(y(I+C%O))),S=u(C/O),E+=36}p(t,d(y(S))),g=_(l,w,v===m),l=0,v++}}l++,o++}return f(t,"")};e.exports=function(e){var t,n,r=[],i=m(g(v(e),o,"."),".");for(t=0;t<i.length;t++)n=i[t],p(r,l(a,n)?"xn--"+b(n):n);return f(r,".")}},function(e,t,n){"use strict";n(991),n(1179);var r=n(841),i=n(842),a=n(1121),o=n(862),s=n(847),c=n(853),l=n(845),u=n(1287),d=n(886),h=n(916),f=n(1016),p=n(921),g=n(993),m=n(890),v=n(1017),y=n(860),_=n(877),b=n(923),w=n(908),S=n(885),E=n(859),I=n(907),C=n(910),O=n(850),T=n(965),A=n(966),N=n(995),M=n(1118),D=n(872),R=n(1003),L=D("iterator"),k="URLSearchParams",x=k+"Iterator",F=m.set,P=m.getterFor(k),j=m.getterFor(x),U=a("fetch"),B=a("Request"),V=a("Headers"),W=B&&B.prototype,z=V&&V.prototype,H=i.TypeError,G=i.encodeURIComponent,$=String.fromCharCode,K=o("String","fromCodePoint"),Q=parseInt,q=c("".charAt),Z=c([].join),Y=c([].push),X=c("".replace),J=c([].shift),ee=c([].splice),te=c("".split),ne=c("".slice),re=c(/./.exec),ie=/\+/g,ae=/^[0-9a-f]+$/i,oe=function(e,t){var n=ne(e,t,t+2);return re(ae,n)?Q(n,16):NaN},se=function(e){for(var t=0,n=128;n>0&&0!==(e&n);n>>=1)t++;return t},ce=function(e){var t=null;switch(e.length){case 1:t=e[0];break;case 2:t=(31&e[0])<<6|63&e[1];break;case 3:t=(15&e[0])<<12|(63&e[1])<<6|63&e[2];break;case 4:t=(7&e[0])<<18|(63&e[1])<<12|(63&e[2])<<6|63&e[3]}return t>1114111?null:t},le=function(e){for(var t=(e=X(e,ie," ")).length,n="",r=0;r<t;){var i=q(e,r);if("%"===i){if("%"===q(e,r+1)||r+3>t){n+="%",r++;continue}var a=oe(e,r+1);if(a!==a){n+=i,r++;continue}r+=2;var o=se(a);if(0===o)i=$(a);else{if(1===o||o>4){n+="\ufffd",r++;continue}for(var s=[a],c=1;c<o&&!(3+ ++r>t||"%"!==q(e,r));){var l=oe(e,r+1);if(l!==l){r+=3;break}if(l>191||l<128)break;Y(s,l),r+=2,c++}if(s.length!==o){n+="\ufffd";continue}var u=ce(s);null===u?n+="\ufffd":i=K(u)}}n+=i,r++}return n},ue=/[!'()~]|%20/g,de={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},he=function(e){return de[e]},fe=function(e){return X(G(e),ue,he)},pe=g((function(e,t){F(this,{type:x,target:P(e).entries,index:0,kind:t})}),k,(function(){var e=j(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=null,N(void 0,!0);var r=t[n];switch(e.kind){case"keys":return N(r.key,!1);case"values":return N(r.value,!1)}return N([r.key,r.value],!1)}),!0),ge=function(e){this.entries=[],this.url=null,void 0!==e&&(E(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===q(e,0)?ne(e,1):e:I(e)))};ge.prototype={type:k,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,a,o,c,l=this.entries,u=A(e);if(u)for(n=(t=T(e,u)).next;!(r=s(n,t)).done;){if(a=(i=T(S(r.value))).next,(o=s(a,i)).done||(c=s(a,i)).done||!s(a,i).done)throw new H("Expected sequence with length 2");Y(l,{key:I(o.value),value:I(c.value)})}else for(var d in e)_(e,d)&&Y(l,{key:d,value:I(e[d])})},parseQuery:function(e){if(e)for(var t,n,r=this.entries,i=te(e,"&"),a=0;a<i.length;)(t=i[a++]).length&&(n=te(t,"="),Y(r,{key:le(J(n)),value:le(Z(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],Y(n,fe(e.key)+"="+fe(e.value));return Z(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var me=function(){v(this,ve);var e=F(this,new ge(arguments.length>0?arguments[0]:void 0));l||(this.size=e.entries.length)},ve=me.prototype;if(f(ve,{append:function(e,t){var n=P(this);M(arguments.length,2),Y(n.entries,{key:I(e),value:I(t)}),l||this.length++,n.updateURL()},delete:function(e){for(var t=P(this),n=M(arguments.length,1),r=t.entries,i=I(e),a=n<2?void 0:arguments[1],o=void 0===a?a:I(a),s=0;s<r.length;){var c=r[s];if(c.key!==i||void 0!==o&&c.value!==o)s++;else if(ee(r,s,1),void 0!==o)break}l||(this.size=r.length),t.updateURL()},get:function(e){var t=P(this).entries;M(arguments.length,1);for(var n=I(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){var t=P(this).entries;M(arguments.length,1);for(var n=I(e),r=[],i=0;i<t.length;i++)t[i].key===n&&Y(r,t[i].value);return r},has:function(e){for(var t=P(this).entries,n=M(arguments.length,1),r=I(e),i=n<2?void 0:arguments[1],a=void 0===i?i:I(i),o=0;o<t.length;){var s=t[o++];if(s.key===r&&(void 0===a||s.value===a))return!0}return!1},set:function(e,t){var n=P(this);M(arguments.length,1);for(var r,i=n.entries,a=!1,o=I(e),s=I(t),c=0;c<i.length;c++)(r=i[c]).key===o&&(a?ee(i,c--,1):(a=!0,r.value=s));a||Y(i,{key:o,value:s}),l||(this.size=i.length),n.updateURL()},sort:function(){var e=P(this);R(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=P(this).entries,r=b(e,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new pe(this,"keys")},values:function(){return new pe(this,"values")},entries:function(){return new pe(this,"entries")}},{enumerable:!0}),d(ve,L,ve.entries,{name:"entries"}),d(ve,"toString",(function(){return P(this).serialize()}),{enumerable:!0}),l&&h(ve,"size",{get:function(){return P(this).entries.length},configurable:!0,enumerable:!0}),p(me,k),r({global:!0,constructor:!0,forced:!u},{URLSearchParams:me}),!u&&y(V)){var ye=c(z.has),_e=c(z.set),be=function(e){if(E(e)){var t,n=e.body;if(w(n)===k)return t=e.headers?new V(e.headers):new V,ye(t,"content-type")||_e(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),C(e,{body:O(0,I(n)),headers:O(0,t)})}return e};if(y(U)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return U(e,arguments.length>1?be(arguments[1]):{})}}),y(B)){var we=function(e){return v(this,W),new B(e,arguments.length>1?be(arguments[1]):{})};W.constructor=we,we.prototype=W,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:we})}}e.exports={URLSearchParams:me,getState:P}},function(e,t,n){"use strict";var r=n(841),i=n(847);r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},function(e,t,n){"use strict";n(1289)},function(e,t,n){"use strict";n(950)},function(e,t,n){"use strict";n(969)},function(e,t,n){"use strict";n(1033)},function(e,t,n){"use strict";n(1096)},function(e,t,n){"use strict";n(1137)},function(e,t,n){"use strict";n(1138)},function(e,t,n){"use strict";n(1186)},function(e,t,n){"use strict";n(1195)},function(e,t,n){"use strict";n(918)("replaceAll")},function(e,t,n){"use strict";n(1240)},function(e,t,n){"use strict";if(globalThis.performance||(globalThis.performance={}),!globalThis.performance.now){var r,i=globalThis.performance.timing;r=i&&i.navigationStart?i.navigationStart:Date.now(),globalThis.performance.now=function(){return Date.now()-r}}},function(e,t,n){"use strict";var r=crypto;!r.subtle&&r.webkitSubtle&&(r.subtle=r.webkitSubtle),r.randomUUID||(r.randomUUID=function(){var e=crypto.getRandomValues(new Uint8Array(16));e[6]=15&e[6]|64,e[8]=63&e[8]|128;var t,n="";for(t=0;t<16;++t)n+=e[t].toString(16).padStart(2,"0"),3!==t&&5!==t&&7!==t&&9!==t||(n+="-");return n})},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p}));var r=n(1306),i=n(1305),a="group",o="debug",s="info",c="warn",l="error",u="none",d={group:"GROUP: ",debug:"DEBUG: ",info:"INFO:  ",warn:"WARN:  ",error:"ERROR: "},h={debug:4,info:3,warn:2,error:1,group:1,none:0},f=function(){function e(e){this.messagePrefix=null,this.outputMessagePrefix=null,this.recordedMessagePrefix=null,this.logOutputLevel=c,this.logRecordingLevel=o,this.recordedLogMessagesMaximumLength=500,this._recordedLogMessagesEnd=-1,this.reporter=console,this._recordedLogMessages=[],this._indentationLevel=0,e&&(this.reporter=e)}var t=e.prototype;return t.debug=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._handleMessage(o,arguments)},t.info=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._handleMessage(s,arguments)},t.warn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._handleMessage(c,arguments)},t.error=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._handleMessage(l,arguments)},t.group=function(e){this._handleMessage(a,arguments),this.logRecordingLevel!==u&&this._indentationLevel++},t.groupEnd=function(){this._outputMessage("groupEnd","");var e=this.logRecordingLevel;this._indentationLevel>0&&e!==u&&this._indentationLevel--},t.outputRecordedLogMessages=function(){for(var e=this._orderedRecordedLogMessages(),t=0;t<e.length;t++)this._outputMessage("log",e[t])},t.stringifyRecordedLogMessages=function(){return this._orderedRecordedLogMessages().join("\n")},t._orderedRecordedLogMessages=function(){var e=[],t=this._recordedLogMessages||[],n=this.recordedLogMessagesMaximumLength-1,r=this._recordedLogMessagesEnd,i=r;if(t.length>0)do{e.push(t[i]),i=0===i?n:i-1}while(t[i]&&i!==r);return e.reverse()},t._handleMessage=function(e,t){var n=this._shouldOutputType(e),r=this._shouldRecordType(e);if(n||r){var a=(this.messagePrefix||"")+i.a.apply(this,t);n&&this._outputMessage(e,a,t),r&&this._recordMessage(e,a)}},t._shouldOutputType=function(e){return h[e]<=h[this.logOutputLevel]},t._shouldRecordType=function(e){return h[e]<=h[this.logRecordingLevel]},t._outputMessage=function(e,t,n){var i=this.reporter,a=i?i[e]:null,o=this.outputMessagePrefix||"";if(a){var s=[];n&&n.length>1&&(s=Object(r.a)(n,0,1));try{Function.prototype.call.call(a,i,o+t,...s)}catch(c){Function.prototype.call.call(a,i,o+t,"Cycle argument")}}},t._recordMessage=function(e,t){var n=this._recordedLogMessages,r=this._createRecordedMessageString(e,t),i=this.recordedLogMessagesMaximumLength-1,a=this._recordedLogMessagesEnd,o=a===i?0:a+1;n[o]=r,this._recordedLogMessagesEnd=o},t._createRecordedMessageString=function(e,t){var n=function(e){(!e||e<0)&&(e=0);var t,n="";for(t=0;t<e;++t)n+="    ";return n}(this._indentationLevel),r=(new Date).toUTCString()+":  ",i=d[e];return n+r+(this.recordedMessagePrefix||"")+i+t},e}();f.LOG_LEVEL_NONE=u,f.LOG_LEVEL_GROUP=a,f.LOG_LEVEL_DEBUG=o,f.LOG_LEVEL_INFO=s,f.LOG_LEVEL_WARN=c,f.LOG_LEVEL_ERROR=l;var p=new f},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=/\s/g;function i(e,t){return e.replace(/%\{(.*?)\}/g,(function(n,i){if(!t)throw new Error('Cannot use named parameters with `fmt` without a data object. String: "'+e+'"');return function(e,t,n){var i,a,o=(e=e.replace(r,"")).indexOf(":");o>-1&&(i=e.substr(o+1),e=e.substr(0,o)),a=t[e];var s=t[e+"Formatter"];if(s)a=s(a,i);else if(i)throw new Error("fmt() was given a formatting string, but key '"+e+"' has no formatter for the string: \""+n+'"');return a&&a.toString?a.toString():a}(i,t,e)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1307),i=[];function a(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=0),i.length=0,Object(r.a)(i,e,t,n)}},function(e,t,n){"use strict";function r(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=n);var i=t.length;e.length=i+n-r;for(var a=r,o=n;a<i;a++,o++)e[o]=t[a];return e}n.d(t,"a",(function(){return r}))},function(e,t,n){e.exports=n(1309)},function(e,t,n){var r,i;e.exports=(r=n(1310),i=n(1310),function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=r(n(1)),a=r(n(221)),o=r(n(189)),s=r(n(106)),c=r(n(223)),l=r(n(79)),u=r(n(278)),d=r(n(251)),h=r(n(293)),f=r(n(294)),p=r(n(295)),g=r(n(296)),m=r(n(297)),v=r(n(256)),y=r(n(298)),_=r(n(291)),b=null,w={configure:function(e){if(l.default.isNullOrUndefined(e))throw a.default.makeConfigurationError("A configuration object is required");return b=new i.default({config:e})},getDefaultContainer:function(){if(!b)throw a.default.makeConfigurationError("Please configure CloudKit");return b.getDefaultContainer()},getAllContainers:function(){if(!b)throw a.default.makeConfigurationError("Please configure CloudKit");return b.getAllContainers()},getContainer:function(e){if(!b)throw a.default.makeConfigurationError("Please configure CloudKit");return b.getContainer(e)},PRODUCTION_ENVIRONMENT:o.default.PRODUCTION_ENVIRONMENT,DEVELOPMENT_ENVIRONMENT:o.default.DEVELOPMENT_ENVIRONMENT,DatabaseScope:d.default,QueryFilterComparator:h.default,ReferenceAction:f.default,SubscriptionType:p.default,ShareRecordType:g.default,ShareParticipantPermission:m.default,ShareParticipantAcceptanceStatus:y.default,ShareParticipantType:v.default,AppleIDButtonTheme:_.default,BUILD_VERSION:o.default.BUILD_VERSION,VERSION:o.default.VERSION,CKError:a.default,get Promise(){return s.default.Promise},CLOUDKIT_LOADED:o.default.CLOUDKIT_LOADED,fetch:function(e,t){return c.default.fetch(e,t)},WS_API_VERSION:o.default.WS_API_VERSION,logToConsole:!!l.default.getQueryParam("CloudKit.logToConsole"),parseRawNotification:u.default.parseRawNotification};if("undefined"!=typeof window&&"undefined"!=typeof document){var S=window.document,E=S.createEvent("Event");E.initEvent(o.default.CLOUDKIT_LOADED,!0,!0),setTimeout((function(){return S.dispatchEvent(E)}))}e.exports=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),a=r(n(40)),o=r(n(74)),s=r(n(75)),c=r(n(79)),l=r(n(188)),u=r(n(247)),d=r(n(221)),h=r(n(224)),f=r(n(223)),p=r(n(106)),g=function(){function e(t){var n=t.config,r=n.containers,s=n.services,g=void 0===s?{}:s,m=n.locale;if((0,o.default)(this,e),!c.default.isArray(r))throw d.default.makeConfigurationError("config.containers must be an array");if(c.default.isNode()&&c.default.isNullOrUndefined(g.fetch))throw d.default.makeConfigurationError("Please provide an implementation of whatwg fetch via services.fetch");h.default.setDelegate(g.logger),p.default.Promise=g.Promise||a.default,f.default.setDelegate(g.fetch);var v=new l.default,y=g.authTokenStore,_=c.default.createUUID();this._containers=r.map((function(e){return(0,i.default)({},e,{locale:m,clientID:e.clientID||_})})).map((function(e){return new u.default({containerConfig:e,authTokenStore:y,apnsManager:v})}))}return(0,s.default)(e,[{key:"getDefaultContainer",value:function(){return this._containers[0]}},{key:"getContainer",value:function(e){return c.default.find(this._containers,(function(t){return t.containerIdentifier===e}))}},{key:"getAllContainers",value:function(){return this._containers}}]),e}();t.default=g},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(3));t.default=r.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){e.exports={default:n(4),__esModule:!0}},function(e,t,n){n(5),e.exports=n(8).Object.assign},function(e,t,n){var r=n(6);r(r.S+r.F,"Object",{assign:n(21)})},function(e,t,n){var r=n(7),i=n(8),a=n(9),o=n(11),s="prototype",c=function(e,t,n){var l,u,d,h=e&c.F,f=e&c.G,p=e&c.S,g=e&c.P,m=e&c.B,v=e&c.W,y=f?i:i[t]||(i[t]={}),_=y[s],b=f?r:p?r[t]:(r[t]||{})[s];for(l in f&&(n=t),n)(u=!h&&b&&void 0!==b[l])&&l in y||(d=u?b[l]:n[l],y[l]=f&&"function"!=typeof b[l]?n[l]:m&&u?a(d,r):v&&b[l]==d?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[s]=e[s],t}(d):g&&"function"==typeof d?a(Function.call,d):d,g&&((y.virtual||(y.virtual={}))[l]=d,e&c.R&&_&&!_[l]&&o(_,l,d)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(10);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(12),i=n(20);e.exports=n(16)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(13),i=n(15),a=n(19),o=Object.defineProperty;t.f=n(16)?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),i)try{return o(e,t,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(14);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(16)&&!n(17)((function(){return 7!=Object.defineProperty(n(18)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){e.exports=!n(17)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){var r=n(14),i=n(7).document,a=r(i)&&r(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var r=n(14);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){"use strict";var r=n(22),i=n(37),a=n(38),o=n(39),s=n(26),c=Object.assign;e.exports=!c||n(17)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r}))?function(e,t){for(var n=o(e),c=arguments.length,l=1,u=i.f,d=a.f;c>l;)for(var h,f=s(arguments[l++]),p=u?r(f).concat(u(f)):r(f),g=p.length,m=0;g>m;)d.call(f,h=p[m++])&&(n[h]=f[h]);return n}:c},function(e,t,n){var r=n(23),i=n(36);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(24),i=n(25),a=n(29)(!1),o=n(33)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),c=0,l=[];for(n in s)n!=o&&r(s,n)&&l.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~a(l,n)||l.push(n));return l}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(26),i=n(28);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(27);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(25),i=n(30),a=n(32);e.exports=function(e){return function(t,n,o){var s,c=r(t),l=i(c.length),u=a(o,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(31),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(31),i=Math.max,a=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):a(e,t)}},function(e,t,n){var r=n(34)("keys"),i=n(35);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(7),i="__core-js_shared__",a=r[i]||(r[i]={});e.exports=function(e){return a[e]||(a[e]={})}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(28);e.exports=function(e){return Object(r(e))}},function(e,t,n){e.exports={default:n(41),__esModule:!0}},function(e,t,n){n(42),n(43),n(56),n(60),e.exports=n(8).Promise},function(e,t){},function(e,t,n){"use strict";var r=n(44)(!0);n(45)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(31),i=n(28);e.exports=function(e){return function(t,n){var a,o,s=String(i(t)),c=r(n),l=s.length;return c<0||c>=l?e?"":void 0:(a=s.charCodeAt(c))<55296||a>56319||c+1===l||(o=s.charCodeAt(c+1))<56320||o>57343?e?s.charAt(c):a:e?s.slice(c,c+2):o-56320+(a-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(46),i=n(6),a=n(47),o=n(11),s=n(24),c=n(48),l=n(49),u=n(53),d=n(55),h=n(54)("iterator"),f=!([].keys&&"next"in[].keys()),p="keys",g="values",m=function(){return this};e.exports=function(e,t,n,v,y,_,b){l(n,t,v);var w,S,E,I=function(e){if(!f&&e in A)return A[e];switch(e){case p:case g:return function(){return new n(this,e)}}return function(){return new n(this,e)}},C=t+" Iterator",O=y==g,T=!1,A=e.prototype,N=A[h]||A["@@iterator"]||y&&A[y],M=N||I(y),D=y?O?I("entries"):M:void 0,R="Array"==t&&A.entries||N;if(R&&(E=d(R.call(new e)))!==Object.prototype&&(u(E,C,!0),r||s(E,h)||o(E,h,m)),O&&N&&N.name!==g&&(T=!0,M=function(){return N.call(this)}),r&&!b||!f&&!T&&A[h]||o(A,h,M),c[t]=M,c[C]=m,y)if(w={values:O?M:I(g),keys:_?M:I(p),entries:D},b)for(S in w)S in A||a(A,S,w[S]);else i(i.P+i.F*(f||T),t,w);return w}},function(e,t){e.exports=!0},function(e,t,n){e.exports=n(11)},function(e,t){e.exports={}},function(e,t,n){"use strict";var r=n(50),i=n(20),a=n(53),o={};n(11)(o,n(54)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(o,{next:i(1,n)}),a(e,t+" Iterator")}},function(e,t,n){var r=n(13),i=n(51),a=n(36),o=n(33)("IE_PROTO"),s=function(){},c="prototype",l=function(){var e,t=n(18)("iframe"),r=a.length;for(t.style.display="none",n(52).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l[c][a[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s[c]=r(e),n=new s,s[c]=null,n[o]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(12),i=n(13),a=n(22);e.exports=n(16)?Object.defineProperties:function(e,t){i(e);for(var n,o=a(t),s=o.length,c=0;s>c;)r.f(e,n=o[c++],t[n]);return e}},function(e,t,n){e.exports=n(7).document&&document.documentElement},function(e,t,n){var r=n(12).f,i=n(24),a=n(54)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t,n){var r=n(34)("wks"),i=n(35),a=n(7).Symbol,o="function"==typeof a;(e.exports=function(e){return r[e]||(r[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=r},function(e,t,n){var r=n(24),i=n(39),a=n(33)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,n){n(57);for(var r=n(7),i=n(11),a=n(48),o=n(54)("toStringTag"),s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],c=0;c<5;c++){var l=s[c],u=r[l],d=u&&u.prototype;d&&!d[o]&&i(d,o,l),a[l]=a.Array}},function(e,t,n){"use strict";var r=n(58),i=n(59),a=n(48),o=n(25);e.exports=n(45)(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r,i,a,o=n(46),s=n(7),c=n(9),l=n(61),u=n(6),d=n(14),h=n(10),f=n(62),p=n(63),g=n(67),m=n(68).set,v=n(70)(),y="Promise",_=s.TypeError,b=s.process,w=s[y],S="process"==l(b=s.process),E=function(){},I=!!function(){try{var e=w.resolve(1),t=(e.constructor={})[n(54)("species")]=function(e){e(E,E)};return(S||"function"==typeof PromiseRejectionEvent)&&e.then(E)instanceof t}catch(r){}}(),C=function(e,t){return e===t||e===w&&t===a},O=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},T=function(e){return C(w,e)?new A(e):new i(e)},A=i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw _("Bad Promise constructor");t=e,n=r})),this.resolve=h(t),this.reject=h(n)},N=function(e){try{e()}catch(t){return{error:t}}},M=function(e,t){if(!e._n){e._n=!0;var n=e._c;v((function(){for(var r=e._v,i=1==e._s,a=0,o=function(t){var n,a,o=i?t.ok:t.fail,s=t.resolve,c=t.reject,l=t.domain;try{o?(i||(2==e._h&&L(e),e._h=1),!0===o?n=r:(l&&l.enter(),n=o(r),l&&l.exit()),n===t.promise?c(_("Promise-chain cycle")):(a=O(n))?a.call(n,s,c):s(n)):c(r)}catch(u){c(u)}};n.length>a;)o(n[a++]);e._c=[],e._n=!1,t&&!e._h&&D(e)}))}},D=function(e){m.call(s,(function(){var t,n,r,i=e._v;if(R(e)&&(t=N((function(){S?b.emit("unhandledRejection",i,e):(n=s.onunhandledrejection)?n({promise:e,reason:i}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=S||R(e)?2:1),e._a=void 0,t)throw t.error}))},R=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if((t=n[r++]).fail||!R(t.promise))return!1;return!0},L=function(e){m.call(s,(function(){var t;S?b.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})}))},k=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),M(t,!0))},x=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw _("Promise can't be resolved itself");(t=O(e))?v((function(){var r={_w:n,_d:!1};try{t.call(e,c(x,r,1),c(k,r,1))}catch(i){k.call(r,i)}})):(n._v=e,n._s=1,M(n,!1))}catch(r){k.call({_w:n,_d:!1},r)}}};I||(w=function(e){f(this,w,y,"_h"),h(e),r.call(this);try{e(c(x,this,1),c(k,this,1))}catch(t){k.call(this,t)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(71)(w.prototype,{then:function(e,t){var n=T(g(this,w));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=S?b.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&M(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),A=function(){var e=new r;this.promise=e,this.resolve=c(x,e,1),this.reject=c(k,e,1)}),u(u.G+u.W+u.F*!I,{Promise:w}),n(53)(w,y),n(72)(y),a=n(8)[y],u(u.S+u.F*!I,y,{reject:function(e){var t=T(this);return(0,t.reject)(e),t.promise}}),u(u.S+u.F*(o||!I),y,{resolve:function(e){if(e instanceof w&&C(e.constructor,this))return e;var t=T(this);return(0,t.resolve)(e),t.promise}}),u(u.S+u.F*!(I&&n(73)((function(e){w.all(e).catch(E)}))),y,{all:function(e){var t=this,n=T(t),r=n.resolve,i=n.reject,a=N((function(){var n=[],a=0,o=1;p(e,!1,(function(e){var s=a++,c=!1;n.push(void 0),o++,t.resolve(e).then((function(e){c||(c=!0,n[s]=e,--o||r(n))}),i)})),--o||r(n)}));return a&&i(a.error),n.promise},race:function(e){var t=this,n=T(t),r=n.reject,i=N((function(){p(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i&&r(i.error),n.promise}})},function(e,t,n){var r=n(27),i=n(54)("toStringTag"),a="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),i))?n:a?r(t):"Object"==(o=r(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(9),i=n(64),a=n(65),o=n(13),s=n(30),c=n(66),l={},u={};t=e.exports=function(e,t,n,d,h){var f,p,g,m,v=h?function(){return e}:c(e),y=r(n,d,t?2:1),_=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(a(v)){for(f=s(e.length);f>_;_++)if((m=t?y(o(p=e[_])[0],p[1]):y(e[_]))===l||m===u)return m}else for(g=v.call(e);!(p=g.next()).done;)if((m=i(g,y,p.value,t))===l||m===u)return m},t.BREAK=l,t.RETURN=u},function(e,t,n){var r=n(13);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(o){var a=e.return;throw void 0!==a&&r(a.call(e)),o}}},function(e,t,n){var r=n(48),i=n(54)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[i]===e)}},function(e,t,n){var r=n(61),i=n(54)("iterator"),a=n(48);e.exports=n(8).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||a[r(e)]}},function(e,t,n){var r=n(13),i=n(10),a=n(54)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[a])?t:i(n)}},function(e,t,n){var r,i,a,o=n(9),s=n(69),c=n(52),l=n(18),u=n(7),d=u.process,h=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,g=0,m={},v="onreadystatechange",y=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},_=function(e){y.call(e.data)};h&&f||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},f=function(e){delete m[e]},"process"==n(27)(d)?r=function(e){d.nextTick(o(y,e,1))}:p?(a=(i=new p).port2,i.port1.onmessage=_,r=o(a.postMessage,a,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",_,!1)):r=v in l("script")?function(e){c.appendChild(l("script"))[v]=function(){c.removeChild(this),y.call(e)}}:function(e){setTimeout(o(y,e,1),0)}),e.exports={set:h,clear:f}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(7),i=n(68).set,a=r.MutationObserver||r.WebKitMutationObserver,o=r.process,s=r.Promise,c="process"==n(27)(o);e.exports=function(){var e,t,n,l=function(){var r,i;for(c&&(r=o.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(a){throw e?n():t=void 0,a}}t=void 0,r&&r.enter()};if(c)n=function(){o.nextTick(l)};else if(a){var u=!0,d=document.createTextNode("");new a(l).observe(d,{characterData:!0}),n=function(){d.data=u=!u}}else if(s&&s.resolve){var h=s.resolve();n=function(){h.then(l)}}else n=function(){i.call(r,l)};return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var r=n(11);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t,n){"use strict";var r=n(7),i=n(8),a=n(12),o=n(16),s=n(54)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];o&&t&&!t[s]&&a.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(54)("iterator"),i=!1;try{var a=[7][r]();a.return=function(){i=!0},Array.from(a,(function(){throw 2}))}catch(o){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var a=[7],o=a[r]();o.next=function(){return{done:n=!0}},a[r]=function(){return o},e(a)}catch(s){}return n}},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(76));t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(e,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){e.exports={default:n(77),__esModule:!0}},function(e,t,n){n(78);var r=n(8).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(6);r(r.S+r.F*!n(16),"Object",{defineProperty:n(12).f})},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return(0,y.default)(e)||(0,v.default)(e)}function a(){return"undefined"==typeof window}function o(e,t,n){!function(){try{return navigator.userAgent.indexOf("Trident")>0||navigator.userAgent.indexOf("MSIE")>0}catch(e){}}()?window.open(e,"","width="+t+", height="+n):window.open(window.location.href,"","width="+t+", height="+n).location.href=e}function s(e){var t=(0,p.default)(e);if(t===(0,p.default)({}))return[];var n=s(t);return(0,f.default)(t).forEach((function(e){return n.push(e)})),n}function c(e,t,n){try{return e.apply(void 0,(0,l.default)(t))}catch(r){throw console.error(n),r}}Object.defineProperty(t,"__esModule",{value:!0});var l=r(n(80)),u=r(n(85)),d=r(n(89)),h=r(n(93)),f=r(n(95)),p=r(n(100)),g=r(n(103)),m=r(n(106)),v=r(n(107)),y=r(n(108)),_=r(n(109)),b=r(n(111)),w=r(n(117)),S=r(n(115)),E=r(n(114)),I=r(n(118)),C=r(n(143)),O=r(n(150)),T=r(n(157)),A=r(n(160)),N=(r(n(182)),n(141)),M=(r(N),n(185)),D=(r(M),n(186)),R=r(D),L=a()?e.Buffer:null;t.default={isUndefined:v.default,isNullOrUndefined:i,isInt:function(e){return Number(e)===e&&e%1===0},isArray:b.default,isString:w.default,isStringArray:function(e){return(0,b.default)(e)&&e.every(w.default)},isNumberish:function(e){return!(0,g.default)(Number(e))},isObject:S.default,isBoolean:_.default,isFunction:E.default,has:O.default,pick:C.default,picker:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return(0,C.default)(e,[].concat(t))}},makeObjectHasValuesForKeysPredicate:function(e){return function(t){return(0,d.default)(e).every((function(n){var r=e[n],a=!i(t[n]);return r&&a||!r&&!a}))}},assertArg:function(e,t){if(i(e))throw new Error(t)},assign:T.default,clone:I.default,asArray:function(e){return(0,b.default)(e)?e:[e]},find:A.default,values:function(e){return(0,u.default)(e)},tryInvokeFunction:c,tryInvokeMethod:function(e,t,n,r){if((0,E.default)(e[t]))return c(e[t].bind(e),n,"Error calling "+r+"."+t)},stringifyExposingUndefined:function(e){return(0,h.default)(e,(function(e,t){return(0,v.default)(t)?"<<undefined>>":t}))},instanceToString:function(e,t){var n=s(t);n=n.sort().filter((function(e){return!(0,E.default)(t[e])&&-1===e.indexOf("_")}));var r="";return r+="["+e,n.forEach((function(e){var n=t[e];r+="\n\t",r+=(0,b.default)(n)?e+": ["+n.length+"]":e+": "+n})),r+="\n]"},isNode:a,getAsyncMessageFromPopup:function(e,t,n){var r=m.default.defer(),i=function(e){(0,S.default)(e.data)&&r.resolve(e)};return window.addEventListener("message",i,!1),o(e,t,n),r.promise.then((function(e){return window.removeEventListener("message",i),e}))},prepareForUpload:function(e){return a()?e.toString():e},setCookie:function(e,t){var n=window.location.hostname,r="",i=new Date;i.setTime(i.getTime()+12096e5),null===t&&i.setTime(-1);var a="expires="+i.toUTCString(),o=/\./.test(n)?n:"";r="path="+r,window.document.cookie=e+"="+t+"; "+a+"; "+o+"; "+r},getCookie:function(e){for(var t=e+"=",n=window.document.cookie.split(";"),r=null,i=0;i<n.length;i++){for(var a=n[i];" "===a.charAt(0);)a=a.substring(1);0===a.indexOf(t)&&(r=a.substring(t.length,a.length))}return r},Buffer:L,getQueryParam:function(e){return function(){try{var e=location.search.substr(1),t={};return e.split("&").forEach((function(e){var n=e.split("=");t[n[0]]=decodeURIComponent(n[1])})),t}catch(n){return{}}}()[e]},createUUID:function(){return R.default.v4()}}}).call(t,function(){return this}())},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(81));t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,r.default)(e)}},function(e,t,n){e.exports={default:n(82),__esModule:!0}},function(e,t,n){n(43),n(83),e.exports=n(8).Array.from},function(e,t,n){"use strict";var r=n(9),i=n(6),a=n(39),o=n(64),s=n(65),c=n(30),l=n(84),u=n(66);i(i.S+i.F*!n(73)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,d,h=a(e),f="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=0,y=u(h);if(m&&(g=r(g,p>2?arguments[2]:void 0,2)),void 0==y||f==Array&&s(y))for(n=new f(t=c(h.length));t>v;v++)l(n,v,m?g(h[v],v):h[v]);else for(d=y.call(h),n=new f;!(i=d.next()).done;v++)l(n,v,m?o(d,g,[i.value,v],!0):i.value);return n.length=v,n}})},function(e,t,n){"use strict";var r=n(12),i=n(20);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){e.exports={default:n(86),__esModule:!0}},function(e,t,n){n(87),e.exports=n(8).Object.values},function(e,t,n){var r=n(6),i=n(88)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){var r=n(22),i=n(25),a=n(38).f;e.exports=function(e){return function(t){for(var n,o=i(t),s=r(o),c=s.length,l=0,u=[];c>l;)a.call(o,n=s[l++])&&u.push(e?[n,o[n]]:o[n]);return u}}},function(e,t,n){e.exports={default:n(90),__esModule:!0}},function(e,t,n){n(91),e.exports=n(8).Object.keys},function(e,t,n){var r=n(39),i=n(22);n(92)("keys",(function(){return function(e){return i(r(e))}}))},function(e,t,n){var r=n(6),i=n(8),a=n(17);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],o={};o[e]=t(n),r(r.S+r.F*a((function(){n(1)})),"Object",o)}},function(e,t,n){e.exports={default:n(94),__esModule:!0}},function(e,t,n){var r=n(8),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){e.exports={default:n(96),__esModule:!0}},function(e,t,n){n(97);var r=n(8).Object;e.exports=function(e){return r.getOwnPropertyNames(e)}},function(e,t,n){n(92)("getOwnPropertyNames",(function(){return n(98).f}))},function(e,t,n){var r=n(25),i=n(99).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return i(e)}catch(t){return o.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(23),i=n(36).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){e.exports={default:n(101),__esModule:!0}},function(e,t,n){n(102),e.exports=n(8).Object.getPrototypeOf},function(e,t,n){var r=n(39),i=n(55);n(92)("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},function(e,t,n){e.exports={default:n(104),__esModule:!0}},function(e,t,n){n(105),e.exports=n(8).Number.isNaN},function(e,t,n){var r=n(6);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(40)),a=r(n(74)),o=r(n(75)),s=function(){function e(){(0,a.default)(this,e),"undefined"!=typeof i.default&&(this.Promise=i.default)}return(0,o.default)(e,[{key:"wait",value:function(e){return new this.Promise((function(t,n){setTimeout(t,e)}))}},{key:"waitOrFail",value:function(e,t,n){var r=null,i=new this._Promise((function(e,i){var a=setTimeout((function(){return i(n)}),t);r=function(){return clearTimeout(a)}}));return e.then(r,r),this._Promise.race([e,i])}},{key:"defer",value:function(){var e={},t=new this.Promise((function(t,n){e.resolve=t,e.reject=n}));return e.promise=t,e}},{key:"Promise",set:function(e){this._Promise=e},get:function(){return this._Promise}}]),e}(),c=new s;t.default=c},function(e,t){e.exports=function(e){return void 0===e}},function(e,t){e.exports=function(e){return null===e}},function(e,t,n){var r=n(110),i="[object Boolean]",a=Object.prototype.toString;e.exports=function(e){return!0===e||!1===e||r(e)&&a.call(e)==i}},function(e,t){e.exports=function(e){return!!e&&"object"==typeof e}},function(e,t,n){var r=n(112),i=n(116),a=n(110),o=Object.prototype.toString,s=r(Array,"isArray")||function(e){return a(e)&&i(e.length)&&"[object Array]"==o.call(e)};e.exports=s},function(e,t,n){var r=n(113);e.exports=function(e,t){var n=null==e?void 0:e[t];return r(n)?n:void 0}},function(e,t,n){var r=n(114),i=n(110),a=/^\[object .+?Constructor\]$/,o=Object.prototype,s=Function.prototype.toString,c=o.hasOwnProperty,l=RegExp("^"+s.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return null!=e&&(r(e)?l.test(s.call(e)):i(e)&&a.test(e))}},function(e,t,n){var r=n(115),i="[object Function]",a=Object.prototype.toString;e.exports=function(e){return r(e)&&a.call(e)==i}},function(e,t){e.exports=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t,n){var r=n(110),i="[object String]",a=Object.prototype.toString;e.exports=function(e){return"string"==typeof e||r(e)&&a.call(e)==i}},function(e,t,n){var r=n(119),i=n(140),a=n(142);e.exports=function(e,t,n,o){return t&&"boolean"!=typeof t&&a(e,t,n)?t=!1:"function"==typeof t&&(o=n,n=t,t=!1),"function"==typeof n?r(e,t,i(n,o,3)):r(e,t)}},function(e,t,n){var r=n(120),i=n(121),a=n(122),o=n(132),s=n(136),c=n(137),l=n(139),u=n(111),d=n(115),h="[object Arguments]",f="[object Function]",p="[object Object]",g={};g[h]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object Date]"]=g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Number]"]=g[p]=g["[object RegExp]"]=g["[object String]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g["[object Error]"]=g[f]=g["[object Map]"]=g["[object Set]"]=g["[object WeakMap]"]=!1;var m=Object.prototype.toString;e.exports=function e(t,n,v,y,_,b,w){var S;if(v&&(S=_?v(t,y,_):v(t)),void 0!==S)return S;if(!d(t))return t;var E=u(t);if(E){if(S=s(t),!n)return r(t,S)}else{var I=m.call(t),C=I==f;if(I!=p&&I!=h&&(!C||_))return g[I]?c(t,I,n):_?t:{};if(S=l(C?{}:t),!n)return a(S,t)}b||(b=[]),w||(w=[]);for(var O=b.length;O--;)if(b[O]==t)return w[O];return b.push(t),w.push(S),(E?i:o)(t,(function(r,i){S[i]=e(r,n,v,i,t,b,w)})),S}},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t){e.exports=function(e,t){for(var n=-1,r=e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(123),i=n(124);e.exports=function(e,t){return null==t?e:r(t,i(t),e)}},function(e,t){e.exports=function(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var a=t[r];n[a]=e[a]}return n}},function(e,t,n){var r=n(112),i=n(125),a=n(115),o=n(128),s=r(Object,"keys"),c=s?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&i(e)?o(e):a(e)?s(e):[]}:o;e.exports=c},function(e,t,n){var r=n(126),i=n(116);e.exports=function(e){return null!=e&&i(r(e))}},function(e,t,n){var r=n(127)("length");e.exports=r},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(129),i=n(111),a=n(130),o=n(116),s=n(131),c=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=s(e),n=t.length,l=n&&e.length,u=!!l&&o(l)&&(i(e)||r(e)),d=-1,h=[];++d<n;){var f=t[d];(u&&a(f,l)||c.call(e,f))&&h.push(f)}return h}},function(e,t,n){var r=n(125),i=n(110),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable;e.exports=function(e){return i(e)&&r(e)&&o.call(e,"callee")&&!s.call(e,"callee")}},function(e,t){var n=/^\d+$/,r=9007199254740991;e.exports=function(e,t){return e="number"==typeof e||n.test(e)?+e:-1,t=null==t?r:t,e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(129),i=n(111),a=n(130),o=n(116),s=n(115),c=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return[];s(e)||(e=Object(e));var t=e.length;t=t&&o(t)&&(i(e)||r(e))&&t||0;for(var n=e.constructor,l=-1,u="function"==typeof n&&n.prototype===e,d=Array(t),h=t>0;++l<t;)d[l]=l+"";for(var f in e)h&&a(f,t)||"constructor"==f&&(u||!c.call(e,f))||d.push(f);return d}},function(e,t,n){var r=n(133),i=n(124);e.exports=function(e,t){return r(e,t,i)}},function(e,t,n){var r=n(134)();e.exports=r},function(e,t,n){var r=n(135);e.exports=function(e){return function(t,n,i){for(var a=r(t),o=i(t),s=o.length,c=e?s:-1;e?c--:++c<s;){var l=o[c];if(!1===n(a[l],l,a))break}return t}}},function(e,t,n){var r=n(115);e.exports=function(e){return r(e)?e:Object(e)}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(138),i="[object Boolean]",a="[object Date]",o="[object Number]",s="[object RegExp]",c="[object String]",l="[object ArrayBuffer]",u="[object Float32Array]",d="[object Float64Array]",h="[object Int8Array]",f="[object Int16Array]",p="[object Int32Array]",g="[object Uint8Array]",m="[object Uint8ClampedArray]",v="[object Uint16Array]",y="[object Uint32Array]",_=/\w*$/;e.exports=function(e,t,n){var b=e.constructor;switch(t){case l:return r(e);case i:case a:return new b(+e);case u:case d:case h:case f:case p:case g:case m:case v:case y:var w=e.buffer;return new b(n?r(w):w,e.byteOffset,e.length);case o:case c:return new b(e);case s:var S=new b(e.source,_.exec(e));S.lastIndex=e.lastIndex}return S}},function(e,t){(function(t){var n=t.ArrayBuffer,r=t.Uint8Array;e.exports=function(e){var t=new n(e.byteLength);return new r(t).set(new r(e)),t}}).call(t,function(){return this}())},function(e,t){e.exports=function(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Object),new t}},function(e,t,n){var r=n(141);e.exports=function(e,t,n){if("function"!=typeof e)return r;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,a){return e.call(t,n,r,i,a)};case 5:return function(n,r,i,a,o){return e.call(t,n,r,i,a,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(125),i=n(130),a=n(115);e.exports=function(e,t,n){if(!a(n))return!1;var o=typeof t;if("number"==o?r(n)&&i(t,n.length):"string"==o&&t in n){var s=n[t];return e===e?e===s:s!==s}return!1}},function(e,t,n){var r=n(144),i=n(140),a=n(146),o=n(147),s=n(149)((function(e,t){return null==e?{}:"function"==typeof t[0]?o(e,i(t[0],t[1],3)):a(e,r(t))}));e.exports=s},function(e,t,n){var r=n(145),i=n(129),a=n(111),o=n(125),s=n(110);e.exports=function e(t,n,c,l){l||(l=[]);for(var u=-1,d=t.length;++u<d;){var h=t[u];s(h)&&o(h)&&(c||a(h)||i(h))?n?e(h,n,c,l):r(l,h):c||(l[l.length]=h)}return l}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t,n){var r=n(135);e.exports=function(e,t){e=r(e);for(var n=-1,i=t.length,a={};++n<i;){var o=t[n];o in e&&(a[o]=e[o])}return a}},function(e,t,n){var r=n(148);e.exports=function(e,t){var n={};return r(e,(function(e,r,i){t(e,r,i)&&(n[r]=e)})),n}},function(e,t,n){var r=n(133),i=n(131);e.exports=function(e,t){return r(e,t,i)}},function(e,t){var n="Expected a function",r=Math.max;e.exports=function(e,t){if("function"!=typeof e)throw new TypeError(n);return t=r(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,i=-1,a=r(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var s=Array(t+1);for(i=-1;++i<t;)s[i]=n[i];return s[t]=o,e.apply(this,s)}}},function(e,t,n){var r=n(151),i=n(152),a=n(129),o=n(111),s=n(130),c=n(153),l=n(116),u=n(154),d=n(155),h=Object.prototype.hasOwnProperty;e.exports=function(e,t){if(null==e)return!1;var n=h.call(e,t);if(!n&&!c(t)){if(null==(e=1==(t=d(t)).length?e:r(e,i(t,0,-1))))return!1;t=u(t),n=h.call(e,t)}return n||l(e.length)&&s(t,e.length)&&(o(e)||a(e))}},function(e,t,n){var r=n(135);e.exports=function(e,t,n){if(null!=e){void 0!==n&&n in r(e)&&(t=[n]);for(var i=0,a=t.length;null!=e&&i<a;)e=e[t[i++]];return i&&i==a?e:void 0}}},function(e,t){e.exports=function(e,t,n){var r=-1,i=e.length;(t=null==t?0:+t||0)<0&&(t=-t>i?0:i+t),(n=void 0===n||n>i?i:+n||0)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}},function(e,t,n){var r=n(111),i=n(135),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){var n=typeof e;return!!("string"==n&&o.test(e)||"number"==n)||!r(e)&&(!a.test(e)||null!=t&&e in i(t))}},function(e,t){e.exports=function(e){var t=e?e.length:0;return t?e[t-1]:void 0}},function(e,t,n){var r=n(156),i=n(111),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,o=/\\(\\)?/g;e.exports=function(e){if(i(e))return e;var t=[];return r(e).replace(a,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}},function(e,t){e.exports=function(e){return null==e?"":e+""}},function(e,t,n){var r=n(158),i=n(122),a=n(159)((function(e,t,n){return n?r(e,t,n):i(e,t)}));e.exports=a},function(e,t,n){var r=n(124);e.exports=function(e,t,n){for(var i=-1,a=r(t),o=a.length;++i<o;){var s=a[i],c=e[s],l=n(c,t[s],s,e,t);(l===l?l===c:c!==c)&&(void 0!==c||s in e)||(e[s]=l)}return e}},function(e,t,n){var r=n(140),i=n(142),a=n(149);e.exports=function(e){return a((function(t,n){var a=-1,o=null==t?0:n.length,s=o>2?n[o-2]:void 0,c=o>2?n[2]:void 0,l=o>1?n[o-1]:void 0;for("function"==typeof s?(s=r(s,l,5),o-=2):o-=(s="function"==typeof l?l:void 0)?1:0,c&&i(n[0],n[1],c)&&(s=o<3?void 0:s,o=1);++a<o;){var u=n[a];u&&e(t,u,s)}return t}))}},function(e,t,n){var r=n(161),i=n(163)(r);e.exports=i},function(e,t,n){var r=n(132),i=n(162)(r);e.exports=i},function(e,t,n){var r=n(126),i=n(116),a=n(135);e.exports=function(e,t){return function(n,o){var s=n?r(n):0;if(!i(s))return e(n,o);for(var c=t?s:-1,l=a(n);(t?c--:++c<s)&&!1!==o(l[c],c,l););return n}}},function(e,t,n){var r=n(164),i=n(180),a=n(181),o=n(111);e.exports=function(e,t){return function(n,s,c){if(s=r(s,c,3),o(n)){var l=a(n,s,t);return l>-1?n[l]:void 0}return i(n,s,e)}}},function(e,t,n){var r=n(165),i=n(177),a=n(140),o=n(141),s=n(178);e.exports=function(e,t,n){var c=typeof e;return"function"==c?void 0===t?e:a(e,t,n):null==e?o:"object"==c?r(e):void 0===t?s(e):i(e,t)}},function(e,t,n){var r=n(166),i=n(174),a=n(135);e.exports=function(e){var t=i(e);if(1==t.length&&t[0][2]){var n=t[0][0],o=t[0][1];return function(e){return null!=e&&e[n]===o&&(void 0!==o||n in a(e))}}return function(e){return r(e,t)}}},function(e,t,n){var r=n(167),i=n(135);e.exports=function(e,t,n){var a=t.length,o=a,s=!n;if(null==e)return!o;for(e=i(e);a--;){var c=t[a];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<o;){var l=(c=t[a])[0],u=e[l],d=c[1];if(s&&c[2]){if(void 0===u&&!(l in e))return!1}else{var h=n?n(u,d,l):void 0;if(!(void 0===h?r(d,u,n,!0):h))return!1}}return!0}},function(e,t,n){var r=n(168),i=n(115),a=n(110);e.exports=function e(t,n,o,s,c,l){return t===n||(null==t||null==n||!i(t)&&!a(n)?t!==t&&n!==n:r(t,n,e,o,s,c,l))}},function(e,t,n){var r=n(169),i=n(171),a=n(172),o=n(111),s=n(173),c="[object Arguments]",l="[object Array]",u="[object Object]",d=Object.prototype,h=d.hasOwnProperty,f=d.toString;e.exports=function(e,t,n,d,p,g,m){var v=o(e),y=o(t),_=l,b=l;v||((_=f.call(e))==c?_=u:_!=u&&(v=s(e))),y||((b=f.call(t))==c?b=u:b!=u&&(y=s(t)));var w=_==u,S=b==u,E=_==b;if(E&&!v&&!w)return i(e,t,_);if(!p){var I=w&&h.call(e,"__wrapped__"),C=S&&h.call(t,"__wrapped__");if(I||C)return n(I?e.value():e,C?t.value():t,d,p,g,m)}if(!E)return!1;g||(g=[]),m||(m=[]);for(var O=g.length;O--;)if(g[O]==e)return m[O]==t;g.push(e),m.push(t);var T=(v?r:a)(e,t,n,d,p,g,m);return g.pop(),m.pop(),T}},function(e,t,n){var r=n(170);e.exports=function(e,t,n,i,a,o,s){var c=-1,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;for(;++c<l;){var d=e[c],h=t[c],f=i?i(a?h:d,a?d:h,c):void 0;if(void 0!==f){if(f)continue;return!1}if(a){if(!r(t,(function(e){return d===e||n(d,e,i,a,o,s)})))return!1}else if(d!==h&&!n(d,h,i,a,o,s))return!1}return!0}},function(e,t){e.exports=function(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){var n="[object Boolean]",r="[object Date]",i="[object Error]",a="[object Number]",o="[object RegExp]",s="[object String]";e.exports=function(e,t,c){switch(c){case n:case r:return+e==+t;case i:return e.name==t.name&&e.message==t.message;case a:return e!=+e?t!=+t:e==+t;case o:case s:return e==t+""}return!1}},function(e,t,n){var r=n(124),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,s,c){var l=r(e),u=l.length;if(u!=r(t).length&&!o)return!1;for(var d=u;d--;){var h=l[d];if(!(o?h in t:i.call(t,h)))return!1}for(var f=o;++d<u;){var p=e[h=l[d]],g=t[h],m=a?a(o?g:p,o?p:g,h):void 0;if(!(void 0===m?n(p,g,a,o,s,c):m))return!1;f||(f="constructor"==h)}if(!f){var v=e.constructor,y=t.constructor;if(v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y))return!1}return!0}},function(e,t,n){var r=n(116),i=n(110),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;var o=Object.prototype.toString;e.exports=function(e){return i(e)&&r(e.length)&&!!a[o.call(e)]}},function(e,t,n){var r=n(175),i=n(176);e.exports=function(e){for(var t=i(e),n=t.length;n--;)t[n][2]=r(t[n][1]);return t}},function(e,t,n){var r=n(115);e.exports=function(e){return e===e&&!r(e)}},function(e,t,n){var r=n(124),i=n(135);e.exports=function(e){e=i(e);for(var t=-1,n=r(e),a=n.length,o=Array(a);++t<a;){var s=n[t];o[t]=[s,e[s]]}return o}},function(e,t,n){var r=n(151),i=n(167),a=n(152),o=n(111),s=n(153),c=n(175),l=n(154),u=n(135),d=n(155);e.exports=function(e,t){var n=o(e),h=s(e)&&c(t),f=e+"";return e=d(e),function(o){if(null==o)return!1;var s=f;if(o=u(o),(n||!h)&&!(s in o)){if(null==(o=1==e.length?o:r(o,a(e,0,-1))))return!1;s=l(e),o=u(o)}return o[s]===t?void 0!==t||s in o:i(t,o[s],void 0,!0)}}},function(e,t,n){var r=n(127),i=n(179),a=n(153);e.exports=function(e){return a(e)?r(e):i(e)}},function(e,t,n){var r=n(151),i=n(155);e.exports=function(e){var t=e+"";return e=i(e),function(n){return r(n,e,t)}}},function(e,t){e.exports=function(e,t,n,r){var i;return n(e,(function(e,n,a){if(t(e,n,a))return i=r?n:e,!1})),i}},function(e,t){e.exports=function(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}},function(e,t,n){var r=n(183),i=n(164),a=n(184),o=n(111),s=n(142);e.exports=function(e,t,n){var c=o(e)?r:a;return n&&s(e,t,n)&&(t=void 0),"function"==typeof t&&void 0===n||(t=i(t,n,3)),c(e,t)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},function(e,t,n){var r=n(161);e.exports=function(e,t){var n=!0;return r(e,(function(e,r,i){return n=!!t(e,r,i)})),n}},function(e,t,n){var r=n(119),i=n(165);e.exports=function(e){return i(r(e,!0))}},function(e,t,n){var r;!function(i){"use strict";function a(e,t){var n=t||0,r=h;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}function o(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new d(16):null,e=null);var i=(e=e||{}).random||(e.rng||s)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var o=0;o<16;o++)t[r+o]=i[o];return t||a(i)}var s,c,l,u;i?function(){var e=i.crypto||i.msCrypto;if(!s&&e&&e.getRandomValues)try{var t=new Uint8Array(16);u=s=function(){return e.getRandomValues(t),t},s()}catch(n){}if(!s){var r=new Array(16);c=s=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}():function(){try{var e=n(187).randomBytes;l=s=e&&function(){return e(16)},s()}catch(t){}}();for(var d="function"==typeof Buffer?Buffer:Array,h=[],f={},p=0;p<256;p++)h[p]=(p+256).toString(16).substr(1),f[h[p]]=p;var g=s(),m=[1|g[0],g[1],g[2],g[3],g[4],g[5]],v=16383&(g[6]<<8|g[7]),y=0,_=0,b=o;b.v1=function(e,t,n){var r=t&&n||0,i=t||[],o=null!=(e=e||{}).clockseq?e.clockseq:v,s=null!=e.msecs?e.msecs:(new Date).getTime(),c=null!=e.nsecs?e.nsecs:_+1,l=s-y+(c-_)/1e4;if(l<0&&null==e.clockseq&&(o=o+1&16383),(l<0||s>y)&&null==e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");y=s,_=c,v=o;var u=(1e4*(268435455&(s+=122192928e5))+c)%4294967296;i[r++]=u>>>24&255,i[r++]=u>>>16&255,i[r++]=u>>>8&255,i[r++]=255&u;var d=s/4294967296*1e4&268435455;i[r++]=d>>>8&255,i[r++]=255&d,i[r++]=d>>>24&15|16,i[r++]=d>>>16&255,i[r++]=o>>>8|128,i[r++]=255&o;for(var h=e.node||m,f=0;f<6;f++)i[r+f]=h[f];return t||a(i)},b.v4=o,b.parse=function(e,t,n){var r=t&&n||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,(function(e){i<16&&(t[r+i++]=f[e])}));i<16;)t[r+i++]=0;return t},b.unparse=a,b.BufferClass=d,b._rng=s,b._mathRNG=c,b._nodeRNG=l,b._whatwgRNG=u,"undefined"!=typeof e&&e.exports?e.exports=b:void 0===(r=function(){return b}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof window?window:null)},function(e,t){e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(74)),a=r(n(75)),o=r(n(189)),s=r(n(192)),c=r(n(221)),l=r(n(246)),u=function(){function e(){(0,i.default)(this,e),this._prodApnsConnector=new l.default(o.default.PRODUCTION_ENVIRONMENT),this._devApnsConnector=new l.default(o.default.DEVELOPMENT_ENVIRONMENT)}return(0,a.default)(e,[{key:"registerContainerForNotification",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.apnsToken)return this._registerToken(e,t.apnsToken,t.clientID).then((function(){return e}));var n=this._getConnectorForContainer(e);!0===t.refreshToken&&n.clearApnsInfo();var r=n.hasApnsToken?this._registerToken(e,n.apnsToken,t.clientID):this._createToken(e,t.clientID);return t.dontPoll?r:r.then((function(t){var r=t.httpResponse.body;return n.consumeApnsInfo(r),n.addNotificationListener(e),e}))}},{key:"unregisterContainerForNotification",value:function(e){return this._getConnectorForContainer(e).removeNotificationListener(e)}},{key:"isContainerRegisteredForNotifications",value:function(e){return this._getConnectorForContainer(e).hasNotificationListener(e)}},{key:"_getConnectorForContainer",value:function(e){if(e.apnsEnvironment===o.default.PRODUCTION_ENVIRONMENT)return this._prodApnsConnector;if(e.apnsEnvironment===o.default.DEVELOPMENT_ENVIRONMENT)return this._devApnsConnector;throw c.default.makeConfigurationError("No apnsEnvironment configured for container: "+e.containerIdentifier)}},{key:"_createToken",value:function(e,t){return e.sendRequest((new s.default).setApiModuleName("device").setApiEntityName("tokens").setApiActionName("create").setPayload({apnsEnvironment:e.apnsEnvironment,clientId:t}))}},{key:"_registerToken",value:function(e,t,n){return e.sendRequest((new s.default).setApiModuleName("device").setApiEntityName("tokens").setApiActionName("register").setPayload({apnsEnvironment:e.apnsEnvironment,apnsToken:t,clientId:n}))}}]),e}();t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(190)),a=r(n(191));t.default={CLOUDKIT_LOADED:"cloudkitloaded",PRODUCTION_ENVIRONMENT:"production",DEVELOPMENT_ENVIRONMENT:"development",BUILD_VERSION:i.default,VERSION:a.default,WS_API_VERSION:1,URL_PREFIX:"https://api.apple-cloudkit.com"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="1954c05c4f41058728b542451db280c466a18f51"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="2.6.4"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(100)),a=r(n(74)),o=r(n(75)),s=r(n(193)),c=r(n(209)),l=r(n(213)),u=r(n(221)),d=r(n(222)),h=r(n(245)),f=r(n(189)),p=r(n(79)),g=r(n(224)),m=r(n(106)),v={parameters:{ckjsBuildVersion:f.default.BUILD_VERSION,ckjsVersion:f.default.VERSION},headers:{"content-type":"text/plain"}},y=function(e){function t(){(0,a.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,p.default.assign({},v)));return e._wsApiVersion=f.default.WS_API_VERSION,e._host=f.default.URL_PREFIX,e._containerIdentifier=null,e._containerEnvironment=null,e._databaseName=null,e._containerEnvironment=null,e._apiModuleName=null,e._responseClass=d.default,e}return(0,l.default)(t,e),(0,o.default)(t,[{key:"setPayload",value:function(e){return this.setMethod("POST"),this.setBody(e),this}},{key:"getPayload",value:function(){return this._body}},{key:"setContainerIdentifier",value:function(e){return this._containerIdentifier=e,this}},{key:"setContainerEnvironment",value:function(e){return this._containerEnvironment=e,this}},{key:"setDatabaseName",value:function(e){return this._databaseName=e,this}},{key:"setApiModuleName",value:function(e){return this._apiModuleName=e,this}},{key:"setApiEntityName",value:function(e){return this._apiEntityName=e,this}},{key:"setApiActionName",value:function(e){return this._apiAction=e,this}},{key:"setResponseClass",value:function(e){return this._responseClass=e,this}},{key:"setApiToken",value:function(e){return this.setParameter("ckAPIToken",e),this}},{key:"setCKSession",value:function(e){return this.setParameter("ckWebAuthToken",encodeURIComponent(e)),this}},{key:"setISODate",value:function(e){return this.setHeader("X-Apple-CloudKit-Request-ISO8601Date",e),this}},{key:"setSigningKeyID",value:function(e){return this.setHeader("X-Apple-CloudKit-Request-KeyID",e),this}},{key:"setSignatureV1",value:function(e){return this.setHeader("X-Apple-CloudKit-Request-SignatureV1",e),this}},{key:"setClientID",value:function(e){return p.default.isNullOrUndefined(e)||this.setParameter("clientId",e),this}},{key:"getPath",value:function(){return"/"+[this._apiModuleName,this._wsApiVersion,this._containerIdentifier,this._containerEnvironment,this._databaseName,this._apiEntityName,this._apiAction].filter((function(e){return!p.default.isNullOrUndefined(e)})).join("/")}},{key:"send",value:function(){var e=this;return(0,c.default)(t.prototype.__proto__||(0,i.default)(t.prototype),"send",this).call(this).catch((function(e){throw g.default.warn(e,e.stack),u.default.makeNetworkError(e)})).then((function(t){var n=t.status,r=t.headers;return t.text().then((function(e){try{return JSON.parse(e)}catch(t){return 503===n?m.default.Promise.reject(u.default.makeServiceUnavailableError()):m.default.Promise.reject(u.default.makeUnexpectedServerResponse("Could not parse json: "+e))}})).then((function(t){if(n<200||n>=300)throw u.default.fromServerError(t);return new(0,e._responseClass)(e,{status:n,body:t,headers:r})}))}))}}]),t}(h.default);t.default=y},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(194));t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":(0,r.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=r(n(195)),a=r(n(198)),o="function"==typeof a.default&&"symbol"==typeof i.default?function(e){return typeof e}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default?"symbol":typeof e};t.default="function"==typeof a.default&&"symbol"===o(i.default)?function(e){return"undefined"==typeof e?"undefined":o(e)}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default?"symbol":"undefined"==typeof e?"undefined":o(e)}},function(e,t,n){e.exports={default:n(196),__esModule:!0}},function(e,t,n){n(43),n(56),e.exports=n(197).f("iterator")},function(e,t,n){t.f=n(54)},function(e,t,n){e.exports={default:n(199),__esModule:!0}},function(e,t,n){n(200),n(42),n(207),n(208),e.exports=n(8).Symbol},function(e,t,n){"use strict";var r=n(7),i=n(24),a=n(16),o=n(6),s=n(47),c=n(201).KEY,l=n(17),u=n(34),d=n(53),h=n(35),f=n(54),p=n(197),g=n(202),m=n(203),v=n(204),y=n(205),_=n(13),b=n(25),w=n(19),S=n(20),E=n(50),I=n(98),C=n(206),O=n(12),T=n(22),A=C.f,N=O.f,M=I.f,D=r.Symbol,R=r.JSON,L=R&&R.stringify,k="prototype",x=f("_hidden"),F=f("toPrimitive"),P={}.propertyIsEnumerable,j=u("symbol-registry"),U=u("symbols"),B=u("op-symbols"),V=Object[k],W="function"==typeof D,z=r.QObject,H=!z||!z[k]||!z[k].findChild,G=a&&l((function(){return 7!=E(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=A(V,t);r&&delete V[t],N(e,t,n),r&&e!==V&&N(V,t,r)}:N,$=function(e){var t=U[e]=E(D[k]);return t._k=e,t},K=W&&"symbol"==typeof D.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof D},Q=function(e,t,n){return e===V&&Q(B,t,n),_(e),t=w(t,!0),_(n),i(U,t)?(n.enumerable?(i(e,x)&&e[x][t]&&(e[x][t]=!1),n=E(n,{enumerable:S(0,!1)})):(i(e,x)||N(e,x,S(1,{})),e[x][t]=!0),G(e,t,n)):N(e,t,n)},q=function(e,t){_(e);for(var n,r=v(t=b(t)),i=0,a=r.length;a>i;)Q(e,n=r[i++],t[n]);return e},Z=function(e){var t=P.call(this,e=w(e,!0));return!(this===V&&i(U,e)&&!i(B,e))&&(!(t||!i(this,e)||!i(U,e)||i(this,x)&&this[x][e])||t)},Y=function(e,t){if(e=b(e),t=w(t,!0),e!==V||!i(U,t)||i(B,t)){var n=A(e,t);return!n||!i(U,t)||i(e,x)&&e[x][t]||(n.enumerable=!0),n}},X=function(e){for(var t,n=M(b(e)),r=[],a=0;n.length>a;)i(U,t=n[a++])||t==x||t==c||r.push(t);return r},J=function(e){for(var t,n=e===V,r=M(n?B:b(e)),a=[],o=0;r.length>o;)!i(U,t=r[o++])||n&&!i(V,t)||a.push(U[t]);return a};W||(D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(n){this===V&&t.call(B,n),i(this,x)&&i(this[x],e)&&(this[x][e]=!1),G(this,e,S(1,n))};return a&&H&&G(V,e,{configurable:!0,set:t}),$(e)},s(D[k],"toString",(function(){return this._k})),C.f=Y,O.f=Q,n(99).f=I.f=X,n(38).f=Z,n(37).f=J,a&&!n(46)&&s(V,"propertyIsEnumerable",Z,!0),p.f=function(e){return $(f(e))}),o(o.G+o.W+o.F*!W,{Symbol:D});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)f(ee[te++]);for(ee=T(f.store),te=0;ee.length>te;)g(ee[te++]);o(o.S+o.F*!W,"Symbol",{for:function(e){return i(j,e+="")?j[e]:j[e]=D(e)},keyFor:function(e){if(K(e))return m(j,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){H=!0},useSimple:function(){H=!1}}),o(o.S+o.F*!W,"Object",{create:function(e,t){return void 0===t?E(e):q(E(e),t)},defineProperty:Q,defineProperties:q,getOwnPropertyDescriptor:Y,getOwnPropertyNames:X,getOwnPropertySymbols:J}),R&&o(o.S+o.F*(!W||l((function(){var e=D();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))}))),"JSON",{stringify:function(e){if(void 0!==e&&!K(e)){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);return"function"==typeof(t=r[1])&&(n=t),!n&&y(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!K(t))return t}),r[1]=t,L.apply(R,r)}}}),D[k][F]||n(11)(D[k],F,D[k].valueOf),d(D,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(35)("meta"),i=n(14),a=n(24),o=n(12).f,s=0,c=Object.isExtensible||function(){return!0},l=!n(17)((function(){return c(Object.preventExtensions({}))})),u=function(e){o(e,r,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,r)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!a(e,r)){if(!c(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return l&&d.NEED&&c(e)&&!a(e,r)&&u(e),e}}},function(e,t,n){var r=n(7),i=n(8),a=n(46),o=n(197),s=n(12).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=a?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t,n){var r=n(22),i=n(25);e.exports=function(e,t){for(var n,a=i(e),o=r(a),s=o.length,c=0;s>c;)if(a[n=o[c++]]===t)return n}},function(e,t,n){var r=n(22),i=n(37),a=n(38);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var o,s=n(e),c=a.f,l=0;s.length>l;)c.call(e,o=s[l++])&&t.push(o);return t}},function(e,t,n){var r=n(27);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(38),i=n(20),a=n(25),o=n(19),s=n(24),c=n(15),l=Object.getOwnPropertyDescriptor;t.f=n(16)?l:function(e,t){if(e=a(e),t=o(t,!0),c)try{return l(e,t)}catch(n){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){n(202)("asyncIterator")},function(e,t,n){n(202)("observable")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=r(n(100)),a=r(n(210));t.default=function e(t,n,r){null===t&&(t=Function.prototype);var o=(0,a.default)(t,n);if(void 0===o){var s=(0,i.default)(t);return null===s?void 0:e(s,n,r)}if("value"in o)return o.value;var c=o.get;return void 0!==c?c.call(r):void 0}},function(e,t,n){e.exports={default:n(211),__esModule:!0}},function(e,t,n){n(212);var r=n(8).Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},function(e,t,n){var r=n(25),i=n(206).f;n(92)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(r(e),t)}}))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=r(n(214)),a=r(n(218)),o=r(n(194));t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":(0,o.default)(t)));e.prototype=(0,a.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}},function(e,t,n){e.exports={default:n(215),__esModule:!0}},function(e,t,n){n(216),e.exports=n(8).Object.setPrototypeOf},function(e,t,n){var r=n(6);r(r.S,"Object",{setPrototypeOf:n(217).set})},function(e,t,n){var r=n(14),i=n(13),a=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(9)(Function.call,n(206).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(i){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:a}},function(e,t,n){e.exports={default:n(219),__esModule:!0}},function(e,t,n){n(220);var r=n(8).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(6);r(r.S,"Object",{create:n(50)})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(214)),a=r(n(218)),o=r(n(100)),s=r(n(74)),c=r(n(75)),l=r(n(193)),u=r(n(213)),d=r(n(79)),h="ACCESS_DENIED",f="ATOMIC_ERROR",p="AUTHENTICATION_FAILED",g="AUTHENTICATION_REQUIRED",m="BAD_REQUEST",v="CONFLICT",y="EXISTS",_="INTERNAL_ERROR",b="NOT_FOUND",w="QUOTA_EXCEEDED",S="THROTTLED",E="TRY_AGAIN_LATER",I="UNIQUE_FIELD_ERROR",C="VALIDATING_REFERENCE_ERROR",O="ZONE_NOT_FOUND",T="ZONE_BUSY",A=[h,f,p,g,m,v,y,_,b,w,S,E,I,C,O,T],N="UNKNOWN_ERROR",M="NETWORK_ERROR",D="SERVICE_UNAVAILABLE",R="INVALID_ARGUMENTS",L="UNEXPECTED_SERVER_RESPONSE",k="CONFIGURATION_ERROR",x="AUTH_PERSIST_ERROR",F="SIGN_IN_FAILED",P="SHARE_UI_TIMEOUT",j=[N,M,D,R,L,k,x,F],U={AUTH_PERSIST_ERROR:"Could not read or write ckSession",SIGN_IN_FAILED:"Error in sign in popup"},B=function(e){function t(e){var n=e.uuid,r=e.serverErrorCode,i=e.extensionErrorCode,a=e.reason,c=e.retryAfter,u=e.subscriptionID,h=e.recordName,f=e.zoneID,p=e.redirectURL,g=e.ckErrorCode;(0,s.default)(this,t);var m=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return Error.captureStackTrace&&Error.captureStackTrace(m,m.constructor),d.default.isNullOrUndefined(g)&&(g=t.isKnownServerErrorCode(r)?r:N),m._ckErrorCode=g,m._uuid=n,m._reason=d.default.isNullOrUndefined(a)?g:a,m._serverErrorCode=r,m._extensionErrorCode=i,m._retryAfter=c,m._recordName=h,m._subscriptionID=u,m._zoneID=f,m._redirectURL=p,m.message=m._reason,m}return(0,u.default)(t,e),(0,c.default)(t,[{key:"toString",value:function(){return d.default.instanceToString("CKError",this)}},{key:"toJSON",value:function(){return{uuid:this._uuid,serverErrorCode:this._serverErrorCode,extensionErrorCode:this._extensionErrorCode,reason:this._reason,retryAfter:this._retryAfter,subscriptionID:this._subscriptionID,recordName:this._recordName,zoneID:this._zoneID,redirectURL:this._redirectURL,ckErrorCode:this._ckErrorCode}}},{key:"ckErrorCode",get:function(){return this._ckErrorCode}},{key:"uuid",get:function(){return this._uuid}},{key:"reason",get:function(){return this._reason}},{key:"serverErrorCode",get:function(){return this._serverErrorCode}},{key:"extensionErrorCode",get:function(){return this._extensionErrorCode}},{key:"retryAfter",get:function(){return this._retryAfter}},{key:"subscriptionID",get:function(){return this._subscriptionID}},{key:"recordName",get:function(){return this._recordName}},{key:"zoneID",get:function(){return this._zoneID}},{key:"redirectURL",get:function(){return this._redirectURL}},{key:"isError",get:function(){return!0}},{key:"isCKError",get:function(){return!0}},{key:"isServerError",get:function(){return null!==this.serverErrorCode}},{key:"isServerExtensionError",get:function(){return null!==this.extensionErrorCode}}],[{key:"isErrorObject",value:function(e){var t=e.serverErrorCode,n=e.extensionErrorCode;return!d.default.isNullOrUndefined(t)||!d.default.isNullOrUndefined(n)}},{key:"isKnownServerErrorCode",value:function(e){return A.some((function(t){return t===e}))}},{key:"isKnownCKErrorCode",value:function(e){return j.some((function(t){return t===e}))}},{key:"fromServerError",value:function(e){return d.default.isNullOrUndefined(e.redirectUrl)||(e.redirectURL=e.redirectUrl),d.default.isNullOrUndefined(e.subscriptionId)||(e.subscriptionID=e.subscriptionId),new t(e)}},{key:"fromErrorCode",value:function(e,n){var r=U[e];return d.default.isNullOrUndefined(r)&&(r=e),d.default.isNullOrUndefined(n)||(r+=": "+n),new t({ckErrorCode:e,reason:r})}},{key:"makeNetworkError",value:function(){return t.fromErrorCode(M)}},{key:"makeInvalidArguments",value:function(e){return t.fromErrorCode(R,e)}},{key:"makeUnexpectedServerResponse",value:function(e){return t.fromErrorCode(L,e)}},{key:"makeConfigurationError",value:function(e){return t.fromErrorCode(k,e)}},{key:"makeServiceUnavailableError",value:function(){return t.fromErrorCode(D)}},{key:"makeAuthPersistError",value:function(){return t.fromErrorCode(x)}},{key:"makeSignInFailedError",value:function(e){return t.fromErrorCode(F,e.errorMessage)}},{key:"makeUnknownError",value:function(){return t.fromErrorCode(N)}},{key:"makeShareUITimeout",value:function(){return t.fromErrorCode(P)}},{key:"ACCESS_DENIED",get:function(){return h}},{key:"ATOMIC_ERROR",get:function(){return f}},{key:"AUTHENTICATION_FAILED",get:function(){return p}},{key:"AUTHENTICATION_REQUIRED",get:function(){return g}},{key:"BAD_REQUEST",get:function(){return m}},{key:"CONFLICT",get:function(){return v}},{key:"EXISTS",get:function(){return y}},{key:"INTERNAL_ERROR",get:function(){return _}},{key:"NOT_FOUND",get:function(){return b}},{key:"QUOTA_EXCEEDED",get:function(){return w}},{key:"THROTTLED",get:function(){return S}},{key:"TRY_AGAIN_LATER",get:function(){return E}},{key:"VALIDATING_REFERENCE_ERROR",get:function(){return C}},{key:"UNIQUE_FIELD_ERROR",get:function(){return I}},{key:"ZONE_NOT_FOUND",get:function(){return O}},{key:"UNKNOWN_ERROR",get:function(){return N}},{key:"NETWORK_ERROR",get:function(){return M}},{key:"SERVICE_UNAVAILABLE",get:function(){return D}},{key:"INVALID_ARGUMENTS",get:function(){return R}},{key:"UNEXPECTED_SERVER_RESPONSE",get:function(){return L}},{key:"CONFIGURATION_ERROR",get:function(){return k}},{key:"AUTH_PERSIST_ERROR",get:function(){return x}},{key:"SIGN_IN_FAILED",get:function(){return F}},{key:"SHARE_UI_TIMEOUT",get:function(){return P}},{key:"ZONE_BUSY",get:function(){return T}}]),t}(function(e){function t(){e.apply(this,arguments)}return t.prototype=(0,a.default)(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i.default?(0,i.default)(t,e):t.__proto__=e,t}(Error));t.default=B},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(100)),a=r(n(193)),o=r(n(213)),s=r(n(74)),c=r(n(75)),l=r(n(79)),u=r(n(221)),d=r(n(223)),h=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if((0,s.default)(this,e),l.default.assertArg(t,"request cannot be null"),l.default.assertArg(n,"httpResponse cannot be null"),this._request=t,this._httpResponse=n,null!==r){var i=n.body[r];if(!l.default.isArray(i))throw u.default.makeUnexpectedServerResponse();var a=i.reduce((function(e,t){return u.default.isErrorObject(t)?e.errors.push(u.default.fromServerError(t)):e.results.push(t),e}),{results:[],errors:[]}),o=a.results,c=a.errors;this._errors=c,this._results=o}}return(0,c.default)(e,[{key:"getCKSession",value:function(){var e=null;try{e=d.default.readHeader(this.httpResponse.headers,"x-apple-cloudkit-web-auth-token")}catch(t){}return l.default.isNullOrUndefined(e)&&(e=d.default.readHeader(this.httpResponse.headers,"x-apple-cloudkit-session")),e}},{key:"request",get:function(){return this._request}},{key:"httpResponse",get:function(){return this._httpResponse}},{key:"errors",get:function(){return this._errors}},{key:"hasErrors",get:function(){var e=this.errors;return e&&e.length>0}},{key:"isResponse",get:function(){return!0}}],[{key:"createGenericResponseClass",value:function(t){return function(e){function n(e,r){return(0,s.default)(this,n),(0,a.default)(this,(n.__proto__||(0,i.default)(n)).call(this,e,r,t))}return(0,o.default)(n,e),(0,c.default)(n,[{key:t,get:function(){return this._results}}]),n}(e)}}]),e}();t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(3)),a=r(n(74)),o=r(n(75)),s=r(n(79)),c=r(n(224)),l=r(n(225)),u=r(n(106)),d=r(n(226)),h=function(){function e(){(0,a.default)(this,e),s.default.isNode()||this.setDelegate(d.default)}return(0,o.default)(e,[{key:"setDelegate",value:function(e){if(s.default.isNullOrUndefined(e)){if(s.default.isNode())throw new Error("No fetch delegate.");this._delegate=d.default}else this._delegate=e}},{key:"fetch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=l.default.newNetworkStat(e,t);return t=(0,i.default)({Promise:u.default.Promise},t),this.fetchWithoutReporting(e,t).catch((function(e){throw n.networkError(e),e})).then((function(e){return e.status>=500&&e.status<600&&n.error5XX(e),e}))}},{key:"fetchJSON",value:function(e,t){return this.fetch(e,t).then((function(e){return e.json()}))}},{key:"fetchWithoutReporting",value:function(e,t){return this._delegate.apply(null,[e,t,d.default])}},{key:"readHeader",value:function(e,t){try{if(s.default.isNullOrUndefined(e))return null;if(s.default.isFunction(e.get))return e.get(t);if(!s.default.isNullOrUndefined(e[t]))return e[t]}catch(n){c.default.warn("Error reading header: "+t+" "+n+"}")}return null}}]),e}(),f=new h;t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(80)),a=r(n(79)),o="CloudKitJS",s=null,c=function(){return a.default.isNullOrUndefined(s)?"undefined"!=typeof CloudKit&&CloudKit.logToConsole?console:void 0:s},l={setDelegate:function(e){s=e},info:function(){var e=c();if(!a.default.isNullOrUndefined(e)&&a.default.isFunction(e.info)){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e.info.apply(e,(0,i.default)([o].concat(n)))}},warn:function(){var e=c();if(!a.default.isNullOrUndefined(e)&&a.default.isFunction(e.warn)){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e.warn.apply(e,(0,i.default)([o].concat(n)))}},error:function(){var e=c();if(!a.default.isNullOrUndefined(e)&&a.default.isFunction(e.error)){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e.error.apply(e,(0,i.default)([o].concat(n)))}}};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=m.exec(e);return{host:t[10],pathName:t[13]}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(93)),o=r(n(2)),s=r(n(100)),c=r(n(193)),l=r(n(209)),u=r(n(213)),d=r(n(74)),h=r(n(75)),f=r(n(189)),p=r(n(223)),g=r(n(221)),m=/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,v=function(){try{return i(window.location.href)}catch(e){return{}}}(),y=function(){function e(t,n,r){(0,d.default)(this,e),this._reporting=t,this._start=(new Date).getTime(),this._statName=n,this._message=r,this._hostname=v.host,this._urlPath=v.pathName}return(0,h.default)(e,[{key:"report",value:function(){this._reporting.reportStat(this)}},{key:"toJSON",value:function(){return{appName:"CKJS",ckjsBuildVersion:f.default.BUILD_VERSION,statName:this._statName,message:this._message,clientTiming:(new Date).getTime()-this._start,hostname:this._hostname,urlPath:this._urlPath}}}]),e}(),_=function(e){function t(e,n,r){(0,d.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e)),o=i(n),l=o.host,u=o.pathName;return a._hostname=l,a._urlPath=u,a._httpMethod=r.method,a}return(0,u.default)(t,e),(0,h.default)(t,[{key:"networkError",value:function(){this._statName="CKJSNetworkError",this.report()}},{key:"error5XX",value:function(e){this._statName="CKJSStatus5XX",this._statusCode=e.status,this._requestUUID=p.default.readHeader(e.headers,"X-Apple-Request-UUID"),this.report()}},{key:"toJSON",value:function(){return(0,o.default)({},(0,l.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"toJSON",this).call(this),{httpMethod:this._httpMethod,requestUUID:this._requestUUID,statusCode:this._statusCode})}}]),t}(y),b=function(e){function t(e){return(0,d.default)(this,t),(0,c.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e))}return(0,u.default)(t,e),(0,h.default)(t,[{key:"didRun",value:function(){this._statName="CKJSSharingFlowDidRun",this.report()}},{key:"didError",value:function(e){g.default.SHARE_UI_TIMEOUT===e.ckErrorCode?this._statName="CKJSSharingFlowTimeout":this._statName="CKJSSharingFlowError",this.report()}}]),t}(y),w=function(){function e(){(0,d.default)(this,e),this._stats=[],this._flushLater()}return(0,h.default)(e,[{key:"reportStat",value:function(e){this._stats.push(e.toJSON())}},{key:"_flushLater",value:function(){var e=this;setTimeout((function(){return e._flush()}),15e3)}},{key:"_flush",value:function(){var e=this;if(this._stats.length>0){var t=this._stats;p.default.fetchWithoutReporting(function(){try{var e=i(window.location.href).host;if(e.endsWith("icloud.com"))return"https://feedbackws.icloud.com/reportStats";if(e.endsWith("icloud.com.cn"))return"https://feedbackws.icloud.com.cn/reportStats"}catch(n){}return"https://feedbackws.apple-cloudkit.com/reportStats"}(),{method:"POST",body:(0,a.default)({stats:t}),credentials:"omit",headers:{"content-type":"text/plain"}}).catch((function(){e._stats=t.concat(e._stats)})),this._stats=[]}this._flushLater()}},{key:"newNetworkStat",value:function(e,t){return new _(this,e,t)}},{key:"newSharingFlowStat",value:function(){return new b(this)}},{key:"reportDeprecatedOptionUsed",value:function(e){new y(this,"CKJSDeprecatedOptions",e).report()}},{key:"reportDeprecatedConfigurationUsed",value:function(e){new y(this,"CKJSDeprecatedConfig",e).report()}},{key:"reportDeprecatedMethodUsed",value:function(e,t){new y(this,"CKJSDeprecatedMethod",e+"->"+t).report()}},{key:"reportUnexpectedAuthError",value:function(){new y(this,"CKJSUnexpectedAuthError").report()}}]),e}(),S=new w;t.default=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(100)),a=r(n(193)),o=r(n(213)),s=r(n(40)),c=r(n(227)),l=r(n(230)),u=r(n(95)),d=r(n(241)),h=r(n(74)),f=r(n(75));t.default=function(e,t){return new v(e,t).fetch()};var p=function(){function e(t){var n=this;(0,h.default)(this,e),this._headers=new d.default,t instanceof e?t.forEach((function(e,t){return t.forEach((function(t){return n.append(e,t)}))})):t&&(0,u.default)(t).forEach((function(e){return n.append(e,t[e])}))}return(0,f.default)(e,[{key:"append",value:function(e,t){e=e.toLowerCase(),this.has(e)?this.getAll(e).add(t):this.set(e,t)}},{key:"delete",value:function(e){e=e.toLowerCase(),this._headers.delete(e)}},{key:"get",value:function(e){e=e.toLowerCase();var t=this.getAll(e);return 0===t.size?null:t.values().next().value}},{key:"getAll",value:function(e){return e=e.toLowerCase(),this.has(e)?this._headers.get(e):new l.default}},{key:"has",value:function(e){return e=e.toLowerCase(),this._headers.has(e)}},{key:"set",value:function(e,t){e=e.toLowerCase(),this._headers.set(e,(new l.default).add(t))}},{key:"forEach",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=(0,c.default)(this._headers.keys());!(t=(i=a.next()).done);t=!0){var o=i.value;e(o,this._headers.get(o))}}catch(s){n=!0,r=s}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}}],[{key:"fromXHR",value:function(t){var n=new e;return t.getAllResponseHeaders().trim().split("\n").forEach((function(e){var t=e.trim().split(":"),r=t.shift().trim();t.join(":").trim().split(";").forEach((function(e){n.append(r,e.trim())}))})),n}}]),e}(),g=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,h.default)(this,e),this._payload=t,this.bodyUsed=!1,this._Promise=n.Promise||s.default}return(0,f.default)(e,[{key:"text",value:function(){return this.bodyUsed?this._Promise.reject(new TypeError("Body already used")):(this.bodyUsed=!0,this._Promise.resolve(this._payload))}},{key:"json",value:function(){return this.text().then(JSON.parse)}},{key:"blob",value:function(){return this._Promise.resolve(new Blob([this._payload]))}}]),e}(),m=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,h.default)(this,t);var r=(0,a.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n));return r.type="default",r.url=null,r.status=n.status,r.statusText=n.statusText,r.headers=n.headers,r.url=n.url||"",r}return(0,o.default)(t,e),t}(g),v=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,h.default)(this,t);var r=(0,a.default)(this,(t.__proto__||(0,i.default)(t)).call(this,n.body,n));return r.url=e,r.credentials=n.credentials||"omit",r.headers=new p(n.headers),r.method=n.method?n.method.toUpperCase():"GET",r.mode=n.mode||null,r.options=n,r}return(0,o.default)(t,e),(0,f.default)(t,[{key:"fetch",value:function(){var e=this;return new this._Promise((function(t,n){var r=new XMLHttpRequest;"include"===e.credentials&&(r.withCredentials=!0);var i=function i(){r.removeEventListener("load",i),r.removeEventListener("error",a);var o=r.status;if(o<100||o>599)n(new TypeError("Network failure"));else{var s={status:o,statusText:r.statusText,headers:p.fromXHR(r),url:r.responseURL,Promise:e._Promise};t(new m(r.responseText,s))}},a=function e(){r.removeEventListener("load",i),r.removeEventListener("error",e),n(new TypeError("Network failure"))};r.addEventListener("load",i),r.addEventListener("error",a),e.options&&e.options.exposeImplementation&&e.options.exposeImplementation(r),r.open(e.method,e.url,!0),e.headers.forEach((function(e,t){t.forEach((function(t){r.setRequestHeader(e,t)}))})),r.send("undefined"==typeof e._payload?null:e._payload)}))}}]),t}(g)},function(e,t,n){e.exports={default:n(228),__esModule:!0}},function(e,t,n){n(56),n(43),e.exports=n(229)},function(e,t,n){var r=n(13),i=n(66);e.exports=n(8).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){e.exports={default:n(231),__esModule:!0}},function(e,t,n){n(42),n(43),n(56),n(232),n(238),e.exports=n(8).Set},function(e,t,n){"use strict";var r=n(233);e.exports=n(234)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(this,e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r=n(12).f,i=n(50),a=n(71),o=n(9),s=n(62),c=n(28),l=n(63),u=n(45),d=n(59),h=n(72),f=n(16),p=n(201).fastKey,g=f?"_s":"size",m=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,u){var d=e((function(e,r){s(e,d,t,"_i"),e._i=i(null),e._f=void 0,e._l=void 0,e[g]=0,void 0!=r&&l(r,n,e[u],e)}));return a(d.prototype,{clear:function(){for(var e=this,t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[g]=0},delete:function(e){var t=this,n=m(t,e);if(n){var r=n.n,i=n.p;delete t._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),t._f==n&&(t._f=r),t._l==n&&(t._l=i),t[g]--}return!!n},forEach:function(e){s(this,d,"forEach");for(var t,n=o(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!m(this,e)}}),f&&r(d.prototype,"size",{get:function(){return c(this[g])}}),d},def:function(e,t,n){var r,i,a=m(e,t);return a?a.v=n:(e._l=a={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=a),r&&(r.n=a),e[g]++,"F"!==i&&(e._i[i]=a)),e},getEntry:m,setStrong:function(e,t,n){u(e,t,(function(e,t){this._t=e,this._k=t,this._l=void 0}),(function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?d(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,d(1))}),n?"entries":"values",!n,!0),h(t)}}},function(e,t,n){"use strict";var r=n(7),i=n(6),a=n(201),o=n(17),s=n(11),c=n(71),l=n(63),u=n(62),d=n(14),h=n(53),f=n(12).f,p=n(235)(0),g=n(16);e.exports=function(e,t,n,m,v,y){var _=r[e],b=_,w=v?"set":"add",S=b&&b.prototype,E={};return g&&"function"==typeof b&&(y||S.forEach&&!o((function(){(new b).entries().next()})))?(b=t((function(t,n){u(t,b,e,"_c"),t._c=new _,void 0!=n&&l(n,v,t[w],t)})),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(e){var t="add"==e||"set"==e;e in S&&(!y||"clear"!=e)&&s(b.prototype,e,(function(n,r){if(u(this,b,e),!t&&y&&!d(n))return"get"==e&&void 0;var i=this._c[e](0===n?0:n,r);return t?this:i}))})),"size"in S&&f(b.prototype,"size",{get:function(){return this._c.size}})):(b=m.getConstructor(t,e,v,w),c(b.prototype,n),a.NEED=!0),h(b,e),E[e]=b,i(i.G+i.W+i.F,E),y||m.setStrong(b,e,v),b}},function(e,t,n){var r=n(9),i=n(26),a=n(39),o=n(30),s=n(236);e.exports=function(e,t){var n=1==e,c=2==e,l=3==e,u=4==e,d=6==e,h=5==e||d,f=t||s;return function(t,s,p){for(var g,m,v=a(t),y=i(v),_=r(s,p,3),b=o(y.length),w=0,S=n?f(t,b):c?f(t,0):void 0;b>w;w++)if((h||w in y)&&(m=_(g=y[w],w,v),e))if(n)S[w]=m;else if(m)switch(e){case 3:return!0;case 5:return g;case 6:return w;case 2:S.push(g)}else if(u)return!1;return d?-1:l||u?u:S}}},function(e,t,n){var r=n(237);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(14),i=n(205),a=n(54)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(6);r(r.P+r.R,"Set",{toJSON:n(239)("Set")})},function(e,t,n){var r=n(61),i=n(240);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){var r=n(63);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){e.exports={default:n(242),__esModule:!0}},function(e,t,n){n(42),n(43),n(56),n(243),n(244),e.exports=n(8).Map},function(e,t,n){"use strict";var r=n(233);e.exports=n(234)("Map",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(this,e);return t&&t.v},set:function(e,t){return r.def(this,0===e?0:e,t)}},r,!0)},function(e,t,n){var r=n(6);r(r.P+r.R,"Map",{toJSON:n(239)("Map")})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(89)),a=r(n(93)),o=r(n(74)),s=r(n(75)),c=r(n(223)),l=r(n(79)),u=function(){function e(t){var n=t.host,r=void 0===n?null:n,i=t.parameters,a=void 0===i?{}:i,s=t.headers,c=void 0===s?{}:s,u=t.body,d=void 0===u?null:u;(0,o.default)(this,e),this._host=r,this._path="",this._params=l.default.assign({},a),this._headers=l.default.assign({},c),this._body=l.default.isNullOrUndefined(d)?void 0:d,this._method=l.default.isNullOrUndefined(d)?"GET":"POST"}return(0,s.default)(e,[{key:"setMethod",value:function(e){return this._method=e,this}},{key:"setHost",value:function(e){return this._host=e,this}},{key:"setPath",value:function(e){return this._path=e,this}},{key:"setBody",value:function(e){return this._body=e,this}},{key:"getBody",value:function(){return this._body}},{key:"getBodyStringified",value:function(){return l.default.isString(this._body)||l.default.isNullOrUndefined(this._body)?this._body:(0,a.default)(this._body)}},{key:"setHeader",value:function(e,t){return this._headers[e]=t,this}},{key:"addHeaders",value:function(e){return this._headers=l.default.assign(this._headers,e),this}},{key:"setParameter",value:function(e,t){var n={};return n[e]=t,this.addParams(n),this}},{key:"addParams",value:function(e){return this._params=l.default.assign(this._params,e),this}},{key:"getParameterString",value:function(){var e=this._params;return l.default.isNullOrUndefined(e)?"":(0,i.default)(e).reduce((function(t,n){return t+n+"="+e[n]+"&"}),"?").slice(0,-1)}},{key:"getPath",value:function(){return this._path}},{key:"getPathWithParams",value:function(){return this.getPath()+this.getParameterString()}},{key:"getFullURL",value:function(){return this._host?this._host+this.getPathWithParams():this.getPathWithParams()}},{key:"send",value:function(){var e=this.getFullURL(),t={method:this._method,headers:this._headers,body:this.getBodyStringified(),credentials:"same-origin"};return c.default.fetch(e,t)}}]),e}();t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(230)),a=r(n(74)),o=r(n(75)),s=r(n(79)),c=r(n(223)),l=r(n(224)),u=function(){function e(t){(0,a.default)(this,e),this._apnsEnvironment=t,this._apnsToken=null,this._notificationListeners=new i.default,this._isPolling=!1,this._urlPath=null,this._failureBackoff=10}return(0,o.default)(e,[{key:"consumeApnsInfo",value:function(e){var t=e.apnsToken,n=e.webcourierURL;this._apnsToken=t,this._urlPath=n}},{key:"clearApnsInfo",value:function(){this._apnsToken=null,this._urlPath=null}},{key:"_canParkConnection",value:function(){return!this._isPolling&&this.hasApnsToken&&this._notificationListeners.size>0}},{key:"_parkConnection",value:function(){var e=this;this._canParkConnection()&&(this._isPolling=!0,c.default.fetchJSON(this._urlPath).then((function(t){e._isPolling=!1;try{e._handleNotification(t)}catch(n){throw l.default.warn("Error",n),n}e._failureBackoff=10,setTimeout((function(){return e._parkConnection()}),10)})).catch((function(t){e._isPolling=!1,l.default.warn("Error",t),setTimeout((function(){return e._parkConnection()}),e._failureBackoff),e._failureBackoff=Math.min(1e3,10*e._failureBackoff)})))}},{key:"_handleNotification",value:function(e){e&&this._notificationListeners.forEach((function(t){s.default.isFunction(t)?t(e):s.default.isFunction(t.handleNotification)&&t.handleNotification(e)}))}},{key:"addNotificationListener",value:function(e){if(!s.default.isFunction(e)&&!s.default.isFunction(e.handleNotification))throw new Error('notification listener must be either a function or an object with a function called "handleNotification"');return this._notificationListeners.add(e),this._parkConnection(),e}},{key:"removeNotificationListener",value:function(e){return this._notificationListeners.delete(e),e}},{key:"hasNotificationListener",value:function(e){return this._notificationListeners.has(e)}},{key:"apnsToken",get:function(){return this._apnsToken}},{key:"hasApnsToken",get:function(){return!s.default.isNullOrUndefined(this._urlPath)&&!s.default.isNullOrUndefined(this._apnsToken)}}]),e}();t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(230)),a=r(n(74)),o=r(n(75)),s=r(n(248)),c=r(n(79)),l=r(n(192)),u=r(n(276)),d=r(n(277)),h=r(n(278)),f=r(n(282)),p=r(n(189)),g=r(n(251)),m=r(n(224)),v=r(n(106)),y=function(){function e(t){var n=t.containerConfig,r=t.apnsManager,o=t.authTokenStore;(0,a.default)(this,e),this._config=n,this._apnsManager=r,this._containerIdentifier=n.containerIdentifier,this._environment=n.environment||p.default.DEVELOPMENT_ENVIRONMENT,this._apnsEnvironment=n.apnsEnvironment||p.default.DEVELOPMENT_ENVIRONMENT,this._publicDatabase=new s.default(this,g.default.PUBLIC,n.publicDatabasePartition),this._privateDatabase=new s.default(this,g.default.PRIVATE,n.privateDatabasePartition),this._sharedDatabase=new s.default(this,g.default.SHARED,void 0!==n.sharedDatabasePartition?n.sharedDatabasePartition:n.privateDatabasePartition),this._notificationListeners=new i.default,this._auth=f.default.createAuth({container:this,containerConfig:n,authTokenStore:o})}return(0,o.default)(e,[{key:"getDatabaseWithDatabaseScope",value:function(e){return e===g.default.PUBLIC?this.publicCloudDatabase:e===g.default.PRIVATE?this.privateCloudDatabase:e===g.default.SHARED?this.sharedCloudDatabase:void 0}},{key:"setUpAuth",value:function(){return this._auth.setup()}},{key:"whenUserSignsIn",value:function(){return this._auth.whenUserSignsIn()}},{key:"whenUserSignsOut",value:function(){return this._auth.whenUserSignsOut()}},{key:"signOut",value:function(){this._auth.signOut()}},{key:"fetchCurrentUserIdentity",value:function(){var e=(new l.default).setApiEntityName("users").setApiActionName("caller");return this.publicCloudDatabase.sendRequest(e).then((function(e){return e.httpResponse.body}))}},{key:"discoverUserIdentities",value:function(e){c.default.assertArg(e,"at least one UserLookupInfo required");var t=c.default.asArray(e),n=(new l.default).setApiEntityName("users").setApiActionName("discover").setPayload({lookupInfos:t}).setResponseClass(u.default);return this.publicCloudDatabase.sendRequest(n)}},{key:"discoverUserIdentityWithEmailAddress",value:function(e){return this.discoverUserIdentities([{emailAddress:e}])}},{key:"discoverUserIdentityWithPhoneNumber",value:function(e){return this.discoverUserIdentities([{phoneNumber:e}])}},{key:"discoverUserIdentityWithUserRecordName",value:function(e){return this.discoverUserIdentities([{userRecordName:e}])}},{key:"discoverAllUserIdentities",value:function(){var e=(new l.default).setApiEntityName("users").setApiActionName("discover").setResponseClass(u.default);return this.publicCloudDatabase.sendRequest(e)}},{key:"addNotificationListener",value:function(e){return this._notificationListeners.add(e),this}},{key:"removeNotificationListener",value:function(e){return this._notificationListeners.delete(e),this}},{key:"handleNotification",value:function(e){m.default.info("Notification",e,"handled by",this),e=h.default.parseRawNotification(e)||e,this._notificationListeners.forEach((function(t){c.default.tryInvokeFunction(t,[e],"Error while invoking "+t+" with "+e)}))}},{key:"registerForNotifications",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.clientID=e.clientId||e.clientID||this.getConfig().clientID,this._apnsManager.registerContainerForNotification(this,e)}},{key:"unregisterForNotifications",value:function(){return this._apnsManager.unregisterContainerForNotification(this)}},{key:"fetchRecordInfos",value:function(e){e=c.default.asArray(e).map((function(e){return c.default.isString(e)?{value:e}:e}));var t=(new l.default).setApiEntityName("records").setApiActionName("resolve").setPayload({shortGUIDs:e}).setResponseClass(d.default);return this._publicDatabase.sendRequest(t)}},{key:"acceptShares",value:function(e){e=c.default.asArray(e).map((function(e){return c.default.isString(e)?{value:e}:e}));var t=(new l.default).setApiEntityName("records").setApiActionName("accept").setPayload({shortGUIDs:e}).setResponseClass(d.default);return this._publicDatabase.sendRequest(t)}},{key:"getConfig",value:function(){return c.default.assign({},this._config,this._auth.getConfig())}},{key:"sendRequest",value:function(e){e.setContainerIdentifier(this.containerIdentifier),e.setContainerEnvironment(this.environment),e.setClientID(this._config.clientID);var t=this._auth.requestHandler(),n=this._auth.responseHandler();return v.default.Promise.resolve(e).then(t).then((function(e){return e.send()})).then(n)}},{key:"toString",value:function(){return c.default.instanceToString("Container",this)}},{key:"containerIdentifier",get:function(){return this._containerIdentifier}},{key:"publicCloudDatabase",get:function(){return this._publicDatabase}},{key:"privateCloudDatabase",get:function(){return this._privateDatabase}},{key:"sharedCloudDatabase",get:function(){return this._sharedDatabase}},{key:"apnsEnvironment",get:function(){return this._apnsEnvironment}},{key:"environment",get:function(){return this._environment}},{key:"isRegisteredForNotifications",get:function(){return this._apnsManager.isContainerRegisteredForNotifications(this)}}]),e}();t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a=r(n(74)),o=r(n(75)),s=r(n(249)),c=r(n(224)),l=(r(n(225)),n(79)),u=r(l),d=r(n(250)),h=r(n(251)),f=r(n(252)),p=r(n(254)),g=r(n(257)),m=r(n(253)),v=r(n(258)),y=r(n(259)),_=r(n(260)),b=r(n(261)),w=r(n(262)),S=r(n(263)),E=(r(n(264)),n(265)),I=r(E),C=r(n(266)),O=r(n(192)),T=r(n(221)),A=r(n(255)),N=r(n(267)),M=r(n(273)),D=r(n(274)),R=r(n(275)),L=A.default.forKeys("zoneID","numbersAsStrings","desiredKeys","zoneWide","resultsLimit","continuationMarker"),k=A.default.forKeys("zoneID","desiredKeys","numbersAsStrings","assetPrivacyMaskType"),x=A.default.forKeys("zoneID","numbersAsStrings","desiredKeys","desiredRecordTypes","resultsLimit","syncToken","reverse"),F=A.default.forKeys("zoneID","desiredKeys","pluginFields","includeRecords","excludeRecords","shareName","archiveName"),P=A.default.forKeys("sourceZoneID","targetZoneID","sourceShareName","targetRootName","includeRecords","excludeRecords"),j=A.default.forKeys("jobID"),U=function(e){return{syncToken:e.syncToken}},B=(i={},(0,s.default)(i,h.default.PUBLIC,"public"),(0,s.default)(i,h.default.PRIVATE,"private"),(0,s.default)(i,h.default.SHARED,"shared"),i),V=function(){function e(t,n,r){(0,a.default)(this,e),this._container=t,this._partition=r,this._databaseScope=n}return(0,o.default)(e,[{key:"performQuery",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(c.default.info("CloudKit Database#performQuery",e,t),e.isQueryResponse){var n=e;return this.performQuery(n.query,u.default.assign(L(n),t))}var r=u.default.assign({query:e},L(t)),i=(new O.default).setApiEntityName("records").setApiActionName("query").setResponseClass(f.default).setPayload(r);return this.sendRequest(i)}},{key:"fetchRecords",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c.default.info("CloudKit Database#fetchRecords",e,t);var n=d.default.normalizeRecords(e).map(u.default.picker("recordName")),r=u.default.assign({records:n},k(t)),i=(new O.default).setApiEntityName("records").setApiActionName("lookup").setResponseClass(m.default).setPayload(r);return this.sendRequest(i)}},{key:"saveRecords",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c.default.info("CloudKit Database#saveRecords",e,t),this.newRecordsBatch(t).createOrUpdate(e).commit()}},{key:"deleteRecords",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c.default.info("CloudKit Database#deleteRecords",e,t),this.newRecordsBatch(t).forceDelete(e).commit()}},{key:"newRecordsBatch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new p.default(this,e)}},{key:"commitRecordsBatchBuilder",value:function(e){var t=this;return g.default.handleAssetsInBatchBeforeCommit(e).then((function(){var n=(new O.default).setApiEntityName("records").setApiActionName("modify").setResponseClass(m.default).setPayload(e.build());return t.sendRequest(n)}))}},{key:"assetRereference",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;c.default.info("Database#assetRereference");var r={assets:S.default.normalizeAssetRereferenceArray(e),zoneID:d.default.normalizeZone(t).zoneID};n&&(r.targetZoneID=d.default.normalizeZone(n).zoneID);var i=(new O.default).setApiEntityName("assets").setApiActionName("rereference").setResponseClass(w.default).setPayload(r);return this.sendRequest(i)}},{key:"fetchAllRecordZones",value:function(){c.default.info("Database#fetchAllRecordZones");var e=(new O.default).setApiEntityName("zones").setApiActionName("list").setResponseClass(y.default);return this.sendRequest(e)}},{key:"fetchRecordZones",value:function(e){c.default.info("Database#fetchRecordZones",e);var t=d.default.normalizeZones(e).map((function(e){return e.zoneID})),n=(new O.default).setApiEntityName("zones").setApiActionName("lookup").setPayload({zones:t}).setResponseClass(y.default);return this.sendRequest(n)}},{key:"saveRecordZones",value:function(e){return c.default.info("Database#saveRecordZones",e),this.newRecordZonesBatch().create(e).commit()}},{key:"deleteRecordZones",value:function(e){return c.default.info("Database#deleteRecordZones",e),this.newRecordZonesBatch().delete(e).commit()}},{key:"newRecordZonesBatch",value:function(){return new v.default(this)}},{key:"commitRecordZoneBatchBuilder",value:function(e){var t=(new O.default).setApiEntityName("zones").setApiActionName("modify").setPayload(e.build()).setResponseClass(y.default);return this.sendRequest(t)}},{key:"fetchAllSubscriptions",value:function(){c.default.info("Database#fetchAllSubscriptions");var e=(new O.default).setApiEntityName("subscriptions").setApiActionName("list").setResponseClass(C.default);return this.sendRequest(e)}},{key:"fetchSubscriptions",value:function(e){c.default.info("Database#fetchSubscriptions",e),e=u.default.asArray(e).map((function(e){return u.default.isString(e)?{subscriptionID:e}:e}));var t=(new O.default).setApiEntityName("subscriptions").setApiActionName("lookup").setPayload({subscriptions:e}).setResponseClass(C.default);return this.sendRequest(t)}},{key:"deleteSubscriptions",value:function(e){return c.default.info("Database#deleteSubscriptions",e),this.newSubscriptionsBatch().delete(e).commit()}},{key:"saveSubscriptions",value:function(e){return c.default.info("Database#saveSubscriptions",e),this.newSubscriptionsBatch().create(e).commit()}},{key:"newSubscriptionsBatch",value:function(){return new I.default(this)}},{key:"commitSubscriptionsBatchBuilder",value:function(e){var t=(new O.default).setApiEntityName("subscriptions").setApiActionName("modify").setPayload(e.build()).setResponseClass(C.default);return this.sendRequest(t)}},{key:"sendRequest",value:function(e){return u.default.isNullOrUndefined(this._partition)||e.setHost(this._partition),e.setDatabaseName(B[this.databaseScope]),e.setApiModuleName("database"),this._container.sendRequest(e)}},{key:"toString",value:function(){return"[Database (containerIdentifier: "+this.containerIdentifier+", scope: "+this.databaseScope+")]"}},{key:"shareWithUI",value:function(e){var t=this.databaseScope,n=this._container.getConfig();return N.default.run(u.default.assign({},e,{databaseScope:t,containerConfiguration:n}))}},{key:"fetchDatabaseChanges",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=t.isDatabaseChangesResponse?u.default.assign({},U(t),n):U(t);var r=(new O.default).setApiEntityName("changes").setApiActionName("database").setPayload(e).setResponseClass(_.default);return this.sendRequest(r)}},{key:"fetchRecordZoneChanges",value:function(e){var t=u.default.asArray(e).map(x),n=(new O.default).setApiEntityName("changes").setApiActionName("zone").setPayload({zones:t}).setResponseClass(b.default);return this.sendRequest(n)}},{key:"prepareZipDownload",value:function(e){c.default.info("CloudKit Database#prepareZipDownload",e);var t=u.default.assign({},F(e)),n=(new O.default).setApiEntityName("records").setApiActionName("zip/prepare").setResponseClass(M.default).setPayload(t);return this.sendRequest(n)}},{key:"startAssetCopierJob",value:function(e){c.default.info("CloudKit Database#startAssetCopierJob",e);var t=(new O.default).setApiEntityName("records").setApiActionName("copy/start").setResponseClass(D.default).setPayload(P(e));if(e.includeRecords&&e.excludeRecords||!e.includeRecords&&!e.excludeRecords)throw T.default.makeInvalidArguments("Request to StartAssetCopierJob can not simultaneously include or exlude both fields for `includeRecords` and `excludeRecords`");return this.sendRequest(t)}},{key:"checkAssetCopierJobStatus",value:function(e){c.default.info("CloudKit Database#checkAssetCopierJobStatus",e);var t=(new O.default).setApiEntityName("records").setApiActionName("copy/status").setResponseClass(R.default).setPayload(j(e));return this.sendRequest(t)}},{key:"containerIdentifier",get:function(){return this._container.containerIdentifier}},{key:"databaseScope",get:function(){return this._databaseScope}}]),e}();t.default=V},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(76));t.default=function(e,t,n){return t in e?(0,r.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(o.default.isNullOrUndefined(e))throw s.default.makeInvalidArguments("not a valid record/recordName: "+o.default.stringifyExposingUndefined(e));return o.default.isString(e)?{recordName:e}:e}function a(e){if(o.default.isNullOrUndefined(e))throw s.default.makeInvalidArguments("not a valid zone/zoneID: "+o.default.stringifyExposingUndefined(e));if(o.default.isString(e))return{zoneID:{zoneName:e}};if(o.default.isString(e.zoneName))return{zoneID:e};if("zoneID"in e&&!o.default.isNullOrUndefined(e.zoneID)&&"zoneName"in e.zoneID)return e;throw s.default.makeInvalidArguments("not a valid zone/zoneID: "+o.default.stringifyExposingUndefined(e))}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(79)),s=r(n(221));t.default={normalizeRecords:function(e){return o.default.asArray(e).map(i)},normalizeZones:function(e){return o.default.asArray(e).map(a)},normalizeZone:a}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={PUBLIC:"PUBLIC",PRIVATE:"PRIVATE",SHARED:"SHARED"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(100)),a=r(n(74)),o=r(n(75)),s=r(n(193)),c=r(n(213)),l=r(n(253)),u=r(n(79)),d=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n));return r._continuationMarker=n.body.continuationMarker,r}return(0,c.default)(t,e),(0,o.default)(t,[{key:"toString",value:function(){return u.default.instanceToString("QueryResponse",this)}},{key:"continuationMarker",get:function(){return this._continuationMarker}},{key:"moreComing",get:function(){return!u.default.isNullOrUndefined(this.continuationMarker)}},{key:"query",get:function(){return this.request.getPayload().query}},{key:"zoneID",get:function(){return this.request.getPayload().zoneID}},{key:"zoneWide",get:function(){return Boolean(this.request.getPayload().zoneWide)}},{key:"resultsLimit",get:function(){return this.request.getPayload().resultsLimit}},{key:"desiredKeys",get:function(){return this.request.getPayload().desiredKeys}},{key:"isQueryResponse",get:function(){return!0}}]),t}(l.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(100)),a=r(n(74)),o=r(n(75)),s=r(n(193)),c=r(n(213)),l=r(n(222)),u=r(n(79)),d=function(e){function t(e,n){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n,"records"))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"toString",value:function(){return u.default.instanceToString("RecordsResponse",this)}},{key:"records",get:function(){return this._results}},{key:"numbersAsStrings",get:function(){return Boolean(this.request.getPayload().numbersAsStrings)}},{key:"isRecordsResponse",get:function(){return!0}}]),t}(l.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return function(e){return e===g||e===m}(e)?l.default.assign({},t,{fields:void 0}):t}function a(e){return e.recordType===p.default.NAME&&(l.default.isNullOrUndefined(e.forRecord)||(e.forRecord=l.default.pick(e.forRecord,["recordName","recordChangeTag"]))),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(93)),s=r(n(74)),c=r(n(75)),l=r(n(79)),u=r(n(224)),d=r(n(250)),h=r(n(221)),f=r(n(255)),p=r(n(256)),g="delete",m="forceDelete",v=f.default.forKeys("zoneID","desiredKeys","numbersAsStrings","atomic","onAssetUploadStart"),y=f.default.forKeys("desiredKeys","numbersAsStrings"),_=l.default.makeObjectHasValuesForKeysPredicate({recordChangeTag:!1,recordType:!0}),b=l.default.makeObjectHasValuesForKeysPredicate({recordChangeTag:!0,recordName:!0}),w=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.default)(this,e),this._database=t,this._operations=[],this._options=v(n)}return(0,c.default)(e,[{key:"_pushOperations",value:function(e,t){var n=this,r=y(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return d.default.normalizeRecords(t).map((function(t){return i(e,t)})).map(a).map((function(t){return l.default.assign({operationType:e,record:t},r)})).forEach((function(e){return n._operations.push(e)})),this}},{key:"createOrUpdate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u.default.info("RecordsBatchBuilder#createOrUpdate",e,n),d.default.normalizeRecords(e).forEach((function(e){if(_(e))t.create(e,n);else{if(!b(e))throw h.default.makeInvalidArguments("Cannot create or update record:"+(0,o.default)(e));t.update(e,n)}})),this}},{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u.default.info("RecordsBatchBuilder#create",e,t),this._pushOperations("create",e,t)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u.default.info("RecordsBatchBuilder#update",e,t),this._pushOperations("update",e,t)}},{key:"forceUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u.default.info("RecordsBatchBuilder#forceUpdate",e,t),this._pushOperations("forceUpdate",e,t)}},{key:"replace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u.default.info("RecordsBatchBuilder#replace",e,t),this._pushOperations("replace",e,t)}},{key:"forceReplace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u.default.info("RecordsBatchBuilder#forceReplace",e,t),this._pushOperations("forceReplace",e,t)}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u.default.info("RecordsBatchBuilder#delete",e,t),this._pushOperations(g,e,t)}},{key:"forceDelete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u.default.info("RecordsBatchBuilder#forceDelete",e,t),this._pushOperations(m,e,t)}},{key:"commit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u.default.info("RecordsBatchBuilder#commit"),this._database.commitRecordsBatchBuilder(this,e)}},{key:"build",value:function(){return l.default.assign({operations:this._operations},this._options)}},{key:"_notifyAssetUploadStart",value:function(e,t){this._options.onAssetUploadStart&&this._options.onAssetUploadStart(e,t)}},{key:"zoneID",get:function(){return this._options.zoneID}},{key:"options",get:function(){return this._options}}]),e}();t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){return e+" "+n.errorMessage+t+" (in: "+l.default.stringifyExposingUndefined(r)+")"}function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};return t.forEach((function(t){if(!t.shouldIgnore||!t.shouldIgnore(e)){var r=t.key;if(r in e){var a=e[r];if(a=l.default.isFunction(t.normalize)?t.normalize(a,e):a,!t.isValid(a,e))throw u.default.makeInvalidArguments(i(r,a,t,e));n[r]=a}else{var o=t.isRequired;if(l.default.isFunction(o)?o(e):o)throw u.default.makeInvalidArguments(i(r,void 0,t,e))}}})),n}}function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map((function(e){var t=l.default.find(N,(function(t){return t.key===e}));if(!t)throw new Error("Cannot find request option definition for: "+e);return t}));return a.apply(void 0,(0,s.default)(r))}Object.defineProperty(t,"__esModule",{value:!0});var s=r(n(80)),c=r(n(2)),l=r(n(79)),u=r(n(221)),d=r(n(250)),h={key:"zoneID",normalize:function(e){return l.default.isNullOrUndefined(e)?{zoneName:"_defaultZone"}:d.default.normalizeZone(e).zoneID},shouldIgnore:function(e){return e.zoneWide},errorMessage:" should be a valid zoneID but was normalized to: ",mustDifferFromOtherZoneID:void 0,isValid:function(e,t){if(null===e)return!1;var n=this.mustDifferFromOtherZoneID;if(!n||!t[n])return!0;var r=this.normalize(e),i=this.normalize(t[n]);return r.zoneName!==i.zoneName||r.ownerRecordName!==i.ownerRecordName}},f={key:"desiredKeys",isValid:function(e){return l.default.isUndefined(e)||l.default.isStringArray(e)},errorMessage:" should be an array of strings but was: "},p={key:"desiredRecordTypes",isValid:function(e){return l.default.isUndefined(e)||l.default.isStringArray(e)},errorMessage:" should be an array of strings but was: "},g={key:"numbersAsStrings",isValid:function(e){return l.default.isNullOrUndefined(e)||l.default.isBoolean(e)},errorMessage:" should be a boolean but was: "},m={key:"zoneWide",isValid:function(e){return l.default.isUndefined(e)||l.default.isBoolean(e)},errorMessage:" should be a boolean but was: "},v={key:"resultsLimit",isValid:function(e){return l.default.isNullOrUndefined(e)||l.default.isNumberish(e)},errorMessage:" should be a number but was: "},y={key:"continuationMarker",isValid:function(e){return l.default.isNullOrUndefined(e)||l.default.isString(e)},errorMessage:" should be a string but was: "},_={key:"syncToken",isValid:function(e){return l.default.isNullOrUndefined(e)||l.default.isString(e)},errorMessage:" should be a string but was: "},b={key:"reverse",isValid:function(e){return l.default.isNullOrUndefined(e)||l.default.isBoolean(e)},errorMessage:" should be a boolean but was: "},w={key:"assetPrivacyMaskType",isValid:function(e){return l.default.isNullOrUndefined(e)||l.default.isString(e)},errorMessage:" should be a string but was: "},S={key:"includeRecords",isValid:function(e){return l.default.isNullOrUndefined(e)||l.default.isStringArray(e)},errorMessage:" should be an array of strings but was: "},E={key:"excludeRecords",isValid:function(e){return l.default.isNullOrUndefined(e)||l.default.isStringArray(e)},errorMessage:" should be an array of strings but was: "},I={key:"shareName",isValid:function(e){return l.default.isNullOrUndefined(e)||l.default.isString(e)},errorMessage:" should be a string but was "},C={key:"archiveName",isValid:function(e){return l.default.isNullOrUndefined(e)||l.default.isString(e)},errorMessage:" should be a string but was "},O={key:"sourceShareName",isValid:function(e){return l.default.isString(e)},errorMessage:" should be a string but was ",isRequired:function(e){return!("targetRootName"in e)}},T={key:"targetRootName",isValid:function(e){return l.default.isString(e)},errorMessage:" should be a string but was ",isRequired:function(e){return!("sourceShareName"in e)}},A={key:"jobID",isValid:function(e){return l.default.isString(e)},errorMessage:" should be a string but was ",isRequired:!0},N=[h,(0,c.default)({},h,{key:"sourceZoneID",isRequired:!0,shouldIgnore:function(){return!1},mustDifferFromOtherZoneID:"targetZoneID"}),(0,c.default)({},h,{key:"targetZoneID",isRequired:!0,shouldIgnore:function(){return!1},mustDifferFromOtherZoneID:"sourceZoneID"}),{key:"atomic",isValid:l.default.isBoolean,errorMessage:" should be a boolean but was: "},f,p,g,m,v,y,_,b,{key:"onAssetUploadStart",isValid:l.default.isFunction,errorMessage:" should be a function but was: "},w,{key:"pluginFields",isValid:function(e){return void 0!==e},errorMessage:" should be defined but was ",isRequired:!0},S,E,I,C,O,T,A];t.default={forKeys:function(){return o.apply(void 0,arguments)}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={UNKNOWN:"UNKNOWN",PRIVATE_USER:"PRIVATE_USER",PUBLIC_USER:"PUBLIC_USER",OWNER:"OWNER"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return y.default.isNode()?e instanceof y.default.Buffer:e instanceof window.Blob}function a(e){return!y.default.isNullOrUndefined(e)&&!y.default.isNullOrUndefined(e.recordName)&&!y.default.isNullOrUndefined(e.fieldName)}function o(e){var t=[],n=[];return e._operations.forEach((function(e){var r=e.record,o=r.fields;y.default.isNullOrUndefined(o)||(0,c.default)(r.fields).forEach((function(e){var o=r.fields[e];i(o.value)?t.push(new w(r,e,o)):function(e){return y.default.isArray(e)&&e.some(i)}(o.value)?o.value.forEach((function(n,a){i(n)&&t.push(new w(r,e,o,a))})):a(o.value)?n.push(new S(r,e,o)):function(e){return y.default.isArray(e)&&e.some(a)}(o.value)&&o.value.forEach((function(t,i){a(t)&&n.push(new S(r,e,o,i))}))}))})),{uploadInfos:t,rerefInfos:n}}function s(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={tokens:e.map((function(e){return e.toRequestToken()})),zoneID:n.zoneID},i=(new v.default).setApiEntityName("assets").setApiActionName("upload").setResponseClass(g.default.createGenericResponseClass("tokens")).setPayload(r);return t.sendRequest(i)}(t,e._database,e.options).then((function(n){return m.default.Promise.all(n.tokens.map((function(n,r){var i=t[r];return i.consumeUploadToken(n),function(e,t){var n=e.getAssetValueForUpload(),r=e.getUrlForUpload();return p.default.fetch(r,{method:"POST",body:n,exposeImplementation:function(n){t._notifyAssetUploadStart(n,e.toAssetUploadStartEventPayload())}}).catch((function(){throw _.default.makeNetworkError()})).then((function(e){return e.json()})).catch((function(e){throw _.default.makeUnexpectedServerResponse(e)})).then((function(e){return e.singleFile}))}(i,e)})))})).then((function(e){return e.forEach((function(e,n){return t[n].consumeUploadReceipt(e)}))}))}Object.defineProperty(t,"__esModule",{value:!0});var c=r(n(89)),l=r(n(100)),u=r(n(193)),d=r(n(213)),h=r(n(74)),f=r(n(75)),p=r(n(223)),g=r(n(222)),m=r(n(106)),v=r(n(192)),y=r(n(79)),_=r(n(221)),b=r(n(224)),w=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(0,h.default)(this,e),this._record=t,this._fieldName=n,this._field=r,this._indexInField=i}return(0,f.default)(e,[{key:"toRequestToken",value:function(){var e={fieldName:this._fieldName};return y.default.isNullOrUndefined(this._record.recordType)||(e.recordType=this._record.recordType),y.default.isNullOrUndefined(this._record.recordName)||(e.recordName=this._record.recordName),e}},{key:"toAssetUploadStartEventPayload",value:function(){return{record:this._record,fieldName:this._fieldName,indexInField:this._indexInField}}},{key:"consumeUploadToken",value:function(e){this._uploadToken=e}},{key:"consumeUploadReceipt",value:function(e){y.default.isNullOrUndefined(this._indexInField)?this._field.value=e:this._field.value[this._indexInField]=e}},{key:"getUrlForUpload",value:function(){return this._uploadToken.url}},{key:"getAssetValueForUpload",value:function(){var e=y.default.isNullOrUndefined(this._indexInField)?this._field.value:this._field.value[this._indexInField];return y.default.prepareForUpload(e)}}]),e}(),S=function(e){function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,h.default)(this,t),(0,u.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e,n,r,i))}return(0,d.default)(t,e),(0,f.default)(t,[{key:"toRequestToken",value:function(){var e=this._field.value;return y.default.isNullOrUndefined(this._indexInField)?e:e[this._indexInField]}}]),t}(w);t.default={handleAssetsInBatchBeforeCommit:function(e){var t=m.default.Promise.resolve(),n=o(e),r=n.uploadInfos,i=n.rerefInfos;return r.length>0&&(b.default.info("uploading assets",r),t=s(e,r)),i.length>0&&(b.default.info("rereferencing assets",i),t=t.then((function(){return function(e,t){var n=e._database,r={assets:t.map((function(e){return e.toRequestToken()})),zoneID:e.zoneID},i=(new v.default).setApiEntityName("assets").setApiActionName("rereference").setResponseClass(g.default.createGenericResponseClass("assets")).setPayload(r);return n.sendRequest(i).then((function(e){if(e.hasErrors)throw b.default.warn("rereference failed",e.errors),_.default.fromServerError(e.errors[0]);e.assets.forEach((function(e,n){t[n].consumeUploadReceipt(e)}))}))}(e,i)}))),t}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(74)),a=r(n(75)),o=r(n(250)),s=r(n(79)),c=function(){function e(t){(0,i.default)(this,e),this._database=t,this._operations=[]}return(0,a.default)(e,[{key:"_pushOperations",value:function(e,t){var n=this;return s.default.asArray(t).map(o.default.normalizeZone).map((function(t){return{zone:t,operationType:e}})).forEach((function(e){return n._operations.push(e)})),this}},{key:"create",value:function(e){return this._pushOperations("create",e),this}},{key:"delete",value:function(e){return this._pushOperations("delete",e),this}},{key:"commit",value:function(){return this._database.commitRecordZoneBatchBuilder(this)}},{key:"build",value:function(){return{operations:this._operations}}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(100)),a=r(n(74)),o=r(n(75)),s=r(n(193)),c=r(n(213)),l=r(n(222)),u=r(n(79)),d=function(e){function t(e,n){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n,"zones"))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"toString",value:function(){return u.default.instanceToString("RecordZonesResponse",this)}},{key:"zones",get:function(){return this._results}},{key:"isRecordZonesResponse",get:function(){return!0}}]),t}(l.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(100)),a=r(n(74)),o=r(n(75)),s=r(n(193)),c=r(n(213)),l=r(n(222)),u=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n,"zones"));return r._moreComing=n.body.moreComing,r._syncToken=n.body.syncToken,r}return(0,c.default)(t,e),(0,o.default)(t,[{key:"zones",get:function(){return this._results}},{key:"moreComing",get:function(){return this._moreComing}},{key:"syncToken",get:function(){return this._syncToken}},{key:"resultsLimit",get:function(){return this.request.getPayload().resultsLimit}},{key:"isDatabaseChangesResponse",get:function(){return!0}}]),t}(l.default);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(100)),a=r(n(74)),o=r(n(75)),s=r(n(193)),c=r(n(213)),l=function(e){function t(e,n){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n,"zones"))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"zones",get:function(){return this._results}},{key:"isRecordZoneChangesResponse",get:function(){return!0}}]),t}(r(n(222)).default);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(100)),a=r(n(74)),o=r(n(75)),s=r(n(193)),c=r(n(213)),l=r(n(222)),u=r(n(79)),d=function(e){function t(e,n){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n,"assets"))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"toString",value:function(){return u.default.instanceToString("AssetRereferenceResponse",this)}},{key:"assets",get:function(){return this._results}},{key:"isAssetReferenceResponse",get:function(){return!0}}]),t}(l.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(a.default.isNullOrUndefined(e))throw o.default.makeInvalidArguments("not a valid Rereference object: "+a.default.stringifyExposingUndefined(e));if(!a.default.has(e,"recordName")||!a.default.has(e,"fieldName"))throw o.default.makeInvalidArguments("a valid Rereference object requires `recordName` and `fieldName` properties");return e}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(79)),o=r(n(221));t.default={normalizeAssetRereference:i,normalizeAssetRereferenceArray:function(e){return a.default.asArray(e).map(i)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(100)),a=r(n(74)),o=r(n(75)),s=r(n(193)),c=r(n(213)),l=r(n(253)),u=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n));return r._moreComing=n.body.moreComing,r._syncToken=n.body.syncToken,r}return(0,c.default)(t,e),(0,o.default)(t,[{key:"moreComing",get:function(){return this._moreComing}},{key:"syncToken",get:function(){return this._syncToken}},{key:"zoneID",get:function(){return this.request.getPayload().zoneID}},{key:"resultsLimit",get:function(){return this.request.getPayload().resultsLimit}},{key:"desiredKeys",get:function(){return this.request.getPayload().desiredKeys}},{key:"desiredRecordTypes",get:function(){return this.request.getPayload().desiredRecordTypes}},{key:"reverse",get:function(){return this.request.getPayload().reverse}},{key:"isChangedRecordsResponse",get:function(){return!0}}]),t}(l.default);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(74)),a=r(n(75)),o=r(n(79)),s=function(){function e(t){(0,i.default)(this,e),this._database=t,this._operations=[]}return(0,a.default)(e,[{key:"_pushOperation",value:function(e,t){var n=this;return(t=o.default.asArray(t)).forEach((function(t){n._operations.push({operationType:e,subscription:t})})),this}},{key:"create",value:function(e){return this._pushOperation("create",e),this}},{key:"delete",value:function(e){return e=o.default.asArray(e).map((function(e){return o.default.isString(e)?{subscriptionID:e}:e})),this._pushOperation("delete",e),this}},{key:"commit",value:function(){return this._database.commitSubscriptionsBatchBuilder(this)}},{key:"build",value:function(){return{operations:this._operations}}}]),e}();t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(100)),a=r(n(74)),o=r(n(75)),s=r(n(193)),c=r(n(213)),l=r(n(222)),u=r(n(79)),d=function(e){function t(e,n){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n,"subscriptions"))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"toString",value:function(){return u.default.instanceToString("SubscriptionsResponse",this)}},{key:"subscriptions",get:function(){return this._results}},{key:"isSubscriptionsResponse",get:function(){return!0}}]),t}(l.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(268)),a=r(n(225)),o=!1,s={run:function(e){if(o)throw new Error("already running");o=!0;var t=a.default.newSharingFlowStat();return i.default.createAndRun(e).then((function(e){return o=!1,t.didRun(),e}),(function(e){throw o=!1,t.didError(e),e}))}};t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(74)),a=r(n(75)),o=r(n(106)),s=r(n(79)),c=r(n(221)),l=r(n(269)),u=r(n(271)),d=r(n(272)),h="https://cdn.apple-cloudkit.com",f=h+"/applications/ck-share-ui/current",p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.default)(this,e),this._options=t,this._shareSheetURL=f+"/"+(t.containerConfiguration.locale||"en-us")+"/",this._view=null,this._delegate=new u.default(t.delegate||{},this)}return(0,a.default)(e,[{key:"_destroy",value:function(){this._view.hide(),this._channel.disconnect(),this._view.unmount(),this._view=null,this._delegate.componentWasDestroyed()}},{key:"_createView",value:function(){var e=this,t=this._delegate._provideURLForComponent(this._shareSheetURL)||this._shareSheetURL;this._view=l.default.create({url:t,parentElement:this._options.parentElement}),this._view.mount(),this._view.showLoading(),setTimeout((function(){e._delegate.componentWasCreated(e._view.iFrame),e._options.startHidden||e._view.show()}))}},{key:"_connect",value:function(){var e=this;return new o.default.Promise((function(t,n){e._channel=d.default.create({win:window,otherWin:e._view.iFrame.contentWindow,otherWinOrigin:h,methods:{channelDidOpen:function(){setTimeout(t)},applicationIsReady:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width,r=t.height;return e._view.hideLoading({width:n,height:r,immediate:e._options.startHidden}),e._delegate.componentDidBecomeReady(),!0}},P:o.default.Promise})}))}},{key:"_run",value:function(){var e=s.default.assign({},this._options,{delegate:"blacklisted",parentElement:"blacklisted"});return this._channel.send("run",e)}},{key:"run",value:function(){var e=this;this._createView();var t=this._connect();return o.default.waitOrFail(t,15e3,c.default.makeShareUITimeout()).then((function(){var t=new o.default.Promise((function(t,n){e._onCancel=function(){return n(new Error("canceled"))}})),n=e._run();return o.default.Promise.race([t,n])})).then((function(t){return e._destroy(),t}),(function(t){e._destroy();try{c.default.isErrorObject(JSON.parse(t.message))&&(t=c.default.fromServerError(JSON.parse(t.message)))}catch(n){}return o.default.Promise.reject(t)}))}},{key:"show",value:function(){this._view.show()}},{key:"hide",value:function(){this._view.hide()}},{key:"cancel",value:function(){this._onCancel&&this._onCancel()}}]),e}();t.default={createAndRun:function(e){return e.__shareSheetOrigin&&(h=e.__shareSheetOrigin,f=h+"/applications/ck-share-ui/current"),new p(e).run()}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(74)),a=r(n(75)),o=r(n(270)),s=function(){function e(t){(0,i.default)(this,e),this._options=t,this._parentElement=t.parentElement||o.default.doc().body,this._element=o.default.createElement('<div class="cloudkit-sharing-ui">\n  <iframe \n      class="cloudkit-sharing-ui-iframe" \n      src="" \n      frameborder="0" \n      seamless="seamless" \n      allowtransparency="true"></iframe>\n  <div class="cloudkit-sharing-ui-loading">\n    <div class="cloudkit-sharing-ui-modal-background">\n        <div class="cloudkit-sharing-ui-content-box">\n            <div class="cloudkit-sharing-ui-spinning"></div>\n        </div>\n    </div>\n  </div>\n  <style>\n.cloudkit-sharing-ui {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n  /*opacity: 0;*/\n  z-index: 999;\n  display: block;\n}\n\n.cloudkit-sharing-ui-iframe {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    height: 100%;\n    width: 100%;\n    overflow: hidden;\n    /*opacity: 0;*/\n    display: block;\n}\n\n.cloudkit-sharing-ui-loading {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  opacity: 1;\n  transition: 250ms ease-in-out;\n}\n\n.cloudkit-sharing-ui-modal-background {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.25);\n    \n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n    -ms-flex-align: center;\n    align-items: center;\n}\n\n.cloudkit-sharing-ui-content-box {\n    width: 100px;\n    height: 100px;\n    background-color: white;\n    box-shadow: 0 2px 25px rgba(0, 0, 0, 0.4);\n    border-radius: 8px;\n    transition: 250ms ease-in-out;\n    \n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n    -ms-flex-align: center;\n    align-items: center;\n}\n\n.cloudkit-sharing-ui-spinning {\n  width: 32px;\n  height: 32px;\n  -webkit-animation: __ck_share_ui_spin 2s linear infinite;\n  -moz-animation: __ck_share_ui_spin 2s linear infinite;\n  animation: __ck_share_ui_spin 2s linear infinite;\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKICAgICAgICAgICAgIHZpZXdCb3g9IjAgMCAzMiAzMiIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMzIgMzIiIHhtbDpzcGFjZT0icHJlc2VydmUiPgogICAgPHBhdGggZmlsbD0iIzY2NiIKICAgICAgICAgIHN0cm9rZS13aWR0aD0iMSIKICAgICAgICAgIGQ9Ik0zMS4yLDE0LjFjLTAuOS03LjUtNy4zLTEzLjMtMTUtMTMuM0M3LjgsMC44LDEuMSw3LjYsMS4xLDE1LjlzNi44LDE1LjIsMTUuMiwxNS4yYzcuNywwLDE0LjEtNS44LDE1LTEzLjMKICAgICAgICAgICAgSDMyYy0wLjksNy45LTcuNywxNC0xNS44LDE0Yy04LjgsMC0xNS45LTcuMS0xNS45LTE1LjlTNy40LDAsMTYuMiwwYzguMSwwLDE0LjgsNi4xLDE1LjgsMTRIMzEuMnoiLz4KPC9zdmc+Cg==);\n}\n\n@-moz-keyframes __ck_share_ui_spin {\n  100% {\n    -moz-transform: rotate(360deg);\n  }\n}\n\n@-webkit-keyframes __ck_share_ui_spin {\n  100% {\n    -webkit-transform: rotate(360deg);\n  }\n}\n\n@keyframes __ck_share_ui_spin {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}</style>\n</div>')}return(0,a.default)(e,[{key:"mount",value:function(){this._parentElement.appendChild(this._element),this.iFrame.setAttribute("src",this._options.url)}},{key:"unmount",value:function(){this._parentElement.removeChild(this._element)}},{key:"showLoading",value:function(){o.default.assignStyle(".cloudkit-sharing-ui-loading",{visibility:"visible"}),o.default.assignStyle(".cloudkit-sharing-ui-iframe",{opacity:0})}},{key:"hideLoading",value:function(e){var t=e.width,n=e.height,r=e.immediate;t=t||400,n=n||300,void 0!==r&&r?(o.default.assignStyle(".cloudkit-sharing-ui-iframe",{opacity:1}),o.default.assignStyle(".cloudkit-sharing-ui-loading",{visibility:"collapse"})):o.default.animate([{".cloudkit-sharing-ui-content-box":{height:n+"px",width:t+"px"},".cloudkit-sharing-ui-spinning":{visibility:"collapse"}},{".cloudkit-sharing-ui-iframe":{opacity:1},".cloudkit-sharing-ui-modal-background":{display:"none"},".cloudkit-sharing-ui-loading":{opacity:0}},{".cloudkit-sharing-ui-loading":{visibility:"collapse"}}],250)}},{key:"show",value:function(){o.default.assignStyle(".cloudkit-sharing-ui",{opacity:1,display:"block"})}},{key:"hide",value:function(){o.default.assignStyle(".cloudkit-sharing-ui",{opacity:0,display:"none"})}},{key:"iFrame",get:function(){return o.default.querySelector(".cloudkit-sharing-ui-iframe")}}]),e}();t.default={create:function(e){return new s(e)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=u.default.isString(e)?o(e):e;u.default.assign(n.style,t)}function a(e,t){var n=u.default.isString(e)?o(e):e;(0,c.default)(t).forEach((function(e){return n.setAttribute(e,t[e])}))}function o(e){return d().querySelector(e)}Object.defineProperty(t,"__esModule",{value:!0});var s=r(n(249)),c=r(n(89)),l=r(n(106)),u=r(n(79)),d=function(){return"undefined"==typeof window?null:window.document};t.default={createElement:function(e,t){var n=d().createElement("div");n.innerHTML=e;var r=n.firstChild;if(t&&t.classes)if(r.classList)t.classes.forEach((function(e){return r.classList.add(e)}));else{var o=r.getAttribute("class")||"",s=t.classes.reduce((function(e,t){return e+" "+t}),o);r.setAttribute("class",s.trim())}return t&&t.style&&i(r,t.style),t&&t.attributes&&a(r,t.attributes),t&&t.children&&t.children.forEach((function(e){r.appendChild(e)})),r},assignStyle:i,querySelector:o,animate:function(e,t){return e.reduce((function(e,n){return e.then((function(){return(0,c.default)(n).forEach((function(e){return i(e,n[e])})),l.default.wait(t)}))}),l.default.Promise.resolve())},makeStyleToggle:function(e,t,n){return function(r,a){return i(r,(0,s.default)({},e,a?t:n))}},win:function(){return window},doc:d}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(74)),a=r(n(75)),o=r(n(79)),s=function(){function e(t,n){(0,i.default)(this,e),this._actual=t,this._component={show:function(){return n.show()},hide:function(){return n.hide()},__cancel:function(){return n.cancel()}}}return(0,a.default)(e,[{key:"componentWasCreated",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return!o.default.isNullOrUndefined(this._actual)&&o.default.isFunction(this._actual.componentWasCreated)?o.default.tryInvokeMethod(this._actual,"componentWasCreated",[this._component].concat(t),"shareWithUI.delegate"):o.default.tryInvokeMethod(this._actual,"componentDidCreate",[this._component].concat(t),"shareWithUI.delegate")}},{key:"componentDidBecomeReady",value:function(){return o.default.tryInvokeMethod(this._actual,"componentDidBecomeReady",[this._component],"shareWithUI.delegate")}},{key:"componentWasDestroyed",value:function(){return o.default.tryInvokeMethod(this._actual,"componentWasDestroyed",[this._component],"shareWithUI.delegate")}},{key:"_provideURLForComponent",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.default.tryInvokeMethod(this._actual,"_provideURLForComponent",[this._component].concat(t),"shareWithUI.delegate")}}]),e}();t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var r=d.bind(null,e,t),i=[];return{handle:function(n,r){if(r.source===e&&r.origin===t){var a=i[n.id];a&&(delete i[n.id],n.error?a.reject(n.error):a.resolve(n.result))}},send:function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];var s={id:h(),method:e,params:a};if(!l(s))throw new Error("Not a valid json rpc call message: "+(0,c.default)(s));return new n((function(e,t){i[s.id]={resolve:e,reject:t},r(s)}))}}}function a(e,t){return{handle:function(n,r){var i=d.bind(r.source,r.source,r.origin),a=e[n.method];a&&t.resolve(1).then((function(){return a.apply(null,n.params)})).then((function(e){return{id:n.id,result:e}}),(function(e){return{id:n.id,error:e}})).then((function(e){if("id"in n)try{i(e)}catch(t){i({id:n.id,error:t.message||t})}}))}}}function o(e,t,n,r){var i=function(e){if(e.source===t)try{var i=JSON.parse(e.data);l(i)?n.handle(i,e):u(i)&&r.handle(i,e)}catch(a){}};return e.addEventListener("message",i),{disconnect:function(){e.removeEventListener("message",i)}}}Object.defineProperty(t,"__esModule",{value:!0});var s=r(n(40)),c=r(n(93)),l=function(e){return"method"in e},u=function(e){return!l(e)&&"id"in e},d=function(e,t,n){n.jsonrpc="2.0",e.postMessage((0,c.default)(n),t)},h=function(){return"ckjs-jsonrpc-message-id-"+(""+Math.random()).substring(2)};t.default={create:function(e){var t=e.win,n=e.otherWin,r=e.otherWinOrigin,c=e.methods,l=void 0===c?{}:c,u=e.P,d=void 0===u?s.default:u,h=a(l,d),f=i(n,r,d),p=o(t,n,h,f);return{send:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return f.send.apply(f,[e].concat(n))},disconnect:function(){p.disconnect()}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(100)),a=r(n(74)),o=r(n(75)),s=r(n(193)),c=r(n(213)),l=function(e){function t(e,n){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"downloadURL",get:function(){return this.httpResponse.body.downloadURL}},{key:"isZipDownloadResponse",get:function(){return!0}}]),t}(r(n(222)).default);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(100)),a=r(n(74)),o=r(n(75)),s=r(n(193)),c=r(n(213)),l=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n));return r._jobID=n.body.jobID,r}return(0,c.default)(t,e),(0,o.default)(t,[{key:"jobID",get:function(){return this._jobID}}]),t}(r(n(222)).default);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(100)),a=r(n(74)),o=r(n(75)),s=r(n(193)),c=r(n(213)),l=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n)),o=n.body;return r._jobID=o.jobID,r._itemsProcessed=o.itemsProcessed,r._itemsTotalEstimate=o.itemsTotalEstimate,r._status=o.status,r._reason=o.reason,r._serverErrorCode=o.serverErrorCode,r}return(0,c.default)(t,e),(0,o.default)(t,[{key:"jobID",get:function(){return this._jobID}},{key:"itemsProcessed",get:function(){return this._itemsProcessed}},{key:"itemsTotalEstimate",get:function(){return this._itemsTotalEstimate}},{key:"status",get:function(){return this._status}},{key:"reason",get:function(){return this._reason}},{key:"serverErrorCode",get:function(){return this._serverErrorCode}}]),t}(r(n(222)).default);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(100)),a=r(n(74)),o=r(n(75)),s=r(n(193)),c=r(n(213)),l=r(n(222)),u=r(n(79)),d=function(e){function t(e,n){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n,"users"))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"toString",value:function(){return u.default.instanceToString("UserIdentitiesResponse",this)}},{key:"users",get:function(){return this._results}},{key:"isUserIdentitiesResponse",get:function(){return!0}}]),t}(l.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(100)),a=r(n(74)),o=r(n(75)),s=r(n(193)),c=r(n(213)),l=r(n(222)),u=r(n(79)),d=function(e){function t(e,n){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n,"results"))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"toString",value:function(){return u.default.instanceToString("RecordInfosResponse",this)}},{key:"results",get:function(){return this._results}},{key:"isRecordInfosResponse",get:function(){return!0}}]),t}(l.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(79)),a=r(n(224)),o=r(n(279)),s=r(n(281));t.default={parseRawNotification:function(e){try{if(!i.default.isNullOrUndefined(e.ck)){if(!i.default.isNullOrUndefined(e.ck.fet))return new s.default(e);if(!i.default.isNullOrUndefined(e.ck.qry))return new o.default(e)}}catch(t){a.default.warn(t)}return null}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(95)),a=r(n(227)),o=r(n(100)),s=r(n(74)),c=r(n(75)),l=r(n(193)),u=r(n(213)),d=r(n(280)),h=r(n(79)),f=function(e){function t(e){(0,s.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e)),r=e.ck.qry;if(n._zoneID={zoneName:r.zid,ownerRecordName:r.zoid},n._subscriptionID=r.sid,n._dbType=r.dbs,n._recordName=r.rid,n._reason=r.fo,!h.default.isNullOrUndefined(r.af)){var c={},u=!0,d=!1,f=void 0;try{for(var p,g=(0,a.default)((0,i.default)(r.af));!(u=(p=g.next()).done);u=!0){var m=p.value;c[m]={value:r.af[m]}}}catch(v){d=!0,f=v}finally{try{!u&&g.return&&g.return()}finally{if(d)throw f}}n._fields=c}return n}return(0,u.default)(t,e),(0,c.default)(t,[{key:"toString",value:function(){return h.default.instanceToString("QueryNotification",this)}},{key:"isQueryNotification",get:function(){return!0}},{key:"notificationType",get:function(){return d.default.NOTIFICATION_TYPE_QUERY}},{key:"queryNotificationReason",get:function(){switch(this._reason){case 1:return d.default.QUERY_NOTIFICATION_REASON_RECORD_CREATED;case 2:return d.default.QUERY_NOTIFICATION_REASON_RECORD_UPDATED;case 3:return d.default.QUERY_NOTIFICATION_REASON_RECORD_DELETED}return null}},{key:"isPublicDatabase",get:function(){return 0===this._dbType}},{key:"recordName",get:function(){return this._recordName}},{key:"recordFields",get:function(){return this._fields}}]),t}(d.default);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(74)),a=r(n(75)),o=function(){function e(t){(0,i.default)(this,e),this._notificationID=t.ck.nid,this._containerIdentifier=t.ck.cid;var n=t.aps||{};n.alert=n.alert||{},this._category=n.category,this._alertBody=n.alert.body,this._alertLocKey=n.alert["loc-key"],this._alertLocArgs=n.alert["loc-args"],this._actionLocKey=n.alert["action-loc-key"],this._launchImage=n.alert["launch-image"],this._soundName=n.sound,this._badge=n.badge}return(0,a.default)(e,[{key:"isQueryNotification",get:function(){return!1}},{key:"isRecordZoneNotification",get:function(){return!1}},{key:"category",get:function(){return this._category}},{key:"notificationType",get:function(){return null}},{key:"notificationID",get:function(){return this._notificationID}},{key:"containerIdentifier",get:function(){return this._containerIdentifier}},{key:"alertBody",get:function(){return this._alertBody}},{key:"alertLocalizationKey",get:function(){return this._alertLocKey}},{key:"alertLocalizationArgs",get:function(){return this._alertLocArgs}},{key:"alertActionLocalizationKey",get:function(){return this._actionLocKey}},{key:"alertLaunchImage",get:function(){return this._launchImage}},{key:"soundName",get:function(){return this._soundName}},{key:"badge",get:function(){return this._badge}},{key:"zoneID",get:function(){return this._zoneID}},{key:"subscriptionID",get:function(){return this._subscriptionID}}],[{key:"NOTIFICATION_TYPE_QUERY",get:function(){return"NOTIFICATION_TYPE_QUERY"}},{key:"NOTIFICATION_TYPE_RECORD_ZONE",get:function(){return"NOTIFICATION_TYPE_RECORD_ZONE"}},{key:"QUERY_NOTIFICATION_REASON_RECORD_CREATED",get:function(){return"QUERY_NOTIFICATION_REASON_RECORD_CREATED"}},{key:"QUERY_NOTIFICATION_REASON_RECORD_UPDATED",get:function(){return"QUERY_NOTIFICATION_REASON_RECORD_UPDATED"}},{key:"QUERY_NOTIFICATION_REASON_RECORD_DELETED",get:function(){return"QUERY_NOTIFICATION_REASON_RECORD_DELETED"}}]),e}();t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(100)),a=r(n(74)),o=r(n(75)),s=r(n(193)),c=r(n(213)),l=r(n(280)),u=r(n(79)),d=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e)),r=e.ck.fet||{};return n._zoneID={zoneName:r.zid,ownerRecordName:r.zoid},n._subscriptionID=r.sid,n}return(0,c.default)(t,e),(0,o.default)(t,[{key:"toString",value:function(){return u.default.instanceToString("RecordZoneNotification",this)}},{key:"isRecordZoneNotification",get:function(){return!0}},{key:"notificationType",get:function(){return l.default.NOTIFICATION_TYPE_RECORD_ZONE}}]),t}(l.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(79)),a=r(n(283)),o=r(n(284)),s=r(n(286)),c="serverToServerKeyAuth",l="apiTokenAuth";t.default={SERVER_TO_SERVER_KEY_AUTH:c,API_TOKEN_AUTH:l,createAuth:function(e){var t=e.container,n=e.containerConfig,r=e.authTokenStore;return i.default.isNullOrUndefined(n[c])?i.default.isNullOrUndefined(n[l])?new a.default({container:t}):new s.default({container:t,config:n[l],locale:n.locale,authTokenStore:r}):new o.default({container:t,config:n[c],locale:n.locale})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(74)),a=r(n(75)),o=r(n(221)),s=function(){function e(t){var n=t.container;(0,i.default)(this,e),this._container=n}return(0,a.default)(e,[{key:"_fetchCurrentUserIdentity",value:function(){return this._container.fetchCurrentUserIdentity()}},{key:"setup",value:function(){return this._fetchCurrentUserIdentity()}},{key:"whenUserSignsIn",value:function(){throw o.default.makeConfigurationError("whenUserSignsIn not implemented by this auth type")}},{key:"whenUserSignsOut",value:function(){throw o.default.makeConfigurationError("whenUserSignsOut not implemented by this auth type")}},{key:"signOut",value:function(){throw o.default.makeConfigurationError("signOut not implemented by this auth type")}},{key:"requestHandler",value:function(){return function(e){return e}}},{key:"responseHandler",value:function(){return function(e){return e}}},{key:"getConfig",value:function(){return{}}}]),e}();t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(93)),a=r(n(100)),o=r(n(74)),s=r(n(75)),c=r(n(193)),l=r(n(209)),u=r(n(213)),d=r(n(283)),h=r(n(79)),f=r(n(221)),p=r(n(106)),g=r(n(285)),m=r(n(187)),v="keyID",y="privateKeyFile",_="privateKeyPassPhrase",b="sha256",w="RSA-SHA256",S=function(e){function t(e){var n=e.container,r=e.config;(0,o.default)(this,t);var i=(0,c.default)(this,(t.__proto__||(0,a.default)(t)).call(this,{container:n}));return i._config=r,i._keyID=null,i._key=null,i}return(0,u.default)(t,e),(0,s.default)(t,[{key:"setup",value:function(){if(h.default.isNullOrUndefined(this._config[v]))throw f.default.makeConfigurationError(v+" not set in "+(0,i.default)(this._config));if(h.default.isNullOrUndefined(this._config[y]))throw f.default.makeConfigurationError(y+" not set in "+(0,i.default)(this._config));if(this._keyID=this._config[v],this._key=g.default.readFileSync(this._config[y],"utf8"),h.default.isNullOrUndefined(this._key))throw f.default.makeConfigurationError("Could not read key from "+y+"}");return h.default.isNullOrUndefined(this._config[_])||(this._key={key:this._key,passphrase:this._config[_]}),(0,l.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"setup",this).call(this)}},{key:"requestHandler",value:function(){var e=this;return function(t){var n,r=(new Date).toISOString().replace(/(\.\d\d\d)Z/,"Z"),i=t.getBodyStringified()||"",a=t.getPathWithParams(),o=r+":"+function(e){var t=m.default.createHash(b);return t.update(new h.default.Buffer(e,"utf-8")),t.digest("base64")}(i)+":"+a;return n=h.default.isFunction(e._externalSigner)?e._externalSigner(e._keyID,o):function(e,t){var n=m.default.createSign(w);return n.update(t),n.sign(e,"base64")}(e._key,o),p.default.Promise.resolve(n).then((function(n){return t.setISODate(r),t.setSigningKeyID(e._keyID),t.setSignatureV1(n),t}))}}}]),t}(d.default);t.default=S},function(e,t){e.exports=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(249)),a=r(n(100)),o=r(n(74)),s=r(n(75)),c=r(n(193)),l=r(n(213)),u=r(n(79)),d=r(n(106)),h=r(n(224)),f=r(n(221)),p=r(n(283)),g=r(n(225)),m=r(n(287)),v=r(n(282)),y=r(n(292)),_={id:"apple-sign-in-button",theme:"medium"},b={id:"apple-sign-out-button",theme:"medium"},w=function(e){function t(e){var n=e.container,r=e.config,i=e.locale,s=e.authTokenStore;(0,o.default)(this,t);var l=(0,c.default)(this,(t.__proto__||(0,a.default)(t)).call(this,{container:n}));return r.persist&&(l._authTokenStore=y.default.create(s)),l._apiToken=r.apiToken,l._authButtons=m.default.create({locale:i,signInButton:u.default.assign({},_,r.signInButton),signOutButton:u.default.assign({},b,r.signOutButton)}),l._ckSession=null,l._signInURL=null,l._whenUserSignsIn=d.default.defer(),l._whenUserSignsOut=d.default.defer(),u.default.isNullOrUndefined(r.ckWebAuthToken)||l._setSession(r.ckWebAuthToken),l}return(0,l.default)(t,e),(0,s.default)(t,[{key:"setup",value:function(){return this._authButtons.reset(),this._fetchAndHandleCurrentUserIdentity()}},{key:"whenUserSignsIn",value:function(){return this._whenUserSignsIn.promise}},{key:"whenUserSignsOut",value:function(){return this._whenUserSignsOut.promise}},{key:"signOut",value:function(){this._setSession(null),this._whenUserSignsOut.resolve(),this._whenUserSignsOut=d.default.defer()}},{key:"requestHandler",value:function(){var e=this;return function(t){return e._getSessionAsync().then((function(n){return u.default.isNullOrUndefined(n)||t.setCKSession(n),t.setApiToken(e._apiToken),t}))}}},{key:"responseHandler",value:function(){var e=this;return function(t){return u.default.isNullOrUndefined(t.getCKSession())||u.default.isNullOrUndefined(e._ckSession)||e._setSession(t.getCKSession()),t}}},{key:"getConfig",value:function(){return(0,i.default)({},v.default.API_TOKEN_AUTH,{apiToken:this._apiToken,ckWebAuthToken:this._ckSession})}},{key:"_getSessionAsync",value:function(){var e=this,t=d.default.Promise.resolve(this._ckSession);return this._authTokenStore&&(t=d.default.Promise.resolve(this._authTokenStore.getToken(this._container.containerIdentifier)).then((function(t){return e._ckSession=t,e._ckSession}))),t}},{key:"_setSession",value:function(e){this._ckSession=e,this._authTokenStore&&this._authTokenStore.putToken(this._container.containerIdentifier,e)}},{key:"_fetchAndHandleCurrentUserIdentity",value:function(){var e=this;return this._fetchCurrentUserIdentity().then((function(t){return e._handleCurrentUserIdentity(t)})).catch((function(t){if(t.ckErrorCode===f.default.AUTHENTICATION_REQUIRED)return e._handleSignInURL(t.redirectURL),null;throw t}))}},{key:"_handleSignInURL",value:function(e){var t=this;this._signInURL=e,setTimeout((function(){return t._fetchAndHandleCurrentUserIdentity().catch((function(){}))}),84e4),this._authButtons.showSignInButton((function(){u.default.getAsyncMessageFromPopup(t._signInURL,640,525).then((function(e){var n=e.data.ckSession;if(u.default.isNullOrUndefined(n))throw u.default.isNullOrUndefined(e.data.errorMessage)?(h.default.warn("Event of type message has neither a ckSession nor an error message",e),f.default.makeUnknownError()):(h.default.warn("Message event from popup reports error: ",e.data),f.default.makeSignInFailedError(e.data));t._setSession(n)})).then((function(){return t._fetchAndHandleCurrentUserIdentity()})).catch((function(e){g.default.reportUnexpectedAuthError(),h.default.warn("Unexpected error",e),t._whenUserSignsIn.reject(e),t._whenUserSignsIn=d.default.defer(),t.setup()}))}))}},{key:"_handleCurrentUserIdentity",value:function(e){var t=this;return this._whenUserSignsIn.resolve(e),this._whenUserSignsIn=d.default.defer(),this._authButtons.showSignOutButton((function(){t.signOut(),t.setup()})),e}}]),t}(p.default);t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(74)),a=r(n(75)),o=r(n(79)),s=r(n(288)),c=function(){function e(t){(0,i.default)(this,e),this._config=t,this._signInButton=s.default.create(o.default.assign({},t.signInButton,{locale:t.locale},{l10nKey:"Auth.SignIn"})),this._signOutButton=s.default.create(o.default.assign({},t.signOutButton,{locale:t.locale},{l10nKey:"Auth.SignOut"}))}return(0,a.default)(e,[{key:"showSignInButton",value:function(e){this._signOutButton.hide(),this._signInButton.show(e)}},{key:"showSignOutButton",value:function(e){this._signInButton.hide(),this._signOutButton.show(e)}},{key:"reset",value:function(){this._signInButton.hide(),this._signOutButton.hide()}}]),e}();t.default={create:function(e){return new c(e)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,a=r(n(74)),o=r(n(75)),s=r(n(249)),c=r(n(270)),l=r(n(289)),u=r(n(291)),d=(i={},(0,s.default)(i,u.default.WHITE,{outer:"white",inner:"white",text:"black"}),(0,s.default)(i,u.default.WHITE_WITH_OUTLINE,{outer:"black",inner:"white",text:"black"}),(0,s.default)(i,u.default.BLACK,{outer:"black",inner:"black",text:"white"}),i),h=c.default.makeStyleToggle("display","block","none"),f=c.default.makeStyleToggle("opacity",1,.5),p=function(){function e(t){(0,a.default)(this,e),this._config=t}return(0,o.default)(e,[{key:"_append",value:function(){var e=document.querySelector("#"+this._config.id);if(e){var t=function(e){var t=l.default.translations(e.locale)[e.l10nKey],n=e.theme||u.default.WHITE_WITH_OUTLINE,r=d[n]||d[u.default.WHITE_WITH_OUTLINE];return c.default.createElement("<div>",{classes:["apple-auth-button"],style:{height:"40px",width:"218px",cursor:"pointer","border-style":"solid","border-width":"1px","border-radius":"5px","border-color":r.outer,"background-color":r.inner},attributes:{alt:t.string},children:[c.default.createElement(unescape(t.asset),{classes:["apple-auth-button-text"],style:{overflow:"visible",fill:r.text,top:"50%",left:"50%",position:"relative"}})]})}(this._config);return e.appendChild(t),!0}return!1}},{key:"show",value:function(e){var t=this;(this._button||this._append())&&(h(this._button,!0),f(this._button,!0),this._button.onclick=function(){t._button.onclick=null,f(t._button,!1),e()})}},{key:"hide",value:function(){this._button&&h(this._button,!1)}},{key:"_button",get:function(){return document.querySelector("#"+this._config.id+" > .apple-auth-button")}}]),e}();t.default={create:function(e){return new p(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(79)),i=n(290),a="en-us",o={"zh-hk":"zh-tw","nb-no":"no-no","nn-no":"no-no",nb:"no-no",nn:"no-no",he:"iw-il","he-il":"iw-il",pt:"pt-pt","vi-vn":"vi-vi","es-419":"es-mx","es-xl":"es-mx"},s=function(e){return e=function(e){return r.default.isString(e)?(2===(e=e.toLowerCase()).length&&(e=e+"-"+e),o[e]||e):a}(e),i[e]||i[a]};t.default={translations:function(e){return s(e||("undefined"==typeof navigator?a:navigator.language||navigator.browserLanguage))}}},function(e,t){e.exports={"en-us":{"Auth.SignIn":{string:"Sign in with Apple ID",asset:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="177.42" height="21.52"><path d="M-79.53 2.00Q-79.53 3.72-80.73 4.80Q-82.05 5.98-84.41 5.98Q-86.59 5.98-87.91 5.14L-87.41 3.34Q-85.99 4.18-84.29 4.18Q-83.07 4.18-82.39 3.63Q-81.71 3.08-81.71 2.16Q-81.71 1.34-82.27 0.78Q-82.83 0.22-84.13-0.26Q-87.67-1.58-87.67-4.12Q-87.67-5.78-86.42-6.84Q-85.17-7.90-83.11-7.90Q-81.27-7.90-80.05-7.26L-80.59-5.50Q-81.73-6.12-83.17-6.12Q-84.31-6.12-84.95-5.56Q-85.49-5.06-85.49-4.34Q-85.49-3.54-84.87-3.02Q-84.33-2.54-82.91-1.98Q-81.17-1.28-80.35-0.34Q-79.53 0.60-79.53 2.00ZM-74.97-6.84Q-74.97-6.26-75.35-5.90Q-75.73-5.54-76.33-5.54Q-76.87-5.54-77.24-5.91Q-77.61-6.28-77.61-6.84Q-77.61-7.40-77.23-7.76Q-76.85-8.12-76.29-8.12Q-75.73-8.12-75.35-7.76Q-74.97-7.40-74.97-6.84M-75.21 5.78L-77.37 5.78L-77.37-3.94L-75.21-3.94L-75.21 5.78ZM-63.97-3.94Q-64.05-2.76-64.05-1.18L-64.05 4.38Q-64.05 7.52-65.45 8.78Q-66.73 9.94-69.05 9.94Q-71.07 9.94-72.31 9.18L-71.81 7.52Q-70.59 8.26-69.05 8.26Q-66.19 8.26-66.19 5.18L-66.19 4.24L-66.23 4.24Q-67.13 5.72-69.09 5.72Q-70.85 5.72-71.99 4.38Q-73.13 3.04-73.13 0.98Q-73.13-1.36-71.81-2.80Q-70.59-4.14-68.83-4.14Q-66.85-4.14-65.99-2.60L-65.95-2.60L-65.87-3.94L-63.97-3.94M-66.21 1.62L-66.21-0.10Q-66.21-1.08-66.82-1.78Q-67.43-2.48-68.43-2.48Q-69.53-2.48-70.24-1.56Q-70.95-0.64-70.95 0.90Q-70.95 2.30-70.29 3.16Q-69.61 4.10-68.43 4.10Q-67.71 4.10-67.14 3.67Q-66.57 3.24-66.33 2.50Q-66.21 2.14-66.21 1.62ZM-52.89 5.78L-55.05 5.78L-55.05 0.20Q-55.05-2.38-57.01-2.38Q-57.97-2.38-58.57-1.67Q-59.17-0.96-59.17-0.00L-59.17 5.78L-61.33 5.78L-61.33-1.16Q-61.33-2.44-61.41-3.94L-59.51-3.94L-59.41-2.44L-59.35-2.44Q-58.97-3.14-58.23-3.60Q-57.35-4.14-56.27-4.14Q-54.91-4.14-54.01-3.26Q-52.89-2.18-52.89-0.04L-52.89 5.78ZM-43.09-6.84Q-43.09-6.26-43.47-5.90Q-43.85-5.54-44.45-5.54Q-44.99-5.54-45.36-5.91Q-45.73-6.28-45.73-6.84Q-45.73-7.40-45.35-7.76Q-44.97-8.12-44.41-8.12Q-43.85-8.12-43.47-7.76Q-43.09-7.40-43.09-6.84M-43.33 5.78L-45.49 5.78L-45.49-3.94L-43.33-3.94L-43.33 5.78ZM-32.17 5.78L-34.33 5.78L-34.33 0.20Q-34.33-2.38-36.29-2.38Q-37.25-2.38-37.85-1.67Q-38.45-0.96-38.45-0.00L-38.45 5.78L-40.61 5.78L-40.61-1.16Q-40.61-2.44-40.69-3.94L-38.79-3.94L-38.69-2.44L-38.63-2.44Q-38.25-3.14-37.51-3.60Q-36.63-4.14-35.55-4.14Q-34.19-4.14-33.29-3.26Q-32.17-2.18-32.17-0.04L-32.17 5.78ZM-11.75-3.94L-14.79 5.78L-16.77 5.78L-18.03 1.56Q-18.51-0.02-18.81-1.58L-18.85-1.58Q-19.13 0.02-19.63 1.56L-20.97 5.78L-22.97 5.78L-25.83-3.94L-23.61-3.94L-22.51 0.68Q-22.11 2.32-21.85 3.80L-21.81 3.80Q-21.57 2.58-21.01 0.70L-19.63-3.94L-17.87-3.94L-16.55 0.60Q-16.07 2.26-15.77 3.80L-15.71 3.80Q-15.49 2.30-15.05 0.60L-13.87-3.94L-11.75-3.94ZM-7.71-6.84Q-7.71-6.26-8.09-5.90Q-8.47-5.54-9.07-5.54Q-9.61-5.54-9.98-5.91Q-10.35-6.28-10.35-6.84Q-10.35-7.40-9.97-7.76Q-9.59-8.12-9.03-8.12Q-8.47-8.12-8.09-7.76Q-7.71-7.40-7.71-6.84M-7.95 5.78L-10.11 5.78L-10.11-3.94L-7.95-3.94L-7.95 5.78ZM-0.33-2.32L-2.71-2.32L-2.71 2.40Q-2.71 4.20-1.45 4.20Q-0.87 4.20-0.49 4.10L-0.43 5.74Q-1.07 5.98-2.11 5.98Q-3.39 5.98-4.11 5.20Q-4.83 4.42-4.83 2.58L-4.83-2.32L-6.25-2.32L-6.25-3.94L-4.83-3.94L-4.83-5.72L-2.71-6.36L-2.71-3.94L-0.33-3.94L-0.33-2.32ZM9.99 5.78L7.83 5.78L7.83 0.24Q7.83-2.38 5.87-2.38Q4.37-2.38 3.81-0.86Q3.71-0.54 3.71-0.08L3.71 5.78L1.55 5.78L1.55-8.40L3.71-8.40L3.71-2.56L3.75-2.56Q4.77-4.14 6.67-4.14Q8.01-4.14 8.89-3.26Q9.99-2.16 9.99-0.00L9.99 5.78ZM27.85 5.78L25.55 5.78L24.29 1.82L19.91 1.82L18.71 5.78L16.47 5.78L20.81-7.70L23.49-7.70L27.85 5.78M23.91 0.16L22.77-3.36Q22.59-3.90 22.09-5.90L22.05-5.90Q21.85-5.04 21.41-3.36L20.29 0.16L23.91 0.16ZM38.81 0.80Q38.81 3.28 37.47 4.72Q36.27 6.00 34.49 6.00Q32.57 6.00 31.73 4.62L31.69 4.62L31.69 9.74L29.53 9.74L29.53-0.74Q29.53-2.30 29.45-3.94L31.35-3.94L31.47-2.40L31.51-2.40Q32.59-4.14 34.79-4.14Q36.51-4.14 37.66-2.78Q38.81-1.42 38.81 0.80M36.61 0.88Q36.61-0.54 35.97-1.46Q35.27-2.42 34.09-2.42Q33.29-2.42 32.64-1.89Q31.99-1.36 31.79-0.50Q31.69-0.10 31.69 0.16L31.69 1.78Q31.69 2.84 32.34 3.57Q32.99 4.30 34.03 4.30Q35.25 4.30 35.93 3.36Q36.61 2.42 36.61 0.88ZM50.09 0.80Q50.09 3.28 48.75 4.72Q47.55 6.00 45.77 6.00Q43.85 6.00 43.01 4.62L42.97 4.62L42.97 9.74L40.81 9.74L40.81-0.74Q40.81-2.30 40.73-3.94L42.63-3.94L42.75-2.40L42.79-2.40Q43.87-4.14 46.07-4.14Q47.79-4.14 48.94-2.78Q50.09-1.42 50.09 0.80M47.89 0.88Q47.89-0.54 47.25-1.46Q46.55-2.42 45.37-2.42Q44.57-2.42 43.92-1.89Q43.27-1.36 43.07-0.50Q42.97-0.10 42.97 0.16L42.97 1.78Q42.97 2.84 43.62 3.57Q44.27 4.30 45.31 4.30Q46.53 4.30 47.21 3.36Q47.89 2.42 47.89 0.88ZM54.33 5.78L52.17 5.78L52.17-8.40L54.33-8.40L54.33 5.78ZM65.05 0.46Q65.05 1.04 64.97 1.44L58.49 1.44Q58.53 2.88 59.43 3.64Q60.25 4.32 61.55 4.32Q62.99 4.32 64.17 3.86L64.51 5.36Q63.13 5.96 61.25 5.96Q58.99 5.96 57.70 4.63Q56.41 3.30 56.41 1.06Q56.41-1.14 57.61-2.60Q58.87-4.16 61.01-4.16Q63.11-4.16 64.19-2.60Q65.05-1.36 65.05 0.46M62.99-0.10Q63.01-1.06 62.57-1.76Q62.01-2.66 60.85-2.66Q59.79-2.66 59.13-1.78Q58.59-1.08 58.49-0.10L62.99-0.10ZM74.03 5.78L71.87 5.78L71.87-7.70L74.03-7.70L74.03 5.78ZM87.99-1.28Q87.99 2.36 85.81 4.20Q83.79 5.90 80.07 5.90Q78.23 5.90 76.91 5.74L76.91-7.52Q78.63-7.80 80.63-7.80Q84.17-7.80 85.97-6.26Q87.99-4.52 87.99-1.28M85.71-1.22Q85.71-3.58 84.46-4.84Q83.21-6.10 80.81-6.10Q79.79-6.10 79.07-5.96L79.07 4.12Q79.47 4.18 80.53 4.18Q83.01 4.18 84.36 2.80Q85.71 1.42 85.71-1.22Z"/></svg>'},"Auth.SignOut":{string:"Sign out",asset:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="70.61999999999999" height="21.52"><path d="M-26.13 2.00Q-26.13 3.72-27.33 4.80Q-28.65 5.98-31.01 5.98Q-33.19 5.98-34.51 5.14L-34.01 3.34Q-32.59 4.18-30.89 4.18Q-29.67 4.18-28.99 3.63Q-28.31 3.08-28.31 2.16Q-28.31 1.34-28.87 0.78Q-29.43 0.22-30.73-0.26Q-34.27-1.58-34.27-4.12Q-34.27-5.78-33.02-6.84Q-31.77-7.90-29.71-7.90Q-27.87-7.90-26.65-7.26L-27.19-5.50Q-28.33-6.12-29.77-6.12Q-30.91-6.12-31.55-5.56Q-32.09-5.06-32.09-4.34Q-32.09-3.54-31.47-3.02Q-30.93-2.54-29.51-1.98Q-27.77-1.28-26.95-0.34Q-26.13 0.60-26.13 2.00ZM-21.57-6.84Q-21.57-6.26-21.95-5.90Q-22.33-5.54-22.93-5.54Q-23.47-5.54-23.84-5.91Q-24.21-6.28-24.21-6.84Q-24.21-7.40-23.83-7.76Q-23.45-8.12-22.89-8.12Q-22.33-8.12-21.95-7.76Q-21.57-7.40-21.57-6.84M-21.81 5.78L-23.97 5.78L-23.97-3.94L-21.81-3.94L-21.81 5.78ZM-10.57-3.94Q-10.65-2.76-10.65-1.18L-10.65 4.38Q-10.65 7.52-12.05 8.78Q-13.33 9.94-15.65 9.94Q-17.67 9.94-18.91 9.18L-18.41 7.52Q-17.19 8.26-15.65 8.26Q-12.79 8.26-12.79 5.18L-12.79 4.24L-12.83 4.24Q-13.73 5.72-15.69 5.72Q-17.45 5.72-18.59 4.38Q-19.73 3.04-19.73 0.98Q-19.73-1.36-18.41-2.80Q-17.19-4.14-15.43-4.14Q-13.45-4.14-12.59-2.60L-12.55-2.60L-12.47-3.94L-10.57-3.94M-12.81 1.62L-12.81-0.10Q-12.81-1.08-13.42-1.78Q-14.03-2.48-15.03-2.48Q-16.13-2.48-16.84-1.56Q-17.55-0.64-17.55 0.90Q-17.55 2.30-16.89 3.16Q-16.21 4.10-15.03 4.10Q-14.31 4.10-13.74 3.67Q-13.17 3.24-12.93 2.50Q-12.81 2.14-12.81 1.62ZM0.51 5.78L-1.65 5.78L-1.65 0.20Q-1.65-2.38-3.61-2.38Q-4.57-2.38-5.17-1.67Q-5.77-0.96-5.77-0.00L-5.77 5.78L-7.93 5.78L-7.93-1.16Q-7.93-2.44-8.01-3.94L-6.11-3.94L-6.01-2.44L-5.95-2.44Q-5.57-3.14-4.83-3.60Q-3.95-4.14-2.87-4.14Q-1.51-4.14-0.61-3.26Q0.51-2.18 0.51-0.04L0.51 5.78ZM16.79 0.84Q16.79 3.08 15.51 4.52Q14.17 6.00 11.95 6.00Q9.81 6.00 8.54 4.58Q7.27 3.16 7.27 1.00Q7.27-1.26 8.58-2.70Q9.89-4.14 12.11-4.14Q14.25-4.14 15.55-2.72Q16.79-1.34 16.79 0.84M14.55 0.90Q14.55-0.44 13.97-1.40Q13.29-2.56 12.03-2.56Q10.73-2.56 10.05-1.40Q9.47-0.44 9.47 0.94Q9.47 2.28 10.05 3.24Q10.75 4.40 12.01 4.40Q13.25 4.40 13.95 3.22Q14.55 2.24 14.55 0.90ZM27.25 5.78L25.35 5.78L25.23 4.30L25.19 4.30Q24.17 6.00 22.11 6.00Q20.67 6.00 19.81 5.10Q18.79 4.00 18.79 1.78L18.79-3.94L20.95-3.94L20.95 1.42Q20.95 4.22 22.87 4.22Q24.31 4.22 24.87 2.82Q25.01 2.46 25.01 2.00L25.01-3.94L27.17-3.94L27.17 2.98Q27.17 4.36 27.25 5.78ZM34.79-2.32L32.41-2.32L32.41 2.40Q32.41 4.20 33.67 4.20Q34.25 4.20 34.63 4.10L34.69 5.74Q34.05 5.98 33.01 5.98Q31.73 5.98 31.01 5.20Q30.29 4.42 30.29 2.58L30.29-2.32L28.87-2.32L28.87-3.94L30.29-3.94L30.29-5.72L32.41-6.36L32.41-3.94L34.79-3.94L34.79-2.32Z"/></svg>'}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={WHITE:"white",BLACK:"black",WHITE_WITH_OUTLINE:"white-with-outline"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(74)),a=r(n(75)),o=r(n(79)),s=(r(n(224)),n(221)),c=r(s),l={putToken:function(e,t){o.default.setCookie(e,t)},getToken:function(e){return o.default.getCookie(e)}},u={},d={putToken:function(e,t){u[e]=t},getToken:function(e){return u[e]}},h=o.default.isNode()?d:l,f=function(){function e(){(0,i.default)(this,e),this.setDelegate()}return(0,a.default)(e,[{key:"setDelegate",value:function(e){o.default.isNullOrUndefined(e)?this._delegate=h:this._delegate=e}},{key:"putToken",value:function(e,t){try{this._delegate.putToken(e,t)}catch(n){this._delegate[e]=t}if(t!==this.getToken(e))throw c.default.makeAuthPersistError()}},{key:"getToken",value:function(e){try{return this._delegate.getToken(e)}catch(t){return this._delegate[e]}}}]),e}();t.default={create:function(e){var t=new f;return t.setDelegate(e),t}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={EQUALS:"EQUALS",NOT_EQUALS:"NOT_EQUALS",LESS_THAN:"LESS_THAN",LESS_THAN_OR_EQUALS:"LESS_THAN_OR_EQUALS",GREATER_THAN:"GREATER_THAN",GREATER_THAN_OR_EQUALS:"GREATER_THAN_OR_EQUALS",NEAR:"NEAR",CONTAINS_ALL_TOKENS:"CONTAINS_ALL_TOKENS",IN:"IN",NOT_IN:"NOT_IN",CONTAINS_ANY_TOKENS:"CONTAINS_ANY_TOKENS",LIST_CONTAINS:"LIST_CONTAINS",LIST_CONTAINS_ANY:"LIST_CONTAINS_ANY",NOT_LIST_CONTAINS:"NOT_LIST_CONTAINS",NOT_LIST_CONTAINS_ANY:"NOT_LIST_CONTAINS_ANY",BEGINS_WITH:"BEGINS_WITH",NOT_BEGINS_WITH:"NOT_BEGINS_WITH",LIST_MEMBER_BEGINS_WITH:"LIST_MEMBER_BEGINS_WITH",NOT_LIST_MEMBER_BEGINS_WITH:"NOT_LIST_MEMBER_BEGINS_WITH",LIST_CONTAINS_ALL:"LIST_CONTAINS_ALL",NOT_LIST_CONTAINS_ALL:"NOT_LIST_CONTAINS_ALL"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={NONE:"NONE",DELETE_SELF:"DELETE_SELF",VALIDATE:"VALIDATE"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={QUERY:"query",RECORD_ZONE:"zone",DATABASE:"database"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={NAME:"cloudkit.share",TITLE_FIELD_NAME:"cloudkit.title",THUMBNAIL_IMAGE_DATA_FIELD_NAME:"cloudkit.thumbnailImageData",TYPE_FIELD_NAME:"cloudkit.type"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={UNKNOWN:"UNKNOWN",NONE:"NONE",READ_ONLY:"READ_ONLY",READ_WRITE:"READ_WRITE"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={UNKNOWN:"UNKNOWN",PENDING:"PENDING",ACCEPTED:"ACCEPTED"}}]))},function(e,t){e.exports=void 0},function(e,t,n){"use strict";e.exports=n(1312)},function(e,t,n){"use strict";var r=n(1313),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,c=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||y}function w(){}function S(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||y}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=b.prototype;var E=S.prototype=new w;E.constructor=S,r(E,b.prototype),E.isPureReactComponent=!0;var I={current:null},C=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)C.call(t,r)&&!O.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===i[r]&&(i[r]=c[r]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:I.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var N=/\/+/g,M=[];function D(e,t,n,r){if(M.length){var i=M.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function R(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>M.length&&M.push(e)}function L(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s=!1;if(null===e)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case a:case o:s=!0}}if(s)return n(r,e,""===t?"."+x(e,0):t),1;if(s=0,t=""===t?".":t+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=t+x(i=e[c],c);s+=L(i,l,n,r)}else if("function"===typeof(l=null===e||"object"!==typeof e?null:"function"===typeof(l=m&&e[m]||e["@@iterator"])?l:null))for(e=l.call(e),c=0;!(i=e.next()).done;)s+=L(i=i.value,l=t+x(i,c++),n,r);else if("object"===i)throw n=""+e,Error(v(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return s}function k(e,t,n){return null==e?0:L(e,"",t,n)}function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function F(e,t){e.func.call(e.context,t,e.count++)}function P(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?j(e,r,n,(function(e){return e})):null!=e&&(A(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(N,"$&/")+"/")+n)),r.push(e))}function j(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(N,"$&/")+"/"),k(e,P,t=D(t,a,r,i)),R(t)}var U={current:null};function B(){var e=U.current;if(null===e)throw Error(v(321));return e}var V={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:I,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return j(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;k(e,F,t=D(null,null,t,n)),R(t)},count:function(e){return k(e,(function(){return null}),null)},toArray:function(e){var t=[];return j(e,t,null,(function(e){return e})),t},only:function(e){if(!A(e))throw Error(v(143));return e}},t.Component=b,t.Fragment=s,t.Profiler=l,t.PureComponent=S,t.StrictMode=c,t.Suspense=f,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(v(267,e));var i=r({},e.props),o=e.key,s=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,c=I.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)C.call(t,u)&&!O.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];i.children=l}return{$$typeof:a,type:e.type,key:o,ref:s,props:i,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return B().useCallback(e,t)},t.useContext=function(e,t){return B().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return B().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return B().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return B().useLayoutEffect(e,t)},t.useMemo=function(e,t){return B().useMemo(e,t)},t.useReducer=function(e,t,n){return B().useReducer(e,t,n)},t.useRef=function(e){return B().useRef(e)},t.useState=function(e){return B().useState(e)},t.version="16.14.0"},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,o,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(s[l]=n[l]);if(r){o=r(n);for(var u=0;u<o.length;u++)a.call(n,o[u])&&(s[o[u]]=n[o[u]])}}return s}},function(e,t,n){"use strict";function r(e){return{ok:!0,value:e}}function i(e){return{ok:!1,error:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Result=t.isFailure=t.isSuccess=t.failure=t.success=void 0,t.success=r,t.failure=i,t.isSuccess=function(e){return e.ok},t.isFailure=function(e){return!e.ok},t.Result={success:r,failure:i}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var r=n(1326),i=n(1327),a=n(1329),o=n(1316),s=n(1593),c=n(1328),l=s.a.extend({items:null,name:null,id:null,init:function(e){this.__s._$Si$init.call(this,e),this.items=[],this.id=u,u++},toStaticMixin:function(){var e={};return this.items.forEach((function(t){t.level||(e[t.name]=t)})),{staticMembers:e}},getItemForValue:function(e){return this.items.find((function(t){return t.value===e}))||null},toString:function(){return"[CW.Enum.Group: "+this.name+"]"},retain:function(){return this},release:function(){return this},autorelease:function(){return this},__superMap:{_$Si$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"EnumGroup"}}),u=1;function d(e,t){var n,s,u,d=l.create({name:e}),f=d.items;if(Object(r.a)(t))t(h(d,null));else if(Object(i.a)(t))for(var p in t)n=c.a.create({name:p,value:t[p],group:d}),f.push(n),d[p]=n;else{if(!Object(a.a)(t))throw new o.a("Cannot create enum group. Invalid value",{name:e,obj:t});for(s=0,u=t.length;s<u;s++){var g=t[s];n=c.a.create({name:g,value:s,group:d}),f.push(n),d[g]=n}}return d}function h(e,t){var n=1;return function(r,i){var a=null;t?(a=t.createSubitem(r),t.items.push(a)):a=c.a.create({name:r,value:n,parent:null,level:0,group:e});var o=a.fullName.replace(/\./g,"");return e.items.push(a),e[o]=a,t&&(t[r]=a),n+=1,i&&i(h(e,a)),a}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(1305),i=function(e,t){var n;return e instanceof Error?n=e:(e&&(e=Object(r.a)(e,t)),n=new Error(e)),n.context=t,n},a=function(e,t){throw new i(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1319);function i(e){return a(e.constructor)||a(e)||"<object>"}function a(e){var t=e.__QUALIFIED_CLASS_NAME__;if(t)return e.hasOwnProperty("__QUALIFIED_CLASS_NAME__")||(e.isClass&&!e.isInitialized?t+="(Uninitialized subclass "+Object(r.a)(e)+")":t+="(Anonymous subclass "+Object(r.a)(e)+")"),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1316),i=0,a=function(e){if(null===e)return"_null";if(void 0===e)return"_undefined";if(e.hasOwnProperty("_cwGUID"))return e._cwGUID;var t=typeof e;switch(t){case"number":Object.is(e,-0)&&(e="-0");case"string":case"boolean":return t+e;case"object":case"function":var n=t+ ++i;return o.value=n,Object.defineProperty(e,"_cwGUID",o),n;default:throw new r.a("unrecognized object type",{object:e,type:t})}},o={value:"",enumerable:!1,writable:!1,configurable:!1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1316),i={staticMembers:{_pool:null,init:function(){this._pool=[],this.__s._$7M$init.apply(this,arguments)},maxPoolSize:200,create:function(){var e,t=this._pool;return t.length>0?(e=t.pop()).isPooled=!1:e=this.__s._$EI$create.call(this),e.retain(this,"CW._Poolable.create"),e.initFromPool.apply(e,arguments),e._autoreleaseForTransfer(this,"CW._Poolable.create"),e},_returnInstanceToPool:function(e){var t=this._pool;t.length>=this.maxPoolSize||(t.push(e),e.isPooled=!0)},__superMap:{_$7M$init:"init",_$EI$create:"create"}},retain:function(){if(this.isPooled)throw new r.a("Attempted to retain pooled object.",this);return this.__s._$Ph$retain.apply(this,arguments)},release:function(){if(this.isPooled)throw new r.a("Attempted to release pooled object.",this);return this.__s._$SI$release.apply(this,arguments)},_captureDisposingObjectForPool:function(){this.constructor._returnInstanceToPool(this)},isPooled:!1,initFromPool:function(e){if(arguments.length>1)throw new r.a("Default poolable initializer supports at most one argument. If you would like to apply a mixin it should be done when calling .extend().");for(var t in e)this[t]=e[t]},__superMap:{_$Ph$retain:"retain",_$SI$release:"release"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1316);function i(e){for(var t=[],n=/((?:(?:\\\\)*|(?:\\\.)|[^\\.])+)(?:\.|$)/g,i=e.length;n.lastIndex<i;){var a=n.exec(e);if(0===(a=a[1]).length)throw new r.a("Cannot parse a property path with an empty component ('%{path}').",{path:e});a=(a=a.replace(/\\\./g,".")).replace(/\\\\/g,"\\"),t.push(a)}return t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1324),i=n(1325),a=n(1323);function o(e,t){var n=Object(a.a)(t,e);if(n)return Object(r.a)(n,Object(i.a)(t))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1324),i=function(e,t){for(var n,i,a=0,o=t;o&&-1!==(i=e.indexOf(".",a));)n=e.substring(a,i),o=Object(r.a)(o,n),a=i+1;return o}},function(e,t,n){"use strict";function r(e,t){if(e)return e[t]}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e.substring(e.lastIndexOf(".")+1)}},function(e,t,n){"use strict";function r(e){return e instanceof Function||!(!e||"function"!==typeof e||e instanceof Element)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return"object"===typeof e&&null!==e&&e.constructor===Object&&!e.isClass}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1316),i=n(1593),a=[4278190080,4294901760,4294967040,4294967280,4294967295],o=[24,16,8,4,0],s=i.a.extend({name:null,value:null,level:null,parent:null,group:null,fullValue:null,fullName:null,hasLevel:!1,retain:function(){return this},release:function(){return this},autorelease:function(){return this},init:function(e){this.__s._$17J$init.call(this,e);var t=this.name,n=this.value,i=this.parent,a=this.level,s=(this.hasLevel="number"===typeof this.level)?n<<o[a]:null;if(i&&!i.hasLevel)throw new r.a(this+" Cannot init. parent does not have an assigned level");this.items=[],this._flags={},this.fullValue=i?i.fullValue+s:s,this.fullName=i?i.fullName+"."+t:t,this._nextSubitemValue=0},flagAs:function(){for(var e=arguments.length,t=this._flags,n=0;n<e;n++)t[arguments[n]]=!0;return this},flagged:function(e){return!!this._flags[e]},equals:function(e){return this.group===e.group&&e.fullValue===this.fullValue},subitemOf:function(e){return this.level>e.level&&this.group===e.group&&(this.fullValue&a[e.level])===e.fullValue},superitemOf:function(e){return this.level<e.level&&this.group===e.group&&(e.fullValue&a[this.level])===this.fullValue},contains:function(e){return this.equals(e)||e.subitemOf(this)},createSubitem:function(e){return s.create({name:e,value:this._getNextSubitemValue(),parent:this,level:this.level+1,group:this.group})},toString:function(){return this._toString(!1)},toJSON:function(){return""+this},toStringFull:function(){return this._toString(!0)},_toString:function(e){var t=this.group,n=t?t.name:"CW.Enum.Item",r=e||!t?" <"+function(e){var t=e.toString(16).toUpperCase();return t.length%2!==0&&(t="0"+t),t.match(/\d\d/g).join(" ")}(this.fullValue)+">":"";return"["+n+": "+this.fullName+r+"]"},_getNextSubitemValue:function(){return this._nextSubitemValue++,this._nextSubitemValue},__superMap:{_$17J$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"EnumItem"}});s.prototype.substateOf=s.prototype.subitemOf,s.prototype.superstateOf=s.prototype.superitemOf},function(e,t,n){"use strict";function r(e){return!!Array.isArray(e)||!!e&&"[object Arguments]"===Object.prototype.toString.call(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1318),i=n(1319),a=n(1593),o=n(1587),s=a.a.extend(o.b,{toString:function(){return"[Object "+Object(r.a)(this)+":"+Object(i.a)(this)+"]"},toJSON:function(){return this.toString()},staticMembers:{__QUALIFIED_CLASS_NAME__:"CoreObject"}})},function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h}));var r=n(1306),i=n(1316),a=n(1317),o=n(1332),s=n(1318),c=n(1319);function l(e){var t=Object(r.a)(arguments,0,1);return e.define.apply(e,t)}var u=n(1593).a.extend({staticMembers:{define:function(){return this.create.apply(this,arguments)},_ancestorGuids:[],__QUALIFIED_CLASS_NAME__:"Metadata"},value:void 0,initializeMember:function(e,t){if(!e.hasMixin(h))throw new i.a("cannot add metadata to a class without CW.MetadataSupport");return e.registerMetadata(t,this,!0),this.getValue(e,t)},wasRegistered:a.a,getValue:function(e,t){return this.value},requiresSupport:null,allowedOnClass:!1,allowedOnInstance:!0,allowAtExtend:!0,allowAtRuntime:!1,allowAtCreate:!1,isOnlyMetadataForKey:!0}),d={initializeMember:function(){return{}}},h={staticMembers:{init:function(e){var t=this.prototype;f(this),f(t),this.__s._$2HR$init.call(this,e),t.initializeClass(),this.initializeClass(),this.initializeInstance()},_metadataByType:d,_metadataByKey:d,registerMetadata:p,getMetadataByType:m,getMetadata:v,initializeClass:a.a,initializeInstance:a.a,initializeRuntime:a.a,__superMap:{_$2HR$init:"init"}},init:function(e){this.__s._$2_U$init.call(this,e),this.initializeInstance()},_metadataByType:d,_metadataByKey:d,registerMetadata:p,getMetadataByType:m,getMetadata:v,initializeClass:a.a,initializeInstance:a.a,initializeRuntime:a.a,__superMap:{_$2_U$init:"init"}};function f(e){if(!e.hasOwnProperty("_metadataByType")){for(var t=e._metadataByType,n={},r=Object.keys(t),i=r.length,a=0;a<i;a++){var o=r[a];n[o]=Object.create(t[o])}e._metadataByType=n;var s=e._metadataByKey;e._metadataByKey=Object.create(s)}}function p(e,t,n){if(!e)throw new i.a("'key' is required");if(!t)throw new i.a("'metadata' is required");if(!Object(o.a)(t,u))throw new i.a("Metadata must inherit from CW.Metadata");var r=t.key;if(r&&r!==e)throw new i.a("metadata cannot be registered on key '"+e+"'; it is already registered for a different key '"+r);var a=this.isClass,l=this.constructor,d=t.requiresSupport;if(d&&!(a?this:l).kindOf(d))throw new i.a("This class does not mix in the required support for metadata of type "+Object(s.a)(t)+".",{metadata:t,requiresSupport:d});var h=this.isInitialized,p=t.allowAtExtend,g=t.allowAtCreate;if(a){if(!t.allowedOnClass)throw new i.a("This metadata cannot be added to a class because `allowedOnClass` is false (key: '"+e+"', class: "+this+", metadata: "+t.constructor+").",{key:e,onClass:this,metadata:t});if(!h&&!p&&!g)throw new i.a("New static metadata may not be added at extend time when `allowAtExtend` and `allowAtCreate` are false (key: '"+e+"', class: "+this+", metadata: "+t.constructor+").",{key:e,onClass:this,metadata:t})}else{if(!t.allowedOnInstance)throw new i.a("This metadata cannot be added to an instance because `allowedOnInstance` is false (key: '"+e+"', instance of: "+l+", metadata: "+t.constructor+").",{key:e,instance:this,metadata:t});var m=l.isInitialized;if(!m&&!h&&!p)throw new i.a("New metadata may not be added in extend when `allowAtExtend` is false (key: '"+e+"', instance of: "+l+", metadata: "+t.constructor+").",{key:e,instance:this,metadata:t});if(m&&!h&&!g)throw new i.a("New metadata may not be added in create when `allowAtCreate` is false (key: '"+e+"', instance of: "+l+", metadata: "+t.constructor+").",{key:e,instance:this,metadata:t})}if(h){if(!t.allowAtRuntime)throw new i.a("New metadata may not be added at runtime when `allowAtRuntime` is false (key: '"+e+"', instance: "+this+", metadata: "+t.constructor+").",{key:e,instance:this,metadata:t});this.initializeRuntime()}var v=t.constructor,y=this._metadataByKey[e];if(y&&y.isOnlyMetadataForKey&&t.isOnlyMetadataForKey&&!t.instanceOf(y.constructor))throw new i.a("isOnlyMetadataForKey metadata may only be overridden if the new value is the same type or a subclass (key: '"+e+"', target: "+this+", metadata: "+t.constructor+").",{key:e,target:this,metadata:t});f(this);var _,b=this._metadataByKey,w=this._metadataByType;if(t.isOnlyMetadataForKey||(y=null),v.hasOwnProperty("_ancestorGuids"))_=v._ancestorGuids;else{_=v._ancestorGuids=[];for(var S=v.ancestors,E=S.length,I=0;I<E&&S[I]!==u;I++);for(I++;I<E;I++){var C=S[I];_.push(Object(c.a)(C))}_.push(Object(c.a)(v))}var O=_.length;if(!y){var T=w[_[0]];T&&(y=T[e])}for(var A=0;A<O;A++){var N=_[A],M=w[N];M||(w[N]=M={}),M[e]=t}if(t.isOnlyMetadataForKey&&(b[e]=t),t.key=e,!n){var D=t.getValue(this,e);void 0!==D&&(this[e]=D)}t.wasRegistered(this,e,y)}var g={};function m(e){return this._metadataByType[Object(c.a)(e)]||g}function v(e){return this._metadataByKey[e]}},function(e,t,n){"use strict";function r(e,t){return(n=e)&&n.instanceOf?e.instanceOf(t):(t===Event||"function"===typeof t)&&e instanceof t;var n}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1594),i=n(1334),a=n(1331),o={mixinDependencies:[r.a],clone:Object(a.c)(i.a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1326),i=n(1594).b.extend({requiredKey:null,validate:function(e,t){if(this._validating)return this._validating=!1,!1;this._validating=!0;var n,i=e[t];if(Object(r.a)(i)&&i!==this.default)return this._validating=!1,!0;if(t=this.requiredKey||t,Array.isArray(t)){n=!0;for(var a=t.length,o=0;o<a;o++)n=n&&this._validate(e,t[o])}else n=this._validate(e,t);return this._validating=!1,n},_validating:!1,_validate:function(e,t){var n=e.getMetadataByType(i)[t],a=e[t];return n?n.validate(e,t):Object(r.a)(a)},getValue:function(){return this.default},default:void 0,staticMembers:{__QUALIFIED_CLASS_NAME__:"RequiredMethod"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1594),i=n(1334),a={mixinDependencies:[r.a],message:"",validate:i.a.define()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return d}));var r=n(1593),i="strong",a="weak",o="unsafe";function s(e,t,n){e&&e!==t&&e.retain&&e.retain(t,n)}function c(e,t,n){e&&e!==t&&e.release&&e.release(t,n)}function l(e,t,n){e&&e!==t&&e.autorelease&&e.autorelease(t,n)}function u(e,t,n,i){return e&&e.registerWeakReference?e.registerWeakReference(t,n,i):r.b}function d(e,t){t!==r.b&&e&&e.deregisterWeakReference&&e.deregisterWeakReference(t)}},function(e,t,n){"use strict";function r(e){return"string"===typeof e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return"boolean"===typeof e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1306),i=n(1316),a=n(1340);function o(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];var c=Object(r.a)(arguments,0,1),l="_cw_boundFunction_"+Object(a.a)(arguments);null!==t&&void 0!==t||s(t);var u=t[l];return u||(u=t[l]=e.bind.apply(e,c),t[l]||s(t)),u}function s(e){throw new i.a("CW.Utils.bindFunction cannot bind a function to a primitive or frozen object ("+e+" in this case). Use `Function#bind` instead.")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1316),i=n(1319),a=n(1329),o=n(1341),s=[],c=function(e,t){var n,i,c,u,d=0|t,h="";if(Object(a.a)(e)){for(n=e.length,i=0;i<n;i++)i&&(h+=","),h+=l(e[i],d);return"["+h+"]"}if(e._isCwCollection&&e.objectAt){for(n=e.length,i=0;i<n;i++)i&&(h+=","),h+=l(e.objectAt(i),d);return"["+h+"]"}if(!Object(o.a)(e)){for(c in u=s.length,e)e.hasOwnProperty(c)&&s.push(c);for(s.sort(),n=s.length,i=u;i<n;i++)i!==u&&(h+=","),h+='"'+(c=s[i])+'":'+l(e[c],d);return s.length=u,"{"+h+"}"}throw new r.a("Object expected in call to `guidForContents`.",e)},l=function(e,t){return t>0&&!Object(o.a)(e)?c(e,t-1):'"'+Object(i.a)(e)+'"'}},function(e,t,n){"use strict";function r(e){return null===e||"object"!==typeof e&&"function"!==typeof e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return"number"===typeof e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return null!==e&&void 0!==e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e}},function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return m}));var r=n(1326),i=n(1327),a=n(1316),o=n(1343),s=n(1348),c=n(1331),l=n(1346),u=n(1347),d=c.a.extend({instantiate:null,init:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0];e===Array?e=i||[]:e===Object&&(e=i||{}),this.value=e,this.configs=n,this.__s._$1Pq$init.call(this)},wasRegistered:function(e,t){var n=this.value;if(Object(l.a)(n))this.instantiate=h;else if(Object(r.a)(n))this.instantiate=f;else{if(!Array.isArray(n)&&!Object(i.a)(n))throw new a.a("Error on key '%{key}': CW.instance may only instantiate CW classes, JavaScript constructors, and arrays.",{key:t,object:e,type:n});this.instantiate=p}},configs:null,requiresSupport:m,isOnlyMetadataForKey:!1,allowedOnClass:!0,allowAtCreate:!0,__superMap:{_$1Pq$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Instance"}}),h=function(e,t,n){if(!Object(o.a)(t))return t;if(Object(u.a)(t))return t;var r,a;Object(i.a)(t)||Array.isArray(t)?(r=this.value,a=[t]):(r=t,a=this.configs);var s=r.create.apply(r,a);return s.owner=s.owner||n,s},f=function(e,t,n){return Object(r.a)(t)?new t(...this.configs):t},p=function(e,t,n){return Object(s.a)(t)};function g(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return d.define(e,...n)}var m={mixinDependencies:[c.b],staticMembers:{initializeInstance:function(){var e=this.getMetadataByType(d);for(var t in e){var n,r=e[t];n=this.hasOwnProperty(t)?this[t]:r.value,this[t]=r.instantiate(t,n,this)}this.__s._$2fi$initializeInstance.call(this)},__superMap:{_$2fi$initializeInstance:"initializeInstance"}},initializeInstance:function(){var e=this.getMetadataByType(d);for(var t in e){var n=e[t],r=this[t];this[t]=n.instantiate(t,r,this)}this.__s._$2mE$initializeInstance.call(this)},__superMap:{_$2mE$initializeInstance:"initializeInstance"}}},function(e,t,n){"use strict";function r(e){return!(!e||!e.isClass)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return!(!e||!e.isObject)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=n(1349).b},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var r=n(1329),i=n(1327),a=n(1350),o=function(e,t){var n;if(Object(r.a)(e)){var o=Object(a.a)(e);if(t){for(var c=o.length,l=0,u=0;u<c;u++)(n=t.call(this,o[u],t,u))!==s&&(o[l]=n,l++);l!==c&&(o.length=l)}return o}if(Object(i.a)(e)){for(var d=Object.create(Object.getPrototypeOf(e)),h=Object.keys(e),f=h.length,p=0;p<f;p++){var g=h[p];t?(n=t.call(this,e[g],t,g))!==s&&(d[g]=n):d[g]=e[g]}return d}return e},s={}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t,n){return Array.prototype.slice.call(e,0|t,n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1594),i=n(1334),a=n(1331),o={mixinDependencies:[r.a],get:Object(a.c)(i.a),set:Object(a.c)(i.a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1316),i=n(1593),a=n(1320),o=i.a.extend(a.a,{staticMembers:{begin:function(e){var t=this.create();return t.retain(t,s),t._isReady=!0,t._rootObject=e,t._batchSetter=this._beginBatchSetter(),t},_beginBatchSetter:function(){return i.c.begin()},__QUALIFIED_CLASS_NAME__:"BatchSetterForNonObservableObject"},begin:function(){throw new r.a("BatchSetterForObject Begin must be called on the class, reusing BatchSetterForObject objects is not allowed.")},_rootObject:null,set:function(e,t){return this._batchSetter.set(this._rootObject,e,t),this},setIfChanged:function(e,t){return this._batchSetter.setIfChanged(this._rootObject,e,t),this},end:function(){this._batchSetter.end(),this._batchSetter=null,this._rootObject=null,this.release(this,s)}}),s="BatchSetterForObject: self-reference for the duration"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={toString:function(){return"CW.ITSELF"}};Object.freeze(r)},function(e,t,n){"use strict";n.d(t,"a",(function(){return Oe}));var r=n(1317),i=n(1316),a=2048,o=8192,s=16384,c=-1,l=1024,u=2048,d=256,h=new Int16Array(l),f=1,p=l,g=new Array(l),m=new Int32Array(u),v=u,y=new Int32Array(u),_=new Int32Array(u),b=0,w=u,S=c,E=new Array(l),I=new Array(l),C=new Array(l),O=new Int32Array(l),T=u,A=new Int32Array(d),N=0,M=d,D=new Int32Array(d),R=0,L=d,k=[],x=-1;function F(){var e;return-1===x?e=new Int32Array(256):(e=k[x],x--),e[0]=1,e}var P=F(),j=new Int32Array(256),U=0,B=256,V=!Int16Array,W=V?r.a:function(){p*=2,T*=2;var e=new Int16Array(p);e.set(h);var t=new Int32Array(T);t.set(O),h=e,O=t},z=V?r.a:function(){v*=2;var e=new Int32Array(v);e.set(m),m=e;var t=new Int32Array(v);t.set(y),y=t},H=V?r.a:function(){w*=2;var e=new Int32Array(w);e.set(_),_=e},G=V?r.a:function(){M*=2,L*=2;var e=new Int32Array(M);e.set(A),A=e;var t=new Int32Array(L);t.set(D),D=t},$=V?r.a:function(){B*=2;var e=new Int32Array(B);e.set(j),j=e},K=V?r.a:function(){var e=2*P.length,t=new Int32Array(e);t.set(P),P=t},Q=0,q=0;function Z(e){return 64&e&&!(4&e)}function Y(e,t){Z(h[e])&&g[e].didRemoveParentFromNode(E[e],e,t,y[0+(e<<1)])}function X(e,t){Z(h[e])&&g[e].didRemoveChildFromNode(E[e],e,t,y[1+(e<<1)])}function J(e,t){64&h[e]&&g[e].willRemoveChildFromNode(E[e],e,t,y[1+(e<<1)])}function ee(e,t){Z(h[e])&&g[e].willRemoveParentFromNode(E[e],e,t,y[0+(e<<1)])}function te(){if(!(Q>0||q>0)){var e=0,t=R;for(e=0;e<t;e++)ne(D[e]),D[e]=c;R=0}}function ne(e){N>=M&&G(),A[N++]=e}function re(e,t){var n=m[t],r=c;S!==c?(r=0|S,S=_[S+1]):(r=0|b,(b+=2)>w&&H()),_[r+0]=e,_[r+1]=n,m[t]=r,y[t]++}function ie(e,t){for(var n=m[t],r=c;n!==c;){if(_[n+0]===e){r!==c?_[r+1]=_[n+1]:m[t]=_[n+1],_[n+1]=S,S=n,y[t]--;break}r=n,n=_[n+1]}}function ae(e,t,n){Q++;for(var r=(e<<1)+t,i=m[r],a=0===t?1:0,o=i;o!==c;){var s=_[o];0===t?(n&&ee(e,s),J(s,e)):(n&&J(e,s),ee(s,e)),o=_[o+1]}if(o=i,m[r]=c,y[r]=0,o!==c)for(;;){var l=_[o];4&h[l]||ie(e,(l<<1)+a),0===t?(n&&Y(e,l),X(l,e)):(n&&X(e,l),Y(l,e));var u=_[o+1];if(u===c){_[o+1]=S,S=i;break}o=u}Q--,te()}function oe(e){return E[e]}function se(e,t){var n=h[e];h[e]=-4&n|t}function ce(e,t){var n=h[e];return h[e]=n|t,h[e]}function le(e,t){var n=h[e];return h[e]=n&~t,h[e]}function ue(e,t){he(e,t,e,2)}function de(e,t){he(e,void 0,t,3)}function he(e,t,n,r,c){if(!Ce(e))throw new i.a("Tried to dirty an undefined node");var l=h[e],u=3&l;if(1===u&&!(l&s))throw new i.a("Cycle found in dataflow graph");var d=256&l,f=d&&2===u?_e(e):void 0;se(e,1),be(t,e),we(n,e),d&&(3===r?g[e].wasDirtiedByParent(oe(e),e,t,f):2===r&&g[e].wasDirtiedBySelf(oe(e),e,t,f)),c||(fe(e),function(e){var t=h[e];(16&t||32&t||t&a)&&!(t&o)&&(P.length<=P[0]&&K(),P[P[0]]=e,P[0]++,ce(e,o))}(e)),se(e,r)}function fe(e,t){var n=h[e];if(!t&&128&n)!function(e){h[e]&s||(B<=U&&$(),j[U]=e,U++,ce(e,s))}(e);else for(var r=1+(e<<1),i=y[r],a=m[r],o=i-1;a!==c;)t&&!t[o]||de(_[a+0],e),o--,a=_[a+1]}function pe(){for(var e,t=0;t<U;t++)fe(e=j[t],g[e].getActiveChildrenForNode(e));for(var n=0;n<U;n++)le(e=j[n],s);U=0}function ge(){if(!(q>0)){Q++;var e=P,t=e[0];P=F();var n,r,i=0,s=0;for(n=1;n<t;n++)le(i=e[n],o);for(n=1;n<t;n++)i=e[n],s=h[i],i===c||4&s||(16&s&&g[i].flushNode(E[i],i),s&a&&me(i));for(n=1;n<t;n++)i=e[n],s=h[i],i===c||4&s||32&s&&g[i].notifyNode(E[i],i);r=e,x++,k[x]=r,Q--,te()}}function me(e){if(!Ce(e))throw new i.a("Tried to getValue for an undefined node");var t=h[e];if(4&t)return ve(e);var n=3&t,r=g[e],a=r.isCacheable;if(0===n&&a)return ve(e);var o=3===n||!a,s=oe(e),c=r.calculateValueForNode(s,e,o);se(e,0),be(void 0,e);var l,u=512&t;return u&&(l=ve(e)),a&&ye(c,e),u&&r.previousValueWasReplaced(s,e,l),c}function ve(e){return I[e]}function ye(e,t){I[t]=e}function _e(e){return C[e]}function be(e,t){C[t]=e}function we(e,t){O[t]=e}function Se(e,t){void 0===t&&(t=0);var n,r=h[e];switch(3&r){case 0:n="CLEAN";break;case 1:n="DIRTYING";break;case 2:n="DIRTY_SELF";break;case 3:n="DIRTY_PARENT"}function i(e){for(var n,r=[];e!==c;)n=_[e+0],t>0?r.unshift(Se(n,t-1)):r.unshift(n),e=_[e+1];return r}var a=e<<1,o=i(m[a+1]),s=i(m[a+0]),l=g[e],u={id:e,wantsFlush:!!(16&r),wantsNotify:!!(32&r),wantsFreeTracking:!!(8&r),wantsRelationshipTracking:!!(64&r),wantsActiveChildren:!!(128&r),wantsDirtyTracking:!!(256&r),isFreeing:!!(4&r),status:n,children:o,parents:s,manager:l,data:I[e],context:E[e],stateData:C[e],stateID:O[e]};return l&&l.addDebugInfoForNode&&l.addDebugInfoForNode(E[e],u,e),u}function Ee(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.length-1);for(var r=[],i=t;i<=n&&!(i>=e.length);i++)r.push(Se(e[i]));return r}function Ie(e,t,n){var r="";return e[t].forEach((function(e){var i=(e&&void 0!==e.id?e.id:e)+(e&&e.status?" ("+e.status+")":"")+": "+e.toString();r+=n+i+"\n",e&&e[t]&&(r+=Ie(e,t,n+"  "))})),r}function Ce(e){return void 0!==e&&null!==e&&e!==c}var Oe={NULL_INDEX:c,dumpNode:Se,dumpChildren:function(e,t){return void 0===t&&(t=7),"Children of "+e+":\n"+Ie(Se(e,t),"children","")},dumpParents:function(e,t){return void 0===t&&(t=7),"Parents of "+e+":\n"+Ie(Se(e,t),"parents","")},dumpNodes:Ee,dumpNodeNames:function(e,t,n){return Ee(e,t,n).map((function(e){return(e&&void 0!==e.id?e.id:e)+":"+e.toString()}))},dumpNodesWithData:function(e){var t=[];return I.forEach((function(n,r){n===e&&t.push(r)})),t},dumpNodesWithStateData:function(e){var t=[];return C.forEach((function(n,r){n===e&&t.push(r)})),t},debugNextCycle:function(){},dumpStack:function(){return{stack:[],nodes:{}}},setNodeBit:ce,removeNodeBit:le,addChildToNode:function(e,t,n){var r=0+(e<<1);re(e,1+(t<<1)),re(t,r),function(e,t){Z(h[e])&&g[e].didAddChildToNode(E[e],e,t,y[1+(e<<1)])}(t,e),function(e,t){Z(h[e])&&g[e].didAddParentToNode(E[e],e,t,y[0+(e<<1)])}(e,t),n&&de(e,t)},removeChildFromNode:function(e,t,n){J(t,e),ee(e,t),ie(e,1+(t<<1)),ie(t,0+(e<<1)),X(t,e),Y(e,t),n&&de(e,t)},setValueForNode:function(e,t){ue(t,e),pe(),ge()},setValuesForNodes:function(){if(arguments.length%2!==0)throw new i.a("Invalid number of arguments on setValuesForNodes, arguments should be a paired list of nodeIDs and values.",arguments);for(var e=0;e<arguments.length;e+=2)ue(arguments[e+1],arguments[e]);pe(),ge()},setNodeToDirtyFromParent:function(e){de(e,c),pe(),ge()},passValueToNode:function(e,t){he(t,e,t,2,!0)},getValueForNode:me,getDataForNode:ve,setDataForNode:ye,getStateDataForNode:_e,setStateDataForNode:be,getStateIDForNode:function(e){return O[e]},setStateIDForNode:we,getContextForNode:oe,setContextForNode:function(e,t){E[t]=e},getManagerForNode:function(e){return g[e]},setManagerForNode:function(e,t){g[t]=e},getParentIDs:function(e,t,n){for(var r=n||0,i=0+(e<<1),a=y[i],o=m[i],s=a-1+r,l=s+1;l<t.length;l++)t[l]=c;for(;o!==c;){var u=_[o+0];t[s]=u,s--,o=_[o+1]}return t},getChildrenIDs:function(e,t,n){for(var r=n||0,i=1+(e<<1),a=y[i],o=m[i],s=a-1+r,l=s+1;l<t.length;l++)t[l]=c;for(;o!==c;){var u=_[o+0];t[s]=u,s--,o=_[o+1]}return t},getChildIndex:function(e,t){for(var n=1+(t<<1),r=m[n],i=y[n]-1;r!==c;){if(_[r+0]===e)return i;r=_[r+1],i--}return c},getParentIndex:function(e,t){for(var n=0+(e<<1),r=m[n],i=y[n]-1;r!==c;){if(_[r+0]===t)return i;r=_[r+1],i--}return c},FLUSH:16,NOTIFY:32,RELATIONSHIPS:64,FREE:8,ACTIVE_CHILDREN:128,DIRTY_TRACKING:256,PREVIOUS_VALUE_TRACKING:512,PULL_ON_FLUSH:a,PULL_ON_FREE:1024,allocNode:function(e,t,n){var r=0,i=c;r|=n|=0,N>0?i=A[--N]:(i=f++,f>p&&(W(),z())),h[i]=r;var a=i<<1,o=a+1;return m[a]=c,m[o]=c,y[a]=0,y[o]=0,g[i]=e,E[i]=t,I[i]=void 0,C[i]=void 0,O[i]=c,i},freeNode:function(e){var t=h[e];if(1024&t){var n=3&t;if(2===n||3===n){if(!Ce(e))throw new i.a("Trying to pull_on_free an invalid node",{nodeID:e});me(e)}}ce(e,4),ae(e,0,!1),ae(e,1,!1),8&t&&g[e].nodeWillFree(E[e],e),g[e]=I[e]=E[e]=C[e]=void 0,O[e]=c,Q>0||q>0?(R>=L&&G(),D[R++]=e):ne(e)},disconnectParentsFromNode:function(e){ae(e,0,!0)},disconnectChildrenFromNode:function(e){ae(e,1,!0)},pullDataFromParents:function(e,t){for(var n=0+(e<<1),r=y[n],a=m[n],o=r-1,s=o+1;s<t.length;s++)t[s]=void 0;for(;a!==c;){var l=_[a+0];if(!Ce(l))throw new i.a("Trying to pull data from an invalid parent",{nodeID:e});t[o]=me(l),o--,a=_[a+1]}return t},triggerFlush:ge,pause:function(){q++},resume:function(){0===--q&&ge()},_sanitizeNodeID:function(e){return null!==e&&void 0!==e||(e=c),0|e},nodeIsDirty:function(e){var t=3&h[e];return 2&t||3&t},nodeIsFreeing:function(e){return 4&h[e]},isValidNodeID:Ce}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1593),i=n(1317),a=r.a.extend({debugType:"Base",isCacheable:!0,calculateValueForNode:null,previousValueWasReplaced:i.a,flushNode:i.a,notifyNode:i.a,didAddParentToNode:i.a,didRemoveParentFromNode:i.a,didAddChildToNode:i.a,didRemoveChildFromNode:i.a,willRemoveChildFromNode:i.a,willRemoveParentFromNode:i.a,validateDescendantDownstreamNodeManager:i.a,wasDirtiedByParent:i.a,wasDirtiedBySelf:i.a,nodeWillFree:i.a,addDebugInfoForNode:i.a,staticMembers:{__QUALIFIED_CLASS_NAME__:"NodeManager"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1593),i=n(1317),a=n(1316),o=n(1332),s=n(1354),c=n(1355).a.extend({debugType:"Base",property:null,key:null,init:function(e){this.property=e,this.key=e.key,this.get=e._transformedGet,this.internalGet=e.internalGet,void 0!==e.cacheable&&(this.isCacheable=e.cacheable),this.dependencyCount=e.dependencies?e.dependencies.length:0,this.readOnly=e.readOnly,this.reference=e.reference,this.collectors=[],this.collectorsCount=0,this.validateType=e._validateType,e.isDependentComputedProperty&&(this._validateNewParent=i.a,this.isDependentComputedProperty=!0),this.__s._$ll$init.call(this)},isDependentComputedProperty:!1,readOnly:!1,validateType:null,get:null,internalGet:null,setUpNode:i.a,calculateValueForNode:function(e,t,n){var i=s.a.getDataForNode(t),c=this.getCollector();if(s.a.getParentIDs(t,c),!s.a.isValidNodeID(c[0]))throw new a.a("Corrupted first parent of downstream node",{nodeID:t});for(var l=s.a.getValueForNode(c[0]),u=1;u<c.length;u++)c[u-1]=c[u];c[c.length-1]=s.a.NULL_INDEX;var d=this.get.call(e,l,c,0,this.property);if(this.releaseCollector(c),!this.validateType(d)){var h=this.property.type;throw Object(o.a)(d,r.a)?new a.a('Type error: cannot return %{value} (an instance of %{constructor}) from observable property "%{key}" of %{object} which expected a %{type}. Value passed type check at `set` time, but was transformed inappropriately by an upstream property\u2019s getter or setter.',{object:e,key:this.key,value:d,constructor:d.constructor,type:h}):new a.a('Type error: cannot return value %{value} from observable property "%{key}" of %{object} which expected a %{type}. Value passed type check at `set` time, but was transformed inappropriately by an upstream property\u2019s getter or setter.',{object:e,key:this.key,value:d,type:h})}return this._manageForCalculateValueForNode(e,i,d),d},_manageForCalculateValueForNode:i.a,didAddParentToNode:function(e,t,n){this._validateNewParent(t,n)},_validateNewParent:function(e,t){s.a.getManagerForNode(t).validateDescendantDownstreamNodeManager(this,e,t)},validateDescendantDownstreamNodeManager:i.a,_throwValidationError:function(e,t,n){throw new a.a(n,{reference:e.reference,parentReference:this.reference,key:e.key,object:s.a.getContextForNode(t),parentKey:this.key,property:e.property})},dependencyCount:null,collectors:null,collectorsCount:0,getCollector:function(){return this.collectorsCount>0?this.collectors[--this.collectorsCount]:new Array(this.dependencyCount)},releaseCollector:function(e){var t,n=this.dependencyCount;for(t=0;t<n;t++)e[t]=null;this.collectors[this.collectorsCount++]=e},addDebugInfoForNode:function(e,t,n){t.type=this.debugType+" Downstream Node",t.object=e,t.key=this.key,t.toString=function(){return e+"."+this.key+" (Downstream)"},t.name=t.toString()},__superMap:{_$ll$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownstreamNodeManager"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n(1593),i=n(1317),a=n(1316),o=n(1332),s=n(1354),c=n(1355),l={},u=c.a.extend({debugType:"Base",key:null,init:function(e){e&&(this.property=e,this.key=e.key,this.set=e._transformedSet,this.internalGet=e.internalGet,this.validateType=e._validateType,this._valueOffsetCount=1,this.setterReturnArray=new Array(e.writeDependencies?e.writeDependencies.length:e.dependencies?e.dependencies.length:0),this.clearReturnArray(this.setterReturnArray)),this.dependencyCollector=[],this.__s._$fe$init.call(this)},property:null,isCacheable:!0,validateType:null,reference:null,set:null,internalGet:null,_valueOffsetCount:0,setUpNode:i.a,validateDescendantDownstreamNodeManager:function(e,t,n){if(e.property!==this.property)throw new a.a("A property\u2019s upstream node may only connect to the downstream node for the same property (key: %{key}, downstream property key: {%downstreamKey}). \u2026If you get this error, please contact the CoreWeb team, as you\u2019ve discovered a unicorn.",{key:this.key,downstreamKey:e.key})},willRemoveChildFromNode:function(e,t,n){if(!s.a.isValidNodeID(t))throw new a.a("Trying to remove child of an invalid upstream node",{nodeID:t});s.a.getValueForNode(t)},wasDirtiedByParent:function(e,t,n,r){this._manageForWasDirtiedByParent(r,e)},_manageForWasDirtiedByParent:i.a,wasDirtiedBySelf:function(e,t,n,r){this._manageForWasDirtiedBySelf(n,r,e)},_manageForWasDirtiedBySelf:i.a,calculateValueForNode:function(e,t,n){var i,c=s.a.getDataForNode(t);if(n){var u=s.a.getStateIDForNode(t);if((i=this.pullDataFromParent(t,u))===l)return c}else i=s.a.getStateDataForNode(t),s.a.setStateDataForNode(void 0,t);var d=this.setterReturnArray,h=this.set.call(e,i,c,d,0,this.property);if(!this.validateType(h)){var f=this.property.type;throw Object(o.a)(h,r.a)?new a.a('Type error: cannot set value `%{value}` (an instance of %{constructor}) to observable property "%{key}" of %{object} which expected a %{type}. (Note that `set` may have been called on a downstream property.)',{object:e,key:this.key,value:h,constructor:h.constructor,setValue:i,type:f}):new a.a('Type error: cannot set value `%{value}` to observable property "%{key}" of %{object} which expected a %{type}. (Note that `set` may have been called on a downstream property.)',{object:e,key:this.key,value:h,setValue:i,type:f})}return this.passValuesToChildren(t,d,h),this.clearReturnArray(d),this._manageForCalculateValueForNode(h,i,e),h},_manageForCalculateValueForNode:i.a,pullDataFromParent:function(e,t){if(s.a.getStateDataForNode(e)===l){var n=s.a.getManagerForNode(t).property,r=n.key;throw n.dependencies!==n.writeDependencies?new a.a("Infinite loop detected in the %{property} observable property. This is likely because you are attempting to get the write dependency '%{key}' inside your setter.",{key:this.key,property:r}):new a.a("Infinite loop detected in the %{property} observable property. Try adding a writeDependencies array that contains only the dependencies you actually write to (not %{key}).",{key:this.key,property:r})}if(s.a.setStateDataForNode(l,e),t<0)throw new a.a("Couldn't tell which parent set the upstream node (%{node})",{node:e});return s.a.getValueForNode(t),s.a.getStateDataForNode(e)},clearReturnArray:function(e){for(var t=e.length,n=0;n<t;n++)e[n]=l},passValuesToChildren:function(e,t,n){var r=this.dependencyCollector;s.a.getChildrenIDs(e,r);for(var i=this._valueOffsetCount,a=t.length,o=0;o<a;o++){var c=r[o+i];t[o]!==l&&c>=0&&s.a.getStateIDForNode(c)===e&&s.a.passValueToNode(t[o],c)}s.a.passValueToNode(n,r[0])},dependencyCollector:null,setterReturnArray:null,addDebugInfoForNode:function(e,t,n){t.type=this.debugType+" Upstream Node",t.object=e,t.key=this.key,t.toString=function(){return e+"."+this.key+" (Upstream)"},t.name=t.toString()},__superMap:{_$fe$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"UpstreamNodeManager"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1593),i=n(1354),a=r.c.extend({staticMembers:{init:function(){this.__s._$H4$init.apply(this,arguments),r.c._bestBatchSetterClass=this,this._bestBatchSetterClass=this},__superMap:{_$H4$init:"init"},__QUALIFIED_CLASS_NAME__:"BatchSetter"},init:function(){this.__s._$Oo$init.apply(this,arguments),this._toSetObservableArray=[]},end:function(){this.__s._$QW$end.apply(this,arguments),this._toSetObservableArray.length=0},_toSetObservableArray:null,_performSet:function(e){if(0!==e.length){for(var t=this._toSetObservableArray,n=this._pointerTuple,r=0,a=e.length;r<a;r++){var o=e[r],s=o.value,c=this._resolvePointer(o,n),l=c[0],u=c[1],d=l.upstreamNodes?l.upstreamNodes[u]:void 0;d?(t.push(s),t.push(d)):l[u]=s}t.length>0&&i.a.setValuesForNodes.apply(this,t)}},__superMap:{_$Oo$init:"init",_$QW$end:"end"}})},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(1360)},function(e,t,n){"use strict";var r=n(1311),i=n(1313),a=n(1361);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));function s(e,t,n,r,i,a,o,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var c=!1,l=null,u=!1,d=null,h={onError:function(e){c=!0,l=e}};function f(e,t,n,r,i,a,o,u,d){c=!1,l=null,s.apply(h,arguments)}var p=null,g=null,m=null;function v(e,t,n){var r=e.type||"unknown-event";e.currentTarget=m(n),function(e,t,n,r,i,a,s,h,p){if(f.apply(this,arguments),c){if(!c)throw Error(o(198));var g=l;c=!1,l=null,u||(u=!0,d=g)}}(r,t,void 0,e),e.currentTarget=null}var y=null,_={};function b(){if(y)for(var e in _){var t=_[e],n=y.indexOf(e);if(!(-1<n))throw Error(o(96,e));if(!S[n]){if(!t.extractEvents)throw Error(o(97,e));for(var r in S[n]=t,n=t.eventTypes){var i=void 0,a=n[r],s=t,c=r;if(E.hasOwnProperty(c))throw Error(o(99,c));E[c]=a;var l=a.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&w(l[i],s,c);i=!0}else a.registrationName?(w(a.registrationName,s,c),i=!0):i=!1;if(!i)throw Error(o(98,r,e))}}}}function w(e,t,n){if(I[e])throw Error(o(100,e));I[e]=t,C[e]=t.eventTypes[n].dependencies}var S=[],E={},I={},C={};function O(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!_.hasOwnProperty(t)||_[t]!==r){if(_[t])throw Error(o(102,t));_[t]=r,n=!0}}n&&b()}var T=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),A=null,N=null,M=null;function D(e){if(e=g(e)){if("function"!==typeof A)throw Error(o(280));var t=e.stateNode;t&&(t=p(t),A(e.stateNode,e.type,t))}}function R(e){N?M?M.push(e):M=[e]:N=e}function L(){if(N){var e=N,t=M;if(M=N=null,D(e),t)for(e=0;e<t.length;e++)D(t[e])}}function k(e,t){return e(t)}function x(e,t,n,r,i){return e(t,n,r,i)}function F(){}var P=k,j=!1,U=!1;function B(){null===N&&null===M||(F(),L())}function V(e,t,n){if(U)return e(t,n);U=!0;try{return P(e,t,n)}finally{U=!1,B()}}var W=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z=Object.prototype.hasOwnProperty,H={},G={};function $(e,t,n,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){K[e]=new $(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];K[t]=new $(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){K[e]=new $(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){K[e]=new $(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){K[e]=new $(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){K[e]=new $(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){K[e]=new $(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){K[e]=new $(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){K[e]=new $(e,5,!1,e.toLowerCase(),null,!1)}));var Q=/[\-:]([a-z])/g;function q(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Q,q);K[t]=new $(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Q,q);K[t]=new $(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Q,q);K[t]=new $(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){K[e]=new $(e,1,!1,e.toLowerCase(),null,!1)})),K.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){K[e]=new $(e,1,!1,e.toLowerCase(),null,!0)}));var Z=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Y(e,t,n,r){var i=K.hasOwnProperty(t)?K[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!z.call(G,e)||!z.call(H,e)&&(W.test(e)?G[e]=!0:(H[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}Z.hasOwnProperty("ReactCurrentDispatcher")||(Z.ReactCurrentDispatcher={current:null}),Z.hasOwnProperty("ReactCurrentBatchConfig")||(Z.ReactCurrentBatchConfig={suspense:null});var X=/^(.*)[\\\/]/,J="function"===typeof Symbol&&Symbol.for,ee=J?Symbol.for("react.element"):60103,te=J?Symbol.for("react.portal"):60106,ne=J?Symbol.for("react.fragment"):60107,re=J?Symbol.for("react.strict_mode"):60108,ie=J?Symbol.for("react.profiler"):60114,ae=J?Symbol.for("react.provider"):60109,oe=J?Symbol.for("react.context"):60110,se=J?Symbol.for("react.concurrent_mode"):60111,ce=J?Symbol.for("react.forward_ref"):60112,le=J?Symbol.for("react.suspense"):60113,ue=J?Symbol.for("react.suspense_list"):60120,de=J?Symbol.for("react.memo"):60115,he=J?Symbol.for("react.lazy"):60116,fe=J?Symbol.for("react.block"):60121,pe="function"===typeof Symbol&&Symbol.iterator;function ge(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function me(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case le:return"Suspense";case ue:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case oe:return"Context.Consumer";case ae:return"Context.Provider";case ce:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case de:return me(e.type);case fe:return me(e.render);case he:if(e=1===e._status?e._result:null)return me(e)}return null}function ve(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=me(e.type);n=null,r&&(n=me(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(X,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function _e(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function be(e){e._valueTracker||(e._valueTracker=function(e){var t=_e(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function we(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_e(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Se(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ie(e,t){null!=(t=t.checked)&&Y(e,"checked",t,!1)}function Ce(e,t){Ie(e,t);var n=ye(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Te(e,t.type,n):t.hasOwnProperty("defaultValue")&&Te(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Oe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Te(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Me(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function De(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function Re(e,t){var n=ye(t.value),r=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ke(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ke(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,Pe,je=(Pe=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return Pe(e,t)}))}:Pe);function Ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Be(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ve={animationend:Be("Animation","AnimationEnd"),animationiteration:Be("Animation","AnimationIteration"),animationstart:Be("Animation","AnimationStart"),transitionend:Be("Transition","TransitionEnd")},We={},ze={};function He(e){if(We[e])return We[e];if(!Ve[e])return e;var t,n=Ve[e];for(t in n)if(n.hasOwnProperty(t)&&t in ze)return We[e]=n[t];return e}T&&(ze=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);var Ge=He("animationend"),$e=He("animationiteration"),Ke=He("animationstart"),Qe=He("transitionend"),qe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ze=new("function"===typeof WeakMap?WeakMap:Map);function Ye(e){var t=Ze.get(e);return void 0===t&&(t=new Map,Ze.set(e,t)),t}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function et(e){if(Xe(e)!==e)throw Error(o(188))}function tt(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return et(i),e;if(a===r)return et(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function nt(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function rt(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var it=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)v(e,t[r],n[r]);else t&&v(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function ot(e){if(null!==e&&(it=nt(it,e)),e=it,it=null,e){if(rt(e,at),it)throw Error(o(95));if(u)throw e=d,u=!1,d=null,e}}function st(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e){if(!T)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var lt=[];function ut(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>lt.length&&lt.push(e)}function dt(e,t,n,r){if(lt.length){var i=lt.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function ht(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Dn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=st(e.nativeEvent);r=e.topLevelType;var a=e.nativeEvent,o=e.eventSystemFlags;0===n&&(o|=64);for(var s=null,c=0;c<S.length;c++){var l=S[c];l&&(l=l.extractEvents(r,t,a,i,o))&&(s=nt(s,l))}ot(s)}}function ft(e,t,n){if(!n.has(e)){switch(e){case"scroll":Kt(t,"scroll",!0);break;case"focus":case"blur":Kt(t,"focus",!0),Kt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ct(e)&&Kt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===qe.indexOf(e)&&$t(e,t)}n.set(e,null)}}var pt,gt,mt,vt=!1,yt=[],_t=null,bt=null,wt=null,St=new Map,Et=new Map,It=[],Ct="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ot="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Tt(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function At(e,t){switch(e){case"focus":case"blur":_t=null;break;case"dragenter":case"dragleave":bt=null;break;case"mouseover":case"mouseout":wt=null;break;case"pointerover":case"pointerout":St.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(t.pointerId)}}function Nt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=Tt(t,n,r,i,a),null!==t&&null!==(t=Rn(t))&&gt(t),e):(e.eventSystemFlags|=r,e)}function Mt(e){var t=Dn(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,(function(){mt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;var t=Yt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Rn(t);return null!==n&&gt(n),e.blockedOn=t,!1}return!0}function Rt(e,t,n){Dt(e)&&n.delete(t)}function Lt(){for(vt=!1;0<yt.length;){var e=yt[0];if(null!==e.blockedOn){null!==(e=Rn(e.blockedOn))&&pt(e);break}var t=Yt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:yt.shift()}null!==_t&&Dt(_t)&&(_t=null),null!==bt&&Dt(bt)&&(bt=null),null!==wt&&Dt(wt)&&(wt=null),St.forEach(Rt),Et.forEach(Rt)}function kt(e,t){e.blockedOn===t&&(e.blockedOn=null,vt||(vt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Lt)))}function xt(e){function t(t){return kt(t,e)}if(0<yt.length){kt(yt[0],e);for(var n=1;n<yt.length;n++){var r=yt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&kt(_t,e),null!==bt&&kt(bt,e),null!==wt&&kt(wt,e),St.forEach(t),Et.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Mt(n),null===n.blockedOn&&It.shift()}var Ft={},Pt=new Map,jt=new Map,Ut=["abort","abort",Ge,"animationEnd",$e,"animationIteration",Ke,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Qe,"transitionEnd","waiting","waiting"];function Bt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[r],eventPriority:t},jt.set(r,t),Pt.set(r,a),Ft[i]=a}}Bt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Bt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Bt(Ut,2);for(var Vt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Wt=0;Wt<Vt.length;Wt++)jt.set(Vt[Wt],0);var zt=a.unstable_UserBlockingPriority,Ht=a.unstable_runWithPriority,Gt=!0;function $t(e,t){Kt(t,e,!1)}function Kt(e,t,n){var r=jt.get(t);switch(void 0===r?2:r){case 0:r=Qt.bind(null,t,1,e);break;case 1:r=qt.bind(null,t,1,e);break;default:r=Zt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Qt(e,t,n,r){j||F();var i=Zt,a=j;j=!0;try{x(i,e,t,n,r)}finally{(j=a)||B()}}function qt(e,t,n,r){Ht(zt,Zt.bind(null,e,t,n,r))}function Zt(e,t,n,r){if(Gt)if(0<yt.length&&-1<Ct.indexOf(e))e=Tt(null,e,t,n,r),yt.push(e);else{var i=Yt(e,t,n,r);if(null===i)At(e,r);else if(-1<Ct.indexOf(e))e=Tt(i,e,t,n,r),yt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return _t=Nt(_t,e,t,n,r,i),!0;case"dragenter":return bt=Nt(bt,e,t,n,r,i),!0;case"mouseover":return wt=Nt(wt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return St.set(a,Nt(St.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Et.set(a,Nt(Et.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){At(e,r),e=dt(e,r,null,t);try{V(ht,e)}finally{ut(e)}}}}function Yt(e,t,n,r){if(null!==(n=Dn(n=st(r)))){var i=Xe(n);if(null===i)n=null;else{var a=i.tag;if(13===a){if(null!==(n=Je(i)))return n;n=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=dt(e,r,n,t);try{V(ht,e)}finally{ut(e)}return null}var Xt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jt=["Webkit","ms","Moz","O"];function en(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Xt.hasOwnProperty(e)&&Xt[e]?(""+t).trim():t+"px"}function tn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=en(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Xt).forEach((function(e){Jt.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xt[t]=Xt[e]}))}));var nn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rn(e,t){if(t){if(nn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var on="http://www.w3.org/1999/xhtml";function sn(e,t){var n=Ye(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=C[t];for(var r=0;r<t.length;r++)ft(t[r],e,n)}function cn(){}function ln(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function un(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var n,r=un(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=un(r)}}function hn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fn(){for(var e=window,t=ln();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ln((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gn="$",mn="/$",vn="$?",yn="$!",_n=null,bn=null;function wn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Sn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var En="function"===typeof setTimeout?setTimeout:void 0,In="function"===typeof clearTimeout?clearTimeout:void 0;function Cn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function On(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===gn||n===yn||n===vn){if(0===t)return e;t--}else n===mn&&t++}e=e.previousSibling}return null}var Tn=Math.random().toString(36).slice(2),An="__reactInternalInstance$"+Tn,Nn="__reactEventHandlers$"+Tn,Mn="__reactContainere$"+Tn;function Dn(e){var t=e[An];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mn]||n[An]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=On(e);null!==e;){if(n=e[An])return n;e=On(e)}return t}n=(e=n).parentNode}return null}function Rn(e){return!(e=e[An]||e[Mn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ln(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function kn(e){return e[Nn]||null}function xn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Fn(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}function Pn(e,t,n){(t=Fn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=nt(n._dispatchListeners,t),n._dispatchInstances=nt(n._dispatchInstances,e))}function jn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=xn(t);for(t=n.length;0<t--;)Pn(n[t],"captured",e);for(t=0;t<n.length;t++)Pn(n[t],"bubbled",e)}}function Un(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Fn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=nt(n._dispatchListeners,t),n._dispatchInstances=nt(n._dispatchInstances,e))}function Bn(e){e&&e.dispatchConfig.registrationName&&Un(e._targetInst,null,e)}function Vn(e){rt(e,jn)}var Wn=null,zn=null,Hn=null;function Gn(){if(Hn)return Hn;var e,t,n=zn,r=n.length,i="value"in Wn?Wn.value:Wn.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Hn=i.slice(e,1<t?1-t:void 0)}function $n(){return!0}function Kn(){return!1}function Qn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?$n:Kn,this.isPropagationStopped=Kn,this}function qn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Zn(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Yn(e){e.eventPool=[],e.getPooled=qn,e.release=Zn}i(Qn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){this.isPersistent=$n},isPersistent:Kn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Kn,this._dispatchInstances=this._dispatchListeners=null}}),Qn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Qn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return i(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Yn(n),n},Yn(Qn);var Xn=Qn.extend({data:null}),Jn=Qn.extend({data:null}),er=[9,13,27,32],tr=T&&"CompositionEvent"in window,nr=null;T&&"documentMode"in document&&(nr=document.documentMode);var rr=T&&"TextEvent"in window&&!nr,ir=T&&(!tr||nr&&8<nr&&11>=nr),ar=String.fromCharCode(32),or={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},sr=!1;function cr(e,t){switch(e){case"keyup":return-1!==er.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function lr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var ur=!1,dr={eventTypes:or,extractEvents:function(e,t,n,r){var i;if(tr)e:{switch(e){case"compositionstart":var a=or.compositionStart;break e;case"compositionend":a=or.compositionEnd;break e;case"compositionupdate":a=or.compositionUpdate;break e}a=void 0}else ur?cr(e,n)&&(a=or.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=or.compositionStart);return a?(ir&&"ko"!==n.locale&&(ur||a!==or.compositionStart?a===or.compositionEnd&&ur&&(i=Gn()):(zn="value"in(Wn=r)?Wn.value:Wn.textContent,ur=!0)),a=Xn.getPooled(a,t,n,r),(i||null!==(i=lr(n)))&&(a.data=i),Vn(a),i=a):i=null,(e=rr?function(e,t){switch(e){case"compositionend":return lr(t);case"keypress":return 32!==t.which?null:(sr=!0,ar);case"textInput":return(e=t.data)===ar&&sr?null:e;default:return null}}(e,n):function(e,t){if(ur)return"compositionend"===e||!tr&&cr(e,t)?(e=Gn(),Hn=zn=Wn=null,ur=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ir&&"ko"!==t.locale?null:t.data}}(e,n))?((t=Jn.getPooled(or.beforeInput,t,n,r)).data=e,Vn(t)):t=null,null===i?t:null===t?i:[i,t]}},hr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!hr[e.type]:"textarea"===t}var pr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function gr(e,t,n){return(e=Qn.getPooled(pr.change,e,t,n)).type="change",R(n),Vn(e),e}var mr=null,vr=null;function yr(e){ot(e)}function _r(e){if(we(Ln(e)))return e}function br(e,t){if("change"===e)return t}var wr=!1;function Sr(){mr&&(mr.detachEvent("onpropertychange",Er),vr=mr=null)}function Er(e){if("value"===e.propertyName&&_r(vr))if(e=gr(vr,e,st(e)),j)ot(e);else{j=!0;try{k(yr,e)}finally{j=!1,B()}}}function Ir(e,t,n){"focus"===e?(Sr(),vr=n,(mr=t).attachEvent("onpropertychange",Er)):"blur"===e&&Sr()}function Cr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return _r(vr)}function Or(e,t){if("click"===e)return _r(t)}function Tr(e,t){if("input"===e||"change"===e)return _r(t)}T&&(wr=ct("input")&&(!document.documentMode||9<document.documentMode));var Ar={eventTypes:pr,_isInputEventSupported:wr,extractEvents:function(e,t,n,r){var i=t?Ln(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=br;else if(fr(i))if(wr)o=Tr;else{o=Cr;var s=Ir}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Or);if(o&&(o=o(e,t)))return gr(o,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Te(i,"number",i.value)}},Nr=Qn.extend({view:null,detail:null}),Mr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Mr[e])&&!!t[e]}function Rr(){return Dr}var Lr=0,kr=0,xr=!1,Fr=!1,Pr=Nr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Rr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Lr;return Lr=e.screenX,xr?"mousemove"===e.type?e.screenX-t:0:(xr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=kr;return kr=e.screenY,Fr?"mousemove"===e.type?e.screenY-t:0:(Fr=!0,0)}}),jr=Pr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ur={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Br={eventTypes:Ur,extractEvents:function(e,t,n,r,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;if(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,o?(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?Dn(t):null)&&(t!==Xe(t)||5!==t.tag&&6!==t.tag)&&(t=null)):o=null,o===t)return null;if("mouseout"===e||"mouseover"===e)var s=Pr,c=Ur.mouseLeave,l=Ur.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=jr,c=Ur.pointerLeave,l=Ur.pointerEnter,u="pointer");if(e=null==o?a:Ln(o),a=null==t?a:Ln(t),(c=s.getPooled(c,o,n,r)).type=u+"leave",c.target=e,c.relatedTarget=a,(n=s.getPooled(l,t,n,r)).type=u+"enter",n.target=a,n.relatedTarget=e,u=t,(r=o)&&u)e:{for(l=u,o=0,e=s=r;e;e=xn(e))o++;for(e=0,t=l;t;t=xn(t))e++;for(;0<o-e;)s=xn(s),o--;for(;0<e-o;)l=xn(l),e--;for(;o--;){if(s===l||s===l.alternate)break e;s=xn(s),l=xn(l)}s=null}else s=null;for(l=s,s=[];r&&r!==l&&(null===(o=r.alternate)||o!==l);)s.push(r),r=xn(r);for(r=[];u&&u!==l&&(null===(o=u.alternate)||o!==l);)r.push(u),u=xn(u);for(u=0;u<s.length;u++)Un(s[u],"bubbled",c);for(u=r.length;0<u--;)Un(r[u],"captured",n);return 0===(64&i)?[c]:[c,n]}},Vr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Wr=Object.prototype.hasOwnProperty;function zr(e,t){if(Vr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Wr.call(t,n[r])||!Vr(e[n[r]],t[n[r]]))return!1;return!0}var Hr=T&&"documentMode"in document&&11>=document.documentMode,Gr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},$r=null,Kr=null,Qr=null,qr=!1;function Zr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return qr||null==$r||$r!==ln(n)?null:(n="selectionStart"in(n=$r)&&pn(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Qr&&zr(Qr,n)?null:(Qr=n,(e=Qn.getPooled(Gr.select,Kr,e,t)).type="select",e.target=$r,Vn(e),e))}var Yr={eventTypes:Gr,extractEvents:function(e,t,n,r,i,a){if(!(a=!(i=a||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Ye(i),a=C.onSelect;for(var o=0;o<a.length;o++)if(!i.has(a[o])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?Ln(t):window,e){case"focus":(fr(i)||"true"===i.contentEditable)&&($r=i,Kr=t,Qr=null);break;case"blur":Qr=Kr=$r=null;break;case"mousedown":qr=!0;break;case"contextmenu":case"mouseup":case"dragend":return qr=!1,Zr(n,r);case"selectionchange":if(Hr)break;case"keydown":case"keyup":return Zr(n,r)}return null}},Xr=Qn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Jr=Qn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ei=Nr.extend({relatedTarget:null});function ti(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ni={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ri={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ii=Nr.extend({key:function(e){if(e.key){var t=ni[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ti(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ri[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Rr,charCode:function(e){return"keypress"===e.type?ti(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ti(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ai=Pr.extend({dataTransfer:null}),oi=Nr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Rr}),si=Qn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ci=Pr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),li={eventTypes:Ft,extractEvents:function(e,t,n,r){var i=Pt.get(e);if(!i)return null;switch(e){case"keypress":if(0===ti(n))return null;case"keydown":case"keyup":e=ii;break;case"blur":case"focus":e=ei;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ai;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=oi;break;case Ge:case $e:case Ke:e=Xr;break;case Qe:e=si;break;case"scroll":e=Nr;break;case"wheel":e=ci;break;case"copy":case"cut":case"paste":e=Jr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=jr;break;default:e=Qn}return Vn(t=e.getPooled(i,t,n,r)),t}};if(y)throw Error(o(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),b(),p=kn,g=Rn,m=Ln,O({SimpleEventPlugin:li,EnterLeaveEventPlugin:Br,ChangeEventPlugin:Ar,SelectEventPlugin:Yr,BeforeInputEventPlugin:dr});var ui=[],di=-1;function hi(e){0>di||(e.current=ui[di],ui[di]=null,di--)}function fi(e,t){di++,ui[di]=e.current,e.current=t}var pi={},gi={current:pi},mi={current:!1},vi=pi;function yi(e,t){var n=e.type.contextTypes;if(!n)return pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function _i(e){return null!==(e=e.childContextTypes)&&void 0!==e}function bi(){hi(mi),hi(gi)}function wi(e,t,n){if(gi.current!==pi)throw Error(o(168));fi(gi,t),fi(mi,n)}function Si(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,me(t)||"Unknown",a));return i({},n,{},r)}function Ei(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pi,vi=gi.current,fi(gi,e),fi(mi,mi.current),!0}function Ii(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Si(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,hi(mi),hi(gi),fi(gi,e)):hi(mi),fi(mi,n)}var Ci=a.unstable_runWithPriority,Oi=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ai=a.unstable_requestPaint,Ni=a.unstable_now,Mi=a.unstable_getCurrentPriorityLevel,Di=a.unstable_ImmediatePriority,Ri=a.unstable_UserBlockingPriority,Li=a.unstable_NormalPriority,ki=a.unstable_LowPriority,xi=a.unstable_IdlePriority,Fi={},Pi=a.unstable_shouldYield,ji=void 0!==Ai?Ai:function(){},Ui=null,Bi=null,Vi=!1,Wi=Ni(),zi=1e4>Wi?Ni:function(){return Ni()-Wi};function Hi(){switch(Mi()){case Di:return 99;case Ri:return 98;case Li:return 97;case ki:return 96;case xi:return 95;default:throw Error(o(332))}}function Gi(e){switch(e){case 99:return Di;case 98:return Ri;case 97:return Li;case 96:return ki;case 95:return xi;default:throw Error(o(332))}}function $i(e,t){return e=Gi(e),Ci(e,t)}function Ki(e,t,n){return e=Gi(e),Oi(e,t,n)}function Qi(e){return null===Ui?(Ui=[e],Bi=Oi(Di,Zi)):Ui.push(e),Fi}function qi(){if(null!==Bi){var e=Bi;Bi=null,Ti(e)}Zi()}function Zi(){if(!Vi&&null!==Ui){Vi=!0;var e=0;try{var t=Ui;$i(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Oi(Di,qi),n}finally{Vi=!1}}}function Yi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Xi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Ji={current:null},ea=null,ta=null,na=null;function ra(){na=ta=ea=null}function ia(e){var t=Ji.current;hi(Ji),e.type._context._currentValue=t}function aa(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function oa(e,t){ea=e,na=ta=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(ko=!0),e.firstContext=null)}function sa(e,t){if(na!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(na=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ta){if(null===ea)throw Error(o(308));ta=t,ea.dependencies={expirationTime:0,firstContext:t,responders:null}}else ta=ta.next=t;return e._currentValue}var ca=!1;function la(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ua(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function da(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function ha(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fa(e,t){var n=e.alternate;null!==n&&ua(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function pa(e,t,n,r){var a=e.updateQueue;ca=!1;var o=a.baseQueue,s=a.shared.pending;if(null!==s){if(null!==o){var c=o.next;o.next=s.next,s.next=c}o=s,a.shared.pending=null,null!==(c=e.alternate)&&null!==(c=c.updateQueue)&&(c.baseQueue=s)}if(null!==o){c=o.next;var l=a.baseState,u=0,d=null,h=null,f=null;if(null!==c)for(var p=c;;){if((s=p.expirationTime)<r){var g={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===f?(h=f=g,d=l):f=f.next=g,s>u&&(u=s)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),bc(s,p.suspenseConfig);e:{var m=e,v=p;switch(s=t,g=n,v.tag){case 1:if("function"===typeof(m=v.payload)){l=m.call(g,l,s);break e}l=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null===(s="function"===typeof(m=v.payload)?m.call(g,l,s):m)||void 0===s)break e;l=i({},l,s);break e;case 2:ca=!0}}null!==p.callback&&(e.effectTag|=32,null===(s=a.effects)?a.effects=[p]:s.push(p))}if(null===(p=p.next)||p===c){if(null===(s=a.shared.pending))break;p=o.next=s.next,s.next=c,a.baseQueue=o=s,a.shared.pending=null}}null===f?d=l:f.next=h,a.baseState=d,a.baseQueue=f,wc(u),e.expirationTime=u,e.memoizedState=l}}function ga(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var ma=Z.ReactCurrentBatchConfig,va=(new r.Component).refs;function ya(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var _a={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=sc(),i=ma.suspense;(i=da(r=cc(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),ha(e,i),lc(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=sc(),i=ma.suspense;(i=da(r=cc(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),ha(e,i),lc(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=sc(),r=ma.suspense;(r=da(n=cc(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),ha(e,r),lc(e,n)}};function ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||!zr(n,r)||!zr(i,a)}function wa(e,t,n){var r=!1,i=pi,a=t.contextType;return"object"===typeof a&&null!==a?a=sa(a):(i=_i(t)?vi:gi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):pi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=_a,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Sa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&_a.enqueueReplaceState(t,t.state,null)}function Ea(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,la(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=sa(a):(a=_i(t)?vi:gi.current,i.context=yi(e,a)),pa(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ya(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&_a.enqueueReplaceState(i,i.state,null),pa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Ia=Array.isArray;function Ca(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Oa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ta(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Vc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Hc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ca(e,t,n),r.return=e,r):((r=Wc(n.type,n.key,n.props,null,e.mode,r)).ref=Ca(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=zc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Hc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Wc(t.type,t.key,t.props,null,e.mode,n)).ref=Ca(e,null,t),n.return=e,n;case te:return(t=Gc(t,e.mode,n)).return=e,t}if(Ia(t)||ge(t))return(t=zc(t,e.mode,n,null)).return=e,t;Oa(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?d(e,t,n.props.children,r,i):l(e,t,n,r):null;case te:return n.key===i?u(e,t,n,r):null}if(Ia(n)||ge(n))return null!==i?null:d(e,t,n,r,null);Oa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?d(t,e,r.props.children,i,r.key):l(t,e,r,i);case te:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Ia(r)||ge(r))return d(t,e=e.get(n)||null,r,i,null);Oa(t,r)}return null}function g(i,o,s,c){for(var l=null,u=null,d=o,g=o=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=f(i,d,s[g],c);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,g),null===u?l=v:u.sibling=v,u=v,d=m}if(g===s.length)return n(i,d),l;if(null===d){for(;g<s.length;g++)null!==(d=h(i,s[g],c))&&(o=a(d,o,g),null===u?l=d:u.sibling=d,u=d);return l}for(d=r(i,d);g<s.length;g++)null!==(m=p(d,i,g,s[g],c))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=a(m,o,g),null===u?l=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(i,e)})),l}function m(i,s,c,l){var u=ge(c);if("function"!==typeof u)throw Error(o(150));if(null==(c=u.call(c)))throw Error(o(151));for(var d=u=null,g=s,m=s=0,v=null,y=c.next();null!==g&&!y.done;m++,y=c.next()){g.index>m?(v=g,g=null):v=g.sibling;var _=f(i,g,y.value,l);if(null===_){null===g&&(g=v);break}e&&g&&null===_.alternate&&t(i,g),s=a(_,s,m),null===d?u=_:d.sibling=_,d=_,g=v}if(y.done)return n(i,g),u;if(null===g){for(;!y.done;m++,y=c.next())null!==(y=h(i,y.value,l))&&(s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return u}for(g=r(i,g);!y.done;m++,y=c.next())null!==(y=p(g,i,m,y.value,l))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(i,e)})),u}return function(e,r,a,c){var l="object"===typeof a&&null!==a&&a.type===ne&&null===a.key;l&&(a=a.props.children);var u="object"===typeof a&&null!==a;if(u)switch(a.$$typeof){case ee:e:{for(u=a.key,l=r;null!==l;){if(l.key===u){if(7===l.tag){if(a.type===ne){n(e,l.sibling),(r=i(l,a.props.children)).return=e,e=r;break e}}else if(l.elementType===a.type){n(e,l.sibling),(r=i(l,a.props)).ref=Ca(e,l,a),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}a.type===ne?((r=zc(a.props.children,e.mode,c,a.key)).return=e,e=r):((c=Wc(a.type,a.key,a.props,null,e.mode,c)).ref=Ca(e,r,a),c.return=e,e=c)}return s(e);case te:e:{for(l=a.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Gc(a,e.mode,c)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Hc(a,e.mode,c)).return=e,e=r),s(e);if(Ia(a))return g(e,r,a,c);if(ge(a))return m(e,r,a,c);if(u&&Oa(e,a),"undefined"===typeof a&&!l)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Aa=Ta(!0),Na=Ta(!1),Ma={},Da={current:Ma},Ra={current:Ma},La={current:Ma};function ka(e){if(e===Ma)throw Error(o(174));return e}function xa(e,t){switch(fi(La,t),fi(Ra,e),fi(Da,Ma),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xe(null,"");break;default:t=xe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}hi(Da),fi(Da,t)}function Fa(){hi(Da),hi(Ra),hi(La)}function Pa(e){ka(La.current);var t=ka(Da.current),n=xe(t,e.type);t!==n&&(fi(Ra,e),fi(Da,n))}function ja(e){Ra.current===e&&(hi(Da),hi(Ra))}var Ua={current:0};function Ba(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===vn||n.data===yn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Va(e,t){return{responder:e,props:t}}var Wa=Z.ReactCurrentDispatcher,za=Z.ReactCurrentBatchConfig,Ha=0,Ga=null,$a=null,Ka=null,Qa=!1;function qa(){throw Error(o(321))}function Za(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vr(e[n],t[n]))return!1;return!0}function Ya(e,t,n,r,i,a){if(Ha=a,Ga=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Wa.current=null===e||null===e.memoizedState?wo:So,e=n(r,i),t.expirationTime===Ha){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(o(301));a+=1,Ka=$a=null,t.updateQueue=null,Wa.current=Eo,e=n(r,i)}while(t.expirationTime===Ha)}if(Wa.current=bo,t=null!==$a&&null!==$a.next,Ha=0,Ka=$a=Ga=null,Qa=!1,t)throw Error(o(300));return e}function Xa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ka?Ga.memoizedState=Ka=e:Ka=Ka.next=e,Ka}function Ja(){if(null===$a){var e=Ga.alternate;e=null!==e?e.memoizedState:null}else e=$a.next;var t=null===Ka?Ga.memoizedState:Ka.next;if(null!==t)Ka=t,$a=e;else{if(null===e)throw Error(o(310));e={memoizedState:($a=e).memoizedState,baseState:$a.baseState,baseQueue:$a.baseQueue,queue:$a.queue,next:null},null===Ka?Ga.memoizedState=Ka=e:Ka=Ka.next=e}return Ka}function eo(e,t){return"function"===typeof t?t(e):t}function to(e){var t=Ja(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=$a,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var c=s=a=null,l=i;do{var u=l.expirationTime;if(u<Ha){var d={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===c?(s=c=d,a=r):c=c.next=d,u>Ga.expirationTime&&(Ga.expirationTime=u,wc(u))}else null!==c&&(c=c.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),bc(u,l.suspenseConfig),r=l.eagerReducer===e?l.eagerState:e(r,l.action);l=l.next}while(null!==l&&l!==i);null===c?a=r:c.next=s,Vr(r,t.memoizedState)||(ko=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function no(e){var t=Ja(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Vr(a,t.memoizedState)||(ko=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ro(e){var t=Xa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:eo,lastRenderedState:e}).dispatch=_o.bind(null,Ga,e),[t.memoizedState,e]}function io(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ga.updateQueue)?(t={lastEffect:null},Ga.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ao(){return Ja().memoizedState}function oo(e,t,n,r){var i=Xa();Ga.effectTag|=e,i.memoizedState=io(1|t,n,void 0,void 0===r?null:r)}function so(e,t,n,r){var i=Ja();r=void 0===r?null:r;var a=void 0;if(null!==$a){var o=$a.memoizedState;if(a=o.destroy,null!==r&&Za(r,o.deps))return void io(t,n,a,r)}Ga.effectTag|=e,i.memoizedState=io(1|t,n,a,r)}function co(e,t){return oo(516,4,e,t)}function lo(e,t){return so(516,4,e,t)}function uo(e,t){return so(4,2,e,t)}function ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function fo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,so(4,2,ho.bind(null,t,e),n)}function po(){}function go(e,t){return Xa().memoizedState=[e,void 0===t?null:t],e}function mo(e,t){var n=Ja();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Za(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function vo(e,t){var n=Ja();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Za(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function yo(e,t,n){var r=Hi();$i(98>r?98:r,(function(){e(!0)})),$i(97<r?97:r,(function(){var r=za.suspense;za.suspense=void 0===t?null:t;try{e(!1),n()}finally{za.suspense=r}}))}function _o(e,t,n){var r=sc(),i=ma.suspense;i={expirationTime:r=cc(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===Ga||null!==a&&a===Ga)Qa=!0,i.expirationTime=Ha,Ga.expirationTime=Ha;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.eagerReducer=a,i.eagerState=s,Vr(s,o))return}catch(c){}lc(e,r)}}var bo={readContext:sa,useCallback:qa,useContext:qa,useEffect:qa,useImperativeHandle:qa,useLayoutEffect:qa,useMemo:qa,useReducer:qa,useRef:qa,useState:qa,useDebugValue:qa,useResponder:qa,useDeferredValue:qa,useTransition:qa},wo={readContext:sa,useCallback:go,useContext:sa,useEffect:co,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,oo(4,2,ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return oo(4,2,e,t)},useMemo:function(e,t){var n=Xa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=_o.bind(null,Ga,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Xa().memoizedState=e},useState:ro,useDebugValue:po,useResponder:Va,useDeferredValue:function(e,t){var n=ro(e),r=n[0],i=n[1];return co((function(){var n=za.suspense;za.suspense=void 0===t?null:t;try{i(e)}finally{za.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ro(!1),n=t[0];return t=t[1],[go(yo.bind(null,t,e),[t,e]),n]}},So={readContext:sa,useCallback:mo,useContext:sa,useEffect:lo,useImperativeHandle:fo,useLayoutEffect:uo,useMemo:vo,useReducer:to,useRef:ao,useState:function(){return to(eo)},useDebugValue:po,useResponder:Va,useDeferredValue:function(e,t){var n=to(eo),r=n[0],i=n[1];return lo((function(){var n=za.suspense;za.suspense=void 0===t?null:t;try{i(e)}finally{za.suspense=n}}),[e,t]),r},useTransition:function(e){var t=to(eo),n=t[0];return t=t[1],[mo(yo.bind(null,t,e),[t,e]),n]}},Eo={readContext:sa,useCallback:mo,useContext:sa,useEffect:lo,useImperativeHandle:fo,useLayoutEffect:uo,useMemo:vo,useReducer:no,useRef:ao,useState:function(){return no(eo)},useDebugValue:po,useResponder:Va,useDeferredValue:function(e,t){var n=no(eo),r=n[0],i=n[1];return lo((function(){var n=za.suspense;za.suspense=void 0===t?null:t;try{i(e)}finally{za.suspense=n}}),[e,t]),r},useTransition:function(e){var t=no(eo),n=t[0];return t=t[1],[mo(yo.bind(null,t,e),[t,e]),n]}},Io=null,Co=null,Oo=!1;function To(e,t){var n=Uc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function No(e){if(Oo){var t=Co;if(t){var n=t;if(!Ao(e,t)){if(!(t=Cn(n.nextSibling))||!Ao(e,t))return e.effectTag=-1025&e.effectTag|2,Oo=!1,void(Io=e);To(Io,n)}Io=e,Co=Cn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Oo=!1,Io=e}}function Mo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Io=e}function Do(e){if(e!==Io)return!1;if(!Oo)return Mo(e),Oo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Sn(t,e.memoizedProps))for(t=Co;t;)To(e,t),t=Cn(t.nextSibling);if(Mo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===mn){if(0===t){Co=Cn(e.nextSibling);break e}t--}else n!==gn&&n!==yn&&n!==vn||t++}e=e.nextSibling}Co=null}}else Co=Io?Cn(e.stateNode.nextSibling):null;return!0}function Ro(){Co=Io=null,Oo=!1}var Lo=Z.ReactCurrentOwner,ko=!1;function xo(e,t,n,r){t.child=null===e?Na(t,null,n,r):Aa(t,e.child,n,r)}function Fo(e,t,n,r,i){n=n.render;var a=t.ref;return oa(t,i),r=Ya(e,t,n,r,a,i),null===e||ko?(t.effectTag|=1,xo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Jo(e,t,i))}function Po(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Bc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Wc(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,jo(e,t,o,r,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:zr)(i,r)&&e.ref===t.ref)?Jo(e,t,a):(t.effectTag|=1,(e=Vc(o,r)).ref=t.ref,e.return=t,t.child=e)}function jo(e,t,n,r,i,a){return null!==e&&zr(e.memoizedProps,r)&&e.ref===t.ref&&(ko=!1,i<a)?(t.expirationTime=e.expirationTime,Jo(e,t,a)):Bo(e,t,n,r,a)}function Uo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Bo(e,t,n,r,i){var a=_i(n)?vi:gi.current;return a=yi(t,a),oa(t,i),n=Ya(e,t,n,r,a,i),null===e||ko?(t.effectTag|=1,xo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Jo(e,t,i))}function Vo(e,t,n,r,i){if(_i(n)){var a=!0;Ei(t)}else a=!1;if(oa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),wa(t,n,r),Ea(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var c=o.context,l=n.contextType;l="object"===typeof l&&null!==l?sa(l):yi(t,l=_i(n)?vi:gi.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||c!==l)&&Sa(t,o,r,l),ca=!1;var h=t.memoizedState;o.state=h,pa(t,r,o,i),c=t.memoizedState,s!==r||h!==c||mi.current||ca?("function"===typeof u&&(ya(t,n,u,r),c=t.memoizedState),(s=ca||ba(t,n,s,r,h,c,l))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,ua(e,t),s=t.memoizedProps,o.props=t.type===t.elementType?s:Xi(t.type,s),c=o.context,l="object"===typeof(l=n.contextType)&&null!==l?sa(l):yi(t,l=_i(n)?vi:gi.current),(d="function"===typeof(u=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||c!==l)&&Sa(t,o,r,l),ca=!1,c=t.memoizedState,o.state=c,pa(t,r,o,i),h=t.memoizedState,s!==r||c!==h||mi.current||ca?("function"===typeof u&&(ya(t,n,u,r),h=t.memoizedState),(u=ca||ba(t,n,s,r,c,h,l))?(d||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),r=!1);return Wo(e,t,n,r,a,i)}function Wo(e,t,n,r,i,a){Uo(e,t);var o=0!==(64&t.effectTag);if(!r&&!o)return i&&Ii(t,n,!1),Jo(e,t,a);r=t.stateNode,Lo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=Aa(t,e.child,null,a),t.child=Aa(t,null,s,a)):xo(e,t,s,a),t.memoizedState=r.state,i&&Ii(t,n,!0),t.child}function zo(e){var t=e.stateNode;t.pendingContext?wi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&wi(0,t.context,!1),xa(e,t.containerInfo)}var Ho,Go,$o,Ko,Qo={dehydrated:null,retryTime:0};function qo(e,t,n){var r,i=t.mode,a=t.pendingProps,o=Ua.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&o)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),fi(Ua,1&o),null===e){if(void 0!==a.fallback&&No(t),s){if(s=a.fallback,(a=zc(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=zc(s,i,n,null)).return=t,a.sibling=n,t.memoizedState=Qo,t.child=a,n}return i=a.children,t.memoizedState=null,t.child=Na(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(a=a.fallback,(n=Vc(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Vc(i,a)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Qo,t.child=n,i}return n=Aa(t,e.child,a.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=a.fallback,(a=zc(null,i,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=zc(s,i,n,null)).return=t,a.sibling=n,n.effectTag|=2,a.childExpirationTime=0,t.memoizedState=Qo,t.child=a,n}return t.memoizedState=null,t.child=Aa(t,e,a.children,n)}function Zo(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),aa(e.return,t)}function Yo(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function Xo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xo(e,t,r.children,n),0!==(2&(r=Ua.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zo(e,n);else if(19===e.tag)Zo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Ua,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ba(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Yo(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ba(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Yo(t,!0,n,null,a,t.lastEffect);break;case"together":Yo(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Jo(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&wc(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Vc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function es(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ts(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return _i(t.type)&&bi(),null;case 3:return Fa(),hi(mi),hi(gi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Do(t)||(t.effectTag|=4),Go(t),null;case 5:ja(t),n=ka(La.current);var a=t.type;if(null!==e&&null!=t.stateNode)$o(e,t,a,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=ka(Da.current),Do(t)){r=t.stateNode,a=t.type;var s=t.memoizedProps;switch(r[An]=t,r[Nn]=s,a){case"iframe":case"object":case"embed":$t("load",r);break;case"video":case"audio":for(e=0;e<qe.length;e++)$t(qe[e],r);break;case"source":$t("error",r);break;case"img":case"image":case"link":$t("error",r),$t("load",r);break;case"form":$t("reset",r),$t("submit",r);break;case"details":$t("toggle",r);break;case"input":Ee(r,s),$t("invalid",r),sn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$t("invalid",r),sn(n,"onChange");break;case"textarea":De(r,s),$t("invalid",r),sn(n,"onChange")}for(var c in rn(a,s),e=null,s)if(s.hasOwnProperty(c)){var l=s[c];"children"===c?"string"===typeof l?r.textContent!==l&&(e=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(e=["children",""+l]):I.hasOwnProperty(c)&&null!=l&&sn(n,c)}switch(a){case"input":be(r),Oe(r,s,!0);break;case"textarea":be(r),Le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=cn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(c=9===n.nodeType?n:n.ownerDocument,e===on&&(e=ke(a)),e===on?"script"===a?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(a,{is:r.is}):(e=c.createElement(a),"select"===a&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,a),e[An]=t,e[Nn]=r,Ho(e,t,!1,!1),t.stateNode=e,c=an(a,r),a){case"iframe":case"object":case"embed":$t("load",e),l=r;break;case"video":case"audio":for(l=0;l<qe.length;l++)$t(qe[l],e);l=r;break;case"source":$t("error",e),l=r;break;case"img":case"image":case"link":$t("error",e),$t("load",e),l=r;break;case"form":$t("reset",e),$t("submit",e),l=r;break;case"details":$t("toggle",e),l=r;break;case"input":Ee(e,r),l=Se(e,r),$t("invalid",e),sn(n,"onChange");break;case"option":l=Ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=i({},r,{value:void 0}),$t("invalid",e),sn(n,"onChange");break;case"textarea":De(e,r),l=Me(e,r),$t("invalid",e),sn(n,"onChange");break;default:l=r}rn(a,l);var u=l;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];"style"===s?tn(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&je(e,d):"children"===s?"string"===typeof d?("textarea"!==a||""!==d)&&Ue(e,d):"number"===typeof d&&Ue(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(I.hasOwnProperty(s)?null!=d&&sn(n,s):null!=d&&Y(e,s,d,c))}switch(a){case"input":be(e),Oe(e,r,!1);break;case"textarea":be(e),Le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ye(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ne(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof l.onClick&&(e.onclick=cn)}wn(a,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Ko(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=ka(La.current),ka(Da.current),Do(t)?(n=t.stateNode,r=t.memoizedProps,n[An]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[An]=t,t.stateNode=n)}return null;case 13:return hi(Ua),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Do(t):(r=null!==(a=e.memoizedState),n||null===a||null!==(a=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=a,a.nextEffect=s):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ua.current)?Vs===Ds&&(Vs=ks):(Vs!==Ds&&Vs!==ks||(Vs=xs),0!==$s&&null!==js&&(Qc(js,Bs),qc(js,$s)))),(n||r)&&(t.effectTag|=4),null);case 4:return Fa(),Go(t),null;case 10:return ia(t),null;case 19:if(hi(Ua),null===(r=t.memoizedState))return null;if(a=0!==(64&t.effectTag),null===(s=r.rendering)){if(a)es(r,!1);else if(Vs!==Ds||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Ba(s))){for(t.effectTag|=64,es(r,!1),null!==(a=e.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(a=r).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(e=a.alternate)?(a.childExpirationTime=0,a.expirationTime=s,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return fi(Ua,1&Ua.current|2),t.child}s=s.sibling}}else{if(!a)if(null!==(e=Ba(s))){if(t.effectTag|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),es(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,a=!0,es(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=zi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Ua.current,fi(Ua,a?1&t|2:1&t),n):null}throw Error(o(156,t.tag))}function ns(e){switch(e.tag){case 1:_i(e.type)&&bi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Fa(),hi(mi),hi(gi),0!==(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return ja(e),null;case 13:return hi(Ua),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return hi(Ua),null;case 4:return Fa(),null;case 10:return ia(e),null;default:return null}}function rs(e,t){return{value:e,source:t,stack:ve(t)}}Ho=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Go=function(){},$o=function(e,t,n,r,a){var o=e.memoizedProps;if(o!==r){var s,c,l=t.stateNode;switch(ka(Da.current),e=null,n){case"input":o=Se(l,o),r=Se(l,r),e=[];break;case"option":o=Ae(l,o),r=Ae(l,r),e=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":o=Me(l,o),r=Me(l,r),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(l.onclick=cn)}for(s in rn(n,r),n=null,o)if(!r.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(c in l=o[s])l.hasOwnProperty(c)&&(n||(n={}),n[c]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(I.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var u=r[s];if(l=null!=o?o[s]:void 0,r.hasOwnProperty(s)&&u!==l&&(null!=u||null!=l))if("style"===s)if(l){for(c in l)!l.hasOwnProperty(c)||u&&u.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in u)u.hasOwnProperty(c)&&l[c]!==u[c]&&(n||(n={}),n[c]=u[c])}else n||(e||(e=[]),e.push(s,n)),n=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(e=e||[]).push(s,u)):"children"===s?l===u||"string"!==typeof u&&"number"!==typeof u||(e=e||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(I.hasOwnProperty(s)?(null!=u&&sn(a,s),e||l===u||(e=[])):(e=e||[]).push(s,u))}n&&(e=e||[]).push("style",n),a=e,(t.updateQueue=a)&&(t.effectTag|=4)}},Ko=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var is="function"===typeof WeakSet?WeakSet:Set;function as(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ve(n)),null!==n&&me(n.type),t=t.value,null!==e&&1===e.tag&&me(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function os(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Lc(e,n)}else t.current=null}function ss(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return}throw Error(o(163))}function cs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function ls(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function us(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ls(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&ga(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}ga(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&wn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function ds(e,t,n){switch("function"===typeof Pc&&Pc(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;$i(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(a){Lc(i,a)}}e=e.next}while(e!==r)}))}break;case 1:os(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Lc(e,n)}}(t,n);break;case 5:os(t);break;case 4:vs(e,t,n)}}function hs(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&hs(t)}function fs(e){return 5===e.tag||3===e.tag||4===e.tag}function ps(e){e:{for(var t=e.return;null!==t;){if(fs(t)){var n=t;break e}t=t.return}throw Error(o(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.effectTag&&(Ue(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||fs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?gs(e,n,t):ms(e,n,t)}function gs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=cn));else if(4!==r&&null!==(e=e.child))for(gs(e,t,n),e=e.sibling;null!==e;)gs(e,t,n),e=e.sibling}function ms(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ms(e,t,n),e=e.sibling;null!==e;)ms(e,t,n),e=e.sibling}function vs(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var c=e,l=a,u=n,d=l;;)if(ds(c,d,u),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===l)break e;for(;null===d.sibling;){if(null===d.return||d.return===l)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i?(c=r,l=a.stateNode,8===c.nodeType?c.parentNode.removeChild(l):c.removeChild(l)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(ds(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function ys(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void cs(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Nn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Ie(n,r),an(e,i),t=an(e,r),i=0;i<a.length;i+=2){var s=a[i],c=a[i+1];"style"===s?tn(n,c):"dangerouslySetInnerHTML"===s?je(n,c):"children"===s?Ue(n,c):Y(n,s,c,t)}switch(e){case"input":Ce(n,r);break;case"textarea":Re(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ne(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ne(n,!!r.multiple,r.defaultValue,!0):Ne(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,xt(t.containerInfo)));case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Qs=zi()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,r?"function"===typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=en("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void _s(t);case 19:return void _s(t)}throw Error(o(163))}function _s(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new is),t.forEach((function(t){var r=xc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var bs="function"===typeof WeakMap?WeakMap:Map;function ws(e,t,n){(n=da(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Xs=r),as(e,t)},n}function Ss(e,t,n){(n=da(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return as(e,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),as(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Es,Is=Math.ceil,Cs=Z.ReactCurrentDispatcher,Os=Z.ReactCurrentOwner,Ts=0,As=8,Ns=16,Ms=32,Ds=0,Rs=1,Ls=2,ks=3,xs=4,Fs=5,Ps=Ts,js=null,Us=null,Bs=0,Vs=Ds,Ws=null,zs=1073741823,Hs=1073741823,Gs=null,$s=0,Ks=!1,Qs=0,qs=500,Zs=null,Ys=!1,Xs=null,Js=null,ec=!1,tc=null,nc=90,rc=null,ic=0,ac=null,oc=0;function sc(){return(Ps&(Ns|Ms))!==Ts?1073741821-(zi()/10|0):0!==oc?oc:oc=1073741821-(zi()/10|0)}function cc(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Hi();if(0===(4&t))return 99===r?1073741823:1073741822;if((Ps&Ns)!==Ts)return Bs;if(null!==n)e=Yi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Yi(e,150,100);break;case 97:case 96:e=Yi(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==js&&e===Bs&&--e,e}function lc(e,t){if(50<ic)throw ic=0,ac=null,Error(o(185));if(null!==(e=uc(e,t))){var n=Hi();1073741823===t?(Ps&As)!==Ts&&(Ps&(Ns|Ms))===Ts?pc(e):(hc(e),Ps===Ts&&qi()):hc(e),(4&Ps)===Ts||98!==n&&99!==n||(null===rc?rc=new Map([[e,t]]):(void 0===(n=rc.get(e))||n>t)&&rc.set(e,t))}}function uc(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(js===i&&(wc(t),Vs===xs&&Qc(i,Bs)),qc(i,t)),i}function dc(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Kc(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function hc(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Qi(pc.bind(null,e));else{var t=dc(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=sc();if(r=1073741823===t?99:1===t||2===t?95:0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Fi&&Ti(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Qi(pc.bind(null,e)):Ki(r,fc.bind(null,e),{timeout:10*(1073741821-t)-zi()}),e.callbackNode=t}}}function fc(e,t){if(oc=0,t)return Zc(e,t=sc()),hc(e),null;var n=dc(e);if(0!==n){if(t=e.callbackNode,(Ps&(Ns|Ms))!==Ts)throw Error(o(327));if(Mc(),e===js&&n===Bs||vc(e,n),null!==Us){var r=Ps;Ps|=Ns;for(var i=_c();;)try{Ec();break}catch(c){yc(e,c)}if(ra(),Ps=r,Cs.current=i,Vs===Rs)throw t=Ws,vc(e,n),Qc(e,n),hc(e),t;if(null===Us)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Vs,js=null,r){case Ds:case Rs:throw Error(o(345));case Ls:Zc(e,2<n?2:n);break;case ks:if(Qc(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Oc(i)),1073741823===zs&&10<(i=Qs+qs-zi())){if(Ks){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,vc(e,n);break}}if(0!==(a=dc(e))&&a!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=En(Tc.bind(null,e),i);break}Tc(e);break;case xs:if(Qc(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Oc(i)),Ks&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,vc(e,n);break}if(0!==(i=dc(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Hs?r=10*(1073741821-Hs)-zi():1073741823===zs?r=0:(r=10*(1073741821-zs)-5e3,0>(r=(i=zi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=En(Tc.bind(null,e),r);break}Tc(e);break;case Fs:if(1073741823!==zs&&null!==Gs){a=zs;var s=Gs;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(a=zi()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)))<=i?0:i+r-a),10<r){Qc(e,n),e.timeoutHandle=En(Tc.bind(null,e),r);break}}Tc(e);break;default:throw Error(o(329))}if(hc(e),e.callbackNode===t)return fc.bind(null,e)}}return null}function pc(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(Ps&(Ns|Ms))!==Ts)throw Error(o(327));if(Mc(),e===js&&t===Bs||vc(e,t),null!==Us){var n=Ps;Ps|=Ns;for(var r=_c();;)try{Sc();break}catch(i){yc(e,i)}if(ra(),Ps=n,Cs.current=r,Vs===Rs)throw n=Ws,vc(e,t),Qc(e,t),hc(e),n;if(null!==Us)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,js=null,Tc(e),hc(e)}return null}function gc(e,t){var n=Ps;Ps|=1;try{return e(t)}finally{(Ps=n)===Ts&&qi()}}function mc(e,t){var n=Ps;Ps&=-2,Ps|=As;try{return e(t)}finally{(Ps=n)===Ts&&qi()}}function vc(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,In(n)),null!==Us)for(n=Us.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&bi();break;case 3:Fa(),hi(mi),hi(gi);break;case 5:ja(r);break;case 4:Fa();break;case 13:case 19:hi(Ua);break;case 10:ia(r)}n=n.return}js=e,Us=Vc(e.current,null),Bs=t,Vs=Ds,Ws=null,Hs=zs=1073741823,Gs=null,$s=0,Ks=!1}function yc(e,t){for(;;){try{if(ra(),Wa.current=bo,Qa)for(var n=Ga.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Ha=0,Ka=$a=Ga=null,Qa=!1,null===Us||null===Us.return)return Vs=Rs,Ws=t,Us=null;e:{var i=e,a=Us.return,o=Us,s=t;if(t=Bs,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&o.mode)){var l=o.alternate;l?(o.updateQueue=l.updateQueue,o.memoizedState=l.memoizedState,o.expirationTime=l.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var u=0!==(1&Ua.current),d=a;do{var h;if(h=13===d.tag){var f=d.memoizedState;if(null!==f)h=null!==f.dehydrated;else{var p=d.memoizedProps;h=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!u)}}if(h){var g=d.updateQueue;if(null===g){var m=new Set;m.add(c),d.updateQueue=m}else g.add(c);if(0===(2&d.mode)){if(d.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var v=da(1073741823,null);v.tag=2,ha(o,v)}o.expirationTime=1073741823;break e}s=void 0,o=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new bs,s=new Set,y.set(c,s)):void 0===(s=y.get(c))&&(s=new Set,y.set(c,s)),!s.has(o)){s.add(o);var _=kc.bind(null,i,c,o);c.then(_,_)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);s=Error((me(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ve(o))}Vs!==Fs&&(Vs=Ls),s=rs(s,o),d=a;do{switch(d.tag){case 3:c=s,d.effectTag|=4096,d.expirationTime=t,fa(d,ws(d,c,t));break e;case 1:c=s;var b=d.type,w=d.stateNode;if(0===(64&d.effectTag)&&("function"===typeof b.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Js||!Js.has(w)))){d.effectTag|=4096,d.expirationTime=t,fa(d,Ss(d,c,t));break e}}d=d.return}while(null!==d)}Us=Cc(Us)}catch(S){t=S;continue}break}}function _c(){var e=Cs.current;return Cs.current=bo,null===e?bo:e}function bc(e,t){e<zs&&2<e&&(zs=e),null!==t&&e<Hs&&2<e&&(Hs=e,Gs=t)}function wc(e){e>$s&&($s=e)}function Sc(){for(;null!==Us;)Us=Ic(Us)}function Ec(){for(;null!==Us&&!Pi();)Us=Ic(Us)}function Ic(e){var t=Es(e.alternate,e,Bs);return e.memoizedProps=e.pendingProps,null===t&&(t=Cc(e)),Os.current=null,t}function Cc(e){Us=e;do{var t=Us.alternate;if(e=Us.return,0===(2048&Us.effectTag)){if(t=ts(t,Us,Bs),1===Bs||1!==Us.childExpirationTime){for(var n=0,r=Us.child;null!==r;){var i=r.expirationTime,a=r.childExpirationTime;i>n&&(n=i),a>n&&(n=a),r=r.sibling}Us.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Us.firstEffect),null!==Us.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Us.firstEffect),e.lastEffect=Us.lastEffect),1<Us.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Us:e.firstEffect=Us,e.lastEffect=Us))}else{if(null!==(t=ns(Us)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Us.sibling))return t;Us=e}while(null!==Us);return Vs===Ds&&(Vs=Fs),null}function Oc(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Tc(e){var t=Hi();return $i(99,Ac.bind(null,e,t)),null}function Ac(e,t){do{Mc()}while(null!==tc);if((Ps&(Ns|Ms))!==Ts)throw Error(o(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Oc(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===js&&(Us=js=null,Bs=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var a=Ps;Ps|=Ms,Os.current=null,_n=Gt;var s=fn();if(pn(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{var l=(c=(c=s.ownerDocument)&&c.defaultView||window).getSelection&&c.getSelection();if(l&&0!==l.rangeCount){c=l.anchorNode;var u=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{c.nodeType,d.nodeType}catch(O){c=null;break e}var h=0,f=-1,p=-1,g=0,m=0,v=s,y=null;t:for(;;){for(var _;v!==c||0!==u&&3!==v.nodeType||(f=h+u),v!==d||0!==l&&3!==v.nodeType||(p=h+l),3===v.nodeType&&(h+=v.nodeValue.length),null!==(_=v.firstChild);)y=v,v=_;for(;;){if(v===s)break t;if(y===c&&++g===u&&(f=h),y===d&&++m===l&&(p=h),null!==(_=v.nextSibling))break;y=(v=y).parentNode}v=_}c=-1===f||-1===p?null:{start:f,end:p}}else c=null}c=c||{start:0,end:0}}else c=null;bn={activeElementDetached:null,focusedElem:s,selectionRange:c},Gt=!1,Zs=i;do{try{Nc()}catch(O){if(null===Zs)throw Error(o(330));Lc(Zs,O),Zs=Zs.nextEffect}}while(null!==Zs);Zs=i;do{try{for(s=e,c=t;null!==Zs;){var b=Zs.effectTag;if(16&b&&Ue(Zs.stateNode,""),128&b){var w=Zs.alternate;if(null!==w){var S=w.ref;null!==S&&("function"===typeof S?S(null):S.current=null)}}switch(1038&b){case 2:ps(Zs),Zs.effectTag&=-3;break;case 6:ps(Zs),Zs.effectTag&=-3,ys(Zs.alternate,Zs);break;case 1024:Zs.effectTag&=-1025;break;case 1028:Zs.effectTag&=-1025,ys(Zs.alternate,Zs);break;case 4:ys(Zs.alternate,Zs);break;case 8:vs(s,u=Zs,c),hs(u)}Zs=Zs.nextEffect}}catch(O){if(null===Zs)throw Error(o(330));Lc(Zs,O),Zs=Zs.nextEffect}}while(null!==Zs);if(S=bn,w=fn(),b=S.focusedElem,c=S.selectionRange,w!==b&&b&&b.ownerDocument&&hn(b.ownerDocument.documentElement,b)){null!==c&&pn(b)&&(w=c.start,void 0===(S=c.end)&&(S=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(S,b.value.length)):(S=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(S=S.getSelection(),u=b.textContent.length,s=Math.min(c.start,u),c=void 0===c.end?s:Math.min(c.end,u),!S.extend&&s>c&&(u=c,c=s,s=u),u=dn(b,s),d=dn(b,c),u&&d&&(1!==S.rangeCount||S.anchorNode!==u.node||S.anchorOffset!==u.offset||S.focusNode!==d.node||S.focusOffset!==d.offset)&&((w=w.createRange()).setStart(u.node,u.offset),S.removeAllRanges(),s>c?(S.addRange(w),S.extend(d.node,d.offset)):(w.setEnd(d.node,d.offset),S.addRange(w))))),w=[];for(S=b;S=S.parentNode;)1===S.nodeType&&w.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(S=w[b]).element.scrollLeft=S.left,S.element.scrollTop=S.top}Gt=!!_n,bn=_n=null,e.current=n,Zs=i;do{try{for(b=e;null!==Zs;){var E=Zs.effectTag;if(36&E&&us(b,Zs.alternate,Zs),128&E){w=void 0;var I=Zs.ref;if(null!==I){var C=Zs.stateNode;Zs.tag,w=C,"function"===typeof I?I(w):I.current=w}}Zs=Zs.nextEffect}}catch(O){if(null===Zs)throw Error(o(330));Lc(Zs,O),Zs=Zs.nextEffect}}while(null!==Zs);Zs=null,ji(),Ps=a}else e.current=n;if(ec)ec=!1,tc=e,nc=t;else for(Zs=i;null!==Zs;)t=Zs.nextEffect,Zs.nextEffect=null,Zs=t;if(0===(t=e.firstPendingTime)&&(Js=null),1073741823===t?e===ac?ic++:(ic=0,ac=e):ic=0,"function"===typeof Fc&&Fc(n.stateNode,r),hc(e),Ys)throw Ys=!1,e=Xs,Xs=null,e;return(Ps&As)!==Ts||qi(),null}function Nc(){for(;null!==Zs;){var e=Zs.effectTag;0!==(256&e)&&ss(Zs.alternate,Zs),0===(512&e)||ec||(ec=!0,Ki(97,(function(){return Mc(),null}))),Zs=Zs.nextEffect}}function Mc(){if(90!==nc){var e=97<nc?97:nc;return nc=90,$i(e,Dc)}}function Dc(){if(null===tc)return!1;var e=tc;if(tc=null,(Ps&(Ns|Ms))!==Ts)throw Error(o(331));var t=Ps;for(Ps|=Ms,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:cs(5,n),ls(5,n)}}catch(r){if(null===e)throw Error(o(330));Lc(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Ps=t,qi(),!0}function Rc(e,t,n){ha(e,t=ws(e,t=rs(n,t),1073741823)),null!==(e=uc(e,1073741823))&&hc(e)}function Lc(e,t){if(3===e.tag)Rc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Rc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){ha(n,e=Ss(n,e=rs(t,e),1073741823)),null!==(n=uc(n,1073741823))&&hc(n);break}}n=n.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),js===e&&Bs===n?Vs===xs||Vs===ks&&1073741823===zs&&zi()-Qs<qs?vc(e,Bs):Ks=!0:Kc(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,hc(e)))}function xc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=cc(t=sc(),e,null)),null!==(e=uc(e,t))&&hc(e)}Es=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||mi.current)ko=!0;else{if(r<n){switch(ko=!1,t.tag){case 3:zo(t),Ro();break;case 5:if(Pa(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:_i(t.type)&&Ei(t);break;case 4:xa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?qo(e,t,n):(fi(Ua,1&Ua.current),null!==(t=Jo(e,t,n))?t.sibling:null);fi(Ua,1&Ua.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return Xo(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),fi(Ua,Ua.current),!r)return null}return Jo(e,t,n)}ko=!1}}else ko=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=yi(t,gi.current),oa(t,n),i=Ya(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,_i(r)){var a=!0;Ei(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,la(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ya(t,r,s,e),i.updater=_a,t.stateNode=i,i._reactInternalFiber=t,Ea(t,r,e,n),t=Wo(null,t,r,!0,a,n)}else t.tag=0,xo(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=function(e){if("function"===typeof e)return Bc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===ce)return 11;if(e===de)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Bo(null,t,i,e,n);break e;case 1:t=Vo(null,t,i,e,n);break e;case 11:t=Fo(null,t,i,e,n);break e;case 14:t=Po(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Bo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Vo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(zo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ua(e,t),pa(t,r,null,n),(r=t.memoizedState.element)===i)Ro(),t=Jo(e,t,n);else{if((i=t.stateNode.hydrate)&&(Co=Cn(t.stateNode.containerInfo.firstChild),Io=t,i=Oo=!0),i)for(n=Na(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else xo(e,t,r,n),Ro();t=t.child}return t;case 5:return Pa(t),null===e&&No(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Sn(r,i)?s=null:null!==a&&Sn(r,a)&&(t.effectTag|=16),Uo(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(xo(e,t,s,n),t=t.child),t;case 6:return null===e&&No(t),null;case 13:return qo(e,t,n);case 4:return xa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Aa(t,null,r,n):xo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var c=t.type._context;if(fi(Ji,c._currentValue),c._currentValue=a,null!==s)if(c=s.value,0===(a=Vr(c,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(c,a):1073741823))){if(s.children===i.children&&!mi.current){t=Jo(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var l=c.dependencies;if(null!==l){s=c.child;for(var u=l.firstContext;null!==u;){if(u.context===r&&0!==(u.observedBits&a)){1===c.tag&&((u=da(n,null)).tag=2,ha(c,u)),c.expirationTime<n&&(c.expirationTime=n),null!==(u=c.alternate)&&u.expirationTime<n&&(u.expirationTime=n),aa(c.return,n),l.expirationTime<n&&(l.expirationTime=n);break}u=u.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}xo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,oa(t,n),r=r(i=sa(i,a.unstable_observedBits)),t.effectTag|=1,xo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),Po(e,t,i,a=Xi(i.type,a),r,n);case 15:return jo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,_i(r)?(e=!0,Ei(t)):e=!1,oa(t,n),wa(t,r,i),Ea(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return Xo(e,t,n)}throw Error(o(156,t.tag))};var Fc=null,Pc=null;function jc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Uc(e,t,n,r){return new jc(e,t,n,r)}function Bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vc(e,t){var n=e.alternate;return null===n?((n=Uc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Bc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case ne:return zc(n.children,i,a,t);case se:s=8,i|=7;break;case re:s=8,i|=1;break;case ie:return(e=Uc(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=a,e;case le:return(e=Uc(13,n,t,i)).type=le,e.elementType=le,e.expirationTime=a,e;case ue:return(e=Uc(19,n,t,i)).elementType=ue,e.expirationTime=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case ae:s=10;break e;case oe:s=9;break e;case ce:s=11;break e;case de:s=14;break e;case he:s=16,r=null;break e;case fe:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Uc(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=a,t}function zc(e,t,n,r){return(e=Uc(7,e,r,t)).expirationTime=n,e}function Hc(e,t,n){return(e=Uc(6,e,null,t)).expirationTime=n,e}function Gc(e,t,n){return(t=Uc(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $c(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Kc(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Qc(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function qc(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Zc(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Yc(e,t,n,r){var i=t.current,a=sc(),s=ma.suspense;a=cc(a,i,s);e:if(n){t:{if(Xe(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(o(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(_i(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(o(171))}if(1===n.tag){var l=n.type;if(_i(l)){n=Si(n,l,c);break e}}n=c}else n=pi;return null===t.context?t.context=n:t.pendingContext=n,(t=da(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ha(i,t),lc(i,a),a}function Xc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Jc(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function el(e,t){Jc(e,t),(e=e.alternate)&&Jc(e,t)}function tl(e,t,n){var r=new $c(e,t,n=null!=n&&!0===n.hydrate),i=Uc(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,la(i),e[Mn]=r.current,n&&0!==t&&function(e,t){var n=Ye(t);Ct.forEach((function(e){ft(e,t,n)})),Ot.forEach((function(e){ft(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function nl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rl(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Xc(o);s.call(e)}}Yc(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tl(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var c=i;i=function(){var e=Xc(o);c.call(e)}}mc((function(){Yc(t,o,e,i)}))}return Xc(o)}function il(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}tl.prototype.render=function(e){Yc(e,this._internalRoot,null,null)},tl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Yc(null,e,null,(function(){t[Mn]=null}))},pt=function(e){if(13===e.tag){var t=Yi(sc(),150,100);lc(e,t),el(e,t)}},gt=function(e){13===e.tag&&(lc(e,3),el(e,3))},mt=function(e){if(13===e.tag){var t=sc();lc(e,t=cc(t,e,null)),el(e,t)}},A=function(e,t,n){switch(t){case"input":if(Ce(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=kn(r);if(!i)throw Error(o(90));we(r),Ce(r,i)}}}break;case"textarea":Re(e,n);break;case"select":null!=(t=n.value)&&Ne(e,!!n.multiple,t,!1)}},k=gc,x=function(e,t,n,r,i){var a=Ps;Ps|=4;try{return $i(98,e.bind(null,t,n,r,i))}finally{(Ps=a)===Ts&&qi()}},F=function(){(Ps&(1|Ns|Ms))===Ts&&(function(){if(null!==rc){var e=rc;rc=null,e.forEach((function(e,t){Zc(t,e),hc(t)})),qi()}}(),Mc())},P=function(e,t){var n=Ps;Ps|=2;try{return e(t)}finally{(Ps=n)===Ts&&qi()}};var al={Events:[Rn,Ln,kn,O,E,Vn,function(e){rt(e,Bn)},R,L,Zt,ot,Mc,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;!function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Fc=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Pc=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}}(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=tt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Dn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=al,t.createPortal=il,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return null===(e=tt(t))?null:e.stateNode},t.flushSync=function(e,t){if((Ps&(Ns|Ms))!==Ts)throw Error(o(187));var n=Ps;Ps|=1;try{return $i(99,e.bind(null,t))}finally{Ps=n,qi()}},t.hydrate=function(e,t,n){if(!nl(t))throw Error(o(200));return rl(null,e,t,!0,n)},t.render=function(e,t,n){if(!nl(t))throw Error(o(200));return rl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nl(e))throw Error(o(40));return!!e._reactRootContainer&&(mc((function(){rl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Mn]=null}))})),!0)},t.unstable_batchedUpdates=gc,t.unstable_createPortal=function(e,t){return il(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nl(n))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return rl(e,t,n,!1,r)},t.version="16.14.0"},function(e,t,n){"use strict";e.exports=n(1362)},function(e,t,n){"use strict";var r,i,a,o,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,u=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(n){throw setTimeout(u,0),n}},d=Date.now();t.unstable_now=function(){return Date.now()-d},r=function(e){null!==c?setTimeout(r,0,e):(c=e,setTimeout(u,0))},i=function(e,t){l=setTimeout(e,t)},a=function(){clearTimeout(l)},o=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,f=window.Date,p=window.setTimeout,g=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)t.unstable_now=function(){return h.now()};else{var v=f.now();t.unstable_now=function(){return f.now()-v}}var y=!1,_=null,b=-1,w=5,S=0;o=function(){return t.unstable_now()>=S},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,I=E.port2;E.port1.onmessage=function(){if(null!==_){var e=t.unstable_now();S=e+w;try{_(!0,e)?I.postMessage(null):(y=!1,_=null)}catch(n){throw I.postMessage(null),n}}else y=!1},r=function(e){_=e,y||(y=!0,I.postMessage(null))},i=function(e,n){b=p((function(){e(t.unstable_now())}),n)},a=function(){g(b),b=-1}}function C(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<A(i,t)))break e;e[r]=t,e[n]=i,n=r}}function O(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,c=e[s];if(void 0!==o&&0>A(o,n))void 0!==c&&0>A(c,o)?(e[r]=c,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==c&&0>A(c,n)))break e;e[r]=c,e[s]=n,r=s}}}return t}return null}function A(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var N=[],M=[],D=1,R=null,L=3,k=!1,x=!1,F=!1;function P(e){for(var t=O(M);null!==t;){if(null===t.callback)T(M);else{if(!(t.startTime<=e))break;T(M),t.sortIndex=t.expirationTime,C(N,t)}t=O(M)}}function j(e){if(F=!1,P(e),!x)if(null!==O(N))x=!0,r(U);else{var t=O(M);null!==t&&i(j,t.startTime-e)}}function U(e,n){x=!1,F&&(F=!1,a()),k=!0;var r=L;try{for(P(n),R=O(N);null!==R&&(!(R.expirationTime>n)||e&&!o());){var s=R.callback;if(null!==s){R.callback=null,L=R.priorityLevel;var c=s(R.expirationTime<=n);n=t.unstable_now(),"function"===typeof c?R.callback=c:R===O(N)&&T(N),P(n)}else T(N);R=O(N)}if(null!==R)var l=!0;else{var u=O(M);null!==u&&i(j,u.startTime-n),l=!1}return l}finally{R=null,L=r,k=!1}}function B(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var V=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){x||k||(x=!0,r(U))},t.unstable_getCurrentPriorityLevel=function(){return L},t.unstable_getFirstCallbackNode=function(){return O(N)},t.unstable_next=function(e){switch(L){case 1:case 2:case 3:var t=3;break;default:t=L}var n=L;L=t;try{return e()}finally{L=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=V,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=L;L=e;try{return t()}finally{L=n}},t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();if("object"===typeof o&&null!==o){var c=o.delay;c="number"===typeof c&&0<c?s+c:s,o="number"===typeof o.timeout?o.timeout:B(e)}else o=B(e),c=s;return e={id:D++,callback:n,priorityLevel:e,startTime:c,expirationTime:o=c+o,sortIndex:-1},c>s?(e.sortIndex=c,C(M,e),null===O(N)&&e===O(M)&&(F?a():F=!0,i(j,c-s))):(e.sortIndex=o,C(N,e),x||k||(x=!0,r(U))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();P(e);var n=O(N);return n!==R&&null!==R&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<R.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=L;return function(){var n=L;L=t;try{return e.apply(this,arguments)}finally{L=n}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(1330),i=n(1364),a=n(1587),o=n(1345),s=n(1344),c=n(1339),l=n(1576),u=n(1596),d=n(1365),h=["window","navigator","document","userAgent","eventCapabilities"],f=[{name:"dppx",multiple:1},{name:"dpi",multiple:window.screen.logicalXDPI||96}],p="",g=NaN,m=!1;!function(){if(window.matchMedia)for(var e,t,n=0;e=f[n];n++){var r="(min-resolution: 1"+(t=e.name)+")",i=window.matchMedia(r),a=i?i.media:null;if(a&&-1!==a.indexOf("min-resolution"))return m=!0,p=t,void(g=e.multiple)}}();var v=r.a.extend(l.a,i.a,{isMac:void 0,isWindows:void 0,isiOS:void 0,osMajorVersion:void 0,osMinorVersion:void 0,isiPhone:void 0,isiPad:void 0,isDesktopClassTablet:void 0,isiPhoneLikeDevice:void 0,isiPadLikeDevice:void 0,devicePixelRatio:Object(l.g)({get:function(){return this._devicePixelRatio||(this._devicePixelRatio=this._getDevicePixelRatio())},readOnly:!0,didChange:function(e){this.roundToDevicePixelRatio=this._roundToDevicePixel(e),this.floorToDevicePixelRatio=this._floorToDevicePixel(e),this.ceilToDevicePixelRatio=this._ceilToDevicePixel(e)}}),roundToDevicePixelRatio:s.a,_roundToDevicePixel:function(e){return function(t){return Math.round(t*e)/e}},floorToDevicePixelRatio:s.a,_floorToDevicePixel:function(e){return function(t){return Math.floor(t*e)/e}},ceilToDevicePixelRatio:s.a,_ceilToDevicePixel:function(e){return function(t){return Math.ceil(t*e)/e}},_getDevicePixelRatio:function(){var e=this.stubWindow;return e.devicePixelRatio||e.screen.deviceXDPI/e.screen.logicalXDPI||1},_devicePixelRatio:NaN,isRetina:void 0,hardwareConcurrency:Object(a.c)({readOnly:!0,defaultValue:function(){return navigator.hardwareConcurrency||void 0}}),canvasSupportsImageSmoothingQuality:Object(a.c)({readOnly:!0,defaultValue:function(){if(this._canvasSupportsImageSmoothingQuality)return this._canvasSupportsImageSmoothingQuality;void 0!=document.createElement("canvas").getContext("2d").imageSmoothingQuality?this._canvasSupportsImageSmoothingQuality=!0:this._canvasSupportsImageSmoothingQuality=!1}}),pointer:Object(l.g)("none"),init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.window,n=void 0===t?window:t,r=e.navigator,i=void 0===r?navigator:r,a=(void 0===e.document&&document,e.userAgent),o=void 0===a?i.userAgent:a,s=e.eventCapabilities,c=void 0===s?d.b:s,l=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,h);this.stubWindow=n,this.__s._$38f$init.call(this,l);var u,f,p,g,m,v=o.toLowerCase(),y=!!/mac/.test(v)&&!/like mac/.test(v),_=y&&c.isTouchSupported,b=y&&!_,w=!!/windows/.test(v),S=v.match(/\b(iPad|iPhone|iPod)\b.*\bOS (\d+)_(\d+)/i);if(this.isMac=b,this.isWindows=w,_)u=!1,f=p=!0;else if(S){var E=S[1];f="ipad"===E,p=(u="iphone"===E||"ipod"===E)||f}else u=f=p=!1;if(this.isiPhone=u,this.isiPhoneLikeDevice=u,this.isiPad=f,this.isDesktopClassTablet=_,this.isiPadLikeDevice=f,this.isiOS=p,_)g="13",m="0";else if(b){var I=v.match(/mac os x (\d+)[ _.](\d+)/);I&&(g=I[1],m=I[2])}else if(w){var C=v.match(/windows[ a-z]+?(\d+)[ _.](\d+)/);C&&(g=C[1],m=C[2])}else p&&(g=S[2],m=S[3]);g&&(this.osMajorVersion=parseInt(g,10)),m&&(this.osMinorVersion=parseInt(m,10)),this.isRetina=n.devicePixelRatio>1,this._updateDevicePixelRatio(),n.addEventListener("resize",this._updateDevicePixelRatio.bind(this),!1),this._listenForPointerChange()},dispose:function(){return window.removeEventListener("resize",Object(c.a)(this._updateDevicePixelRatio,this),!1),this.__s._$4LD$dispose.apply(this,arguments)},_updateDevicePixelRatio:function(){if(u.a.getPath("sharedInstance.isFirefox")){var e=this._forceWindowResizeNotificationCanvas;e||((e=this._forceWindowResizeNotificationCanvas=document.createElement("canvas")).width=1,e.height=1,this._forceWindowResizeNotificationCanvasContext=e.getContext("2d"),e.classList.add("ff-force-window-resize-notification"),e.style.position="fixed",e.style.left="-1000px",e.style.top="-1000px",document.body.appendChild(e));try{this._forceWindowResizeNotificationCanvasContext.measureText("Blah")}catch(n){}}var t=this._getDevicePixelRatio();t!==this._devicePixelRatio&&(this._devicePixelRatio=t,this._detectChangeAwayFromDPR(t),this.propertyChanged("devicePixelRatio"))},_detectChangeAwayFromDPR:function(e){var t=this.stubWindow;if(t.matchMedia){var n,r=.001,i=Math.round(e/r)*r,a=i+r,o=i-r,s=this._updateDevicePixelRatio.bind(this),c=this._dprQueryListCache||(this._dprQueryListCache={}),l=this._activeMediaQueryListPair,u=c[i];u||(u=c[i]={},n="(-webkit-min-device-pixel-ratio: "+o+"), (min--moz-device-pixel-ratio: "+o+")"+(m?", (min-resolution: "+o*g+p+")":""),u.lowerBound=t.matchMedia(n),n="(-webkit-max-device-pixel-ratio: "+a+"), (max--moz-device-pixel-ratio: "+a+")"+(m?", (max-resolution: "+a*g+p+")":""),u.upperBound=t.matchMedia(n)),u!==l&&(l&&(l.lowerBound.removeListener(s),l.upperBound.removeListener(s)),u.lowerBound.addListener(s),u.upperBound.addListener(s),this._activeMediaQueryListPair=u)}},_listenForPointerChange:function(){this.stubWindow.matchMedia&&(this._listenForPointerQuality("none"),this._listenForPointerQuality("coarse"),this._listenForPointerQuality("fine"))},_listenForPointerQuality:function(e){var t=this,n=this.stubWindow.matchMedia("(pointer: "+e+")"),r=function(n){n.matches&&(t.pointer=e)};n.addListener(r),this._pointerQueries.push([n,r]),r(n)},_pointerQueries:Object(o.b)(Array),_dprQueryListCache:null,_resMultiple:g,cleanup:function(){this.__s._$5uB$cleanup.call(this),this._pointerQueries.forEach((function(e){var t=e[0],n=e[1];return t.removeListener(n)}))},__superMap:{_$38f$init:"init",_$4LD$dispose:"dispose",_$5uB$cleanup:"cleanup"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Device"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1587),i={staticMembers:{sharedInstance:Object(r.c)({get:function(){return this.hasOwnProperty("_sharedInstance")&&this._sharedInstance||(this._sharedInstance=this.create())},set:function(e){this._sharedInstance=e}})},dispose:function(){this.constructor._sharedInstance===this&&delete this.constructor._sharedInstance,this.__s._$Oz$dispose.apply(this,arguments)},__superMap:{_$Oz$dispose:"dispose"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(1330),i=["window","navigator","document"],a={Pointer:"pointer",Touch:"touch",Mouse:"mouse",None:"none"},o=r.a.extend({init:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.window,r=void 0===n?window:n,o=t.navigator,s=void 0===o?navigator:o,c=t.document,l=void 0===c?document:c,u=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,i),d=this.isPointerSupported="PointerEvent"in r,h="createTouch"in l||"Touch"in r;this.isTouchSupported=d?s.maxTouchPoints>0:h,this.isMouseSupported="onmousedown"in l,this.isMouseWheelSupported="onwheel"in l||"onmousewheel"in l,this.isInputSupported=!0,this.__s._$eB$init.call(this,u),e=this.isPointerSupported?a.Pointer:this.isTouchSupported?a.Touch:this.isMouseSupported?a.Mouse:a.None,this.pointerEventClass=e},pointerEventClass:a.None,isPointerSupported:!1,isTouchSupported:!1,isMouseSupported:!1,isMouseWheelSupported:!1,isInputSupported:!1,__superMap:{_$eB$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"EventCapabilities"}}),s=o.create()},function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return p}));var r=n(1331),i=n(1368),a=n(1330),o=n(1347),s=n(1305),c=n(1332),l=n(1576),u=n(1370),d=n(1367),h=n(1595),f={mixinDependencies:[d.b],origin:Object(r.c)(i.a),top:Object(r.c)(i.a),bottom:Object(r.c)(i.a),left:Object(r.c)(i.a),right:Object(r.c)(i.a),isAbove:function(e){return this.bottom<=e.top},isBelow:function(e){return this.top>=e.bottom},isLeftOf:function(e){return this.right<=e.left},isRightOf:function(e){return this.left>=e.right},intersects:function(e){return!this.isAbove(e)&&!this.isBelow(e)&&!this.isRightOf(e)&&!this.isLeftOf(e)},containsPoint:function(e){var t=e.x,n=e.y;return t>=this.left&&t<this.right&&n>=this.top&&n<this.bottom},toString:function(){return this.__s._$13Y$toString.apply(this,arguments)+Object(s.a)("{ origin: (%{x},%{y}) size: (%{width}, %{height}) }",this)},__superMap:{_$13Y$toString:"toString"}},p=a.a.extend(l.a,f,{_origin:null,init:function(e){if(Object(c.a)(e,f))return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this.__s._$1Mb$init.call(this);this.__s._$1Mb$init.apply(this,arguments)},origin:Object(l.g)({dependencies:["x","y"],strong:!0,get:Object.assign((function(){var e=this.y,t=this.x,n=this._origin;return n?(n.set("x",t),n.set("y",e)):n=this._origin=u.a.create({x:t,y:e}),n}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[1+n]),a=r.internalGet(this,t[0+n]),o=this._origin;return o?(o.set("x",a),o.set("y",i)):o=this._origin=u.a.create({x:a,y:i}),o}}),set:Object.assign((function(e){Object(o.a)(e)||(e=u.a.create(e)),this.x=e.x,this.y=e.y,this._origin=e}),{__CW__setter:function(e,t,n,r,i){Object(o.a)(e)||(e=u.a.create(e)),n[0+r]=e.x,n[1+r]=e.y,this._origin=e}}),writeDependencySetPathMap:[!1,!1]}),x:Object(l.g)(),y:Object(l.g)(),width:Object(l.g)(),height:Object(l.g)(),top:Object(l.g)({binding:Object(h.c)("y"),readOnly:!0}),bottom:Object(l.g)({readOnly:!0,cacheable:!0,dependencies:["height","y"],get:Object.assign((function(){return this.y+this.height}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[1+n])+r.internalGet(this,t[0+n])}})}),left:Object(l.g)({binding:Object(h.c)("x"),readOnly:!0,cacheable:!0}),right:Object(l.g)({readOnly:!0,cacheable:!0,dependencies:["width","x"],get:Object.assign((function(){return this.x+this.width}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[1+n])+r.internalGet(this,t[0+n])}})}),__superMap:{_$1Mb$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Rect"}})},function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h}));var r=n(1594),i=n(1331),a=n(1368),o=n(1330),s=n(1320),c=n(1305),l=n(1342),u=n(1576),d={mixinDependencies:[r.a],width:Object(i.c)(a.a),height:Object(i.c)(a.a),toString:function(){return this.__s._$80$toString.apply(this,arguments)+Object(c.a)("{ width: %{width}, height: %{height} }",this)},__superMap:{_$80$toString:"toString"}},h=o.a.extend(u.a,d,s.a,{initFromPool:function(e,t){if(Object(l.a)(t))return this.width=e,this.height=t,this.__s._$FI$initFromPool.call(this);this.__s._$FI$initFromPool.apply(this,arguments)},didEnterPool:function(){this.width=0,this.height=0,this.__s._$HQ$didEnterPool.apply(this,arguments)},width:Object(u.g)(0),height:Object(u.g)(0),__superMap:{_$FI$initFromPool:"initFromPool",_$HQ$didEnterPool:"didEnterPool"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Size"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1587),i=n(1369).a.extend({metadataType:r.a,staticMembers:{__QUALIFIED_CLASS_NAME__:"RequiredProperty"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1332),i=n(1331),a=n(1594).b.extend({metadataType:null,validate:function(e,t){if(!e.hasMixin||!e.hasMixin(i.b))return!1;var n=e.getMetadata(t);return Object(r.a)(n,this.metadataType)},staticMembers:{__QUALIFIED_CLASS_NAME__:"RequiredMetadata"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(1594),i=n(1331),a=n(1330),o=n(1320),s=n(1342),c=n(1305),l=n(1576),u=n(1371),d={mixinDependencies:[r.a],x:Object(i.c)(u.a),y:Object(i.c)(u.a)},h=a.a.extend(l.a,d,o.a,{initFromPool:function(e,t){if(Object(s.a)(e))return this.x=e,this.y=t,this.__s._$Cs$initFromPool.call(this);this.__s._$Cs$initFromPool.apply(this,arguments)},didEnterPool:function(){this.x=0,this.y=0,this.__s._$Er$didEnterPool.apply(this,arguments)},x:Object(l.g)(0),y:Object(l.g)(0),toString:function(){return Object(c.a)("["+this.__s._$KR$toString.apply(this,arguments)+"(%{x}, %{y}) ]",this)},__superMap:{_$Cs$initFromPool:"initFromPool",_$Er$didEnterPool:"didEnterPool",_$KR$toString:"toString"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Point2D"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1369),i=n(1576),a=r.a.extend({metadataType:i.b,staticMembers:{__QUALIFIED_CLASS_NAME__:"RequiredObservableProperty"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(1331),i=n(1345),a=n(1576),o=n(1332),s=n(1316),c=n(1386),l=n(1383),u=n(1373),d=n(1375),h={mixinDependencies:[a.a,r.b,u.a],init:function(){var e=this;this.__s._$11h$init.apply(this,arguments);var t=this.gestureRecognizers;t&&(t instanceof Set||(this.gestureRecognizers=new Set(t)),this.gestureRecognizers.forEach((function(t){t.retain(e,"ResponderSupport#gestureRecognizers"),t.view=e})))},handleEvent:function(e){if(this.isDisposed)return!1;for(var t=!1,n=this[e],r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];if(n&&(t=n.call(this,...i)),!t){var o=this._specialEventHandlers;if(o){var s=o[e];s&&(t=s.call(this,...i))}}return t},handleGestureRecognition:function(e){var t=this.gestureRecognizers;if(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return d.a.addGestureRecognizersWithEvent(e,...r,t)}return!1},gestureRecognizers:null,addGestureRecognizer:function(e){e.retain(this,"ResponderSupport#gestureRecognizers");var t=this.gestureRecognizers;if(t||(this.gestureRecognizers=t=new Set),t.has(e))throw new Error("ResponderSupport: attempted to register the same gesture recognizer twice.");e.view=this,t.add(e)},removeGestureRecognizer:function(e){var t=this.gestureRecognizers;if(!t||!t.has(e))throw new Error("ResponderSupport: attempted to deregister a gesture recognizer that was never registered.");d.a.cancelGestureRecognizer(e),t.delete(e),e.view=void 0,e.release(this,"ResponderSupport#gestureRecognizers")},dispose:function(){var e=this,t=this.gestureRecognizers;return t&&t.forEach((function(t){return e.removeGestureRecognizer(t)})),this.__s._$2JB$dispose.apply(this,arguments)},_registeredShortcuts:Object(i.b)(Object),registerShortcutKeyCombo:function(e,t,n){var r=(Object(o.a)(e,l.a)?e:l.a.create(e)).toString(),i=this._registeredShortcuts;if(i[r])throw new s.a("Shortcut already registered for `"+e+"` on "+this);if(!t)throw new s.a("Cannot register shortcut for `"+e+"`, because no action was provided");var a=typeof t;if("function"!==a){if("string"!==a)throw new s.a("Cannot register shortcut for `"+e+"`, because the action is not a function");if("function"!==typeof(t=this[t]))throw new s.a("Cannot register shortcut for `"+e+"`, because the action is not a function")}i[r]={action:t,context:n},(this._specialEventHandlers||(this._specialEventHandlers={})).keyDown=this.triggerShortcutIfExists},triggerShortcutIfExists:function(e){var t=c.a.sharedInstance,n=this._registeredShortcuts,r=t.activeKeys.toString(),i=t.activeKeySequence,a=i.toString(),o=n[r]||n[a];return!!o&&(n[a]&&i.clear(),o.action.call(this,o.context),!0)},pointerOver:null,pointerDown:null,pointerMove:null,pointerUp:null,pointerOut:null,pointerEnter:null,pointerLeave:null,wheel:null,__superMap:{_$11h$init:"init",_$2JB$dispose:"dispose"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1594),i=n(1587),a=n(1334),o=n(1316),s=n(1374),c={mixinDependencies:[r.a],nextResponder:Object(i.c)(),sendEvent:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object(s.a)(this,e,...n)},handleEvent:a.a.define(),canPerformAction:function(e,t){var n=this[e];return Boolean(n)},getPointerCapture:function(e){if("number"!==typeof e)throw new o.a("Pointer capture only possible on pointerIds which are numbers",{pointerId:e,responder:this});return l[e]},hasPointerCapture:function(e){return this.getPointerCapture(e)===this},setPointerCapture:function(e){if("number"!==typeof e)throw new o.a("Pointer capture only possible on pointerIds which are numbers",{pointerId:e,responder:this});l[e]=this},releasePointerCapture:function(e){if("number"!==typeof e)throw new o.a("Pointer capture only possible on pointerIds which are numbers",{pointerId:e,responder:this});l[e]===this&&delete l[e]}},l={}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1316),i=n(1375);function a(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];if(!t)throw new r.a("CW.Responder.sendEvent: Must receive an event.",{targetResponder:e,context:a});for(var s=e,c=!1,l=!1;s&&!s.isDisposed;){if(s.handleEvent&&!l){var u=s.handleEvent(t,...a);if(u||void 0===u){c=!0;break}}var d=s.handleGestureRecognition;d&&d.call(s,t,...a)&&(l=!0),s=s.nextResponder}return l?(i.a.handleEvent(t,...a),!0):c}},function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(1330),i=n(1320),a=n(1345),o=n(1376),s=n(1373),c=n(1378),l=n(1322);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function d(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}var f=o.b.Possible,p=o.b.Began,g=o.b.Changed,m=o.b.Ended,v=o.b.Failed,y=o.b.Cancelled,_=["pointerUp","pointerCancel","click"],b=function(){function e(){this._map=new Map}var t=e.prototype;return t.get=function(){return this._map.get(...arguments)},t.set=function(){return this._map.set(...arguments)},t.add=function(e,t){var n=this._map,r=n.get(e);r||(r=new Set,n.set(e,r)),r.add(t)},t.has=function(e,t){var n=this._map.get(e);return!!n&&n.has(t)},t.hasAny=function(e){var t=this._map.get(e);return!!t&&t.size>0},t.delete=function(e,t){var n=this._map,r=n.get(e);r&&(r.delete(t),0===r.size&&n.delete(e))},t.deleteAll=function(e){this._map.delete(e)},t.clear=function(){this._map.clear()},t.keys=function(){return this._map.keys()},t.values=function(){return this._map.values()},t.entries=function(){return this._map.entries()},d(e,[{key:"size",get:function(){return this._map.size}}]),e}(),w=function(){function e(){this._map=new b,this._reverseMap=new b}var t=e.prototype;return t.add=function(e,t){var n=this._map,r=this._reverseMap;n.add(e,t),r.add(t,e)},t.get=function(e){return this._map.get(e)},t.getKeys=function(e){return this._reverseMap.get(e)},t.has=function(e,t){return this._map.has(e,t)},t.hasKey=function(e){return this._map.hasAny(e)},t.hasValue=function(e){return this._reverseMap.hasAny(e)},t.delete=function(e,t){var n=this._map,r=this._reverseMap;n.delete(e,t),r.delete(t,e)},t.deleteKey=function(e){var t=this._map,n=this._reverseMap,r=t.get(e);r&&(r.forEach((function(t){return n.delete(t,e)})),t.deleteAll(e))},t.deleteValue=function(e){var t=this._map,n=this._reverseMap,r=n.get(e);r&&(r.forEach((function(n){return t.delete(n,e)})),n.deleteAll(e))},t.clear=function(){var e=this._map,t=this._reverseMap;e.clear(),t.clear()},t.keys=function(){return this._map.keys()},t.values=function(){return this._reverseMap.keys()},t.entries=function(){return this._map.entries()},d(e,[{key:"sizeKeys",get:function(){return this._map.size}},{key:"sizeValues",get:function(){return this._reverseMap.size}}]),e}(),S=r.a.extend(i.a,{staticMembers:{_sequences:Object(a.b)(Set),addGestureRecognizersWithEvent:function(e,t,n){if("pointerDown"===e||"click"===e){if("click"===e){var r=t;t=c.a.create({nativeEvent:r,type:"click",pointerId:-1})}for(var i of this._sequences)if(i.addGestureRecognizersWithEvent(n,t))return!0;var a=this.create().retain(this,"GestureRecognitionEventSequence#handleEvent#addGestureRecognizersWithEvent"),o=a.addGestureRecognizersWithEvent(n,t);return o?this._sequences.add(a):a.release(this,"GestureRecognitionEventSequence#handleEvent#addGestureRecognizersWithEvent"),o}},removeSequence:function(e){var t=this._sequences;t.has(e)&&(t.delete(e),e.release(this,"GestureRecognitionEventSequence#handleEvent#addGestureRecognizersWithEvent"))},handleEvent:function(e,t){if("pointerDown"!==e&&"click"!==e)return!1;if("click"===e){var n=t;t=c.a.create({nativeEvent:n,type:"click",pointerId:-1})}var r=t.pointerId;for(var i of this._sequences)if(i.gestureRecognizersByPointerId.hasKey(r))return i.handleEvent(e,t),!0;return!1},cancelGestureRecognizer:function(e){e.state=v,e.reset()},__QUALIFIED_CLASS_NAME__:"GestureRecognitionEventSequence"},gestureRecognizers:Object(a.b)(Set),addGestureRecognizersWithEvent:function(e,t){var n=this,r=t.pointerId,i=this.gestureRecognizers,a=this.gestureRecognizersByPointerId,o=this.gestureRecognizerFailureDependencies;if(!a.hasKey(r)&&i.size){for(var s of i)this._isGestureRecognizerAllowedToHandleEvents(s)&&s.shouldReceive(t)&&this._gestureRecognizerIsInterestedInPointerId(s,r);if(!a.hasKey(r))return!1}var c=Array.from(e).filter((function(e){return e.isEnabled&&!e.sequence})).filter((function(e){return e.shouldReceive(t)}));if(c.forEach((function(e){return n._gestureRecognizerIsInterestedInPointerId(e,r)})),0===c.length)return a.hasKey(r);for(var l of c){i.add(l),l.sequence=this;var u=!1;for(var d of i)if(d!==l&&((l.shouldRequireFailureOf(d)||d.shouldBeRequiredToFailBy(l))&&o.add(l,d),d.shouldRequireFailureOf(l)||l.shouldBeRequiredToFailBy(d))){var h=d.state;if(h!==f&&h!==v){u||(l.state=v,u=!0);continue}o.add(d,l)}}return!0},handleEvent:function(e,t){var n=this,r=this.gestureRecognizers,i=this.gestureRecognizerFailureDependencies,a=t.pointerId;this._isHandlingEvent=!0,r.forEach((function(r){if(n._isGestureRecognizerAllowedToHandleEvents(r)&&n._isGestureRecognizerInterestedInEvent(r,t)){r[e](t);var a=r.state;Object(l.a)(t,"targetView.needsDefaultTouch")||!r.shouldPreventDefault||a!==p&&a!==g&&a!==m||i.hasKey(r)||t.preventDefault()}})),this._isHandlingEvent=!1,this._flushPendingStateChanges(),this.isPooled||_.includes(e)&&(this.gestureRecognizersByPointerId.deleteKey(a),this.releasePointerCapture(a))},_pendingStateChanges:Object(a.b)(Set),_flushPendingStateChanges:function(){var e=this,t=this._pendingStateChanges;t.forEach((function(t){e.isPooled||e.gestureRecognizerStateChanged(t,t.state)})),t.clear()},gestureRecognizerStateChanged:function(e,t){if(this._isHandlingEvent)this._pendingStateChanges.add(e);else switch(t){case y:this._callActionIfAllowed(e);case v:this._gestureRecognizerDidFail(e),this._cleanupGestureRecognizer(e);break;case p:case g:case m:this._callActionIfAllowed(e);break;default:throw new Error("GestureRecognitionEventSequence#gestureRecognizerStateChanged: invalid state "+t)}},gestureRecognizerIgnoredPointerId:function(e,t){var n=this.gestureRecognizersByPointerId;n.delete(t,e),n.hasKey(t)||this.releasePointerCapture(t)},gestureRecognizerFailureDependencies:Object(a.b)(w),gestureRecognizersByPointerId:Object(a.b)(w),_cleanupSelf:function(){this.constructor.removeSequence(this)},cleanup:function(){var e=this;this.gestureRecognizers.forEach((function(t){return e._cleanupGestureRecognizer(t)})),this.gestureRecognizersByPointerId.clear(),this.gestureRecognizerFailureDependencies.clear(),this._begunGestureRecognizers.clear(),this._pendingStateChanges.clear(),this._isHandlingEvent=!1,this.__s._$5Cq$cleanup.call(this)},_cleanupGestureRecognizer:function(e){var t=this.gestureRecognizersByPointerId,n=t.getKeys(e);if(t.deleteValue(e),n)for(var r of n)t.hasKey(r)||this.releasePointerCapture(r);this.gestureRecognizerFailureDependencies.deleteValue(e),this.gestureRecognizers.delete(e),this._pendingStateChanges.delete(e),e.reset(),0===this.gestureRecognizers.size&&this._cleanupSelf()},_begunGestureRecognizers:Object(a.b)(Set),_gestureRecognizerDidBegin:function(e){var t=this._begunGestureRecognizers;if(!t.has(e)){t.add(e);var n=this.gestureRecognizerFailureDependencies;Array.from(this.gestureRecognizers).filter((function(t){return t!==e})).filter((function(t){return!E(e,t)})).filter((function(t){return!n.has(t,e)})).forEach((function(e){return e.state=v}))}},_gestureRecognizerDidFail:function(e){var t=this,n=this.gestureRecognizerFailureDependencies,r=n.getKeys(e);n.deleteValue(e),r&&r.forEach((function(e){n.hasKey(e)||t._callActionIfAllowed(e)}))},_gestureRecognizerIsInterestedInPointerId:function(e,t){var n=this.gestureRecognizersByPointerId;n.hasKey(t)||this.setPointerCapture(t),n.add(t,e)},_isGestureRecognizerInterestedInEvent:function(e,t){return this.gestureRecognizersByPointerId.has(t.pointerId,e)},_isGestureRecognizerAllowedToHandleEvents:function(e){var t=e.state;return t===f||t===p||t===g},_callActionIfAllowed:function(e){var t=e.state;t!==f&&t!==v&&(this.gestureRecognizerFailureDependencies.hasKey(e)||(e.gestureWasRecognized(),t!==p&&t!==g||this._gestureRecognizerDidBegin(e),t===m&&(Array.from(this.gestureRecognizers).filter((function(t){return t!==e})).filter((function(t){return!E(e,t)})).forEach((function(e){return e.state=v})),this._cleanupGestureRecognizer(e))))},__superMap:{_$5Cq$cleanup:"cleanup"}});function E(e,t){return!!e.shouldRecognizeSimultaneouslyWith(t)||!!t.shouldRecognizeSimultaneouslyWith(e)}["sendEvent","getPointerCapture","setPointerCapture","releasePointerCapture"].forEach((function(e){S.prototype[e]=function(){s.a[e].apply(this,arguments)}}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return f}));var r=n(1315),i=n(1330),a=n(1594),o=n(1320),s=n(1587),c=n(1334),l=n(1377),u=Object(r.b)("GestureRecognizerState",(function(e){e("Possible"),e("Failed"),e("Ended"),e("Began"),e("Changed"),e("Cancelled")})),d=u.Possible,h=u.Failed,f=i.a.extend(a.a,o.a,{delegate:l.a,event:"",shouldPreventDefault:!0,location:null,ignore:function(e){this.sequence.gestureRecognizerIgnoredPointerId(this,e.pointerId)},isEnabled:!0,state:Object(s.c)({type:u,defaultValue:d,set:function(e){if(this._isDone&&e!==h)throw new Error("GestureRecognizer: cannot set `state`. The state machine has already finished.");var t=this._stateMachine.next(e),n=t.value;n&&(e=n),t.done&&!this._isDone&&(this._isDone=!0),this._state=e;var r=this.sequence;return r&&r.gestureRecognizerStateChanged(this,e),this._state}}),view:null,pointerDown:c.a.define(),pointerMove:c.a.define(),pointerUp:c.a.define(),pointerCancel:c.a.define(),reset:function(){this._isDone=!1,this.sequence=null,this._initializeStateMachine()},shouldBegin:function(){return this.delegate.gestureRecognizerShouldBegin(this)},shouldReceive:function(e){return"click"!==e.type&&this.delegate.gestureRecognizerShouldReceive(this,e)},shouldRecognizeSimultaneouslyWith:function(e){return this.delegate.gestureRecognizerShouldRecognizeSimultaneouslyWith(this,e)},shouldRequireFailureOf:function(e){return this.delegate.gestureRecognizerShouldRequireFailureOf(this,e)},shouldBeRequiredToFailBy:function(e){return this.delegate.gestureRecognizerShouldBeRequiredToFailBy(this,e)},gestureWasRecognized:function(){var e=this.event;if(!e)throw new Error("GestureRecognizer: event may not be empty");this.view.sendEvent(e,this)},stateGenerator:null,_initializeStateMachine:function(){this._stateMachine=this.stateGenerator(this),this._stateMachine.next(),this.state=d},init:function(){this._stateMachine=this.stateGenerator(this),this._stateMachine.next(),this.__s._$5Io$init.apply(this,arguments)},initFromPool:function(){this._initializeStateMachine(),this.__s._$5KA$initFromPool.apply(this,arguments)},didEnterPool:function(){this.reset();var e=this.constructor.prototype;this.isEnabled=e.isEnabled,this.shouldPreventDefault=e.shouldPreventDefault,this.delegate=e.delegate,this.location=e.location,this.event=e.event,this.view=e.view,this.__s._$5SW$didEnterPool.call(this)},dispose:function(){this._isDone=!1,this.__s._$5Us$dispose.call(this)},_stateMachine:null,_isDone:!1,sequence:Object(s.c)({strong:!0}),__superMap:{_$5Io$init:"init",_$5KA$initFromPool:"initFromPool",_$5SW$didEnterPool:"didEnterPool",_$5Us$dispose:"dispose"},staticMembers:{__QUALIFIED_CLASS_NAME__:"GestureRecognizer"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1594),i=n(1378),a={mixinDependencies:[r.a],gestureRecognizerShouldBegin:function(e){return!0},gestureRecognizerShouldReceive:function(e,t){return t.pointerType!==i.b.MOUSE||0===t.button},gestureRecognizerShouldRecognizeSimultaneouslyWith:function(e,t){return!1},gestureRecognizerShouldRequireFailureOf:function(e,t){return!1},gestureRecognizerShouldBeRequiredToFailBy:function(e,t){return!1}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(1381),i=n(1379),a={MOUSE:"mouse",PEN:"pen",TOUCH:"touch"},o=i.a.extend({staticMembers:{nativePropertiesToCopy:Object(r.a)(["pointerId","width","height","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary"]),eventPropertiesToCopy:Object(r.a)(["pointerId","width","height","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary"]),__QUALIFIED_CLASS_NAME__:"PointerEvent"},pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:"",isPrimary:!1})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1381),i=n(1380).a.extend({staticMembers:{nativePropertiesToCopy:Object(r.a)(["screenX","screenY","clientX","clientY","offsetY","offsetX","x","y","button","buttons","detail","target"]),eventPropertiesToCopy:Object(r.a)(["screenX","screenY","clientX","clientY","offsetY","offsetX","x","y","button","buttons","detail","target"]),__QUALIFIED_CLASS_NAME__:"CoreMouseEvent"},init:function(e){if(this.__s._$I9$init.call(this,e),e){var t=e.nativeEvent;if(t&&!this.target){var n=t.srcElement;n&&(this.target=n)}}},screenX:0,screenY:0,clientX:0,clientY:0,offsetX:0,offsetY:0,button:0,buttons:0,detail:0,target:null,targetView:null,__superMap:{_$I9$init:"init"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1330),i=n(1332),a=r.a.extend({staticMembers:{nativePropertiesToCopy:["ctrlKey","shiftKey","altKey","metaKey","relatedTarget"],eventPropertiesToCopy:["bubbles","cwType","ctrlKey","shiftKey","altKey","metaKey","relatedTarget","nativeEvent"],__QUALIFIED_CLASS_NAME__:"CoreEvent"},init:function(e){if(e){if(Object(i.a)(e,this.constructor))return o(this,e,this.constructor.eventPropertiesToCopy),void this.__s._$SG$init.call(this);var t=e.nativeEvent;t&&o(this,t,this.constructor.nativePropertiesToCopy)}this.__s._$SG$init.apply(this,arguments),this.cwType||(this.cwType=this.type)},bubbles:!0,cwType:null,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,relatedTarget:null,nativeEvent:null,preventDefault:function(){this.nativeEvent.preventDefault()},stopPropagation:function(){this.nativeEvent.stopPropagation()},__superMap:{_$SG$init:"init"}});function o(e,t,n){for(var r=0,i=n.length;r<i;r++){var a=n[r],o=t[a];void 0!==o&&(e[a]=o)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(1348),i=n(1327),a=n(1307),o=n(1382),s=n(1316),c=n(1343),l=n(1593),u=n(1346),d="[CW.Property#extendedForAccumulatorDefaultValue] Cannot extend property.",h=[],f=l.a.extend({init:function(e){this.value=Object(r.a)(arguments),this.__s._$f7$init.call(this)},value:null,initializeMember:function(e,t){var n,r=e[t],l=this.value;if(Array.isArray(r))n=r.concat.apply(r,l);else if(Object(i.a)(r)){if(!l.every(i.a))throw new s.a(d+" The default value of the superclass property is a hash, but the subclass does not provide a hash.",{value:l,property:this});Object(a.a)(h,l,1,0),h[0]=r,n=o.a.apply(null,h)}else if(Object(u.a)(r)){if(!l.every(i.a))throw new s.a(d+" The default value of the superclass property is a class, but the subclass does not provide a hash.",{value:l,property:this});n=r.extend.apply(r,l)}else{if(Object(c.a)(r))throw new s.a(d+" This property class returned a default value that is not valid for aggregation.  It must be either an array or a hash object.",{property:this,previousValue:r});if(l.every(i.a))n=o.a.apply(null,l);else{if(!l.every(Array.isArray))throw new s.a(d+" If the default value of the superclass property is "+r+", the subclass must provide a hash or an array.",{value:l,property:this});Object(a.a)(h,l,0,1);var f=l[0];n=f.concat.apply(f,h)}}return n},__superMap:{_$f7$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Accumulator"}}),p=function(){return f.create.apply(f,arguments)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1316),i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new r.a("[CW.Utils#merge] Must provides objects to merge");return t.unshift({}),Object.assign.apply(this,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(1330),i=n(1587),a=n(1384),o=n(1316),s=n(1385),c=Object(a.a)([s.a.SHIFT,s.a.CTRL,s.a.OPTION,s.a.CMD]),l=r.a.extend({init:function(e){"string"===typeof e?(this.__s._$FC$init.call(this),this._initFromString(e)):this.__s._$FC$init.apply(this,arguments)},getKeyCode:function(e){var t=e.trim().toUpperCase();return s.a[t]||t.charCodeAt(0)},add:function(e){this.addKey(e)},addKey:function(e){c[e]?this._addModifier(e):this._addSequencedKey(e)},delete:function(e){this.removeKey(e)},removeKey:function(e){c[e]?this._removeModifier(e):this._removeSequencedKey(e)},clear:function(){this.modifiers&&(this.modifiers.length=0),this.keys&&(this.keys.length=0)},toString:function(){var e="";return this.modifiers&&(e+=this.modifiers.sort().join("+")+":"),this.keys&&(e+=this.keys.join(",")),e},contains:function(e){return c[e]?!!this.modifiers&&this.modifiers.includes(e):!!this.keys&&this.keys.includes(e)},has:function(e){return this.contains(e)},length:Object(i.c)({readOnly:!0,get:function(){return(this.keys?this.keys.length:0)+(this.modifiers?this.modifiers.length:0)}}),_initFromString:function(e){var t,n,r,i;if(/\+/.test(e))for(n=0,r=(t=e.split("+")).length;n<r;n++){var a=this.getKeyCode(t[n]);if(c[a])this._addModifier(a);else{if(i)throw new o.a("Invalid key sequence: "+e+". Key sequences do not support pressing two (non-modifier) keys at the same time");i=!0,this._addSequencedKey(a)}}else for(n=0,r=(t=e.split(/\s/)).length;n<r;n++)this._addSequencedKey(this.getKeyCode(t[n]))},_addModifier:function(e){(this.modifiers||(this.modifiers=[])).push(e)},_addSequencedKey:function(e){(this.keys||(this.keys=[])).push(e)},_removeModifier:function(e){this.modifiers&&(this.modifiers=this.modifiers.filter((function(t){return t!==e})))},_removeSequencedKey:function(e){this.keys&&(this.keys=this.keys.filter((function(t){return t!==e})))},__superMap:{_$FC$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"KeySequence"}})},function(e,t,n){"use strict";function r(e){for(var t={},n=e.length,r=0;r<n;r++)t[e[r]]=!0;return t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={BACKSPACE:8,TAB:9,RETURN:13,ENTER:13,SHIFT:16,CTRL:17,OPTION:18,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,HOME:36,END:35,SPACE:32,PAGEUP:33,PAGEDOWN:34,INSERT:45,CMD:91,COMMA:188,EQUALS:187,MINUS:189,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,DIGIT_0:48,DIGIT_1:49,DIGIT_2:50,DIGIT_3:51,DIGIT_4:52,DIGIT_5:53,DIGIT_6:54,DIGIT_7:55,DIGIT_8:56,DIGIT_9:57}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1330),i=n(1364),a=n(1587),o=n(1345),s=n(1576),c=n(1383),l=n(1385),u=r.a.extend(i.a,s.a,{timeToKeepKeySequence:1e3,activeKeySequence:Object(a.c)({readOnly:!0,get:function(){return this._keySequence||(this._keySequence=c.a.create())}}),activeKeys:Object(s.g)({readOnly:!0,defaultValue:function(){return c.a.create()}}),_activeKeyLocations:Object(o.b)(Object),keyDown:function(e){this._timer&&(clearTimeout(this._timer),delete this._timer);var t=this.activeKeySequence,n=e.which;t.addKey(n);var r=this._activeKeyLocations,i=this.activeKeys.contains(n),a=1<<e.location;r[n]|=a,i||(this.activeKeys.addKey(n),this.propertyChanged("activeKeys")),this.syncMetaKeyStateFromEvent(e)},keyUp:function(e){var t=this._keySequence;if(t){this._timer&&clearTimeout(this._timer),this._timer=setTimeout((function(){t.clear()}),this.timeToKeepKeySequence);var n=e.which,r=this._activeKeyLocations,i=~(1<<e.location);(r[n]&=i)||(this.activeKeys.removeKey(n),this.propertyChanged("activeKeys"))}},syncMetaKeyStateFromEvent:function(e){var t=l.a.SHIFT,n=l.a.CMD,r=l.a.OPTION,i=l.a.CTRL,a=this.activeKeys,o=this.activeKeySequence,s=e.shiftKey,c=e.metaKey,u=e.altKey,d=e.ctrlKey,h=1<<e.location;!1===s&&(a.has(t)||o.has(t))&&this.keyUp({which:t,location:h}),!1===c&&(a.has(n)||o.has(n))&&this.keyUp({which:n,location:h}),!1===u&&(a.has(r)||o.has(r))&&this.keyUp({which:r,location:h}),!1===d&&(a.has(i)||o.has(i))&&this.keyUp({which:i,location:h})},staticMembers:{__QUALIFIED_CLASS_NAME__:"KeyManager"}})},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(1316),i=n(1332),a=n(1388),o=n(1326),s=n(1593),c=n(1315),l={then:function(e,t){var n=this.internalPromise,r=d.createEmpty();return e&&(r._resolveHandler=e),t&&(r._rejectHandler=t),r.internalPromise=n.then(e,t),r},catch:function(e){return this.then(null,e)},finally:function(e){var t=this.internalPromise,n=d.createEmpty();return n.internalPromise=t.then((function(t){return e(t),t}),(function(t){throw e(t),t})),n},promiseState:null,resolve:function(e){if(this.promiseState===d.PENDING){if(e===this)throw new r.a("Promise cannot resolve with itself",this);if(e instanceof Promise||Object(i.a)(e,d))e.then(this._resolveHandler.bind(this),this._rejectHandler.bind(this));else if(Object(a.a)(e))try{e.then(this._resolveHandler.bind(this),this._rejectHandler.bind(this))}catch(t){this._rejectHandler(t)}else this._resolveHandler(e)}},reject:function(e){this.promiseState===d.PENDING&&this._rejectHandler(e)},rejectWithExceptionHandling:function(e){this.reject()},init:function(){this.__s._$1kw$init.apply(this,arguments),this.promiseState=d.PENDING,void 0===this.internalPromise&&(this.internalPromise=this._createPromise())},_createPromise:function(){var e=this;return new Promise((function(t,n){e._resolveHandler=function(n){e.promiseState=d.RESOLVED.FULFILLED,t(n)},e._rejectHandler=function(t){e.promiseState=d.RESOLVED.REJECTED,n(t)}}))},internalPromise:void 0,_resolveHandler:null,_rejectHandler:null,__superMap:{_$1kw$init:"init"}},u=Object(c.b)("PROMISE_STATES",(function(e){e("PENDING"),e("RESOLVED",(function(e){e("FULFILLED"),e("REJECTED")}))})),d=s.a.extend(u.toStaticMixin(),l,{staticMembers:{wrap:function(e){if(e instanceof Promise)return this.wrapPromise(e);if(Object(a.a)(e))return this.resolve(e);if(Object(o.a)(e))return this.wrapFunction(e);throw new r.a("CW.Promise.wrap can only be used with functions or thenables",e)},wrapPromise:function(e){return this.create({internalPromise:e})},wrapFunction:function(e){if(!Object(o.a)(e))throw new r.a("CW.Promise.wrapFunction can only be used with a function.",e);var t=this;return function(){var n=t.create(),r=arguments;return setTimeout(function(){try{var t=e.apply(this,r);n.resolve(t)}catch(i){n.reject(i)}}.bind(this),0),n}},invokeFunction:function(e,t){var n=this.wrapFunction(e);return n.call(n,t)},createEmpty:function(){return this.create({internalPromise:null})},waterfall:function(e,t){var n=void 0!==t,r=n?this.invokeFunction(h(t)):void 0;if(0===e.length)return r||this.resolve();var i,a=0,o=e.length;for(n||(a=1,r=this.invokeFunction(h(e[0])));a<o;a++)i=h(e[a]),r=r.then(this.wrapFunction(i));return r},sequence:function(e){var t=[];if(0===e.length)return this.resolve(t);for(var n,r=function(e){t.push(e)},i=1,a=e.length,o=this.invokeFunction(h(e[0])).then(r);i<a;i++)n=h(e[i]),o=o.then(this.wrapFunction(n)).then(r);return o.then(h(t))},concurrent:function(e,t){if(t=t||1,0===e.length)return this.resolve([]);if(e.length<=t)return this.all(e);var n=this,r=this.create(),i=[],a=[],o=e;return function e(){for(var s,c,l;a.length<t&&o.length>0;)s=h(o.shift()),c=n.invokeFunction(s).then((function(t){i.push(t),l=a.indexOf(this),a.splice(l,1),e()})).catch(r.reject.bind(r)),a.push(c);a.length||o.length||r.resolve(i)}(),r},all:function(){return this.resolve(Promise.all.apply(Promise,arguments))},race:function(){return this.resolve(Promise.race.apply(Promise,arguments))},resolve:function(){var e=this.create();return e.resolve.apply(e,arguments),e},reject:function(){var e=this.create();return e.reject.apply(e,arguments),e},allSettled:function(e){return Array.isArray(e)||(e=Array.from(e)),this.all(e.map((function(e){return e.then((function(e){return{status:"fulfilled",value:e}}),(function(e){return{status:"rejected",reason:e}}))})))},__QUALIFIED_CLASS_NAME__:"CorePromise"}});function h(e){return Object(o.a)(e)?e:function(){return e}}},function(e,t,n){"use strict";function r(e){return e&&"function"===typeof e.then}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(1594),i=n(1334),a=n(1330),o=n(1345),s=n(1387),c={mixinDependencies:[r.a],action:i.a.create()},l=a.a.extend(c,{dependencies:Object(o.b)([]),run:function(e){var t=this,n=e.initializerPromises,r=this.constructor,i=n.get(r);if(i)return i;var a=this.dependencies.map((function(t){return t.create().run(e)}));return i=s.a.all(a).then((function(){return t.action(e)})).catch((function(e){throw e})),n.set(r,i),i},staticMembers:{__QUALIFIED_CLASS_NAME__:"AppInitializer"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(1330),i=n(1345),a=n(1587),o=n(1372),s=n(1391),c=n(1576),l=n(1595),u=n(1338),d=n(1316),h=n(1413),f=n(1579),p=r.a.extend(c.a,o.a,s.a,{_childViewControllers:Object(i.b)(Array),parent:Object(c.g)(null),_isViewLoaded:!1,isViewLoaded:Object(a.c)({readOnly:!0,get:function(){return this._isViewLoaded}}),_isAttached:void 0,isAttached:Object(c.g)({dependencies:["parent.isAttached"],defaultValue:!1,readOnly:!0,get:Object.assign((function(){var e=this._isAttached;return Object(u.a)(e)?e:Boolean(this.getPath("parent.isAttached"))}),{__CW__getter:function(e,t,n,r){var i=this._isAttached;return Object(u.a)(i)?i:Boolean(r.internalGetPath(this,t[0+n]))}})}),_setIsAttached:function(e){this._isAttached=e,this.propertyChanged("isAttached")},isRootViewController:!1,_view:null,view:Object(c.g)({readOnly:!0,strong:!0,get:function(){return this.loadView(),this._view}}),presentingViewController:null,viewClass:f.a,dispose:function(){var e=this._childViewControllers,t=0,n=e.length;for(t=0;t<n;t++)e[t].parent=null,e[t].release(this,"holding as a childViewController");this.unloadView(!0),this.__s._$1Nd$dispose.apply(this,arguments)},loadView:function(){if(!this._isViewLoaded){this.viewWillLoad();var e=this.createView();e.beginBatchSet().set("viewController",this).set("nextResponder",this).set("focusParent",this).end(),this._view=e,this._isViewLoaded=!0,this._loadChildViews(e),this.viewDidLoad(e)}},viewWillLoad:function(){},viewDidLoad:function(e){},viewWillUnload:function(e){},viewDidUnload:function(){},createView:function(){return this.viewClass.create({isRootView:this.isRootViewController})},unloadView:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._isViewLoaded){var t=this._view;this.viewWillUnload(t),t.beginBatchSet().set("viewController",null).set("nextResponder",null).set("focusParent",null).end(),this._view=null,this._isViewLoaded=!1,e||this.propertyChanged("view"),this.viewDidUnload()}},willMoveToParentViewController:function(e){e&&e.isAttached&&!this.isAttached?this.willAttach():!e&&this.isAttached&&this.willDetach()},didMoveToParentViewController:function(e){e&&e.isAttached?this.didAttach():e||this.didDetach()},willAttach:function(){var e,t=this._childViewControllers,n=t.length;for(e=0;e<n;e++)t[e].willAttach()},didAttach:function(){var e,t=this._childViewControllers,n=t.length;for(e=0;e<n;e++)t[e].didAttach()},willDetach:function(){var e,t=this._childViewControllers,n=t.length;for(e=0;e<n;e++)t[e].willDetach()},didDetach:function(){var e,t=this._childViewControllers,n=t.length;for(e=0;e<n;e++)t[e].didDetach()},addChildViewController:function(e,t){var n=this._childViewControllers;if(e.parent)throw new d.a("Cannot add view controller because it is already a child of a view controller",{parent:this,child:e});n.push(e),t?(t.set(e,"parent",this),t.set(e,"focusParent",this)):(e.parent=this,e.focusParent=this),e.retain(this,"holding as a childViewController")},removeChildViewController:function(e,t){var n=this._childViewControllers;if(n.indexOf(e)<0)throw new d.a("Cannot remove view controller because it is not a child of this view controller",{parent:this,child:e});t?(t.set(e,"parent",null),t.set(e,"focusParent",null)):(e.parent=null,e.focusParent=null),e.release(this,"holding as a childViewController"),Object(h.a)(e,n)},_loadChildViews:function(e){for(var t=this._childViewControllers,n=0;n<t.length;n++){var r=t[n],i=r._destinationViewOutlet;i&&e.setPath(i,r.view)}},defaultFocusChild:Object(l.c)("view"),focusAsLeaf:function(){var e=this.__s._$4Qn$focusAsLeaf.apply(this,arguments);return e&&this.view.focus(),e},nextResponder:Object(a.c)({get:function(e){if(e)return e;var t=this.view;return t?t.parent:null}}),performAction:function(e){var t=this.targetViewControllerForAction(e,this);if(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t[e](...r)}throw new d.a("CW.ViewController"+e+" No view controller in hierarchy implements "+e+".",{viewController:this})},canPerformAction:function(e,t){var n=this[e];switch(e){case"showViewController":case"showDetailViewController":case"presentViewController":case"dismissViewController":return"function"===typeof n&&n!==p.prototype[e];default:return this.__s._$5A6$canPerformAction.apply(this,arguments)}},targetViewControllerForAction:function(e,t){var n=null;if(this.canPerformAction(e,t))n=this;else{var r=this.nextResponder;r&&(n=r.targetViewControllerForAction(e,t))}return n},showViewController:function(e){this.performAction("showViewController",e)},showDetailViewController:function(e){this.performAction("showDetailViewController",e)},presentViewController:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.presentingViewController=this,this.performAction("presentViewController",e,t)},dismissViewController:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.performAction("dismissViewController",e,t)},dismiss:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.presentingViewController;if(t)return t.dismissViewController(this,e);throw new d.a("CW.ViewController#dismiss The view controller has no presentingViewController.",{viewController:this})},__superMap:{_$1Nd$dispose:"dispose",_$4Qn$focusAsLeaf:"focusAsLeaf",_$5A6$canPerformAction:"canPerformAction"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ViewController"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return h}));var r=n(1332),i=n(1317),a=n(1576),o=n(1595),s=n(1372),c={mixinDependencies:[a.a,s.a],defaultFocusChildren:Object(a.g)(),isFocused:Object(a.g)({readOnly:!0,dependencies:["isInFocusedBranch","focusedChild"],get:Object.assign((function(){return this.isInFocusedBranch&&!this.focusedChild}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])&&!r.internalGet(this,t[1+n])}})}),descendantHasFocus:Object(a.g)({readOnly:!0,dependencies:["isInFocusedBranch","focusedChild"],get:Object.assign((function(){return this.isInFocusedBranch&&!!this.focusedChild}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])&&!!r.internalGet(this,t[1+n])}})}),isFocusable:Object(a.g)(!1),isFocusablePane:Object(a.g)(!0),shouldFocusPaneOnAttach:Object(a.g)(!0),isFocusedPane:Object(a.g)({readOnly:!0,dependencies:["focusParent.isFocusedLayer"],get:Object.assign((function(){return this.getPath("focusParent.isFocusedLayer")}),{__CW__getter:function(e,t,n,r){return r.internalGetPath(this,t[0+n])}})}),isInTheFocusedPane:Object(a.g)({readOnly:!0,dependencies:["focusParent.isInTheFocusedPane","isFocusedPane"],get:Object.assign((function(){return!!this.isFocusedPane||!!this.getPath("focusParent.isInTheFocusedPane")}),{__CW__getter:function(e,t,n,r){return!!r.internalGet(this,t[1+n])||!!r.internalGetPath(this,t[0+n])}})}),inheritsFocusLayer:Object(a.g)(!1),isInFocusableLayer:Object(a.g)(Object(o.c)("focusParent.isInFocusableLayer")),isInFocusedLayer:Object(a.g)(Object(o.c)("focusParent.isInFocusedLayer")),isInFocusedBranch:Object(a.g)({readOnly:!0,dependencies:["isInFocusedLayer","isFocusedInParent","focusParent.isInFocusedBranch"],get:Object.assign((function(){var e=this.isInFocusedLayer,t=this.isFocusedInParent,n=this.getPath("focusParent.isInFocusedBranch");return e&&t&&n}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]),a=r.internalGet(this,t[1+n]),o=r.internalGetPath(this,t[2+n]);return i&&a&&o}})}),isFocusedInParent:Object(a.g)({dependencies:["focusParent.focusedChild"],readOnly:!0,get:Object.assign((function(){var e=this.getPath("focusParent.focusedChild");return this.isRootViewController||e===this}),{__CW__getter:function(e,t,n,r){var i=r.internalGetPath(this,t[0+n]);return this.isRootViewController||i===this}})}),focusResponder:Object(a.g)({dependencies:["focusedChild","focusedChild.focusResponder"],readOnly:!0,get:Object.assign((function(){return this.focusedChild&&this.focusedChild.focusResponder||(this.isFocusable?this:null)}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])&&r.internalGetPath(this,t[1+n])||(this.isFocusable?this:null)}})}),parent:Object(a.g)(null),focusParent:Object(a.g)({dependencies:["parent"],writeDependencies:[],get:Object.assign((function(e){var t=e||this.parent;return Object(r.a)(t,c)?t:void 0}),{__CW__getter:function(e,t,n,i){var a=e||i.internalGet(this,t[0+n]);return Object(r.a)(a,c)?a:void 0}}),set:function(e){return e}}),focusedChild:Object(a.g)(),_focusInTree:function(){if(this.isInFocusedBranch)return!0;if(!this.isInFocusableLayer)return!1;var e=this.focusParent;return e.focusedChild=this,e._focusInTree()},focus:function(e){if(!this.isInFocusableLayer&&(this.sendEvent("appGainedFocusability"),!this.isInFocusableLayer))return!1;if(!e&&this.isInFocusedBranch)return this.focusAsLeaf();var t=!1;return(t=this.reFocus())||(t=this.focusDefault()),t||(t=this.focusAsLeaf()),t},focusAsLeaf:function(){return!!this.isFocusable&&(this.focusedChild=null,this._focusInTree(),this.sendEvent("appWantsFocus"),this.isFocused)},reFocus:function(){var e=this.focusResponder;return!(!e||e===this)&&!e.isDisposing&&!e.isDisposed&&e.focus()},focusDefault:function(){var e=this.defaultFocusChildren;if(e)for(var t=0,n=e.length;t<n;t++){var i=e.objectAt(t);if(i&&Object(r.a)(i,c)&&i.focus())return!0}var a=this.defaultFocusChild;return!!a&&!a.isDisposing&&!a.isDisposed&&a.focus()},_blurInTree:function(){if(!this.isInFocusedBranch)return!0;if(!this.isInFocusableLayer)return!1;var e=this.focusParent;return!e||!this.isFocusedInParent||(e._blurInTree(),e.focusedChild=null,!0)},blur:function(){return!(!this.isInFocusableLayer&&(this.sendEvent("appGainedFocusability"),!this.isInFocusableLayer))&&this._blurInTree()},didFocus:i.a,didBlur:i.a,defaultFocusChild:Object(a.g)(),isFocusedLayer:Object(a.g)({readOnly:!0,defaultValue:!1}),_wasFocused:!1,isFocusedDidChange:Object(a.h)("isFocused",(function(e){e?(this._wasFocused=!0,this.didFocus()):this._wasFocused&&(this._wasFocused=!1,this.didBlur())})),didReceiveFocus:function(e){var t=!1;return null===e.relatedTarget&&(this.sendEvent("appGainedFocusability"),t=!0),this.isInFocusableLayer&&this.isFocusable||this.sendEvent("focusReleasedInApp"),this.isFocused||this.focus(t),!0},didReceiveBlur:function(e){return null!==e.relatedTarget||document.hasFocus()||this.sendEvent("appLostFocus"),!0}},l=null,u=null;function d(){l&&l.focus(),l=null,u=null}var h={mixinDependencies:[c],tabIndex:Object(a.g)(0),_previousDefaultFocusElement:Object(a.g)(),tabIndexObserver:Object(a.h)({inputs:["isFocusable","tabIndex","defaultFocusElement"],callback:function(e,t,n){var r=this._previousDefaultFocusElement;r&&r.removeAttribute("tabIndex"),this._previousDefaultFocusElement=n,n&&(e?n.setAttribute("tabIndex",t):n.removeAttribute("tabIndex"))}}),focusAsLeaf:function(){var e=this.__s._$4hx$focusAsLeaf.apply(this,arguments);if(e){var t=this.defaultFocusElement;u||(u=setTimeout(d,0)),l=t}return e},blur:function(){var e=this.__s._$4tG$blur.apply(this,arguments);if(e){var t=this.defaultFocusElement;t&&t.blur()}return e},defaultFocusElement:Object(a.g)({binding:Object(o.c)("element"),readOnly:!0}),didFocus:function(){},__superMap:{_$4hx$focusAsLeaf:"focusAsLeaf",_$4tG$blur:"blur"}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var r=n(1327),i=n(1398),a=n(1393),o=n(1396),s=n(1394),c=n(1395),l=a.a.extend({nodeType:"ELEMENT",register:function(e,t,n){if(!n){var r=t.name;r&&Object(s.b)(e,r,t)}var i,a,o=t.classes;if(o){var c=o.length;for(a=0;a<c;a++)e.registerOutletAndSubOutlets(o[a],t)}var l=t.styles;if(l)for(i in l)e.registerOutletAndSubOutlets(l[i],t);var u=t.attributes;if(u)for(i in u){var d=u[i];e.registerOutletAndSubOutlets(d,t)}var h=t.children;if(h){var f=h.length;for(a=0;a<f;a++){var p=h[a];p.index=a,e.registerOutletAndSubOutlets(p,t)}}},render:function(e,t,n){var i,a,o=n.namespace,s=n.tagname,l=o?t.createElementNS(o,s):t.createElement(s),u=n.classes;if(u){var d=l.classList,h=u.length;for(a=0;a<h;a++){var f=e.renderNodeAndSubNodes(u[a],t);f&&d.add(f)}}var p=n.styles;if(p)for(i in p)Object(c.a)(l,i,e.renderNodeAndSubNodes(p[i],t));var g=n.attributes;if(g)for(i in g){var m,v=g[i];if(Object(r.a)(v)){var y=v;m=y.namespace,i=y.key}else m=null;m?l.setAttributeNS(m,i,e.renderNodeAndSubNodes(v,t)):l.setAttribute(i,e.renderNodeAndSubNodes(v,t))}var _=n.children;if(_){var b=_.length;for(a=0;a<b;a++){var w=_[a];w.index=a,l.appendChild(e.renderNodeAndSubNodes(w,t))}}return l},staticMembers:{__QUALIFIED_CLASS_NAME__:"_ElementHandler"}}),u={mixinDependencies:[o.a,i.a],staticMembers:{handler:l.create()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1593),i=n(1317),a=r.a.extend({nodeType:"",generateLookupFunction:function(e,t){return function(n){return n=n.childNodes[e.index],t(n)}},initializeMember:function(e,t){var n=this.nodeType.toLowerCase();e._nodeHandlers[n]=this},render:i.a,register:i.a,staticMembers:{__QUALIFIED_CLASS_NAME__:"TemplateHandler"}})},function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return p}));var r=n(1344),i=n(1317),a=n(1321),o=n(1332),s=n(1384),c=n(1576);function l(e,t){for(var n=r.a;t.parent;)n=e._getNodeHandler(t).generateLookupFunction(t,n),t=t.parent;return n}function u(e,t){return t(e)}function d(e,t,n,r){var s,d,h,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i.a,p=t.name,g=e.prototype,m="_"+p+"OutletObserver",v=g.getMetadataByType(c.d);if(v.hasOwnProperty(m)){var y=v[m];s=y.transforms,d=y.paths,h=y.sideEffects}else{s=[],d=[],h=[];var _="_render"+p+"Outlet";g[_]=function(e){for(var t=d.length,n=this.element,r=[],i=0;i<t;i++)r[i]=u(n,d[i]);(this[_]=function(e){for(var n=0;n<t;n++){var i=s[n].call(this,r[n],e);i&&(r[n]=i),h[n].call(this,i,e)}}).call(this,e)};var b=Object(a.a)(p)[0];Object(o.a)(g.getMetadata(b),c.b)||(r||(r={}),r.outletProperty=!0,g.registerMetadata(b,c.b.define(r)));var w=function(e){this[_](e)};w.displayName=p+" template outlet observer";var S=Object(c.h)({inputs:[p],callback:w});S.transforms=s,S.paths=d,S.sideEffects=h,g.registerMetadata(m,S),e._outletWasRegistered(b)}var E=t.attributes;if(E){var I=E.signal;I&&g.registerMetadata(I,Object(c.h)(m,i.a))}s.push(n),h.push(f),d.push(l(e,t))}function h(e){if(e.hasOwnProperty("validvalues")){var t=Object(s.a)(e.validvalues);return function(e){if(t[e])return e}}if(e.hasOwnProperty("truevalue")){var n=e.truevalue;if(e.hasOwnProperty("falsevalue")){var r=e.falsevalue;return function(e){return e?n:r}}return function(e){if(e)return n}}return f}var f=function(e){return e};function p(e,t,n){var r=l(e,n);e.prototype.registerMetadata(t,Object(c.g)({readOnly:!0,dependencies:["element"],get:Object.assign((function(){return u(this.element,r)}),{__CW__getter:function(e,t,n,i){return u(i.internalGet(this,t[0+n]),r)}})}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return M})),n.d(t,"b",(function(){return R}));var r=n(1593),i=n(1351),a=n(1363),o=n(1316),s=n(1327),c=n(1304),l={"animation-duration":"s","animation-delay":"s","animation-iteration-count":"","column-count":"",columns:"","font-size-adjust":"","font-weight":"",opacity:"",order:"",orphans:"","tab-size":"","transition-delay":"s","transition-duration":"s",widows:"","z-index":"","flex-grow":"","flex-shrink":""},u=a.a.sharedInstance,d={translate:{subkeys:"translateX translateY translateZ".split(" "),defaultUnit:"px",processArgs:function(){if(O<2)throw new o.a("When adding a `translate` transform, at least two arguments (for X and Y) are required.")}},translateDevicePixels:{transform:"translate",subkeys:"translateX translateY translateZ".split(" "),defaultUnit:"px",processArgs:function(){if(O<2)throw new o.a("When adding a `translate` transform, at least two arguments (for X and Y) are required.");for(var e=0;e<O;e++){var t=C[e],n=u.ceilToDevicePixelRatio(t);C[e]=n}}},scale:{subkeys:"scaleX scaleY scaleZ".split(" "),defaultUnit:"",processArgs:function(){1===O&&(O=2,C[1]=C[0])}},rotate:{subkeys:"rotateX rotateY rotateZ".split(" "),defaultUnit:"deg",processArgs:function(){if(2===O)throw new o.a("When adding a `rotate` transform, either one or three arguments (for Z-only or X, Y, Z) are required.");1===O&&(O=3,C[2]=C[0],C[0]=C[1]=void 0)}},skew:{subkeys:"skewX skewY".split(" "),defaultUnit:"deg",processArgs:function(){}},matrix:{subkeys:[],_name:"matrix",_requiredArgs:6,processArgs:function(){d.matrix3d.processArgs.call(this)}},matrix3d:{subkeys:[],_name:"matrix3d",_requiredArgs:16,processArgs:function(){var e,t,n=1===O&&C[0];if(n&&Array.isArray(n))for(O=n.length,e=0;e<O;e++)C[e]=n[e];if(O!==this._requiredArgs)throw new o.a("When adding a `"+this._name+"` transform, exactly "+this._requiredArgs+" arguments are required.");for(e=0;e<O;e++){if(t=C[e],isNaN(t))throw new o.a("All arguments to `"+this._name+"` must be numbers.");C[e]=(+t).toFixed(15)}}}},h=function(){var e,t,n,r,i,a,o={};for(e in d)for(n=(t=d[e]).defaultUnit,a=(r=t.subkeys).length,i=0;i<a;i++)o[r[i]]=n;return o}(),f=r.a.extend(i.a,{element:null,_unflushedStyles:null,_unflushedStyleKeys:null,_unflushedStyleKeysLen:0,_pauseCount:0,init:function(e){this.element=e,this._unflushedStyles={},this._unflushedStyleKeys=[],this.__s._$26k$init.call(this)},set:function(e,t){if(Object(s.a)(e))return this._setWithHash(e);t=function(e,t){if(0!==t&&!t)return"";if(!isNaN(t)){var n=l[e];return void 0===n&&(n="px"),t+n}return t}(e,t),e=m(e);var n=this._unflushedStyles;return n[e]||(this._unflushedStyleKeys[this._unflushedStyleKeysLen++]=e),n[e]=t,this._flushStylesToElement(),this},get:function(e){return e=I(e)+e,function(e,t){var n;(n=e._computedStyle)||(n=e._computedStyle=document.defaultView.getComputedStyle(e,null));var r=n.getPropertyValue(t);return!r&&b[t]&&(r=b[t](n)||r),r}(this.element,e)},getInline:function(e){return e=m(e),this.element.style[e]},clear:function(e){return e?this.set(e,void 0):this._clearAll()},transform:function(e){if(!arguments.length)return this._partialTransformString=null,this.set("transform","");var t,n,r,i,a,o,s=d[e],c=this._partialTransformString||"";if(this._partialTransformString=null,s){var l=s.transform||e;for(t=s.subkeys,n=s.defaultUnit,O=(a=arguments.length)-1,i=1;i<a;i++)C[i-1]=arguments[i];if(s.processArgs(),t.length>=O)for(i=0;i<O;i++)void 0!==(r=C[i])&&(isNaN(r)||(r+=n),o=t[i],A[o]&&("rotateZ"!==o||A.rotateX||A.rotateY||(o="rotate"),c+=(i?" ":"")+o+"("+r+")"));else for(c+=l+"(",i=0;i<O;i++)c+=(r=C[i])+(i<O-1?", ":")")}else void 0!==(r=arguments[1])&&A[e]&&(isNaN(r)||(r+=h[e]),"rotateZ"!==e||A.rotateX||A.rotateY||(e="rotate"),c+=e+"("+r+")");return this.set("transform",c),g.styleInstance=this,g._partialTransformString=c+" ",g},layerBack:function(){return this.translateZ(0)},forceRedraw:function(){var e=this.element,t=e.parentNode;if(t){var n=e.nextSibling;t.removeChild(e),t.insertBefore(e,n)}return this},layerBackIf:function(e){return this.translateZ(e?0:void 0)},pause:function(){return this._pauseCount++,this},resume:function(){return--this._pauseCount<=0&&(this._pauseCount=0),this._hasUnflushedStyles&&this._flushStylesToElement(),this},_setWithHash:function(e){for(var t in this.pause(!0),e)e.hasOwnProperty(t)&&this.set(t,e[t]);return this.resume(!0),this},_clearAll:function(){for(var e=this.element.style,t=e.length;t>=0;t--)e.removeProperty(e[t]);return this},_flushStylesToElement:function(){if(this._pauseCount)this._hasUnflushedStyles=!0;else{var e,t,n=this.element.style,r=this._unflushedStyles,i=this._unflushedStyleKeys,a=this._unflushedStyleKeysLen;for(e=0;e<a;e++)t=i[e],i[e]=void 0,n[t]=r[t],r[t]=void 0;this._unflushedStyleKeysLen=0}},__superMap:{_$26k$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Style"}}),p=function(){var e={transform:!0,layerBack:!0,layerBackIf:!0},t=function(t){e[t]=!0};return Object.keys(d).forEach(t),Object.keys(h).forEach(t),e}();!function(){var e=f.prototype,t=[],n=function(e){return function(){for(var n=(t.length=arguments.length+1)-1;n>=1;n--)t[n]=arguments[n-1];return t[0]=e,this.transform.apply(this,t)}};for(var r in d)e[r]=n(r);for(var i in h)e[i]=n(i)}();var g=function(){var e={styleInstance:null,_partialTransformString:null},t=f.prototype,n=function(e){return p[e]?function(){var t=this.styleInstance;return t._partialTransformString=this._partialTransformString,t[e].apply(t,arguments)}:function(){var t=this.styleInstance;return t[e].apply(t,arguments)}};for(var r in t)t.hasOwnProperty(r)&&t[r]instanceof Function&&"_"!==r[0]&&"constructor"!==r&&!e[r]&&(e[r]=n(r));return e}();function m(e){return y(e=I(e)+e)}var v={};function y(e){var t=v[e];if(t)return t;if(!e)return"";0!==e.indexOf("-ms-")&&0!==e.indexOf("-webkit-")||(e=e.substring(1));var n,r=e,i=r.length;for(n=0;n<i;n++)"-"===r[n]&&n<i-1&&(r=r.substring(0,n)+r[n+1].toUpperCase()+r.substring(n+2),i--);return v[e]=r,r}var _=["style","variant","weight","size","family"],b={font:function(e){for(var t="",n=0,r=_.length;n<r;n++){var i=_[n],a=e.getPropertyValue("font-"+i);if(a&&(t&&(t+=" "),t+=a,"size"===i)){var o=e.getPropertyValue("line-height");o&&(t+="/"+o)}}return t}},w=["","-ms-","-moz-","-webkit-","-o-"],S={},E=document.createElement("div");function I(e){var t=S[e];if(void 0!==t)return t;if(e.match(T))throw new o.a('Attempting to set style "'+e+"\". Use the dashed form of the style's name instead.");var n,r,i=w.length,a=!1;for(n=0;n<i;n++)if(r=w[n],"string"===typeof E.style[y(r+e)]){a=!0,r&&w.length>2&&(w=["",r]);break}return a?S[e]=r:c.b.warn("Using unsupported style "+e+"."),a?r:""}var C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],O=0,T=/[A-Z]/,A={};!function(){var e;for(e in h)h.hasOwnProperty(e)&&(A[e]=!0);var t=f.create(document.createElement("div"));for(e in A)if(A.hasOwnProperty(e)){var n=t.transform(e,1).getInline("transform");n&&"none"!==n||(A[e]=!1),t.transform()}}();var N=function(){var e=f.create(),t=e.pause,n=e.resume;return e.pause=function(e){if(e)return t.call(this);throw new o.a("Cannot `pause` the shared CW.UI.Style instance.")},e.resume=function(e){if(e)return n.call(this);throw new o.a("Cannot `resume` the shared CW.UI.Style instance.")},e}();function M(e,t,n){if(e){var r=arguments.length;if(!(r>1))return e._cwStyleProxy||(e._cwStyleProxy=f.create(e));var i=e._cwStyleProxy,a=i||Object.assign(N,{element:e});3===r&&a.set(t,n),2===r&&a.set(t),i||(N.element=null)}}var D=I("transform")+"transform";function R(e,t,n){e[D]="translate("+u.ceilToDevicePixelRatio(t)+"px, "+u.ceilToDevicePixelRatio(n)+"px)"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return y})),n(1397);var r=n(1345),i=n(1580),a=n(1576),o=n(1327),s=n(1316),c=n(1317),l=n(1337),u=n(1329),d=n(1349),h=n(1384),f=n(1382),p=n(1398),g="_renderedValue",m={mixinDependencies:[p.a],staticMembers:{init:function(e){this.__s._$1JC$init.call(this,e);var t,n=this.template;if(n){if(!Object(o.a)(n))throw new s.a("Template must be a $template");var r=0;!this.hasOwnProperty("template")&&n.classes&&(r=n.classes.length);var i=this._templateExtensionsArray;if(i){for(var l=i.length,u=0;u<l;u++)n=v(n,i[u]);this.template=n,delete this._templateExtensionsArray,(t=i).length=0,A.push(t)}var d=n.classes;if(d)for(var h=r,f=d.length;h<f;h++)if("string"===typeof d[h]){this.className=!1;break}this.registerOutletAndSubOutlets(n);var p=this._handledOutlets,g=this.superclass._handledOutlets,m=this.prototype;for(var y in g)if(g[y]&&!p[y]){if(m.getMetadata(y).outletProperty)throw new s.a("Template error: template redefined with missing outlet: %{outletName}. If you are implementing this property in a different way, you may suppress this error by redefining the property in your subclass.",{outletName:y});var _="_"+y+"OutletObserver";m.registerMetadata(_,Object(a.h)(y,c.a))}}},_templateExtensionsArray:null,mixinWasApplied:function(){var e=this.templateExtensions;if(e){var t=this._templateExtensionsArray;t||(t=this._templateExtensionsArray=A.length>0?A.pop():[]),t.push(e),delete this.templateExtensions}},template:{type:"ELEMENT",tagname:"div"},templateExtensions:null,_nodeHandlers:{},_getNodeHandler:function(e){var t=e.type.toLowerCase(),n=this._nodeHandlers[t];if(t&&!n)throw new s.a("No handler for template node type: "+t);return n},registerOutletAndSubOutlets:function(e,t){if(Object(l.a)(e))return e;var n=this._getNodeHandler(e),r=n.register;r&&(e.parent=t,r.call(n,this,e))},renderNodeAndSubNodes:function(e,t){if(Object(l.a)(e))return e;var n=this._getNodeHandler(e),r=n.render;if(!r)throw new s.a("No render handler for template node type: "+e.type);return r.call(n,this,t,e)},_handledOutlets:Object(r.b)(Object),_outletWasRegistered:function(e){this._handledOutlets[e]=!0},__superMap:{_$1JC$init:"init"}},init:function(e){(this.element=this.generateElementNode()).view=this,this.__s._$3e_$init.apply(this,arguments)},_getRenderedTemplate:function(e,t){var n=e[g];return n||(n=e[g]=i.a.create()),n.get(t)},generateElementNode:function(){var e=this.constructor.template;if(e){var t=this.document,n=this._getRenderedTemplate(e,t);return n||(n=this.constructor.renderNodeAndSubNodes(e,t),e[g].set(t,n)),n.cloneNode(!0)}},__superMap:{_$3e_$init:"init"}};function v(e,t){var n=y(e);for(var r in t){var i=t[r];if(Object(u.a)(i))for(var a=i.length,c=0;c<a;c++)C(n,r,i[c]);else{if(!Object(o.a)(i))throw new s.a("Template extension must be a $template or an array of $templates.");C(n,r,i)}}return n}function y(e){return Object(d.b)(e,S)}var _=Object(h.a)(["attributes","children","classes","data","falsevalue","index","name","namespace","property","styles","tagname","truevalue","type","unit","validvalues","key","value","bindingtype"]),b=Object(h.a)(["styles","classes","attributes","children"]);function w(e,t){return b[t]?E:S}function S(e,t,n){return _[n]?Object(d.b)(e,w(0,n)):d.a}function E(e,t,n){return Object(d.b)(e,w(0,n))}var I="ext";function C(e,t,n){n=y(n);var r=function(e){var t=e._namesCache;return t||(e._namesCache=t=T(e,{root:e})),t}(e)[t];if(!r)throw new s.a("unable to find outlet with name "+t+" to extend");n.tagname!==I&&(r.tagname=n.tagname),r.attributes=Object(f.a)(r.attributes,n.attributes),r.styles=Object(f.a)(r.styles,n.styles),r.children=O(r.children,n.children),r.classes=O(r.classes,n.classes)}function O(){for(var e,t=arguments.length,n=0;n<t;n++){var r=arguments[n];r&&(e=e?e.concat(r):r)}return e}function T(e,t){if(e){var n=e.name;if(n){var r=t[n];if(r&&e!==r)throw new s.a("invalid node name: '"+n+"' is already used");t[n]=e}var i=e.children;if(i)for(var a=i.length,o=0;o<a;o++)T(i[o],t);return t}}var A=[]},function(e,t,n){"use strict";function r(e,t,n){return t in e||(e[t]=n),e}var i,a,o=window.Window;o&&(i=o.prototype);var s=window.HTMLDocument;s&&(a=s.prototype);var c=Element.prototype,l=[];if(!("addEventListener"in c)){var u=function(e,t,n){if(n)throw new Error("The optional `useCapture` argument is not supported in this browser");for(var r=0,i=l.length;r<i;r++){var a=l[r];if(a.type===e&&a.listener===t)return}var o=this,s=function(e){e.target=e.srcElement,e.currentTarget=o,t.call(o,e)},c=e,u=s;if("DOMContentLoaded"===e&&(c="readystatechange",u=function(e){"complete"===document.readyState&&s(e)},"complete"===document.readyState)){var d=document.createEventObject();d.srcElement=window,u(d)}this.attachEvent("on"+c,u),l.push({object:this,type:e,listener:t,wrapper:u})};r(c,"addEventListener",u),i&&r(i,"addEventListener",u),a&&r(a,"addEventListener",u)}if(!("removeEventListener"in c)){var d=function(e,t,n){if(n)throw new Error("The optional `useCapture` argument is not supported in this browser");for(var r=-1,i=l.length;++r<i;){var a=l[r];if(a.object===this&&a.type===e&&a.listener===t){var o;o="DOMContentLoaded"===e?"readystatechange":e,this.detachEvent("on"+o,a.wrapper),l.splice(r,1);break}}};r(c,"removeEventListener",d),i&&r(i,"removeEventListener",d),a&&r(a,"removeEventListener",d)}if(!c.hasOwnProperty("classList")){var h=function(e){this.element=e},f=h.prototype;f.item=function(e){var t=this.element.getAttribute("class"),n=t?t.trim().split(/\s+/):null;return n?n[e]:void 0},f.contains=function(e){var t=this.element.getAttribute("class");return(t?" "+t+" ":"").indexOf(" "+e+" ")>-1},f.add=function(){for(var e=this.element,t=e.getAttribute("class"),n=t?" "+t+" ":" ",r=!1,i=arguments.length,a=0;a<i;a++){var o=arguments[a]+" ";-1===n.indexOf(" "+o)&&(n+=o,r=!0)}r&&e.setAttribute("class",n.substring(1,n.length-1))},f.remove=function(){for(var e=this.element,t=e.getAttribute("class"),n=t?" "+t+" ":" ",r=!1,i=arguments.length,a=0;a<i;a++)for(var o,s=arguments[a],c=" "+s+" ";(o=n.indexOf(c))>-1;)n=n.substr(0,o)+n.substr(o+s.length+1),r=!0;r&&(" "===(n=n.substring(1,n.length-1))&&(n=""),e.setAttribute("class",n))},f.toggle=function(e,t){var n=this.contains(e),r=!1;return 2===arguments.length?(n&&!t&&(r="remove"),!n&&t&&(r="add")):r=n?"remove":"add",r?(this[r](e),!n):n},f.toString=function(){return this.element.getAttribute("class")||""},Object.defineProperty&&Object.defineProperty(c,"classList",{get:function(){return new h(this)},configurable:!0})}if(window.DOMTokenList){var p=window.DOMTokenList.prototype,g=document.createElement("div");if(!1!==g.classList.toggle("polyfill-test-class",!1)){var m=p.toggle;p.toggle=function(e,t){if(1===arguments.length)return m.call(this,e);var n=this.contains(e),r=t?!n&&"add":!!n&&"remove";return r?(this[r](e),!n):n}}if(g.classList.add("foo","bar","baz"),!g.classList.contains("baz")){var v=p.add;p.add=function(){for(var e=arguments.length,t=0;t<e;t++)v.call(this,arguments[t])}}if(g.classList.add("foo","bar","baz"),g.classList.remove("foo","bar","baz"),g.classList.contains("baz")){var y=p.remove;p.remove=function(){for(var e=arguments.length,t=0;t<e;t++)y.call(this,arguments[t])}}}r(c,"addEventListener",u),r(window,"addEventListener",u),r(c,"removeEventListener",d),r(window,"removeEventListener",d),r(c,"matches",c.webkitMatchesSelector),r(window.document,"contains",(function(){var e=this.documentElement;return e.contains.apply(e,arguments)}));var _=CSSStyleDeclaration.prototype;"setProperty"in _||r(_,"setProperty",(function(e,t){return this.setAttribute.call(this,e,t)}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n(1397);var r=n(1576),i=n(1343),a=n(1399),o=n(1587),s=n(1400),c=n(1395),l={mixinDependencies:[r.a],staticMembers:{className:Object(o.c)({get:function(e){if(Object(i.a)(e)&&this.hasOwnProperty("_className"))return e;if(!this.superclass.kindOf(l))return!1;if(!this.isNamed)return!1;var t=Object(a.a)(this.name.replace(/\$[0-9]+$/,"")).replace(/\./g,"-");return this._className=t}}),shouldInheritClassNames:!0,_classNamesFromJSClassHierarchyCache:null,_getClassNamesFromJSClassHierarchy:function(){if(this.hasOwnProperty("_classNamesFromJSClassHierarchyCache")&&this._classNamesFromJSClassHierarchyCache)return this._classNamesFromJSClassHierarchyCache;var e;if(this.kindOf(l)){if(!1!==this.className&&""!==this.className&&(e=[this.className]),this.shouldInheritClassNames){var t=this._getClassNamesFromJSClassHierarchy.call(this.superclass);e=e?e.concat(t):t}}else e=[];return this._classNamesFromJSClassHierarchyCache=e}},document:document,element:Object(r.g)(),style:Object(r.g)({readOnly:!0,dependencies:["element"],get:Object.assign((function(){return Object(c.a)(this.element)}),{__CW__getter:function(e,t,n,r){return Object(c.a)(r.internalGet(this,t[0+n]))}})}),rect:Object(o.c)({readOnly:!0,get:function(){var e=this.element;return Object(s.a)(e)}}),origin:Object(o.c)({readOnly:!0,get:function(){var e=this.rect;return e?{x:e.left,y:e.top}:null}}),additionalClassNames:Object(r.g)({readOnly:!0}),_suppressApplicationOfClassNamesToElement:!0,_applyClassNamesToElement:Object(r.h)("element","additionalClassNames",(function(e,t){if(e&&!this._suppressApplicationOfClassNamesToElement){var n=this.element.classList;t&&n.add.apply(n,t);var r=this.constructor._getClassNamesFromJSClassHierarchy();r.length&&n.add.apply(n,r)}})),init:function(){this.__s._$1_C$init.apply(this,arguments),this._suppressApplicationOfClassNamesToElement=!1,this._applyClassNamesToElement()},__superMap:{_$1_C$init:"init"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1319);function i(e,t,n){if(!e)return p;t||null===t||!1===t||(t=a);var o=t||n?Object(r.a)(t)+f+e+f+!!n:e,v=g[o];if(v)return v;if(Array.isArray(t))return g[o]=function(e,t,n){var a=function(e){var t=Object(r.a)(e),n=m[t];if(n)return n;var i=e.map((function(e){return"i"===e[0]&&l(e[1])?"I"+e.substring(1):null})).filter(Boolean);return e=e.concat(i),n=m[t]=new RegExp(e.join("|"),"g")}(t),o=e.match(a);if(!o||!o.length)return i(e,null,n);for(var s=e.split(a),c=i(s[0]),d=0,f=o.length;d<f;d++){var p=o[d];n||(p=p.toLowerCase());var g=s[d+1];g&&(g=i(g,null,n)),c+=(c&&h)+p,g&&(c+=(u(g[0])?h:"")+g)}return c}(e,t,n);var y,_,b,w,S,E=e.length,I="";for(y=0;y<E;y++)_=e[y-1],w=(b=e[y]).toLowerCase(),S=e[y+1],_&&d(b)&&d(_)&&(!l(_)&&l(b)||s(_)&&u(b)||S&&l(_)&&l(b)&&c(S))?I+=h+w:I+=w;return g[o]=I}var a=["iOS","iPhone","iPad","iPod","WebKit"];function o(e,t){var n=e.charCodeAt(0),r=t.charCodeAt(0),i={};return function(e){var t=i[e];if(void 0!==t)return t;var a=e.charCodeAt(0);return i[e]=a>=n&&a<=r}}var s=o("0","9"),c=o("a","z"),l=o("A","Z"),u=function(e){return c(e)||l(e)},d=function(e){return u(e)||s(e)},h="-",f="#",p="",g={},m={}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1316),i=n(1304);function a(e){if(!e)throw new r.a("An element is required to be able to measure it");var t=e.getBoundingClientRect();return void 0===t.x&&(t.x=t.left),void 0===t.y&&(t.y=t.top),0!==t.height||0!==t.width||document.body.contains(e)?t:(i.b.error("Tried to measure an element that is not in the document",e&&e.tagName),null)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1316),i=n(1594),a=n(1368),o=n(1402),s={mixinDependencies:[i.a,o.a],length:a.a.define(),toArray:function(){for(var e=this.createIterator().retain(),t=[],n=0;e.get("isValid");){var r=e.get("value");t[n++]=r,e.moveToNext()}return e.release(),t},encodedToArray:function(){for(var e=this.createIterator().retain(),t=[],n=0;e.isValid;){var r=e.encodedValue;t[n++]=r,e.moveToNext()}return e.release(),t},reduce:function(e,t,n){var i,a,o=this.createIterator().retain();if(arguments.length>=2)i=t,a=0;else{if(!o.isValid)throw new r.a("reduce of empty array with no initial value");i=o.value,o.moveToNext(),a=1}for(;o.isValid;){var s=o.value;i=e.call(n,i,s,a++,this),o.moveToNext()}return o.release(),i},find:function(e,t){for(var n=this.createIterator().retain(),r=0;n.get("isValid");){var i=n.get("value");if(e.call(t,i,r++,this))return n.release(),i;n.moveToNext()}n.release()},every:function(e,t){for(var n=this.createIterator().retain(),r=0;n.get("isValid");){var i=n.get("value");if(!e.call(t,i,r++,this))return n.release(),!1;n.moveToNext()}return n.release(),!0},some:function(e,t){for(var n=this.createIterator().retain(),r=0;n.get("isValid");){var i=n.get("value");if(e.call(t,i,r++,this))return n.release(),!0;n.moveToNext()}return n.release(),!1},forEach:function(e,t){for(var n=this.createIterator().retain(),r=0;n.get("isValid");){var i=n.get("value");e.call(t,i,r++,this),n.moveToNext()}n.release()},contains:function(e){return this.encodedContains(this.encode(e))},encodedContains:function(e){for(var t=this.createIterator().retain();t.isValid;){if(t.encodedValue===e)return t.release(),!0;t.moveToNext()}return t.release(),!1},_isCwCollection:!0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1594),i=n(1368),a=n(1331),o={mixinDependencies:[r.a],createIterator:function(){return this.iteratorClass.create(this)},iteratorClass:Object(a.c)(i.a),serializer:null,encode:function(e,t){var n=this.serializer;return n&&n.encode&&(e=n.encode(e,t)),e},decode:function(e,t){var n=this.serializer;return n&&n.decode&&(e=n.decode(e,t)),e}};o[Symbol.iterator]=function(){return this.createIterator()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1333),i=n(1594),a=n(1334),o=n(1368),s=n(1331),c=n(1587),l={done:!1,value:null},u={mixinDependencies:[i.a,r.a],next:function(){return l.value=this.value,l.done=!this.isValid,this.moveToNext(),l},moveToNext:Object(s.c)(a.a),isValid:Object(s.c)(o.a),value:Object(c.c)({get:function(){return this.source.decode(this.encodedValue)},set:function(e){return this.encodedValue=this.source.encode(e),e}}),encodedValue:Object(s.c)(o.a),source:Object(c.c)()};u[Symbol.iterator]=function(){return this}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1403),i=n(1334),a=n(1368),o=n(1331),s={mixinDependencies:[r.a],value:Object(o.c)(a.a),remove:Object(o.c)(i.a),add:Object(o.c)(i.a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1576),i=n(1319),a=n(1345),o=n(1392),s=n(1393),c=n(1396),l=n(1394),u={mixinDependencies:[r.a,c.a,o.a],__classNameOutlet_addedHash:Object(a.b)(Object),staticMembers:{handler:s.a.create({nodeType:"CLASSNAMEOUTLET",generateLookupFunction:function(e,t){return function(e){return e=e.classList,t(e)}},register:function(e,t){var n=Object(l.a)(t),r="__templateObserver__previous"+t.name+Object(i.a)(t),a=Object(i.a)(t.parent);Object(l.c)(e,t,(function(e,t){var i=this.__classNameOutlet_addedHash[a]=this.__classNameOutlet_addedHash[a]||{},o=this[r];o&&(i[o]--,0===i[o]&&e.remove(o));var s=n(t);s&&(i[s]=i[s]||0,0===i[s]&&e.add(s),i[s]++),this[r]=s}))}})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1315),i=Object(r.b)("ArrayChangeOperation",(function(e){e("INSERT"),e("REMOVE")}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(1329),i=n(1350),a=n(1332),o=n(1410),s=n(1411),c=n(1316),l=n(1330),u=n(1587),d=n(1401),h=n(1588),f=l.a.extend(h.a,{staticMembers:{from:function(e){return this.create(e)},__QUALIFIED_CLASS_NAME__:"CoreArray"},shouldDoPostInitProcessing:Object(u.c)(!0),init:function(e){var t,n=!1;Object(r.a)(e)?t=Object(i.a)(e):Object(a.a)(e,d.a)?t=e.toArray():(t=[],n=!0),this._array=t,n?this.__s._$dh$init.apply(this,arguments):this.__s._$dh$init.call(this),this.shouldDoPostInitProcessing&&this.postInitProcessing()},postInitProcessing:function(){var e=this._array;if(e){var t=this.serializer;if(e&&t&&t.encode)for(var n=0,r=e.length;n<r;n++)e[n]=t.encode(e[n],n)}},appendArrays:function(){g.length=0,g[0]=1/0;for(var e=0,t=arguments.length;e<t;e++){var n=arguments[e];Object(o.a)(g,n)}return this.insertAt.apply(this,g),this},_array:null,encodedRawSplice:function(e,t){var n=arguments.length-2;this.itemsWillChange(),t>0&&this.itemsWillBeRemoved(e,t),n>0&&this.itemsWillBeInserted(e,n);var r=this._array.splice.apply(this._array,arguments);return t>0&&this.itemsWereRemoved(e,t),n>0&&this.itemsWereInserted(e,n),this.itemsDidChange(),r},encodedObjectAt:function(e){return this._array[e]},length:Object(u.c)({get:p,set:function(e){if(e<0)throw new c.a("Invalid length %{length}. Must be a non-negative integer.",{length:e,object:this});var t,n=this._internalLength,r=e-n;0!==r&&(this.itemsWillChange(),r>0?this.itemsWillBeInserted(n,r):r<0&&(t=n- -1*r,this.itemsWillBeRemoved(t,-r)),this._array.length=e,r>0?this.itemsWereInserted(n,r):r<0&&this.itemsWereRemoved(t,-r),this.itemsDidChange());return e}}),_internalLength:Object(u.c)({readOnly:!0,get:p}),shallowCopy:function(){return this.constructor.create(Object(i.a)(this._array))},toJSON:function(){return Object(s.a)(this._array)},encodedPush:function(){var e=arguments.length,t=this.length;if(0===e)return t;this.itemsWillChange(),this.itemsWillBeInserted(t,e);var n=this._array.push(...arguments);return this.itemsWereInserted(t,e),this.itemsDidChange(),n},clear:function(){var e=this.length;return this.itemsWillChange(),this.itemsWillBeRemoved(0,e),this._array.length=0,this.itemsWereRemoved(0,e),this.itemsDidChange(),this},removeAt:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.length;return e<0&&(e=n+e)<0&&(e=0),e<n&&e>=0&&(this.itemsWillChange(),this.itemsWillBeRemoved(e,t),this._array.splice(e,t),this.itemsWereRemoved(e,t),this.itemsDidChange()),this},encodedPop:function(){var e=this.length-1;this.itemsWillChange(),this.itemsWillBeRemoved(e,1);var t=this._array.pop();return this.itemsWereRemoved(e,1),this.itemsDidChange(),t},encodedSetIndex:function(e,t){var n=this.length;if(e<n)e<0&&(e=n+e)<0&&(e=0),this.itemsWillChange(),this.itemsWillBeRemoved(e,1),this.itemsWillBeInserted(e,1),this._array[e]=t,this.itemsWereRemoved(e,1),this.itemsWereInserted(e,1),this.itemsDidChange();else{var r=n,i=e-r+1;this.itemsWillChange(),this.itemsWillBeInserted(r,i),this._array[e]=t,this.itemsWereInserted(r,i),this.itemsDidChange()}return this},encodedShift:function(){this.itemsWillChange(),this.itemsWillBeRemoved(0,1);var e=this._array.shift();return this.itemsWereRemoved(0,1),this.itemsDidChange(),e},encodedUnshift:function(){var e=arguments.length;if(0===e)return this.length;this.itemsWillChange(),this.itemsWillBeInserted(0,e);var t=this._array.unshift(...arguments);return this.itemsWereInserted(0,e),this.itemsDidChange(),t},dispose:function(){this.__s._$2RU$dispose.call(this),this._array=null},__superMap:{_$dh$init:"init",_$2RU$dispose:"dispose"}});function p(){return this._array&&this._array.length||0}var g=[]},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(1343),i=n(1327),a=n(1342),o=n(1329),s=n(1332),c=n(1401),l=n(1594),u=n(1334),d=n(1331),h={mixinDependencies:[l.a,c.a],init:function(e){var t,n;if(1!==arguments.length)for(this.__s._$K7$init.call(this),t=0,n=arguments.length;t<n;t++)this.add(arguments[t]);else if(!Object(r.a)(e)||Object(i.a)(e))this.__s._$K7$init.apply(this,arguments);else if(Object(a.a)(e))for(this.__s._$K7$init.call(this),t=0,n=e;t<n;t++)this.add(void 0);else if(Object(o.a)(e))for(this.__s._$K7$init.call(this),t=0,n=e.length;t<n;t++)this.add(e[t]);else Object(s.a)(e,c.a)?(this.__s._$K7$init.call(this),this.addEach(e)):(this.__s._$K7$init.call(this),this.add(e))},add:function(e){return this.encodedAdd(this.encode(e))},encodedAdd:Object(d.c)(u.a),addEach:function(e){e.forEach(this.add,this)},remove:function(e){return this.encodedRemove(this.encode(e))},encodedRemove:Object(d.c)(u.a),delete:function(){return this.remove.apply(this,arguments)},removeEach:function(e){e.forEach(this.remove,this)},constructNewInstance:function(){return this.constructor.create()},filter:function(e,t){for(var n=this.constructNewInstance(),r=this.createIterator().retain(),i=0;r.isValid;){i++;var a=r.value;!0===e.call(t,a,i,this)&&n.add(a),r.moveToNext()}return r.release(),n},__superMap:{_$K7$init:"init"}}},function(e,t,n){"use strict";function r(e,t,n,r){if(t<e)return-1;for(var i=arguments.length,a=new Array(i>4?i-4:0),o=4;o<i;o++)a[o-4]=arguments[o];for(var s,c=new Array(2).concat(a);e<t;){s=e+(t-e>>1),c[0]=n(s),c[1]=s;var l=r.apply(void 0,c);if(0===l)return s;l<0?t=s-1:e=s+1}return e===t&&e!==s&&(c[0]=n(e),c[1]=e,0===r.apply(void 0,c))?e:-1}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1316);function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var a=!1;if(e&&(Array.isArray(e)||e._isCwCollection&&e.objectAt)||(a=!0),a)throw new r.a("CW.Utils.appendArrays expects an array",{got:e});for(var o=1,s=arguments.length;o<s;o++){var c=arguments[o],l=e.length,u=c.length,d=0,h=l;if(c._isCwCollection&&c.objectAt)for(;d<u;d++,h++)e.splice(h,0,c.objectAt(d));else for(;d<u;d++,h++)e.splice(h,0,c[d])}return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1349);function i(e){return Object(r.b)(e,r.b)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1369),i=n(1576),a=r.a.extend({metadataType:i.e,staticMembers:{__QUALIFIED_CLASS_NAME__:"RequiredSignal"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1316);function i(e,t){if((i=t)&&"function"===typeof i.remove)t.remove(e);else{if(!Array.isArray(t))throw new r.a("removeItemFromArray: argument array must be an Array or implement a remove method");var n=t.indexOf(e);n>=0&&t.splice(n,1)}var i}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1334),i=n(1368),a=n(1587),o={mixinDependencies:[n(1597).a],at:function(e){return this._provider.at(e)},hasHandleAt:r.a.define(),position:i.a.define(),maximumPosition:i.a.define(),atDistance:function(e){return this.at(this.position+e)},hasHandleAtDistance:function(e){return this.hasHandleAt(this.position+e)},previous:Object(a.c)({get:function(){return this.atDistance(-1)}}),hasPrevious:Object(a.c)({get:function(){return this.hasHandleAtDistance(-1)}}),next:Object(a.c)({get:function(){return this.atDistance(1)}}),hasNext:Object(a.c)({get:function(){return this.hasHandleAtDistance(1)}}),start:Object(a.c)({readOnly:!0,get:function(){return this._provider.startHandle}}),end:Object(a.c)({readOnly:!0,get:function(){return this._provider.endHandle}}),isValid:Object(a.c)({readOnly:!0,get:function(){var e=this.position;return e>=0&&e<=this.maximumPosition}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1316);function i(e,t,n,o){if(e===t)return!0;var s,c,l;if(a[typeof e]||a[typeof t])return!1;if(null===e||null===t)return!1;if(n||(n=e.constructor),o||(o=t.constructor),n!==o)return!1;if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Object){var u=0;for(s in e)if(++u,(c=e[s])!==(l=t[s])){if(a[typeof c])return!1;if(!i(c,l))return!1}for(s in t)--u;return 0===u}if(n===Array){var d=e.length;if(d!==t.length)return!1;for(var h=d-1;h>=0;--h)if((c=e[h])!==(l=t[h])){if(a[typeof c])return!1;if(!i(c,l))return!1}return!0}if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();var f=n.name&&n.name.length?n.name:String(n);throw new r.a("Unsupported type for 'deepEqual': "+f)}var a={string:!0,number:!0,boolean:!0,undefined:!0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(1330),i=n(1587),a=n(1339),o=n(1576),s=n(1417),c=n(1595),l=r.a.extend(o.a,s.a,{target:Object(c.c)("owner"),delay:0,timesToFire:1,delays:null,fireCount:0,isRunning:!1,isPaused:!1,timeUntilFire:Object(i.c)({readOnly:!0,get:function(){return this.isRunning?this.isPaused?1/0:this._nextFiringTime-Date.now():NaN}}),start:function(){return this.isRunning||(this.isRunning=!0,this._nextFiringTime=Date.now(),this._scheduleNextFiringOrStop()),this},restart:function(){return this.stop(),this.start(),this},stop:function(){return this.isRunning?(this._handle&&(clearTimeout(this._handle),this._handle=null),this.fireCount=0,this.isRunning=!1,this.isPaused&&(this.isPaused=!1,this._pauseCount=0,this._timeRemainingAtPause=NaN),this):this},pause:function(){return this.isRunning?(this._pauseCount++,1===this._pauseCount&&(this._timeRemainingAtPause=this.get("timeUntilFire"),this.isPaused=!0,this._nextFiringTime=NaN,clearTimeout(this._handle),this._handle=null),this):this},resume:function(){return this.isRunning?(this._pauseCount--,0===this._pauseCount&&(this._nextFiringTime=Date.now()+this._timeRemainingAtPause,this._queueFire(this._timeRemainingAtPause),this._timeRemainingAtPause=NaN,this.isPaused=!1),this._pauseCount<0&&(this._pauseCount=0),this):this},fastForward:function(e){return this.isRunning?e<0?this.rewind(-e):(0===e||(e||(e=this._getRunningTimeUntilNextFiring()),this.isPaused?this._timeRemainingAtPause-=e:(this._nextFiringTime-=e,this._queueFire(this._nextFiringTime-Date.now()))),this):this},rewind:function(e){return this.isRunning?e<0?this.fastForward(-e):(0===e||(e||(e=this.getDelayAfterFireCount(this.fireCount)-this._getRunningTimeUntilNextFiring()),this.isPaused?this._timeRemainingAtPause+=e:(this._nextFiringTime+=e,this._queueFire(this._nextFiringTime-Date.now()))),this):this},getDelayAfterFireCount:function(e){var t=this.delays;return t?t[Math.min(t.length-1,e)]:e>=this.timesToFire?1/0:this.delay},fire:function(){this.callAction(this)},owner:Object(o.g)(),_handle:null,_nextFiringTime:NaN,_pauseCount:0,_timeRemainingAtPause:NaN,_getRunningTimeUntilNextFiring:function(){return this.isPaused?this._timeRemainingAtPause:this.get("timeUntilFire")},_scheduleNextFiringOrStop:function(){if(this.isRunning){var e=this.getDelayAfterFireCount(this.fireCount);if(e<1/0){var t=this._nextFiringTime+=e;this._queueFire(t-Date.now())}else this.stop()}},_queueFire:function(e){clearTimeout(this._handle);var t=Object(a.a)(u,this);this._handle=setTimeout(t,Math.max(e,0))},dispose:function(){this.stop(),this.__s._$48e$dispose.apply(this,arguments)},__superMap:{_$48e$dispose:"dispose"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Timer"}}),u=function(){this.fireCount++,this.callAction(),this._scheduleNextFiringOrStop()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1337),i=n(1316),a=n(1576),o={mixinDependencies:[a.a],target:Object(a.g)(),action:Object(a.g)(),callAction:function(){var e=this.action,t=this.target||this;if(!Object(r.a)(e))throw new i.a("An action must be a method name only (as a string)",this);var n=t[e];if(!n||!n.call)throw new i.a("CW.TargetAction: The specified target did not respond to the action `"+e+"`.",this);n.call(t,this)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1316),i=n(1389).a.extend({action:function(e){if(!e.rootElement)throw new r.a("Must provide a `rootElement`")},staticMembers:{__QUALIFIED_CLASS_NAME__:"RootElementInitializer"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n(1347),i=n(1330),a=n(1399),o=["is-","are-","has-"],s=new Set(["isConnected","isInitialized","isDisposed","isAbstract","propertiesAreInitialized","window","stubWindow","downstreamNodes","upstreamNodes"]),c=function(e,t,n){n=n||"";var i=Object(r.a)(e);for(var a in e)if(!(i&&s.has(a)||"_"===a[0])&&e.hasOwnProperty(a)){var o=i?e.get(a):e[a];l(a,o,t,n)}},l=function(e,t,n,r){r=r||"";var s=typeof t;if("boolean"===s){for(var c,l,u=Object(a.a)(e),d=0;c=o[d];d++)l=c.length,u.substring(0,l)===c&&(u=u.substring(l));u&&n.classList.toggle(u,t)}else{if("object"===s||"function"===s){var h=t&&t.toString;h!==Object.prototype.toString&&h!==Function.prototype.toString&&h!==i.a.prototype.toString||(t=null)}var f=r+Object(a.a)(e);t||0===t?n.setAttribute(f,""+t):n.removeAttribute(f)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return f}));var r,i=n(1330),a=n(1364),o=n(1576),s=n(1305),c="en-us",l=i.a.extend(o.a,a.a,{DEFAULT_LOCALE:c,_locales:{},_rtlLocales:["ar","iw","he","ur","fa","sd"],getRegistryFor:function(e){var t=this._locales[e]&&this._locales[e];return t||(t=this._locales[e]={}),t},addValuesFor:function(e,t){for(var n=this.getRegistryFor(e),r=Object.keys(t),i=0,a=r.length;i<a;i++){var o=r[i];n[o]=t[o]}},locale:Object(o.g)(c),isRTL:Object(o.g)({readOnly:!0,dependencies:["locale"],get:Object.assign((function(){var e=this.locale;return this._rtlLocales.some((function(t){return e.startsWith(t)}))}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return this._rtlLocales.some((function(e){return i.startsWith(e)}))}})}),getValue:function(e,t){var n=this._getValue(e,t);return n?t?Object(s.a)(n,t):n:e},hasValue:function(e){return!!this._getValue(e)},_getValue:function(e,t){var n=this.locale,r=this.getRegistryFor(n),i=r[e];if(!i)for(var a=n.split(/-|_/),o=0,s=a.length;o<s+1;o++){a.pop();var c=a.join("-");if(i=(r=this.getRegistryFor(c))[e])break}if(!i){var l=this.getRegistryFor(this.DEFAULT_LOCALE),u=this.DEFAULT_LOCALE.split(/-|_/)[0],d=this.getRegistryFor(u);i=l[e]||d[e]}return i},staticMembers:{__QUALIFIED_CLASS_NAME__:"Locale"}}),u=l.sharedInstance,d=function(e,t){return u.addValuesFor(e,t)},h=function(e,t){return u.getValue(e,t)},f=function(){return u.locale};window.__CW_BUILD_INFO&&(r=window.__CW_BUILD_INFO.locale,u.locale=r)},function(e,t,n){"use strict";function r(e){o=e||a}function i(){return o}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var a={exceptionHandler:n(1317).a},o=a},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,a(n)))}return e}function a(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=o(t,r));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){!function(){"use strict";var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(){if("undefined"!==typeof window){var n=Array.prototype.slice,r=Element.prototype.matches||Element.prototype.msMatchesSelector,i=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","details","summary","iframe","object","embed","[contenteditable]"].join(","),a=function(){function a(e,n){t(this,a),this._inertManager=n,this._rootElement=e,this._managedNodes=new Set,this._rootElement.hasAttribute("aria-hidden")?this._savedAriaHidden=this._rootElement.getAttribute("aria-hidden"):this._savedAriaHidden=null,this._rootElement.setAttribute("aria-hidden","true"),this._makeSubtreeUnfocusable(this._rootElement),this._observer=new MutationObserver(this._onMutation.bind(this)),this._observer.observe(this._rootElement,{attributes:!0,childList:!0,subtree:!0})}return e(a,[{key:"destructor",value:function(){this._observer.disconnect(),this._rootElement&&(null!==this._savedAriaHidden?this._rootElement.setAttribute("aria-hidden",this._savedAriaHidden):this._rootElement.removeAttribute("aria-hidden")),this._managedNodes.forEach((function(e){this._unmanageNode(e.node)}),this),this._observer=null,this._rootElement=null,this._managedNodes=null,this._inertManager=null}},{key:"_makeSubtreeUnfocusable",value:function(e){var t=this;l(e,(function(e){return t._visitNode(e)}));var n=document.activeElement;if(!document.body.contains(e)){for(var r=e,i=void 0;r;){if(r.nodeType===Node.DOCUMENT_FRAGMENT_NODE){i=r;break}r=r.parentNode}i&&(n=i.activeElement)}e.contains(n)&&(n.blur(),n===document.activeElement&&document.body.focus())}},{key:"_visitNode",value:function(e){if(e.nodeType===Node.ELEMENT_NODE){var t=e;t!==this._rootElement&&t.hasAttribute("inert")&&this._adoptInertRoot(t),(r.call(t,i)||t.hasAttribute("tabindex"))&&this._manageNode(t)}}},{key:"_manageNode",value:function(e){var t=this._inertManager.register(e,this);this._managedNodes.add(t)}},{key:"_unmanageNode",value:function(e){var t=this._inertManager.deregister(e,this);t&&this._managedNodes.delete(t)}},{key:"_unmanageSubtree",value:function(e){var t=this;l(e,(function(e){return t._unmanageNode(e)}))}},{key:"_adoptInertRoot",value:function(e){var t=this._inertManager.getInertRoot(e);t||(this._inertManager.setInert(e,!0),t=this._inertManager.getInertRoot(e)),t.managedNodes.forEach((function(e){this._manageNode(e.node)}),this)}},{key:"_onMutation",value:function(e,t){e.forEach((function(e){var t=e.target;if("childList"===e.type)n.call(e.addedNodes).forEach((function(e){this._makeSubtreeUnfocusable(e)}),this),n.call(e.removedNodes).forEach((function(e){this._unmanageSubtree(e)}),this);else if("attributes"===e.type)if("tabindex"===e.attributeName)this._manageNode(t);else if(t!==this._rootElement&&"inert"===e.attributeName&&t.hasAttribute("inert")){this._adoptInertRoot(t);var r=this._inertManager.getInertRoot(t);this._managedNodes.forEach((function(e){t.contains(e.node)&&r._manageNode(e.node)}))}}),this)}},{key:"managedNodes",get:function(){return new Set(this._managedNodes)}},{key:"hasSavedAriaHidden",get:function(){return null!==this._savedAriaHidden}},{key:"savedAriaHidden",set:function(e){this._savedAriaHidden=e},get:function(){return this._savedAriaHidden}}]),a}(),o=function(){function n(e,r){t(this,n),this._node=e,this._overrodeFocusMethod=!1,this._inertRoots=new Set([r]),this._savedTabIndex=null,this._destroyed=!1,this.ensureUntabbable()}return e(n,[{key:"destructor",value:function(){if(this._throwIfDestroyed(),this._node&&this._node.nodeType===Node.ELEMENT_NODE){var e=this._node;null!==this._savedTabIndex?e.setAttribute("tabindex",this._savedTabIndex):e.removeAttribute("tabindex"),this._overrodeFocusMethod&&delete e.focus}this._node=null,this._inertRoots=null,this._destroyed=!0}},{key:"_throwIfDestroyed",value:function(){if(this.destroyed)throw new Error("Trying to access destroyed InertNode")}},{key:"ensureUntabbable",value:function(){if(this.node.nodeType===Node.ELEMENT_NODE){var e=this.node;if(r.call(e,i)){if(-1===e.tabIndex&&this.hasSavedTabIndex)return;e.hasAttribute("tabindex")&&(this._savedTabIndex=e.tabIndex),e.setAttribute("tabindex","-1"),e.nodeType===Node.ELEMENT_NODE&&(e.focus=function(){},this._overrodeFocusMethod=!0)}else e.hasAttribute("tabindex")&&(this._savedTabIndex=e.tabIndex,e.removeAttribute("tabindex"))}}},{key:"addInertRoot",value:function(e){this._throwIfDestroyed(),this._inertRoots.add(e)}},{key:"removeInertRoot",value:function(e){this._throwIfDestroyed(),this._inertRoots.delete(e),0===this._inertRoots.size&&this.destructor()}},{key:"destroyed",get:function(){return this._destroyed}},{key:"hasSavedTabIndex",get:function(){return null!==this._savedTabIndex}},{key:"node",get:function(){return this._throwIfDestroyed(),this._node}},{key:"savedTabIndex",set:function(e){this._throwIfDestroyed(),this._savedTabIndex=e},get:function(){return this._throwIfDestroyed(),this._savedTabIndex}}]),n}(),s=function(){function i(e){if(t(this,i),!e)throw new Error("Missing required argument; InertManager needs to wrap a document.");this._document=e,this._managedNodes=new Map,this._inertRoots=new Map,this._observer=new MutationObserver(this._watchForInert.bind(this)),u(e.head||e.body||e.documentElement),"loading"===e.readyState?e.addEventListener("DOMContentLoaded",this._onDocumentLoaded.bind(this)):this._onDocumentLoaded()}return e(i,[{key:"setInert",value:function(e,t){if(t){if(this._inertRoots.has(e))return;var n=new a(e,this);if(e.setAttribute("inert",""),this._inertRoots.set(e,n),!this._document.body.contains(e))for(var r=e.parentNode;r;)11===r.nodeType&&u(r),r=r.parentNode}else{if(!this._inertRoots.has(e))return;this._inertRoots.get(e).destructor(),this._inertRoots.delete(e),e.removeAttribute("inert")}}},{key:"getInertRoot",value:function(e){return this._inertRoots.get(e)}},{key:"register",value:function(e,t){var n=this._managedNodes.get(e);return void 0!==n?n.addInertRoot(t):n=new o(e,t),this._managedNodes.set(e,n),n}},{key:"deregister",value:function(e,t){var n=this._managedNodes.get(e);return n?(n.removeInertRoot(t),n.destroyed&&this._managedNodes.delete(e),n):null}},{key:"_onDocumentLoaded",value:function(){n.call(this._document.querySelectorAll("[inert]")).forEach((function(e){this.setInert(e,!0)}),this),this._observer.observe(this._document.body||this._document.documentElement,{attributes:!0,subtree:!0,childList:!0})}},{key:"_watchForInert",value:function(e,t){var i=this;e.forEach((function(e){switch(e.type){case"childList":n.call(e.addedNodes).forEach((function(e){if(e.nodeType===Node.ELEMENT_NODE){var t=n.call(e.querySelectorAll("[inert]"));r.call(e,"[inert]")&&t.unshift(e),t.forEach((function(e){this.setInert(e,!0)}),i)}}),i);break;case"attributes":if("inert"!==e.attributeName)return;var t=e.target,a=t.hasAttribute("inert");i.setInert(t,a)}}),this)}}]),i}();if(!Element.prototype.hasOwnProperty("inert")){var c=new s(document);Object.defineProperty(Element.prototype,"inert",{enumerable:!0,get:function(){return this.hasAttribute("inert")},set:function(e){c.setInert(this,e)}})}}function l(e,t,n){if(e.nodeType==Node.ELEMENT_NODE){var r=e;t&&t(r);var i=r.shadowRoot;if(i)return void l(i,t,i);if("content"==r.localName){for(var a=r,o=a.getDistributedNodes?a.getDistributedNodes():[],s=0;s<o.length;s++)l(o[s],t,n);return}if("slot"==r.localName){for(var c=r,u=c.assignedNodes?c.assignedNodes({flatten:!0}):[],d=0;d<u.length;d++)l(u[d],t,n);return}}for(var h=e.firstChild;null!=h;)l(h,t,n),h=h.nextSibling}function u(e){if(!e.querySelector("style#inert-style, link#inert-style")){var t=document.createElement("style");t.setAttribute("id","inert-style"),t.textContent="\n[inert] {\n  pointer-events: none;\n  cursor: default;\n}\n\n[inert], [inert] * {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n",e.appendChild(t)}}}()}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1594),i=n(1334),a={mixinDependencies:[r.a],encode:i.a.create(),decode:i.a.create()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1329),i=n(1337);function a(e){if(!e)return!0;if(Object(r.a)(e)||Object(i.a)(e))return!e.length;if(e._isCwCollection)return!e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},function(e,t,n){"use strict";e.exports=n(1427)},function(e,t,n){"use strict";var r=n(1311),i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,c=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return s((function(){i.value=n,i.getSnapshot=t,l(i)&&u({inst:i})}),[e,n,t]),o((function(){return l(i)&&u({inst:i}),e((function(){l(i)&&u({inst:i})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1576),i=n(1579),a=n(1385),o=i.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",name:"contentView"}],classes:["cw-modal-dialog-background",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isOpen",truevalue:"is-open",falsevalue:"is-closing",attributes:{}}]}},className:"cw-ui-modal-dialog",__QUALIFIED_CLASS_NAME__:"ModalDialog"},contentView:Object(r.g)(),isFocusable:!0,tabIndex:-1,dismissOnEscape:Object(r.g)(!0),animationDuration:250,isOpen:Object(r.g)(),animateOpen:function(e){this.isOpen=!0,e&&setTimeout(e,this.animationDuration)},animateClosed:function(e){var t=this;this.isOpen=!1,setTimeout((function(){t.sendEvent("modalDialogDidDismiss"),"function"===typeof e&&e()}),this.animationDuration)},_isAttachedDidChange:Object(r.h)("isAttached",(function(e){e&&this.animateOpen()})),pointerUp:function(e){if(e.targetView){var t=this.contentView;t&&t.element.contains(e.targetView.element)?this.sendEvent("modalContentWasClicked",this):this.sendEvent("modalBackgroundWasClicked",this)}},keyDown:function(e){if(!this.dismissOnEscape||e.keyCode!==a.a.ESC)return!1;this.animateClosed()},hide:function(){this.sendEvent("dismissModalDialog")}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n(1576),i=n(1358),a=n(1316),o=n(1390),s=r.b.extend({type:o.a,init:function(e){return"string"===typeof e?this.__s._$cx$init.call(this,{viewOutlet:e}):this.__s._$cx$init.apply(this,arguments)},viewOutlet:"",initializeMember:function(e,t){var n=this.__s._$k1$initializeMember.apply(this,arguments),i=this,a="_"+t+"DidChange",o="_"+t,s="_"+t+"_view";return this._internalValueKey=o,this._internalViewKey=s,e.registerMetadata(a,Object(r.h)(t,t+".view",(function(e,t){i.childViewControllerDidChange(this,e,t)}))),n},childViewControllerDidChange:function(e,t,n){var r=e[this._internalValueKey],i=e[this._internalViewKey];e[this._internalValueKey]=t,e[this._internalViewKey]=n,r===t&&i===n||this.transition.call(e,r,i,t,n,this)},inheritFrom:function(e){this.__s._$11e$inheritFrom.apply(this,arguments),this.viewOutlet||(this.viewOutlet=e.viewOutlet)},transition:function(e,t,n,r,o){e&&e.retain(),n&&n.retain();var s=o.viewOutlet;if(!s)throw new a.a("ChildViewController expects a `viewOutlet` to write to");if(n&&(n._destinationViewOutlet=s),e!==n){e&&e.willMoveToParentViewController(null),n&&n.willMoveToParentViewController(this);var c=i.a.begin();e!==n&&this._isViewLoaded&&c.set(this.view,s,r),e&&this.removeChildViewController(e,c),n&&this.addChildViewController(n,c),c.end(),e&&e.didMoveToParentViewController(null),n&&n.didMoveToParentViewController(this)}else t!==r&&this._isViewLoaded&&(this.view[s]=r);e&&e.release(),n&&n.release()},__superMap:{_$cx$init:"init",_$k1$initializeMember:"initializeMember",_$11e$inheritFrom:"inheritFrom"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ChildViewControllerProperty"}}),c=function(e){return s.define.apply(s,arguments)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1315),i=Object(r.b)("AlertStyle",{ALERT:"alert",ACTION_SHEET:"action-sheet"})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1576),i=n(1595),a=n(1391),o=n(1344),s=Symbol("NOT_SET"),c={mixinDependencies:[r.a,a.a],controlElement:Object(r.g)({get:function(e){return e||this.element}}),isDisabled:Object(r.g)({defaultValue:!1,didChange:function(e){var t=this.controlElement;t&&(e?t.setAttribute("disabled",!0):t.removeAttribute("disabled"))}}),isFocusable:Object(r.g)({dependencies:["isDisabled"],writeDependencies:[],defaultValue:s,get:Object.assign((function(e){return e!==s?e:!this.isDisabled}),{__CW__getter:function(e,t,n,r){return e!==s?e:!r.internalGet(this,t[0+n])}}),set:o.a}),ariaDisabled:Object(i.c)("isDisabled")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function i(e){var t,n,i="";for(t=0;t<16;t++)n=e[t],i+=r[n>>4],i+=r[15&n],3!==t&&5!==t&&7!==t&&9!==t||(i+="-");return i}},function(e,t,n){"use strict";function r(){return c}function i(e,t,n){var r=l.get(e)||{};if("undefined"!=typeof DEBUG&&DEBUG&&!(null===n||void 0===n?void 0:n.skipDuplicateKeyCheck))for(var i=0,a=Object.keys(t);i<a.length;i++){var o=a[i];if(r.hasOwnProperty(o))throw new Error("@apple/localization [".concat(e,']: Duplicate loc key "').concat(o,'" is changed from `').concat(r[o],"' to `").concat(t[o],"'!"))}l.set(e,Object.assign({},r,t))}function a(e){return u.add(e),function(){u.delete(e)}}function o(e){var t=s(e);return function(e,n){return t(c,e,n)}}function s(e){return function(t,n,r){var i=l.get(t),a=null===i||void 0===i?void 0:i[n];if(void 0===a){var o="".concat(n,"::::").concat(t);return(null===e||void 0===e?void 0:e.logMissingLocKey)&&!h.has(o)&&(h.add(o),e.logMissingLocKey("LocKeyMissing",{locKey:n,locale:t})),"{{".concat(n,"}}")}return r?a.replace(d,(function(i,a){var o=r[a];if(void 0===o){var s=a in r?"us":"loc",c="".concat(n,"::::").concat(a,"::::").concat(t,"::::").concat(s);return"us"===s?((null===e||void 0===e?void 0:e.logBadUndefinedInput)&&!f.has(c)&&(f.add(c),e.logBadUndefinedInput("LocBadUndefinedInput",{locKey:n,badReplacementKey:a})),"{{{Undefined input value for ".concat(JSON.stringify(a)," passed to ").concat(JSON.stringify(n),"}}}")):((null===e||void 0===e?void 0:e.logBadReplacementKey)&&!f.has(c)&&(f.add(c),e.logBadReplacementKey("LocBadReplacementKey",{locKey:n,badReplacementKey:a,locale:t})),"{{{".concat(JSON.stringify(t)," translation for ").concat(JSON.stringify(n)," references bad variable ").concat(JSON.stringify(a),"; legal: ").concat(JSON.stringify(Object.keys(r)).slice(1,-1),"}}}"))}return String(o)})):a}}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s}));var c=self.document&&self.document.documentElement.getAttribute("lang")||"en-us",l=new Map,u=new Set,d=/%\{\s*(.+?)\s*\}/g;Symbol();var h=new Set,f=new Set},function(e,t,n){var r,i,a;a=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function a(t,n,a){if("undefined"!==typeof document){"number"===typeof(a=e({path:"/"},i.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var o=JSON.stringify(n);/^[\{\[]/.test(o)&&(n=o)}catch(l){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in a)a[c]&&(s+="; "+c,!0!==a[c]&&(s+="="+a[c].split(";")[0]));return document.cookie=t+"="+n+s}}function o(e,n){if("undefined"!==typeof document){for(var i={},a=document.cookie?document.cookie.split("; "):[],o=0;o<a.length;o++){var s=a[o].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(s[0]);if(c=(r.read||r)(c,l)||t(c),n)try{c=JSON.parse(c)}catch(u){}if(i[l]=c,e===l)break}catch(u){}}return e?i[e]:i}}return i.set=a,i.get=function(e){return o(e,!1)},i.getJSON=function(e){return o(e,!0)},i.remove=function(t,n){a(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))},void 0===(i="function"===typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=i),e.exports=a()},function(e,t,n){"use strict";(function(e){!function(e){e.IntlPolyfill=function(){var e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=function(){function e(e){this.value=e}function t(t){var n,r;function i(n,r){try{var o=t[n](r),s=o.value;s instanceof e?Promise.resolve(s.value).then((function(e){i("next",e)}),(function(e){i("throw",e)})):a(o.done?"return":"normal",o.value)}catch(c){a("throw",c)}}function a(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?i(n.key,n.arg):r=null}this._invoke=function(e,t){return new Promise((function(a,o){var s={key:e,arg:t,resolve:a,reject:o,next:null};r?r=r.next=s:(n=r=s,i(e,t))}))},"function"!==typeof t.return&&(this.return=void 0)}return"function"===typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)},{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(t){return new e(t)}}}(),n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="undefined"===typeof globalThis?self:globalThis,o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=Object.freeze({asyncIterator:function(e){if("function"===typeof Symbol){if(Symbol.asyncIterator){var t=e[Symbol.asyncIterator];if(null!=t)return t.call(e)}if(Symbol.iterator)return e[Symbol.iterator]()}throw new TypeError("Object is not async iterable")},asyncGenerator:t,asyncGeneratorDelegate:function(e,t){var n={},r=!1;function i(n,i){return r=!0,i=new Promise((function(t){t(e[n](i))})),{done:!1,value:t(i)}}return"function"===typeof Symbol&&Symbol.iterator&&(n[Symbol.iterator]=function(){return this}),n.next=function(e){return r?(r=!1,e):i("next",e)},"function"===typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return i("throw",e)}),"function"===typeof e.return&&(n.return=function(e){return i("return",e)}),n},asyncToGenerator:function(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,a){try{var o=t[i](a),s=o.value}catch(c){return void n(c)}if(!o.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}},classCallCheck:function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass:n,defineEnumerableProperties:function(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}return e},defaults:function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e},defineProperty:r,get:function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},inherits:function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},interopRequireDefault:function(e){return e&&e.__esModule?e:{default:e}},interopRequireWildcard:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},newArrowCheck:function(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")},objectDestructuringEmpty:function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},objectWithoutProperties:function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},possibleConstructorReturn:function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},selfGlobal:a,set:function e(t,n,r,i){var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);null!==o&&e(o,n,r,i)}else if("value"in a&&a.writable)a.value=r;else{var s=a.set;void 0!==s&&s.call(i,r)}return r},slicedToArray:o,slicedToArrayLoose:function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){for(var n,r=[],i=e[Symbol.iterator]();!(n=i.next()).done&&(r.push(n.value),!t||r.length!==t););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},taggedTemplateLiteral:function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},taggedTemplateLiteralLoose:function(e,t){return e.raw=t,e},temporalRef:function(e,t,n){if(e===n)throw new ReferenceError(t+" is not defined - temporal dead zone");return e},temporalUndefined:{},toArray:function(e){return Array.isArray(e)?e:Array.from(e)},toConsumableArray:function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},typeof:e,extends:i,instanceof:function(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}}),c=function(){var e=function(){};try{return Object.defineProperty(e,"a",{get:function(){return 1}}),Object.defineProperty(e,"prototype",{writable:!1}),1===e.a&&e.prototype instanceof Object}catch(t){return!1}}(),l=!c&&!Object.prototype.__defineGetter__,u=Object.prototype.hasOwnProperty,d=c?Object.defineProperty:function(e,t,n){"get"in n&&e.__defineGetter__?e.__defineGetter__(t,n.get):u.call(e,t)&&!("value"in n)||(e[t]=n.value)},h=Array.prototype.indexOf||function(e){var t=this;if(!t.length)return-1;for(var n=arguments[1]||0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},f=Object.create||function(e,t){var n;function r(){}for(var i in r.prototype=e,n=new r,t)u.call(t,i)&&d(n,i,t[i]);return n},p=Array.prototype.slice,g=Array.prototype.concat,m=Array.prototype.push,v=Array.prototype.join,y=Array.prototype.shift,_=Function.prototype.bind||function(e){var t=this,n=p.call(arguments,1);return t.length,function(){return t.apply(e,g.call(n,p.call(arguments)))}},b=f(null),w=Math.random();function S(e){for(var t in e)(e instanceof S||u.call(e,t))&&d(this,t,{value:e[t],enumerable:!0,writable:!0,configurable:!0})}function E(){d(this,"length",{writable:!0,value:0}),arguments.length&&m.apply(this,p.call(arguments))}function I(){if(b.disableRegExpRestore)return function(){};for(var e={lastMatch:RegExp.lastMatch||"",leftContext:RegExp.leftContext,multiline:RegExp.multiline,input:RegExp.input},t=!1,n=1;n<=9;n++)t=(e["$"+n]=RegExp["$"+n])||t;return function(){var n=/[.?*+^$[\]\\(){}|-]/g,r=e.lastMatch.replace(n,"\\$&"),i="";if(t)for(var a=1;a<=9;a++){var o=e["$"+a];o?(o=o.replace(n,"\\$&"),i+=r.substring(0,r.indexOf(o))+"(",r=o+")"+r.substring(r.indexOf(o)+o.length)):(i+="(",r=")"+r)}i=(i+=r).replace(/((^|[^\\])((\\\\)*\\[()])+|[^()])+/g,(function(e){return"[\\s\\S]{"+e.replace(/\\(.)/g,"$1").length+"}"}));var s=new RegExp(i,e.multiline?"gm":"g");s.lastIndex=e.leftContext.length,s.exec(e.input)}}function C(e){if(null===e)throw new TypeError("Cannot convert null or undefined to object");return"object"===("undefined"===typeof e?"undefined":s.typeof(e))?e:Object(e)}function O(e){return"number"===typeof e?e:Number(e)}function T(e){var t=function(e){var t=O(e);return isNaN(t)?0:0===t||-0===t||t===1/0||t===-1/0?t:t<0?-1*Math.floor(Math.abs(t)):Math.floor(Math.abs(t))}(e);return t<=0?0:t===1/0?Math.pow(2,53)-1:Math.min(t,Math.pow(2,53)-1)}function A(e){return u.call(e,"__getInternalProperties")?e.__getInternalProperties(w):f(null)}S.prototype=f(null),E.prototype=f(null);var N="(?:[a-z0-9]{5,8}|\\d[a-z0-9]{3})",M="[0-9a-wy-z]",D=M+"(?:-[a-z0-9]{2,8})+",R="x(?:-[a-z0-9]{1,8})+",L=RegExp("^(?:(?:[a-z]{2,3}(?:-[a-z]{3}(?:-[a-z]{3}){0,2})?|[a-z]{4}|[a-z]{5,8})(?:-[a-z]{4})?(?:-(?:[a-z]{2}|\\d{3}))?(?:-"+N+")*(?:-"+D+")*(?:-"+R+")?|"+R+"|(?:(?:en-GB-oed|i-(?:ami|bnn|default|enochian|hak|klingon|lux|mingo|navajo|pwn|tao|tay|tsu)|sgn-(?:BE-FR|BE-NL|CH-DE))|(?:art-lojban|cel-gaulish|no-bok|no-nyn|zh-(?:guoyu|hakka|min|min-nan|xiang))))$","i"),k=RegExp("^(?!x).*?-("+N+")-(?:\\w{4,8}-(?!x-))*\\1\\b","i"),x=RegExp("^(?!x).*?-("+M+")-(?:\\w+-(?!x-))*\\1\\b","i"),F=RegExp("-"+D,"ig"),P=void 0;var j={tags:{"art-lojban":"jbo","i-ami":"ami","i-bnn":"bnn","i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","no-bok":"nb","no-nyn":"nn","sgn-BE-FR":"sfb","sgn-BE-NL":"vgt","sgn-CH-DE":"sgg","zh-guoyu":"cmn","zh-hakka":"hak","zh-min-nan":"nan","zh-xiang":"hsn","sgn-BR":"bzs","sgn-CO":"csn","sgn-DE":"gsg","sgn-DK":"dsl","sgn-ES":"ssp","sgn-FR":"fsl","sgn-GB":"bfi","sgn-GR":"gss","sgn-IE":"isg","sgn-IT":"ise","sgn-JP":"jsl","sgn-MX":"mfs","sgn-NI":"ncs","sgn-NL":"dse","sgn-NO":"nsl","sgn-PT":"psr","sgn-SE":"swl","sgn-US":"ase","sgn-ZA":"sfs","zh-cmn":"cmn","zh-cmn-Hans":"cmn-Hans","zh-cmn-Hant":"cmn-Hant","zh-gan":"gan","zh-wuu":"wuu","zh-yue":"yue"},subtags:{BU:"MM",DD:"DE",FX:"FR",TP:"TL",YD:"YE",ZR:"CD",heploc:"alalc97",in:"id",iw:"he",ji:"yi",jw:"jv",mo:"ro",ayx:"nun",bjd:"drl",ccq:"rki",cjr:"mom",cka:"cmr",cmk:"xch",drh:"khk",drw:"prs",gav:"dev",hrr:"jal",ibi:"opa",kgh:"kml",lcq:"ppr",mst:"mry",myt:"mry",sca:"hle",tie:"ras",tkk:"twm",tlw:"weo",tnf:"prs",ybd:"rki",yma:"lrr"},extLang:{aao:["aao","ar"],abh:["abh","ar"],abv:["abv","ar"],acm:["acm","ar"],acq:["acq","ar"],acw:["acw","ar"],acx:["acx","ar"],acy:["acy","ar"],adf:["adf","ar"],ads:["ads","sgn"],aeb:["aeb","ar"],aec:["aec","ar"],aed:["aed","sgn"],aen:["aen","sgn"],afb:["afb","ar"],afg:["afg","sgn"],ajp:["ajp","ar"],apc:["apc","ar"],apd:["apd","ar"],arb:["arb","ar"],arq:["arq","ar"],ars:["ars","ar"],ary:["ary","ar"],arz:["arz","ar"],ase:["ase","sgn"],asf:["asf","sgn"],asp:["asp","sgn"],asq:["asq","sgn"],asw:["asw","sgn"],auz:["auz","ar"],avl:["avl","ar"],ayh:["ayh","ar"],ayl:["ayl","ar"],ayn:["ayn","ar"],ayp:["ayp","ar"],bbz:["bbz","ar"],bfi:["bfi","sgn"],bfk:["bfk","sgn"],bjn:["bjn","ms"],bog:["bog","sgn"],bqn:["bqn","sgn"],bqy:["bqy","sgn"],btj:["btj","ms"],bve:["bve","ms"],bvl:["bvl","sgn"],bvu:["bvu","ms"],bzs:["bzs","sgn"],cdo:["cdo","zh"],cds:["cds","sgn"],cjy:["cjy","zh"],cmn:["cmn","zh"],coa:["coa","ms"],cpx:["cpx","zh"],csc:["csc","sgn"],csd:["csd","sgn"],cse:["cse","sgn"],csf:["csf","sgn"],csg:["csg","sgn"],csl:["csl","sgn"],csn:["csn","sgn"],csq:["csq","sgn"],csr:["csr","sgn"],czh:["czh","zh"],czo:["czo","zh"],doq:["doq","sgn"],dse:["dse","sgn"],dsl:["dsl","sgn"],dup:["dup","ms"],ecs:["ecs","sgn"],esl:["esl","sgn"],esn:["esn","sgn"],eso:["eso","sgn"],eth:["eth","sgn"],fcs:["fcs","sgn"],fse:["fse","sgn"],fsl:["fsl","sgn"],fss:["fss","sgn"],gan:["gan","zh"],gds:["gds","sgn"],gom:["gom","kok"],gse:["gse","sgn"],gsg:["gsg","sgn"],gsm:["gsm","sgn"],gss:["gss","sgn"],gus:["gus","sgn"],hab:["hab","sgn"],haf:["haf","sgn"],hak:["hak","zh"],hds:["hds","sgn"],hji:["hji","ms"],hks:["hks","sgn"],hos:["hos","sgn"],hps:["hps","sgn"],hsh:["hsh","sgn"],hsl:["hsl","sgn"],hsn:["hsn","zh"],icl:["icl","sgn"],ils:["ils","sgn"],inl:["inl","sgn"],ins:["ins","sgn"],ise:["ise","sgn"],isg:["isg","sgn"],isr:["isr","sgn"],jak:["jak","ms"],jax:["jax","ms"],jcs:["jcs","sgn"],jhs:["jhs","sgn"],jls:["jls","sgn"],jos:["jos","sgn"],jsl:["jsl","sgn"],jus:["jus","sgn"],kgi:["kgi","sgn"],knn:["knn","kok"],kvb:["kvb","ms"],kvk:["kvk","sgn"],kvr:["kvr","ms"],kxd:["kxd","ms"],lbs:["lbs","sgn"],lce:["lce","ms"],lcf:["lcf","ms"],liw:["liw","ms"],lls:["lls","sgn"],lsg:["lsg","sgn"],lsl:["lsl","sgn"],lso:["lso","sgn"],lsp:["lsp","sgn"],lst:["lst","sgn"],lsy:["lsy","sgn"],ltg:["ltg","lv"],lvs:["lvs","lv"],lzh:["lzh","zh"],max:["max","ms"],mdl:["mdl","sgn"],meo:["meo","ms"],mfa:["mfa","ms"],mfb:["mfb","ms"],mfs:["mfs","sgn"],min:["min","ms"],mnp:["mnp","zh"],mqg:["mqg","ms"],mre:["mre","sgn"],msd:["msd","sgn"],msi:["msi","ms"],msr:["msr","sgn"],mui:["mui","ms"],mzc:["mzc","sgn"],mzg:["mzg","sgn"],mzy:["mzy","sgn"],nan:["nan","zh"],nbs:["nbs","sgn"],ncs:["ncs","sgn"],nsi:["nsi","sgn"],nsl:["nsl","sgn"],nsp:["nsp","sgn"],nsr:["nsr","sgn"],nzs:["nzs","sgn"],okl:["okl","sgn"],orn:["orn","ms"],ors:["ors","ms"],pel:["pel","ms"],pga:["pga","ar"],pks:["pks","sgn"],prl:["prl","sgn"],prz:["prz","sgn"],psc:["psc","sgn"],psd:["psd","sgn"],pse:["pse","ms"],psg:["psg","sgn"],psl:["psl","sgn"],pso:["pso","sgn"],psp:["psp","sgn"],psr:["psr","sgn"],pys:["pys","sgn"],rms:["rms","sgn"],rsi:["rsi","sgn"],rsl:["rsl","sgn"],sdl:["sdl","sgn"],sfb:["sfb","sgn"],sfs:["sfs","sgn"],sgg:["sgg","sgn"],sgx:["sgx","sgn"],shu:["shu","ar"],slf:["slf","sgn"],sls:["sls","sgn"],sqk:["sqk","sgn"],sqs:["sqs","sgn"],ssh:["ssh","ar"],ssp:["ssp","sgn"],ssr:["ssr","sgn"],svk:["svk","sgn"],swc:["swc","sw"],swh:["swh","sw"],swl:["swl","sgn"],syy:["syy","sgn"],tmw:["tmw","ms"],tse:["tse","sgn"],tsm:["tsm","sgn"],tsq:["tsq","sgn"],tss:["tss","sgn"],tsy:["tsy","sgn"],tza:["tza","sgn"],ugn:["ugn","sgn"],ugy:["ugy","sgn"],ukl:["ukl","sgn"],uks:["uks","sgn"],urk:["urk","ms"],uzn:["uzn","uz"],uzs:["uzs","uz"],vgt:["vgt","sgn"],vkk:["vkk","ms"],vkt:["vkt","ms"],vsi:["vsi","sgn"],vsl:["vsl","sgn"],vsv:["vsv","sgn"],wuu:["wuu","zh"],xki:["xki","sgn"],xml:["xml","sgn"],xmm:["xmm","ms"],xms:["xms","sgn"],yds:["yds","sgn"],ysl:["ysl","sgn"],yue:["yue","zh"],zib:["zib","sgn"],zlm:["zlm","ms"],zmi:["zmi","ms"],zsl:["zsl","sgn"],zsm:["zsm","ms"]}};function U(e){for(var t=e.length;t--;){var n=e.charAt(t);n>="a"&&n<="z"&&(e=e.slice(0,t)+n.toUpperCase()+e.slice(t+1))}return e}function B(e){return!!L.test(e)&&!k.test(e)&&!x.test(e)}function V(e){for(var t=void 0,n=void 0,r=1,i=(n=(e=e.toLowerCase()).split("-")).length;r<i;r++)if(2===n[r].length)n[r]=n[r].toUpperCase();else if(4===n[r].length)n[r]=n[r].charAt(0).toUpperCase()+n[r].slice(1);else if(1===n[r].length&&"x"!==n[r])break;(t=(e=v.call(n,"-")).match(F))&&t.length>1&&(t.sort(),e=e.replace(RegExp("(?:"+F.source+")+","i"),v.call(t,""))),u.call(j.tags,e)&&(e=j.tags[e]);for(var a=1,o=(n=e.split("-")).length;a<o;a++)u.call(j.subtags,n[a])?n[a]=j.subtags[n[a]]:u.call(j.extLang,n[a])&&(n[a]=j.extLang[n[a]][0],1===a&&j.extLang[n[1]][1]===n[0]&&(n=p.call(n,a++),o-=1));return v.call(n,"-")}var W=/^[A-Z]{3}$/;var z=/-u(?:-[0-9a-z]{2,8})+/gi;function H(e){if(void 0===e)return new E;for(var t=new E,n=C(e="string"===typeof e?[e]:e),r=T(n.length),i=0;i<r;){var a=String(i);if(a in n){var o=n[a];if(null===o||"string"!==typeof o&&"object"!==("undefined"===typeof o?"undefined":s.typeof(o)))throw new TypeError("String or Object type expected");var c=String(o);if(!B(c))throw new RangeError("'"+c+"' is not a structurally valid language tag");c=V(c),-1===h.call(t,c)&&m.call(t,c)}i++}return t}function G(e,t){for(var n=t;n;){if(h.call(e,n)>-1)return n;var r=n.lastIndexOf("-");if(r<0)return;r>=2&&"-"===n.charAt(r-2)&&(r-=2),n=n.substring(0,r)}}function $(e,t){for(var n=0,r=t.length,i=void 0,a=void 0,o=void 0;n<r&&!i;)a=t[n],i=G(e,o=String(a).replace(z,"")),n++;var s=new S;if(void 0!==i){if(s["[[locale]]"]=i,String(a)!==String(o)){var c=a.match(z)[0],l=a.indexOf("-u-");s["[[extension]]"]=c,s["[[extensionIndex]]"]=l}}else s["[[locale]]"]=P;return s}function K(e,t,n,r,i){if(0===e.length)throw new ReferenceError("No locale data has been provided for this object yet.");var a,o=(a="lookup"===n["[[localeMatcher]]"]?$(e,t):function(e,t){return $(e,t)}(e,t))["[[locale]]"],s=void 0,c=void 0;u.call(a,"[[extension]]")&&(c=(s=function(e){var t=e.length;if(0===t)return[];for(var n=[],r=!0,i=3,a=i,o=i;i<t;){if(45===e.codePointAt(i)){if(i-a===2){if(a-o>1){var s=e.substring(o,a-1);n.push(s)}var c=e.substring(a,i);n.push(c),o=i+1,r=!1}else if(!0===r){var l=e.substring(a,i);n.push(l),o=i+1}a=i+1}i+=1}if(t-a===2){if(a-o>1){var u=e.substring(o,a-1);n.push(u)}o=a}var d=e.substring(o,t);return n.push(d),n}(a["[[extension]]"])).length);var l=new S;l["[[dataLocale]]"]=o;for(var d="-u",f=0,p=r.length;f<p;){var g=r[f],m=i[o][g],v=m[0],y="",_=h;if(void 0!==s){var b=_.call(s,g);if(-1!==b)if(b+1<c&&s[b+1].length>2){var w=s[b+1];-1!==_.call(m,w)&&(y="-"+g+"-"+(v=w))}else-1!==_(m,"true")&&(v="true")}if(u.call(n,"[["+g+"]]")){var E=n["[["+g+"]]"];-1!==_.call(m,E)&&E!==v&&(v=E,y="")}l["[["+g+"]]"]=v,d+=y,f++}if(d.length>2){var I=o.indexOf("-x-");if(-1===I)o+=d;else{var C=o.substring(0,I),O=o.substring(I);o=C+d+O}o=V(o)}return l["[[locale]]"]=o,l}function Q(e,t){for(var n=t.length,r=new E,i=0;i<n;){var a=t[i];void 0!==G(e,String(a).replace(z,""))&&m.call(r,a),i++}return p.call(r)}function q(e,t,n){var r,i=void 0;if(void 0!==n&&void 0!==(i=(n=new S(C(n))).localeMatcher)&&"lookup"!==(i=String(i))&&"best fit"!==i)throw new RangeError('matcher should be "lookup" or "best fit"');for(var a in r=void 0===i||"best fit"===i?function(e,t){return Q(e,t)}(e,t):Q(e,t))u.call(r,a)&&d(r,a,{writable:!1,configurable:!1,value:r[a]});try{d(r,"length",{writable:!1})}catch(o){}return r}function Z(e,t,n,r,i){var a=e[t];if(void 0!==a){if(a="boolean"===n?Boolean(a):"string"===n?String(a):a,void 0!==r&&-1===h.call(r,a))throw new RangeError("'"+a+"' is not an allowed value for `"+t+"`");return a}return i}function Y(e,t,n,r,i){var a=e[t];if(void 0!==a){if(a=Number(a),isNaN(a)||a<n||a>r)throw new RangeError("Value is not a number or outside accepted range");return Math.floor(a)}return i}var X={};Object.defineProperty(X,"getCanonicalLocales",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t=H(e),n=[],r=t.length,i=0;i<r;)n[i]=t[i],i++;return n}});var J={BHD:3,BYR:0,XOF:0,BIF:0,XAF:0,CLF:4,CLP:0,KMF:0,DJF:0,XPF:0,GNF:0,ISK:0,IQD:3,JPY:0,JOD:3,KRW:0,KWD:3,LYD:3,OMR:3,PYG:0,RWF:0,TND:3,UGX:0,UYI:0,VUV:0,VND:0};function ee(){var e=arguments[0],t=arguments[1];return this&&this!==X?function(e,t,n){var r=A(e),i=I();if(!0===r["[[initializedIntlObject]]"])throw new TypeError("`this` object has already been initialized as an Intl object");d(e,"__getInternalProperties",{value:function(){if(arguments[0]===w)return r}}),r["[[initializedIntlObject]]"]=!0;var a=H(t);n=void 0===n?{}:C(n);var o=new S,s=Z(n,"localeMatcher","string",new E("lookup","best fit"),"best fit");o["[[localeMatcher]]"]=s;var c=b.NumberFormat["[[localeData]]"],u=K(b.NumberFormat["[[availableLocales]]"],a,o,b.NumberFormat["[[relevantExtensionKeys]]"],c);r["[[locale]]"]=u["[[locale]]"],r["[[numberingSystem]]"]=u["[[nu]]"],r["[[dataLocale]]"]=u["[[dataLocale]]"];var h=u["[[dataLocale]]"],f=Z(n,"style","string",new E("decimal","percent","currency"),"decimal");r["[[style]]"]=f;var p=Z(n,"currency","string");if(void 0!==p&&!function(e){var t=U(String(e));return!1!==W.test(t)}(p))throw new RangeError("'"+p+"' is not a valid currency code");if("currency"===f&&void 0===p)throw new TypeError("Currency code is required when style is currency");var g=void 0;"currency"===f&&(p=p.toUpperCase(),r["[[currency]]"]=p,m=p,g=void 0!==J[m]?J[m]:2);var m;var v=Z(n,"currencyDisplay","string",new E("code","symbol","name"),"symbol");"currency"===f&&(r["[[currencyDisplay]]"]=v),te(r,n,"currency"===f?g:0),void 0===r["[[maximumFractionDigits]]"]&&(r["[[maximumFractionDigits]]"]="currency"===f?Math.max(r["[[minimumFractionDigits]]"],g):"percent"===f?Math.max(r["[[minimumFractionDigits]]"],0):Math.max(r["[[minimumFractionDigits]]"],3));var y=Z(n,"useGrouping","boolean",void 0,!0);r["[[useGrouping]]"]=y;var _=c[h].patterns[f];return r["[[positivePattern]]"]=_.positivePattern,r["[[negativePattern]]"]=_.negativePattern,r["[[boundFormat]]"]=void 0,r["[[initializedNumberFormat]]"]=!0,l&&(e.format=ne.call(e)),i(),e}(C(this),e,t):new X.NumberFormat(e,t)}function te(e,t,n){var r=Y(t,"minimumIntegerDigits",1,21,1),i=Y(t,"minimumFractionDigits",0,20,n),a=Y(t,"maximumFractionDigits",i,20),o=t.minimumSignificantDigits,s=t.maximumSignificantDigits;e["[[minimumIntegerDigits]]"]=r,e["[[minimumFractionDigits]]"]=i,e["[[maximumFractionDigits]]"]=a,void 0===o&&void 0===s||(o=Y(t,"minimumSignificantDigits",1,21,1),s=Y(t,"maximumSignificantDigits",o,21,21),e["[[minimumSignificantDigits]]"]=o,e["[[maximumSignificantDigits]]"]=s)}function ne(){var e=null!==this&&"object"===s.typeof(this)&&A(this);if(!e||!e["[[initializedNumberFormat]]"])throw new TypeError("`this` value for format() is not an initialized Intl.NumberFormat object.");if(void 0===e["[[boundFormat]]"]){var t=_.call((function(e){return ae(this,Number(e))}),this);e["[[boundFormat]]"]=t}return e["[[boundFormat]]"]}function re(e,t){var n=A(e);return u.call(n,"[[minimumSignificantDigits]]")&&u.call(n,"[[maximumSignificantDigits]]")?function(e,t,n){var r=n,i=void 0,a=void 0;if(0===e)i=v.call(Array(r+1),"0"),a=0;else{a=function(e){if("function"===typeof Math.log10)return Math.floor(Math.log10(e));var t=Math.round(Math.log(e)*Math.LOG10E);return t-(Number("1e"+t)>e)}(Math.abs(e));var o=Math.round(Math.exp(Math.abs(a-r+1)*Math.LN10));i=String(Math.round(a-r+1<0?e*o:e/o))}if(a>=r)return i+v.call(Array(a-r+1+1),"0");if(a===r-1)return i;if(a>=0?i=i.slice(0,a+1)+"."+i.slice(a+1):a<0&&(i="0."+v.call(Array(1-(a+1)),"0")+i),i.indexOf(".")>=0&&n>t){for(var s=n-t;s>0&&"0"===i.charAt(i.length-1);)i=i.slice(0,-1),s--;"."===i.charAt(i.length-1)&&(i=i.slice(0,-1))}return i}(t,n["[[minimumSignificantDigits]]"],n["[[maximumSignificantDigits]]"]):function(e,t,n,r){var i=r,a=Math.pow(10,i)*e,o=0===a?"0":a.toFixed(0),s=void 0,c=(s=o.indexOf("e"))>-1?o.slice(s+1):0;c&&(o=o.slice(0,s).replace(".",""),o+=v.call(Array(c-(o.length-1)+1),"0"));var l=void 0;if(0!==i){var u=o.length;u<=i&&(o=v.call(Array(i+1-u+1),"0")+o,u=i+1);var d=o.substring(0,u-i),h=o.substring(u-i,o.length);o=d+"."+h,l=d.length}else l=o.length;for(var f=r-n;f>0&&"0"===o.slice(-1);)o=o.slice(0,-1),f--;return"."===o.slice(-1)&&(o=o.slice(0,-1)),l<t&&(o=v.call(Array(t-l+1),"0")+o),o}(t,n["[[minimumIntegerDigits]]"],n["[[minimumFractionDigits]]"],n["[[maximumFractionDigits]]"])}function ie(e,t){var n=A(e),r=n["[[dataLocale]]"],i=n["[[numberingSystem]]"],a=b.NumberFormat["[[localeData]]"][r],o=a.symbols[i]||a.symbols.latn,s=void 0;!isNaN(t)&&t<0?(t=-t,s=n["[[negativePattern]]"]):s=n["[[positivePattern]]"];for(var c=new E,l=s.indexOf("{",0),u=0,d=0,h=s.length;l>-1&&l<h;){if(-1===(u=s.indexOf("}",l)))throw new Error;if(l>d){var f=s.substring(d,l);m.call(c,{"[[type]]":"literal","[[value]]":f})}var p=s.substring(l+1,u);if("number"===p)if(isNaN(t)){var g=o.nan;m.call(c,{"[[type]]":"nan","[[value]]":g})}else if(isFinite(t)){"percent"===n["[[style]]"]&&(t*=100);var v=re(e,t);oe[i]?function(){var e=oe[i];v=String(v).replace(/\d/g,(function(t){return e[t]}))}():v=String(v);var _=void 0,w=void 0,S=v.indexOf(".",0);if(S>0?(_=v.substring(0,S),w=v.substring(S+1,S.length)):(_=v,w=void 0),!0===n["[[useGrouping]]"]){var I=o.group,C=[],O=a.patterns.primaryGroupSize||3,T=a.patterns.secondaryGroupSize||O;if(_.length>O){var N=_.length-O,M=N%T,D=_.slice(0,M);for(D.length&&m.call(C,D);M<N;)m.call(C,_.slice(M,M+T)),M+=T;m.call(C,_.slice(N))}else m.call(C,_);if(0===C.length)throw new Error;for(;C.length;){var R=y.call(C);m.call(c,{"[[type]]":"integer","[[value]]":R}),C.length&&m.call(c,{"[[type]]":"group","[[value]]":I})}}else m.call(c,{"[[type]]":"integer","[[value]]":_});if(void 0!==w){var L=o.decimal;m.call(c,{"[[type]]":"decimal","[[value]]":L}),m.call(c,{"[[type]]":"fraction","[[value]]":w})}}else{var k=o.infinity;m.call(c,{"[[type]]":"infinity","[[value]]":k})}else if("plusSign"===p){var x=o.plusSign;m.call(c,{"[[type]]":"plusSign","[[value]]":x})}else if("minusSign"===p){var F=o.minusSign;m.call(c,{"[[type]]":"minusSign","[[value]]":F})}else if("percentSign"===p&&"percent"===n["[[style]]"]){var P=o.percentSign;m.call(c,{"[[type]]":"literal","[[value]]":P})}else if("currency"===p&&"currency"===n["[[style]]"]){var j=n["[[currency]]"],U=void 0;"code"===n["[[currencyDisplay]]"]?U=j:"symbol"===n["[[currencyDisplay]]"]?U=a.currencies[j]||j:"name"===n["[[currencyDisplay]]"]&&(U=j),m.call(c,{"[[type]]":"currency","[[value]]":U})}else{var B=s.substring(l,u);m.call(c,{"[[type]]":"literal","[[value]]":B})}d=u+1,l=s.indexOf("{",d)}if(d<h){var V=s.substring(d,h);m.call(c,{"[[type]]":"literal","[[value]]":V})}return c}function ae(e,t){for(var n=ie(e,t),r="",i=0;n.length>i;i++)r+=n[i]["[[value]]"];return r}d(X,"NumberFormat",{configurable:!0,writable:!0,value:ee}),d(X.NumberFormat,"prototype",{writable:!1}),b.NumberFormat={"[[availableLocales]]":[],"[[relevantExtensionKeys]]":["nu"],"[[localeData]]":{}},d(X.NumberFormat,"supportedLocalesOf",{configurable:!0,writable:!0,value:_.call((function(e){if(!u.call(this,"[[availableLocales]]"))throw new TypeError("supportedLocalesOf() is not a constructor");var t=I(),n=arguments[1],r=this["[[availableLocales]]"],i=H(e);return t(),q(r,i,n)}),b.NumberFormat)}),d(X.NumberFormat.prototype,"format",{configurable:!0,get:ne}),Object.defineProperty(X.NumberFormat.prototype,"formatToParts",{configurable:!0,enumerable:!1,writable:!0,value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=null!==this&&"object"===s.typeof(this)&&A(this);if(!t||!t["[[initializedNumberFormat]]"])throw new TypeError("`this` value for formatToParts() is not an initialized Intl.NumberFormat object.");return function(e,t){for(var n=ie(e,t),r=[],i=0,a=0;n.length>a;a++){var o=n[a],s={};s.type=o["[[type]]"],s.value=o["[[value]]"],r[i]=s,i+=1}return r}(this,Number(e))}});var oe={arab:["\u0660","\u0661","\u0662","\u0663","\u0664","\u0665","\u0666","\u0667","\u0668","\u0669"],arabext:["\u06f0","\u06f1","\u06f2","\u06f3","\u06f4","\u06f5","\u06f6","\u06f7","\u06f8","\u06f9"],bali:["\u1b50","\u1b51","\u1b52","\u1b53","\u1b54","\u1b55","\u1b56","\u1b57","\u1b58","\u1b59"],beng:["\u09e6","\u09e7","\u09e8","\u09e9","\u09ea","\u09eb","\u09ec","\u09ed","\u09ee","\u09ef"],deva:["\u0966","\u0967","\u0968","\u0969","\u096a","\u096b","\u096c","\u096d","\u096e","\u096f"],fullwide:["\uff10","\uff11","\uff12","\uff13","\uff14","\uff15","\uff16","\uff17","\uff18","\uff19"],gujr:["\u0ae6","\u0ae7","\u0ae8","\u0ae9","\u0aea","\u0aeb","\u0aec","\u0aed","\u0aee","\u0aef"],guru:["\u0a66","\u0a67","\u0a68","\u0a69","\u0a6a","\u0a6b","\u0a6c","\u0a6d","\u0a6e","\u0a6f"],hanidec:["\u3007","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d"],khmr:["\u17e0","\u17e1","\u17e2","\u17e3","\u17e4","\u17e5","\u17e6","\u17e7","\u17e8","\u17e9"],knda:["\u0ce6","\u0ce7","\u0ce8","\u0ce9","\u0cea","\u0ceb","\u0cec","\u0ced","\u0cee","\u0cef"],laoo:["\u0ed0","\u0ed1","\u0ed2","\u0ed3","\u0ed4","\u0ed5","\u0ed6","\u0ed7","\u0ed8","\u0ed9"],latn:["0","1","2","3","4","5","6","7","8","9"],limb:["\u1946","\u1947","\u1948","\u1949","\u194a","\u194b","\u194c","\u194d","\u194e","\u194f"],mlym:["\u0d66","\u0d67","\u0d68","\u0d69","\u0d6a","\u0d6b","\u0d6c","\u0d6d","\u0d6e","\u0d6f"],mong:["\u1810","\u1811","\u1812","\u1813","\u1814","\u1815","\u1816","\u1817","\u1818","\u1819"],mymr:["\u1040","\u1041","\u1042","\u1043","\u1044","\u1045","\u1046","\u1047","\u1048","\u1049"],orya:["\u0b66","\u0b67","\u0b68","\u0b69","\u0b6a","\u0b6b","\u0b6c","\u0b6d","\u0b6e","\u0b6f"],tamldec:["\u0be6","\u0be7","\u0be8","\u0be9","\u0bea","\u0beb","\u0bec","\u0bed","\u0bee","\u0bef"],telu:["\u0c66","\u0c67","\u0c68","\u0c69","\u0c6a","\u0c6b","\u0c6c","\u0c6d","\u0c6e","\u0c6f"],thai:["\u0e50","\u0e51","\u0e52","\u0e53","\u0e54","\u0e55","\u0e56","\u0e57","\u0e58","\u0e59"],tibt:["\u0f20","\u0f21","\u0f22","\u0f23","\u0f24","\u0f25","\u0f26","\u0f27","\u0f28","\u0f29"]};d(X.NumberFormat.prototype,"resolvedOptions",{configurable:!0,writable:!0,value:function(){var e=void 0,t=new S,n=["locale","numberingSystem","style","currency","currencyDisplay","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","useGrouping"],r=null!==this&&"object"===s.typeof(this)&&A(this);if(!r||!r["[[initializedNumberFormat]]"])throw new TypeError("`this` value for resolvedOptions() is not an initialized Intl.NumberFormat object.");for(var i=0,a=n.length;i<a;i++)u.call(r,e="[["+n[i]+"]]")&&(t[n[i]]={value:r[e],writable:!0,configurable:!0,enumerable:!0});return f({},t)}});var se=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g,ce=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,le=/[rqQASjJgwWIQq]/,ue=["era","year","month","day","weekday","quarter"],de=["hour","minute","second","hour12","timeZoneName"];function he(e){for(var t=0;t<de.length;t+=1)if(e.hasOwnProperty(de[t]))return!1;return!0}function fe(e){for(var t=0;t<ue.length;t+=1)if(e.hasOwnProperty(ue[t]))return!1;return!0}function pe(e,t){for(var n={_:{}},r=0;r<ue.length;r+=1)e[ue[r]]&&(n[ue[r]]=e[ue[r]]),e._[ue[r]]&&(n._[ue[r]]=e._[ue[r]]);for(var i=0;i<de.length;i+=1)t[de[i]]&&(n[de[i]]=t[de[i]]),t._[de[i]]&&(n._[de[i]]=t._[de[i]]);return n}function ge(e){return e.pattern12=e.extendedPattern.replace(/'([^']*)'/g,(function(e,t){return t||"'"})),e.pattern=e.pattern12.replace("{ampm}","").replace(ce,""),e}function me(e,t){switch(e.charAt(0)){case"G":return t.era=["short","short","short","long","narrow"][e.length-1],"{era}";case"y":case"Y":case"u":case"U":case"r":return t.year=2===e.length?"2-digit":"numeric","{year}";case"Q":case"q":return t.quarter=["numeric","2-digit","short","long","narrow"][e.length-1],"{quarter}";case"M":case"L":return t.month=["numeric","2-digit","short","long","narrow"][e.length-1],"{month}";case"w":return t.week=2===e.length?"2-digit":"numeric","{weekday}";case"W":return t.week="numeric","{weekday}";case"d":return t.day=2===e.length?"2-digit":"numeric","{day}";case"D":case"F":case"g":return t.day="numeric","{day}";case"E":return t.weekday=["short","short","short","long","narrow","short"][e.length-1],"{weekday}";case"e":return t.weekday=["numeric","2-digit","short","long","narrow","short"][e.length-1],"{weekday}";case"c":return t.weekday=["numeric",void 0,"short","long","narrow","short"][e.length-1],"{weekday}";case"a":case"b":case"B":return t.hour12=!0,"{ampm}";case"h":case"H":return t.hour=2===e.length?"2-digit":"numeric","{hour}";case"k":case"K":return t.hour12=!0,t.hour=2===e.length?"2-digit":"numeric","{hour}";case"m":return t.minute=2===e.length?"2-digit":"numeric","{minute}";case"s":return t.second=2===e.length?"2-digit":"numeric","{second}";case"S":case"A":return t.second="numeric","{second}";case"z":case"Z":case"O":case"v":case"V":case"X":case"x":return t.timeZoneName=e.length<4?"short":"long","{timeZoneName}"}}function ve(e,t){if(!le.test(t)){var n={originalPattern:t,_:{}};return n.extendedPattern=t.replace(se,(function(e){return me(e,n._)})),e.replace(se,(function(e){return me(e,n)})),ge(n)}}var ye={second:{numeric:"s","2-digit":"ss"},minute:{numeric:"m","2-digit":"mm"},year:{numeric:"y","2-digit":"yy"},day:{numeric:"d","2-digit":"dd"},month:{numeric:"L","2-digit":"LL",narrow:"LLLLL",short:"LLL",long:"LLLL"},weekday:{narrow:"ccccc",short:"ccc",long:"cccc"}};var _e=f(null,{narrow:{},short:{},long:{}});function be(e,t,n,r,i){var a=e[t]&&e[t][n]?e[t][n]:e.gregory[n],o={narrow:["short","long"],short:["long","narrow"],long:["short","narrow"]},s=u.call(a,r)?a[r]:u.call(a,o[r][0])?a[o[r][0]]:a[o[r][1]];return null!==i?s[i]:s}function we(){var e=arguments[0],t=arguments[1];return this&&this!==X?function(e,t,n){var i=A(e),a=I();if(!0===i["[[initializedIntlObject]]"])throw new TypeError("`this` object has already been initialized as an Intl object");d(e,"__getInternalProperties",{value:function(){if(arguments[0]===w)return i}}),i["[[initializedIntlObject]]"]=!0;var o=H(t);n=Ee(n,"any","date");var s=new S,c=Z(n,"localeMatcher","string",new E("lookup","best fit"),"best fit");s["[[localeMatcher]]"]=c;var f=b.DateTimeFormat,p=f["[[localeData]]"],g=K(f["[[availableLocales]]"],o,s,f["[[relevantExtensionKeys]]"],p);i["[[locale]]"]=g["[[locale]]"],i["[[calendar]]"]=g["[[ca]]"],i["[[numberingSystem]]"]=g["[[nu]]"],i["[[dataLocale]]"]=g["[[dataLocale]]"];var m=g["[[dataLocale]]"],v=n.timeZone;if(void 0!==v&&"UTC"!==(v=U(v)))throw new RangeError("timeZone is not supported.");for(var y in i["[[timeZone]]"]=v,s=new S,Se)if(u.call(Se,y)){var _=Z(n,y,"string",Se[y]);s["[["+y+"]]"]=_}var C=void 0,O=p[m],T=function(e){return"[object Array]"===Object.prototype.toString.call(e)?e:function(e){var t=e.availableFormats,n=e.timeFormats,r=e.dateFormats,i=[],a=void 0,o=void 0,s=void 0,c=void 0,l=void 0,u=[],d=[];for(a in t)t.hasOwnProperty(a)&&(s=ve(a,o=t[a]))&&(i.push(s),he(s)?d.push(s):fe(s)&&u.push(s));for(a in n)n.hasOwnProperty(a)&&(s=ve(a,o=n[a]))&&(i.push(s),u.push(s));for(a in r)r.hasOwnProperty(a)&&(s=ve(a,o=r[a]))&&(i.push(s),d.push(s));for(c=0;c<u.length;c+=1)for(l=0;l<d.length;l+=1)o="long"===d[l].month?d[l].weekday?e.full:e.long:"short"===d[l].month?e.medium:e.short,(s=pe(d[l],u[c])).originalPattern=o,s.extendedPattern=o.replace("{0}",u[c].extendedPattern).replace("{1}",d[l].extendedPattern).replace(/^[,\s]+|[,\s]+$/gi,""),i.push(ge(s));return i}(e)}(O.formats);if(c=Z(n,"formatMatcher","string",new E("basic","best fit"),"best fit"),O.formats=T,"basic"===c)C=function(e,t){for(var n=120,r=20,i=8,a=6,o=6,s=3,c=-1/0,l=void 0,d=0,f=t.length;d<f;){var p=t[d],g=0;for(var m in Se)if(u.call(Se,m)){var v=e["[["+m+"]]"],y=u.call(p,m)?p[m]:void 0;if(void 0===v&&void 0!==y)g-=r;else if(void 0!==v&&void 0===y)g-=n;else{var _=["2-digit","numeric","narrow","short","long"],b=h.call(_,v),w=h.call(_,y),S=Math.max(Math.min(w-b,2),-2);2===S?g-=a:1===S?g-=s:-1===S?g-=o:-2===S&&(g-=i)}}g>c&&(c=g,l=p),d++}return l}(s,T);else{var N=Z(n,"hour12","boolean");s.hour12=void 0===N?O.hour12:N,C=function(e,t){var n=[];for(var i in Se)u.call(Se,i)&&void 0!==e["[["+i+"]]"]&&n.push(i);if(1===n.length){var a=function(e,t){var n;if(ye[e]&&ye[e][t])return n={originalPattern:ye[e][t],_:r({},e,t),extendedPattern:"{"+e+"}"},r(n,e,t),r(n,"pattern12","{"+e+"}"),r(n,"pattern","{"+e+"}"),n}(n[0],e["[["+n[0]+"]]"]);if(a)return a}for(var o=120,s=20,c=8,l=6,d=6,f=3,p=2,g=1,m=-1/0,v=void 0,y=0,_=t.length;y<_;){var b=t[y],w=0;for(var S in Se)if(u.call(Se,S)){var E=e["[["+S+"]]"],I=u.call(b,S)?b[S]:void 0;if(E!==(u.call(b._,S)?b._[S]:void 0)&&(w-=p),void 0===E&&void 0!==I)w-=s;else if(void 0!==E&&void 0===I)w-=o;else{var C=["2-digit","numeric","narrow","short","long"],O=h.call(C,E),T=h.call(C,I),A=Math.max(Math.min(T-O,2),-2);T<=1&&O>=2||T>=2&&O<=1?A>0?w-=l:A<0&&(w-=c):A>1?w-=f:A<-1&&(w-=d)}}b._.hour12!==e.hour12&&(w-=g),w>m&&(m=w,v=b),y++}return v}(s,T)}for(var M in Se)if(u.call(Se,M)&&u.call(C,M)){var D=C[M];D=C._&&u.call(C._,M)?C._[M]:D,i["[["+M+"]]"]=D}var R=void 0,L=Z(n,"hour12","boolean");if(i["[[hour]]"])if(L=void 0===L?O.hour12:L,i["[[hour12]]"]=L,!0===L){var k=O.hourNo0;i["[[hourNo0]]"]=k,R=C.pattern12}else R=C.pattern;else R=C.pattern;return i["[[pattern]]"]=R,i["[[boundFormat]]"]=void 0,i["[[initializedDateTimeFormat]]"]=!0,l&&(e.format=Ie.call(e)),a(),e}(C(this),e,t):new X.DateTimeFormat(e,t)}d(X,"DateTimeFormat",{configurable:!0,writable:!0,value:we}),d(we,"prototype",{writable:!1});var Se={weekday:["narrow","short","long"],era:["narrow","short","long"],year:["2-digit","numeric"],month:["2-digit","numeric","narrow","short","long"],day:["2-digit","numeric"],hour:["2-digit","numeric"],minute:["2-digit","numeric"],second:["2-digit","numeric"],timeZoneName:["short","long"]};function Ee(e,t,n){if(void 0===e)e=null;else{var r=C(e);for(var i in e=new S,r)e[i]=r[i]}e=f(e);var a=!0;return"date"!==t&&"any"!==t||void 0===e.weekday&&void 0===e.year&&void 0===e.month&&void 0===e.day||(a=!1),"time"!==t&&"any"!==t||void 0===e.hour&&void 0===e.minute&&void 0===e.second||(a=!1),!a||"date"!==n&&"all"!==n||(e.year=e.month=e.day="numeric"),!a||"time"!==n&&"all"!==n||(e.hour=e.minute=e.second="numeric"),e}function Ie(){var e=null!==this&&"object"===s.typeof(this)&&A(this);if(!e||!e["[[initializedDateTimeFormat]]"])throw new TypeError("`this` value for format() is not an initialized Intl.DateTimeFormat object.");if(void 0===e["[[boundFormat]]"]){var t=_.call((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return Oe(this,void 0===e?Date.now():O(e))}),this);e["[[boundFormat]]"]=t}return e["[[boundFormat]]"]}function Ce(e,t){if(!isFinite(t))throw new RangeError("Invalid valid date passed to format");var n=e.__getInternalProperties(w);I();for(var r=n["[[locale]]"],i=new X.NumberFormat([r],{useGrouping:!1}),a=new X.NumberFormat([r],{minimumIntegerDigits:2,useGrouping:!1}),o=function(e,t,n){var r=new Date(e),i="get"+(n||"");return new S({"[[weekday]]":r[i+"Day"](),"[[era]]":+(r[i+"FullYear"]()>=0),"[[year]]":r[i+"FullYear"](),"[[month]]":r[i+"Month"](),"[[day]]":r[i+"Date"](),"[[hour]]":r[i+"Hours"](),"[[minute]]":r[i+"Minutes"](),"[[second]]":r[i+"Seconds"](),"[[inDST]]":!1})}(t,n["[[calendar]]"],n["[[timeZone]]"]),s=n["[[pattern]]"],c=new E,l=0,u=s.indexOf("{"),d=0,h=n["[[dataLocale]]"],f=b.DateTimeFormat["[[localeData]]"][h].calendars,p=n["[[calendar]]"];-1!==u;){var g=void 0;if(-1===(d=s.indexOf("}",u)))throw new Error("Unclosed pattern");u>l&&m.call(c,{type:"literal",value:s.substring(l,u)});var v=s.substring(u+1,d);if(Se.hasOwnProperty(v)){var y=n["[["+v+"]]"],_=o["[["+v+"]]"];if("year"===v&&_<=0?_=1-_:"month"===v?_++:"hour"===v&&!0===n["[[hour12]]"]&&0===(_%=12)&&!0===n["[[hourNo0]]"]&&(_=12),"numeric"===y)g=ae(i,_);else if("2-digit"===y)(g=ae(a,_)).length>2&&(g=g.slice(-2));else if(y in _e)switch(v){case"month":g=be(f,p,"months",y,o["[["+v+"]]"]);break;case"weekday":try{g=be(f,p,"days",y,o["[["+v+"]]"])}catch(C){throw new Error("Could not find weekday data for locale "+r)}break;case"timeZoneName":g="";break;case"era":try{g=be(f,p,"eras",y,o["[["+v+"]]"])}catch(C){throw new Error("Could not find era data for locale "+r)}break;default:g=o["[["+v+"]]"]}m.call(c,{type:v,value:g})}else"ampm"===v?(g=be(f,p,"dayPeriods",o["[[hour]]"]>11?"pm":"am",null),m.call(c,{type:"dayPeriod",value:g})):m.call(c,{type:"literal",value:s.substring(u,d+1)});l=d+1,u=s.indexOf("{",l)}return d<s.length-1&&m.call(c,{type:"literal",value:s.substr(d+1)}),c}function Oe(e,t){for(var n=Ce(e,t),r="",i=0;n.length>i;i++)r+=n[i].value;return r}b.DateTimeFormat={"[[availableLocales]]":[],"[[relevantExtensionKeys]]":["ca","nu"],"[[localeData]]":{}},d(X.DateTimeFormat,"supportedLocalesOf",{configurable:!0,writable:!0,value:_.call((function(e){if(!u.call(this,"[[availableLocales]]"))throw new TypeError("supportedLocalesOf() is not a constructor");var t=I(),n=arguments[1],r=this["[[availableLocales]]"],i=H(e);return t(),q(r,i,n)}),b.NumberFormat)}),d(X.DateTimeFormat.prototype,"format",{configurable:!0,get:Ie}),Object.defineProperty(X.DateTimeFormat.prototype,"formatToParts",{enumerable:!1,writable:!0,configurable:!0,value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=null!==this&&"object"===s.typeof(this)&&A(this);if(!t||!t["[[initializedDateTimeFormat]]"])throw new TypeError("`this` value for formatToParts() is not an initialized Intl.DateTimeFormat object.");return function(e,t){for(var n=Ce(e,t),r=[],i=0;n.length>i;i++){var a=n[i];r.push({type:a.type,value:a.value})}return r}(this,void 0===e?Date.now():O(e))}}),d(X.DateTimeFormat.prototype,"resolvedOptions",{writable:!0,configurable:!0,value:function(){var e=void 0,t=new S,n=["locale","calendar","numberingSystem","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"],r=null!==this&&"object"===s.typeof(this)&&A(this);if(!r||!r["[[initializedDateTimeFormat]]"])throw new TypeError("`this` value for resolvedOptions() is not an initialized Intl.DateTimeFormat object.");for(var i=0,a=n.length;i<a;i++)u.call(r,e="[["+n[i]+"]]")&&(t[n[i]]={value:r[e],writable:!0,configurable:!0,enumerable:!0});return f({},t)}});var Te=X.__localeSensitiveProtos={Number:{},Date:{}};Te.Number.toLocaleString=function(){if("[object Number]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a number for Number.prototype.toLocaleString()");return ae(new ee(arguments[0],arguments[1]),this)},Te.Date.toLocaleString=function(){if("[object Date]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a Date instance for Date.prototype.toLocaleString()");var e=+this;if(isNaN(e))return"Invalid Date";var t=arguments[1];return Oe(new we(arguments[0],t=Ee(t,"any","all")),e)},Te.Date.toLocaleDateString=function(){if("[object Date]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a Date instance for Date.prototype.toLocaleDateString()");var e=+this;if(isNaN(e))return"Invalid Date";var t=arguments[1];return Oe(new we(arguments[0],t=Ee(t,"date","date")),e)},Te.Date.toLocaleTimeString=function(){if("[object Date]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a Date instance for Date.prototype.toLocaleTimeString()");var e=+this;if(isNaN(e))return"Invalid Date";var t=arguments[1];return Oe(new we(arguments[0],t=Ee(t,"time","time")),e)};var Ae=[function(e,t){return"other"},function(e,t){return t?"other":1==e?"one":"other"},function(e,t){return t?"other":0==e||1==e?"one":"other"},function(e,t){var n=!String(e).split(".")[1];return t?"other":1==e&&n?"one":"other"}],Ne={af:Ae[1],ak:Ae[2],am:function(e,t){return t?"other":e>=0&&e<=1?"one":"other"},ar:function(e,t){var n=String(e).split("."),r=Number(n[0])==e&&n[0].slice(-2);return t?"other":0==e?"zero":1==e?"one":2==e?"two":r>=3&&r<=10?"few":r>=11&&r<=99?"many":"other"},ars:function(e,t){var n=String(e).split("."),r=Number(n[0])==e&&n[0].slice(-2);return t?"other":0==e?"zero":1==e?"one":2==e?"two":r>=3&&r<=10?"few":r>=11&&r<=99?"many":"other"},as:function(e,t){return t?1==e||5==e||7==e||8==e||9==e||10==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":e>=0&&e<=1?"one":"other"},asa:Ae[1],ast:Ae[3],az:function(e,t){var n=String(e).split(".")[0],r=n.slice(-1),i=n.slice(-2),a=n.slice(-3);return t?1==r||2==r||5==r||7==r||8==r||20==i||50==i||70==i||80==i?"one":3==r||4==r||100==a||200==a||300==a||400==a||500==a||600==a||700==a||800==a||900==a?"few":0==n||6==r||40==i||60==i||90==i?"many":"other":1==e?"one":"other"},be:function(e,t){var n=String(e).split("."),r=Number(n[0])==e,i=r&&n[0].slice(-1),a=r&&n[0].slice(-2);return t?2!=i&&3!=i||12==a||13==a?"other":"few":1==i&&11!=a?"one":i>=2&&i<=4&&(a<12||a>14)?"few":r&&0==i||i>=5&&i<=9||a>=11&&a<=14?"many":"other"},bem:Ae[1],bez:Ae[1],bg:Ae[1],bh:Ae[2],bm:Ae[0],bn:function(e,t){return t?1==e||5==e||7==e||8==e||9==e||10==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":e>=0&&e<=1?"one":"other"},bo:Ae[0],br:function(e,t){var n=String(e).split("."),r=Number(n[0])==e,i=r&&n[0].slice(-1),a=r&&n[0].slice(-2),o=r&&n[0].slice(-6);return t?"other":1==i&&11!=a&&71!=a&&91!=a?"one":2==i&&12!=a&&72!=a&&92!=a?"two":(3==i||4==i||9==i)&&(a<10||a>19)&&(a<70||a>79)&&(a<90||a>99)?"few":0!=e&&r&&0==o?"many":"other"},brx:Ae[1],bs:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"",a=!n[1],o=r.slice(-1),s=r.slice(-2),c=i.slice(-1),l=i.slice(-2);return t?"other":a&&1==o&&11!=s||1==c&&11!=l?"one":a&&o>=2&&o<=4&&(s<12||s>14)||c>=2&&c<=4&&(l<12||l>14)?"few":"other"},ca:function(e,t){var n=!String(e).split(".")[1];return t?1==e||3==e?"one":2==e?"two":4==e?"few":"other":1==e&&n?"one":"other"},ce:Ae[1],cgg:Ae[1],chr:Ae[1],ckb:Ae[1],cs:function(e,t){var n=String(e).split("."),r=n[0],i=!n[1];return t?"other":1==e&&i?"one":r>=2&&r<=4&&i?"few":i?"other":"many"},cy:function(e,t){return t?0==e||7==e||8==e||9==e?"zero":1==e?"one":2==e?"two":3==e||4==e?"few":5==e||6==e?"many":"other":0==e?"zero":1==e?"one":2==e?"two":3==e?"few":6==e?"many":"other"},da:function(e,t){var n=String(e).split("."),r=n[0],i=Number(n[0])==e;return t||1!=e&&(i||0!=r&&1!=r)?"other":"one"},de:Ae[3],dsb:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"",a=!n[1],o=r.slice(-2),s=i.slice(-2);return t?"other":a&&1==o||1==s?"one":a&&2==o||2==s?"two":a&&(3==o||4==o)||3==s||4==s?"few":"other"},dv:Ae[1],dz:Ae[0],ee:Ae[1],el:Ae[1],en:function(e,t){var n=String(e).split("."),r=!n[1],i=Number(n[0])==e,a=i&&n[0].slice(-1),o=i&&n[0].slice(-2);return t?1==a&&11!=o?"one":2==a&&12!=o?"two":3==a&&13!=o?"few":"other":1==e&&r?"one":"other"},eo:Ae[1],es:Ae[1],et:Ae[3],eu:Ae[1],fa:function(e,t){return t?"other":e>=0&&e<=1?"one":"other"},ff:function(e,t){return t?"other":e>=0&&e<2?"one":"other"},fi:Ae[3],fil:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"",a=!n[1],o=r.slice(-1),s=i.slice(-1);return t?1==e?"one":"other":a&&(1==r||2==r||3==r)||a&&4!=o&&6!=o&&9!=o||!a&&4!=s&&6!=s&&9!=s?"one":"other"},fo:Ae[1],fr:function(e,t){return t?1==e?"one":"other":e>=0&&e<2?"one":"other"},fur:Ae[1],fy:Ae[3],ga:function(e,t){var n=String(e).split("."),r=Number(n[0])==e;return t?1==e?"one":"other":1==e?"one":2==e?"two":r&&e>=3&&e<=6?"few":r&&e>=7&&e<=10?"many":"other"},gd:function(e,t){var n=String(e).split("."),r=Number(n[0])==e;return t?"other":1==e||11==e?"one":2==e||12==e?"two":r&&e>=3&&e<=10||r&&e>=13&&e<=19?"few":"other"},gl:Ae[3],gsw:Ae[1],gu:function(e,t){return t?1==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":e>=0&&e<=1?"one":"other"},guw:Ae[2],gv:function(e,t){var n=String(e).split("."),r=n[0],i=!n[1],a=r.slice(-1),o=r.slice(-2);return t?"other":i&&1==a?"one":i&&2==a?"two":!i||0!=o&&20!=o&&40!=o&&60!=o&&80!=o?i?"other":"many":"few"},ha:Ae[1],haw:Ae[1],he:function(e,t){var n=String(e).split("."),r=n[0],i=!n[1],a=Number(n[0])==e,o=a&&n[0].slice(-1);return t?"other":1==e&&i?"one":2==r&&i?"two":i&&(e<0||e>10)&&a&&0==o?"many":"other"},hi:function(e,t){return t?1==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":e>=0&&e<=1?"one":"other"},hr:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"",a=!n[1],o=r.slice(-1),s=r.slice(-2),c=i.slice(-1),l=i.slice(-2);return t?"other":a&&1==o&&11!=s||1==c&&11!=l?"one":a&&o>=2&&o<=4&&(s<12||s>14)||c>=2&&c<=4&&(l<12||l>14)?"few":"other"},hsb:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"",a=!n[1],o=r.slice(-2),s=i.slice(-2);return t?"other":a&&1==o||1==s?"one":a&&2==o||2==s?"two":a&&(3==o||4==o)||3==s||4==s?"few":"other"},hu:function(e,t){return t?1==e||5==e?"one":"other":1==e?"one":"other"},hy:function(e,t){return t?1==e?"one":"other":e>=0&&e<2?"one":"other"},id:Ae[0],ig:Ae[0],ii:Ae[0],in:Ae[0],is:function(e,t){var n=String(e).split("."),r=n[0],i=Number(n[0])==e,a=r.slice(-1),o=r.slice(-2);return t?"other":i&&1==a&&11!=o||!i?"one":"other"},it:function(e,t){var n=!String(e).split(".")[1];return t?11==e||8==e||80==e||800==e?"many":"other":1==e&&n?"one":"other"},iu:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},iw:function(e,t){var n=String(e).split("."),r=n[0],i=!n[1],a=Number(n[0])==e,o=a&&n[0].slice(-1);return t?"other":1==e&&i?"one":2==r&&i?"two":i&&(e<0||e>10)&&a&&0==o?"many":"other"},ja:Ae[0],jbo:Ae[0],jgo:Ae[1],ji:Ae[3],jmc:Ae[1],jv:Ae[0],jw:Ae[0],ka:function(e,t){var n=String(e).split(".")[0],r=n.slice(-2);return t?1==n?"one":0==n||r>=2&&r<=20||40==r||60==r||80==r?"many":"other":1==e?"one":"other"},kab:function(e,t){return t?"other":e>=0&&e<2?"one":"other"},kaj:Ae[1],kcg:Ae[1],kde:Ae[0],kea:Ae[0],kk:function(e,t){var n=String(e).split("."),r=Number(n[0])==e,i=r&&n[0].slice(-1);return t?6==i||9==i||r&&0==i&&0!=e?"many":"other":1==e?"one":"other"},kkj:Ae[1],kl:Ae[1],km:Ae[0],kn:function(e,t){return t?"other":e>=0&&e<=1?"one":"other"},ko:Ae[0],ks:Ae[1],ksb:Ae[1],ksh:function(e,t){return t?"other":0==e?"zero":1==e?"one":"other"},ku:Ae[1],kw:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},ky:Ae[1],lag:function(e,t){var n=String(e).split(".")[0];return t?"other":0==e?"zero":0!=n&&1!=n||0==e?"other":"one"},lb:Ae[1],lg:Ae[1],lkt:Ae[0],ln:Ae[2],lo:function(e,t){return t&&1==e?"one":"other"},lt:function(e,t){var n=String(e).split("."),r=n[1]||"",i=Number(n[0])==e,a=i&&n[0].slice(-1),o=i&&n[0].slice(-2);return t?"other":1==a&&(o<11||o>19)?"one":a>=2&&a<=9&&(o<11||o>19)?"few":0!=r?"many":"other"},lv:function(e,t){var n=String(e).split("."),r=n[1]||"",i=r.length,a=Number(n[0])==e,o=a&&n[0].slice(-1),s=a&&n[0].slice(-2),c=r.slice(-2),l=r.slice(-1);return t?"other":a&&0==o||s>=11&&s<=19||2==i&&c>=11&&c<=19?"zero":1==o&&11!=s||2==i&&1==l&&11!=c||2!=i&&1==l?"one":"other"},mas:Ae[1],mg:Ae[2],mgo:Ae[1],mk:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"",a=!n[1],o=r.slice(-1),s=r.slice(-2),c=i.slice(-1);return t?1==o&&11!=s?"one":2==o&&12!=s?"two":7!=o&&8!=o||17==s||18==s?"other":"many":a&&1==o||1==c?"one":"other"},ml:Ae[1],mn:Ae[1],mo:function(e,t){var n=String(e).split("."),r=!n[1],i=Number(n[0])==e&&n[0].slice(-2);return t?1==e?"one":"other":1==e&&r?"one":!r||0==e||1!=e&&i>=1&&i<=19?"few":"other"},mr:function(e,t){return t?1==e?"one":2==e||3==e?"two":4==e?"few":"other":e>=0&&e<=1?"one":"other"},ms:function(e,t){return t&&1==e?"one":"other"},mt:function(e,t){var n=String(e).split("."),r=Number(n[0])==e&&n[0].slice(-2);return t?"other":1==e?"one":0==e||r>=2&&r<=10?"few":r>=11&&r<=19?"many":"other"},my:Ae[0],nah:Ae[1],naq:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},nb:Ae[1],nd:Ae[1],ne:function(e,t){var n=String(e).split("."),r=Number(n[0])==e;return t?r&&e>=1&&e<=4?"one":"other":1==e?"one":"other"},nl:Ae[3],nn:Ae[1],nnh:Ae[1],no:Ae[1],nqo:Ae[0],nr:Ae[1],nso:Ae[2],ny:Ae[1],nyn:Ae[1],om:Ae[1],or:Ae[1],os:Ae[1],pa:Ae[2],pap:Ae[1],pl:function(e,t){var n=String(e).split("."),r=n[0],i=!n[1],a=r.slice(-1),o=r.slice(-2);return t?"other":1==e&&i?"one":i&&a>=2&&a<=4&&(o<12||o>14)?"few":i&&1!=r&&(0==a||1==a)||i&&a>=5&&a<=9||i&&o>=12&&o<=14?"many":"other"},prg:function(e,t){var n=String(e).split("."),r=n[1]||"",i=r.length,a=Number(n[0])==e,o=a&&n[0].slice(-1),s=a&&n[0].slice(-2),c=r.slice(-2),l=r.slice(-1);return t?"other":a&&0==o||s>=11&&s<=19||2==i&&c>=11&&c<=19?"zero":1==o&&11!=s||2==i&&1==l&&11!=c||2!=i&&1==l?"one":"other"},ps:Ae[1],pt:function(e,t){var n=String(e).split("."),r=Number(n[0])==e;return t?"other":r&&e>=0&&e<=2&&2!=e?"one":"other"},"pt-PT":Ae[3],rm:Ae[1],ro:function(e,t){var n=String(e).split("."),r=!n[1],i=Number(n[0])==e&&n[0].slice(-2);return t?1==e?"one":"other":1==e&&r?"one":!r||0==e||1!=e&&i>=1&&i<=19?"few":"other"},rof:Ae[1],root:Ae[0],ru:function(e,t){var n=String(e).split("."),r=n[0],i=!n[1],a=r.slice(-1),o=r.slice(-2);return t?"other":i&&1==a&&11!=o?"one":i&&a>=2&&a<=4&&(o<12||o>14)?"few":i&&0==a||i&&a>=5&&a<=9||i&&o>=11&&o<=14?"many":"other"},rwk:Ae[1],sah:Ae[0],saq:Ae[1],sdh:Ae[1],se:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},seh:Ae[1],ses:Ae[0],sg:Ae[0],sh:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"",a=!n[1],o=r.slice(-1),s=r.slice(-2),c=i.slice(-1),l=i.slice(-2);return t?"other":a&&1==o&&11!=s||1==c&&11!=l?"one":a&&o>=2&&o<=4&&(s<12||s>14)||c>=2&&c<=4&&(l<12||l>14)?"few":"other"},shi:function(e,t){var n=String(e).split("."),r=Number(n[0])==e;return t?"other":e>=0&&e<=1?"one":r&&e>=2&&e<=10?"few":"other"},si:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"";return t?"other":0==e||1==e||0==r&&1==i?"one":"other"},sk:function(e,t){var n=String(e).split("."),r=n[0],i=!n[1];return t?"other":1==e&&i?"one":r>=2&&r<=4&&i?"few":i?"other":"many"},sl:function(e,t){var n=String(e).split("."),r=n[0],i=!n[1],a=r.slice(-2);return t?"other":i&&1==a?"one":i&&2==a?"two":i&&(3==a||4==a)||!i?"few":"other"},sma:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},smi:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},smj:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},smn:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},sms:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},sn:Ae[1],so:Ae[1],sq:function(e,t){var n=String(e).split("."),r=Number(n[0])==e,i=r&&n[0].slice(-1),a=r&&n[0].slice(-2);return t?1==e?"one":4==i&&14!=a?"many":"other":1==e?"one":"other"},sr:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"",a=!n[1],o=r.slice(-1),s=r.slice(-2),c=i.slice(-1),l=i.slice(-2);return t?"other":a&&1==o&&11!=s||1==c&&11!=l?"one":a&&o>=2&&o<=4&&(s<12||s>14)||c>=2&&c<=4&&(l<12||l>14)?"few":"other"},ss:Ae[1],ssy:Ae[1],st:Ae[1],sv:function(e,t){var n=String(e).split("."),r=!n[1],i=Number(n[0])==e,a=i&&n[0].slice(-1),o=i&&n[0].slice(-2);return t?1!=a&&2!=a||11==o||12==o?"other":"one":1==e&&r?"one":"other"},sw:Ae[3],syr:Ae[1],ta:Ae[1],te:Ae[1],teo:Ae[1],th:Ae[0],ti:Ae[2],tig:Ae[1],tk:Ae[1],tl:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"",a=!n[1],o=r.slice(-1),s=i.slice(-1);return t?1==e?"one":"other":a&&(1==r||2==r||3==r)||a&&4!=o&&6!=o&&9!=o||!a&&4!=s&&6!=s&&9!=s?"one":"other"},tn:Ae[1],to:Ae[0],tr:Ae[1],ts:Ae[1],tzm:function(e,t){var n=String(e).split("."),r=Number(n[0])==e;return t?"other":0==e||1==e||r&&e>=11&&e<=99?"one":"other"},ug:Ae[1],uk:function(e,t){var n=String(e).split("."),r=n[0],i=!n[1],a=Number(n[0])==e,o=a&&n[0].slice(-1),s=a&&n[0].slice(-2),c=r.slice(-1),l=r.slice(-2);return t?3==o&&13!=s?"few":"other":i&&1==c&&11!=l?"one":i&&c>=2&&c<=4&&(l<12||l>14)?"few":i&&0==c||i&&c>=5&&c<=9||i&&l>=11&&l<=14?"many":"other"},ur:Ae[3],uz:Ae[1],ve:Ae[1],vi:function(e,t){return t&&1==e?"one":"other"},vo:Ae[1],vun:Ae[1],wa:Ae[2],wae:Ae[1],wo:Ae[0],xh:Ae[1],xog:Ae[1],yi:Ae[3],yo:Ae[0],yue:Ae[0],zh:Ae[0],zu:function(e,t){return t?"other":e>=0&&e<=1?"one":"other"}};function Me(){var e=arguments[0],t=arguments[1];return this&&this!==X?function(e,t,n){var r=A(e);if(!0===r["[[InitializedIntlObject]]"])throw new TypeError("`this` object has already been initialized as an Intl object");d(e,"__getInternalProperties",{value:function(){if(arguments[0]===w)return r}}),r["[[InitializedIntlObject]]"]=!0;var i=H(t),a=Z(n=void 0===n?{}:C(n),"type","string",new E("cardinal","ordinal"),"cardinal");r["[[type]]"]=a;var o=new S,s=Z(n,"localeMatcher","string",new E("lookup","best fit"),"best fit");o["[[localeMatcher]]"]=s,te(b,n,0),void 0===b["[[maximumFractionDigits]]"]&&(b["[[maximumFractionDigits]]"]=Math.max(b["[[minimumFractionDigits]]"],3));var c=b.PluralRules["[[localeData]]"],l=K(b.PluralRules["[[availableLocales]]"],i,o,b.PluralRules["[[relevantExtensionKeys]]"],c);return r["[[locale]]"]=l["[[locale]]"],r["[[InitializedPluralRules]]"]=!0,e}(C(this),e,t):new X.PluralRules(e,t)}function De(e,t){if(!Number.isFinite(t))return"other";var n=A(e);return function(e,t,n){for(var r=e;r;r=r.replace(/[-_]?[^-_]*$/,"")){var i=Ne[r];if(i)return i(n,"ordinal"===t)}return"other"}(n["[[locale]]"],n["[[type]]"],t)}function Re(e,t){if(!e.number)throw new Error("Object passed doesn't contain locale data for Intl.NumberFormat");var n=void 0,r=[t],i=t.split("-");for(i.length>2&&4===i[1].length&&m.call(r,i[0]+"-"+i[2]);n=y.call(r);)m.call(b.NumberFormat["[[availableLocales]]"],n),b.NumberFormat["[[localeData]]"][n]=e.number,e.date&&(e.date.nu=e.number.nu,m.call(b.DateTimeFormat["[[availableLocales]]"],n),b.DateTimeFormat["[[localeData]]"][n]=e.date);void 0===P&&function(e){P=e}(t)}if(d(X,"PluralRules",{configurable:!0,writable:!0,value:Me}),d(Me,"prototype",{writable:!1}),b.PluralRules={"[[availableLocales]]":Object.keys(Ne),"[[relevantExtensionKeys]]":[],"[[localeData]]":{}},d(X.PluralRules,"supportedLocalesOf",{configurable:!0,writable:!0,value:_.call((function(e){if(!u.call(this,"[[availableLocales]]"))throw new TypeError("supportedLocalesOf() is not a constructor");var t=I(),n=arguments[1],r=this["[[availableLocales]]"],i=H(e);return t(),q(r,i,n)}),b.PluralRules)}),d(X.PluralRules.prototype,"select",{configurable:!0,value:function(e){return De(this,Number(e))}}),d(X.PluralRules.prototype,"resolvedOptions",{configurable:!0,writable:!0,value:function(){var e=void 0,t=new S,n=["locale","type","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"],r=null!==this&&"object"===s.typeof(this)&&A(this);if(!r||!r["[[InitializedPluralRules]]"])throw new TypeError("`this` value for resolvedOptions() is not an initialized Intl.PluralRules object.");for(var i=0,a=n.length;i<a;i++)u.call(r,e="[["+n[i]+"]]")&&(t[n[i]]={value:r[e],writable:!0,configurable:!0,enumerable:!0});return f({},t)}}),d(X,"__applyLocaleSensitivePrototypes",{writable:!0,configurable:!0,value:function(){for(var e in d(Number.prototype,"toLocaleString",{writable:!0,configurable:!0,value:Te.Number.toLocaleString}),d(Date.prototype,"toLocaleString",{writable:!0,configurable:!0,value:Te.Date.toLocaleString}),Te.Date)u.call(Te.Date,e)&&d(Date.prototype,e,{writable:!0,configurable:!0,value:Te.Date[e]})}}),d(X,"__addLocaleData",{value:function(e){if(!B(e.locale))throw new Error('Invalid language tag "'+e.locale+'" when calling __addLocaleData("'+e.locale+'", ...) to register new locale data.');Re(e,e.locale)}}),d(X,"__disableRegExpRestore",{value:function(){b.disableRegExpRestore=!0}}),"undefined"===typeof Intl)try{window.Intl=X,X.__applyLocaleSensitivePrototypes()}catch(Le){}return X}()}(e)}).call(this,n(843))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1330),i=n(1345),a=n(1576),o=n(1337),s=n(1327),c=n(1437),l=n(1316),u=r.a.extend(a.a,{staticMembers:{shouldUseFormEncoding:!1,components:Object(i.b)(["protocol","auth","hostname","port","pathname","query","hash"]),componentFormatters:{protocol:function(e){return e+(v[e]?"":"//")},auth:function(e){return e+"@"},port:function(e){return":"+e}},componentCleaners:{protocol:function(e){return e.replace("//","")},auth:function(e){return e.replace("@","")}},parse:function(e){var t,n,r,i,a,o=e.match(d),s={},c=this.components;for(r=0,i=c.length;r<i;r++)(t=o[r+1])&&(n=c[r],a=this.componentCleaners[n],s[n]=a?a(t):t);return s},parseQuery:function(e,t){var n={};if(!Object(o.a)(e))return n;if(""===(e=e.replace(h,"")))return n;t=void 0===t?this.shouldUseFormEncoding:t;for(var r=e.split("&"),i=0,a=r.length;i<a;i++){var s,c=r[i].split("="),l=c[0],u=c[1];m.test(l)&&(l=l.replace(m,""),s=!0),u=this.parseValue(_(u,t));var d=n[l];d?(Array.isArray(d)?d.push(u):d=[d,u],u=d):s&&(u=[u]),n[l]=u}return n},parseValue:function(e){if(e&&f.test(e)){for(var t=(e=e.split(",")).length-1;t>=0;t--)e[t]=b(e[t]);return e}return b(e)},formatQuery:function(e,t){if(!Object(s.a)(e))return e;t=void 0===t?this.shouldUseFormEncoding:t;var n,r,i,a,o=Object.keys(e),c="";for(i=0,a=o.length;i<a;i++)r=e[n=o[i]],i>0&&(c+="&"),c+=y(n,t),null!==r&&void 0!==r&&(c+="="+(r=y(this.formatValue(r),t)));return i>0?"?"+c:""},formatValue:function(e){if(Array.isArray(e)){for(var t=e.length-1;t>=0;t--)e[t]=w(e[t]);return e.join(",")}return w(e)},init:function(){this.__s._$31u$init.apply(this,arguments),this.prototype.registerMetadata("href",Object(a.g)({dependencies:this.components}))},__superMap:{_$31u$init:"init"},__QUALIFIED_CLASS_NAME__:"URL"},protocol:Object(a.g)(null),auth:Object(a.g)(null),hostname:Object(a.g)(null),port:Object(a.g)({defaultValue:null,set:function(e){return parseInt(e,10)}}),pathname:Object(a.g)(null),query:Object(a.g)(null),hash:Object(a.g)(null),href:Object(a.g)({readOnly:!0,get:function(){var e,t,n,r,i,a="",o=this.constructor.components,s=arguments[3],c=arguments[1],l=arguments[2];for(t=0,n=o.length;t<n;t++)r=o[t],(e=s.internalGet(this,c[t+l]))&&(a+=(i=this.constructor.componentFormatters[r])?i(e):e);return a}}),host:Object(a.g)({readOnly:!0,dependencies:["port","hostname"],get:Object.assign((function(){var e=this.port,t=this.hostname;return e&&(t=(t||"")+":"+e),t}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]),a=r.internalGet(this,t[1+n]);return i&&(a=(a||"")+":"+i),a}})}),origin:Object(a.g)({readOnly:!0,dependencies:["host","protocol"],get:Object.assign((function(){var e=this.host,t=this.protocol;return t&&(e=this.constructor.componentFormatters.protocol(t)+(e||"")),e}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]),a=r.internalGet(this,t[1+n]);return a&&(i=this.constructor.componentFormatters.protocol(a)+(i||"")),i}})}),path:Object(a.g)({readOnly:!0,dependencies:["query","pathname"],get:Object.assign((function(){var e=this.query,t=this.pathname;return e&&(t=(t||"")+e),t}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]),a=r.internalGet(this,t[1+n]);return i&&(a=(a||"")+i),a}})}),queryObject:Object(a.g)({dependencies:["query"],get:Object.assign((function(){return this.constructor.parseQuery(this.query)}),{__CW__getter:function(e,t,n,r){return this.constructor.parseQuery(r.internalGet(this,t[0+n]))}}),set:Object.assign((function(e){this.query=this.constructor.formatQuery(e)}),{__CW__setter:function(e,t,n,r,i){n[0+r]=this.constructor.formatQuery(e)}}),writeDependencySetPathMap:[!1]}),isInDomain:function(e){var t=this.hostname;if(!t||""===e)return!1;var n=new RegExp("(^|\\.)"+Object(c.c)(e)+"$","i");return!!t.match(n)},setQueryParameter:function(e,t){return this.query?(this.removeQueryParameter(e),this.appendQueryParameter(e,t)):this.appendQueryParameter(e,t)},appendQueryParameter:function(e,t){var n=this.query||"?";return"?"!==n&&(n+="&"),n+=y(e)+(null!==t&&void 0!==t?"="+y(this.constructor.formatValue(t),this.constructor.shouldUseFormEncoding):""),this.query=n,this},removeQueryParameter:function(e){var t=this.query;if(!t)return this;var n=this._regexpForQueryParameterKey(e),r=t.replace(n,""),i=r[0];return r?"?"!==i&&("&"===i&&(r=r.substr(1)),r="?"+r):r=null,this.query=r,this},getQueryParameter:function(e){var t=this.query;if(t){var n=this._regexpForQueryParameterKey(e).exec(t);if(n){var r=n[3];return void 0===r?null:_(r)}}},_regexpForQueryParameterKey:function(e){var t=Object(c.c)(e)+"|"+Object(c.c)(y(e));return new RegExp("(^|\\?|&)("+t+")(?:=([^&]*))?(?=&|$)","g")},setMultipleQueryParameters:function(e){for(var t in e)e.hasOwnProperty(t)&&this.setQueryParameter(t,e[t]);return this},init:function(e){if(Object(o.a)(e))e=this.constructor.parse(e);else if(e&&e.constructor===Location){for(var t,n,r={},i=this.constructor.components,a=0,c=i.length;a<c;a++)"query"===(n=t=i[a])&&(t="search"),r[n]=e[t];e=r}else if(e&&!Object(s.a)(e))throw new l.a("A URL object cannot be created with the data provided",e);this.__s._$6IN$init.call(this,e)},toString:function(){return this.href},toJSON:function(){return""+this},__superMap:{_$6IN$init:"init"}}),d=/^(.*?:\/\/)?([^:/?]*:?[^:/?]*@+)?([^:/?]*):?(\d*)?([^?#]*)?(\??[^#]*)(#?.*)?$/,h=/^\?/,f=/,/,p=/%20/g,g=/\+/g,m=/\[\]$/,v={"mailto:":!0},y=function(e,t){var n=encodeURIComponent(""+e);return t?n.replace(p,"+"):n},_=function(e,t){if(!e)return e;var n=decodeURIComponent(""+e);return t?n.replace(g," "):n};function b(e){try{return JSON.parse(e)}catch(t){return e}}function w(e){return""+e}},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d}));var r=/[&<>]/g,i=/[&<>'"]|((((j|v[^\w ]*b|l[^\w ]*i[^\w ]*v[^\w ]*e).*)?)+(?:[^\w ]*\w)+[^\w ]*s[^\w ]*c[^\w ]*r[^\w ]*i[^\w ]*p[^\w ]*t[^\w ]*:)/gi,a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},o=/[-/\\^$*+?.()|[\]{}]/g;function s(e){return a[e]||""}function c(e,t,n){if(!e)return"";if("string"!==typeof e)try{e=e.toString()}catch(r){return""}return e.replace(t,n)}function l(e){return c(e,r,s)}function u(e){return c(e,i,s)}function d(e){return c(e,o,"\\$&")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(1337),i=n(1316),a=n(1304),o=n(1330),s=n(1424),c=n(1364),l=o.a.extend(c.a,s.a,{contentType:"application/json",encode:function(e){if(!Object(r.a)(e))try{e=JSON.stringify(e)}catch(t){throw new i.a("Could not encode object to JSON.",{object:e,error:t})}return e},decode:function(e){if(Object(r.a)(e))try{e=JSON.parse(e)}catch(t){a.b.warn("Could not decode string as JSON",e),e=null}return e},staticMembers:{__QUALIFIED_CLASS_NAME__:"JSONSerializer"}})},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r={WILLSEND:"willSend",SENT:"didSend",SUCCEEDED:"didSucceed",FAILED:"didFail",COMPLETED:"didComplete",ABORTED:"didAbort",FINALIZED:"didFinalize",UNSENT:"unsent",SENDING:"sending",TIMEDOUT:"timedout",PROGRESS:"didProgress"},i={GET:"GET",PATCH:"PATCH",POST:"POST",PUT:"PUT",DELETE:"DELETE"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=n(1438).a.extend({encode:function(e){return e instanceof Blob||ArrayBuffer.isView(e)||e instanceof ArrayBuffer?e:this.__s._$B2$encode.apply(this,arguments)},decode:function(e){return e instanceof Blob||ArrayBuffer.isView(e)||e instanceof ArrayBuffer?e:this.__s._$Gc$decode.apply(this,arguments)},__superMap:{_$B2$encode:"encode",_$Gc$decode:"decode"},staticMembers:{__QUALIFIED_CLASS_NAME__:"XHRBodySerializer"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1330),i=n(1442),a=n(1587),o=r.a.extend(i.a,{status:0,headers:"",body:Object(a.c)({get:function(){return this._cachedBody||(this._cachedBody=this.deserialize(this.get("encodedBody")))}}),encodedBody:Object(a.c)(),toJSON:function(){return this.getPropertiesAsObject("status","headers","encodedBody")},_cachedBody:Object(a.c)(),staticMembers:{__QUALIFIED_CLASS_NAME__:"Response"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1438),i=n(1587),a={serializer:Object(i.c)((function(){return r.a.get("sharedInstance")})),serializedProperties:null,serialize:function(){var e=this.get("serializedProperties"),t=this.get("serializer"),n={};if(e)for(var r=0,i=e.length;r<i;r++){var a=e[r];n[a]=this.get(a)}return t.encode(n)},deserialize:function(e){return e?this.get("serializer").decode(e):null}}},function(e,t,n){"use strict";function r(e){var t="function"===typeof Map?new Map:void 0;return r=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(i())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r));return n&&a(o,n.prototype),o}(e,arguments,o(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,e)},r(e)}function i(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(i=function(){return!!e})()}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var s=function(e){throw e},c=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,t)||this).message=t,r.context=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,a(t,n),r}(r(Error));function l(e,t){var n=e instanceof Error?e:t?new c(e,t):new Error(e);if(t&&!("context"in n)&&(n.context=t),s)return s(n);throw e}},function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var r=n(1436),i=n(1304);function a(){return e!==globalThis.parent}function o(){if(window.opener)try{return!!window.opener.document.location.href}catch(e){return!1}}function s(){if(a()){var e;return e=globalThis.location!==globalThis.parent.location?document.referrer:document.location.href,r.a.create(e).origin}if(o())try{var t=window.opener.document.location.href;return r.a.create(t).origin}catch(n){i.b.info("Opener window cannot be accessed")}return null}n(1337),n(1443)}).call(this,n(843))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1594),i=n(1334),a=n(1371),o=n(1412),s={mixinDependencies:[r.a],connect:i.a.define(),disconnect:i.a.define(),isDisconnected:a.a.define(),incomingMessage:o.a.define(),outgoingMessage:o.a.define(),send:i.a.define()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l}));var r={PARSE_ERROR:-32700,INVALID_REQUEST:-32600,METHOD_NOT_FOUND:-32601,INVALID_PARAMS:-32602,INTERNAL_ERROR:-32603},i=function(e,t,n){this.message=e,this.code=t,this.data=n};i.prototype=Object.create(Error.prototype),i.prototype.constructor=i;var a=function(e){this.code=r.PARSE_ERROR,this.name="Parse error",this.message=e};(a.prototype=Object.create(i.prototype)).constructor=a;var o=function(e){this.code=r.INVALID_REQUEST,this.name="Invalid request",this.message=e};(o.prototype=Object.create(i.prototype)).constructor=o;var s=function(e){this.code=r.METHOD_NOT_FOUND,this.name="Method not found",this.message=e};s.prototype=Object.create(i.prototype),s.prototype.constructor=s;var c=function(e){this.code=r.INVALID_PARAMS,this.name="Invalid params",this.message=e};c.prototype=Object.create(i.prototype),c.prototype.constructor=c;var l=function(e){this.code=r.INTERNAL_ERROR,this.name="Internal error",this.message=e};l.prototype=Object.create(i.prototype),l.prototype.constructor=l},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1387),i=n(1343),a=n(1316),o=n(1591).a.extend({callRemoteProcedure:function(e){var t=this.channel;c(t,e);for(var n=r.a.create(),i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];var u=this.messageFormatter.generateCallMessageFor(e,...o);return function(e,t,n){if(s[t]&&s[t][1]===n)throw new a.a("A handler was already registered for response for message id",{messageId:t,handler:n});s[t]=[e,n]}(n,u.id,this),t.send(this.serializer.encode(u)),n},sendNotification:function(e){var t=this.channel;c(t,e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=this.messageFormatter.generateNotificationMessageFor(e,...r);t.send(this.serializer.encode(a))},shouldHandleMessage:function(e){return!!e&&Object(i.a)(e.jsonrpc)&&e.jsonrpc===this.messageFormatter.jsonRpcVersion&&(Object(i.a)(e.result)||Object(i.a)(e.error))},handleMessage:function(e){var t=function(e,t){var n=s[e];if(n&&n[1]===t)return s[e]=void 0,n[0]}(e.id,this);if(t){if(Object(i.a)(e.result))return function(e,t){t.resolve(e.result)}(e,t),t;if(Object(i.a)(e.error))return function(e,t){t.reject(e.error)}(e,t),t}},staticMembers:{__QUALIFIED_CLASS_NAME__:"JsonRpcCaller"}}),s={};function c(e,t){if(!e||e.isDisconnected)throw new a.a("Attempted to call `"+t+"` without a connected channel.",{methodName:t,sender:this})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1363),i=n(1579),a=n(1576),o=i.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"canvas",classes:["cw-spinner-view"],styles:{height:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"size",attributes:{},unit:"px",property:"height"},width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"size",attributes:{},unit:"px",property:"width"},display:{type:"STYLEOUTLET",bindingtype:"IFBINDING",name:"isVisible",truevalue:"",falsevalue:"none",attributes:{},unit:null,property:"display"}},attributes:{title:{key:"title",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"tooltip",attributes:{},attribute:"title"},type:"ATTRIBUTE"}}}},className:"cw-ui-spinner-view",__QUALIFIED_CLASS_NAME__:"SpinnerView"},size:Object(a.g)(32),color:"#000000",image:Object(a.g)({set:function(e){if("string"===typeof e){var t=new Image;return t.src=e,t}return e}}),tooltip:Object(a.g)(null),period:600,tickCount:12,tickReach:.54375,tickWidth:(12-90/255)/64,isVisible:Object(a.g)(!0),isAnimating:Object(a.g)({readOnly:!0,dependencies:["isVisible","isAttached"],get:Object.assign((function(){return this.isVisible&&this.isAttached}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])&&r.internalGet(this,t[1+n])}})}),drawStep:function(e){this._currentStep=e;var t=this._canvas,n=this._context,i=this.size*r.a.sharedInstance.devicePixelRatio;i!==t.width||i!==t.height?t.width=t.height=i:n.clearRect(0,0,i,i),this._backingSize=i,n.save(),n.translate(i/2,i/2),n.rotate(2*e*Math.PI/this.tickCount),this.image?this._drawImageContent():this._drawGeneratedContent(),n.restore()},drawTick:function(e,t,n){var r=this.tickReach*t/2,i=this.tickWidth*t/2;!function(e,t,n,r,i,a){a=Math.min(r/2,i/2,void 0===a?1/0:a),e.beginPath(),e.moveTo(t+a,n),e.arcTo(t+r,n,t+r,n+i,a),e.arcTo(t+r,n+i,t,n+i,a),e.arcTo(t,n+i,t,n,a),e.arcTo(t,n,t+r,n,a),e.closePath(),e.fill()}(e,-i/2,-t/2,i,r)},_tickOpacities:{12:[1,.90196,.76078,.65098,.54118,.43137,.38039,.32157,.25882,.21961,.2,.16863]},_animationFrameId:0,_backingSize:0,init:function(e){this.__s._$286$init.apply(this,arguments),this._canvas=this.element,this._context=this._canvas.getContext("2d")},dispose:function(){cancelAnimationFrame(this._animationFrameId),this.__s._$2CE$dispose.apply(this,arguments)},_startOrStopAnimation:Object(a.h)("isAnimating",(function(e){if(e){if(this._animStartTime)return;this._animStartTime=Date.now(),this.drawStep(0),this._tick()}else this._animStartTime=null,cancelAnimationFrame(this._animationFrameId),this._animationFrameId=null,this.isInitialized&&this.drawStep(0)})),_tick:function(){if(this.isAnimating){this._animationFrameId=requestAnimationFrame(this._tick.bind(this));var e=this.tickCount,t=this.period/e,n=((Date.now()-this._animStartTime)/t|0)%e;n!==this._currentStep&&this.drawStep(n)}},_drawImageContent:function(){var e=this.image,t=this._context,n=this._backingSize;t.drawImage(e,-n/2,-n/2,n,n)},_drawGeneratedContent:function(){var e=this._context,t=this._backingSize,n=this.tickCount;e.fillStyle=this.color;for(var r=0;r<n;r++)e.globalAlpha=this._opacityForTickOfCount(r,n),this.drawTick(e,t),e.rotate(-2*Math.PI/n);e.globalAlpha=1},_opacityForTickOfCount:function(e,t){var n=this._tickOpacities[t];if(n)return n[e];var r=2/t,i=e/(t-1),a=Math.pow(i,.6),o=.7*(.5-.5*Math.cos(a*Math.PI))+.3*a;return o*r+1*(1-o)},__superMap:{_$286$init:"init",_$2CE$dispose:"dispose"}})},function(e,t,n){"use strict";function r(e){return e instanceof Buffer?Buffer.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}e.exports=function(e){return(e=e||{}).circles?function(e){var t=[],n=[];return e.proto?function e(a){if("object"!==typeof a||null===a)return a;if(a instanceof Date)return new Date(a);if(Array.isArray(a))return i(a,e);if(a instanceof Map)return new Map(i(Array.from(a),e));if(a instanceof Set)return new Set(i(Array.from(a),e));var o={};for(var s in t.push(a),n.push(o),a){var c=a[s];if("object"!==typeof c||null===c)o[s]=c;else if(c instanceof Date)o[s]=new Date(c);else if(c instanceof Map)o[s]=new Map(i(Array.from(c),e));else if(c instanceof Set)o[s]=new Set(i(Array.from(c),e));else if(ArrayBuffer.isView(c))o[s]=r(c);else{var l=t.indexOf(c);o[s]=-1!==l?n[l]:e(c)}}return t.pop(),n.pop(),o}:function e(a){if("object"!==typeof a||null===a)return a;if(a instanceof Date)return new Date(a);if(Array.isArray(a))return i(a,e);if(a instanceof Map)return new Map(i(Array.from(a),e));if(a instanceof Set)return new Set(i(Array.from(a),e));var o={};for(var s in t.push(a),n.push(o),a)if(!1!==Object.hasOwnProperty.call(a,s)){var c=a[s];if("object"!==typeof c||null===c)o[s]=c;else if(c instanceof Date)o[s]=new Date(c);else if(c instanceof Map)o[s]=new Map(i(Array.from(c),e));else if(c instanceof Set)o[s]=new Set(i(Array.from(c),e));else if(ArrayBuffer.isView(c))o[s]=r(c);else{var l=t.indexOf(c);o[s]=-1!==l?n[l]:e(c)}}return t.pop(),n.pop(),o};function i(e,i){for(var a=Object.keys(e),o=new Array(a.length),s=0;s<a.length;s++){var c=a[s],l=e[c];if("object"!==typeof l||null===l)o[c]=l;else if(l instanceof Date)o[c]=new Date(l);else if(ArrayBuffer.isView(l))o[c]=r(l);else{var u=t.indexOf(l);o[c]=-1!==u?n[u]:i(l)}}return o}}(e):e.proto?function e(n){if("object"!==typeof n||null===n)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return t(n,e);if(n instanceof Map)return new Map(t(Array.from(n),e));if(n instanceof Set)return new Set(t(Array.from(n),e));var i={};for(var a in n){var o=n[a];"object"!==typeof o||null===o?i[a]=o:o instanceof Date?i[a]=new Date(o):o instanceof Map?i[a]=new Map(t(Array.from(o),e)):o instanceof Set?i[a]=new Set(t(Array.from(o),e)):ArrayBuffer.isView(o)?i[a]=r(o):i[a]=e(o)}return i}:function e(n){if("object"!==typeof n||null===n)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return t(n,e);if(n instanceof Map)return new Map(t(Array.from(n),e));if(n instanceof Set)return new Set(t(Array.from(n),e));var i={};for(var a in n)if(!1!==Object.hasOwnProperty.call(n,a)){var o=n[a];"object"!==typeof o||null===o?i[a]=o:o instanceof Date?i[a]=new Date(o):o instanceof Map?i[a]=new Map(t(Array.from(o),e)):o instanceof Set?i[a]=new Set(t(Array.from(o),e)):ArrayBuffer.isView(o)?i[a]=r(o):i[a]=e(o)}return i};function t(e,t){for(var n=Object.keys(e),i=new Array(n.length),a=0;a<n.length;a++){var o=n[a],s=e[o];"object"!==typeof s||null===s?i[o]=s:s instanceof Date?i[o]=new Date(s):ArrayBuffer.isView(s)?i[o]=r(s):i[o]=t(s)}return i}}},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!==i--;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1334),i=n(1576),a=n(1398),o={mixinDependencies:[i.a,a.a],initializeClass:function(){var e=n(1452).RenderProperty,t=[];for(var r in this.getMetadataByType(e))t.push(r);t.push("element"),this.registerMetadata("_rerenderObserver",Object(i.h)({inputs:t,callback:function(){this.renderDOM()}})),this.__s._$JT$initializeClass.apply(this,arguments)},renderDOM:r.a.define(),__superMap:{_$JT$initializeClass:"initializeClass"}}},function(e,t,n){"use strict";n.r(t),n.d(t,"RenderProperty",(function(){return a})),n.d(t,"renderProperty",(function(){return o}));var r=n(1576),i=n(1451),a=r.b.extend({requiresSupport:i.a,staticMembers:{__QUALIFIED_CLASS_NAME__:"RenderProperty"}}),o=a.define.bind(a)},function(e){e.exports=JSON.parse('{"name":"person.crop.circle.fill","svgPath":"M58.5449 14.5508C85.791 14.5508 108.35-8.05664 108.35-35.2539C108.35-62.5 85.7422-85.0586 58.4961-85.0586C31.2988-85.0586 8.74023-62.5 8.74023-35.2539C8.74023-8.05664 31.3477 14.5508 58.5449 14.5508ZM58.4961-26.9043C49.1211-27.002 41.748-34.8145 41.748-45.3125C41.6992-55.1758 49.1699-63.3789 58.4961-63.3789C67.8711-63.3789 75.2441-55.1758 75.2441-45.3125C75.2441-34.8145 67.9199-26.8066 58.4961-26.9043ZM58.4961 7.12891C47.3145 7.12891 35.9863 2.53906 28.5156-5.41992C33.7891-13.7207 45.2637-18.6035 58.4961-18.6035C71.6309-18.6035 83.2031-13.8184 88.5254-5.41992C81.0059 2.53906 69.7266 7.12891 58.4961 7.12891Z","layoutBox":{"viewBox":"0 0 268.0201416015625 158.116943359375","width":268.0201416015625,"height":158.116943359375,"translateX":75.46503906249995,"translateY":114.2884521484375,"baseline":114.2884521484375,"capline":43.8284912109375},"glyphBox":{"viewBox":"0 0 99.6099853515625 99.6572265625","width":99.6099853515625,"height":99.6572265625,"translateX":-8.740039062500045,"translateY":85.05859375,"baseline":85.05859375,"capline":14.5986328125}}')},function(e,t,n){var r=function(e,t){if(!e||!t)throw"record and supportedFields need to be provided in order to create a CacheItem";for(var n in this.originalRecord=e,e)"guid"!==n?this[n]=e[n]:(this.temp_guid=e[n],this.guidKey="temp_guid",e.guidKey&&delete e.guidKey);this.supportedFields=t};r.create=function(e,t){return new r(e,t)},r.prototype={supportedFields:null,guidKey:null,normalized:null,guid:function(){if(this.guidKey)return this[this.guidKey]}};var i=function(){};i.create=function(){return new i},i.prototype={generateGUID:function(){for(var e=CW.UUID(),t=this._guidToRecordMapping;t[e];)e=CW.UUID();return e},getAllRecords:function(){return this._guidToRecordMapping},getRecordsForCacheKey:function(e){var t;if(!e)throw"cacheKey required in order to fetch records.";return this._cache[e]&&(t=this._cache[e].guidToRecordMapping),t},getRecordForGuid:function(e){if(!e)throw"No guid provided";return this._guidToRecordMapping[e]?this._guidToRecordMapping[e].originalRecord:null},addRecords:function(e,t,n,r){var i,a,o,c,l,u,d,h,f,p,g=this._cache,m=this.__dummy_prefix__;if(!e||!Array.isArray(e))throw"Invalid records found, cannot process of type "+type;for(this._createKeysForFields(t,n),"Recents"===t?this._processRecentsRecords(e,n):this._processRecords(e,t,n,r),this._guidToRecordMapping=s(this._guidToRecordMapping,g[t].guidToRecordMapping),o=g[t],l=n.length,i=0;i<l;++i)if(u=(c=o[n[i]]).values,d=c.temp){for(u.sort(),h=[],f=u.length,a=0;a<f;++a)p=d[m+u[a]],h.push(p);c.records=h}return"Groups"===t&&this._resolveGroupsMembershipAsPossibleWithLoadedData(t,r),g},findCompletionsInLoadedData:function(e,t){var n=this._cache;if(!n)return[];var r,i,a=e.split(" "),s=[],c=a.length;for(r=0;r<c;++r)(i=a[r])&&s.push(i);var l,u,d,h,f,p,g,m,v,y={},_=s.length;for(r=0;r<_;++r){for(var b={},w=s[r],S=o(w).toLowerCase(),E=S,I=0;I<t.length;I++)for(h in cacheItemType=t[I],d=n[cacheItemType])if("guidToRecordMapping"!==h){if(p=(f=d[h]).values,_>1&&"companyName"===h){if(0!==r)continue;S=o(e).toLowerCase()}var C=this._indexForString(p,S),O=S.length-1,T=S.substr(0,O),A=S.charCodeAt(O);T+=String.fromCharCode(A+1);var N=this._indexForString(p,T);if(C<p.length&&C<N){var M="emailAddresses"===h,D=f.records.slice(C,N),R=D.length;for(u=0;u<R;++u)if(g=D[u])for(var L=g.length,k=0;k<L;++k){var x,F;m=x=F=null,M?(F=(x=g[k]).idx,m=x.rec):m=g[k];var P=m.guid();if(P)if(y[P]||(y[P]={fields:{},rec:m.originalRecord}),b[P]=!0,M){var j=y[P].fields,U=j[h];U||(j[h]={},U=j[h]),U[F]=w}else{var B=w;"groups"!==cacheItemType&&"companyName"!==h||(B=e),y[P].fields[h]=B}}}S!==E&&(S=E)}for(l in y)v=y[l],!y.hasOwnProperty(l)||b[l]||0!==r&&(v.rec.groupId||v.fields.companyName)||delete y[l];records=[];var V={contacts:[],groups:[],result:[]};for(l in y)y.hasOwnProperty(l)&&(record=y[l].rec,record.address||record.members?V.result.push(record):record.contactId?V.contacts.push(record):record.groupId&&V.groups.push(record))}return y},resetCache:function(){this._cache={}},_cache:{},_guidToRecordMapping:{},_lastMatch:{},__dummy_prefix__:"__dummy_prefix__",_processRecords:function(e,t,n,i){var a,s,c,l,u,d,h,f,p,g,m,v,y,_=e.length,b=this.__dummy_prefix__;for(u=this._cache[t],a=0;a<_;++a){if(l=e[a],g=null,"Contacts"===t)if(l.managedAppleId)l.normalized=g=((l.firstName||"")+":"+(l.middleName||"")+":"+(l.lastName||"")+":"+l.managedAppleId).toLowerCase(),l.guidKey="managedAppleId",p=(y=r.create(l,n)).guid();else{var w,S=l.emailAddresses,E=l.phones;for(w=S&&S.length||0;w--;)S[w].field||S.splice(w,1);for(w=E&&E.length||0;w--;)E[w].field||E.splice(w,1);if((!S||S.length<1)&&(!E||E.length<1))continue;l.guidKey="contactId",g=(y=r.create(l,n)).normalized,p=y.guid()}else if("Groups"!==t||i){if("Groups"!==t||!i)continue;if(!l.id&&!l.name)continue;if(f=l.name,email=l.email,f&&(g=o(f).toLowerCase()+":"+o(email).toLowerCase()),l.normalized=g,!l.id)throw"No id found in the record";l.guidKey="id",p=(y=r.create(l,n)).guid()}else{if(!l.contactIds&&!l.id)continue;if((f=l.name)&&(g=o(f).toLowerCase()+":"),l.normalized=g,l.groupId)l.guidKey="groupId";else{if(!l.id)throw"Niether id or guidKey found in the record";l.guidKey="id"}p=(y=r.create(l,n)).guid()}var I,C;if(g)for(p&&(u.guidToRecordMapping[p]=y),m=g.split(":"),v=n.length,s=0;s<v;++s){var O=y[h=n[s]];if(O)if("emailAddresses"===h){var T=O.length;for(c=0;c<T;++c)(g=m[s+c])&&"NULL"!==g&&((I=(d=u[h]).temp)||(I={},d.temp=I),(C=I[b+g])?C.push({idx:c,rec:y}):(I[b+g]=[{idx:c,rec:y}],d.values.push(g)))}else{if(!(g=m[s])||"NULL"===g)continue;(I=(d=u[h]).temp)||(I={},d.temp=I),(C=I[b+g])?C.push(y):(I[b+g]=[y],d.values.push(g))}}}},_processRecentsRecords:function(e,t){if(!Array.isArray(e))return dataCache;var n,i,a,s,c,l,u,d,h,f,p,g,m,v,y,_,b,w,S,E,I,C,O,T,A=this._cache.Recents,N=[],M=[],D="",R=this.__dummy_prefix__;for(C=e.filter((function(e){return"CoreMail.RecentRecipient"===e.type})),O=e.filter((function(e){return"CoreMail.RecentGroup"===e.type})),n=C.length,a=0;a<n;a++)if(h=(d=C[a]).name,I=d.address)if(d.recentsGuid=d.guid,f=R+I.toLowerCase(),d.guid=f,1===(M=(h=h.replace(/["|\u201c|\u201d]/g,"").replace(/,/g," ")).split(/\s+/)).length&&(M=h.split(/,/)),d.names=M,T=r.create(d,t),A.guidToRecordMapping[f]=T,g=t.length,N=d.normalizedValues){for(s=0;s<g;s++)if("names"===(w=t[s])){var L=T.names.length;for(c=0;c<L;++c)(S=N[s+c])&&this._addRecentsRecipientFieldToLookupTable("names",S,T,A)}else(S=N[s])&&this._addRecentsRecipientFieldToLookupTable(w,S,T,A);guid=T.guid(),A.guidToRecordMapping[guid]=T}else{if(I=T.address,D=T.name,!I)continue;if(N=[I=o(I).toLowerCase()],this._addRecentsRecipientFieldToLookupTable("address",I,T,A),D)for(D=D.replace(/["|\u201c|\u201d]/g," ").trim(),T.name=D,1===(E=(M=D.split(/\s/)).length)&&(E=(M=D.split(/,/)).length),u=0;u<E;u++)D=M[u],-1===N.indexOf(D)&&(D=o(D).toLowerCase(),N.push(D),this._addRecentsRecipientFieldToLookupTable("names",D,T,A));T.normalizedValues=N}for(i=O.length,a=0;a<i;a++)if(d=O[a],guid=d.guid,h=d.name,m=d.members,d.guidKey="guid",T=r.create(d,t),m)for(_=m.length,l=0;l<_;l++)h=(v=m[l]).name,(y=v.address)&&(p=R+y.toLowerCase(),v.guid=p,M=h.replace(/["|\u201c|\u201d]/g,"").split(/\s+/),v.isMemberOf=[{guid:guid,memberName:h,memberNames:M}],(b=A.guidToRecordMapping[p])?b.isMemberOf?(b.isMemberOf.push({guid:guid,memberName:h,memberNames:M}),b.names.concat(h)):b.isMemberOf=[{guid:guid,memberName:h,memberNames:M}]:(v.timestamps=d.timestamps,v.names=M,v.isGroupMemberOnly=!0,C.push(v),A.guidToRecordMapping[p]=v),A.guidToRecordMapping[guid]=T)},_createKeysForFields:function(e,t){var n,r=this._cache;n=r[e]?r[e]:r[e]={};for(var i=t.length,a=0;a<i;++a){var o=t[a];n[o]||(n[o]={values:[],records:[]})}n.guidToRecordMapping||(n.guidToRecordMapping={})},_addRecentsRecipientFieldToLookupTable:function(e,t,n,r){var i,a,o,s=this.__dummy_prefix__;return(a=(i=r[e]).temp)||(a={},i.temp=a),(o=a[s+t])?o.push(n):(a[s+t]=[n],i.values.push(t)),t},_indexForString:function(e,t){for(var n,r,i=!1,a=0,o=e.length-1;!i&&a<=o;){n=!1;var s=e[r=Math.floor((a+o)/2)];s===t?i=!0:s<t?(a=r+1,n=!0):o=r-1}var c=r;return n&&++c,c},_resolveGroupsMembershipAsPossibleWithLoadedData:function(e,t){var n=this._guidToRecordMapping;n||(n={});var r,i,a,o,s,c=this._cache[e];if(c)for(r in c)if(c.hasOwnProperty(r)&&(i=c[r].records))for(o=i.length-1;o>=0;--o)for(s=(a=i[o]).length-1;s>=0;--s){var l=a[s];this._resolveGroupMembershipAsPossibleWithLoadedData(l,n),!t&&l.resolvedContacts&&l.resolvedContacts.length<=0&&(delete n[l.groupId],a.splice(s,1))}},_resolveGroupMembershipAsPossibleWithLoadedData:function(e,t,n){var r=e.resolvedContacts;if(!r||-1===r){n||(n=0),r=[];var i,a={},o=e.contactIds;if(o)for(i=o.length-1;i>=0;--i){var s=o[i],c=t[s];c?a[s]||(r.push(c),a[s]=!0):o.splice(i,1)}void 0!==e.rosterCount&&0!==e.rosterCount||(e.resolvedContacts=r,e.originalRecord.resolvedContacts=r)}}};var a={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\u0100":"A","\u0102":"A","\u0104":"A","\u01cd":"A","\u01de":"A","\u01e0":"A","\u01fa":"A","\u0200":"A","\u0202":"A","\u0226":"A","\u1e00":"A","\u1ea0":"A","\u1ea2":"A","\u1ea4":"A","\u1ea6":"A","\u1ea8":"A","\u1eaa":"A","\u1eac":"A","\u1eae":"A","\u1eb0":"A","\u1eb2":"A","\u1eb4":"A","\u1eb6":"A","\u212b":"A","\u1e02":"B","\u1e04":"B","\u1e06":"B","\xc7":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u1e08":"C","\u010e":"D","\u1e0a":"D","\u1e0c":"D","\u1e0e":"D","\u1e10":"D","\u1e12":"D","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u0228":"E","\u1e14":"E","\u1e16":"E","\u1e18":"E","\u1e1a":"E","\u1e1c":"E","\u1eb8":"E","\u1eba":"E","\u1ebc":"E","\u1ebe":"E","\u1ec0":"E","\u1ec2":"E","\u1ec4":"E","\u1ec6":"E","\u1e1e":"F","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u01e6":"G","\u01f4":"G","\u1e20":"G","\u0124":"H","\u021e":"H","\u1e22":"H","\u1e24":"H","\u1e26":"H","\u1e28":"H","\u1e2a":"H","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1e2c":"I","\u1e2e":"I","\u1ec8":"I","\u1eca":"I","\u0134":"J","\u0136":"K","\u01e8":"K","\u1e30":"K","\u1e32":"K","\u1e34":"K","\u0139":"L","\u013b":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u1e3a":"L","\u1e3c":"L","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\xd1":"N","\u0143":"N","\u0145":"N","\u0147":"N","\u01f8":"N","\u1e44":"N","\u1e46":"N","\u1e48":"N","\u1e4a":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\u014c":"O","\u014e":"O","\u0150":"O","\u01a0":"O","\u01d1":"O","\u01ea":"O","\u01ec":"O","\u020c":"O","\u020e":"O","\u022a":"O","\u022c":"O","\u022e":"O","\u0230":"O","\u1e4c":"O","\u1e4e":"O","\u1e50":"O","\u1e52":"O","\u1ecc":"O","\u1ece":"O","\u1ed0":"O","\u1ed2":"O","\u1ed4":"O","\u1ed6":"O","\u1ed8":"O","\u1eda":"O","\u1edc":"O","\u1ede":"O","\u1ee0":"O","\u1ee2":"O","\u1e54":"P","\u1e56":"P","\u0154":"R","\u0156":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e58":"R","\u1e5a":"R","\u1e5c":"R","\u1e5e":"R","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u0218":"S","\u1e60":"S","\u1e62":"S","\u1e64":"S","\u1e66":"S","\u1e68":"S","\u0162":"T","\u0164":"T","\u021a":"T","\u1e6a":"T","\u1e6c":"T","\u1e6e":"T","\u1e70":"T","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u01af":"U","\u01d3":"U","\u01d5":"U","\u01d7":"U","\u01d9":"U","\u01db":"U","\u0214":"U","\u0216":"U","\u1e72":"U","\u1e74":"U","\u1e76":"U","\u1e78":"U","\u1e7a":"U","\u1ee4":"U","\u1ee6":"U","\u1ee8":"U","\u1eea":"U","\u1eec":"U","\u1eee":"U","\u1ef0":"U","\u1e7c":"V","\u1e7e":"V","\u0174":"W","\u1e80":"W","\u1e82":"W","\u1e84":"W","\u1e86":"W","\u1e88":"W","\u1e8a":"X","\u1e8c":"X","\xdd":"Y","\u0176":"Y","\u0178":"Y","\u0232":"Y","\u1e8e":"Y","\u1ef2":"Y","\u1ef4":"Y","\u1ef6":"Y","\u1ef8":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u1e90":"Z","\u1e92":"Z","\u1e94":"Z","\u1fef":"`","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\u0101":"a","\u0103":"a","\u0105":"a","\u01ce":"a","\u01df":"a","\u01e1":"a","\u01fb":"a","\u0201":"a","\u0203":"a","\u0227":"a","\u1e01":"a","\u1ea1":"a","\u1ea3":"a","\u1ea5":"a","\u1ea7":"a","\u1ea9":"a","\u1eab":"a","\u1ead":"a","\u1eaf":"a","\u1eb1":"a","\u1eb3":"a","\u1eb5":"a","\u1eb7":"a","\u1e03":"b","\u1e05":"b","\u1e07":"b","\xe7":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u1e09":"c","\u010f":"d","\u1e0b":"d","\u1e0d":"d","\u1e0f":"d","\u1e11":"d","\u1e13":"d","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u0229":"e","\u1e15":"e","\u1e17":"e","\u1e19":"e","\u1e1b":"e","\u1e1d":"e","\u1eb9":"e","\u1ebb":"e","\u1ebd":"e","\u1ebf":"e","\u1ec1":"e","\u1ec3":"e","\u1ec5":"e","\u1ec7":"e","\u1e1f":"f","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u01e7":"g","\u01f5":"g","\u1e21":"g","\u0125":"h","\u021f":"h","\u1e23":"h","\u1e25":"h","\u1e27":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1e2d":"i","\u1e2f":"i","\u1ec9":"i","\u1ecb":"i","\u0135":"j","\u01f0":"j","\u0137":"k","\u01e9":"k","\u1e31":"k","\u1e33":"k","\u1e35":"k","\u013a":"l","\u013c":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u1e3b":"l","\u1e3d":"l","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\xf1":"n","\u0144":"n","\u0146":"n","\u0148":"n","\u01f9":"n","\u1e45":"n","\u1e47":"n","\u1e49":"n","\u1e4b":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\u014d":"o","\u014f":"o","\u0151":"o","\u01a1":"o","\u01d2":"o","\u01eb":"o","\u01ed":"o","\u020d":"o","\u020f":"o","\u022b":"o","\u022d":"o","\u022f":"o","\u0231":"o","\u1e4d":"o","\u1e4f":"o","\u1e51":"o","\u1e53":"o","\u1ecd":"o","\u1ecf":"o","\u1ed1":"o","\u1ed3":"o","\u1ed5":"o","\u1ed7":"o","\u1ed9":"o","\u1edb":"o","\u1edd":"o","\u1edf":"o","\u1ee1":"o","\u1ee3":"o","\u1e55":"p","\u1e57":"p","\u0155":"r","\u0157":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e59":"r","\u1e5b":"r","\u1e5d":"r","\u1e5f":"r","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0219":"s","\u1e61":"s","\u1e63":"s","\u1e65":"s","\u1e67":"s","\u1e69":"s","\u0163":"t","\u0165":"t","\u021b":"t","\u1e6b":"t","\u1e6d":"t","\u1e6f":"t","\u1e71":"t","\u1e97":"t","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u01b0":"u","\u01d4":"u","\u01d6":"u","\u01d8":"u","\u01da":"u","\u01dc":"u","\u0215":"u","\u0217":"u","\u1e73":"u","\u1e75":"u","\u1e77":"u","\u1e79":"u","\u1e7b":"u","\u1ee5":"u","\u1ee7":"u","\u1ee9":"u","\u1eeb":"u","\u1eed":"u","\u1eef":"u","\u1ef1":"u","\u1e7d":"v","\u1e7f":"v","\u0175":"w","\u1e81":"w","\u1e83":"w","\u1e85":"w","\u1e87":"w","\u1e89":"w","\u1e98":"w","\u1e8b":"x","\u1e8d":"x","\xfd":"y","\xff":"y","\u0177":"y","\u0233":"y","\u1e8f":"y","\u1e99":"y","\u1ef3":"y","\u1ef5":"y","\u1ef7":"y","\u1ef9":"y","\u017a":"z","\u017c":"z","\u017e":"z","\u1e91":"z","\u1e93":"z","\u1e95":"z"},o=function(e){if(!e)return"";for(var t,n="",r=e.length,i=0;i<=r;++i)t=e.charAt(i),n+=a[t]||t;return n},s=function(e,t){return[e,t].reduce((function(e,t){return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}),{})};"object"==typeof e.exports&&(e.exports.DataCache=i)},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,n){this.name=e,this.version=t,this.os=n};t.BrowserInfo=i;var a=function(e){this.version=e,this.name="node",this.os=process.platform};t.NodeInfo=a;var o=function(){this.bot=!0,this.name="bot",this.version=null,this.os=null};t.BotInfo=o;var s=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],c=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]];function l(e){var t=""!==e&&s.reduce((function(t,n){var r=n[0],i=n[1];if(t)return t;var a=i.exec(e);return!!a&&[r,a]}),!1);if(!t)return null;var n=t[0],a=t[1];if("searchbot"===n)return new o;var c=a[1]&&a[1].split(/[._]/).slice(0,3);return c?c.length<3&&(c=r(c,function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-c.length))):c=[],new i(n,c.join("."),u(e))}function u(e){for(var t=0,n=c.length;t<n;t++){var r=c[t],i=r[0];if(r[1].test(e))return i}return null}function d(){return"undefined"!==typeof process&&process.version?new a(process.version.slice(1)):null}t.detect=function(e){return e?l(e):"undefined"!==typeof navigator?l(navigator.userAgent):d()},t.parseUserAgent=l,t.detectOS=u,t.getNodeVersion=d},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1594),i=n(1371),a=n(1334),o={mixinDependencies:[r.a],hostInfo:i.a.define(),addHostedApplication:a.a.define(),removeHostedApplication:a.a.define(),findHostedApplication:a.a.define(),openHelp:a.a.define(),logOut:a.a.define(),setRouteForApp:a.a.define(),recordStat:a.a.define()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1576),i=n(1345),a=n(1317),o=n(1580),s={mixinDependencies:[n(1456).a],hostInfo:r.g({type:Object,readOnly:!0,defaultValue:i.b(Object)}),addHostedApplication:function(e){var t=this._hostedApplications,n=e.appId;t.set(n,e)},removeHostedApplication:function(e){var t=this._hostedApplications,n=e.appId;t.delete(n)},findHostedApplication:function(e){var t=this._hostedApplications;return t.has(e)?t.get(e):null},openHelp:a.a,logOut:a.a,setRouteForApp:a.a,recordStat:a.a,_hostedApplications:r.g(i.b(o.a))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1594),i=n(1371),a={mixinDependencies:[r.a],iframeView:i.a.define(),host:i.a.define()}},function(e,t,n){"use strict";n.r(t),n.d(t,"HostedApplicationPopupViewController",(function(){return h}));var r=n(1584),i=n(1576),a=n(1390),o=n(1345),s=n(1595),c=n(1458),l=n(1586),u=n(1607),d=n(1457),h=r.a.extend(c.a,l.a,{contentController:i.g({type:a.a,defaultValue:o.b(a.a.extend({viewClass:u.a,isActive:i.g(),view:i.g({downstreamBindings:{isActive:"(owner).isActive"}})})),downstreamBindings:{isActive:"(owner).isActive"}}),iframeView:i.g(s.c("contentController.view")),host:i.g({type:d.a}),didEnd:function(){this.__s._$QZ$didEnd.apply(this,arguments),this.isAttached&&this.hide(this)},__superMap:{_$QZ$didEnd:"didEnd"},staticMembers:{__QUALIFIED_CLASS_NAME__:"HostedApplicationPopupViewController"}})},function(e,t,n){e.exports=function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}return function t(n,r){function i(t,i,a){if("undefined"!==typeof document){"number"===typeof(a=e({},r,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var s in a)a[s]&&(o+="; "+s,!0!==a[s]&&(o+="="+a[s].split(";")[0]));return document.cookie=t+"="+n.write(i,t)+o}}return Object.create({set:i,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],r={},i=0;i<t.length;i++){var a=t[i].split("="),o=a.slice(1).join("=");try{var s=decodeURIComponent(a[0]);if(r[s]=n.read(o,s),e===s)break}catch(c){}}return e?r[e]:r}},remove:function(t,n){i(t,"",e({},n,{expires:-1}))},withAttributes:function(n){return t(this.converter,e({},this.attributes,n))},withConverter:function(n){return t(e({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(n)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}()},function(e,t,n){"use strict";n.r(t),n.d(t,"Callback",(function(){return s}));var r=n(1316),i=n(1462),a=-1,o=++i.f.typeCount,s={memory:i.f,typeId:o,count:0,activeCount:0,arrayCount:0,dumpStats:function(){return"Callback: "+this.count+"; "+this.activeCount+" active"},alloc:function(){var e=-1;return a>0?(e=a,0===(a=this.memory.INT_32[e>>2])&&r.b("Next free item is NULL; this is not right.")):(e=i.b(16,8),this.count++),this.memory.INT_32[e+0>>2]=0,this.memory.INT_32[e+4>>2]=-1,this.memory.INT_32[e+8>>2]=-1,this.memory.INT_32[e+12>>2]=-1,this.activeCount++,e},allocArray:function(e){var t=16*e,n=i.a(t);return this.memory.INT_32[1+(n>>2)]=e,this._initArray(n),this.arrayCount++,n},free:function(e){e<0||(this.clear(e),this.memory.INT_32[e>>2]=a,a=e,this.activeCount--)},freeShallow:function(e){e<0||(this.clearShallow(e),this.memory.INT_32[e>>2]=a,a=e,this.activeCount--)},freeArray:function(e){e<0||(this._disposeArray(e),i.c(e),this.arrayCount--)},clear:function(e){e<0||(this.memory.INT_32[e+0>>2]=0,this.memory.INT_32[e+4>>2]=-1,this.memory.INT_32[e+8>>2]=-1,s.free(this.memory.INT_32[e+12>>2]),this.memory.INT_32[e+12>>2]=-1)},clearShallow:function(e){e<0||(this.memory.INT_32[e+0>>2]=0,this.memory.INT_32[e+4>>2]=-1,this.memory.INT_32[e+8>>2]=-1,this.memory.INT_32[e+12>>2]=-1)},_disposeArray:function(e){if(!(e<0))for(var t=this.memory.INT_32[1+(e>>2)],n=0;n<t;n++){var r=e+8+16*n;this.clear(r)}},_initArray:function(e){if(!(e<0))for(var t=this.memory.INT_32[1+(e>>2)],n=0;n<t;n++){var r=e+8+16*n;this.clearShallow(r)}},clone:function(e){var t=this.alloc();return i.e(e,t,4),this._cloneFieldsFrom(t,e),t},_cloneFieldsFrom:function(e,t){var n,r;r=(n=this.memory.INT_32[e+12>>2])>0?s.clone(n):-1,this.memory.INT_32[e+12>>2]=r},dump:function(e,t){if(t||(t=[]),t.indexOf(e)>=0)return"Circular reference";t.push(e);var r={method:this.memory.INT_32[e+0>>2],owner:function(){var r=this.memory.INT_32[e+4>>2];return r>0?n(1463).Animation.dump(r,t):null}.bind(this)(),previousCallback:function(){var n=this.memory.INT_32[e+8>>2];return n>0?s.dump(n,t):null}.bind(this)(),nextCallback:function(){var n=this.memory.INT_32[e+12>>2];return n>0?s.dump(n,t):null}.bind(this)()};return t.pop(),r},dumpArray:function(e,t){for(var n=this.memory.INT_32[1+(e>>2)],r=[],i=0;i<n;i++)r.push(this.dump(e+8+16*i,t));return{array:r,length:n,allocatedSpace:this.memory.INT_32[e>>2]}},arrayFromJSArray:function(e,t){for(var n=e.length,r=this.allocArray(n),a=0;a<n;a++){var o=e[a],s=r+8+16*a;i.e(o,s,4),t?this.freeShallow(o):this._cloneFieldsFrom(s,o)}return r},putArrayIntoJSArray:function(e,t,n){var r=this.memory.INT_32[1+(e>>2)];t.length=r;for(var i=0;i<r;i++)t[i]=e+8+16*i},itemAtIndex:function(e,t){return e+8+16*t},lengthForArray:function(e){return this.memory.INT_32[1+(e>>2)]},getMethod:function(e){return this.memory.INT_32[e+0>>2]},setMethod:function(e,t){this.memory.INT_32[e+0>>2]=t},getOwner:function(e){return this.memory.INT_32[e+4>>2]},setOwner:function(e,t){this.memory.INT_32[e+4>>2],this.memory.INT_32[e+4>>2]=t},takeOwner:function(e){var t=this.memory.INT_32[e+4>>2];return this.memory.INT_32[e+4>>2]=-1,t},getPreviousCallback:function(e){return this.memory.INT_32[e+8>>2]},setPreviousCallback:function(e,t){this.memory.INT_32[e+8>>2],this.memory.INT_32[e+8>>2]=t},takePreviousCallback:function(e){var t=this.memory.INT_32[e+8>>2];return this.memory.INT_32[e+8>>2]=-1,t},getNextCallback:function(e){return this.memory.INT_32[e+12>>2]},setNextCallback:function(e,t){var n=this.memory.INT_32[e+12>>2];this.memory.INT_32[e+12>>2]=t,n>0&&s.free(n)},takeNextCallback:function(e){var t=this.memory.INT_32[e+12>>2];return this.memory.INT_32[e+12>>2]=-1,t}};i.g(s),i.h(s.typeId,s)},function(e,t,n){"use strict";n.d(t,"f",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return w})),n.d(t,"e",(function(){return S})),n.d(t,"g",(function(){return I})),n.d(t,"h",(function(){return O})),n.d(t,"d",(function(){return T}));var r=0,i=0,a=null,o=null,s=null,c=null,l=null,u=null,d=null,h=new Float64Array(1),f=null,p={INT_8:a,INT_16:o,INT_32:s,UINT_8:c,UINT_16:l,UINT_32:u,FLOAT_32:d,FLOAT_64:h,typeCount:0};function g(e){f=new ArrayBuffer(e);var t=new Float64Array(f);t.set(h),h=t,p.INT_8=a=new Int8Array(f),p.INT_16=o=new Int16Array(f),p.INT_32=s=new Int32Array(f),p.UINT_8=c=new Uint8Array(f),p.UINT_16=l=new Uint16Array(f),p.UINT_32=u=new Uint32Array(f),p.FLOAT_32=d=new Float32Array(f),p.FLOAT_64=h=new Float64Array(f),i=e}function m(e,t){var n=r=Math.ceil(r/t)*t;for(r+=e;r>i;)g(2*i);return n}g(8388608),m(128,128);for(var v=new Int32Array(32),y=0;y<32;y++)v[y]=-1;function _(e){return Math.ceil(Math.log(e)/Math.LN2)}function b(e){var t=e+8,n=_(t);t=Math.pow(2,n);var r=v[n],i=-1;if(r>=0?(r=s[1+((i=r)>>2)],v[n]=r):(i=m(t,8),s[i>>2]=t),i<=0)throw new Error("Allocated a bad block");return i}function w(e){if(e<=0)throw new Error("Tried to free a block that doesn't exist");var t=_(s[e>>2]);s[1+(e>>2)]=v[t],v[t]=e}function S(e,t,n){var r=e>>2,i=r+n,a=0,o=0;for(a=r,o=t>>2;a<i;a++,o++)s[o]=s[a]}var E=[];function I(e){E.push(e)}var C=[{}];function O(e,t){C[e]=t}function T(e){return C[e]}},function(e,t,n){"use strict";n.r(t),n.d(t,"Animation",(function(){return c}));var r=n(1316),i=n(1462),a=n(1461),o=-1,s=++i.f.typeCount,c={memory:i.f,typeId:s,count:0,activeCount:0,arrayCount:0,dumpStats:function(){return"Animation: "+this.count+"; "+this.activeCount+" active"},alloc:function(){var e=-1;return o>0?(e=o,0===(o=this.memory.INT_32[e>>2])&&r.b("Next free item is NULL; this is not right.")):(e=i.b(16,8),this.count++),this.memory.INT_32[e+0>>2]=-1,this.memory.INT_32[e+4>>2]=-1,this.memory.INT_32[e+8>>2]=0,this.activeCount++,e},allocArray:function(e){var t=16*e,n=i.a(t);return this.memory.INT_32[1+(n>>2)]=e,this._initArray(n),this.arrayCount++,n},free:function(e){e<0||(this.clear(e),this.memory.INT_32[e>>2]=o,o=e,this.activeCount--)},freeShallow:function(e){e<0||(this.clearShallow(e),this.memory.INT_32[e>>2]=o,o=e,this.activeCount--)},freeArray:function(e){e<0||(this._disposeArray(e),i.c(e),this.arrayCount--)},clear:function(e){if(!(e<0)){var t,n=null;n=this.getAnimatorType(e),t=this.memory.INT_32[e+0>>2],n&&t>0&&n.free(t),this.setAnimatorType(e,null),this.memory.INT_32[e+0>>2]=-1,a.Callback.free(this.memory.INT_32[e+4>>2]),this.memory.INT_32[e+4>>2]=-1,this.memory.INT_32[e+8>>2]=0}},clearShallow:function(e){e<0||(this.memory.INT_32[e+0>>2]=-1,this.memory.INT_32[e+4>>2]=-1,this.memory.INT_32[e+8>>2]=0)},_disposeArray:function(e){if(!(e<0))for(var t=this.memory.INT_32[1+(e>>2)],n=0;n<t;n++){var r=e+8+16*n;this.clear(r)}},_initArray:function(e){if(!(e<0))for(var t=this.memory.INT_32[1+(e>>2)],n=0;n<t;n++){var r=e+8+16*n;this.clearShallow(r)}},clone:function(e){var t=this.alloc();return i.e(e,t,4),this._cloneFieldsFrom(t,e),t},_cloneFieldsFrom:function(e,t){var n=-1,r=-1;r=(n=this.memory.INT_32[e+0>>2])>0?this.getAnimatorType(t).clone(n):-1,this.memory.INT_32[e+0>>2]=r,r=(n=this.memory.INT_32[e+4>>2])>0?a.Callback.clone(n):-1,this.memory.INT_32[e+4>>2]=r},dump:function(e,t){if(t||(t=[]),t.indexOf(e)>=0)return"Circular reference";t.push(e);var n={animator:function(){var n=this.memory.INT_32[e+0>>2];return n>0?this.getAnimatorType(e).dump(n,t):null}.bind(this)(),firstCallback:function(){var n=this.memory.INT_32[e+4>>2];return n>0?a.Callback.dump(n,t):null}.bind(this)(),animatorType:this.memory.INT_32[e+8>>2]};return t.pop(),n},dumpArray:function(e,t){for(var n=this.memory.INT_32[1+(e>>2)],r=[],i=0;i<n;i++)r.push(this.dump(e+8+16*i,t));return{array:r,length:n,allocatedSpace:this.memory.INT_32[e>>2]}},arrayFromJSArray:function(e,t){for(var n=e.length,r=this.allocArray(n),a=0;a<n;a++){var o=e[a],s=r+8+16*a;i.e(o,s,4),t?this.freeShallow(o):this._cloneFieldsFrom(s,o)}return r},putArrayIntoJSArray:function(e,t,n){var r=this.memory.INT_32[1+(e>>2)];t.length=r;for(var i=0;i<r;i++)t[i]=e+8+16*i},itemAtIndex:function(e,t){return e+8+16*t},lengthForArray:function(e){return this.memory.INT_32[1+(e>>2)]},getAnimator:function(e){return this.memory.INT_32[e+0>>2]},setAnimator:function(e,t,n){var r=this.memory.INT_32[e+0>>2];this.memory.INT_32[e+0>>2]=t;var i=this.getAnimatorType(e);i&&r>0&&r!==t&&i.free(r),this.setAnimatorType(e,n)},takeAnimator:function(e){var t=this.memory.INT_32[e+0>>2];return this.memory.INT_32[e+0>>2]=-1,t},getFirstCallback:function(e){return this.memory.INT_32[e+4>>2]},setFirstCallback:function(e,t){var r=this.memory.INT_32[e+4>>2];this.memory.INT_32[e+4>>2]=t,r>0&&n(1461).Callback.free(r)},takeFirstCallback:function(e){var t=this.memory.INT_32[e+4>>2];return this.memory.INT_32[e+4>>2]=-1,t},getAnimatorType:function(e){var t=this.memory.INT_32[e+8>>2];return i.d(t)},setAnimatorType:function(e,t){t=t?t.typeId:-1,this.memory.INT_32[e+8>>2]=t}};i.g(c),i.h(c.typeId,c)},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.swatches=void 0,a(n(1465),t),t.swatches=o(n(1466)),a(n(1467),t),a(n(1468),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Color=t.ColorSwatch=void 0;var r=function(){function e(e,t,n,r,i){this.r=e,this.g=t,this.b=n,this.a=r,this.alpha=i}return Object.defineProperty(e.prototype,"rFloat",{get:function(){return this.r/255},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gFloat",{get:function(){return this.g/255},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bFloat",{get:function(){return this.b/255},enumerable:!1,configurable:!0}),e.prototype.rgbaFloats=function(){var e;return[this.rFloat,this.gFloat,this.bFloat,null!==(e=this.a)&&void 0!==e?e:1]},e.prototype.rgba=function(){var e=this,t=e.r,n=e.g,r=e.b,i=e.a,a=void 0===i?1:i;return"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(a,")")},e.prototype.hex=function(){return this.rrggbb().replace(/^(#?)([0-9a-f])\2([0-9a-f])\3([0-9a-f])\4$/i,"$1$2$3$4")},e.prototype.rrggbb=function(){var e=this;return"#"+[e.r,e.g,e.b].map(i).join("").toUpperCase()},Object.defineProperty(e.prototype,"h",{get:function(){return void 0===this._h&&this.setHSL(),this._h},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"s",{get:function(){return void 0===this._s&&this.setHSL(),this._s},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"l",{get:function(){return void 0===this._l&&this.setHSL(),this._l},enumerable:!1,configurable:!0}),e.prototype.hsl=function(e,t){void 0===e&&(e=4),void 0===t&&(t=2);var n=[this.h,this.s,this.l].map((function(t){return t.toFixed(e)})),r=n[0],i=n[1],a=n[2],o=void 0===this.a?"":", ".concat(this.a.toFixed(t));return"hsl".concat(o?"a":"","(").concat(r,", ").concat(i,"%, ").concat(a,"%").concat(o,")")},e.prototype.setHSL=function(){var e=this.r/255,t=this.g/255,n=this.b/255,r=Math.max(e,t,n),i=Math.min(e,t,n),a=r-i,o=r+i,s=0,c=0,l=o/2;if(a){switch(c=l>.5?a/(2-o):a/o,r){case e:s=(t-n)/a+(t<n?6:0);break;case t:s=(n-e)/a+2;break;case n:s=(e-t)/a+4}s/=6}this._h=s,this._s=c,this._l=l},e}();function i(e){return"0".concat(e.toString(16)).slice(-2)}t.ColorSwatch=r,t.Color=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dark=t.light=void 0;var r=n(1465);t.light={fill:new r.Color(255,255,255),"fill-blue":new r.Color(190,229,250),"fill-blue-secondary":new r.Color(232,246,254),"fill-gray":new r.Color(127,127,129),"fill-gray-quaternary":new r.Color(216,216,218),"fill-gray-quinary":new r.Color(228,228,230,void 0,new r.Color(0,0,2,.1)),"fill-gray-secondary":new r.Color(170,170,174,void 0,new r.Color(142,142,147,.75)),"fill-gray-senary":new r.Color(237,237,238),"fill-gray-tertiary":new r.Color(198,198,200,void 0,new r.Color(0,0,2,.22)),"fill-secondary":new r.Color(248,248,252),"fill-tertiary":new r.Color(242,242,247),glyph:new r.Color(0,0,0,.88),"glyph-blue":new r.Color(0,113,235),"glyph-brown":new r.Color(140,113,74),"glyph-cyan":new r.Color(0,173,204),"glyph-green":new r.Color(18,192,15),"glyph-orange":new r.Color(255,149,56),"glyph-purple":new r.Color(88,86,214),"glyph-red":new r.Color(235,12,0),"glyph-secondary":new r.Color(0,0,0,.56),"glyph-tertiary":new r.Color(0,0,0,.48),"glyph-yellow":new r.Color(247,206,70),"notes-yellow":new r.Color(237,187,0),"notes-yellow-secondary":new r.Color(255,246,179,void 0,new r.Color(255,223,13,.3)),"reminders-selection":new r.Color(207,220,235),"reminders-selection-grabber":new r.Color(52,109,217),"reminders-user-blue":new r.Color(0,122,255),"reminders-user-brown":new r.Color(157,133,99),"reminders-user-gray":new r.Color(91,103,112),"reminders-user-green":new r.Color(25,199,89),"reminders-user-indigo":new r.Color(88,86,214),"reminders-user-light-blue":new r.Color(81,170,242),"reminders-user-orange":new r.Color(255,149,0),"reminders-user-pink":new r.Color(234,66,106),"reminders-user-purple":new r.Color(192,119,219),"reminders-user-red":new r.Color(255,59,48),"reminders-user-rose":new r.Color(217,166,159),"reminders-user-yellow":new r.Color(255,204,0)},t.dark={fill:new r.Color(0,0,0),glyph:new r.Color(255,255,255)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.themeColors=void 0,t.themeColors={labelPrimary:"var(--theme-color-labelPrimary)",labelSecondary:"var(--theme-color-labelSecondary)",labelTertiary:"var(--theme-color-labelTertiary)",labelQuaternary:"var(--theme-color-labelQuaternary)",fillPrimary:"var(--theme-color-fillPrimary)",fillSecondary:"var(--theme-color-fillSecondary)",fillTertiary:"var(--theme-color-fillTertiary)",fillQuaternary:"var(--theme-color-fillQuaternary)",gray1:"var(--theme-color-gray1)",gray2:"var(--theme-color-gray2)",gray3:"var(--theme-color-gray3)",gray4:"var(--theme-color-gray4)",gray5:"var(--theme-color-gray5)",gray6:"var(--theme-color-gray6)",systemPink:"var(--theme-color-systemPink)",systemRed:"var(--theme-color-systemRed)",systemOrange:"var(--theme-color-systemOrange)",systemYellow:"var(--theme-color-systemYellow)",systemGreen:"var(--theme-color-systemGreen)",systemMint:"var(--theme-color-systemMint)",systemTeal:"var(--theme-color-systemTeal)",systemCyan:"var(--theme-color-systemCyan)",systemBlue:"var(--theme-color-systemBlue)",systemIndio:"var(--theme-color-systemIndio)",systemPurple:"var(--theme-color-systemPurple)",systemBrown:"var(--theme-color-systemBrown)",systemBlack:"var(--theme-color-systemBlack)",systemWhite:"var(--theme-color-systemWhite)",tintNotes:"var(--theme-color-tintNotes)",tintFindMy:"var(--theme-color-tintFindMy)",tintCyan:"var(--theme-color-tintCyan)",tintCyanOpaque:"var(--theme-color-tintCyanOpaque)",tintBlue:"var(--theme-color-tintBlue)",tintBlueOpaque:"var(--theme-color-tintBlueOpaque)",tintRed:"var(--theme-color-tintRed)",tintRedOpaque:"var(--theme-color-tintRedOpaque)",tintBlueSecondary:"var(--theme-color-tintBlueSecondary)",tintBlueSecondaryOpaque:"var(--theme-color-tintBlueSecondaryOpaque)",tintBlueTertiary:"var(--theme-color-tintBlueTertiary)",tintBlueTertiaryOpaque:"var(--theme-color-tintBlueTertiaryOpaque)",backgroundPrimary:"var(--theme-color-backgroundPrimary)",backgroundLayer1:"var(--theme-color-backgroundLayer1)",backgroundLayer2:"var(--theme-color-backgroundLayer2)",sidebar:"var(--theme-color-sidebar)",divider:"var(--theme-color-divider)",separator:"var(--theme-color-separator)",backdrop:"var(--theme-color-backdrop)",boxShadow:"var(--theme-color-boxShadow)"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transformColor=void 0,t.transformColor=function(e){var t=e.colorName,n=e.alpha,r=e.darken;if(!n&&!r&&0!==n)return"hsl(var(".concat(t,"-h),var(").concat(t,"-s),var(").concat(t,"-l))");var i,a="string"===typeof n?"var(".concat(n,")"):n,o=(null===(i=r)||void 0===i?void 0:i.startsWith("--theme-"))?"var(".concat(r,")"):r;return r?n||0===n?"hsla(var(".concat(t,"-h),var(").concat(t,"-s),calc(var(").concat(t,"-l) - ").concat(o,"),").concat(a,")"):"hsl(var(".concat(t,"-h),var(").concat(t,"-s),calc(var(").concat(t,"-l) - ").concat(o,"))"):"hsla(var(".concat(t,"-h),var(").concat(t,"-s),var(").concat(t,"-l),").concat(a,")")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1472),i=n(1592);function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}var o=function(e){var t,n;function r(t,n){var r;(r=e.call(this,void 0,n)||this).serviceName=t;var a,o,s,c,l=i.a.connectToService(t,{serviceZone:null===n||void 0===n?void 0:n.serviceZone,serviceOrigin:null===n||void 0===n?void 0:n.serviceOrigin,connectionTimeout:null===n||void 0===n?void 0:n.timeout});return a=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r),o=void 0,c=function*(){var e=yield l;e&&this.usePort(e)},new((s=void 0)||(s=Promise))((function(e,t){function n(e){try{i(c.next(e))}catch(n){t(n)}}function r(e){try{i(c.throw(e))}catch(n){t(n)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof s?i:new s((function(e){e(i)}))).then(n,r)}i((c=c.apply(a,o||[])).next())})),r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,a(t,n),r}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1471);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}var s=function(e){var t,n;function a(t,n){var r,i,a,o;return(r=e.call(this)||this).bufferedPostMessages=[],r.started=!1,r.closed=!1,r.lastMessageReceivedTime=globalThis.performance.now(),r._onmessage=null,r.__onmessage=null,r._onmessageerror=null,r.__onmessageerror=null,r._onconnectionstatechange=null,r.__onconnectionstatechange=null,r.handlePortMessage=function(e){if(r.lastMessageReceivedTime=globalThis.performance.now(),null!==(t=n=e.data)&&"object"===typeof t&&"1.0"===n.__messagePortConnection&&"string"===typeof n.type){if(function(e){return"keepaliverequest"===e.type}(e.data))return void r.postMessage({__messagePortConnection:"1.0",type:"keepaliveresponse"});if(function(e){return"keepaliveresponse"===e.type}(e.data))return;if(function(e){return"disconnect"===e.type}(e.data))return void r.close()}var t,n;r.dispatchEvent(new MessageEvent("message",{data:e.data}))},r.handlePortMessageError=function(e){r.lastMessageReceivedTime=globalThis.performance.now(),r.dispatchEvent(new MessageEvent("messageerror",{data:e.data}))},r.keepaliveTime=null!==(i=null===n||void 0===n?void 0:n.keepaliveTime)&&void 0!==i?i:6e5,r.keepaliveInterval=null!==(a=null===n||void 0===n?void 0:n.keepaliveInterval)&&void 0!==a?a:6e4,r.keepaliveRetry=null!==(o=null===n||void 0===n?void 0:n.keepaliveRetry)&&void 0!==o?o:5,t&&r.usePort(t),r}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,o(t,n);var s,c,l=a.prototype;return l.close=function(){if(!this.closed){this.closed=!0;var e=this.port;e&&(this.stopKeepalive(),e.removeEventListener("message",this.handlePortMessage),e.removeEventListener("messageerror",this.handlePortMessageError),e.postMessage({__messagePortConnection:"1.0",type:"disconnect"}),e.close()),this.port=null,null!==e&&this.dispatchEvent(new r.Event("connectionstatechange"))}},l.start=function(){this.closed||this.started||(this.started=!0,this.port&&(this.startKeepalive(),this.port.start()))},l.postMessage=function(e,t){this.closed||(this.port?this.port.postMessage(e,t):this.bufferedPostMessages.push([e,t]))},l.usePort=function(e){if(!this.closed&&this.port!==e){var t=this.port;for(var n of(t&&(this.stopKeepalive(),t.removeEventListener("message",this.handlePortMessage),t.removeEventListener("messageerror",this.handlePortMessageError),t.postMessage({__messagePortConnection:"1.0",type:"disconnect"}),t.close()),e.addEventListener("message",this.handlePortMessage),e.addEventListener("messageerror",this.handlePortMessageError),this.started&&(this.startKeepalive(),e.start()),this.bufferedPostMessages))e.postMessage(n[0],n[1]);this.bufferedPostMessages.length=0,this.port=e,void 0===t&&this.dispatchEvent(new r.Event("connectionstatechange"))}},l.startKeepalive=function(){var e=this,t=0,n=globalThis.performance.now();this.lastMessageReceivedTime=n;var r=function r(){var a;if(e.lastMessageReceivedTime<=n)t>=e.keepaliveRetry?e.close():(null===(a=e.port)||void 0===a||a.postMessage({__messagePortConnection:"1.0",type:"keepaliverequest"}),++t),e.keepaliveIntervalHandle=globalThis.setTimeout(r,e.keepaliveInterval);else{e.keepaliveIntervalHandle=void 0;var o=globalThis.performance.now()-e.lastMessageReceivedTime,s=Math.max(0,e.keepaliveTime-o);e.keepaliveTimeHandle=globalThis.setTimeout(i,s)}},i=function i(){var a=globalThis.performance.now()-e.lastMessageReceivedTime;if(e.keepaliveInterval<=a)e.keepaliveTimeHandle=void 0,t=0,n=e.lastMessageReceivedTime,r();else{var o=Math.max(0,e.keepaliveTime-a);e.keepaliveTimeHandle=globalThis.setTimeout(i,o)}};this.keepaliveTimeHandle=globalThis.setTimeout(i,this.keepaliveTime)},l.stopKeepalive=function(){globalThis.clearTimeout(this.keepaliveTimeHandle),globalThis.clearTimeout(this.keepaliveIntervalHandle)},s=a,(c=[{key:"connectionState",get:function(){switch(this.port){case void 0:return"connecting";case null:return"closed";default:return"open"}}},{key:"onmessage",get:function(){return this._onmessage},set:function(e){if(this._onmessage!==e&&(this.__onmessage&&this.removeEventListener("message",this.__onmessage),this._onmessage=e,null!==e)){var t=function(t){return null===e||void 0===e?void 0:e(t)};this.__onmessage=t,this.addEventListener("message",t)}}},{key:"onmessageerror",get:function(){return this._onmessageerror},set:function(e){if(this._onmessageerror!==e&&(this.__onmessageerror&&this.removeEventListener("messageerror",this.__onmessageerror),this._onmessageerror=e,null!==e)){var t=function(t){return null===e||void 0===e?void 0:e(t)};this.__onmessageerror=t,this.addEventListener("messageerror",t)}}},{key:"onconnectionstatechange",get:function(){return this._onconnectionstatechange},set:function(e){if(this._onconnectionstatechange!==e&&(this.__onconnectionstatechange&&this.removeEventListener("connectionstatechange",this.__onconnectionstatechange),this._onconnectionstatechange=e,null!==e)){var t=function(t){return null===e||void 0===e?void 0:e(t)};this.__onconnectionstatechange=t,this.addEventListener("connectionstatechange",t)}}}])&&i(s.prototype,c),Object.defineProperty(s,"prototype",{writable:!1}),a}(r.EventTarget)},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)}function a(e){var t="function"===typeof Map?new Map:void 0;return a=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(o())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&s(i,n.prototype),i}(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),s(n,e)},a(e)}function o(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(o=function(){return!!e})()}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function u(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}function h(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw new TypeError(f(t,r))}}function f(e,t){var n=0;return e.replace(/%[os]/g,(function(){return p(t[n++])}))}function p(e){return"object"!==typeof e||null===e?String(e):Object.prototype.toString.call(e)}var g;Object.defineProperty(t,"__esModule",{value:!0});var m,v="undefined"!==typeof window?window:"undefined"!==typeof self?self:"undefined"!==typeof globalThis||"undefined"!==typeof globalThis?globalThis:void 0,y=function(){function e(e,t){this.code=e,this.message=t}return e.prototype.warn=function(){var e;try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(m)return void m(Object.assign({},this,{args:n}));var i=(null!==(e=(new Error).stack)&&void 0!==e?e:"").replace(/^(?:(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+?\n){2}/g,"\n");console.warn(this.message,...n,i)}catch(a){}},e}(),_=new y("W01","Unable to initialize event under dispatching."),b=new y("W02","Assigning any falsy value to 'cancelBubble' property has no effect."),w=new y("W03","Assigning any truthy value to 'returnValue' property has no effect."),S=new y("W04","Unable to preventDefault on non-cancelable events."),E=new y("W05","Unable to preventDefault inside passive event listener invocation."),I=new y("W06","An event listener wasn't added because it has been added already: %o, %o"),C=new y("W07","The %o option value was abandoned because the event listener wasn't added as duplicated."),O=new y("W08","The 'callback' argument must be a function or an object that has 'handleEvent' method: %o"),T=new y("W09","Event attribute handler must be a function: %o"),A=function(){function e(e,t){Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});var n=null!==t&&void 0!==t?t:{};L.set(this,{type:String(e),bubbles:Boolean(n.bubbles),cancelable:Boolean(n.cancelable),composed:Boolean(n.composed),target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1,inPassiveListenerFlag:!1,dispatchFlag:!1,timeStamp:Date.now()})}var t=e.prototype;return t.composedPath=function(){var e=k(this).currentTarget;return e?[e]:[]},t.stopPropagation=function(){k(this).stopPropagationFlag=!0},t.stopImmediatePropagation=function(){var e=k(this);e.stopPropagationFlag=e.stopImmediatePropagationFlag=!0},t.preventDefault=function(){x(k(this))},t.initEvent=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=k(this);r.dispatchFlag?_.warn():L.set(this,Object.assign({},r,{type:String(e),bubbles:Boolean(t),cancelable:Boolean(n),target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1}))},u(e,[{key:"type",get:function(){return k(this).type}},{key:"target",get:function(){return k(this).target}},{key:"srcElement",get:function(){return k(this).target}},{key:"currentTarget",get:function(){return k(this).currentTarget}},{key:"NONE",get:function(){return N}},{key:"CAPTURING_PHASE",get:function(){return M}},{key:"AT_TARGET",get:function(){return D}},{key:"BUBBLING_PHASE",get:function(){return R}},{key:"eventPhase",get:function(){return k(this).dispatchFlag?2:0}},{key:"cancelBubble",get:function(){return k(this).stopPropagationFlag},set:function(e){e?k(this).stopPropagationFlag=!0:b.warn()}},{key:"bubbles",get:function(){return k(this).bubbles}},{key:"cancelable",get:function(){return k(this).cancelable}},{key:"returnValue",get:function(){return!k(this).canceledFlag},set:function(e){e?w.warn():x(k(this))}},{key:"defaultPrevented",get:function(){return k(this).canceledFlag}},{key:"composed",get:function(){return k(this).composed}},{key:"isTrusted",get:function(){return!1}},{key:"timeStamp",get:function(){return k(this).timeStamp}}],[{key:"NONE",get:function(){return N}},{key:"CAPTURING_PHASE",get:function(){return M}},{key:"AT_TARGET",get:function(){return D}},{key:"BUBBLING_PHASE",get:function(){return R}}]),e}(),N=0,M=1,D=2,R=3,L=new WeakMap;function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"this",n=L.get(e);return h(null!=n,"'%s' must be an object that Event constructor created, but got another one: %o",t,e),n}function x(e){e.inPassiveListenerFlag?E.warn():e.cancelable?e.canceledFlag=!0:S.warn()}Object.defineProperty(A,"NONE",{enumerable:!0}),Object.defineProperty(A,"CAPTURING_PHASE",{enumerable:!0}),Object.defineProperty(A,"AT_TARGET",{enumerable:!0}),Object.defineProperty(A,"BUBBLING_PHASE",{enumerable:!0});for(var F,P=Object.getOwnPropertyNames(A.prototype),j=0;j<P.length;++j)"constructor"!==P[j]&&Object.defineProperty(A.prototype,P[j],{enumerable:!0});"undefined"!==typeof v&&"undefined"!==typeof v.Event&&Object.setPrototypeOf(A.prototype,v.Event.prototype);var U={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};function B(e){for(var t=Object.keys(U),n=function(){var n=t[r],i=U[n];Object.defineProperty(e,n,{get:function(){return i},configurable:!0,enumerable:!0})},r=0;r<t.length;++r)n()}var V=function(e){function t(t){var n;n=e.call(this,t.type,{bubbles:t.bubbles,cancelable:t.cancelable,composed:t.composed})||this,t.cancelBubble&&e.prototype.stopPropagation.call(r(n)),t.defaultPrevented&&e.prototype.preventDefault.call(r(n)),W.set(r(n),{original:t});for(var i=Object.keys(t),a=0;a<i.length;++a){var o=i[a];o in r(n)||Object.defineProperty(r(n),o,$(t,o))}return n}i(t,e),t.wrap=function(e){return new(G(e))(e)};var n=t.prototype;return n.stopPropagation=function(){e.prototype.stopPropagation.call(this);var t=z(this).original;"stopPropagation"in t&&t.stopPropagation()},n.stopImmediatePropagation=function(){e.prototype.stopImmediatePropagation.call(this);var t=z(this).original;"stopImmediatePropagation"in t&&t.stopImmediatePropagation()},n.preventDefault=function(){e.prototype.preventDefault.call(this);var t=z(this).original;"preventDefault"in t&&t.preventDefault()},u(t,[{key:"cancelBubble",get:function(){return e.prototype.cancelBubble},set:function(e){this.cancelBubble=e;var t=z(this).original;"cancelBubble"in t&&(t.cancelBubble=e)}},{key:"returnValue",get:function(){return e.prototype.returnValue},set:function(e){this.returnValue=e;var t=z(this).original;"returnValue"in t&&(t.returnValue=e)}},{key:"timeStamp",get:function(){var t=z(this).original;return"timeStamp"in t?t.timeStamp:e.prototype.timeStamp}}]),t}(A),W=new WeakMap;function z(e){var t=W.get(e);return h(null!=t,"'this' is expected an Event object, but got",e),t}var H=new WeakMap;function G(e){var t=Object.getPrototypeOf(e);if(null==t)return V;var n=H.get(t);return null==n&&(n=function(e,t){for(var n=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t}(e),r=Object.keys(t),a=0;a<r.length;++a)Object.defineProperty(n.prototype,r[a],$(t,r[a]));return n}(G(t),t),H.set(t,n)),n}function $(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return{get:function(){var e=z(this).original,n=e[t];return"function"===typeof n?n.bind(e):n},set:function(e){z(this).original[t]=e},configurable:n.configurable,enumerable:n.enumerable}}function K(e){return 1===(1&e.flags)}function Q(e){return 2===(2&e.flags)}function q(e){return 4===(4&e.flags)}function Z(e){return 8===(8&e.flags)}function Y(e,t,n){var r=e.callback;try{"function"===typeof r?r.call(t,n):"function"===typeof r.handleEvent&&r.handleEvent(n)}catch(i){!function(e){try{var t=e instanceof Error?e:new Error(p(e));if(g)return void g(t);if("function"===typeof dispatchEvent&&"function"===typeof ErrorEvent)dispatchEvent(new ErrorEvent("error",{error:t,message:t.message}));else if("undefined"!==typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",t);console.error(t)}catch(n){}}(i)}}function X(e,t,n){for(var r=e.listeners,i=0;i<r.length;++i)if(r[i].callback===t&&K(r[i])===n)return i;return-1}function J(e,t,n,r,i,a){var o;a&&(o=ee.bind(null,e,t,n),a.addEventListener("abort",o));var s=function(e,t,n,r,i,a){return{callback:e,flags:(t?1:0)|(n?2:0)|(r?4:0),signal:i,signalListener:a}}(t,n,r,i,a,o);return e.cow?(e.cow=!1,e.listeners=[...e.listeners,s]):e.listeners.push(s),s}function ee(e,t,n){var r=X(e,t,n);return-1!==r&&te(e,r)}function te(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.listeners[t];return function(e){e.flags|=8}(r),r.signal&&r.signal.removeEventListener("abort",r.signalListener),e.cow&&!n?(e.cow=!1,e.listeners=e.listeners.filter((function(e,n){return n!==t})),!1):(e.listeners.splice(t,1),!0)}function ne(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e[t]={attrCallback:void 0,attrListener:void 0,cow:!1,listeners:[]}}H.set(Object.prototype,V),"undefined"!==typeof v&&"undefined"!==typeof v.Event&&H.set(v.Event.prototype,V);var re=function(){function e(){ie.set(this,Object.create(null))}var t=e.prototype;return t.addEventListener=function(e,t,n){var r=ae(this),i=function(e,t,n){var r;return oe(t),"object"===typeof n&&null!==n?{type:String(e),callback:null!==t&&void 0!==t?t:void 0,capture:Boolean(n.capture),passive:Boolean(n.passive),once:Boolean(n.once),signal:null!==(r=n.signal)&&void 0!==r?r:void 0}:{type:String(e),callback:null!==t&&void 0!==t?t:void 0,capture:Boolean(n),passive:!1,once:!1,signal:void 0}}(e,t,n),a=i.callback,o=i.capture,s=i.once,c=i.passive,l=i.signal,u=i.type;if(null!=a&&!(null===l||void 0===l?void 0:l.aborted)){var d=ne(r,u),h=X(d,a,o);-1===h?J(d,a,o,c,s,l):function(e,t,n,r){I.warn(K(e)?"capture":"bubble",e.callback),Q(e)!==t&&C.warn("passive"),q(e)!==n&&C.warn("once"),e.signal!==r&&C.warn("signal")}(d.listeners[h],c,s,l)}},t.removeEventListener=function(e,t,n){var r=ae(this),i=function(e,t,n){return oe(t),"object"===typeof n&&null!==n?{type:String(e),callback:null!==t&&void 0!==t?t:void 0,capture:Boolean(n.capture)}:{type:String(e),callback:null!==t&&void 0!==t?t:void 0,capture:Boolean(n)}}(e,t,n),a=i.callback,o=i.capture,s=r[i.type];null!=a&&s&&ee(s,a,o)},t.dispatchEvent=function(e){var t=ae(this)[String(e.type)];if(null==t)return!0;var n,o=e instanceof A?e:V.wrap(e),s=k(o,"event");if(s.dispatchFlag)throw n="This event has been in dispatching.",v.DOMException?new v.DOMException(n,"InvalidStateError"):(null==F&&(F=function(e){function t(n){var i;return i=e.call(this,n)||this,Error.captureStackTrace&&Error.captureStackTrace(r(i),t),i}return i(t,e),u(t,[{key:"code",get:function(){return 11}},{key:"name",get:function(){return"InvalidStateError"}}]),t}(a(Error)),Object.defineProperties(F.prototype,{code:{enumerable:!0},name:{enumerable:!0}}),B(F),B(F.prototype)),new F(n));if(s.dispatchFlag=!0,s.target=s.currentTarget=this,!s.stopPropagationFlag){var c=t.cow,l=t.listeners;t.cow=!0;for(var d=0;d<l.length;++d){var h=l[d];if(!Z(h)&&(q(h)&&te(t,d,!c)&&(d-=1),s.inPassiveListenerFlag=Q(h),Y(h,this,o),s.inPassiveListenerFlag=!1,s.stopImmediatePropagationFlag))break}c||(t.cow=!1)}return s.target=null,s.currentTarget=null,s.stopImmediatePropagationFlag=!1,s.stopPropagationFlag=!1,s.dispatchFlag=!1,!s.canceledFlag},e}(),ie=new WeakMap;function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"this",n=ie.get(e);return h(null!=n,"'%s' must be an object that EventTarget constructor created, but got another one: %o",t,e),n}function oe(e){if("function"!==typeof e&&("object"!==typeof e||null===e||"function"!==typeof e.handleEvent)){if(null!=e&&"object"!==typeof e)throw new TypeError(f(O.message,[e]));O.warn(e)}}for(var se=Object.getOwnPropertyNames(re.prototype),ce=0;ce<se.length;++ce)"constructor"!==se[ce]&&Object.defineProperty(re.prototype,se[ce],{enumerable:!0});function le(e,t){var n,r;return null!==(r=null===(n=ae(e,"target")[t])||void 0===n?void 0:n.attrCallback)&&void 0!==r?r:null}function ue(e,t,n){null!=n&&"function"!==typeof n&&T.warn(n),"function"===typeof n||"object"===typeof n&&null!==n?function(e,t,n){var r=ne(ae(e,"target"),String(t));r.attrCallback=n,null==r.attrListener&&(r.attrListener=J(r,function(e){return function(t){var n=e.attrCallback;"function"===typeof n&&n.call(this,t)}}(r),!1,!1,!1,void 0))}(e,t,n):function(e,t){var n=ae(e,"target")[String(t)];n&&n.attrListener&&(ee(n,n.attrListener.callback,!1),n.attrCallback=n.attrListener=void 0)}(e,t)}function de(e,t,n){Object.defineProperty(e,"on"+t,{get:function(){return le(this,t)},set:function(e){ue(this,t,e)},configurable:!0,enumerable:!0})}"undefined"!==typeof v&&"undefined"!==typeof v.EventTarget&&Object.setPrototypeOf(re.prototype,v.EventTarget.prototype),t.Event=A,t.EventTarget=re,t.default=re,t.defineCustomEventTarget=function(){for(var e=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t}(re),t=0;t<arguments.length;++t)de(e.prototype,t<0||arguments.length<=t?void 0:arguments[t]);return e},t.defineEventAttribute=de,t.getEventAttributeValue=le,t.setErrorHandler=function(e){h("function"===typeof e||void 0===e,"The error handler must be a function or undefined, but got %o.",e),g=e},t.setEventAttributeValue=ue,t.setWarningHandler=function(e){h("function"===typeof e||void 0===e,"The warning handler must be a function or undefined, but got %o.",e),m=e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(1471),i=n(1470);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}var l=function(e){var t,n;function o(t,n){var a;return(a=e.call(this)||this).sequenceNumber=1,a.activeRequests=new Map,a.started=!1,a.closed=!1,a.remoteObjectProxy=function(){var e=s(a);return new Proxy({},{get:function(t,n,r){return function(){for(var t=""+e.sequenceNumber++,r=new Promise((function(n,r){e.activeRequests.set(t,[n,r])})),i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e.connection.postMessage({jsonrpc:"2.0",id:t,methodName:n,params:a}),r}}})}(),a.exportedObject=null,a.handleConnectionStateChange=function(){a.dispatchEvent(new r.Event("connectionstatechange"))},a.handleMessage=function(e){var t,n,r,i,c,l=e.data;if(l&&"object"===typeof l&&"2.0"===l.jsonrpc){var u=l.id;if("string"===typeof u){var d=l.methodName;if("string"===typeof d){var h=null!==(t=l.params)&&void 0!==t?t:[];if(!Array.isArray(h))return void a.connection.postMessage({jsonrpc:"2.0",id:u,error:"Parameters for RPC call is not an array"});var f=a.exportedObject;if(!f)return void a.connection.postMessage({jsonrpc:"2.0",id:u,error:"No exported object for RPC call to "+d});var p=f[d];return"function"!==typeof p?void a.connection.postMessage({jsonrpc:"2.0",id:u,error:"Exported object property "+d+" is not a function"}):(n=s(a),r=void 0,c=function*(){try{o.current=this;var e=yield p.apply(f,l.params);this.connection.postMessage({jsonrpc:"2.0",id:u,result:e})}catch(n){this.connection.postMessage({jsonrpc:"2.0",id:u,error:"Error during RPC call: "+function(){try{return""+n}catch(t){return"<failed to stringify>"}}()})}},void new((i=void 0)||(i=Promise))((function(t,a){function o(t){try{l(c.next(t))}catch(e){a(e)}}function s(t){try{l(c.throw(t))}catch(e){a(e)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(e){e(n)}))).then(o,s)}l((c=c.apply(n,r||[])).next())})))}var g=a.activeRequests.get(u);g&&("result"in l?(a.activeRequests.delete(u),g[0](l.result)):"error"in l&&(a.activeRequests.delete(u),g[1](new Error(l.error))))}}},a._onconnectionstatechange=null,a.__onconnectionstatechange=null,a.connection=new i.a(t,n),a.connection.addEventListener("message",a.handleMessage),a.connection.addEventListener("connectionstatechange",a.handleConnectionStateChange),a}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,c(t,n);var l,u,d=o.prototype;return d.close=function(){this.closed||(this.closed=!0,this.connection.close(),this.connection.removeEventListener("message",this.handleMessage),this.connection.removeEventListener("connectionstatechange",this.handleConnectionStateChange))},d.start=function(){this.closed||this.started||(this.started=!0,this.connection.start())},d.usePort=function(e){this.connection.usePort(e)},l=o,(u=[{key:"connectionState",get:function(){return this.connection.connectionState}},{key:"onconnectionstatechange",get:function(){return this._onconnectionstatechange},set:function(e){if(this._onconnectionstatechange!==e&&(this.__onconnectionstatechange&&this.removeEventListener("connectionstatechange",this.__onconnectionstatechange),this._onconnectionstatechange=e,null!==e)){var t=function(t){return null===e||void 0===e?void 0:e(t)};this.__onconnectionstatechange=t,this.addEventListener("connectionstatechange",t)}}}])&&a(l.prototype,u),Object.defineProperty(l,"prototype",{writable:!1}),o}(r.EventTarget)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuotaController=void 0;var r=n(1474);Object.defineProperty(t,"QuotaController",{enumerable:!0,get:function(){return r.QuotaController}})},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function i(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.QuotaController=void 0;var o=n(1471),s=n(1585),c=n(1475),l=function(e){var t,n;function i(){var t;return(t=e.call(this)||this).connection=new s.JsonRpcServiceConnection(c.quotaServiceName,{timeout:"indefinite"}),t.currentFetch=null,t.__isFetching=!1,t.__storageQuota=null,t.connection.exportedObject=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),t.connection.start(),t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,a(t,n);var l,u,d=i.prototype;return d.quotaDataLoadingStatusDidChange=async function(e){this._isFetching=e},d.quotaDidChange=async function(e){this._storageQuota=e},d.fetchStorageQuota=function(){var e=this,t=this.currentFetch;if(t)return t;var n=async function(){try{var t=await e.connection.remoteObjectProxy.fetchStorageQuota();return t?(e._storageQuota=t,t):e.storageQuota}finally{e.currentFetch=null}}();return this.currentFetch=n,n},l=i,(u=[{key:"_isFetching",get:function(){return this.__isFetching},set:function(e){e!==this.__isFetching&&(this.__isFetching=e,this.dispatchEvent(new o.Event("fetchingchange")))}},{key:"isFetching",get:function(){return this.__isFetching}},{key:"_storageQuota",get:function(){return this.__storageQuota},set:function(e){e!==this.__storageQuota&&(this.__storageQuota=e,this.dispatchEvent(new o.Event("change")))}},{key:"storageQuota",get:function(){return this.__storageQuota}}])&&r(l.prototype,u),Object.defineProperty(l,"prototype",{writable:!1}),i}(o.EventTarget);t.QuotaController=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.quotaServiceName=void 0,t.quotaServiceName="com.icloud.quota"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MeCardController=void 0;var r=n(1477);Object.defineProperty(t,"MeCardController",{enumerable:!0,get:function(){return r.MeCardController}})},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function i(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MeCardController=void 0;var o=n(1471),s=n(1585),c=n(1478),l=function(e){var t,n;function i(){var t;return(t=e.call(this)||this).connection=new s.JsonRpcServiceConnection(c.meCardServiceName),t.currentFetch=null,t.__meCard=null,t.__isFetching=!1,t.connection.exportedObject=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),t.connection.start(),t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,a(t,n);var l,u,d=i.prototype;return d.isFetchingDidChange=async function(e){this._isFetching=e},d.didChange=async function(e){this._meCard=e},d.refresh=async function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.currentFetch;if(n)return n;var r=async function(){try{await e.connection.remoteObjectProxy.refresh(t)}finally{e.currentFetch=null}}();return this.currentFetch=r,r},d.deletePhoto=async function(){return this.connection.remoteObjectProxy.deletePhoto()},d.storePhoto=async function(e,t){return this.connection.remoteObjectProxy.storePhoto(e,t)},l=i,(u=[{key:"_meCard",get:function(){return this.__meCard},set:function(e){e!==this.__meCard&&(this.__meCard=e,this.dispatchEvent(new o.Event("change")))}},{key:"meCard",get:function(){return this.__meCard||void 0}},{key:"_isFetching",get:function(){return this.__isFetching},set:function(e){e!==this.__isFetching&&(this.__isFetching=e,this.dispatchEvent(new o.Event("fetchingchange")))}},{key:"isFetching",get:function(){return this.__isFetching}},{key:"photo",get:function(){var e,t;return null==(e=this.meCard)||null==(t=e.contacts[0])?void 0:t.photo}}])&&r(l.prototype,u),Object.defineProperty(l,"prototype",{writable:!1}),i}(o.EventTarget);t.MeCardController=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.meCardServiceName=void 0,t.meCardServiceName="com.icloud.mecard"},function(e,t,n){var r=n(1480),i=n(1501)((function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)}));e.exports=i},function(e,t,n){var r=n(1481),i=n(1493);e.exports=function(e){return i(r(e).toLowerCase())}},function(e,t,n){var r=n(1482);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(1483),i=n(1486),a=n(1487),o=n(1488),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(o(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t,n){var r=n(1484).Symbol;e.exports=r},function(e,t,n){var r=n(1485),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(843))},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(1489),i=n(1492);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(1483),i=n(1490),a=n(1491),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},function(e,t,n){var r=n(1483),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(c){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r=n(1494)("toUpperCase");e.exports=r},function(e,t,n){var r=n(1495),i=n(1497),a=n(1498),o=n(1481);e.exports=function(e){return function(t){t=o(t);var n=i(t)?a(t):void 0,s=n?n[0]:t.charAt(0),c=n?r(n,1).join(""):t.slice(1);return s[e]()+c}}},function(e,t,n){var r=n(1496);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},function(e,t){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}},function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},function(e,t,n){var r=n(1499),i=n(1497),a=n(1500);e.exports=function(e){return i(e)?a(e):r(e)}},function(e,t){e.exports=function(e){return e.split("")}},function(e,t){var n="\\ud800-\\udfff",r="["+n+"]",i="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",o="[^"+n+"]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+i+"|"+a+")?",u="[\\ufe0e\\ufe0f]?",d=u+l+"(?:\\u200d(?:"+[o,s,c].join("|")+")"+u+l+")*",h="(?:"+[o+i+"?",i,s,c,r].join("|")+")",f=RegExp(a+"(?="+a+")|"+h+d,"g");e.exports=function(e){return e.match(f)||[]}},function(e,t,n){var r=n(1502),i=n(1503),a=n(1506),o=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return r(a(i(t).replace(o,"")),e,"")}}},function(e,t){e.exports=function(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}},function(e,t,n){var r=n(1504),i=n(1481),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=i(e))&&e.replace(a,r).replace(o,"")}},function(e,t,n){var r=n(1505)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=r},function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},function(e,t,n){var r=n(1507),i=n(1508),a=n(1481),o=n(1509);e.exports=function(e,t,n){return e=a(e),void 0===(t=n?void 0:t)?i(e)?o(e):r(e):e.match(t)||[]}},function(e,t){var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(n)||[]}},function(e,t){var n=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return n.test(e)}},function(e,t){var n="\\ud800-\\udfff",r="\\u2700-\\u27bf",i="a-z\\xdf-\\xf6\\xf8-\\xff",a="A-Z\\xc0-\\xd6\\xd8-\\xde",o="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",s="["+o+"]",c="\\d+",l="["+r+"]",u="["+i+"]",d="[^"+n+o+c+r+i+a+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",p="["+a+"]",g="(?:"+u+"|"+d+")",m="(?:"+p+"|"+d+")",v="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",y="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",_="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",b="[\\ufe0e\\ufe0f]?",w=b+_+"(?:\\u200d(?:"+["[^"+n+"]",h,f].join("|")+")"+b+_+")*",S="(?:"+[l,h,f].join("|")+")"+w,E=RegExp([p+"?"+u+"+"+v+"(?="+[s,p,"$"].join("|")+")",m+"+"+y+"(?="+[s,p+g,"$"].join("|")+")",p+"?"+g+"+"+v,p+"+"+y,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",c,S].join("|"),"g");e.exports=function(e){return e.match(E)||[]}},function(e,t,n){var r=n(1501)((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}));e.exports=r},function(e,t,n){(function(t){e.exports=t.__CW_BLOB_URLS[38]}).call(this,n(843))},function(e,t,n){(function(t){e.exports=t.__CW_BLOB_URLS[28]}).call(this,n(843))},function(e,t,n){(function(t){e.exports=t.__CW_BLOB_URLS[37]}).call(this,n(843))},function(e,t,n){(function(t){e.exports=t.__CW_BLOB_URLS[35]}).call(this,n(843))},function(e,t,n){(function(t){e.exports=t.__CW_BLOB_URLS[26]}).call(this,n(843))},function(e,t,n){(function(t){e.exports=t.__CW_BLOB_URLS[36]}).call(this,n(843))},function(e,t,n){(function(t){e.exports=t.__CW_BLOB_URLS[30]}).call(this,n(843))},function(e,t,n){(function(t){e.exports=t.__CW_BLOB_URLS[34]}).call(this,n(843))},function(e,t,n){(function(t){e.exports=t.__CW_BLOB_URLS[29]}).call(this,n(843))},function(e,t,n){(function(t){e.exports=t.__CW_BLOB_URLS[33]}).call(this,n(843))},function(e,t,n){(function(t){e.exports=t.__CW_BLOB_URLS[32]}).call(this,n(843))},function(e,t,n){(function(t){e.exports=t.__CW_BLOB_URLS[27]}).call(this,n(843))},function(e,t){e.exports='<svg version="1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><circle fill="none" stroke-width="2" cx="22" cy="22" r="21"/><path fill="none" stroke-width="3" d="M22 28v-3c0-3.8 3.6-5.4 5-7 .7-.8 1-2 1-4 0-2.6-2.4-5.5-6-5.5-4.5 0-6 3.5-6 5.5"/><circle cx="22" cy="33.5" r="2"/></svg>'},function(e,t,n){"use strict";var r=n(1525),i=n(1526),a=n(1545).Buffer,o=new Array(16);function s(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(e,t){return e<<t|e>>>32-t}function l(e,t,n,r,i,a,o){return c(e+(t&n|~t&r)+i+a|0,o)+t|0}function u(e,t,n,r,i,a,o){return c(e+(t&r|n&~r)+i+a|0,o)+t|0}function d(e,t,n,r,i,a,o){return c(e+(t^n^r)+i+a|0,o)+t|0}function h(e,t,n,r,i,a,o){return c(e+(n^(t|~r))+i+a|0,o)+t|0}r(s,i),s.prototype._update=function(){for(var e=o,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,r=this._b,i=this._c,a=this._d;n=l(n,r,i,a,e[0],3614090360,7),a=l(a,n,r,i,e[1],3905402710,12),i=l(i,a,n,r,e[2],606105819,17),r=l(r,i,a,n,e[3],3250441966,22),n=l(n,r,i,a,e[4],4118548399,7),a=l(a,n,r,i,e[5],1200080426,12),i=l(i,a,n,r,e[6],2821735955,17),r=l(r,i,a,n,e[7],4249261313,22),n=l(n,r,i,a,e[8],1770035416,7),a=l(a,n,r,i,e[9],2336552879,12),i=l(i,a,n,r,e[10],4294925233,17),r=l(r,i,a,n,e[11],2304563134,22),n=l(n,r,i,a,e[12],1804603682,7),a=l(a,n,r,i,e[13],4254626195,12),i=l(i,a,n,r,e[14],2792965006,17),n=u(n,r=l(r,i,a,n,e[15],1236535329,22),i,a,e[1],4129170786,5),a=u(a,n,r,i,e[6],3225465664,9),i=u(i,a,n,r,e[11],643717713,14),r=u(r,i,a,n,e[0],3921069994,20),n=u(n,r,i,a,e[5],3593408605,5),a=u(a,n,r,i,e[10],38016083,9),i=u(i,a,n,r,e[15],3634488961,14),r=u(r,i,a,n,e[4],3889429448,20),n=u(n,r,i,a,e[9],568446438,5),a=u(a,n,r,i,e[14],3275163606,9),i=u(i,a,n,r,e[3],4107603335,14),r=u(r,i,a,n,e[8],1163531501,20),n=u(n,r,i,a,e[13],2850285829,5),a=u(a,n,r,i,e[2],4243563512,9),i=u(i,a,n,r,e[7],1735328473,14),n=d(n,r=u(r,i,a,n,e[12],2368359562,20),i,a,e[5],4294588738,4),a=d(a,n,r,i,e[8],2272392833,11),i=d(i,a,n,r,e[11],1839030562,16),r=d(r,i,a,n,e[14],4259657740,23),n=d(n,r,i,a,e[1],2763975236,4),a=d(a,n,r,i,e[4],1272893353,11),i=d(i,a,n,r,e[7],4139469664,16),r=d(r,i,a,n,e[10],3200236656,23),n=d(n,r,i,a,e[13],681279174,4),a=d(a,n,r,i,e[0],3936430074,11),i=d(i,a,n,r,e[3],3572445317,16),r=d(r,i,a,n,e[6],76029189,23),n=d(n,r,i,a,e[9],3654602809,4),a=d(a,n,r,i,e[12],3873151461,11),i=d(i,a,n,r,e[15],530742520,16),n=h(n,r=d(r,i,a,n,e[2],3299628645,23),i,a,e[0],4096336452,6),a=h(a,n,r,i,e[7],1126891415,10),i=h(i,a,n,r,e[14],2878612391,15),r=h(r,i,a,n,e[5],4237533241,21),n=h(n,r,i,a,e[12],1700485571,6),a=h(a,n,r,i,e[3],2399980690,10),i=h(i,a,n,r,e[10],4293915773,15),r=h(r,i,a,n,e[1],2240044497,21),n=h(n,r,i,a,e[8],1873313359,6),a=h(a,n,r,i,e[15],4264355552,10),i=h(i,a,n,r,e[6],2734768916,15),r=h(r,i,a,n,e[13],1309151649,21),n=h(n,r,i,a,e[4],4149444226,6),a=h(a,n,r,i,e[11],3174756917,10),i=h(i,a,n,r,e[2],718787259,15),r=h(r,i,a,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+a|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=a.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=s},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";var r=n(1527).Buffer,i=n(1531).Transform;function a(e){i.call(this),this._block=r.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(1525)(a,i),a.prototype._transform=function(e,t,n){var r=null;try{this.update(e,t)}catch(i){r=i}n(r)},a.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(n){t=n}e(t)},a.prototype.update=function(e,t){if(function(e){if(!r.isBuffer(e)&&"string"!==typeof e)throw new TypeError("Data must be a string or a buffer")}(e),this._finalized)throw new Error("Digest already called");r.isBuffer(e)||(e=r.from(e,t));for(var n=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var a=this._blockOffset;a<this._blockSize;)n[a++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)n[this._blockOffset++]=e[i++];for(var o=0,s=8*e.length;s>0;++o)this._length[o]+=s,(s=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*s);return this},a.prototype._update=function(){throw new Error("_update is not implemented")},a.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},a.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=a},function(e,t,n){var r=n(1528),i=r.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=o),o.prototype=Object.create(i.prototype),a(i,o),o.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";var r=n(1529),i=n(1530),a="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50;var o=2147483647;function s(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,n)}function l(e,t,n){if("string"===typeof e)return function(e,t){if("string"===typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|g(e,t),r=s(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(V(e,Uint8Array)){var t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(V(e,ArrayBuffer)||e&&V(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(V(e,SharedArrayBuffer)||e&&V(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);var i=function(e){if(c.isBuffer(e)){var t=0|p(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!==typeof e.length||W(e.length)?s(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),s(e<0?0:0|p(e))}function h(e){for(var t=e.length<0?0:0|p(e.length),n=s(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function p(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||V(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(i)return r?-1:j(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return N(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),W(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:_(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):_(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function _(e,t,n,r,i){var a,o=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,c/=2,n/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1;for(a=n;a<s;a++)if(l(e,a)===l(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===c)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(n+c>s&&(n=s-c),a=n;a>=0;a--){for(var d=!0,h=0;h<c;h++)if(l(e,a+h)!==l(t,h)){d=!1;break}if(d)return a}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(W(s))return o;e[n+o]=s}return o}function w(e,t,n,r){return B(j(t,e.length-n),e,n,r)}function S(e,t,n,r){return B(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return B(U(t),e,n,r)}function I(e,t,n,r){return B(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,s,c,l=e[i],u=null,d=l>239?4:l>223?3:l>191?2:1;if(i+d<=n)switch(d){case 1:l<128&&(u=l);break;case 2:128===(192&(a=e[i+1]))&&(c=(31&l)<<6|63&a)>127&&(u=c);break;case 3:a=e[i+1],o=e[i+2],128===(192&a)&&128===(192&o)&&(c=(15&l)<<12|(63&a)<<6|63&o)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128===(192&a)&&128===(192&o)&&128===(192&s)&&(c=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?s(e):void 0!==t?"string"===typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(V(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),V(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(V(a,Uint8Array))i+a.length>r.length?c.from(a).copy(r,i):Uint8Array.prototype.set.call(r,a,i);else{if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i)}i+=a.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},c.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?O(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},a&&(c.prototype[a]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,i){if(V(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),l=this.slice(r,i),u=e.slice(t,n),d=0;d<s;++d)if(l[d]!==u[d]){a=l[d],o=u[d];break}return a<o?-1:o<a?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return S(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function N(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function M(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=z[e[a]];return i}function D(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length-1;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function R(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,i,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function k(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function x(e,t,n,r,a){return t=+t,n>>>=0,a||k(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,a){return t=+t,n>>>=0,a||k(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},c.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o|0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o|0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeFloatLE=function(e,t,n){return x(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return x(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},c.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=c.isBuffer(e)?e:c.from(e,r),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var P=/[^+/0-9A-Za-z-_]/g;function j(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function U(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(P,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function B(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function V(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function W(e){return e!==e}var z=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),o=r[0],s=r[1],l=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),u=0,d=s>0?o-4:o;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,l[u++]=255&t),1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=16383,s=0,c=n-i;s<c;s+=o)a.push(l(e,s,s+o>c?c:s+o));return 1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),a.join("")};for(var r=[],i=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,a,o=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,c=(1<<s)-1,l=c>>1,u=-7,d=n?i-1:0,h=n?-1:1,f=e[t+d];for(d+=h,a=f&(1<<-u)-1,f>>=-u,u+=s;u>0;a=256*a+e[t+d],d+=h,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=256*o+e[t+d],d+=h,u-=8);if(0===a)a=1-l;else{if(a===c)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),a-=l}return(f?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,c,l=8*a-i-1,u=(1<<l)-1,d=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:a-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+d>=1?h/c:h*Math.pow(2,1-d))*c>=2&&(o++,c/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*c-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[n+f]=255&s,f+=p,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[n+f]=255&o,f+=p,o/=256,l-=8);e[n+f-p]|=128*g}},function(e,t,n){(t=e.exports=n(1532)).Stream=t,t.Readable=t,t.Writable=n(1542),t.Duplex=n(1541),t.Transform=n(1549),t.PassThrough=n(1550),t.finished=n(1547),t.pipeline=n(1551)},function(e,t,n){"use strict";(function(t){var r;e.exports=I,I.ReadableState=E,n(1533).EventEmitter;var i,a=function(e,t){return e.listeners(t).length},o=n(1534),s=n(1528).Buffer,c=("undefined"!==typeof t?t:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){},l=n(1535);i=l&&l.debuglog?l.debuglog("stream"):function(){};var u,d,h,f=n(1536),p=n(1538),g=n(1539).getHighWaterMark,m=n(1540).codes,v=m.ERR_INVALID_ARG_TYPE,y=m.ERR_STREAM_PUSH_AFTER_EOF,_=m.ERR_METHOD_NOT_IMPLEMENTED,b=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(1525)(I,o);var w=p.errorOrDestroy,S=["error","close","destroy","pause","resume"];function E(e,t,i){r=r||n(1541),e=e||{},"boolean"!==typeof i&&(i=t instanceof r),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",i),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(u||(u=n(1544).StringDecoder),this.decoder=new u(e.encoding),this.encoding=e.encoding)}function I(e){if(r=r||n(1541),!(this instanceof I))return new I(e);var t=this instanceof r;this._readableState=new E(e,this,t),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function C(e,t,n,r,a){i("readableAddChunk",t);var o,l=e._readableState;if(null===t)l.reading=!1,function(e,t){if(i("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?N(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,M(e)))}}(e,l);else if(a||(o=function(e,t){var n,r;return r=t,s.isBuffer(r)||r instanceof c||"string"===typeof t||void 0===t||e.objectMode||(n=new v("chunk",["string","Buffer","Uint8Array"],t)),n}(l,t)),o)w(e,o);else if(l.objectMode||t&&t.length>0)if("string"===typeof t||l.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),r)l.endEmitted?w(e,new b):O(e,l,t,!0);else if(l.ended)w(e,new y);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!n?(t=l.decoder.write(t),l.objectMode||0!==t.length?O(e,l,t,!1):D(e,l)):O(e,l,t,!1)}else r||(l.reading=!1,D(e,l));return!l.ended&&(l.length<l.highWaterMark||0===l.length)}function O(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&N(e)),D(e,t)}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),I.prototype.destroy=p.destroy,I.prototype._undestroy=p.undestroy,I.prototype._destroy=function(e,t){t(e)},I.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),n=!0),C(this,e,t,!1,n)},I.prototype.unshift=function(e){return C(this,e,null,!0,!1)},I.prototype.isPaused=function(){return!1===this._readableState.flowing},I.prototype.setEncoding=function(e){u||(u=n(1544).StringDecoder);var t=new u(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var T=1073741824;function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function N(e){var t=e._readableState;i("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(i("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(M,e))}function M(e){var t=e._readableState;i("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,F(e)}function D(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(R,e,t))}function R(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(i("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function L(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function k(e){i("readable nexttick read 0"),e.read(0)}function x(e,t){i("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),F(e),t.flowing&&!t.reading&&e.read(0)}function F(e){var t=e._readableState;for(i("flow",t.flowing);t.flowing&&null!==e.read(););}function P(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function j(e){var t=e._readableState;i("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(U,t,e))}function U(e,t){if(i("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function B(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}I.prototype.read=function(e){i("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return i("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?j(this):N(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&j(this),null;var r,a=t.needReadable;return i("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&i("length less than watermark",a=!0),t.ended||t.reading?i("reading or ended",a=!1):a&&(i("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(n,t))),null===(r=e>0?P(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&j(this)),null!==r&&this.emit("data",r),r},I.prototype._read=function(e){w(this,new _("_read()"))},I.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,i("pipe count=%d opts=%j",r.pipesCount,t);var o=t&&!1===t.end||e===process.stdout||e===process.stderr?p:s;function s(){i("onend"),e.end()}r.endEmitted?process.nextTick(o):n.once("end",o),e.on("unpipe",(function t(a,o){i("onunpipe"),a===n&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,i("cleanup"),e.removeListener("close",h),e.removeListener("finish",f),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",t),n.removeListener("end",s),n.removeListener("end",p),n.removeListener("data",u),l=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;i("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,F(e))}}(n);e.on("drain",c);var l=!1;function u(t){i("ondata");var a=e.write(t);i("dest.write",a),!1===a&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==B(r.pipes,e))&&!l&&(i("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function d(t){i("onerror",t),p(),e.removeListener("error",d),0===a(e,"error")&&w(e,t)}function h(){e.removeListener("finish",f),p()}function f(){i("onfinish"),e.removeListener("close",h),p()}function p(){i("unpipe"),n.unpipe(e)}return n.on("data",u),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",d),e.once("close",h),e.once("finish",f),e.emit("pipe",n),r.flowing||(i("pipe resume"),n.resume()),e},I.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=B(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},I.prototype.on=function(e,t){var n=o.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,i("on readable",r.length,r.reading),r.length?N(this):r.reading||process.nextTick(k,this))),n},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(e,t){var n=o.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(L,this),n},I.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(L,this),t},I.prototype.resume=function(){var e=this._readableState;return e.flowing||(i("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(x,e,t))}(this,e)),e.paused=!1,this},I.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},I.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var a in e.on("end",(function(){if(i("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(a){i("wrapped data"),n.decoder&&(a=n.decoder.write(a)),(!n.objectMode||null!==a&&void 0!==a)&&(n.objectMode||a&&a.length)&&(t.push(a)||(r=!0,e.pause()))})),e)void 0===this[a]&&"function"===typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var o=0;o<S.length;o++)e.on(S[o],this.emit.bind(this,S[o]));return this._read=function(t){i("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"===typeof Symbol&&(I.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=n(1546)),d(this)}),Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(I.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(I.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),I._fromList=P,Object.defineProperty(I.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(I.from=function(e,t){return void 0===h&&(h=n(1548)),h(I,e,t)})}).call(this,n(843))},function(e,t,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,a=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,a),r(n)}function a(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}v(e,t,a,{once:!0}),"error"!==t&&function(e,t){"function"===typeof e.on&&v(e,"error",t,{once:!0})}(e,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var i,a,o,s;if(l(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=u(e))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,s=c,console&&console.warn&&console.warn(s)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=h.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):m(i,i.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(a){r.once&&e.removeEventListener(t,i),n(a)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var c=i[e];if(void 0===c)return!1;if("function"===typeof c)a(c,this,t);else{var l=c.length,u=m(c,l);for(n=0;n<l;++n)a(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){return l(t),this.on(e,f(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,f(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,a,o;if(l(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},s.prototype.listenerCount=g,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){e.exports=n(1533).EventEmitter},function(e,t){},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function s(e){var t=function(e){if("object"!==typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===typeof t?t:String(t)}var c=n(1528).Buffer,l=n(1537).inspect,u=l&&l.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n;return t=e,(n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);for(var t,n,r,i=c.allocUnsafe(e>>>0),a=this.head,o=0;a;)t=a.data,n=i,r=o,c.prototype.copy.call(t,n,r),o+=a.data.length,a=a.next;return i}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,a=e>i.length?i.length:e;if(a===i.length?r+=i:r+=i.slice(0,e),0===(e-=a)){a===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(a));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,a=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,a),0===(e-=a)){a===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(a));break}++r}return this.length-=r,t}},{key:u,value:function(e,t){return l(this,i(i({},t),{},{depth:0,customInspect:!1}))}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},function(e,t){},function(e,t,n){"use strict";function r(e,t){a(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(a,this,e)):process.nextTick(a,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?n._writableState?n._writableState.errorEmitted?process.nextTick(i,n):(n._writableState.errorEmitted=!0,process.nextTick(r,n,e)):process.nextTick(r,n,e):t?(process.nextTick(i,n),t(e)):process.nextTick(i,n)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}},function(e,t,n){"use strict";var r=n(1540).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var a=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=a){if(!isFinite(a)||Math.floor(a)!==a||a<0)throw new r(i?n:"highWaterMark",a);return Math.floor(a)}return e.objectMode?16:16384}}},function(e,t,n){"use strict";var r={};function i(e,t,n){n||(n=Error);var i=function(e){var n,r;function i(n,r,i){return e.call(this,function(e,n,r){return"string"===typeof t?t:t(e,n,r)}(n,r,i))||this}return r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function a(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,i,o,s,c;if("string"===typeof t&&(i="not ",t.substr(0,4)===i)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-9,n)===t}(e," argument"))o="The ".concat(e," ").concat(r," ").concat(a(t,"type"));else{var l=("number"!==typeof c&&(c=0),c+1>(s=e).length||-1===s.indexOf(".",c)?"argument":"property");o='The "'.concat(e,'" ').concat(l," ").concat(r," ").concat(a(t,"type"))}return o+". Received type ".concat(typeof n)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=r},function(e,t,n){"use strict";var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=l;var i=n(1532),a=n(1542);n(1525)(l,i);for(var o=r(a.prototype),s=0;s<o.length;s++){var c=o[s];l.prototype[c]||(l.prototype[c]=a.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);i.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||process.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},function(e,t,n){"use strict";(function(t){function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t){var n=e.entry;for(e.entry=null;n;){var r=n.callback;t.pendingcb--,r(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=I,I.WritableState=E;var a,o={deprecate:n(1543)},s=n(1534),c=n(1528).Buffer,l=("undefined"!==typeof t?t:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){},u=n(1538),d=n(1539).getHighWaterMark,h=n(1540).codes,f=h.ERR_INVALID_ARG_TYPE,p=h.ERR_METHOD_NOT_IMPLEMENTED,g=h.ERR_MULTIPLE_CALLBACK,m=h.ERR_STREAM_CANNOT_PIPE,v=h.ERR_STREAM_DESTROYED,y=h.ERR_STREAM_NULL_VALUES,_=h.ERR_STREAM_WRITE_AFTER_END,b=h.ERR_UNKNOWN_ENCODING,w=u.errorOrDestroy;function S(){}function E(e,t,a){i=i||n(1541),e=e||{},"boolean"!==typeof a&&(a=t instanceof i),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!==typeof i)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(process.nextTick(i,r),process.nextTick(M,e,t),e._writableState.errorEmitted=!0,w(e,r)):(i(r),e._writableState.errorEmitted=!0,w(e,r),M(e,t))}(e,n,r,t,i);else{var a=A(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||T(e,n),r?process.nextTick(O,e,n,a,i):O(e,n,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function I(e){var t=this instanceof(i=i||n(1541));if(!t&&!a.call(I,this))return new I(e);this._writableState=new E(e,this,t),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),s.call(this)}function C(e,t,n,r,i,a,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):n?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function O(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),M(e,t)}function T(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,a=new Array(i),o=t.corkedRequestsFree;o.entry=n;for(var s=0,c=!0;n;)a[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;a.allBuffers=c,C(e,t,!0,t.length,a,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,u=n.encoding,d=n.callback;if(C(e,t,!1,t.objectMode?1:l.length,l,u,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function A(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function N(e,t){e._final((function(n){t.pendingcb--,n&&w(e,n),t.prefinished=!0,e.emit("prefinish"),M(e,t)}))}function M(e,t){var n=A(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(N,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}n(1525)(I,s),E.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(E.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(e){return!!a.call(this,e)||this===I&&e&&e._writableState instanceof E}})):a=function(e){return e instanceof this},I.prototype.pipe=function(){w(this,new m)},I.prototype.write=function(e,t,n){var r,i=this._writableState,a=!1,o=!i.objectMode&&(r=e,c.isBuffer(r)||r instanceof l);return o&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"===typeof t&&(n=t,t=null),o?t="buffer":t||(t=i.defaultEncoding),"function"!==typeof n&&(n=S),i.ending?function(e,t){var n=new _;w(e,n),process.nextTick(t,n)}(this,n):(o||function(e,t,n,r){var i;return null===n?i=new y:"string"===typeof n||t.objectMode||(i=new f("chunk",["string","Buffer"],n)),!i||(w(e,i),process.nextTick(r,i),!1)}(this,i,e,n))&&(i.pendingcb++,a=function(e,t,n,r,i,a){if(!n){var o=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=c.from(t,n)),t}(t,r,i);r!==o&&(n=!0,i="buffer",r=o)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:a,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else C(e,t,!1,s,r,i,a);return l}(this,i,o,e,t,n)),a},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||T(this,e))},I.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new b(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),I.prototype._write=function(e,t,n){n(new p("_write()"))},I.prototype._writev=null,I.prototype.end=function(e,t,n){var r=this._writableState;return"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,M(e,t),n&&(t.finished?process.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),I.prototype.destroy=u.destroy,I.prototype._undestroy=u.undestroy,I.prototype._destroy=function(e,t){t(e)}}).call(this,n(843))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(r){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(843))},function(e,t,n){"use strict";var r=n(1545).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=h,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},a.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=o(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=o(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=o(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){var r=n(1528),i=r.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=o),a(i,o),o.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";var r;function i(e,t,n){return(t=function(e){var t=function(e){if("object"!==typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(1547),o=Symbol("lastResolve"),s=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),u=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function f(e,t){return{value:e,done:t}}function p(e){var t=e[o];if(null!==t){var n=e[h].read();null!==n&&(e[u]=null,e[o]=null,e[s]=null,t(f(n,!1)))}}function g(e){process.nextTick(p,e)}var m=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((i(r={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(f(void 0,!0));if(this[h].destroyed)return new Promise((function(t,n){process.nextTick((function(){e[c]?n(e[c]):t(f(void 0,!0))}))}));var n,r=this[u];if(r)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[l]?n(f(void 0,!0)):t[d](n,r)}),r)}}(r,this));else{var i=this[h].read();if(null!==i)return Promise.resolve(f(i,!1));n=new Promise(this[d])}return this[u]=n,n}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[h].destroy(null,(function(e){e?n(e):t(f(void 0,!0))}))}))})),r),m);e.exports=function(e){var t,n=Object.create(v,(i(t={},h,{value:e,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,l,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var r=n[h].read();r?(n[u]=null,n[o]=null,n[s]=null,e(f(r,!1))):(n[o]=e,n[s]=t)},writable:!0}),t));return n[u]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[s];return null!==t&&(n[u]=null,n[o]=null,n[s]=null,t(e)),void(n[c]=e)}var r=n[o];null!==r&&(n[u]=null,n[o]=null,n[s]=null,r(f(void 0,!0))),n[l]=!0})),e.on("readable",g.bind(null,n)),n}},function(e,t,n){"use strict";var r=n(1540).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,a){if("function"===typeof n)return e(t,null,n);n||(n={}),a=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(a||i);var o=n.readable||!1!==n.readable&&t.readable,s=n.writable||!1!==n.writable&&t.writable,c=function(){t.writable||u()},l=t._writableState&&t._writableState.finished,u=function(){s=!1,l=!0,o||a.call(t)},d=t._readableState&&t._readableState.endEmitted,h=function(){o=!1,d=!0,s||a.call(t)},f=function(e){a.call(t,e)},p=function(){var e;return o&&!d?(t._readableState&&t._readableState.ended||(e=new r),a.call(t,e)):s&&!l?(t._writableState&&t._writableState.ended||(e=new r),a.call(t,e)):void 0},g=function(){t.req.on("finish",u)};return function(e){return e.setHeader&&"function"===typeof e.abort}(t)?(t.on("complete",u),t.on("abort",p),t.req?g():t.on("request",g)):s&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",h),t.on("finish",u),!1!==n.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",u),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",u),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",u),t.removeListener("end",h),t.removeListener("error",f),t.removeListener("close",p)}}},function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,t,n){"use strict";e.exports=u;var r=n(1540).codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,a=r.ERR_MULTIPLE_CALLBACK,o=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,c=n(1541);function l(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new a);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);c.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,n){h(e,t,n)}))}function h(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new o;return e.push(null)}n(1525)(u,c),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,n){n(new i("_transform()"))},u.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t,n){"use strict";e.exports=i;var r=n(1549);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(1525)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";var r,i=n(1540).codes,a=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function c(e){e()}function l(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var u,d=function(e){return e.length?"function"!==typeof e[e.length-1]?s:e.pop():s}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new a("streams");var h=t.map((function(e,i){var a=i<t.length-1;return function(e,t,i,a){a=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(a);var s=!1;e.on("close",(function(){s=!0})),void 0===r&&(r=n(1547)),r(e,{readable:t,writable:i},(function(e){if(e)return a(e);s=!0,a()}));var c=!1;return function(t){if(!s&&!c)return c=!0,function(e){return e.setHeader&&"function"===typeof e.abort}(e)?e.abort():"function"===typeof e.destroy?e.destroy():void a(t||new o("pipe"))}}(e,a,i>0,(function(e){u||(u=e),e&&h.forEach(c),a||(h.forEach(c),d(u))}))}));return t.reduce(l)}},function(e,t){e.exports="/applications/iclouddrive/2520Project39/en-us/r$__81.png"},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){},,function(e,t,n){},,,,function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"BRAND",(function(){return Ya})),n.d(r,"DIRTY",(function(){return ki})),n.d(r,"EMPTY_PATH",(function(){return Ti})),n.d(r,"INVALID",(function(){return Li})),n.d(r,"NEVER",(function(){return Go})),n.d(r,"OK",(function(){return xi})),n.d(r,"ParseStatus",(function(){return Ri})),n.d(r,"Schema",(function(){return $i})),n.d(r,"ZodAny",(function(){return Sa})),n.d(r,"ZodArray",(function(){return Oa})),n.d(r,"ZodBigInt",(function(){return ma})),n.d(r,"ZodBoolean",(function(){return va})),n.d(r,"ZodBranded",(function(){return Xa})),n.d(r,"ZodCatch",(function(){return qa})),n.d(r,"ZodDate",(function(){return ya})),n.d(r,"ZodDefault",(function(){return Qa})),n.d(r,"ZodDiscriminatedUnion",(function(){return Da})),n.d(r,"ZodEffects",(function(){return Ga})),n.d(r,"ZodEnum",(function(){return Wa})),n.d(r,"ZodError",(function(){return wi})),n.d(r,"ZodFirstPartyTypeKind",(function(){return ro})),n.d(r,"ZodFunction",(function(){return ja})),n.d(r,"ZodIntersection",(function(){return La})),n.d(r,"ZodIssueCode",(function(){return _i})),n.d(r,"ZodLazy",(function(){return Ua})),n.d(r,"ZodLiteral",(function(){return Ba})),n.d(r,"ZodMap",(function(){return Fa})),n.d(r,"ZodNaN",(function(){return Za})),n.d(r,"ZodNativeEnum",(function(){return za})),n.d(r,"ZodNever",(function(){return Ia})),n.d(r,"ZodNull",(function(){return wa})),n.d(r,"ZodNullable",(function(){return Ka})),n.d(r,"ZodNumber",(function(){return ga})),n.d(r,"ZodObject",(function(){return Aa})),n.d(r,"ZodOptional",(function(){return $a})),n.d(r,"ZodParsedType",(function(){return vi})),n.d(r,"ZodPipeline",(function(){return Ja})),n.d(r,"ZodPromise",(function(){return Ha})),n.d(r,"ZodReadonly",(function(){return eo})),n.d(r,"ZodRecord",(function(){return xa})),n.d(r,"ZodSchema",(function(){return $i})),n.d(r,"ZodSet",(function(){return Pa})),n.d(r,"ZodString",(function(){return fa})),n.d(r,"ZodSymbol",(function(){return _a})),n.d(r,"ZodTransformer",(function(){return Ga})),n.d(r,"ZodTuple",(function(){return ka})),n.d(r,"ZodType",(function(){return $i})),n.d(r,"ZodUndefined",(function(){return ba})),n.d(r,"ZodUnion",(function(){return Na})),n.d(r,"ZodUnknown",(function(){return Ea})),n.d(r,"ZodVoid",(function(){return Ca})),n.d(r,"addIssueToContext",(function(){return Ai})),n.d(r,"any",(function(){return mo})),n.d(r,"array",(function(){return bo})),n.d(r,"bigint",(function(){return lo})),n.d(r,"boolean",(function(){return uo})),n.d(r,"coerce",(function(){return Ho})),n.d(r,"custom",(function(){return no})),n.d(r,"date",(function(){return ho})),n.d(r,"datetimeRegex",(function(){return ua})),n.d(r,"default",(function(){return $o})),n.d(r,"defaultErrorMap",(function(){return Si})),n.d(r,"discriminatedUnion",(function(){return Io})),n.d(r,"effect",(function(){return Fo})),n.d(r,"enum",(function(){return Lo})),n.d(r,"function",(function(){return Mo})),n.d(r,"getErrorMap",(function(){return Ci})),n.d(r,"getParsedType",(function(){return yi})),n.d(r,"instanceof",(function(){return ao})),n.d(r,"intersection",(function(){return Co})),n.d(r,"isAborted",(function(){return Fi})),n.d(r,"isAsync",(function(){return Ui})),n.d(r,"isDirty",(function(){return Pi})),n.d(r,"isValid",(function(){return ji})),n.d(r,"late",(function(){return io})),n.d(r,"lazy",(function(){return Do})),n.d(r,"literal",(function(){return Ro})),n.d(r,"makeIssue",(function(){return Oi})),n.d(r,"map",(function(){return Ao})),n.d(r,"nan",(function(){return co})),n.d(r,"nativeEnum",(function(){return ko})),n.d(r,"never",(function(){return yo})),n.d(r,"null",(function(){return go})),n.d(r,"nullable",(function(){return jo})),n.d(r,"number",(function(){return so})),n.d(r,"object",(function(){return wo})),n.d(r,"objectUtil",(function(){return ai})),n.d(r,"oboolean",(function(){return zo})),n.d(r,"onumber",(function(){return Wo})),n.d(r,"optional",(function(){return Po})),n.d(r,"ostring",(function(){return Vo})),n.d(r,"pipeline",(function(){return Bo})),n.d(r,"preprocess",(function(){return Uo})),n.d(r,"promise",(function(){return xo})),n.d(r,"quotelessJson",(function(){return bi})),n.d(r,"record",(function(){return To})),n.d(r,"set",(function(){return No})),n.d(r,"setErrorMap",(function(){return Ii})),n.d(r,"strictObject",(function(){return So})),n.d(r,"string",(function(){return oo})),n.d(r,"symbol",(function(){return fo})),n.d(r,"transformer",(function(){return Fo})),n.d(r,"tuple",(function(){return Oo})),n.d(r,"undefined",(function(){return po})),n.d(r,"union",(function(){return Eo})),n.d(r,"unknown",(function(){return vo})),n.d(r,"util",(function(){return ii})),n.d(r,"void",(function(){return _o})),n.d(r,"z",(function(){return $o}));var i={};n.r(i),n.d(i,"CloudOSApplicationStateEnum",(function(){return iN})),n.d(i,"Application",(function(){return uN})),n.d(i,"BackwardCompatibleCK",(function(){return oA})),n.d(i,"BackwardCompatibleCloudOS",(function(){return sA})),n.d(i,"BackwardCompatibleWindowApplication",(function(){return aA})),n.d(i,"ApplicationLauncher",(function(){return hN})),n.d(i,"BaseApplicationLauncher",(function(){return dN})),n.d(i,"WindowApplicationLauncher",(function(){return DN})),n.d(i,"CloudOSServiceProtocol",(function(){return cA})),n.d(i,"ComposeEmailController",(function(){return RN})),n.d(i,"ComposeService",(function(){return cD})),n.d(i,"RPCChannelStateEnum",(function(){return qT})),n.d(i,"RPCBaseChannel",(function(){return tA})),n.d(i,"RPCBaseInputChannel",(function(){return TA})),n.d(i,"RPCBaseOutputChannel",(function(){return nA})),n.d(i,"RPCInputChannel",(function(){return NA})),n.d(i,"RPCMessageEvent",(function(){return AA})),n.d(i,"RPCOutputChannel",(function(){return rA})),n.d(i,"AdditionalRequestParams",(function(){return ON})),n.d(i,"ApplicationWindowProxy",(function(){return fN})),n.d(i,"AuthorizationBagProviderProtocol",(function(){return lD})),n.d(i,"CloudOSHost",(function(){return wN})),n.d(i,"KeyValueService",(function(){return MN})),n.d(i,"KeyValueServiceProtocol",(function(){return uD})),n.d(i,"MockAuthorizationBagProvider",(function(){return dD})),n.d(i,"MockRegionFormatProvider",(function(){return CN})),n.d(i,"MockSetupService",(function(){return hD})),n.d(i,"RegionFormatProviderProtocol",(function(){return fD})),n.d(i,"RuntimeSetupService",(function(){return TN})),n.d(i,"SetupServiceProtocol",(function(){return pD})),n.d(i,"AuthBag",(function(){return bA})),n.d(i,"Environment",(function(){return CA})),n.d(i,"QuotaInfo",(function(){return wA})),n.d(i,"ServiceInfo",(function(){return lA})),n.d(i,"AppleIdEntryType",(function(){return yA})),n.d(i,"User",(function(){return _A})),n.d(i,"ContentVendorURL",(function(){return mD})),n.d(i,"Request",(function(){return bD})),n.d(i,"RequestReportingSupport",(function(){return yD})),n.d(i,"RequestSupport",(function(){return _D})),n.d(i,"ShardedURLSupport",(function(){return gD})),n.d(i,"URL",(function(){return vD})),n.d(i,"UploadRequest",(function(){return ED})),n.d(i,"EnumGroup",(function(){return jT})),n.d(i,"createEnumGroup",(function(){return UT})),n.d(i,"EnumGroupSupport",(function(){return NT})),n.d(i,"EnumItem",(function(){return kT})),n.d(i,"createEnumMainState",(function(){return FT})),n.d(i,"EXIT_NON_FATAL",(function(){return xA})),n.d(i,"EXIT_FATAL_ERROR",(function(){return FA})),n.d(i,"EXIT_STARTUP_ERROR",(function(){return PA})),n.d(i,"EXIT_PCS_MISSING",(function(){return jA})),n.d(i,"EXIT_PCS_INVALID",(function(){return UA})),n.d(i,"ApplicationDriver",(function(){return BA})),n.d(i,"ApplicationDriverStateEnum",(function(){return VT})),n.d(i,"BaseApplicationDriver",(function(){return KT})),n.d(i,"TraceSupport",(function(){return AT})),n.d(i,"AccountMenuPopoverViewController",(function(){return rR})),n.d(i,"AccountMenuViewController",(function(){return nR})),n.d(i,"LogoutAlertViewController",(function(){return vN})),n.d(i,"AccountMenuItemView",(function(){return eR})),n.d(i,"AccountMenu",(function(){return tR})),n.d(i,"AppNameView",(function(){return bR})),n.d(i,"AppSwitcherButton",(function(){return yR})),n.d(i,"ChevronView",(function(){return sR})),n.d(i,"AccountNameButton",(function(){return wR})),n.d(i,"HelpButton",(function(){return ER})),n.d(i,"AccountView",(function(){return IR})),n.d(i,"CKRequest",(function(){return MR})),n.d(i,"customCKRequest",(function(){return NR})),n.d(i,"FatalExceptionHandler",(function(){return GA})),n.d(i,"region",(function(){return SA})),n.d(i,"Storage",(function(){return FR})),n.d(i,"addRootDomainQueryParameterHackAsAppropriate",(function(){return PR})),n.d(i,"displayNameFor",(function(){return uA})),n.d(i,"getUrlForServiceName",(function(){return UR})),n.d(i,"intToHexString",(function(){return DT})),n.d(i,"matchesFormatOfAppleId",(function(){return hA})),n.d(i,"matchesFormatOfEmailAddress",(function(){return fA})),n.d(i,"matchesFormatOfPhoneNumberAppleId",(function(){return pA})),n.d(i,"matchesFormatOfPhoneNumber",(function(){return gA})),n.d(i,"normalizePhoneNumber",(function(){return mA})),n.d(i,"reloadWithReason",(function(){return VR})),n.d(i,"WindowApplication",(function(){return WR})),n.d(i,"globals",(function(){return iA})),n.d(i,"SizeClass",(function(){return eN}));var a=function(){function e(e,t,n,r,i){this.name=e,this.spec=t,this.raw=n,this.getEnv=r,this.fallbackFor=i,this.nullValue=t.type()}return Object.defineProperty(e.prototype,"configurable",{get:function(){var e=this.spec.configurable;return"object"===typeof e&&(e=e[this.getEnv()]),null!==e&&void 0!==e&&e},enumerable:!1,configurable:!0}),e.prototype.valueOf=function(){return this.value},e.prototype.toString=function(){return String(this.value)},Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype.sanityCheck=function(e){var t,n,r=this.spec,i=r.oneOf,a=r.matches,o=r.type;if(n=o===Boolean?"false"!==e&&"0"!==e&&!!e:o(e),i){if(!0===e)return null!==(t=i[1])&&void 0!==t?t:i[0];if(i.includes(n))return n}else if(("number"!==typeof n||isFinite(n))&&(!a||a.test(n+"")))return n},e.prototype.getValue=function(){var e,t=this.raw;if(this.configurable&&void 0!==t){var n=this.sanityCheck(t);if(void 0!==n)return n}var r=null===(e=this.fallbackFor)||void 0===e?void 0:e.call(this,this.name);return void 0!==r&&(r=this.sanityCheck(r)),null!==r&&void 0!==r?r:this.defaultValue},Object.defineProperty(e.prototype,"defaultValue",{get:function(){var e=this.spec.value;"object"===typeof e&&(e=e[this.getEnv()]);var t=this.nullValue;if(typeof e===typeof t)return e;var n=this.spec.oneOf;return n?n[0]:t},enumerable:!1,configurable:!0}),e}();function o(e){void 0===e&&(e=null!==top&&void 0!==top?top:window);var t=function(e){try{return e.location.search}catch(t){return""}}(e),n=function(e){try{return e.location.hash.replace(/^#/,"")}catch(t){return""}}(e);return n?t+"&"+n:t}function s(e){var t=e.indexOf("=");return-1===t?[decodeURIComponent(e),!0]:[decodeURIComponent(e.slice(0,t)),decodeURIComponent(e.slice(1+t))]}function c(e){return void 0===e&&(e=o()),Object.fromEntries((void 0===(t=e)&&(t=o()),(t?t.replace(/^[?&]+/,"").split("&"):[]).map(s)));var t}var l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},l.apply(this,arguments)},u=function(){function e(e,t,n,r,i){var s=this;void 0===t&&(t=o),void 0===i&&(i=c),this.specs=e,this.getInput=t,this.parseInput=i;var l=i(this._lastInput=t()),u=Object.entries(e).map((function(e){var t=e[0],i=e[1];return[t,new a(t,i,l[t],n,r)]})),d=this.flags=Object.fromEntries(u);this.values=Object.defineProperties({},Object.fromEntries(u.map((function(e){var t=e[0];return[t,{enumerable:!0,get:function(){return s.updateFlags(),d[t].getValue()}}]}))))}return Object.defineProperty(e.prototype,"lastInput",{get:function(){return this._lastInput},enumerable:!1,configurable:!0}),e.prototype.updateFlags=function(e){if(void 0===e&&(e=this.getInput()),e===this.lastInput)return!1;var t=this.parseInput(this._lastInput=e);for(var n in this.flags)this.flags[n].raw=t[n];return!0},e.prototype.computeFlags=function(e){var t=this;return void 0===e&&(e=Object.keys(this.flags)),e.reduce((function(e,n){var r;return l(l({},e),((r={})[n]=t.values[n],r))}),{})},e.prototype.isOverridden=function(e){return this.values[e]!==this.flags[e].defaultValue},e}(),d=n(1304),h=[d.a.LOG_LEVEL_DEBUG,d.a.LOG_LEVEL_INFO,d.a.LOG_LEVEL_WARN,d.a.LOG_LEVEL_ERROR,d.a.LOG_LEVEL_GROUP,d.a.LOG_LEVEL_NONE],f=[[/beta\.icloud\./i,"beta"],[/carry\.icloud\./i,"carry"],[/future\.icloud\./i,"future"]];function p(){return e=location.hostname,(f.find((function(t){return t[0].test(e)}))||[void 0,"prod"])[1];var e}var g=new u({env:{configurable:!0,type:String,oneOf:["prod","carry","beta","future"],value:p()},cwlog:{configurable:!0,type:String,oneOf:h,value:"warn"},flags:{configurable:!1,type:Boolean},overquota:{configurable:!1,type:Boolean},tab:{configurable:!1,type:String,oneOf:["recents","browse"],value:"recents"}},o,p),m=g.values,v=(g.isOverridden.bind(g),n(1576)),y=n(1587),_=n(1595),b=n(1387),w=n(1419),S=n(1315);function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(I())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&C(i,n.prototype),i}(e,arguments,O(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),C(n,e)},E(e)}function I(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(I=function(){return!!e})()}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var T=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Invalid state transition.  Expected state: "+t+", actual: "+n)||this).name="InvalidStateTransitionError",r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,C(t,n),r}(E(Error)),A=n(1596),N=n(1327),M=n(1411),D="(unknown function)",R="(anonymous function)",L=A.a.sharedInstance;function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=N.a(e)?M.a(e):{},r=x((new Error).stack,t);return n.stack=r,n.calleeStack=r,n}function x(e){var t;if(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(L.isChrome||L.isEdge||L.isIE)&&n++;var r=e.split("\n");n<r.length&&(t=r.splice(n).join("\n"))}return t}function F(e){var t=x(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1);if(t){var n=t.split("\n")[0].trim();if(L.isChrome)return function(e){var t=e.match(/^at\s+(.+)\s+\(/);return Array.isArray(t)&&t[1]||R}(n);if(L.isEdge||L.isIE)return function(e){var t=e.match(/^at\s+(.+)\s+\(/);return Array.isArray(t)&&t[1]||D}(n);if(L.isSafari)return function(e){var t=e.match(/^(.+)@/);return Array.isArray(t)&&t[1]||R}(n);if(L.isFirefox)return function(e){var t=e.match(/^(.+)@/);return Array.isArray(t)&&t[1]||R}(n)}return D}var P=n(1332),j=n(1328);function U(e,t){var n=!1;return P.a(e,j.a)&&P.a(t,S.a)&&(n=e.group===t),n}function B(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e||!t||!Array.isArray(r))return!1;for(var a of[t,...r])if(!U(a,e))return!1;return!!r.find((function(e){return e===t}))}function V(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!B(e,t,...r)){var a=new T(r,t),o=function(e){for(var t=new Array,n=2;n<7;n++)t.push(F(e.stack,n));return t}(a);throw a.message=a.message+" => "+o.join(","),a}}var W=S.b("ProcessState",{NONE:"NONE",LOADING:"LOADING",LOADED:"LOADED",RUNNING:"RUNNING",UNLOADING:"UNLOADING",UNLOADED:"UNLOADED",TERMINATED:"TERMINATED"});function z(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return B(W,e,...n)}function H(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return V(W,e,...n)}var G=n(1334),$=n(1594),K={mixinDependencies:[$.a],name:$.b.define(),version:$.b.define()},Q={mixinDependencies:[K],name:"MessagingToUIChildProtocol",version:.1,didBecomeActive:G.a.define(),willResignActive:G.a.define(),willEnterForeground:G.a.define(),didEnterBackground:G.a.define(),didReceiveSyntheticBrowserEvent:G.a.define()},q={mixinDependencies:[K],name:"MessagingFromUIChildProtocol",version:.2,isReadyToBeDisplayed:G.a.define()},Z=n(1326),Y=n(1347),X=n(1346),J=n(1329);function ee(e,t){return re(e,t)||function(e,t){return Y.a(e)&&re(e.constructor,t)&&ne(e,t)}(e,t)||ie(e,t)}function te(e){if(null===(t=e)||"object"!==typeof t||!J.a(t.mixinDependencies))return null;var t,n=new Set;return ae(e,n),n}function ne(e,t){if("object"!==typeof e)return!1;var n=te(t);if(!n)return!1;for(var r of n)if(!Z.a(e[r]))return!1;return!0}function re(e,t){return X.a(e)&&e.kindOf(t)}function ie(e,t){var n=!1;if(e&&t){var r=e.mixinDependencies;if(r&&r.length>0)if(r.includes(t))n=!0;else for(var i=0,a=r.length;i<a&&!(n=ie(e,r[i]));i++);}return n}function ae(e,t){if(Object.entries(e).forEach((function(e){var n=e[0];(function(e){var t=e.constructor;return t&&"RequiredMethod"===t.__QUALIFIED_CLASS_NAME__})(e[1])&&t.add(n)})),e.mixinDependencies)for(var n=e.mixinDependencies,r=0,i=n.length;r<i;r++)ae(n[r],t)}var oe=n(1330),se=function(){function e(){}return e.every=function(e){Array.isArray(e)&&e.length&&e.every((function(e){return Object(P.a)(e,b.a)}))||b.a.reject("An array containing one or more promises is required.");var t=0,n=e.length,r=b.a.create(),i=new Array;return e.forEach((function(e,a){e.then((function(e){return i[a]=e})).catch((function(e){return i[a]=e})).finally((function(){return++t===n&&r.resolve(i)}))})),r},e}(),ce=n(1337);function le(e){if(!e)return null;var t=parseInt(e,10);return Number.isFinite(t)?t:null}var ue=n(1341),de=function(e){var t="";try{var n=e&&e.toJSON&&e.toJSON()||e;t=Object(ue.a)(n)?""+n:JSON.stringify(n)}catch(a){var r={};for(var i in e)r[i]=he(e,i);t=JSON.stringify(r)}return t};function he(e,t){var n=e[t];if(Object(ue.a)(n))return n;var r="";try{var i=n&&n.toJSON&&n.toJSON()||n;r=Object(ue.a)(i)?""+i:JSON.stringify(i)}catch(a){try{r=n+" (could not `JSON.stringify()`)"}catch(o){r="(cannot stringify value)"}}return r}function fe(e){if(!e)return null;var t=e.message,n=e.type,r=function(e){if(!e||!Object(ce.a)(e.stack))return null;var t=e.stack.trim().split("\n"),n=t.length;if(n>500){var r=n-500;t.splice(400,r,"\u2026 "+r+" lines truncated \u2026")}return t.join("\n")}(e),i=function(e){var t,n={lineNumber:null,columnNumber:null};if("object"!==typeof(t=e)||null===t||!("stack"in t)||"string"!==typeof t.stack)return n;var r=e.stack.split("\n")[1];if("string"!==typeof r)return n;var i=r.split(":"),a=le(i.pop());return{lineNumber:le(i.pop()),columnNumber:a}}(e);return{message:t,type:n,stack:r,lineNumber:i.lineNumber,columnNumber:i.columnNumber,context:de(e.context)}}var pe=Object(S.b)("MessagingResponseStatus",{NONE:"NONE",OK:"OK",DISCONNECTED:"DISCONNECTED",CANCELED:"CANCELED",BAD_REQUEST:"BAD_REQUEST",TIMEOUT:"TIMEOUT",ERROR:"ERROR",UNDEFINED_ERROR_TYPE:"UNDEFINED_ERROR_TYPE"});function ge(e){var t="function"===typeof Map?new Map:void 0;return ge=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(me())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&ve(i,n.prototype),i}(e,arguments,ye(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ve(n,e)},ge(e)}function me(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(me=function(){return!!e})()}function ve(e,t){return ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ve(e,t)}function ye(e){return ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ye(e)}var _e=function(e){var t,n;function r(){var t;return(t=e.apply(this,arguments)||this).name="MessagingError",t.isMessagingError=!0,t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,ve(t,n),r}(ge(Error));function be(e,t){return be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},be(e,t)}var we=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).name="MessagingArgumentError",n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,be(t,n),r}(_e),Se=oe.a.extend({status:y.c({type:pe,defaultValue:pe.NONE}),isOK:y.c({readOnly:!0,get:function(){return this.status===pe.OK}}),isDisconnected:y.c({type:Boolean,readOnly:!0,get:function(){return this.status===pe.DISCONNECTED}}),isCanceled:y.c({type:Boolean,readOnly:!0,get:function(){return this.status===pe.CANCELED}}),isTimeout:y.c({type:Boolean,readOnly:!0,get:function(){return this.status===pe.TIMEOUT}}),data:y.c(),error:y.c(),staticMembers:{createWithOptionalData:function(e){return Se.create({status:pe.OK,data:e})},createFromError:function(e){var t=fe(e);return t?(t.buildInfo=globalThis.__CW_BUILD_INFO,P.a(e,Error)||(t.message=JSON.stringify(e),t.stack=(new Error).stack)):t={message:"No error specified",stack:(new Error).stack},Se.create({status:Ee(e),error:t})},deserialize:function(e){if(!e)throw new we("[MessagingResponse] no serialized data to deserialize");var t=Se.create();t.status=pe.getItemForValue(e.status);var n=e.data;n&&(t.data=n);var r=e.error;return r&&(t.error=r),Ie(t),t},__QUALIFIED_CLASS_NAME__:"MessagingResponse"},serialize:function(){Ie(this);var e={status:this.status.value},t=this.data;t&&(e.data=t);var n=this.error;return n&&(e.error=n),e}});function Ee(e){var t=pe.ERROR;return P.a(e,Error)?e.isMessagingError&&"MessagingArgumentError"===e.name&&(t=pe.BAD_REQUEST):t=pe.UNDEFINED_ERROR_TYPE,t}function Ie(e){var t=e.status,n=e.error;if(t===pe.NONE)throw new _e("[MessagingResponse] status was never set");if(n&&(t===pe.OK||t===pe.NONE))throw new _e("[MessagingResponse] error can not be set if the status is OK or NONE")}var Ce,Oe,Te,Ae=n(1445),Ne=n(1318),Me=n(1345),De=n(1581),Re=n(1311),Le=n.n(Re),ke=n(1359),xe=n.n(ke),Fe=n(1389),Pe=n(1418),je=Re.createContext(void 0),Ue=n(1422),Be=n.n(Ue);n(1423),function(e){e[e.ESCAPE=0]="ESCAPE",e[e.MOUSE_UP=1]="MOUSE_UP"}(Ce||(Ce={})),function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT",e[e.IN_AND_OUT=2]="IN_AND_OUT",e[e.NONE=3]="NONE"}(Oe||(Oe={})),function(e){e.IN="in",e.OUT="out",e.NOT="not"}(Te||(Te={}));var Ve,We=function(e){var t=e.children,n=e.allowNesting,r=void 0!==n&&n,i=Re.useContext(ot);return Re.useRef(!!i).current&&!r?Re.createElement(Re.Fragment,null,t):Re.createElement(Je,null,t)},ze=We;function He(){return $e(at.Base)}function Ge(){return $e(at.Dismissible)}function $e(e){var t=Re.useContext(ot);st(t,e===at.Dismissible?"useShowPane":"useShowModalPane");var n=Re.useRef(e),r=Re.useState((function(){return it()}))[0],i=Re.useRef((function(e){t({type:Ve.HidePane,key:r,transitionOptions:e})})),a=Re.useCallback((function(e,a){o.current=void 0!==(null===a||void 0===a?void 0:a.unmountWithPresenter)?null===a||void 0===a?void 0:a.unmountWithPresenter:void 0!==(null===a||void 0===a?void 0:a.unmountWithParent)&&(null===a||void 0===a?void 0:a.unmountWithParent);var s=Object.assign({onRequestClose:function(){return i.current()}},a);t({type:Ve.ShowPane,key:r,paneType:(null===a||void 0===a?void 0:a.paneType)||n.current,pane:e,options:s})}),[t,r]),o=Re.useRef(!1);return Re.useLayoutEffect((function(){var e=i.current;return function(){!0===o.current&&e()}}),[t,r]),[a,i.current]}function Ke(e,t){return qe(e,(null===t||void 0===t?void 0:t.paneType)||at.Dismissible,t)}function Qe(e,t){return qe(e,(null===t||void 0===t?void 0:t.paneType)||at.Modal,t)}function qe(e,t,n){var r=Re.useContext(ot);st(r,nt(t));var i=Re.useState((function(){return it()}))[0],a=Re.useCallback((function(e){l({transitionOptions:e})}),[]),o=Re.useCallback((function(e){r({type:Ve.HidePane,transitionOptions:e,key:i})}),[r,i]),s=Re.useState(),c=s[0],l=s[1];Re.useLayoutEffect((function(){if(c){var a=Object.assign({},n);a.onRequestClose||(a.onRequestClose=function(){return o()}),r(Object.assign({},c,{type:Ve.ShowPane,pane:e,paneType:t,key:i,options:a})),l(void 0)}else r({type:Ve.UpdatePane,pane:e,key:i,options:n||{}})}),[n,r,e,t,i,o,c]);var u=void 0!==(null===n||void 0===n?void 0:n.unmountWithPresenter)?null===n||void 0===n?void 0:n.unmountWithPresenter:void 0===(null===n||void 0===n?void 0:n.unmountWithParent)||(null===n||void 0===n?void 0:n.unmountWithParent),d=Re.useRef(u);return Re.useLayoutEffect((function(){d.current=u}),[u]),Re.useLayoutEffect((function(){return function(){d.current&&r({type:Ve.HidePane,key:i})}}),[r,i]),[a,o]}!function(e){e.ShowPane="showpane",e.UpdatePane="updatepane",e.HidePane="hidepane",e.AnimatedIn="animatedin",e.AnimatedOut="animatedout"}(Ve||(Ve={}));var Ze=function(e,t){switch(t.type){case Ve.ShowPane:var n=t.pane,r=t.key,i=t.paneType,a=t.options,o=t.transitionOptions,s=Te.IN;a.animates!==Oe.NONE&&a.animates!==Oe.OUT&&!1!==(null===o||void 0===o?void 0:o.animate)||(s=Te.NOT);var c={pane:n,key:r,type:i,onRequestClose:a.onRequestClose,animates:Oe.IN_AND_OUT,animating:s};Xe(c,a);var l=[...e],u=l.findIndex((function(e){return e.key===r}));return-1!==u?l[u]=c:l.push(c),l;case Ve.UpdatePane:var d=t.key,h=t.pane,f=t.options;return Ye(e,d,(function(e){var t=Object.assign({},e,{pane:h});return Xe(t,f),t}));case Ve.HidePane:var p=t.key,g=t.transitionOptions,m=e.findIndex((function(e){return e.key===p}));if(-1===m)return e;var v=e[m],y=v.animates===Oe.IN_AND_OUT||v.animates===Oe.OUT,_=!g||g.animate;if(y&&_){var b=[...e];return b[m]=Object.assign({},v,{animating:Te.OUT}),b}var w=[...e];return w.splice(m,1),w;case Ve.AnimatedIn:return Ye(e,t.key,(function(e){return Object.assign({},e,{animating:Te.NOT})}));case Ve.AnimatedOut:var S=t.key;return e.filter((function(e){return e.key!==S}))}};function Ye(e,t,n){var r=e.findIndex((function(e){return e.key===t}));if(-1===r)return e;var i=e.slice();return i.splice(r,1,n(e[r])),i}function Xe(e,t){void 0!==t.animates&&(e.animates=t.animates),t.initialFocus&&(e.initialFocus=t.initialFocus),t.onClose&&(e.onClose=t.onClose),t.onRequestClose&&(e.onRequestClose=t.onRequestClose),e.dir=t.dir,e.classNameFromOptions=t.className,e.ariaClosePaneDescription=t.ariaClosePaneDescription,e.onKeyDownOption=t.onKeyDown,e.hasVisibleBackdropOption=t.__spi__hasVisibleBackdrop,e.hasMenuBehavior=t.__spi__hasMenuBehavior,e.appearance=t.appearance}var Je=function(e){var t=e.children,n=Re.useReducer(Ze,[]),r=n[0],i=n[1],a=Re.useRef(r);a.current=r;var o=Re.useState((function(){return function(e){(e.type!==Ve.UpdatePane||a.current.find((function(t){return t.key===e.key})))&&i(e)}})),s=o[0],c=Re.useRef(r);Re.useEffect((function(){c.current.forEach((function(e){e.onClose&&!r.find((function(t){return t.key===e.key}))&&e.onClose()})),c.current=r}),[r]);for(var l=r.length-1,u=-1,d=!1,h=l;h>=0;h--){var f=r[h];if(f.type===at.Modal||f.hasVisibleBackdropOption){u=h,f.animating===Te.OUT&&(d=!0);break}}for(var p=-1,g=u-1;g>=0;g--){var m=r[g];if(m.type===at.Modal||m.hasVisibleBackdropOption){p=g;break}}function v(e){if(l<0)return!1;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){for(var t=0;t<=l;t++)if(r[t].type!==at.Base)return!0}else for(var n=e+1;n<l;n++)if(r[n].type!==at.Base)return!0;return!1}function y(e){i({type:Ve.AnimatedIn,key:e})}function _(e){i({type:Ve.AnimatedOut,key:e})}var b=Re.useRef(null),w=r.length>0;return Re.useLayoutEffect((function(){var e,t,n="ui-pane-provider-has-open-panes",r="ui-pane-container-has-open-panes",i=null!==(t=null===(e=b.current)||void 0===e?void 0:e.ownerDocument)&&void 0!==t?t:window.document;i.getElementsByTagName("ui-pane").length?(i.body.classList.add(r),i.body.classList.add(n)):(i.body.classList.remove(r),i.body.classList.remove(n))}),[w]),Re.createElement(ot.Provider,{value:s},Re.createElement("ui-main-pane",{inert:v(-1,!0)?"":void 0,ref:b},t),r.map((function(e,t){return Re.createElement(et,{key:e.key,paneFinishedAnimatingIn:y,paneFinishedAnimatingOut:_,paneDef:e,isTopPane:t>=l,isTopVisibleBackdropPane:t===u,isBecomingTopVisibleBackdropPaneAgain:t===p&&d,isPaneInert:v(t)})})))};function et(e){var t,n=e.paneDef,r=e.paneFinishedAnimatingIn,i=e.paneFinishedAnimatingOut,a=e.isTopPane,o=e.isTopVisibleBackdropPane,s=e.isBecomingTopVisibleBackdropPaneAgain,c=e.isPaneInert,l=n.pane,u=n.key,d=n.type,h=n.animating,f=void 0===h?Te.NOT:h,p=n.onRequestClose,g=n.classNameFromOptions,m=n.ariaClosePaneDescription,v=n.onKeyDownOption,y=n.hasVisibleBackdropOption,_=n.hasMenuBehavior,b=n.dir,w=Re.useRef(null),S=Re.useRef(null),E=Re.useContext(ot),I=function(e){E({type:Ve.HidePane,key:u,transitionOptions:e})};function C(e){return e===w.current||e.parentElement===w.current}f===Te.IN?t=function(e){C(e.target)&&(T(),r(u))}:f===Te.OUT&&(t=function(e){C(e.target)&&(T(),i(u))});var O=Re.useRef();function T(){void 0!==O.current&&(window.clearTimeout(O.current),O.current=void 0)}Re.useEffect((function(){return f!==Te.NOT&&(O.current=window.setTimeout((function(){console.error(function(e,t){var n=nt(e);return n+" animate-"+t+" 2.5s timeout:\n- If your pane doesn\u2019t have any animation (or doesn\u2019t animate "+t+"), you must call "+n+" with `{ animates: PaneAnimates.NONE }` (or `{ animates: PaneAnimates."+(t===Te.IN?"OUT":"IN")+" }`).\n- If your pane has an animation, it must be on the `ui-pane` element or the outermost element of its content.\nFor more, see the \u201cAnimating Panes\u201d section in the `UIPaneContainer` docs."}(n.type,f))}),2500)),T}),[f,n.type]);var A=Re.useRef(n.initialFocus),N=Re.useRef(document.activeElement);Re.useEffect((function(){var e,t=A.current,r=w.current;if(t instanceof HTMLElement)e=t;else if("function"===typeof t){var i=t(r);"string"===typeof i&&(i=null===r||void 0===r?void 0:r.querySelector(i)),i instanceof HTMLElement&&(e=i)}else if("object"===typeof t&&"current"in t)e=t.current;else if("string"===typeof t){var a=null===r||void 0===r?void 0:r.querySelector(t);a instanceof HTMLElement&&(e=a)}if(n.type!==at.Base){e||(e=w.current),e.focus({preventScroll:!0}),"INPUT"===e.tagName&&e.select&&e.select();var o=N.current;return function(){setTimeout((function(){document.activeElement===document.body&&o&&document.body.contains(o)&&o instanceof HTMLElement&&o.focus({preventScroll:!0})}),0)}}return function(){}}),[n.type]);var M=d===at.Dismissible,D=d===at.Modal,R=m;m||(R="Close pane");var L=null!==y&&void 0!==y?y:D,k=a&&D,x=s&&D;return Re.createElement(Re.Fragment,null,d!==at.Base&&Re.createElement("ui-pane-backdrop",{ref:S,dir:b,role:M?"button":void 0,"aria-label":M?R:void 0,class:Be()(tt(d),L?"is-visible":null,a?"top":null,k?"top-modal":null,o?"top-visible":null,s?"becoming-top-visible-again":null,x?"becoming-top-modal-again":null,f===Te.IN?"is-opening":null,f===Te.OUT?"is-closing":null,g),onMouseUp:function(){_&&d===at.Dismissible&&p(Ce.MOUSE_UP,I)},onMouseDown:function(e){d===at.Dismissible?p(Ce.MOUSE_UP,I):e.preventDefault()},"data-appearance":n.appearance}),Re.createElement("ui-pane",{ref:w,dir:b,class:Be()(tt(d),f===Te.IN?"is-opening":null,f===Te.OUT?"is-closing":null,g),inert:c?"true":void 0,tabindex:-1,"aria-modal":d===at.Modal,onKeyDown:function(e){v&&v(e),"Escape"===e.key&&d===at.Dismissible&&p(Ce.ESCAPE,I)},onTransitionEnd:t,onAnimationEnd:t,"data-appearance":n.appearance},l))}function tt(e){switch(e){case at.Modal:return"modal";case at.Dismissible:return"dismissible dismissable";default:return""}}function nt(e){switch(e){case at.Dismissible:return"useDismissiblePane";case at.Modal:return"useModalPane";case at.Base:return"useBasePane"}}var rt=0;function it(){return rt++}var at,ot=Re.createContext(void 0);function st(e,t){if(!e)throw new Error("`"+t+"` must be called from within a `UIPaneContainer`.")}!function(e){e.Modal="Modal",e.Dismissible="dismissible",e.Base="Base"}(at||(at={}));var ct=Fe.a.extend({dependencies:[Pe.a],action:async function(e){var t={viewParent:null,viewControllerParent:null,application:e,isPaneContext:!0},n=document.createElement("div");function r(e){var t=e.children,n=e.onGotDispatch,r=Object(Re.useContext)(ot);return Object(Re.useEffect)((function(){return n(r)}),[r,n]),Le.a.createElement(Le.a.Fragment,null,t)}e._reactPaneDispatcher=await new Promise((function(i){var a=Le.a.createElement(je.Provider,{value:t},Le.a.createElement(ze,null,Le.a.createElement(r,{onGotDispatch:function(e){return i(e)}})));if(e.useConcurrentMode&&e.createRoot){var o=e.createRoot(n);o.render(a),e.paneProviderRoot=o}else xe.a.render(a,n)})),e.rootElement.appendChild(n),e.rootElement=n.firstElementChild,e.paneProviderContainer=n},staticMembers:{__QUALIFIED_CLASS_NAME__:"PaneProviderInitializer"}}),lt=n(1583),ut=n(1381),dt=De.a.extend({staticMembers:{application:Object(v.g)(De.a.bindingFor("application")),__QUALIFIED_CLASS_NAME__:"Application"},useConcurrentMode:Object(y.c)({defaultValue:!1,readOnly:!0}),createRoot:Object(y.c)({readOnly:!0}),Initializers:Object(ut.a)([ct]),_reactPaneDispatcher:void 0,run:function(){return lt.a.prototype.dependencies.push(ct),this.__s._$nZ$run.call(this)},__superMap:{_$nZ$run:"run"}}),ht=n(1447),ft=oe.a.extend({protocolName:y.c({type:String}),protocolMethodNames:y.c({type:Set}),protocolTarget:y.c({type:Object}),init:function(e,t){if(this.__s._$au$init.call(this),!e)throw new we("ProtocolMetadata: no messagingProtocol specified");if(!t)throw new we("ProtocolMetadata: no protocol target specified");if(!ee(e,K))throw new we("ProtocolMetadata: The messagingProtocol class does not implement MessagingProtocol");if(!(this.protocolName=e.name))throw new we("ProtocolMetadata: no protocol name");var n=this.protocolMethodNames=te(e);if(!n||0===n.count)throw new we("ProtocolMetadata: Invalid list of protocol methods");this.protocolTarget=t},__superMap:{_$au$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ProtocolMetadata"}}),pt=n(1388);function gt(e,t){if(!e)throw new we("[wrapProtocolTargetMethods] no original protocol target specified");if(!t)throw new we("[wrapProtocolTargetMethods] no protocol method names specified");var n=oe.a.create({originalProtocolTarget:e}),r=function(t){var r=e[t];if(!Z.a(r))throw new we("Protocol method name "+t+" is not a Function");n[t]=function(){try{var n=e[t](...arguments);return n?pt.a(n)?n.then((function(e){return Se.createWithOptionalData(e).serialize()})).catch((function(e){if(e&&!e.isMessagingError)throw e;return Se.createFromError(e).serialize()})):b.a.resolve(Se.createWithOptionalData(n).serialize()):b.a.resolve(Se.createWithOptionalData().serialize())}catch(r){if(r&&!r.isMessagingError)throw r;return b.a.resolve(Se.createFromError(r).serialize())}}};for(var i of t)r(i);return n}var mt=n(1443),vt=n(1591),yt=n(1343),_t=n(1446),bt=vt.a.extend({hasHandlerForProcedure:function(e){return Object(yt.a)(St(e,this))},registerProcedure:function(e,t,n){!function(e,t,n,r){var i=r.channel,a=wt.get(i);a||(a=new Map,wt.set(i,a));var o=a.get(e);o&&Object(mt.b)(new mt.a("A handler for '"+e+"' was already registered on this channel",{procedureName:e,registration:o})),a.set(e,{listener:r,target:t,handlerMethodName:n})}(e,t,n=n||e,this)},registerProcedures:function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];Array.isArray(i)?this.registerProcedure(i[0],t,i[1]):this.registerProcedure(i,t)}},unregisterProcedure:function(e){var t=this.channel,n=wt.get(t);n&&n.get(e).listener===this&&(n.delete(e),0===n.size&&n.delete(t))},unregisterProcedures:function(e){var t=this;e.forEach((function(e){t.unregisterProcedure(e)}))},unregisterAllProcedures:function(){var e=wt.get(this.channel);if(e)for(var t,n=e.entries();t=n.next().value;){var r=t[0];t[1].listener===this&&e.delete(r)}},shouldHandleMessage:function(e){var t=this;return(Array.isArray(e)?e:[e]).filter((function(e){return e&&Object(yt.a)(e.jsonrpc)&&e.jsonrpc===t.messageFormatter.jsonRpcVersion&&Object(yt.a)(e.method)})).length>0},handleMessage:function(e){var t=this,n=Array.isArray(e),r=n?e:[e],i=b.a.wrapFunction(Et),a=this.messageFormatter,o=[],s={};return r.forEach((function(e){var n=e.id,r=i(e,t).then((function(e){s[n]=e!==Ot?function(e,t,n){if(Object(yt.a)(t))return e.generateResultMessageFor(t,n)}(a,n,e):Ot})).catch((function(e){if(s[n]=It(a,n,e),!(e instanceof _t.b))throw e}));o.push(r)})),b.a.all(o).then((function(){return Ct(t,r,s,n)}),(function(e){throw Ct(t,r,s,n),e}))},dispose:function(){this.unregisterAllProcedures(),this.__s._$31u$dispose.call(this)},__superMap:{_$31u$dispose:"dispose"},staticMembers:{__QUALIFIED_CLASS_NAME__:"JsonRpcListenerFix"}}),wt=new Map;function St(e,t){var n=wt.get(t.channel);if(n){var r=n.get(e);if(r&&r.listener===t)return r}return null}function Et(e,t){if(t.isDisposed)return new Promise((function(){}));var n=e.method,r=e.params,i=void 0===r?[]:r;if(Object(yt.a)(i)&&!Array.isArray(i)){var a="JSON-RPC calls in JavaScript cannot support `params` as an Object, only as an Array";throw d.b.error(a,e),new _t.d(a,{message:e})}var o=St(n,t);if(!o){if(function(e,t){var n=wt.get(t);return!!n&&!!n.get(e)}(n,t.channel))return Ot;var s="A JSON-RPC registration was not found for method `"+n+"`.";throw d.b.error(s,e,t),new _t.e(s,{message:e,listener:t})}var c=o.target;if(!c){var l="The JSON-RPC target was not found";throw d.b.error(l,e,t),new _t.e(l,{message:e,listener:t})}var u=c[o.handlerMethodName];if(!u){var h="The JSON-RPC method was not found";throw d.b.error(h,e,t),new _t.e(h,{message:e,listener:t})}return u.call(c,...i)}function It(e,t,n){if(Object(yt.a)(t))return e.generateErrorMessageFor(t,n)}function Ct(e,t,n,r){if(!e.isDisposed){var i=e.messageFormatter,a=[];if(t.forEach((function(e){var t=e.id;if(Object(yt.a)(t)){var r=n[t];if(r)r!==Ot&&a.push(r);else{var o=new _t.c("The JSON-RPC call was part of a batch which failed due to a fatal error thrown by another call.");r=It(i,t,o)}}})),a.length>0){var o=r?a:a[0];e.channel.send(e.serializer.encode(o))}}}var Ot=Symbol("Do not reply"),Tt=oe.a.extend({channel:y.c({type:Ae.a}),connectionTimeout:y.c({type:Number,defaultValue:3e4}),init:function(e,t){if(this.__s._$2gg$init.call(this),!ee(e,Ae.a))throw new we("MessagingChannel - A CW.ChannelProtocol is required");this.channel=e,t&&(this.connectionTimeout=t)},setListener:function(e,t){if(!ee(t,e))throw new we("MessagingChannel: The specified protocol class target does not implement specified protocol");this._listenerProtocolMetadata=ft.create(e,t)},setConnection:function(e,t){this._connectionProtocolMetadata=ft.create(e,t)},start:function(){var e=this._listenerProtocolMetadata,t=this._connectionProtocolMetadata;if(!e&&!t)throw new we("Messaging channel has not been configured");var n=this.channel,r=this.connectionTimeout;e&&this._configureListener(n,e),t&&this._configureConnection(n,r,t)},stop:function(){var e=this._connection,t=this._connectionProtocolMetadata,n=this._connectionPendingPromises,r=this._listener,i=this._listenerProtocolMetadata;if(r&&(i||Object(mt.b)(new Error("MessagingChannel listener exists without a corresponding protocol metadata")),this._unregisterListenerMethods(r,i),this._listener=void 0,this._listenerProtocolMetadata=void 0),e&&(t||Object(mt.b)(new Error("MessagingChannel connection exists without a corresponding protocol metadata")),this._connection=void 0,this._connectionProtocolMetadata=void 0,this._connectionPendingPromises=void 0,n.size)){var a=Array.from(n),o=Se.create({status:pe.DISCONNECTED});return a.every((function(e){return e.resolve(o)})),se.every(a).then((function(e){return e&&e.length||0}))}return b.a.resolve(0)},_constructRPCMethodName:function(e,t){if(!e)throw new we("MessagingUtils - no class name specified");if(!ce.a(e))throw new we("MessagingUtils - class name specified is not a string");if(!t)throw new we("MessagingUtils - no method name specified");if(!ce.a(t))throw new we("MessagingUtils - method name specified is not a string");return e+"-"+t},_createJsonRpcListener:function(e){if(!e)throw new we("MessagingChannel: _createJsonRpcListener - A CW.ChannelProtocol is required");return bt.create({channel:e})},_createJsonRpcCaller:function(e){if(!e)throw new we("MessagingChannel: _createJsonRpcCaller - A CW.ChannelProtocol is required");return ht.a.create({channel:e})},_listenerProtocolMetadata:y.c({type:ft}),_listener:y.c({type:bt,strong:!0}),_connectionProtocolMetadata:y.c({type:ft}),_connection:y.c({type:ht.a,strong:!0}),_connectionPendingPromises:Me.b(Set),_configureListener:function(e,t){this._listener=this._setupJsonRpcListener(e,t)},_configureConnection:function(e,t,n){this._connection=this._setupJsonRpcCaller(e,t,n)},_setupJsonRpcCaller:function(e,t,n){var r=this,i=this._connectionPendingPromises,a=n.protocolName,o=n.protocolMethodNames,s=n.protocolTarget,c=Ne.a(s),l=this._connection=this._createJsonRpcCaller(e),u=function(e){var n=r._constructRPCMethodName(a,e);s[e]=function(){r._connection||Object(mt.b)(new Error("["+c+" => OUTBOUND] MesssgingChannel has no connection --\x3e '"+a+"."+e+"'"));var o=b.a.create();i.add(o);for(var s=arguments.length,u=new Array(s),d=0;d<s;d++)u[d]=arguments[d];l.callRemoteProcedure(n,...u).then((function(e){o.resolve(Se.deserialize(e))})).catch((function(e){o.resolve(Se.createFromError(e))}));var h=setTimeout((function(){o.resolve(Se.create({status:pe.TIMEOUT}))}),t);return o.finally((function(){globalThis.clearTimeout(h),i.delete(o)})),o}};for(var d of o)u(d);return l},_setupJsonRpcListener:function(e,t){var n=t.protocolName,r=t.protocolMethodNames,i=t.protocolTarget,a=(Ne.a(i),this._listener=this._createJsonRpcListener(e)),o=gt(i,r);for(var s of r){var c=this._constructRPCMethodName(n,s),l=o[s];if(!Z.a(l))throw new we("Protocol method name "+s+" is not a Function");a.registerProcedure(c,o,s)}return a},_unregisterListenerMethods:function(e,t){var n=t.protocolName,r=t.protocolMethodNames,i=t.protocolTarget,a=(Ne.a(i),gt(i,r));for(var o of r){var s=this._constructRPCMethodName(n,o),c=a[o];Z.a(c)||Object(mt.b)(new Error("Protocol method name "+o+" is not a Function")),e.unregisterProcedure(s)}},__superMap:{_$2gg$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"MessagingChannel"}}),At=n(1342),Nt=n(1425),Mt={invokeLater:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;Z.a(e)||Object(mt.b)(new Error("A method to invoke Function must be specified")),(!At.a(t)||t<0)&&Object(mt.b)(new Error("millisToWaitToInvoke must be a number >= 0")),n&&Nt.a(n)&&Object(mt.b)(new Error("When provided, optional methodToInvokeIdentifier must be a String with a length > 0"));var r=this._scheduledInvokeLaterMethods;r||(r=this._scheduledInvokeLaterMethods=new Map);var i=n||e.toString();r.has(i)&&Object(mt.b)(new Error("An invokeLater has already been scheduled for "+i));var a=setTimeout((function(){var t;r.delete(i),t=n?e(n):e(),pt.a(t)&&t.catch((function(e){throw e}))}),t);r.set(i,a)},isInvokeLaterScheduled:function(e){if(!this._scheduledInvokeLaterMethods)return!1;var t=this._getScheduledInvokeLaterMethodKeyWithValidation(e);return this._scheduledInvokeLaterMethods.has(t)},cancelInvokeLater:function(e){var t=this._getScheduledInvokeLaterMethodKeyWithValidation(e),n=this._scheduledInvokeLaterMethods,r=n.get(t);At.a(r)||Object(mt.b)(new Error("No invokeLater scheduled matching the methodToInvokeOrMethodToInvokeIdentifier")),globalThis.clearTimeout(r),n.delete(t)},cancelInvokeLaterMethods:function(){var e=this._scheduledInvokeLaterMethods;e&&(e.forEach((function(e){return globalThis.clearTimeout(e)})),e.clear(),this._scheduledInvokeLaterMethods=void 0)},_getScheduledInvokeLaterMethodKeyWithValidation:function(e){var t;return this._scheduledInvokeLaterMethods||Object(mt.b)(new Error("Invalid state scheduledInvokeLaterMethods is undefined")),Z.a(e)?t=e.toString():Nt.a(e)?Object(mt.b)(new Error("methodToInvokeOrMethodToInvokeIdentifier must be a non-empty String or a Function")):t=e,t},_scheduledInvokeLaterMethods:void 0},Dt={mixinDependencies:[K],name:"ServiceConnectionMessagingProtocol",version:1,registerService:G.a.define(),probeServiceRegistration:G.a.define(),connectToService:G.a.define(),invokeServiceMethod:G.a.define()},Rt=S.b("MessagingChannelType",{LISTENER:"LISTENER",CONNECTION:"CONNECTION",BIDIRECTIONAL:"BIDIRECTIONAL"}),Lt=oe.a.extend({mixinDependencies:[Mt,Dt],processId:y.c({type:String}),processState:y.c({readOnly:!0,type:W,get:function(){return this._processStateInternal}}),isConnected:y.c({readOnly:!0,type:Boolean,get:function(){return z(this.processState,W.LOADING,W.LOADED,W.RUNNING)}}),isTerminated:y.c({readOnly:!0,type:Boolean,get:function(){return z(this.processState,W.TERMINATED)}}),delegate:y.c(),channel:y.c({type:Ae.a}),localProtocol:y.c(),localProtocolTarget:y.c({type:oe.a}),remoteProtocol:y.c(),remoteProxy:y.c({defaultValue:function(){var e=Ne.a(this);return oe.a.extend({staticMembers:{__QUALIFIED_CLASS_NAME__:e+".remoteProxy"}}).create()}}),connectionTimeout:y.c({type:Number,defaultValue:3e4}),messagingChannelClass:y.c({type:Tt.constructor,defaultValue:Tt}),primaryMessagingChannel:y.c({type:Tt}),connect:function(){H(this.processState,W.NONE),this._processStateInternal=W.LOADING;var e=this.localProtocol,t=this.localProtocolTarget,n=this.remoteProtocol,r=this.connectionTimeout;this.primaryMessagingChannel=this.createMessagingChannel(e,t,n,r)},disconnect:function(){var e=this;H(this.processState,W.LOADING,W.LOADED,W.RUNNING),this._processStateInternal=W.UNLOADING;var t=Array.from(this._messagingChannels);return this.cancelInvokeLaterMethods(),this._messagingChannels.clear(),(t.length?se.every(t.map((function(e){return e.stop()}))):b.a.resolve()).then((function(){e._processStateInternal=W.UNLOADED}))},terminate:function(){H(this.processState,W.UNLOADED),this._processStateInternal=W.TERMINATED;var e=this.remoteProxy,t=function(){Object(mt.b)(new Error("The remote proxy is no longer connected."))};Object.keys(e).forEach((function(n){Z.a(e[n])&&(e[n]=t)})),this.channel=null,this.remoteProxy=null,this._messagingChannels=null},createListenerOnlyMessagingChannel:function(e,t,n,r){return this._createMessagingChannel({type:Rt.LISTENER,localProtocol:e,localProtocolTarget:t,timeoutMS:n,messagingChannelClass:r})},createConnectionOnlyMessagingChannel:function(e,t,n){return this._createMessagingChannel({type:Rt.CONNECTION,remoteProtocol:e,timeoutMS:t,messagingChannelClass:n})},createMessagingChannel:function(e,t,n,r,i){return this._createMessagingChannel({type:Rt.BIDIRECTIONAL,localProtocol:e,localProtocolTarget:t,remoteProtocol:n,timeoutMS:r,messagingChannelClass:i})},_processStateInternal:y.c({type:W,defaultValue:W.NONE}),_messagingChannels:y.c({type:Set,defaultValue:Me.b(Set)}),_createMessagingChannel:function(e){this._validateRequiredProperties(e);var t=Rt.BIDIRECTIONAL,n=Rt.LISTENER,r=Rt.CONNECTION,i=this.channel,a=this.remoteProxy,o=this._messagingChannels,s=this.messagingChannelClass;e.messagingChannelClass&&(s=e.messagingChannelClass);var c=s.create(i);e.type!==t&&e.type!==n||c.setListener(e.localProtocol,e.localProtocolTarget),e.type!==t&&e.type!==r||c.setConnection(e.remoteProtocol,a);var l=e.timeoutMS;return l&&(c.connectionTimeout=l),c.start(),o.add(c),c},_validateRequiredProperties:function(e){var t=this.delegate,n=this.remoteProxy,r=this.channel,i=this.messagingChannelClass,a=Rt.BIDIRECTIONAL,o=Rt.LISTENER,s=Rt.CONNECTION;t||Object(mt.b)(new Error("A delegate is required")),ee(r,Ae.a)&&!r.isDisconnected||Object(mt.b)(new Error("A connected CW.ChannelProtocol implementation is required")),"object"!==typeof n&&Object(mt.b)(new Error("A remoteProxy Object is required")),i||Object(mt.b)(new Error("A MessagingChannel Class is required.")),e.type!==a&&e.type!==o||(ee(e.localProtocol,K)||Object(mt.b)(new Error("A valid localProtocol is required")),Y.a(e.localProtocolTarget)||Object(mt.b)(new Error("A localProtocolTarget is required"))),e.type!==a&&e.type!==s||ee(e.remoteProtocol,K)||Object(mt.b)(new Error("A valid remoteProtocol is required"))},subscribeIdentifierToTopic:function(e,t){return dt.application.subscribeIdentifierToTopic(e,t)},publishMessageOnTopicFromIdentifier:function(e,t,n){return dt.application.publishMessageOnTopicFromIdentifier(e,t,n)},unsubscribeIdentifierFromTopic:function(e,t){return dt.application.unsubscribeIdentifierFromTopic(e,t)},registerService:function(e,t){return dt.application.registerService(e,t)},connectToService:function(e,t){return dt.application.connectToService(e,t)},invokeServiceMethod:function(e,t,n,r,i){return dt.application.invokeServiceMethod(e,t,n,r,i)},probeServiceRegistration:function(e){return dt.application.probeServiceRegistration(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"ProcessReference"}}),kt=oe.a.extend({staticMembers:{every:function(e,t){return function(e,t){for(var n of(Z.a(t)||Object(mt.b)(new Error("The callback must be a function")),Array.isArray(e)||Object(mt.b)(new Error("processReferenceOperations must be an Array")),e))P.a(n,kt)||Object(mt.b)(new Error("Must be an instance of ProcessReferenceRemoteOperation")),n.validate();var r=new Map,i=new Map,a=new Array;if(0===e.length)return b.a.resolve(t(i,r));for(var o of e){var s=o.proxyMethod,c=o.params;a.push(s(...c))}return se.every(a).then((function(n){return n.forEach((function(t,n){P.a(t,Se)&&t.isOK?i.set(e[n],t):r.set(e[n],t)})),t(i,r)}))}(e,t)},__QUALIFIED_CLASS_NAME__:"ProcessReferenceRemoteOperation"},processReference:y.c({type:Lt}),proxyMethod:void 0,params:y.c({type:Array}),validate:function(){var e=this.processReference,t=this.proxyMethod;e||Object(mt.b)(new Error("Required process reference value is not set")),t&&Z.a(t)||Object(mt.b)(new Error("Required process reference proxy method is not set"))}}),xt=n(1338),Ft=Object.freeze({USER_LAUNCH:"USER_LAUNCH",ITEMS_OPENED:"ITEMS_OPENED"}),Pt={mixinDependencies:[K],name:"PublishSubscribeProtocol",version:.1,subscribeIdentifierToTopic:G.a.define(),publishMessageOnTopicFromIdentifier:G.a.define(),unsubscribeIdentifierFromTopic:G.a.define()},jt={mixinDependencies:[K,Pt,Dt],name:"MessagingFromChildProtocol",version:.1,isReadyToReceiveMessages:G.a.define(),didFinishLaunching:G.a.define(),isReadyToTerminateDidChange:G.a.define(),didEnd:G.a.define(),reportNonFatalError:G.a.define(),recordException:G.a.define(),willUnload:G.a.define(),wantsReload:G.a.define()},Ut={mixinDependencies:[K,Pt,Dt],name:"MessagingToChildProtocol",version:.1,beginLaunching:G.a.define(),hostingStateDidChange:G.a.define(),openItems:G.a.define()},Bt={mixinDependencies:[$.a],childProcessReferenceWillFinishLaunching:G.a.define(),childProcessReferenceDidFinishLaunching:G.a.define(),childProcessReferenceWantsReload:G.a.define(),childProcessReferenceWillUnload:G.a.define(),childProcessReferenceReportNonFatalError:G.a.define(),childProcessReferenceRecordException:G.a.define(),childProcessReferenceDidTerminate:G.a.define(),childProcessReferenceIsReadyToTerminateDidChange:G.a.define(),childProcessReferenceStateDidChange:G.a.define()},Vt=n(1368),Wt=Object.freeze({USER_INITIATED:"USER_INITIATED",UNCAUGHT_EXCEPTION:"UNCAUGHT_EXCEPTION",LAUNCH_DEPENDENCY_UNAVAILABLE:"LAUNCH_DEPENDENCY_UNAVAILABLE",CANNOT_LOAD_STARTUP_DATA:"CANNOT_LOAD_STARTUP_DATA",TIMEOUT:"TIMEOUT",MESSAGING_TIMEOUT:"MESSAGING_TIMEOUT",DISCONNECTED:"DISCONNECTED"}),zt={messagingResponseErrorTerminationMethod:Vt.a.define(),sendMessageWithRetryAndTerminateOnError:async function(e,t){for(var n=0;;){var r=await e(),i=++n>=3;if(r.isOK)return r;if((!r.isTimeout||i)&&(this.terminateIfMessagingResponseError(r,t)||i))return r}},terminateIfMessagingResponseError:function(e,t){var n=this.messagingResponseErrorTerminationMethod;Z.a(n)||Object(mt.b)(new Error("A messagingResponseErrorTerminationMethod property returning a function is required")),P.a(e,Se)||Object(mt.b)(new Error("A MessagingResponse is required."));var r=!1;return e.isDisconnected||e.isCanceled||e.isOK||(n.call(this,...function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:globalThis.__CW_BUILD_INFO,r=arguments.length>3?arguments[3]:void 0;P.a(e,Se)||Object(mt.b)(new Error("A MessagingResponse Instance is required."));var i=Wt.USER_INITIATED,a=Wt.MESSAGING_TIMEOUT,o=Wt.DISCONNECTED,s=Wt.UNCAUGHT_EXCEPTION;e.isOK?s=i:e.isTimeout?s=a:e.isDisconnected&&(s=o);var c=k(e.serialize(),t+1,n);return c.buildInfo=n,void 0!==r&&(c.message="ProcessKit: "+r+" failed"),[s,c]}(e,2,globalThis.__CW_BUILD_INFO,t)),r=!0),r}},Ht=Lt.extend({mixinDependencies:[jt,zt],isReadyToTerminate:y.c({readOnly:!0,type:Boolean,get:function(){return this._isReadyToTerminate}}),processId:y.c({readOnly:!0,type:String,get:function(){var e=this.processInfo;return e?e.processId:null}}),processInfo:y.c({type:Object}),delegate:y.c({type:Bt}),localProtocol:jt,localProtocolTarget:y.c({readOnly:!0,type:jt,get:function(){return this}}),remoteProtocol:Ut,messagingResponseErrorTerminationMethod:y.c({readOnly:!0,type:Function,defaultValue:function(){return this.terminateWithReasonAndInfo}}),run:function(e,t,n){H(this.processState,W.LOADED);var r=this.processInfo,i=this.remoteProxy;P.a(e,Object)||Object(mt.b)(new Error("Invalid session info")),P.a(t,Object)||Object(mt.b)(new Error("Invalid host info")),P.a(n,Object)&&n.launchReason||Object(mt.b)(new Error("Invalid launch options were passed to ChildProcessReference.run")),r.launchOptions=n,this.sendMessageWithRetryAndTerminateOnError((function(){return i.beginLaunching(e,t,r)}),"MessagingFromChildProtocol-beginLaunching")},terminateWithReasonAndInfo:function(e,t){var n=this;return ce.a(e)||Object(mt.b)(new Error("terminateWithReasonAndInfo requires a reason as an argument")),t&&!N.a(t)&&Object(mt.b)(new Error("terminateWithReasonAndInfo optional info argument should be a hash")),(this.isConnected?this.disconnect():b.a.resolve()).then((function(){n.isTerminated||(n._isReadyToTerminate=!0,n.terminate(),n.delegate.childProcessReferenceDidTerminate(n,e,t))}))},isReadyToReceiveMessages:function(){var e=this;H(this.processState,W.LOADING),this._processStateInternal=W.LOADED;var t=this.delegate,n={launchReason:Ft.USER_LAUNCH};this.invokeLater((function(){return t.childProcessReferenceWillFinishLaunching(e,n)}))},didFinishLaunching:function(e){var t=this;H(this.processState,W.LOADED),this._processStateInternal=W.RUNNING;var n=this.delegate,r=this.processInfo.launchOptions,i=void 0===r?{}:r;i.launchData=e,this.invokeLater((function(){return n.childProcessReferenceDidFinishLaunching(t,i)}))},isReadyToTerminateDidChange:function(e){xt.a(e)&&(this._isReadyToTerminate=e)},didEnd:function(e,t){var n=this,r=function(){n.terminateWithReasonAndInfo(e,k(t))},i="terminateWithReasonAndInfo";e===Wt.UNCAUGHT_EXCEPTION?(this.isInvokeLaterScheduled(i)&&this.cancelInvokeLater(i),r()):this.isInvokeLaterScheduled(i)||this.invokeLater(r,0,i)},reportNonFatalError:function(e,t){this.delegate.childProcessReferenceReportNonFatalError(this,e,t)},recordException:function(e){this.delegate.childProcessReferenceRecordException(this,e)},willUnload:function(e){this.delegate.childProcessReferenceWillUnload(this,e)},wantsReload:function(){var e=this;this._isReadyToTerminate=!0,this.invokeLater((function(){e.delegate.childProcessReferenceWantsReload(e)}))},_processStateInternal:y.c({type:W,defaultValue:W.NONE,get:function(){return this._internal_processStateInternal},set:function(e){var t=this.delegate;return this._internal_processStateInternal=e,t&&t.childProcessReferenceStateDidChange(this,e),e}}),_isReadyToTerminate:y.c({type:Boolean,defaultValue:!0,get:function(){return this._internal_isReadyToTerminate},set:function(e){var t=this.delegate;this._internal_isReadyToTerminate!==e&&(this._internal_isReadyToTerminate=e,t&&t.childProcessReferenceIsReadyToTerminateDidChange(this,e))}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ChildProcessReference"}});function Gt(e,t){if(!e||!e.constructor||!Array.isArray(e.constructor.ancestors)||!Z.a(t))return!1;for(var n of e.constructor.ancestors)if(n.prototype[t.name])return!0;return!1}var $t=Lt.extend({delegate:y.c({type:Ut}),localProtocol:Ut,localProtocolTarget:y.c({readOnly:!0,type:Ut,get:function(){return this.delegate}}),remoteProtocol:jt,notifyChildApplicationIsReady:function(){var e=this;return H(this.processState,W.LOADING,W.LOADED),this._processStateInternal=W.LOADED,this.remoteProxy.isReadyToReceiveMessages().then((function(t){return t.isOK&&(H(e.processState,W.LOADED),e._processStateInternal=W.RUNNING),t}))},staticMembers:{__QUALIFIED_CLASS_NAME__:"ParentProcessReference"}}),Kt={identifier:Vt.a.define(),parentIdentifier:Vt.a.define(),parentProxy:Vt.a.define(),childProxyMap:Vt.a.define()},Qt=oe.a.extend({localHandlers:y.c({get:function(){return Object.freeze(Array.from(this._localHandlersSet))}}),addHandler:function(e){var t=!1;return this._localHandlersSet.has(e)||(t=!0,this._localHandlersSet.add(e)),t},removeHandler:function(e){return this._localHandlersSet.delete(e)},registeredIdentifiers:y.c({get:function(){return Object.freeze(Array.from(this._registeredIdentifiersSet))}}),addIdentifier:function(e){var t=!1;return this._registeredIdentifiersSet.has(e)||(this._registeredIdentifiersSet.add(e),t=!0),t},removeIdentifier:function(e){return this._registeredIdentifiersSet.delete(e)},isEmpty:function(){return 0===this._localHandlersSet.size&&0===this._registeredIdentifiersSet.size},_localHandlersSet:Me.b(Set),_registeredIdentifiersSet:Me.b(Set),staticMembers:{__QUALIFIED_CLASS_NAME__:"MessagingHandlers"}}),qt=oe.a.extend({registerLocalHandler:function(e,t){if(!e)throw new we("[MessagingHandlersMap] registerLocalHandler: No key specified");if(!t)throw new we("[MessagingHandlersMap] registerLocalHandler: No handler specified");var n=!1,r=this._map.get(e);return r?n=r.isEmpty():(r=Qt.create(),this._map.set(e,r),n=!0),r.addHandler(t),n},getLocalHandlers:function(e){if(!e)throw new we("[MessagingHandlersMap] getLocalHandlers: No key specified");var t=this._map.get(e);return t?t.localHandlers:[]},unregisterLocalHandler:function(e,t){if(!e)throw new we("[MessagingHandlersMap] unregisterLocalHandler: No key specified");if(!t)throw new we("[MessagingHandlersMap] unregisterLocalHandler: No handler specified");var n=!1,r=this._map.get(e);return r&&(r.removeHandler(t),(n=r.isEmpty())&&this._map.delete(e)),n},registerIdentifier:function(e,t){if(!e)throw new we("[MessagingHandlersMap] registerIdentifier: No key specified");if(!t)throw new we("[MessagingHandlersMap] registerIdentifier: No identifier specified");var n=!1,r=this._map.get(e);return r?n=r.isEmpty():(r=Qt.create(),this._map.set(e,r),n=!0),r.addIdentifier(t),n},getRegisteredIdentifiers:function(e){if(!e)throw new we("[MessagingHandlersMap] getRegisteredIdentifiers: No key specified");var t=this._map.get(e);return t?t.registeredIdentifiers:[]},unregisterIdentifier:function(e,t){if(!e)throw new we("[MessagingHandlersMap] unregisterIdentifier: No key specified");if(!t)throw new we("[MessagingHandlersMap] unregisterIdentifier: No identifier specified");var n=!1,r=this._map.get(e);return r&&(r.removeIdentifier(t),(n=r.isEmpty())&&this._map.delete(e)),n},serialize:function(){var e=[];for(var t of this._map){var n=t[0],r=t[1],i={topic:n,registeredLocalHandlerCount:r.localHandlers.length,subscribedNodes:r.registeredIdentifiers};e.push(i)}return e},_map:Me.b(Map),staticMembers:{__QUALIFIED_CLASS_NAME__:"MessagingHandlersMap"}}),Zt=oe.a.extend({responses:[],allResponsesAreOK:y.c({readOnly:!0,get:function(){for(var e=!0,t=0,n=this.responses.length;t<n;t++)if(this.responses[t].status!==pe.OK){e=!1;break}return e}}),init:function(e){if(this.__s._$Hk$init.call(this),!e)throw new we("[GraphMessagingGroupResponse] no responses specified");this.responses=e},__superMap:{_$Hk$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"GraphMessagingGroupResponse"}}),Yt=oe.a.extend({proxies:y.c({type:Map}),protocolClass:y.c(),identifier:y.c({type:String}),init:function(e,t,n){var r=this;if(this.__s._$J7$init.call(this),!e)throw new we("[GraphMessagingGroupProxy] No proxies specified");if(!t)throw new we("[GraphMessagingGroupProxy] No protocol class specified");for(var i of e){var a=i[0],o=i[1];if(!ee(o,t)&&!ne(o,t))throw new we("[GraphMessagingGroupProxy] Proxy "+a+" does not implement protocol class")}this.identifier=n,this.proxies=e,this.protocolClass=t;var s=te(t),c=function(t){r[t]=function(){for(var n=[],r=[],i=Zt.create(r),a=0,o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];for(var l of e){var u=l[0],d=l[1],h=this.createProxyForMethod(u,d,t,s);try{n.push(h[t](...s))}catch(f){r[a]=f}a++}return se.every(n).then((function(t){for(var n=0,a=0,o=e.size;a<o;a++)r[a]||(r[a]=t[n],n++);return i}))}};for(var l of s)c(l)},createProxyForMethod:function(e,t,n,r){return t},__superMap:{_$J7$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"GraphMessagingGroupProxy"}}),Xt=oe.a.extend({status:y.c({type:pe,defaultValue:pe.None}),error:y.c(),data:y.c(),staticMembers:{createFromSerializedData:function(e){if(!e)throw new we("[GraphMessagingResponse] createFromSerializedData - no data specified");if(Y.a(e))throw new we("[GraphMessagingResponse] createFromSerializedData - data is an object, was expecting a data hash");var t=this.create();return t.deserialize(e),t},__QUALIFIED_CLASS_NAME__:"GraphMessagingResponse"},deserialize:function(e){if(!e)throw new we("[GraphMessagingResponse] deserialize - no data specified");var t=e.status;if(!t)throw new we("[GraphMessagingResponse] deserialize - no status specified");this.status=pe.getItemForValue(t);var n=e.data;n&&(this.data=n);var r=e.error;r&&(this.error=r)},serialize:function(){var e={status:this.status.value},t=this.data;t&&(e.data=t);var n=this.error;return n&&(e.error=n),e}}),Jt=oe.a.extend({graphMessagingProxyProtocol:y.c({type:Kt}),protocolClass:y.c(),init:function(e,t){if(this.__s._$IW$init.call(this),!e)throw new we("[GraphMessagingTransport] No graph messaging proxy protocol specified");if(!t)throw new we("[GraphMessagingTransport] No protocol class specified");this.graphMessagingProxyProtocol=e,this.protocolClass=t},parentProxy:y.c({get:function(){var e=this._parentProxy;if(!e){var t=this.graphMessagingProxyProtocol,n=t.parentProxy;if(n){var r=t.identifier,i=t.parentIdentifier;e=this._parentProxy=this.createParentProxy(n,r,i)}}return e}}),getChildGroupProxy:function(e){var t=this._childGroupProxy;if(!t){var n=this.graphMessagingProxyProtocol,r=new Map(n.childProxyMap);if(r&&r.size>0){var i=n.identifier;r.delete(e),r&&r.size>0&&(t=this._childGroupProxy=this.createChildGroupProxy(r,i))}}return t},getChildProxy:function(e){return this.graphMessagingProxyProtocol.childProxyMap.get(e)},createParentProxy:function(e,t,n){return e},createChildGroupProxy:function(e,t){return Yt.create(e,this.protocolClass,t)},createGraphMessagingResponse:function(e){return Xt.create({status:e})},_parentProxy:y.c({type:Object}),_childGroupProxy:y.c({type:Yt}),__superMap:{_$IW$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"GraphMessagingTransport"}}),en=oe.a.extend({requestedIdentifier:y.c({type:String}),operationName:y.c({type:String}),arguments:y.c({type:Object}),timeStarted:y.c({defaultValue:Date.now()}),timeEnded:y.c(),elapsedTimeMS:y.c({readOnly:!0,get:function(){return this.timeEnded-this.timeStarted}}),response:y.c(),staticMembers:{deserialize:function(e){if(!e)throw new we("[GraphMessagingTracingRequest] deserialize - no data specified");if(Y.a(e))throw new we("[GraphMessagingTracingRequest] deserialize - data is an object, was expecting a data hash");var t=en.create();t.requestedIdentifier=e.requestedIdentifier,t.operationName=e.operationName,t.arguments=e.arguments,t.timeStarted=e.timeStarted,t.timeEnded=e.timeEnded;var n=e.response;return n&&(t.response=tn.deserialize(n)),t},__QUALIFIED_CLASS_NAME__:"GraphMessagingTracingRequest"},serialize:function(){if(this.timeEnded=Date.now(),!this.response)throw new we("[GraphMessagingTracingRequest] serialize - no response");return{requestedIdentifier:this.requestedIdentifier,operationName:this.operationName,arguments:this.arguments,timeStarted:this.timeStarted,timeEnded:this.timeEnded,elapsedTimeMS:this.elapsedTimeMS,response:this.response.serialize()}}}),tn=oe.a.extend({identifier:y.c({type:String}),responseData:y.c(),error:y.c(),parentRequest:y.c(),childRequests:[],staticMembers:{deserialize:function(e){if(!e)throw new we("[GraphMessagingTracingResponse] deserialize - no data specified");if(Y.a(e))throw new we("[GraphMessagingTracingResponse] deserialize - data is an object, was expecting a data hash");var t=tn.create();t.identifier=e.identifier;var n=e.parentRequest;n&&(t.parentRequest=en.deserialize(n));var r=e.childRequests;if(r)for(var i=0,a=r.length;i<a;i++){var o=r[i];t.childRequests.push(en.deserialize(o))}var s=e.responseData;s&&(t.responseData=s);var c=e.error;return c&&(t.error=c),t},__QUALIFIED_CLASS_NAME__:"GraphMessagingTracingResponse"},serialize:function(){var e={identifier:this.identifier},t=this.responseData;t&&(e.responseData=t);var n=this.error;n&&(e.error=n);var r=this.parentRequest;r&&(e.parentRequest=r.serialize());var i=this.childRequests;if(i.length>0){e.childRequests=[];for(var a=0,o=i.length;a<o;a++)e.childRequests.push(i[a].serialize())}return e}}),nn=Xt.extend({tracingDetails:y.c({type:tn}),deserialize:function(e){this.__s._$CA$deserialize.call(this,e);var t=e.tracingDetails;t&&(this.tracingDetails=tn.deserialize(t))},serialize:function(){var e=this.__s._$IB$serialize.call(this);return this.tracingDetails&&(e.tracingDetails=this.tracingDetails.serialize()),e},__superMap:{_$CA$deserialize:"deserialize",_$IB$serialize:"serialize"},staticMembers:{__QUALIFIED_CLASS_NAME__:"GraphMessagingTracingDetailsResponse"}}),rn=oe.a.extend({originalProxy:y.c(),identifier:y.c({type:String}),requestedIdentifier:y.c({type:String}),response:y.c({type:tn}),init:function(e,t,n,r,i){var a=this;this.__s._$SV$init.call(this),this.identifier=t,this.requestedIdentifier=n,this.originalProxy=e,this.response=r;var o=te(i),s=function(e){a[e]=function(){for(var t=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=en.create();return s.requestedIdentifier=n,s.arguments=arguments,s.operationName=e,this.willMakeTracingRequest(s),this.originalProxy[e](...a).then((function(i){var a=null,o=null;if(i.status===pe.OK){var c=i.data;if(!(o=(a=nn.createFromSerializedData(c)).tracingDetails))throw new we("[TracingProxy] "+e+" no tracing response found for request")}else(a=nn.create()).status=i.status,a.error=i.error,(o=tn.create()).identifier=n,o.error=i.error;return s.response=o,a.tracingDetails=r,t.didReceiveTracingResponse(s,a),i.data=a.serialize(),i}))}};for(var c of o)s(c)},willMakeTracingRequest:function(e){},didReceiveTracingResponse:function(e,t){},__superMap:{_$SV$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"TracingProxy"}}),an=rn.extend({willMakeTracingRequest:function(e){this.response.childRequests.push(e)},didReceiveTracingResponse:function(e,t){},staticMembers:{__QUALIFIED_CLASS_NAME__:"ChildTracingProxy"}}),on=Yt.extend({response:y.c({type:tn}),init:function(e,t,n,r){if(this.__s._$G_$init.call(this,e,r,t),!t)throw new we("[GraphMessagingGroupProxy] No identifier specified");if(!n)throw new we("[GraphMessagingGroupProxy] No response specified");this.response=n},createProxyForMethod:function(e,t,n,r){return an.create(t,this.identifier,e,this.response,this.protocolClass)},__superMap:{_$G_$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"GraphMessagingGroupTracingProxy"}}),sn=rn.extend({willMakeTracingRequest:function(e){this.response.parentRequest=e},didReceiveTracingResponse:function(e,t){},staticMembers:{__QUALIFIED_CLASS_NAME__:"ParentTracingProxy"}}),cn=Jt.extend({response:y.c({type:tn}),init:function(e,t,n){this.__s._$Jg$init.call(this,e,t),this.response=tn.create(),this.response.identifier=e.identifier,this.response.responseData=n},createParentProxy:function(e,t,n){return sn.create(e,t,n,this.response,this.protocolClass)},createChildGroupProxy:function(e,t){return on.create(e,t,this.response,this.protocolClass)},createGraphMessagingResponse:function(e){var t=nn.create({status:e});return t.tracingDetails=this.response,t},__superMap:{_$Jg$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"GraphMessagingTracingTransport"}}),ln={mixinDependencies:[{mixinDependencies:[Kt,Pt],subscribeToTopic:function(e,t){if(!e)throw new we("PublishSubscribeSupport: [subscribeToTopic] no topic specified");if(!t)throw new we("PublishSubscribeSupport: [subscribeToTopic] no handler specified");var n=null,r=this._subscriptionMap.registerLocalHandler(e,t),i=this._createGraphMessagingTransport(),a=i.parentProxy;if(r&&a)n=a.subscribeIdentifierToTopic(e,this.identifier).then((function(e){var t=i.createGraphMessagingResponse(e.status);return t.error=e.error,t}));else{var o=i.createGraphMessagingResponse(pe.OK);n=b.a.resolve(o)}return n},publishMessageOnTopic:function(e,t){if(!e)throw new we("PublishSubscribeSupport: [publishMessageOnTopic] no topic specified");if(!t)throw new we("PublishSubscribeSupport: [publishMessageOnTopic] no message specified");var n=this.identifier,r=this._createGraphMessagingTransport();this._publishMessageToLocallyRegisteredHandlers(e,t);var i=r.getChildGroupProxy(n),a=r.parentProxy;if(i)return i.publishMessageOnTopicFromIdentifier(e,t,n).then((function(i){return a?a.publishMessageOnTopicFromIdentifier(e,t,n).then((function(e){return r.createGraphMessagingResponse(pe.OK)})):r.createGraphMessagingResponse(pe.OK)}));if(a)return a.publishMessageOnTopicFromIdentifier(e,t,n).then((function(e){return r.createGraphMessagingResponse(pe.OK)}));var o=r.createGraphMessagingResponse(pe.OK);return b.a.resolve(o)},unsubscribeFromTopic:function(e,t){if(!e)throw new we("PublishSubscribeSupport: [unsubscribeFromTopic] no topic specified");if(!t)throw new we("PublishSubscribeSupport: [unsubscribeFromTopic] no handler specified");var n=null,r=this._subscriptionMap.unregisterLocalHandler(e,t),i=this._createGraphMessagingTransport(),a=i.parentProxy;if(r&&a)n=a.unsubscribeIdentifierFromTopic(e,this.identifier).then((function(e){var t=i.createGraphMessagingResponse(e.status);return t.error=e.error,t}));else{var o=i.createGraphMessagingResponse(pe.OK);n=b.a.resolve(o)}return n},subscribeIdentifierToTopic:function(e,t){var n=null;if(!e)throw new we("PublishSubscribeSupport: [subscribeIdentifierToTopic] no topic specified");if(!t)throw new we("PublishSubscribeSupport: [subscribeIdentifierToTopic] no subscribing identifier specified");var r=this._subscriptionMap.registerIdentifier(e,t),i=this._createGraphMessagingTransport(),a=i.parentProxy;if(r&&a)n=a.subscribeIdentifierToTopic(e,this.identifier).then((function(e){var t=i.createGraphMessagingResponse(e.status);return t.error=e.error,t.serialize()}));else{var o=i.createGraphMessagingResponse(pe.OK);n=b.a.resolve(o.serialize())}return n},publishMessageOnTopicFromIdentifier:function(e,t,n){var r=this;if(!e)throw new we("PublishSubscribeSupport: [publishMessageOnTopicFromIdentifier] no topic specified");if(!t)throw new we("PublishSubscribeSupport: [publishMessageOnTopicFromIdentifier] no message specified");if(!n)throw new we("PublishSubscribeSupport: [publishMessageOnTopicFromIdentifier] no publisher identifier specified");var i=this._createGraphMessagingTransport();this._publishMessageToLocallyRegisteredHandlers(e,t);var a=i.getChildGroupProxy(n),o=i.parentProxy,s=this.identifier;return a?a.publishMessageOnTopicFromIdentifier(e,t,s).then((function(a){return o&&r.parentIdentifier!==n?o.publishMessageOnTopicFromIdentifier(e,t,s).then((function(e){return i.createGraphMessagingResponse(e.status).serialize()})):i.createGraphMessagingResponse(pe.OK).serialize()})):o&&this.parentIdentifier!==n?o.publishMessageOnTopicFromIdentifier(e,t,s).then((function(e){return i.createGraphMessagingResponse(e.status).serialize()})):i.createGraphMessagingResponse(pe.OK).serialize()},unsubscribeIdentifierFromTopic:function(e,t){var n=null;if(!e)throw new we("PublishSubscribeSupport: [unsubscribeIdentifierFromTopic] no topic specified");if(!t)throw new we("PublishSubscribeSupport: [unsubscribeIdentifierFromTopic] no subscriber identifier specified");var r=this._subscriptionMap.unregisterIdentifier(e,t),i=this._createGraphMessagingTransport(),a=i.parentProxy;if(r&&a)n=a.unsubscribeIdentifierFromTopic(e,this.identifier).then((function(e){var t=i.createGraphMessagingResponse(e.status);return t.error=e.error,t.serialize()}));else{var o=i.createGraphMessagingResponse(pe.OK);n=b.a.resolve(o.serialize())}return n},_subscriptionMap:Me.b(qt),_publishMessageToLocallyRegisteredHandlers:function(e,t){var n=this._subscriptionMap.getLocalHandlers(e);if(n)for(var r=0,i=n.length;r<i;r++)(0,n[r])(e,t)},_createGraphMessagingTransport:function(){return cn.create(this,Pt,this._subscriptionMap.serialize())}}],_createGraphMessagingTransport:function(){return Jt.create(this,Pt,this._subscriptionMap.serialize())},identifier:y.c({type:String,get:function(){return this.processId}}),parentIdentifier:y.c({type:String,get:function(){return this.parentProcessId}}),parentProxy:y.c({readOnly:!0,get:function(){return this.parentProcessReference?this.parentProcessReference.remoteProxy:null}}),childProxyMap:y.c({readOnly:!0,get:function(){var e=new Map;for(var t of this.childProcessReferences)e.set(t.processId,t.remoteProxy);return e}})};function un(e){var t="function"===typeof Map?new Map:void 0;return un=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(dn())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&hn(i,n.prototype),i}(e,arguments,fn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),hn(n,e)},un(e)}function dn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(dn=function(){return!!e})()}function hn(e,t){return hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hn(e,t)}function fn(e){return fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fn(e)}var pn=function(e){var t,n;function r(){var t;return(t=e.apply(this,arguments)||this).name="ServiceError",t.isServiceError=!0,t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,hn(t,n),r}(un(Error)),gn=Object(S.b)("ServiceResponseStatus",{NONE:"NONE",OK:"OK",NOT_FOUND:"NOT_FOUND",DISCONNECTED:"DISCONNECTED",CANCELED:"CANCELED",BAD_REQUEST:"BAD_REQUEST",TIMEOUT:"TIMEOUT",ERROR:"ERROR",CONFLICT:"CONFLICT",UNDEFINED_ERROR_TYPE:"UNDEFINED_ERROR_TYPE",METHOD_NOT_FOUND:"METHOD_NOT_FOUND"});function mn(e){var t="function"===typeof Map?new Map:void 0;return mn=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(vn())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&yn(i,n.prototype),i}(e,arguments,_n(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),yn(n,e)},mn(e)}function vn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(vn=function(){return!!e})()}function yn(e,t){return yn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yn(e,t)}function _n(e){return _n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_n(e)}var bn=function(e){var t,n;function r(){var t;return(t=e.apply(this,arguments)||this).name="SerializationError",t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,yn(t,n),r}(mn(Error)),wn={serialize:function(){var e=this.getMetadataByType(y.a),t={};for(var n in Tn(this),e){var r=e[n],i=r.key,a=r.serialization;if(!a||!a.ignore){var o=En(this,r);void 0!==o&&(t[Sn(i,a)]=o)}}return t},staticMembers:{deserialize:function(e){var t=void 0;if(e&&N.a(e)){var n=(t=this.create()).getMetadataByType(y.a);for(var r in n){var i=n[r],a=i.key,o=i.serialization,s=e[Sn(a,o)];o&&o.ignore||(t[a]=Cn(t,s,i))}Tn(t)}return t}}};function Sn(e,t){var n=e;if(t){var r=t.propertyName;r&&"string"===typeof r&&r.length>0&&(n=r)}return n}function En(e,t,n){var r=t.key,i=t.type,a=t.getForObject(e);return An(i)?function(e,t,n){var r;if(n){r=[];for(var i=0,a=n.length;i<a;i++){var o=n[i];r.push(In(e,t,o))}}return r}(e,r,a):Nn(i)?function(e,t,n){var r;if(n)for(var i of(r={},n)){var a=i[0],o=i[1];r[a]=In(e,t,o)}return r}(e,r,a):Mn(i)?function(e,t,n){var r;return n&&(r={name:n.name,value:n.value}),r}(0,0,a):In(e,r,a)}function In(e,t,n){var r;if(void 0!==n&&null!==n)if(n.isObject){if(!n||!n.hasMixin(wn))throw new bn("["+Ne.a(e)+"] Property "+t+" does not support serialization");n&&(r=n.serialize())}else r=n;return r}function Cn(e,t,n){var r,i=n.type,a=n.key;return r=An(i)?function(e,t,n){var r,i=n.key,a=n.serialization;if(t){var o=Object;if(a){var s=a.collectionObjectType;s&&(o=s)}r=[];for(var c=0,l=t.length;c<l;c++){var u=t[c];r.push(On(e,i,o,u))}}return r}(e,t,n):Nn(i)?function(e,t,n){var r,i=n.key,a=n.serialization;if(t){var o=Object;if(a){var s=a.collectionObjectType;s&&(o=s)}for(var c in r=new Map,t){var l=t[c];r.set(c,On(e,i,o,l))}}return r}(e,t,n):Mn(i)?function(e,t,n){var r,i=n.type;return t&&i&&(r=i.getItemForValue(t.value)),r}(0,t,n):On(e,a,i,t),r}function On(e,t,n,r){var i,a="string"===typeof(i=n)?Dn(i):"function"===typeof i&&Dn(typeof i());if(r&&!a){if(n.hasMixin(wn))return n.deserialize(r);throw new bn("["+Ne.a(e)+"] Property "+t+" does not support serialization")}return r}function Tn(e){var t=e.getMetadataByType(y.a),n=[];for(var r in t){var i=t[r],a=i.validators,o=i.key;if(a){for(var s=[],c=0;c<a.length;c++){var l=a[c];l.validate(i.getForObject(e),o,e)||s.push(l.message)}if(s&&s.length>0){var u="Validation for field "+o+" failed - "+s.join(", ")+".";n.push(u)}}}if(n&&n.length>0)throw new bn("["+Ne.a(e)+"] "+n.join(" "))}function An(e){return"function"===typeof e&&Array.isArray(new e)}function Nn(e){return"function"===typeof e&&new e instanceof Map}function Mn(e){return e&&e.instanceOf&&e.instanceOf(S.a)}function Dn(e){return"string"===e||"number"===e||"boolean"===e||"object"===e}var Rn=oe.a.extend({mixinDependencies:[wn],status:y.c({type:gn,defaultValue:gn.None}),error:y.c(),data:y.c({type:Object}),staticMembers:{createOK:function(){return Rn.create({status:gn.OK})},createWithOptionalData:function(e){return Rn.create({status:gn.OK,data:e})},createFromError:function(e){var t=fe(e);return t?(t.buildInfo=globalThis.__CW_BUILD_INFO,P.a(e,Error)||(t.message=JSON.stringify(e),t.stack=(new Error).stack)):t={message:"No error specified",stack:(new Error).stack},Rn.create({status:Ln(e),error:t})},__QUALIFIED_CLASS_NAME__:"ServiceResponse"}});function Ln(e){var t=gn.ERROR;return P.a(e,Error)||(t=gn.UNDEFINED_ERROR_TYPE),t}var kn=oe.a.extend({serviceIdentifier:y.c({type:String}),serviceVersion:y.c({type:String}),serviceIdentifierAndVersion:y.c({type:String,readOnly:!0,get:function(){return this.serviceIdentifier+"@"+this.serviceVersion}}),connectRetryInterval:y.c({type:Number,defaultValue:500}),connectRetryTimeout:y.c({type:Number,defaultValue:5e3}),remoteProcessIdentifier:y.c({type:String}),remoteObjectInterface:y.c(),remoteObjectProxy:y.c(),localProcessIdentifier:y.c({get:function(){return this._serviceSupport?this._serviceSupport.processId:void 0}}),exportedInterface:y.c(),exportedObject:y.c(),isConnected:y.c({type:Boolean,defaultValue:!1}),init:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dt.application;if(this.__s._$1KV$init.call(this),!e)throw new pn("ServiceConnection - no service identifier specified");if(!t)throw new pn("ServiceConnection - no service version specified");if(!n)throw new pn("ServiceConnection - no serviceSupport specified");this.serviceIdentifier=e,this.serviceVersion=t,this._serviceSupport=n},staticMembers:{createWithServiceIdentifierAndVersionString:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dt.application,n=e.split("@"),r=n[0],i=n[1];return kn.create(r,i,t)},__QUALIFIED_CLASS_NAME__:"ServiceConnection"},connect:function(){if(!this.remoteObjectInterface)throw new pn("ServiceConnection - no remote object interface specified");return this._pDidConnect=b.a.create(),this._doConnect(this.connectRetryInterval,this.connectRetryTimeout),this._pDidConnect},_doConnect:function(e,t){var n=this;this._serviceSupport.connectServiceConnection(this).then((function(r){if(r.status===gn.OK){var i=r.data,a=i.remoteObjectProxy,o=i.remoteProcessIdentifier;a&&o?(n._setRemoteObjectProxyAndProcessIdentifier(a,o),n.isConnected=!0,n._pDidConnect.resolve(Rn.createWithOptionalData({remoteObjectProxy:n.remoteObjectProxy}))):n._pDidConnect.resolve(Rn.create({status:gn.UNDEFINED_ERROR_TYPE}))}else r.status===gn.NOT_FOUND?t>0?setTimeout((function(){return n._doConnect(e,t-e)}),e):n._pDidConnect.resolve(Rn.create({status:gn.TIMEOUT})):n._pDidConnect.resolve(Rn.create({status:gn.UNDEFINED_ERROR_TYPE}))}))},_setRemoteObjectProxyAndProcessIdentifier:function(e,t){var n=this.remoteObjectInterface,r=this.serviceIdentifierAndVersion,i=this.localProcessIdentifier;this.remoteProcessIdentifier=t;var a=this;if(ne(e,n)){var o=te(n),s=oe.a.create(),c=function(t){s[t]=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e[t].apply(e,r).then((function(e){return Rn.createWithOptionalData(e)}))}};for(var l of o)c(l);this.remoteObjectProxy=s}else if(ne(e,Dt)){var u=te(n),d=oe.a.create(),h=function(n){d[n]=function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return e.invokeServiceMethod(i,r,t,n,s).then((function(e){if(e.status!==pe.OK||!e.data)return a.isConnected=!1,Rn.create({status:gn.UNDEFINED_ERROR_TYPE});var t=Rn.deserialize(e.data);return t.status===gn.NOT_FOUND?(a.isConnected=!1,t):t.status===gn.OK?t:(a.isConnected=!1,Rn.create({status:gn.UNDEFINED_ERROR_TYPE}))}))}};for(var f of u)h(f);this.remoteObjectProxy=d}},_serviceSupport:y.c(),_pDidConnect:y.c(),__superMap:{_$1KV$init:"init"}}),xn=oe.a.extend({setServiceListener:function(e,t){this._serviceListenerMap.set(e,t)},hasServiceListener:function(e){return this._serviceListenerMap.has(e)},getServiceListener:function(e){return this._serviceListenerMap.get(e)},setServiceProxy:function(e,t){this._serviceProxyMap.set(e,t)},getServiceProxy:function(e){return this._serviceProxyMap.get(e)},hasServiceProxy:function(e){return this._serviceProxyMap.has(e)},clearServiceProxy:function(e){this._serviceProxyMap.delete(e)},addServiceConnection:function(e){var t=e.serviceIdentifierAndVersion,n=e.remoteProcessIdentifier;this._connectionMap.has(t)||this._connectionMap.set(t,new Map),this._connectionMap.get(t).set(n,e)},getServiceConnection:function(e,t){return this.hasServiceConnection(e,t)?this._connectionMap.get(e).get(t):null},hasServiceConnection:function(e,t){return this._connectionMap.has(e)&&this._connectionMap.get(e).has(t)},clearServiceConnection:function(e,t){if(this.hasServiceConnection(e,t))return this._connectionMap.get(e).delete(t)},_serviceListenerMap:y.c({type:Map,defaultValue:Me.b(Map)}),_serviceProxyMap:y.c({type:Map,defaultValue:Me.b(Map)}),_connectionMap:y.c({type:Map,defaultValue:Me.b(Map)}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ServiceRegistry"}}),Fn={mixinDependencies:[Ut,zt,Mt,ln,{mixinDependencies:[Dt],addServiceListener:function(e){var t=this._serviceRegistry,n=e.serviceIdentifierAndVersion;if(!n)throw new pn("listener.serviceIdentifier required when adding a service listener");var r=b.a.create();return t.hasServiceListener(n)?r.resolve(Rn.createOK()):this._hasParent?r=this._registerServiceWithParent(n).then((function(r){return r.status===gn.OK&&t.setServiceListener(n,e),r})):(t.setServiceListener(n,e),r.resolve(Rn.createOK())),r},isDuplicateServiceListener:function(e){var t=this._serviceRegistry,n=e.serviceIdentifierAndVersion;return t.hasServiceListener(n)},connectServiceConnection:function(e){var t=this,n=e.serviceIdentifierAndVersion,r=this.processId;return this._connectToService(r,n).then((function(r){if(r.status===gn.NOT_FOUND||r.status===gn.UNDEFINED_ERROR_TYPE)return r;if(!r.data)return Rn.create({status:gn.UNDEFINED_ERROR_TYPE});var i=null;if(t._serviceRegistry.hasServiceProxy(n))i=t._serviceRegistry.getServiceProxy(n);else{if(!t._serviceRegistry.hasServiceConnection(n,e.localProcessIdentifier))return Rn.create({status:gn.UNDEFINED_ERROR_TYPE});i=t._serviceRegistry.getServiceConnection(n,e.localProcessIdentifier).exportedObject}return Rn.createWithOptionalData({remoteProcessIdentifier:r.data.remoteProcessIdentifier,remoteObjectProxy:i})}))},registerService:function(e,t){var n=this,r=this._serviceRegistry,i=b.a.create();if(r.hasServiceListener(t))i.resolve(Rn.create({status:gn.CONFLICT}).serialize());else if(r.hasServiceProxy(t)){var a=r.getServiceProxy(t);i=a.probeServiceRegistration(t).then((function(i){return i.status===pe.OK&&i.data?Rn.deserialize(i.data).status!==gn.OK?(r.clearServiceProxy(t),n.registerService(e,t)):a.processId!==e?Rn.create({status:gn.CONFLICT}).serialize():Rn.create({status:gn.OK}).serialize():(r.clearServiceProxy(t),n.registerService(e,t))}))}else if(this._hasParent)i=this._registerServiceWithParent(t).then((function(i){if(i.status===gn.OK){var a=n._getChildProxyWithIdentifier(e);r.setServiceProxy(t,a)}return i.serialize()}));else{var o=this._getChildProxyWithIdentifier(e);r.setServiceProxy(t,o),i.resolve(Rn.create({status:gn.OK}).serialize())}return i},probeServiceRegistration:function(e){var t=this._serviceRegistry,n=b.a.create();return t.hasServiceListener(e)?n.resolve(Rn.createOK()):t.hasServiceProxy(e)?n=t.getServiceProxy(e).probeServiceRegistration(e).then((function(e){return e.status===pe.OK&&e.data?Rn.deserialize(e.data):Rn.create({status:gn.NOT_FOUND})})):n.resolve(Rn.create({status:gn.NOT_FOUND})),n.then((function(e){return e.serialize()}))},connectToService:function(e,t){return this._connectToService(e,t).then((function(e){return e.serialize()}))},invokeServiceMethod:function(e,t,n,r,i){var a=this._serviceRegistry,o=b.a.create();if(a.hasServiceConnection(t,e)){var s=a.getServiceConnection(t,e);if(s.localProcessIdentifier!==n)o.resolve(Rn.create({status:gn.NOT_FOUND}).serialize());else{var c=s.exportedObject,l=c[r];Z.a(l)?l.apply(c,i).then((function(e){o.resolve(Rn.createWithOptionalData(e).serialize())})):o.resolve(Rn.create({status:gn.METHOD_NOT_FOUND}).serialize())}}else if(a.hasServiceProxy(t)){var u=a.getServiceProxy(t);o=u.invokeServiceMethod(e,t,n,r,i).then((function(e){return e.data}))}else o.resolve(Rn.create({status:gn.NOT_FOUND}).serialize());return o},_registerServiceWithParent:function(e){return this._getParentProxy().registerService(this.processId,e).then((function(e){if(e.status!==pe.OK||!e.data)return Rn.create({status:gn.UNDEFINED_ERROR_TYPE});var t=Rn.deserialize(e.data);return t.status===gn.CONFLICT?Rn.create({status:gn.CONFLICT}):t.status!==gn.OK?Rn.create({status:gn.UNDEFINED_ERROR_TYPE}):t}))},_connectToService:function(e,t){var n=this._serviceRegistry,r=b.a.create();if(n.hasServiceConnection(t,e)){var i=n.getServiceConnection(t,e);r.resolve(Rn.createWithOptionalData({remoteProcessIdentifier:i.localProcessIdentifier}))}else if(n.hasServiceListener(t)){var a=n.getServiceListener(t),o=kn.createWithServiceIdentifierAndVersionString(t,this);o.remoteProcessIdentifier=e,a.shouldAcceptNewConnection(o),n.addServiceConnection(o),r.resolve(Rn.createWithOptionalData({remoteProcessIdentifier:o.localProcessIdentifier}))}else if(n.hasServiceProxy(t))r=n.getServiceProxy(t).connectToService(e,t).then((function(e){return e.status===pe.OK&&e.data?Rn.deserialize(e.data):Rn.create({status:gn.UNDEFINED_ERROR_TYPE})}));else if(this._hasParent){var s=this._getParentProxy();r=s.connectToService(e,t).then((function(e){if(e.status!==pe.OK||!e.data)return Rn.create({status:gn.UNDEFINED_ERROR_TYPE});var r=Rn.deserialize(e.data);return r.status===gn.OK&&n.setServiceProxy(t,s),r}))}else r.resolve(Rn.create({status:gn.NOT_FOUND}));return r},_getParentProxy:function(){return this._createGraphMessagingTransport().parentProxy},_getChildProxyWithIdentifier:function(e){return this._createGraphMessagingTransport().getChildProxy(e)},_serviceRegistry:y.c({defaultValue:Me.b(xn)}),_hasParent:y.c({get:function(){return!!this.parentProcessReference}})}],parentProcessReferenceClass:y.c({type:$t.constructor,defaultValue:$t}),parentProcessReferenceDelegate:y.c({type:Ut,defaultValue:function(){return this}}),parentProcessReference:y.c({type:$t}),processState:y.c({readOnly:!0,type:W,get:function(){return this._processStateInternal}}),isStarted:y.c({readOnly:!0,type:Boolean,get:function(){return z(this.processState,W.LOADING,W.LOADED,W.RUNNING)}}),isTerminated:y.c({readOnly:!0,type:Boolean,get:function(){return z(this.processState,W.TERMINATED)}}),channel:y.c({type:Ae.a}),sessionInfo:y.c({type:Object,defaultValue:Me.b(Object)}),hostInfo:y.c({type:Object,defaultValue:Me.b(Object)}),processInfo:y.c({type:Object,defaultValue:Me.b(Object)}),processId:y.c({type:String}),parentProcessId:y.c({type:String}),messagingResponseErrorTerminationMethod:y.c({readOnly:!0,type:Function,defaultValue:function(){return this.terminateWithReasonAndInfo}}),start:function(){var e=this;H(this.processState,W.NONE),this._processStateInternal=W.LOADING;var t=this.parentProcessReferenceClass,n=this.channel;if(t){ee(n,Ae.a)||Object(mt.b)(new Error("A CW.ChannelProtocol implementation is required"));var r=this._createParentProcessReference(n);r.connect(),this.sendMessageWithRetryAndTerminateOnError((function(){return r.notifyChildApplicationIsReady()}),"MessagingFromChildProtocol-isReadyToReceiveMessages").then((function(t){t.isOK&&(e._processStateInternal=W.LOADED)}))}else this._processStateInternal=W.LOADED},run:G.a.define(),stop:function(){var e=this;H(this.processState,W.LOADING,W.LOADED,W.RUNNING),this._processStateInternal=W.UNLOADING,this.cancelInvokeLaterMethods();var t=this.parentProcessReference,n=b.a.resolve();return t&&(this.parentProcessReference=null,t.isConnected&&(n=n.then((function(){return t.disconnect()}))),n=n.then((function(){return t.isTerminated||t.terminate()}))),n.then((function(){return e._processStateInternal=W.UNLOADED}))},terminate:function(){H(this.processState,W.UNLOADED),this._processStateInternal=W.TERMINATED,this.channel&&!this.channel.isDisconnected&&this.channel.disconnect(),this.processId=null,this.parentProcessId=null,this.hostInfo=null,this.sessionInfo=null,this.processInfo=null,this.channel=null},terminateWithReasonAndInfo:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ce.a(e)||Object(mt.b)(new Error("terminateWithReasonAndInfo requires a reason as an argument")),N.a(n)?n.buildInfo||(n.buildInfo=globalThis.__CW_BUILD_INFO):Object(mt.b)(new Error("terminateWithReasonAndInfo optional info argument should be a hash"));var r=this.parentProcessReference;return r&&r.isConnected&&r.remoteProxy.didEnd(e,n),(this.isStarted?this.stop():b.a.resolve()).then((function(){return t.isTerminated||t.terminate()}))},beginLaunching:function(e,t,n){var r=this;if(H(this.processState,W.LOADED),this._updateHostingAndSessionInfo(e,t),!P.a(n,Object))throw new we("Invalid process info");if(!P.a(n.launchOptions,Object))throw new we("Invalid launchOptions");if(!n.launchOptions.launchReason)throw new we("Missing launchOptions.launchReason");n.launchOptions=Object.freeze(n.launchOptions),this.processInfo=Object.freeze(n),this.parentProcessId=n.parentProcessId,this.processId=n.processId,this.parentProcessReference&&(this.parentProcessReference.processId=n.parentProcessId),this.invokeLater((function(){return b.a.resolve().then((function(){return r.run()})).then((function(){return r._processStateInternal=W.RUNNING})).then((function(){return r._notifyParentThatProcessDidFinishLaunchingIfNeeded()}))}))},openItems:function(e){},hostingStateDidChange:function(e,t){H(this.processState,W.RUNNING),this._updateHostingAndSessionInfo(e,t)},_processStateInternal:y.c({type:W,defaultValue:W.NONE}),_launchData:y.c({type:Object,defaultValue:{}}),_createParentProcessReference:function(e){var t=this.parentProcessReferenceClass,n=this.parentProcessReferenceDelegate,r=this.parentProcessId;t&&n||Object(mt.b)(new Error("A parentProcessReferenceClass and a parentProcessReferenceDelegate are required to create a ParentProcessReference."));var i=t.create({processId:r,delegate:n,channel:e});return this.parentProcessReference=i,i},_updateHostingAndSessionInfo:function(e,t){if(H(this.processState,W.LOADED,W.RUNNING),!P.a(e,Object))throw new we("Invalid session info");if(!P.a(t,Object))throw new we("Invalid host info");this.sessionInfo=Object.freeze(e),this.hostInfo=Object.freeze(t)},_notifyParentThatProcessDidFinishLaunchingIfNeeded:function(){H(this.processState,W.RUNNING);var e=this.parentProcessReference,t=this._launchData;e&&e.isConnected&&this.sendMessageWithRetryAndTerminateOnError((function(){return e.remoteProxy.didFinishLaunching(t)}),"MessagingFromChildProtocol-didFinishLaunching")}},Pn={mixinDependencies:[{mixinDependencies:[Ut,Fn],childProcessReferences:y.c({type:Set,readOnly:!0,defaultValue:function(){var e=this,t=new Set,n=t.add,r=t.delete;return t.add=function(r){P.a(r,Ht)||Object(mt.b)(new Error("Can only add ChildProcessReference instances"));var i=n.call(t,r);return e.childProcessReferenceWasAdded(r),i},t.delete=function(n){P.a(n,Ht)||Object(mt.b)(new Error("Can only delete ChildProcessReference instances"));var i=r.call(t,n);return i&&e.childProcessReferenceWasRemoved(n),i},t}}),childProcessReferenceWasAdded:function(e){},childProcessReferenceWasRemoved:function(e){},hostingStateDidChange:function(e,t){var n=new Array,r=this.childProcessReferences;for(var i of(Gt(this,this.hostingStateDidChange)&&this.__s._$1K2$hostingStateDidChange.call(this,e,t),r)){var a=i.processState,o=i.remoteProxy;if(z(a,W.RUNNING)){var s=kt.create({processReference:i,proxyMethod:o.hostingStateDidChange,params:[e,t]});n.push(s)}}return kt.every(n,(function(e,t){t.forEach((function(e,t){if(t.processReference){var n=t.processReference.processId;n&&d.b.error('Child "'+n+'" hostingStateDidChange call failed')}}))}))},__superMap:{_$1K2$hostingStateDidChange:"hostingStateDidChange"}},Q],didEnterBackground:function(){var e=new Array,t=this.childProcessReferences;for(var n of(Gt(this,this.didEnterBackground)&&this.__s._$ZM$didEnterBackground.call(this),t)){var r=n.processState,i=n.remoteProxy;if(z(r,W.RUNNING)&&jn(n)){var a=kt.create({processReference:n,proxyMethod:i.didEnterBackground});e.push(a)}}return kt.every(e,(function(e,t){e.forEach((function(e,t){})),t.forEach((function(e,t){var n=t.processReference.processId;d.b.error('Child "'+n+'" willEnterBackground call failed')}))}))},__superMap:{_$ZM$didEnterBackground:"didEnterBackground"}};function jn(e){var t=e.remoteProxy;return t&&ne(t,Q)}var Un,Bn,Vn,Wn=n(1604),zn=n(1390),Hn=n(1444);function Gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$n(r.key),r)}}function $n(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}!function(e){e.IOS="IOS",e.ANDROID="ANDROID",e.WINDOWS="WINDOWS",e.MAC="MAC",e.LINUX="LINUX",e.CHROMEOS="CHROMEOS",e.UNKNOWN="UNKNOWN"}(Un||(Un={})),function(e){e.PHONE="PHONE",e.TABLET="TABLET",e.DESKTOP="DESKTOP"}(Bn||(Bn={})),function(e){e.MOUSE="MOUSE",e.TOUCH="TOUCH"}(Vn||(Vn={}));var Kn=function(){function e(){this.platformType=function(){var e=window.navigator.userAgent;if(!e)throw new TypeError("Expected user agent!");return/ipad|ipod|iphone/i.test(e)?Un.IOS:/android/i.test(e)?Un.ANDROID:/mac/i.test(e)&&!/like mac/i.test(e)?"ontouchstart"in window||"createTouch"in window.document?Un.IOS:Un.MAC:/windows/i.test(e)?Un.WINDOWS:/\bcros\b/i.test(e)?Un.CHROMEOS:/\blinux\b/i.test(e)?Un.LINUX:Un.UNKNOWN}(),this.isAndroid=this.platformType===Un.ANDROID,this.isWindows=this.platformType===Un.WINDOWS,this.isMac=this.platformType===Un.MAC,this.isiOS=this.platformType===Un.IOS,this.primaryInteractionMode=this.isiOS||this.isAndroid?Vn.TOUCH:Vn.MOUSE,this.isTouch=this.primaryInteractionMode===Vn.TOUCH,this.isMouse=this.primaryInteractionMode===Vn.MOUSE,this.deviceType=this.isMouse?Bn.DESKTOP:Math.min(window.screen.width,window.screen.height)>667?Bn.TABLET:Bn.PHONE,this.isiPad=this.isiOS&&this.deviceType===Bn.TABLET,this.isiPhoneOriPod=this.isiOS&&this.deviceType===Bn.PHONE}var t,n,r;return t=e,r=[{key:"sharedInstance",get:function(){var t=e._sharedInstance;return void 0===t?this._sharedInstance=new e:t}}],(n=[{key:"current",get:function(){return this.platformType}}])&&Gn(t.prototype,n),r&&Gn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Qn={mixinDependencies:[$.a],applicationWillFinishLaunching:G.a.define(),applicationDidFinishLaunching:G.a.define()},qn={applicationWillFinishLaunching:function(e,t){},applicationDidFinishLaunching:function(e,t){}},Zn=oe.a.extend(Qn,qn,{staticMembers:{__QUALIFIED_CLASS_NAME__:"ApplicationDelegate"}}),Yn=n(1605).a.extend({outgoingWindow:Object(v.g)({readOnly:!0,get:function(){var e=window.parent;return e?{actualOutgoingWindow:e,postMessage:function(e,t){var n=this.actualOutgoingWindow;if(n.postMessage)return n.postMessage(e,t);d.b.warn("ParentWindowChannel: postMessage of "+e+" to detached iframe at "+t+" was ignored")}}:null}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ParentWindowChannel"}}),Xn=n(1316),Jn={mixinDependencies:[Ae.a],allowedRemoteOrigins:y.c({readOnly:!0,type:Array}),remoteOrigin:v.g({readOnly:!0,type:String}),init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e&&e.allowedRemoteOrigins;t&&(e.allowedRemoteOrigins=[...t]),this.__s._$IB$init.apply(this,arguments);var n=this.allowedRemoteOrigins,r=this.remoteOrigin;er(n,r)},connect:function(){nr(this),this.__s._$PX$connect.apply(this,arguments)},send:function(){var e=this.allowedRemoteOrigins,t=this.remoteOrigin;er(e,t),this.__s._$T0$send.apply(this,arguments)},__superMap:{_$IB$init:"init",_$PX$connect:"connect",_$T0$send:"send"}},er=function(e,t){t?"*"===t&&Xn.b('Cannot leverage `SafeWindowPostMessageChannel` whose `remoteOrigin` is "*".'):Xn.b("Cannot leverage `SafeWindowPostMessageChannel` without a defined `remoteOrigin`."),e?e.includes(t)?e.forEach((function(e){tr(e)||Xn.b('The value "'+e+'" does not conform to the "https://" protocol, and therefore is not permitted in the `allowedRemoteOrigins` array.')})):Xn.b('Cannot leverage this `SafeWindowPostMessageChannel`, the `remoteOrigin` "'+t+'" is not present in the `allowedRemoteOrigins` array.'):Xn.b("Cannot leverage `SafeWindowPostMessageChannel` without a defined `allowedRemoteOrigins` array.")},tr=function(e){return e&&"https://"===e.substr(0,8)},nr=function(e){var t=e._messageHandler;e._messageHandler=function(){var n=e.allowedRemoteOrigins,r=e.remoteOrigin;er(n,r),t(...arguments)}},rr=Yn.extend(Jn,{outgoingWindow:v.g({readOnly:!0,get:function(){var e=window.opener||window.parent;return e?{actualOutgoingWindow:e,postMessage:function(e,t){var n=this.actualOutgoingWindow;if(n.postMessage)return n.postMessage(e,t);d.b.warn("ParentWindowChannel: postMessage of "+e+" to detached iframe at "+t+" was ignored")}}:null}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"SafeParentWindowPostMessageChannel"}}),ir=n(1421);function ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,or(r.key),r)}}function or(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}var sr=function(){function e(e,t,n){this._postMessageTarget=e,this._postMessageTargetOrigin=t,this._buildInfo=n}var t,n,r=e.prototype;return r.exceptionHandler=function(e){var t=Object.assign(fe(e),{buildInfo:this._buildInfo}),n=this._createCrashMessage(t);this._postMessageTarget.postMessage(n,this._postMessageTargetOrigin)},r._createCrashMessage=function(e){var t={jsonrpc:"2.0",method:"MessagingFromChildProtocol-didEnd",params:["UNCAUGHT_EXCEPTION",e]};return JSON.stringify(t)},t=e,(n=[{key:"isExceptionHandlingEnabled",get:function(){return!0}},{key:"isExceptionHandlingFatal",get:function(){return!0}}])&&ar(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),cr=function(e,t){e&&!N.a(e)&&Object(mt.b)(new Error("Application options specified is not a hash.")),N.a(t)||Object(mt.b)(new Error("initializationOptions specified is not a hash."));var n=t.defaultApplicationClass,r=t.defaultDelegateClass,i=t.defaultDelegateClassProtocol;n&&r&&i||Object(mt.b)(new Error("initializationOptions must define defaultApplicationClass, defaultDelegateClass, and defaultDelegateClassProtocol"));var a=function(e){var t={};return e&&Object.keys(e).forEach((function(n){t[n]=e[n]||void 0})),t}(e),o=a.applicationClass,s=void 0===o?n:o,c=a.delegateClass,l=void 0===c?r:c,u=a.rootViewControllerClass,d=void 0===u?zn.a:u;s===n||s.subclassOf(n)||Object(mt.b)(new Error("Specifed application class is not a subclass of "+Ne.a(n))),l===r||l.subclassOf(r)||ee(l,i)||Object(mt.b)(new Error("Specified application delegate class is neither a subclass of "+Ne.a(r)+" nor implements "+i)),d===zn.a||d.subclassOf(zn.a)||Object(mt.b)(new Error("Specifed root view controller class is not a subclass of CW.ViewController"));var h=s.create({rootViewController:d});if(!h.isRoot&&(Object(Hn.c)()||Object(Hn.b)())){var f=globalThis.parent,p=Object(Hn.a)(),g=globalThis.__CW_BUILD_INFO,m=new sr(f,p,g);ir.b(m)}var v=l!==s?l.create():h;h.delegate=v,h.setup()},lr=dt.extend({mixinDependencies:[Fn],staticMembers:{main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};N.a(e)&&e.rootViewControllerClass&&Object(mt.b)(new Error("ProcessKit Application is not intended for UI display")),cr(e,{defaultApplicationClass:lr,defaultDelegateClass:Zn,defaultDelegateClassProtocol:Qn})},__QUALIFIED_CLASS_NAME__:"Application"},allowedRemoteOrigins:y.c({type:Array,readOnly:!0}),applicationName:y.c({type:String,readOnly:!0,get:function(){var e=this.processInfo;return e?e.processName:void 0}}),primaryInteractionMode:v.g({readOnly:!0,type:String,binding:_.c("_primaryInteractionMode")}),platformType:v.g({readOnly:!0,type:String,binding:_.c("_platformType")}),deviceType:v.g({readOnly:!0,type:String,binding:_.c("_deviceType")}),sessionInfo:v.g({type:Object,defaultValue:Me.b(Object)}),hostInfo:v.g({type:Object,defaultValue:Me.b(Object)}),processState:v.g({readOnly:!0,binding:_.c("_processStateInternal")}),delegate:y.c({type:Qn}),isRoot:y.c({type:Boolean,defaultValue:!1}),remoteOrigin:y.c({type:String,defaultValue:Object(Hn.a)()}),setup:function(){if(H(this.processState,W.NONE),this.isRoot||!Object(Hn.c)()&&!Object(Hn.b)()){this.parentProcessReferenceClass=null,this.start();var e=Kn.sharedInstance,t={primaryInteractionMode:e.primaryInteractionMode,platformType:e.platformType,deviceType:e.deviceType},n={processId:Wn.a(),launchOptions:{launchReason:Ft.USER_LAUNCH}};this.beginLaunching({},t,n)}else{var r=this.allowedRemoteOrigins,i=this.remoteOrigin;this.channel=this._parentChannelProtocolClass.create({allowedRemoteOrigins:r,remoteOrigin:i}),this.start(),Object(Hn.b)()&&window.addEventListener("beforeunload",(function(){dt.application.terminateWithReasonAndInfo(Wt.USER_INITIATED,{})}))}},run:function(){var e=this,t=this.delegate,n=this.processInfo.launchOptions;return b.a.resolve().then((function(){return e.configureApplication()})).then((function(){return t.applicationWillFinishLaunching(e,n)})).then((function(){return dt.prototype.run.call(e)})).then((function(){return t.applicationDidFinishLaunching(e,n)})).catch((function(e){throw e}))},configureApplication:function(){H(this.processState,W.LOADED);var e=this.hostInfo,t=e.primaryInteractionMode,n=e.platformType,r=e.deviceType;if(!t||!Object.keys(Vn).includes(t))throw new we("hostInfo must include a valid primary interaction mode");return this._primaryInteractionMode=t,this._platformType=n,this._deviceType=r,b.a.resolve()},createMessagingChannel:function(e,t,n){var r=this.parentProcessReference;return r&&r.channel||Object(mt.b)(new Error("Unable to connect to parent. Can not create MessagingChannel")),r.createMessagingChannel(e,t,n),r.remoteProxy},presentViewController:function(e){var t,n=this;if(this._paneManager)t=this.__s._$5bL$presentViewController.apply(this,arguments);else{var r=dt.prototype,i=r.Initializers,a=r.presentViewController;this.rootViewController=zn.a,t=b.a.all(i.map((function(e){return e.create().run(n)}))).then((function(){return a.call(n,e)}))}return t},_processStateInternal:v.g({type:W,defaultValue:W.NONE}),_primaryInteractionMode:v.g({type:String}),_platformType:v.g({type:String}),_deviceType:v.g({type:String}),_parentChannelProtocolClass:y.c({type:Ae.a,defaultValue:rr}),__superMap:{_$5bL$presentViewController:"presentViewController"}}),ur={mixinDependencies:[Qn],applicationDidBecomeActive:G.a.define(),applicationWillResignActive:G.a.define(),applicationDidEnterBackground:G.a.define(),applicationWillEnterForeground:G.a.define()},dr={applicationDidBecomeActive:function(e){},applicationWillResignActive:function(e){},applicationDidEnterBackground:function(e){},applicationWillEnterForeground:function(e){}},hr=Zn.extend(ur,dr,{staticMembers:{__QUALIFIED_CLASS_NAME__:"UIApplicationDelegate"}}),fr=Fe.a.extend({action:function(){!function(){var e=document.querySelector('meta[name="viewport"]'),t=e||document.createElement("meta");t.content="width=device-width, initial-scale=1, viewport-fit=cover",e||(t.name="viewport",document.head.appendChild(t))}()},staticMembers:{__QUALIFIED_CLASS_NAME__:"MobileBrowserInitializer"}}),pr=Fe.a.extend({action:function(){!function(){var e=!1;gr&&(e={passive:!1,useCapture:!0}),document.body.addEventListener("touchmove",(function(e){return e.preventDefault()}),e)}(),Kn.sharedInstance.isiPhone&&!Object(Hn.c)()&&(mr(),globalThis.addEventListener("resize",mr),globalThis.addEventListener("orientationchange",(function(){return setTimeout(mr,400)})))},staticMembers:{__QUALIFIED_CLASS_NAME__:"DisableTouchScrollingInitializer"}}),gr=function(){var e=!1;try{globalThis.addEventListener("test",null,{get passive(){e=!0}})}catch(t){}return e}();function mr(){Kn.sharedInstance.isiPhone&&globalThis.innerHeight<globalThis.innerWidth&&(d.b.debug("Adjusting scroll position for landscape orientation current scrollY: "+globalThis.scrollY),globalThis.scrollTo(0,1),setTimeout((function(){return globalThis.scrollTo(0,0)}),0))}var vr=Object(S.b)("UIState",{NONE:"NONE",BACKGROUND:"BACKGROUND",INACTIVE_FOREGROUND:"INACTIVE_FOREGROUND",ACTIVE_FOREGROUND:"ACTIVE_FOREGROUND"});function yr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return V(vr,e,...n)}var _r={main:function(){cr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{defaultApplicationClass:wr,defaultDelegateClass:hr,defaultDelegateClassProtocol:ur})}},br={disableTouchScrolling:y.c({type:Boolean,defaultValue:!1}),uiState:v.g({readOnly:!0,binding:_.c("_uiState")}),delegate:y.c({type:ur}),run:function(){var e=this;return this.__s._$qZ$run.apply(this,arguments).then((function(){e.parentProcessReference||e.invokeLater((function(){z(e.processState,W.NONE,W.TERMINATED)||e._transitionRootApplicationToActiveForeground()}))}))},configureApplication:function(){var e=this;return this.__s._$183$configureApplication.apply(this,arguments).then((function(){return e._configureUIForInteractionMode()}))},stop:function(){return this._uiState=vr.NONE,this.__s._$1II$stop.apply(this,arguments)},beginLaunching:function(){var e=this,t=arguments;this._waitForWindowLoad().then((function(){return e.__s._$1Kc$beginLaunching.apply(e,t)}))},didBecomeActive:function(){H(this.processState,W.RUNNING),yr(this.uiState,vr.INACTIVE_FOREGROUND),this._uiState=vr.ACTIVE_FOREGROUND,this.delegate.applicationDidBecomeActive(this)},willResignActive:function(){H(this.processState,W.RUNNING),yr(this.uiState,vr.ACTIVE_FOREGROUND),this.delegate.applicationWillResignActive(this),this._uiState=vr.INACTIVE_FOREGROUND},willEnterForeground:function(){var e=this;H(this.processState,W.RUNNING),yr(this.uiState,vr.NONE,vr.BACKGROUND),this.invokeLater((function(){return b.a.resolve().then((function(){return e.delegate.applicationWillEnterForeground(e)})).then((function(){return e._uiState=vr.INACTIVE_FOREGROUND})).then((function(){return e._notifyParentThatProcessIsReadyToBeDisplayedIfNeeded()}))}))},didEnterBackground:function(){H(this.processState,W.RUNNING),yr(this.uiState,vr.NONE,vr.INACTIVE_FOREGROUND),this._uiState=vr.BACKGROUND,this.delegate.applicationDidEnterBackground(this)},didReceiveSyntheticBrowserEvent:function(e){},_uiState:v.g({type:vr,defaultValue:vr.NONE}),_waitForWindowLoad:function(){var e=b.a.create();return"complete"===document.readyState?e.resolve():window.addEventListener("load",(function(){e.resolve()})),e},_createParentProcessReference:function(e){var t=this.__s._$2tb$_createParentProcessReference.apply(this,arguments);return t.createMessagingChannel(Q,this,q),t},_configureUIForInteractionMode:function(){var e=this.primaryInteractionMode;e===Vn.TOUCH?this._configureUIForTouchInteractionMode():this._configureUIForMouseInteractionMode(),w.b("data-primary-interaction-mode",e.toLowerCase(),globalThis.document.documentElement)},_configureUIForTouchInteractionMode:function(){var e=this.disableTouchScrolling;this.Initializers.push(fr),e&&this.Initializers.push(pr)},_configureUIForMouseInteractionMode:function(){},_transitionRootApplicationToActiveForeground:function(){var e=this,t=this.listen("uiState",(function(){e.uiState===vr.INACTIVE_FOREGROUND&&(t.disconnect(),e.invokeLater((function(){return e.didBecomeActive()})))}));this.willEnterForeground()},_notifyParentThatProcessIsReadyToBeDisplayedIfNeeded:function(){H(this.processState,W.RUNNING),yr(this.uiState,vr.INACTIVE_FOREGROUND);var e=this.parentProcessReference;e&&e.isConnected&&this.sendMessageWithRetryAndTerminateOnError((function(){return e.remoteProxy.isReadyToBeDisplayed()}),"MessagingFromUIChildProtocol-isReadyToBeDisplayed")},__superMap:{_$qZ$run:"run",_$183$configureApplication:"configureApplication",_$1II$stop:"stop",_$1Kc$beginLaunching:"beginLaunching",_$2tb$_createParentProcessReference:"_createParentProcessReference"}},wr=lr.extend(Object.assign(br,{mixinDependencies:[Pn,Q],staticMembers:_r}),{staticMembers:{__QUALIFIED_CLASS_NAME__:"UIApplication"}}),Sr=n(1420);Object(Sr.b)(Object(Sr.c)(),{"DriveUI.Common.Cancel":"Cancel","DriveUI.Common.Done":"Done","DriveUI.Common.Confirm":"OK","DriveUI.Common.Application.Title":"iCloudDrive","DriveUI.Common.Button.OK":"OK","DriveUI.Common.Button.ClearText":"Clear text","DriveUI.Common.NewFolder":"New Folder","DriveUI.Common.Move":"Move","DriveUI.Common.Rename.Folder":"Rename Folder","DriveUI.Common.Rename.Document":"Rename Document","DriveUI.Common.Rename.Spreadsheet":"Rename Spreadsheet","DriveUI.Common.Rename.Presentation":"Rename Presentation","DriveUI.Common.Rename.File":"Rename File","DriveUI.Common.Progress.Waiting":"Waiting"});var Er=n(1429);Object(Sr.b)(Object(Sr.c)(),{"DriveUI.Alert.UnexpectedError.Message":"An unexpected error has occured.","DriveUI.Alert.UnexpectedError.Description":"Please try again later.","MenuPane.Button.BackdropClose":"Close menu"});var Ir,Cr,Or,Tr,Ar=n(1579),Nr=Ar.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",name:"content"}],classes:["drive-ui","root"]}},__QUALIFIED_CLASS_NAME__:"RootView"}}),Mr=!1,Dr={logger:console.log.bind(console),logLevel:"ERROR"};function Rr(){if("DEBUG"===Dr.logLevel){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("[Focusyn]:"),Dr.logger.apply(Dr.logger,t)}}function Lr(e,t){return!(!Tr||Tr!==e)||kr(t)}function kr(e){return!!Mr||(Pr(Or)!==e||!Fr(e))&&(!Ir||!Fr(e))}function xr(e,t){var n=e.types,r=e.roles,i=e.dataAttributes,a=t.getAttribute("role"),o=t.getAttribute("type");return!(!a||!r.has(a))||!!n.find((function(e){var n=e[0],r=e[1];if(t instanceof n)return!r||o&&r.has(o)}))||t instanceof HTMLElement&&!!i.find((function(e){var n=e[0],r=e[1];return t.dataset[n]===r}))}function Fr(e){return Rr("isFocusBlockedElement",e),!(!(e&&e instanceof Element)||xr(Br,e))&&(!!xr(Ur,e)||Fr(e.parentElement))}function Pr(e){return e instanceof HTMLLabelElement&&e.htmlFor&&document.getElementById(e.htmlFor)}var jr,Ur={types:[[HTMLButtonElement],[HTMLLabelElement],[HTMLInputElement,new Set(["checkbox","radio","range","submit","reset","file","color"])]],roles:new Set(["button","checkbox","radio","switch"]),dataAttributes:[["focusyn","block"]]},Br={types:[],roles:new Set([]),dataAttributes:[["focusyn","allow"]]},Vr=zn.a.extend({viewClass:Nr,contentViewController:Er.b({viewOutlet:"content"}),staticMembers:{__QUALIFIED_CLASS_NAME__:"RootViewController"}});Rr("start",jr=window.document.body),jr.addEventListener("mousedown",(function(e){if(Rr("mousedownHandler",e.target,Ir),Ir=e.target,!Lr(document.activeElement,Ir)&&(e.preventDefault(),Ir instanceof HTMLInputElement&&"range"===Ir.getAttribute("type"))){var t=Ir.getBoundingClientRect(),n=t.x,r=t.width,i=Ir;Cr=function(e){var t=e.clientX,a=Math.min(Math.max(t,n),r+n)-n,o=parseInt(i.min)||0,s=((parseInt(i.max)||100)-o)/r,c=Math.round(a*s);i.value=""+c},window.addEventListener("mousemove",Cr)}}),!0),jr.addEventListener("mouseup",(function(e){if(Rr("mouseupHandler",e.target,Ir),!Lr(document.activeElement,Ir)){e.preventDefault();var t=Pr(Ir);t&&!kr(t)&&t instanceof HTMLInputElement&&(t.disabled=!0,setTimeout((function(){t.disabled=!1;var e=new MouseEvent("click");t.dispatchEvent(e)}),0))}Cr&&window.removeEventListener("mousemove",Cr),Cr=null,Ir=null,Or=e.target}),!0),jr.addEventListener("focus",(function(e){if(Rr("focusHandler",e.target,e.relatedTarget),!kr(e.target))return e.preventDefault(),e.stopPropagation(),void(document.activeElement===Ir&&(Tr=document.activeElement).blur());Rr("focus",e.target,e.relatedTarget)}),!0),jr.addEventListener("blur",(function(e){Rr("blurHandler",e.target,e.relatedTarget,Ir,Or),Lr(e.target,e.relatedTarget||Ir)?Rr("blur",e.target):(e.preventDefault(),e.stopPropagation(),Tr=null)}),!0),jr.addEventListener("keydown",(function(e){Mr=!0}),!0),jr.addEventListener("keyup",(function(e){Mr=!1}),!0);var Wr=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};function zr(e,t,n){return n!==e.get(t)&&e.set(t,n),e}function Hr(e,t,n){window.__startFilteringErrors(e,t,n)}function Gr(e,t,n){window.__startFilteringUnhandledRejections(e,t,n)}var $r=n(1363);function Kr(e,t){return""!==e.stack&&!function(e){if(qr.some((function(t){return t.test(e.stack)})))return!0;if(e.message&&Qr.some((function(t){return t.test(e.message)})))return!0;var t=e.stack.match(Zr);return null!==t&&!t.every(Xr)}(e)&&Xr(e.filename)}new WeakSet;var Qr=[/\b__gCrWeb\./,/\bzaloJSV2\b/,/\bIFrameMessageHandler\b/],qr=[/^@user-script/,/<anonymous>:\d+/,/extension:\/\//,/^global code@/],Zr=/(https:\/\/[a-zA-Z0-9.]+\/)/g,Yr=[/https:\/\/[\w.-]+\.icloud\.com\//,/https:\/\/[\w.-]+\.icloud\.com\.cn\//,/https:\/\/[\w.-]+\.apple\.com\//,/https:\/\/[\w.-]+\.icloud-sandbox\.com\//,/https:\/\/[\w.-]+\.apple-cloudkit\.com\//,/https:\/\/[\w.-]+\.apple-mapkit\.com\//,/https:\/\/[\w.-]+\.cdn-apple\.com\//];function Xr(e){return Yr.some((function(t){return t.test(e)}))}function Jr(){Jr=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,i){var a=RegExp(e,r);return t.set(a,i||t.get(e)),ei(a,n.prototype)}function r(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){var i=r[n];if("number"==typeof i)t[n]=e[i];else{for(var a=0;void 0===e[i[a]]&&a+1<i.length;)a++;t[n]=e[i[a]]}return t}),Object.create(null))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ei(e,t)}(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);if(n){n.groups=r(n,this);var i=n.indices;i&&(i.groups=r(i,this))}return n},n.prototype[Symbol.replace]=function(n,i){if("string"==typeof i){var a=t.get(this);return e[Symbol.replace].call(this,n,i.replace(/\$<([^>]+)>/g,(function(e,t){var n=a[t];return"$"+(Array.isArray(n)?n.join("$"):n)})))}if("function"==typeof i){var o=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(r(e,o)),i.apply(this,e)}))}return e[Symbol.replace].call(this,n,i)},Jr.apply(this,arguments)}function ei(e,t){return ei=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ei(e,t)}var ti=/\/index\.html/,ni=/^(.*:\d+:\d+.*)$/m;function ri(e){var t=e.match(ni);return t?t[1]:""}var ii,ai,oi=Jr(/(?:at (?:.+?\()?|@)(.+):([0-9]+):([0-9]+)/,{filename:1,lineNumber:2,columnNumber:3});function si(e){var t=e.match(oi);if(t)return t.groups}function ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ui(r.key),r)}}function li(e,t,n){return t&&ci(e.prototype,t),n&&ci(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ui(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}function di(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hi(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,gi(e,t)}function fi(e){var t="function"===typeof Map?new Map:void 0;return fi=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(pi())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&gi(i,n.prototype),i}(e,arguments,mi(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),gi(n,e)},fi(e)}function pi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(pi=function(){return!!e})()}function gi(e,t){return gi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gi(e,t)}function mi(e){return mi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mi(e)}!function(e){e.assertEqual=function(e){return e},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=function(e){var t={};for(var n of e)t[n]=n;return t},e.getValidEnumValues=function(t){var n=e.objectKeys(t).filter((function(e){return"number"!==typeof t[t[e]]})),r={};for(var i of n)r[i]=t[i];return e.objectValues(r)},e.objectValues=function(t){return e.objectKeys(t).map((function(e){return t[e]}))},e.objectKeys="function"===typeof Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=function(e,t){for(var n of e)if(t(n))return n},e.isInteger="function"===typeof Number.isInteger?function(e){return Number.isInteger(e)}:function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e},e.joinValues=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((function(e){return"string"===typeof e?"'"+e+"'":e})).join(t)},e.jsonStringifyReplacer=function(e,t){return"bigint"===typeof t?t.toString():t}}(ii||(ii={})),function(e){e.mergeShapes=function(e,t){return Object.assign({},e,t)}}(ai||(ai={}));var vi=ii.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),yi=function(e){switch(typeof e){case"undefined":return vi.undefined;case"string":return vi.string;case"number":return isNaN(e)?vi.nan:vi.number;case"boolean":return vi.boolean;case"function":return vi.function;case"bigint":return vi.bigint;case"symbol":return vi.symbol;case"object":return Array.isArray(e)?vi.array:null===e?vi.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?vi.promise:"undefined"!==typeof Map&&e instanceof Map?vi.map:"undefined"!==typeof Set&&e instanceof Set?vi.set:"undefined"!==typeof Date&&e instanceof Date?vi.date:vi.object;default:return vi.unknown}},_i=ii.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),bi=function(e){return JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:")},wi=function(e){function t(n){var r;(r=e.call(this)||this).issues=[],r.addIssue=function(e){r.issues=[...r.issues,e]},r.addIssues=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r.issues=[...r.issues,...e]};var i=(this instanceof t?this.constructor:void 0).prototype;return Object.setPrototypeOf?Object.setPrototypeOf(di(r),i):r.__proto__=i,r.name="ZodError",r.issues=n,r}hi(t,e);var n=t.prototype;return n.format=function(e){var t=e||function(e){return e.message},n={_errors:[]};return function e(r){for(var i of r.issues)if("invalid_union"===i.code)i.unionErrors.map(e);else if("invalid_return_type"===i.code)e(i.returnTypeError);else if("invalid_arguments"===i.code)e(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else for(var a=n,o=0;o<i.path.length;){var s=i.path[o];o===i.path.length-1?(a[s]=a[s]||{_errors:[]},a[s]._errors.push(t(i))):a[s]=a[s]||{_errors:[]},a=a[s],o++}}(this),n},t.assert=function(e){if(!(e instanceof t))throw new Error("Not a ZodError: "+e)},n.toString=function(){return this.message},n.flatten=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e.message},t={},n=[];for(var r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}},li(t,[{key:"errors",get:function(){return this.issues}},{key:"message",get:function(){return JSON.stringify(this.issues,ii.jsonStringifyReplacer,2)}},{key:"isEmpty",get:function(){return 0===this.issues.length}},{key:"formErrors",get:function(){return this.flatten()}}]),t}(fi(Error));wi.create=function(e){return new wi(e)};var Si=function(e,t){var n;switch(e.code){case _i.invalid_type:n=e.received===vi.undefined?"Required":"Expected "+e.expected+", received "+e.received;break;case _i.invalid_literal:n="Invalid literal value, expected "+JSON.stringify(e.expected,ii.jsonStringifyReplacer);break;case _i.unrecognized_keys:n="Unrecognized key(s) in object: "+ii.joinValues(e.keys,", ");break;case _i.invalid_union:n="Invalid input";break;case _i.invalid_union_discriminator:n="Invalid discriminator value. Expected "+ii.joinValues(e.options);break;case _i.invalid_enum_value:n="Invalid enum value. Expected "+ii.joinValues(e.options)+", received '"+e.received+"'";break;case _i.invalid_arguments:n="Invalid function arguments";break;case _i.invalid_return_type:n="Invalid function return type";break;case _i.invalid_date:n="Invalid date";break;case _i.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(n='Invalid input: must include "'+e.validation.includes+'"',"number"===typeof e.validation.position&&(n=n+" at one or more positions greater than or equal to "+e.validation.position)):"startsWith"in e.validation?n='Invalid input: must start with "'+e.validation.startsWith+'"':"endsWith"in e.validation?n='Invalid input: must end with "'+e.validation.endsWith+'"':ii.assertNever(e.validation):n="regex"!==e.validation?"Invalid "+e.validation:"Invalid";break;case _i.too_small:n="array"===e.type?"Array must contain "+(e.exact?"exactly":e.inclusive?"at least":"more than")+" "+e.minimum+" element(s)":"string"===e.type?"String must contain "+(e.exact?"exactly":e.inclusive?"at least":"over")+" "+e.minimum+" character(s)":"number"===e.type?"Number must be "+(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ")+e.minimum:"date"===e.type?"Date must be "+(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ")+new Date(Number(e.minimum)):"Invalid input";break;case _i.too_big:n="array"===e.type?"Array must contain "+(e.exact?"exactly":e.inclusive?"at most":"less than")+" "+e.maximum+" element(s)":"string"===e.type?"String must contain "+(e.exact?"exactly":e.inclusive?"at most":"under")+" "+e.maximum+" character(s)":"number"===e.type?"Number must be "+(e.exact?"exactly":e.inclusive?"less than or equal to":"less than")+" "+e.maximum:"bigint"===e.type?"BigInt must be "+(e.exact?"exactly":e.inclusive?"less than or equal to":"less than")+" "+e.maximum:"date"===e.type?"Date must be "+(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than")+" "+new Date(Number(e.maximum)):"Invalid input";break;case _i.custom:n="Invalid input";break;case _i.invalid_intersection_types:n="Intersection results could not be merged";break;case _i.not_multiple_of:n="Number must be a multiple of "+e.multipleOf;break;case _i.not_finite:n="Number must be finite";break;default:n=t.defaultError,ii.assertNever(e)}return{message:n}},Ei=Si;function Ii(e){Ei=e}function Ci(){return Ei}var Oi=function(e){var t=e.data,n=e.path,r=e.errorMaps,i=e.issueData,a=[...n,...i.path||[]],o=Object.assign({},i,{path:a});if(void 0!==i.message)return Object.assign({},i,{path:a,message:i.message});var s="",c=r.filter((function(e){return!!e})).slice().reverse();for(var l of c)s=l(o,{data:t,defaultError:s}).message;return Object.assign({},i,{path:a,message:s})},Ti=[];function Ai(e,t){var n=Ci(),r=Oi({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Si?void 0:Si].filter((function(e){return!!e}))});e.common.issues.push(r)}var Ni,Mi,Di,Ri=function(){function e(){this.value="valid"}var t=e.prototype;return t.dirty=function(){"valid"===this.value&&(this.value="dirty")},t.abort=function(){"aborted"!==this.value&&(this.value="aborted")},e.mergeArray=function(e,t){var n=[];for(var r of t){if("aborted"===r.status)return Li;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}},e.mergeObjectAsync=async function(t,n){var r=[];for(var i of n){var a=await i.key,o=await i.value;r.push({key:a,value:o})}return e.mergeObjectSync(t,r)},e.mergeObjectSync=function(e,t){var n={};for(var r of t){var i=r.key,a=r.value;if("aborted"===i.status)return Li;if("aborted"===a.status)return Li;"dirty"===i.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"===i.value||"undefined"===typeof a.value&&!r.alwaysSet||(n[i.value]=a.value)}return{status:e.value,value:n}},e}(),Li=Object.freeze({status:"aborted"}),ki=function(e){return{status:"dirty",value:e}},xi=function(e){return{status:"valid",value:e}},Fi=function(e){return"aborted"===e.status},Pi=function(e){return"dirty"===e.status},ji=function(e){return"valid"===e.status},Ui=function(e){return"undefined"!==typeof Promise&&e instanceof Promise};function Bi(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function Vi(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}"function"===typeof SuppressedError&&SuppressedError,function(e){e.errToObj=function(e){return"string"===typeof e?{message:e}:e||{}},e.toString=function(e){return"string"===typeof e?e:null===e||void 0===e?void 0:e.message}}(Ni||(Ni={}));var Wi=function(){function e(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}return li(e,[{key:"path",get:function(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}]),e}(),zi=function(e,t){if(ji(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;var t=new wi(e.common.issues);return this._error=t,this._error}}};function Hi(e){if(!e)return{};var t=e.errorMap,n=e.invalid_type_error,r=e.required_error,i=e.description;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:function(t,i){var a,o,s=e.message;return"invalid_enum_value"===t.code?{message:null!==s&&void 0!==s?s:i.defaultError}:"undefined"===typeof i.data?{message:null!==(a=null!==s&&void 0!==s?s:r)&&void 0!==a?a:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(o=null!==s&&void 0!==s?s:n)&&void 0!==o?o:i.defaultError}},description:i}}var Gi,$i=function(){var e=t.prototype;function t(e){var t=this;this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:function(e){return t["~validate"](e)}}}return e._getType=function(e){return yi(e.data)},e._getOrReturnCtx=function(e,t){return t||{common:e.parent.common,data:e.data,parsedType:yi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}},e._processInputParams=function(e){return{status:new Ri,ctx:{common:e.parent.common,data:e.data,parsedType:yi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}},e._parseSync=function(e){var t=this._parse(e);if(Ui(t))throw new Error("Synchronous parse encountered promise.");return t},e._parseAsync=function(e){var t=this._parse(e);return Promise.resolve(t)},e.parse=function(e,t){var n=this.safeParse(e,t);if(n.success)return n.data;throw n.error},e.safeParse=function(e,t){var n,r={common:{issues:[],async:null!==(n=null===t||void 0===t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:yi(e)},i=this._parseSync({data:e,path:r.path,parent:r});return zi(r,i)},e["~validate"]=function(e){var t,n,r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:yi(e)};if(!this["~standard"].async)try{var i=this._parseSync({data:e,path:[],parent:r});return ji(i)?{value:i.value}:{issues:r.common.issues}}catch(a){(null===(n=null===(t=null===a||void 0===a?void 0:a.message)||void 0===t?void 0:t.toLowerCase())||void 0===n?void 0:n.includes("encountered"))&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then((function(e){return ji(e)?{value:e.value}:{issues:r.common.issues}}))},e.parseAsync=async function(e,t){var n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error},e.safeParseAsync=async function(e,t){var n={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:yi(e)},r=this._parse({data:e,path:n.path,parent:n}),i=await(Ui(r)?r:Promise.resolve(r));return zi(n,i)},e.refine=function(e,t){return this._refinement((function(n,r){var i=e(n),a=function(){return r.addIssue(Object.assign({code:_i.custom},function(e){return"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t}(n)))};return"undefined"!==typeof Promise&&i instanceof Promise?i.then((function(e){return!!e||(a(),!1)})):!!i||(a(),!1)}))},e.refinement=function(e,t){return this._refinement((function(n,r){return!!e(n)||(r.addIssue("function"===typeof t?t(n,r):t),!1)}))},e._refinement=function(e){return new Ga({schema:this,typeName:ro.ZodEffects,effect:{type:"refinement",refinement:e}})},e.superRefine=function(e){return this._refinement(e)},e.optional=function(){return $a.create(this,this._def)},e.nullable=function(){return Ka.create(this,this._def)},e.nullish=function(){return this.nullable().optional()},e.array=function(){return Oa.create(this)},e.promise=function(){return Ha.create(this,this._def)},e.or=function(e){return Na.create([this,e],this._def)},e.and=function(e){return La.create(this,e,this._def)},e.transform=function(e){return new Ga(Object.assign({},Hi(this._def),{schema:this,typeName:ro.ZodEffects,effect:{type:"transform",transform:e}}))},e.default=function(e){var t="function"===typeof e?e:function(){return e};return new Qa(Object.assign({},Hi(this._def),{innerType:this,defaultValue:t,typeName:ro.ZodDefault}))},e.brand=function(){return new Xa(Object.assign({typeName:ro.ZodBranded,type:this},Hi(this._def)))},e.catch=function(e){var t="function"===typeof e?e:function(){return e};return new qa(Object.assign({},Hi(this._def),{innerType:this,catchValue:t,typeName:ro.ZodCatch}))},e.describe=function(e){return new(0,this.constructor)(Object.assign({},this._def,{description:e}))},e.pipe=function(e){return Ja.create(this,e)},e.readonly=function(){return eo.create(this)},e.isOptional=function(){return this.safeParse(void 0).success},e.isNullable=function(){return this.safeParse(null).success},li(t,[{key:"description",get:function(){return this._def.description}}]),t}(),Ki=/^c[^\s-]{8,}$/i,Qi=/^[0-9a-z]+$/,qi=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Zi=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Yi=/^[a-z0-9_-]{21}$/i,Xi=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Ji=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ea=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ta=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,na=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ra=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ia=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,aa=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,oa=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,sa="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ca=new RegExp("^"+sa+"$");function la(e){var t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=t+"\\.\\d{"+e.precision+"}":null==e.precision&&(t+="(\\.\\d+)?"),t}function ua(e){var t=sa+"T"+la(e),n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=t+"("+n.join("|")+")",new RegExp("^"+t+"$")}function da(e,t){if(!Xi.test(e))return!1;try{var n=e.split(".")[0],r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return"object"===typeof i&&null!==i&&!(!i.typ||!i.alg)&&(!t||i.alg===t)}catch(a){return!1}}function ha(e,t){return!("v4"!==t&&t||!na.test(e))||!("v6"!==t&&t||!ia.test(e))}var fa=function(e){function t(){return e.apply(this,arguments)||this}hi(t,e);var n=t.prototype;return n._parse=function(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==vi.string){var t=this._getOrReturnCtx(e);return Ai(t,{code:_i.invalid_type,expected:vi.string,received:t.parsedType}),Li}var n,r,i=new Ri,a=void 0;for(var o of this._def.checks)if("min"===o.kind)e.data.length<o.value&&(Ai(a=this._getOrReturnCtx(e,a),{code:_i.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if("max"===o.kind)e.data.length>o.value&&(Ai(a=this._getOrReturnCtx(e,a),{code:_i.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if("length"===o.kind){var s=e.data.length>o.value,c=e.data.length<o.value;(s||c)&&(a=this._getOrReturnCtx(e,a),s?Ai(a,{code:_i.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):c&&Ai(a,{code:_i.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),i.dirty())}else if("email"===o.kind)ea.test(e.data)||(Ai(a=this._getOrReturnCtx(e,a),{validation:"email",code:_i.invalid_string,message:o.message}),i.dirty());else if("emoji"===o.kind)Gi||(Gi=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Gi.test(e.data)||(Ai(a=this._getOrReturnCtx(e,a),{validation:"emoji",code:_i.invalid_string,message:o.message}),i.dirty());else if("uuid"===o.kind)Zi.test(e.data)||(Ai(a=this._getOrReturnCtx(e,a),{validation:"uuid",code:_i.invalid_string,message:o.message}),i.dirty());else if("nanoid"===o.kind)Yi.test(e.data)||(Ai(a=this._getOrReturnCtx(e,a),{validation:"nanoid",code:_i.invalid_string,message:o.message}),i.dirty());else if("cuid"===o.kind)Ki.test(e.data)||(Ai(a=this._getOrReturnCtx(e,a),{validation:"cuid",code:_i.invalid_string,message:o.message}),i.dirty());else if("cuid2"===o.kind)Qi.test(e.data)||(Ai(a=this._getOrReturnCtx(e,a),{validation:"cuid2",code:_i.invalid_string,message:o.message}),i.dirty());else if("ulid"===o.kind)qi.test(e.data)||(Ai(a=this._getOrReturnCtx(e,a),{validation:"ulid",code:_i.invalid_string,message:o.message}),i.dirty());else if("url"===o.kind)try{new URL(e.data)}catch(l){Ai(a=this._getOrReturnCtx(e,a),{validation:"url",code:_i.invalid_string,message:o.message}),i.dirty()}else"regex"===o.kind?(o.regex.lastIndex=0,o.regex.test(e.data)||(Ai(a=this._getOrReturnCtx(e,a),{validation:"regex",code:_i.invalid_string,message:o.message}),i.dirty())):"trim"===o.kind?e.data=e.data.trim():"includes"===o.kind?e.data.includes(o.value,o.position)||(Ai(a=this._getOrReturnCtx(e,a),{code:_i.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),i.dirty()):"toLowerCase"===o.kind?e.data=e.data.toLowerCase():"toUpperCase"===o.kind?e.data=e.data.toUpperCase():"startsWith"===o.kind?e.data.startsWith(o.value)||(Ai(a=this._getOrReturnCtx(e,a),{code:_i.invalid_string,validation:{startsWith:o.value},message:o.message}),i.dirty()):"endsWith"===o.kind?e.data.endsWith(o.value)||(Ai(a=this._getOrReturnCtx(e,a),{code:_i.invalid_string,validation:{endsWith:o.value},message:o.message}),i.dirty()):"datetime"===o.kind?ua(o).test(e.data)||(Ai(a=this._getOrReturnCtx(e,a),{code:_i.invalid_string,validation:"datetime",message:o.message}),i.dirty()):"date"===o.kind?ca.test(e.data)||(Ai(a=this._getOrReturnCtx(e,a),{code:_i.invalid_string,validation:"date",message:o.message}),i.dirty()):"time"===o.kind?new RegExp("^"+la(o)+"$").test(e.data)||(Ai(a=this._getOrReturnCtx(e,a),{code:_i.invalid_string,validation:"time",message:o.message}),i.dirty()):"duration"===o.kind?Ji.test(e.data)||(Ai(a=this._getOrReturnCtx(e,a),{validation:"duration",code:_i.invalid_string,message:o.message}),i.dirty()):"ip"===o.kind?(n=e.data,("v4"!==(r=o.version)&&r||!ta.test(n))&&("v6"!==r&&r||!ra.test(n))&&(Ai(a=this._getOrReturnCtx(e,a),{validation:"ip",code:_i.invalid_string,message:o.message}),i.dirty())):"jwt"===o.kind?da(e.data,o.alg)||(Ai(a=this._getOrReturnCtx(e,a),{validation:"jwt",code:_i.invalid_string,message:o.message}),i.dirty()):"cidr"===o.kind?ha(e.data,o.version)||(Ai(a=this._getOrReturnCtx(e,a),{validation:"cidr",code:_i.invalid_string,message:o.message}),i.dirty()):"base64"===o.kind?aa.test(e.data)||(Ai(a=this._getOrReturnCtx(e,a),{validation:"base64",code:_i.invalid_string,message:o.message}),i.dirty()):"base64url"===o.kind?oa.test(e.data)||(Ai(a=this._getOrReturnCtx(e,a),{validation:"base64url",code:_i.invalid_string,message:o.message}),i.dirty()):ii.assertNever(o);return{status:i.value,value:e.data}},n._regex=function(e,t,n){return this.refinement((function(t){return e.test(t)}),Object.assign({validation:t,code:_i.invalid_string},Ni.errToObj(n)))},n._addCheck=function(e){return new t(Object.assign({},this._def,{checks:[...this._def.checks,e]}))},n.email=function(e){return this._addCheck(Object.assign({kind:"email"},Ni.errToObj(e)))},n.url=function(e){return this._addCheck(Object.assign({kind:"url"},Ni.errToObj(e)))},n.emoji=function(e){return this._addCheck(Object.assign({kind:"emoji"},Ni.errToObj(e)))},n.uuid=function(e){return this._addCheck(Object.assign({kind:"uuid"},Ni.errToObj(e)))},n.nanoid=function(e){return this._addCheck(Object.assign({kind:"nanoid"},Ni.errToObj(e)))},n.cuid=function(e){return this._addCheck(Object.assign({kind:"cuid"},Ni.errToObj(e)))},n.cuid2=function(e){return this._addCheck(Object.assign({kind:"cuid2"},Ni.errToObj(e)))},n.ulid=function(e){return this._addCheck(Object.assign({kind:"ulid"},Ni.errToObj(e)))},n.base64=function(e){return this._addCheck(Object.assign({kind:"base64"},Ni.errToObj(e)))},n.base64url=function(e){return this._addCheck(Object.assign({kind:"base64url"},Ni.errToObj(e)))},n.jwt=function(e){return this._addCheck(Object.assign({kind:"jwt"},Ni.errToObj(e)))},n.ip=function(e){return this._addCheck(Object.assign({kind:"ip"},Ni.errToObj(e)))},n.cidr=function(e){return this._addCheck(Object.assign({kind:"cidr"},Ni.errToObj(e)))},n.datetime=function(e){var t,n;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(Object.assign({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null===e||void 0===e?void 0:e.local)&&void 0!==n&&n},Ni.errToObj(null===e||void 0===e?void 0:e.message)))},n.date=function(e){return this._addCheck({kind:"date",message:e})},n.time=function(e){return"string"===typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(Object.assign({kind:"time",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision},Ni.errToObj(null===e||void 0===e?void 0:e.message)))},n.duration=function(e){return this._addCheck(Object.assign({kind:"duration"},Ni.errToObj(e)))},n.regex=function(e,t){return this._addCheck(Object.assign({kind:"regex",regex:e},Ni.errToObj(t)))},n.includes=function(e,t){return this._addCheck(Object.assign({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position},Ni.errToObj(null===t||void 0===t?void 0:t.message)))},n.startsWith=function(e,t){return this._addCheck(Object.assign({kind:"startsWith",value:e},Ni.errToObj(t)))},n.endsWith=function(e,t){return this._addCheck(Object.assign({kind:"endsWith",value:e},Ni.errToObj(t)))},n.min=function(e,t){return this._addCheck(Object.assign({kind:"min",value:e},Ni.errToObj(t)))},n.max=function(e,t){return this._addCheck(Object.assign({kind:"max",value:e},Ni.errToObj(t)))},n.length=function(e,t){return this._addCheck(Object.assign({kind:"length",value:e},Ni.errToObj(t)))},n.nonempty=function(e){return this.min(1,Ni.errToObj(e))},n.trim=function(){return new t(Object.assign({},this._def,{checks:[...this._def.checks,{kind:"trim"}]}))},n.toLowerCase=function(){return new t(Object.assign({},this._def,{checks:[...this._def.checks,{kind:"toLowerCase"}]}))},n.toUpperCase=function(){return new t(Object.assign({},this._def,{checks:[...this._def.checks,{kind:"toUpperCase"}]}))},li(t,[{key:"isDatetime",get:function(){return!!this._def.checks.find((function(e){return"datetime"===e.kind}))}},{key:"isDate",get:function(){return!!this._def.checks.find((function(e){return"date"===e.kind}))}},{key:"isTime",get:function(){return!!this._def.checks.find((function(e){return"time"===e.kind}))}},{key:"isDuration",get:function(){return!!this._def.checks.find((function(e){return"duration"===e.kind}))}},{key:"isEmail",get:function(){return!!this._def.checks.find((function(e){return"email"===e.kind}))}},{key:"isURL",get:function(){return!!this._def.checks.find((function(e){return"url"===e.kind}))}},{key:"isEmoji",get:function(){return!!this._def.checks.find((function(e){return"emoji"===e.kind}))}},{key:"isUUID",get:function(){return!!this._def.checks.find((function(e){return"uuid"===e.kind}))}},{key:"isNANOID",get:function(){return!!this._def.checks.find((function(e){return"nanoid"===e.kind}))}},{key:"isCUID",get:function(){return!!this._def.checks.find((function(e){return"cuid"===e.kind}))}},{key:"isCUID2",get:function(){return!!this._def.checks.find((function(e){return"cuid2"===e.kind}))}},{key:"isULID",get:function(){return!!this._def.checks.find((function(e){return"ulid"===e.kind}))}},{key:"isIP",get:function(){return!!this._def.checks.find((function(e){return"ip"===e.kind}))}},{key:"isCIDR",get:function(){return!!this._def.checks.find((function(e){return"cidr"===e.kind}))}},{key:"isBase64",get:function(){return!!this._def.checks.find((function(e){return"base64"===e.kind}))}},{key:"isBase64url",get:function(){return!!this._def.checks.find((function(e){return"base64url"===e.kind}))}},{key:"minLength",get:function(){var e=null;for(var t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}},{key:"maxLength",get:function(){var e=null;for(var t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}]),t}($i);function pa(e,t){var n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}fa.create=function(e){var t;return new fa(Object.assign({checks:[],typeName:ro.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},Hi(e)))};var ga=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).min=t.gte,t.max=t.lte,t.step=t.multipleOf,t}hi(t,e);var n=t.prototype;return n._parse=function(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==vi.number){var t=this._getOrReturnCtx(e);return Ai(t,{code:_i.invalid_type,expected:vi.number,received:t.parsedType}),Li}var n=void 0,r=new Ri;for(var i of this._def.checks)"int"===i.kind?ii.isInteger(e.data)||(Ai(n=this._getOrReturnCtx(e,n),{code:_i.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(Ai(n=this._getOrReturnCtx(e,n),{code:_i.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(Ai(n=this._getOrReturnCtx(e,n),{code:_i.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"multipleOf"===i.kind?0!==pa(e.data,i.value)&&(Ai(n=this._getOrReturnCtx(e,n),{code:_i.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(Ai(n=this._getOrReturnCtx(e,n),{code:_i.not_finite,message:i.message}),r.dirty()):ii.assertNever(i);return{status:r.value,value:e.data}},n.gte=function(e,t){return this.setLimit("min",e,!0,Ni.toString(t))},n.gt=function(e,t){return this.setLimit("min",e,!1,Ni.toString(t))},n.lte=function(e,t){return this.setLimit("max",e,!0,Ni.toString(t))},n.lt=function(e,t){return this.setLimit("max",e,!1,Ni.toString(t))},n.setLimit=function(e,n,r,i){return new t(Object.assign({},this._def,{checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ni.toString(i)}]}))},n._addCheck=function(e){return new t(Object.assign({},this._def,{checks:[...this._def.checks,e]}))},n.int=function(e){return this._addCheck({kind:"int",message:Ni.toString(e)})},n.positive=function(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ni.toString(e)})},n.negative=function(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ni.toString(e)})},n.nonpositive=function(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ni.toString(e)})},n.nonnegative=function(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ni.toString(e)})},n.multipleOf=function(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ni.toString(t)})},n.finite=function(e){return this._addCheck({kind:"finite",message:Ni.toString(e)})},n.safe=function(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ni.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ni.toString(e)})},li(t,[{key:"minValue",get:function(){var e=null;for(var t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}},{key:"maxValue",get:function(){var e=null;for(var t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}},{key:"isInt",get:function(){return!!this._def.checks.find((function(e){return"int"===e.kind||"multipleOf"===e.kind&&ii.isInteger(e.value)}))}},{key:"isFinite",get:function(){var e=null,t=null;for(var n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}]),t}($i);ga.create=function(e){return new ga(Object.assign({checks:[],typeName:ro.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},Hi(e)))};var ma=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).min=t.gte,t.max=t.lte,t}hi(t,e);var n=t.prototype;return n._parse=function(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(i){return this._getInvalidInput(e)}if(this._getType(e)!==vi.bigint)return this._getInvalidInput(e);var t=void 0,n=new Ri;for(var r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(Ai(t=this._getOrReturnCtx(e,t),{code:_i.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(Ai(t=this._getOrReturnCtx(e,t),{code:_i.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(Ai(t=this._getOrReturnCtx(e,t),{code:_i.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):ii.assertNever(r);return{status:n.value,value:e.data}},n._getInvalidInput=function(e){var t=this._getOrReturnCtx(e);return Ai(t,{code:_i.invalid_type,expected:vi.bigint,received:t.parsedType}),Li},n.gte=function(e,t){return this.setLimit("min",e,!0,Ni.toString(t))},n.gt=function(e,t){return this.setLimit("min",e,!1,Ni.toString(t))},n.lte=function(e,t){return this.setLimit("max",e,!0,Ni.toString(t))},n.lt=function(e,t){return this.setLimit("max",e,!1,Ni.toString(t))},n.setLimit=function(e,n,r,i){return new t(Object.assign({},this._def,{checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ni.toString(i)}]}))},n._addCheck=function(e){return new t(Object.assign({},this._def,{checks:[...this._def.checks,e]}))},n.positive=function(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ni.toString(e)})},n.negative=function(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ni.toString(e)})},n.nonpositive=function(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ni.toString(e)})},n.nonnegative=function(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ni.toString(e)})},n.multipleOf=function(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ni.toString(t)})},li(t,[{key:"minValue",get:function(){var e=null;for(var t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}},{key:"maxValue",get:function(){var e=null;for(var t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}]),t}($i);ma.create=function(e){var t;return new ma(Object.assign({checks:[],typeName:ro.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},Hi(e)))};var va=function(e){function t(){return e.apply(this,arguments)||this}return hi(t,e),t.prototype._parse=function(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==vi.boolean){var t=this._getOrReturnCtx(e);return Ai(t,{code:_i.invalid_type,expected:vi.boolean,received:t.parsedType}),Li}return xi(e.data)},t}($i);va.create=function(e){return new va(Object.assign({typeName:ro.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},Hi(e)))};var ya=function(e){function t(){return e.apply(this,arguments)||this}hi(t,e);var n=t.prototype;return n._parse=function(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==vi.date){var t=this._getOrReturnCtx(e);return Ai(t,{code:_i.invalid_type,expected:vi.date,received:t.parsedType}),Li}if(isNaN(e.data.getTime()))return Ai(this._getOrReturnCtx(e),{code:_i.invalid_date}),Li;var n=new Ri,r=void 0;for(var i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(Ai(r=this._getOrReturnCtx(e,r),{code:_i.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(Ai(r=this._getOrReturnCtx(e,r),{code:_i.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):ii.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}},n._addCheck=function(e){return new t(Object.assign({},this._def,{checks:[...this._def.checks,e]}))},n.min=function(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Ni.toString(t)})},n.max=function(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Ni.toString(t)})},li(t,[{key:"minDate",get:function(){var e=null;for(var t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}},{key:"maxDate",get:function(){var e=null;for(var t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}]),t}($i);ya.create=function(e){return new ya(Object.assign({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:ro.ZodDate},Hi(e)))};var _a=function(e){function t(){return e.apply(this,arguments)||this}return hi(t,e),t.prototype._parse=function(e){if(this._getType(e)!==vi.symbol){var t=this._getOrReturnCtx(e);return Ai(t,{code:_i.invalid_type,expected:vi.symbol,received:t.parsedType}),Li}return xi(e.data)},t}($i);_a.create=function(e){return new _a(Object.assign({typeName:ro.ZodSymbol},Hi(e)))};var ba=function(e){function t(){return e.apply(this,arguments)||this}return hi(t,e),t.prototype._parse=function(e){if(this._getType(e)!==vi.undefined){var t=this._getOrReturnCtx(e);return Ai(t,{code:_i.invalid_type,expected:vi.undefined,received:t.parsedType}),Li}return xi(e.data)},t}($i);ba.create=function(e){return new ba(Object.assign({typeName:ro.ZodUndefined},Hi(e)))};var wa=function(e){function t(){return e.apply(this,arguments)||this}return hi(t,e),t.prototype._parse=function(e){if(this._getType(e)!==vi.null){var t=this._getOrReturnCtx(e);return Ai(t,{code:_i.invalid_type,expected:vi.null,received:t.parsedType}),Li}return xi(e.data)},t}($i);wa.create=function(e){return new wa(Object.assign({typeName:ro.ZodNull},Hi(e)))};var Sa=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._any=!0,t}return hi(t,e),t.prototype._parse=function(e){return xi(e.data)},t}($i);Sa.create=function(e){return new Sa(Object.assign({typeName:ro.ZodAny},Hi(e)))};var Ea=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._unknown=!0,t}return hi(t,e),t.prototype._parse=function(e){return xi(e.data)},t}($i);Ea.create=function(e){return new Ea(Object.assign({typeName:ro.ZodUnknown},Hi(e)))};var Ia=function(e){function t(){return e.apply(this,arguments)||this}return hi(t,e),t.prototype._parse=function(e){var t=this._getOrReturnCtx(e);return Ai(t,{code:_i.invalid_type,expected:vi.never,received:t.parsedType}),Li},t}($i);Ia.create=function(e){return new Ia(Object.assign({typeName:ro.ZodNever},Hi(e)))};var Ca=function(e){function t(){return e.apply(this,arguments)||this}return hi(t,e),t.prototype._parse=function(e){if(this._getType(e)!==vi.undefined){var t=this._getOrReturnCtx(e);return Ai(t,{code:_i.invalid_type,expected:vi.void,received:t.parsedType}),Li}return xi(e.data)},t}($i);Ca.create=function(e){return new Ca(Object.assign({typeName:ro.ZodVoid},Hi(e)))};var Oa=function(e){function t(){return e.apply(this,arguments)||this}hi(t,e);var n=t.prototype;return n._parse=function(e){var t=this._processInputParams(e),n=t.ctx,r=t.status,i=this._def;if(n.parsedType!==vi.array)return Ai(n,{code:_i.invalid_type,expected:vi.array,received:n.parsedType}),Li;if(null!==i.exactLength){var a=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(a||o)&&(Ai(n,{code:a?_i.too_big:_i.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&n.data.length<i.minLength.value&&(Ai(n,{code:_i.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&n.data.length>i.maxLength.value&&(Ai(n,{code:_i.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((function(e,t){return i.type._parseAsync(new Wi(n,e,n.path,t))}))).then((function(e){return Ri.mergeArray(r,e)}));var s=[...n.data].map((function(e,t){return i.type._parseSync(new Wi(n,e,n.path,t))}));return Ri.mergeArray(r,s)},n.min=function(e,n){return new t(Object.assign({},this._def,{minLength:{value:e,message:Ni.toString(n)}}))},n.max=function(e,n){return new t(Object.assign({},this._def,{maxLength:{value:e,message:Ni.toString(n)}}))},n.length=function(e,n){return new t(Object.assign({},this._def,{exactLength:{value:e,message:Ni.toString(n)}}))},n.nonempty=function(e){return this.min(1,e)},li(t,[{key:"element",get:function(){return this._def.type}}]),t}($i);function Ta(e){if(e instanceof Aa){var t={};for(var n in e.shape){var r=e.shape[n];t[n]=$a.create(Ta(r))}return new Aa(Object.assign({},e._def,{shape:function(){return t}}))}return e instanceof Oa?new Oa(Object.assign({},e._def,{type:Ta(e.element)})):e instanceof $a?$a.create(Ta(e.unwrap())):e instanceof Ka?Ka.create(Ta(e.unwrap())):e instanceof ka?ka.create(e.items.map((function(e){return Ta(e)}))):e}Oa.create=function(e,t){return new Oa(Object.assign({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ro.ZodArray},Hi(t)))};var Aa=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._cached=null,t.nonstrict=t.passthrough,t.augment=t.extend,t}hi(t,e);var n=t.prototype;return n._getCached=function(){if(null!==this._cached)return this._cached;var e=this._def.shape(),t=ii.objectKeys(e);return this._cached={shape:e,keys:t}},n._parse=function(e){if(this._getType(e)!==vi.object){var t=this._getOrReturnCtx(e);return Ai(t,{code:_i.invalid_type,expected:vi.object,received:t.parsedType}),Li}var n=this._processInputParams(e),r=n.status,i=n.ctx,a=this._getCached(),o=a.shape,s=a.keys,c=[];if(!(this._def.catchall instanceof Ia&&"strip"===this._def.unknownKeys))for(var l in i.data)s.includes(l)||c.push(l);var u=[];for(var d of s){var h=o[d],f=i.data[d];u.push({key:{status:"valid",value:d},value:h._parse(new Wi(i,f,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Ia){var p=this._def.unknownKeys;if("passthrough"===p)for(var g of c)u.push({key:{status:"valid",value:g},value:{status:"valid",value:i.data[g]}});else if("strict"===p)c.length>0&&(Ai(i,{code:_i.unrecognized_keys,keys:c}),r.dirty());else if("strip"!==p)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{var m=this._def.catchall;for(var v of c){var y=i.data[v];u.push({key:{status:"valid",value:v},value:m._parse(new Wi(i,y,i.path,v)),alwaysSet:v in i.data})}}return i.common.async?Promise.resolve().then((async function(){var e=[];for(var t of u){var n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((function(e){return Ri.mergeObjectSync(r,e)})):Ri.mergeObjectSync(r,u)},n.strict=function(e){var n=this;return Ni.errToObj,new t(Object.assign({},this._def,{unknownKeys:"strict"},void 0!==e?{errorMap:function(t,r){var i,a,o,s,c=null!==(o=null===(a=(i=n._def).errorMap)||void 0===a?void 0:a.call(i,t,r).message)&&void 0!==o?o:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=Ni.errToObj(e).message)&&void 0!==s?s:c}:{message:c}}}:{}))},n.strip=function(){return new t(Object.assign({},this._def,{unknownKeys:"strip"}))},n.passthrough=function(){return new t(Object.assign({},this._def,{unknownKeys:"passthrough"}))},n.extend=function(e){var n=this;return new t(Object.assign({},this._def,{shape:function(){return Object.assign({},n._def.shape(),e)}}))},n.merge=function(e){var n=this;return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:function(){return Object.assign({},n._def.shape(),e._def.shape())},typeName:ro.ZodObject})},n.setKey=function(e,t){var n;return this.augment(((n={})[e]=t,n))},n.catchall=function(e){return new t(Object.assign({},this._def,{catchall:e}))},n.pick=function(e){var n=this,r={};return ii.objectKeys(e).forEach((function(t){e[t]&&n.shape[t]&&(r[t]=n.shape[t])})),new t(Object.assign({},this._def,{shape:function(){return r}}))},n.omit=function(e){var n=this,r={};return ii.objectKeys(this.shape).forEach((function(t){e[t]||(r[t]=n.shape[t])})),new t(Object.assign({},this._def,{shape:function(){return r}}))},n.deepPartial=function(){return Ta(this)},n.partial=function(e){var n=this,r={};return ii.objectKeys(this.shape).forEach((function(t){var i=n.shape[t];e&&!e[t]?r[t]=i:r[t]=i.optional()})),new t(Object.assign({},this._def,{shape:function(){return r}}))},n.required=function(e){var n=this,r={};return ii.objectKeys(this.shape).forEach((function(t){if(e&&!e[t])r[t]=n.shape[t];else{for(var i=n.shape[t];i instanceof $a;)i=i._def.innerType;r[t]=i}})),new t(Object.assign({},this._def,{shape:function(){return r}}))},n.keyof=function(){return Va(ii.objectKeys(this.shape))},li(t,[{key:"shape",get:function(){return this._def.shape()}}]),t}($i);Aa.create=function(e,t){return new Aa(Object.assign({shape:function(){return e},unknownKeys:"strip",catchall:Ia.create(),typeName:ro.ZodObject},Hi(t)))},Aa.strictCreate=function(e,t){return new Aa(Object.assign({shape:function(){return e},unknownKeys:"strict",catchall:Ia.create(),typeName:ro.ZodObject},Hi(t)))},Aa.lazycreate=function(e,t){return new Aa(Object.assign({shape:e,unknownKeys:"strip",catchall:Ia.create(),typeName:ro.ZodObject},Hi(t)))};var Na=function(e){function t(){return e.apply(this,arguments)||this}return hi(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e).ctx,n=this._def.options;if(t.common.async)return Promise.all(n.map((async function(e){var n=Object.assign({},t,{common:Object.assign({},t.common,{issues:[]}),parent:null});return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(var n of e)if("valid"===n.result.status)return n.result;for(var r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;var i=e.map((function(e){return new wi(e.ctx.common.issues)}));return Ai(t,{code:_i.invalid_union,unionErrors:i}),Li}));var r=void 0,i=[];for(var a of n){var o=Object.assign({},t,{common:Object.assign({},t.common,{issues:[]}),parent:null}),s=a._parseSync({data:t.data,path:t.path,parent:o});if("valid"===s.status)return s;"dirty"!==s.status||r||(r={result:s,ctx:o}),o.common.issues.length&&i.push(o.common.issues)}if(r)return t.common.issues.push(...r.ctx.common.issues),r.result;var c=i.map((function(e){return new wi(e)}));return Ai(t,{code:_i.invalid_union,unionErrors:c}),Li},li(t,[{key:"options",get:function(){return this._def.options}}]),t}($i);Na.create=function(e,t){return new Na(Object.assign({options:e,typeName:ro.ZodUnion},Hi(t)))};var Ma=function e(t){return t instanceof Ua?e(t.schema):t instanceof Ga?e(t.innerType()):t instanceof Ba?[t.value]:t instanceof Wa?t.options:t instanceof za?ii.objectValues(t.enum):t instanceof Qa?e(t._def.innerType):t instanceof ba?[void 0]:t instanceof wa?[null]:t instanceof $a?[void 0,...e(t.unwrap())]:t instanceof Ka?[null,...e(t.unwrap())]:t instanceof Xa||t instanceof eo?e(t.unwrap()):t instanceof qa?e(t._def.innerType):[]},Da=function(e){function t(){return e.apply(this,arguments)||this}return hi(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e).ctx;if(t.parsedType!==vi.object)return Ai(t,{code:_i.invalid_type,expected:vi.object,received:t.parsedType}),Li;var n=this.discriminator,r=t.data[n],i=this.optionsMap.get(r);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(Ai(t,{code:_i.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Li)},t.create=function(e,n,r){var i=new Map;for(var a of n){var o=Ma(a.shape[e]);if(!o.length)throw new Error("A discriminator value for key `"+e+"` could not be extracted from all schema options");for(var s of o){if(i.has(s))throw new Error("Discriminator property "+String(e)+" has duplicate value "+String(s));i.set(s,a)}}return new t(Object.assign({typeName:ro.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i},Hi(r)))},li(t,[{key:"discriminator",get:function(){return this._def.discriminator}},{key:"options",get:function(){return this._def.options}},{key:"optionsMap",get:function(){return this._def.optionsMap}}]),t}($i);function Ra(e,t){var n=yi(e),r=yi(t);if(e===t)return{valid:!0,data:e};if(n===vi.object&&r===vi.object){var i=ii.objectKeys(t),a=ii.objectKeys(e).filter((function(e){return-1!==i.indexOf(e)})),o=Object.assign({},e,t);for(var s of a){var c=Ra(e[s],t[s]);if(!c.valid)return{valid:!1};o[s]=c.data}return{valid:!0,data:o}}if(n===vi.array&&r===vi.array){if(e.length!==t.length)return{valid:!1};for(var l=[],u=0;u<e.length;u++){var d=Ra(e[u],t[u]);if(!d.valid)return{valid:!1};l.push(d.data)}return{valid:!0,data:l}}return n===vi.date&&r===vi.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}var La=function(e){function t(){return e.apply(this,arguments)||this}return hi(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx,i=function(e,t){if(Fi(e)||Fi(t))return Li;var i=Ra(e.value,t.value);return i.valid?((Pi(e)||Pi(t))&&n.dirty(),{status:n.value,value:i.data}):(Ai(r,{code:_i.invalid_intersection_types}),Li)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then((function(e){var t=e[0],n=e[1];return i(t,n)})):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))},t}($i);La.create=function(e,t,n){return new La(Object.assign({left:e,right:t,typeName:ro.ZodIntersection},Hi(n)))};var ka=function(e){function t(){return e.apply(this,arguments)||this}hi(t,e);var n=t.prototype;return n._parse=function(e){var t=this,n=this._processInputParams(e),r=n.status,i=n.ctx;if(i.parsedType!==vi.array)return Ai(i,{code:_i.invalid_type,expected:vi.array,received:i.parsedType}),Li;if(i.data.length<this._def.items.length)return Ai(i,{code:_i.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Li;!this._def.rest&&i.data.length>this._def.items.length&&(Ai(i,{code:_i.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());var a=[...i.data].map((function(e,n){var r=t._def.items[n]||t._def.rest;return r?r._parse(new Wi(i,e,i.path,n)):null})).filter((function(e){return!!e}));return i.common.async?Promise.all(a).then((function(e){return Ri.mergeArray(r,e)})):Ri.mergeArray(r,a)},n.rest=function(e){return new t(Object.assign({},this._def,{rest:e}))},li(t,[{key:"items",get:function(){return this._def.items}}]),t}($i);ka.create=function(e,t){if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ka(Object.assign({items:e,typeName:ro.ZodTuple,rest:null},Hi(t)))};var xa=function(e){function t(){return e.apply(this,arguments)||this}return hi(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx;if(r.parsedType!==vi.object)return Ai(r,{code:_i.invalid_type,expected:vi.object,received:r.parsedType}),Li;var i=[],a=this._def.keyType,o=this._def.valueType;for(var s in r.data)i.push({key:a._parse(new Wi(r,s,r.path,s)),value:o._parse(new Wi(r,r.data[s],r.path,s)),alwaysSet:s in r.data});return r.common.async?Ri.mergeObjectAsync(n,i):Ri.mergeObjectSync(n,i)},t.create=function(e,n,r){return new t(n instanceof $i?Object.assign({keyType:e,valueType:n,typeName:ro.ZodRecord},Hi(r)):Object.assign({keyType:fa.create(),valueType:e,typeName:ro.ZodRecord},Hi(n)))},li(t,[{key:"keySchema",get:function(){return this._def.keyType}},{key:"valueSchema",get:function(){return this._def.valueType}},{key:"element",get:function(){return this._def.valueType}}]),t}($i),Fa=function(e){function t(){return e.apply(this,arguments)||this}return hi(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx;if(r.parsedType!==vi.map)return Ai(r,{code:_i.invalid_type,expected:vi.map,received:r.parsedType}),Li;var i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map((function(e,t){var n=e[0],o=e[1];return{key:i._parse(new Wi(r,n,r.path,[t,"key"])),value:a._parse(new Wi(r,o,r.path,[t,"value"]))}}));if(r.common.async){var s=new Map;return Promise.resolve().then((async function(){for(var e of o){var t=await e.key,r=await e.value;if("aborted"===t.status||"aborted"===r.status)return Li;"dirty"!==t.status&&"dirty"!==r.status||n.dirty(),s.set(t.value,r.value)}return{status:n.value,value:s}}))}var c=new Map;for(var l of o){var u=l.key,d=l.value;if("aborted"===u.status||"aborted"===d.status)return Li;"dirty"!==u.status&&"dirty"!==d.status||n.dirty(),c.set(u.value,d.value)}return{status:n.value,value:c}},li(t,[{key:"keySchema",get:function(){return this._def.keyType}},{key:"valueSchema",get:function(){return this._def.valueType}}]),t}($i);Fa.create=function(e,t,n){return new Fa(Object.assign({valueType:t,keyType:e,typeName:ro.ZodMap},Hi(n)))};var Pa=function(e){function t(){return e.apply(this,arguments)||this}hi(t,e);var n=t.prototype;return n._parse=function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx;if(r.parsedType!==vi.set)return Ai(r,{code:_i.invalid_type,expected:vi.set,received:r.parsedType}),Li;var i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&(Ai(r,{code:_i.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(Ai(r,{code:_i.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());var a=this._def.valueType;function o(e){var t=new Set;for(var r of e){if("aborted"===r.status)return Li;"dirty"===r.status&&n.dirty(),t.add(r.value)}return{status:n.value,value:t}}var s=[...r.data.values()].map((function(e,t){return a._parse(new Wi(r,e,r.path,t))}));return r.common.async?Promise.all(s).then((function(e){return o(e)})):o(s)},n.min=function(e,n){return new t(Object.assign({},this._def,{minSize:{value:e,message:Ni.toString(n)}}))},n.max=function(e,n){return new t(Object.assign({},this._def,{maxSize:{value:e,message:Ni.toString(n)}}))},n.size=function(e,t){return this.min(e,t).max(e,t)},n.nonempty=function(e){return this.min(1,e)},t}($i);Pa.create=function(e,t){return new Pa(Object.assign({valueType:e,minSize:null,maxSize:null,typeName:ro.ZodSet},Hi(t)))};var ja=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).validate=t.implement,t}hi(t,e);var n=t.prototype;return n._parse=function(e){var t=this._processInputParams(e).ctx;if(t.parsedType!==vi.function)return Ai(t,{code:_i.invalid_type,expected:vi.function,received:t.parsedType}),Li;function n(e,n){return Oi({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ci(),Si].filter((function(e){return!!e})),issueData:{code:_i.invalid_arguments,argumentsError:n}})}function r(e,n){return Oi({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ci(),Si].filter((function(e){return!!e})),issueData:{code:_i.invalid_return_type,returnTypeError:n}})}var i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof Ha){var o=this;return xi((async function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];var c=new wi([]),l=await o._def.args.parseAsync(t,i).catch((function(e){throw c.addIssue(n(t,e)),c})),u=await Reflect.apply(a,this,l);return await o._def.returns._def.type.parseAsync(u,i).catch((function(e){throw c.addIssue(r(u,e)),c}))}))}var s=this;return xi((function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var c=s._def.args.safeParse(t,i);if(!c.success)throw new wi([n(t,c.error)]);var l=Reflect.apply(a,this,c.data),u=s._def.returns.safeParse(l,i);if(!u.success)throw new wi([r(l,u.error)]);return u.data}))},n.parameters=function(){return this._def.args},n.returnType=function(){return this._def.returns},n.args=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new t(Object.assign({},this._def,{args:ka.create(n).rest(Ea.create())}))},n.returns=function(e){return new t(Object.assign({},this._def,{returns:e}))},n.implement=function(e){return this.parse(e)},n.strictImplement=function(e){return this.parse(e)},t.create=function(e,n,r){return new t(Object.assign({args:e||ka.create([]).rest(Ea.create()),returns:n||Ea.create(),typeName:ro.ZodFunction},Hi(r)))},t}($i),Ua=function(e){function t(){return e.apply(this,arguments)||this}return hi(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e).ctx;return this._def.getter()._parse({data:t.data,path:t.path,parent:t})},li(t,[{key:"schema",get:function(){return this._def.getter()}}]),t}($i);Ua.create=function(e,t){return new Ua(Object.assign({getter:e,typeName:ro.ZodLazy},Hi(t)))};var Ba=function(e){function t(){return e.apply(this,arguments)||this}return hi(t,e),t.prototype._parse=function(e){if(e.data!==this._def.value){var t=this._getOrReturnCtx(e);return Ai(t,{received:t.data,code:_i.invalid_literal,expected:this._def.value}),Li}return{status:"valid",value:e.data}},li(t,[{key:"value",get:function(){return this._def.value}}]),t}($i);function Va(e,t){return new Wa(Object.assign({values:e,typeName:ro.ZodEnum},Hi(t)))}Ba.create=function(e,t){return new Ba(Object.assign({value:e,typeName:ro.ZodLiteral},Hi(t)))};var Wa=function(e){function t(){var t;return t=e.apply(this,arguments)||this,Mi.set(di(t),void 0),t}hi(t,e);var n=t.prototype;return n._parse=function(e){if("string"!==typeof e.data){var t=this._getOrReturnCtx(e),n=this._def.values;return Ai(t,{expected:ii.joinValues(n),received:t.parsedType,code:_i.invalid_type}),Li}if(Bi(this,Mi,"f")||Vi(this,Mi,new Set(this._def.values),"f"),!Bi(this,Mi,"f").has(e.data)){var r=this._getOrReturnCtx(e),i=this._def.values;return Ai(r,{received:r.data,code:_i.invalid_enum_value,options:i}),Li}return xi(e.data)},n.extract=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return t.create(e,Object.assign({},this._def,n))},n.exclude=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return t.create(this.options.filter((function(t){return!e.includes(t)})),Object.assign({},this._def,n))},li(t,[{key:"options",get:function(){return this._def.values}},{key:"enum",get:function(){var e={};for(var t of this._def.values)e[t]=t;return e}},{key:"Values",get:function(){var e={};for(var t of this._def.values)e[t]=t;return e}},{key:"Enum",get:function(){var e={};for(var t of this._def.values)e[t]=t;return e}}]),t}($i);Mi=new WeakMap,Wa.create=Va;var za=function(e){function t(){var t;return t=e.apply(this,arguments)||this,Di.set(di(t),void 0),t}return hi(t,e),t.prototype._parse=function(e){var t=ii.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==vi.string&&n.parsedType!==vi.number){var r=ii.objectValues(t);return Ai(n,{expected:ii.joinValues(r),received:n.parsedType,code:_i.invalid_type}),Li}if(Bi(this,Di,"f")||Vi(this,Di,new Set(ii.getValidEnumValues(this._def.values)),"f"),!Bi(this,Di,"f").has(e.data)){var i=ii.objectValues(t);return Ai(n,{received:n.data,code:_i.invalid_enum_value,options:i}),Li}return xi(e.data)},li(t,[{key:"enum",get:function(){return this._def.values}}]),t}($i);Di=new WeakMap,za.create=function(e,t){return new za(Object.assign({values:e,typeName:ro.ZodNativeEnum},Hi(t)))};var Ha=function(e){function t(){return e.apply(this,arguments)||this}hi(t,e);var n=t.prototype;return n.unwrap=function(){return this._def.type},n._parse=function(e){var t=this,n=this._processInputParams(e).ctx;if(n.parsedType!==vi.promise&&!1===n.common.async)return Ai(n,{code:_i.invalid_type,expected:vi.promise,received:n.parsedType}),Li;var r=n.parsedType===vi.promise?n.data:Promise.resolve(n.data);return xi(r.then((function(e){return t._def.type.parseAsync(e,{path:n.path,errorMap:n.common.contextualErrorMap})})))},t}($i);Ha.create=function(e,t){return new Ha(Object.assign({type:e,typeName:ro.ZodPromise},Hi(t)))};var Ga=function(e){function t(){return e.apply(this,arguments)||this}hi(t,e);var n=t.prototype;return n.innerType=function(){return this._def.schema},n.sourceType=function(){return this._def.schema._def.typeName===ro.ZodEffects?this._def.schema.sourceType():this._def.schema},n._parse=function(e){var t=this,n=this._processInputParams(e),r=n.status,i=n.ctx,a=this._def.effect||null,o={addIssue:function(e){Ai(i,e),e.fatal?r.abort():r.dirty()},get path(){return i.path}};if(o.addIssue=o.addIssue.bind(o),"preprocess"===a.type){var s=a.transform(i.data,o);if(i.common.async)return Promise.resolve(s).then((async function(e){if("aborted"===r.value)return Li;var n=await t._def.schema._parseAsync({data:e,path:i.path,parent:i});return"aborted"===n.status?Li:"dirty"===n.status||"dirty"===r.value?ki(n.value):n}));if("aborted"===r.value)return Li;var c=this._def.schema._parseSync({data:s,path:i.path,parent:i});return"aborted"===c.status?Li:"dirty"===c.status||"dirty"===r.value?ki(c.value):c}if("refinement"===a.type){var l=function(e){var t=a.refinement(e,o);if(i.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===i.common.async){var u=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return"aborted"===u.status?Li:("dirty"===u.status&&r.dirty(),l(u.value),{status:r.value,value:u.value})}return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then((function(e){return"aborted"===e.status?Li:("dirty"===e.status&&r.dirty(),l(e.value).then((function(){return{status:r.value,value:e.value}})))}))}if("transform"===a.type){if(!1===i.common.async){var d=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!ji(d))return d;var h=a.transform(d.value,o);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:h}}return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then((function(e){return ji(e)?Promise.resolve(a.transform(e.value,o)).then((function(e){return{status:r.value,value:e}})):e}))}ii.assertNever(a)},t}($i);Ga.create=function(e,t,n){return new Ga(Object.assign({schema:e,typeName:ro.ZodEffects,effect:t},Hi(n)))},Ga.createWithPreprocess=function(e,t,n){return new Ga(Object.assign({schema:t,effect:{type:"preprocess",transform:e},typeName:ro.ZodEffects},Hi(n)))};var $a=function(e){function t(){return e.apply(this,arguments)||this}hi(t,e);var n=t.prototype;return n._parse=function(e){return this._getType(e)===vi.undefined?xi(void 0):this._def.innerType._parse(e)},n.unwrap=function(){return this._def.innerType},t}($i);$a.create=function(e,t){return new $a(Object.assign({innerType:e,typeName:ro.ZodOptional},Hi(t)))};var Ka=function(e){function t(){return e.apply(this,arguments)||this}hi(t,e);var n=t.prototype;return n._parse=function(e){return this._getType(e)===vi.null?xi(null):this._def.innerType._parse(e)},n.unwrap=function(){return this._def.innerType},t}($i);Ka.create=function(e,t){return new Ka(Object.assign({innerType:e,typeName:ro.ZodNullable},Hi(t)))};var Qa=function(e){function t(){return e.apply(this,arguments)||this}hi(t,e);var n=t.prototype;return n._parse=function(e){var t=this._processInputParams(e).ctx,n=t.data;return t.parsedType===vi.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})},n.removeDefault=function(){return this._def.innerType},t}($i);Qa.create=function(e,t){return new Qa(Object.assign({innerType:e,typeName:ro.ZodDefault,defaultValue:"function"===typeof t.default?t.default:function(){return t.default}},Hi(t)))};var qa=function(e){function t(){return e.apply(this,arguments)||this}hi(t,e);var n=t.prototype;return n._parse=function(e){var t=this,n=this._processInputParams(e).ctx,r=Object.assign({},n,{common:Object.assign({},n.common,{issues:[]})}),i=this._def.innerType._parse({data:r.data,path:r.path,parent:Object.assign({},r)});return Ui(i)?i.then((function(e){return{status:"valid",value:"valid"===e.status?e.value:t._def.catchValue({get error(){return new wi(r.common.issues)},input:r.data})}})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new wi(r.common.issues)},input:r.data})}},n.removeCatch=function(){return this._def.innerType},t}($i);qa.create=function(e,t){return new qa(Object.assign({innerType:e,typeName:ro.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:function(){return t.catch}},Hi(t)))};var Za=function(e){function t(){return e.apply(this,arguments)||this}return hi(t,e),t.prototype._parse=function(e){if(this._getType(e)!==vi.nan){var t=this._getOrReturnCtx(e);return Ai(t,{code:_i.invalid_type,expected:vi.nan,received:t.parsedType}),Li}return{status:"valid",value:e.data}},t}($i);Za.create=function(e){return new Za(Object.assign({typeName:ro.ZodNaN},Hi(e)))};var Ya=Symbol("zod_brand"),Xa=function(e){function t(){return e.apply(this,arguments)||this}hi(t,e);var n=t.prototype;return n._parse=function(e){var t=this._processInputParams(e).ctx,n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})},n.unwrap=function(){return this._def.type},t}($i),Ja=function(e){function t(){return e.apply(this,arguments)||this}return hi(t,e),t.prototype._parse=function(e){var t=this,n=this._processInputParams(e),r=n.status,i=n.ctx;if(i.common.async)return async function(){var e=await t._def.in._parseAsync({data:i.data,path:i.path,parent:i});return"aborted"===e.status?Li:"dirty"===e.status?(r.dirty(),ki(e.value)):t._def.out._parseAsync({data:e.value,path:i.path,parent:i})}();var a=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return"aborted"===a.status?Li:"dirty"===a.status?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:i.path,parent:i})},t.create=function(e,n){return new t({in:e,out:n,typeName:ro.ZodPipeline})},t}($i),eo=function(e){function t(){return e.apply(this,arguments)||this}hi(t,e);var n=t.prototype;return n._parse=function(e){var t=this._def.innerType._parse(e),n=function(e){return ji(e)&&(e.value=Object.freeze(e.value)),e};return Ui(t)?t.then((function(e){return n(e)})):n(t)},n.unwrap=function(){return this._def.innerType},t}($i);function to(e,t){var n="function"===typeof e?e(t):"string"===typeof e?{message:e}:e;return"string"===typeof n?{message:n}:n}function no(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return e?Sa.create().superRefine((function(r,i){var a,o,s=e(r);if(s instanceof Promise)return s.then((function(e){var a,o;if(!e){var s=to(t,r),c=null===(o=null!==(a=s.fatal)&&void 0!==a?a:n)||void 0===o||o;i.addIssue(Object.assign({code:"custom"},s,{fatal:c}))}}));if(!s){var c=to(t,r),l=null===(o=null!==(a=c.fatal)&&void 0!==a?a:n)||void 0===o||o;i.addIssue(Object.assign({code:"custom"},c,{fatal:l}))}})):Sa.create()}eo.create=function(e,t){return new eo(Object.assign({innerType:e,typeName:ro.ZodReadonly},Hi(t)))};var ro,io={object:Aa.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(ro||(ro={}));var ao=function(e){return no((function(t){return t instanceof e}),arguments.length>1&&void 0!==arguments[1]?arguments[1]:{message:"Input not instance of "+e.name})},oo=fa.create,so=ga.create,co=Za.create,lo=ma.create,uo=va.create,ho=ya.create,fo=_a.create,po=ba.create,go=wa.create,mo=Sa.create,vo=Ea.create,yo=Ia.create,_o=Ca.create,bo=Oa.create,wo=Aa.create,So=Aa.strictCreate,Eo=Na.create,Io=Da.create,Co=La.create,Oo=ka.create,To=xa.create,Ao=Fa.create,No=Pa.create,Mo=ja.create,Do=Ua.create,Ro=Ba.create,Lo=Wa.create,ko=za.create,xo=Ha.create,Fo=Ga.create,Po=$a.create,jo=Ka.create,Uo=Ga.createWithPreprocess,Bo=Ja.create,Vo=function(){return oo().optional()},Wo=function(){return so().optional()},zo=function(){return uo().optional()},Ho={string:function(e){return fa.create(Object.assign({},e,{coerce:!0}))},number:function(e){return ga.create(Object.assign({},e,{coerce:!0}))},boolean:function(e){return va.create(Object.assign({},e,{coerce:!0}))},bigint:function(e){return ma.create(Object.assign({},e,{coerce:!0}))},date:function(e){return ya.create(Object.assign({},e,{coerce:!0}))}},Go=Li,$o=Object.freeze({__proto__:null,defaultErrorMap:Si,setErrorMap:Ii,getErrorMap:Ci,makeIssue:Oi,EMPTY_PATH:Ti,addIssueToContext:Ai,ParseStatus:Ri,INVALID:Li,DIRTY:ki,OK:xi,isAborted:Fi,isDirty:Pi,isValid:ji,isAsync:Ui,get util(){return ii},get objectUtil(){return ai},ZodParsedType:vi,getParsedType:yi,ZodType:$i,datetimeRegex:ua,ZodString:fa,ZodNumber:ga,ZodBigInt:ma,ZodBoolean:va,ZodDate:ya,ZodSymbol:_a,ZodUndefined:ba,ZodNull:wa,ZodAny:Sa,ZodUnknown:Ea,ZodNever:Ia,ZodVoid:Ca,ZodArray:Oa,ZodObject:Aa,ZodUnion:Na,ZodDiscriminatedUnion:Da,ZodIntersection:La,ZodTuple:ka,ZodRecord:xa,ZodMap:Fa,ZodSet:Pa,ZodFunction:ja,ZodLazy:Ua,ZodLiteral:Ba,ZodEnum:Wa,ZodNativeEnum:za,ZodPromise:Ha,ZodEffects:Ga,ZodTransformer:Ga,ZodOptional:$a,ZodNullable:Ka,ZodDefault:Qa,ZodCatch:qa,ZodNaN:Za,BRAND:Ya,ZodBranded:Xa,ZodPipeline:Ja,ZodReadonly:eo,custom:no,Schema:$i,ZodSchema:$i,late:io,get ZodFirstPartyTypeKind(){return ro},coerce:Ho,any:mo,array:bo,bigint:lo,boolean:uo,date:ho,discriminatedUnion:Io,effect:Fo,enum:Lo,function:Mo,instanceof:ao,intersection:Co,lazy:Do,literal:Ro,map:Ao,nan:co,nativeEnum:ko,never:yo,null:go,nullable:jo,number:so,object:wo,oboolean:zo,onumber:Wo,optional:Po,ostring:Vo,pipeline:Bo,preprocess:Uo,promise:xo,record:To,set:No,strictObject:So,string:oo,symbol:fo,transformer:Fo,tuple:Oo,undefined:po,union:Eo,unknown:vo,void:_o,NEVER:Go,ZodIssueCode:_i,quotelessJson:bi,ZodError:wi});Object(Sr.b)(Object(Sr.c)(),{"CloudOS.Authentication.SignInButton.Title":"Sign In","Name.Display.FirstAndFamilyNames":"%{firstName} %{familyName}","Name.Display.NameIsCJK.FirstAndFamilyNames":"%{familyName}%{firstName}","CloudOSToolbar.ICloudLogo.Label":"Navigate to icloud.com home page","CloudOSToolbar.ActionButtons.Feedback.Label":"Submit feedback","CloudOSToolbar.ActionButtons.AppMenu.Label":"Quick Access","CloudOSToolbar.ActionButtons.CreationMenu.Label":"Create","CloudOSToolbar.ActionButtons.AccountMenu.Label":"Account","CloudOSToolbar.ActionButtons.HelpMenu.Label":"Help","CloudOSToolbar.ActionButtons.ProfilePhoto.AltText":"Your profile photo","CloudOSToolbar.ActionButtons.AlertButton.Label.One":"1 Alert","CloudOSToolbar.ActionButtons.ADPButton.Label":"Advanced Data Protection","CloudOSToolbar.ActionButtons.BeneficiaryButton.Label":"Legacy Contact","CloudOSToolbar.ActionButtons.WhatsNew.Label":"NEW","VoiceOver.CloudOSToolbar.ActionsButtons.OverFlowMenu.Label":"More toolbar items"});var Ko=[[4352,4607],[11904,12031],[12032,12255],[12288,12351],[12352,12447],[12448,12543],[12544,12591],[12592,12687],[12688,12703],[12704,12735],[12800,13055],[13056,13311],[13312,19893],[19968,40959],[40960,42127],[42128,42191],[44032,55203],[63744,64255],[65072,65103]],Qo=function(e){var t,n=Ko;if(!e)return!1;for(var r=0,i=n.length;r<i;++r)if(e>=(t=n[r])[0]&&e<=t[1])return!0;return!1},qo=function(e){if(0===(e=e.trim()).length)return!1;for(var t=0,n=e.length-1;t<=n;)if(!Qo(e.charCodeAt(t++))||!Qo(e.charCodeAt(n--)))return!1;return!0};function Zo(e){var t="function"===typeof Map?new Map:void 0;return Zo=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Yo(e,arguments,Jo(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Xo(r,e)},Zo(e)}function Yo(e,t,n){return Yo=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Xo(i,n.prototype),i},Yo.apply(null,arguments)}function Xo(e,t){return Xo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xo(e,t)}function Jo(e){return Jo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jo(e)}var es=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).name="SerializationError",n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Xo(t,n),r}(Zo(Error));function ts(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ns={serialize:function(){var e=this.getMetadataByType(y.a),t={};for(var n in cs(this),e){var r=e[n],i=r.key,a=r.serialization;if(!a||!a.ignore){var o=is(this,r);void 0!==o&&(t[rs(i,a)]=o)}}return t},staticMembers:{deserialize:function(e){var t=void 0;if(e&&N.a(e)){var n=(t=this.create()).getMetadataByType(y.a);for(var r in n){var i=n[r],a=i.key,o=i.serialization,s=e[rs(a,o)];o&&o.ignore||(t[a]=os(t,s,i))}cs(t)}return t}}};function rs(e,t){var n=e;if(t){var r=t.propertyName;r&&"string"===typeof r&&r.length>0&&(n=r)}return n}function is(e,t,n){var r=t.key,i=t.type,a=t.getForObject(e);return ls(i)?function(e,t,n){var r;if(n){r=[];for(var i=0,a=n.length;i<a;i++){var o=n[i];r.push(as(e,t,o))}}return r}(e,r,a):us(i)?function(e,t,n){var r;if(n){r={};for(var i,a=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return ts(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ts(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(n);!(i=a()).done;){var o=i.value,s=o[0],c=o[1];r[s]=as(e,t,c)}}return r}(e,r,a):as(e,r,a)}function as(e,t,n){var r;if(void 0!==n&&null!==n)if(n.isObject){if(!n||!n.hasMixin(ns))throw new es("["+Ne.a(e)+"] Property "+t+" does not support serialization");n&&(r=n.serialize())}else r=n;return r}function os(e,t,n){var r,i=n.type,a=n.key;return r=ls(i)?function(e,t,n){var r,i=n.key,a=n.serialization;if(t){var o=Object;if(a){var s=a.collectionObjectType;s&&(o=s)}r=[];for(var c=0,l=t.length;c<l;c++){var u=t[c];r.push(ss(e,i,o,u))}}return r}(e,t,n):us(i)?function(e,t,n){var r,i=n.key,a=n.serialization;if(t){var o=Object;if(a){var s=a.collectionObjectType;s&&(o=s)}for(var c in r=new Map,t){var l=t[c];r.set(c,ss(e,i,o,l))}}return r}(e,t,n):ss(e,a,i,t),r}function ss(e,t,n,r){var i,a="string"===typeof(i=n)?ds(i):"function"===typeof i&&ds(typeof i());if(r&&!a){if(n.hasMixin(ns))return n.deserialize(r);throw new es("["+Ne.a(e)+"] Property "+t+" does not support serialization")}return r}function cs(e){var t=e.getMetadataByType(y.a),n=[];for(var r in t){var i=t[r],a=i.validators,o=i.key;if(a){for(var s=[],c=0;c<a.length;c++){var l=a[c];l.validate(i.getForObject(e),o,e)||s.push(l.message)}if(s&&s.length>0){var u="Validation for field "+o+" failed - "+s.join(", ")+".";n.push(u)}}}if(n&&n.length>0)throw new es("["+Ne.a(e)+"] "+n.join(" "))}function ls(e){return"function"===typeof e&&Array.isArray(new e)}function us(e){return e===Map}function ds(e){return"string"===e||"number"===e||"boolean"===e||"object"===e}var hs="PHONE_NUMBER",fs="EMAIL",ps=S.b("UserType",{REGULAR:"Regular",MAID:"ManagedAppleID",LITE:"Lite"}),gs=oe.a.extend(v.a,{mixinDependencies:[ns],staticMembers:{displayNameForComponents:function(e){var t,n,r=e.givenName,i=e.familyName,a=e.emailAddress,o=e.phoneNumber,s=e.nickname,c=e.companyName,l=s||r;return l&&i&&(n=qo(l)&&qo(i)?"Name.Display.NameIsCJK.FirstAndFamilyNames":"Name.Display.FirstAndFamilyNames",t=Sr.d(n,{firstName:l,familyName:i})),vs(t)||(t=vs(l)||vs(i)||vs(a)||vs(o)||vs(c)),t},__QUALIFIED_CLASS_NAME__:"AuthenticatedUser"},dsid:v.g({type:String}),alternateDSID:v.g({type:String,serialization:{propertyName:"aDsID"}}),firstName:v.g({type:String}),lastName:v.g({type:String}),fullName:v.g({type:String}),appleId:v.g({type:String}),statusCode:v.g({type:Number}),appleIdEntries:v.g({type:Array}),isManagedAppleID:v.g({type:Boolean}),brMigrated:y.c({type:Boolean}),brZoneConsolidated:y.c({type:Boolean}),ubiquityEOLEnabled:y.c({type:Boolean}),tantorMigrated:y.c({type:Boolean}),completedAuthenticationStep:v.g({type:Number}),totalAuthenticationSteps:v.g({type:Number}),isAuthenticated:v.g({dependencies:["completedAuthenticationStep","totalAuthenticationSteps"],type:Boolean,readOnly:!0,get:Object.assign((function(){var e=this.completedAuthenticationStep,t=this.totalAuthenticationSteps;return e>0&&e===t}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]),a=r.internalGet(this,t[1+n]);return i>0&&i===a}}),serialization:{ignore:!0}}),isMAIDAccount:v.g({dependencies:["isManagedAppleID"],readOnly:!0,type:Boolean,get:Object.assign((function(){return this.isManagedAppleID}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])}}),serialization:{ignore:!0}}),isiCloudLiteAccount:v.g({dependencies:["statusCode"],readOnly:!0,type:Boolean,get:Object.assign((function(){return 4===this.statusCode}),{__CW__getter:function(e,t,n,r){return 4===r.internalGet(this,t[0+n])}}),serialization:{ignore:!0}}),hasPhoneNumberAsAppleId:v.g({dependencies:["appleIdEntries"],readOnly:!0,type:Boolean,get:Object.assign((function(){return ms(this.appleIdEntries,hs)}),{__CW__getter:function(e,t,n,r){return ms(r.internalGet(this,t[0+n]),hs)}}),serialization:{ignore:!0}}),hasEmailAddressAsAppleId:v.g({dependencies:["appleIdEntries"],readOnly:!0,type:Boolean,get:Object.assign((function(){return ms(this.appleIdEntries,fs)}),{__CW__getter:function(e,t,n,r){return ms(r.internalGet(this,t[0+n]),fs)}}),serialization:{ignore:!0}}),accountType:v.g({type:String}),userType:v.g({dependencies:["isMAIDAccount","isiCloudLiteAccount"],readOnly:!0,type:j.a,get:Object.assign((function(){var e=ps.REGULAR;return this.isMAIDAccount?e=ps.MAID:this.isiCloudLiteAccount&&(e=ps.LITE),e}),{__CW__getter:function(e,t,n,r){var i=ps.REGULAR;return r.internalGet(this,t[0+n])?i=ps.MAID:r.internalGet(this,t[1+n])&&(i=ps.LITE),i}}),serialization:{ignore:!0}}),beneficiaryInfo:y.c({type:Object}),isBeneficiary:y.c({readOnly:!0,serialization:{ignore:!0},type:Boolean,get:function(){var e=this.beneficiaryInfo;return e&&e.isBeneficiary}}),isBeneficiaryMultiple:y.c({readOnly:!0,serialization:{ignore:!0},type:Boolean,get:function(){var e=this.beneficiaryInfo;return e&&e.isBeneficiaryMultiple}}),beneficiaryExpiredTime:y.c({readOnly:!0,serialization:{ignore:!0},type:Number,get:function(){var e=this.beneficiaryInfo;return e&&e.beneficiaryExpiredTime}}),isHideMyEmailSubscriptionActive:y.c({type:Boolean}),isCustomDomainTransferSubscriptionActive:y.c({type:Boolean}),isCustomDomainPurchaseSubscriptionActive:y.c({type:Boolean}),isPaidDeveloper:y.c({type:Boolean}),isTiburonLogin:y.c({type:Boolean}),customEmailDomainServiceEndDate:y.c({type:String}),hasUnreleasedOS:y.c({type:Boolean}),isCustomDomainsFeatureAvailable:y.c({type:Boolean}),isHideMyEmailFeatureAvailable:y.c({type:Boolean}),analyticsOptInStatus:y.c({type:Boolean}),mailFlags:y.c({type:Object}),isWebAccessAllowed:y.c({type:Boolean}),isICDRSDisabled:y.c({type:Boolean}),isDeviceConsentedForPCS:v.g({type:Boolean}),ICDRSCapableDeviceList:y.c({type:String}),deviceConsentForPCSExpiry:y.c({type:Number})});function ms(e,t){if(Nt.a(e))return!1;var n=e.find((function(e){return e.isPrimary}));return!!n&&n.type===t}function vs(e){return e&&!/^\s*$/.test(e)?e:""}var ys,_s=oe.a.extend({mixinDependencies:[ns],user:y.c({type:gs,serialization:{propertyName:"dsInfo"}}),webServices:y.c({type:Map,serialization:{collectionObjectType:Object}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"Session"}}),bs={mixinDependencies:[$.a],webServices:Vt.a.define()},ws=n(1364),Ss=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.url=void 0,this.hostname=void 0,this.domainLogo=void 0,this.fallbackDomain=void 0,this.servicesDomain=void 0,this.domain=void 0,this.subdomain=void 0,this.suffix=void 0,!e)throw new Error("Domain URL is required");if(!t)throw new Error("Services domain is required");this.url=e,this.servicesDomain=t;var r=e.hostname;this.hostname=r;var i=n.domain,a=n.subdomain,o=n.domainLogo,s=n.fallbackDomain,c=n.suffix;this.domainLogo=o,this.fallbackDomain=s,this.domain=i,this.subdomain=a,this.suffix=c},Es=new Ss(new globalThis.URL("https://www.icloud.com/"),"icloud.com",{domain:"icloud.com",subdomain:"www",domainLogo:"icloud.logo",suffix:".com"}),Is=new Ss(new globalThis.URL("https://www.icloud.com.cn/"),"icloud.com.cn",{domain:"icloud.com.cn",subdomain:"www",suffix:".com.cn",domainLogo:"icloud.cn.logo"}),Cs=new Ss(new globalThis.URL("https://beta.icloud.com/"),"icloud.com",{domain:"icloud.com",subdomain:"beta",domainLogo:"icloud.logo",suffix:".com",fallbackDomain:Es}),Os=new Ss(new globalThis.URL("https://future.icloud.com/"),"icloud.com",{domain:"icloud.com",subdomain:"future",domainLogo:"icloud.logo",suffix:".com",fallbackDomain:Cs}),Ts=new Ss(new globalThis.URL("https://carry.icloud.com/"),"icloud.com",{domain:"icloud.com",subdomain:"carry",domainLogo:"icloud.logo",suffix:".com",fallbackDomain:Es}),As=new Ss(new globalThis.URL("https://sprinkles.icloud.com/"),"icloud.com",{domain:"icloud.com",subdomain:"sprinkles",domainLogo:"icloud.logo",suffix:".com",fallbackDomain:Es}),Ns=new Ss(new globalThis.URL("https://facetime.apple.com/"),"icloud.com",{domain:"apple.com",subdomain:"facetime"}),Ms=new Ss(new globalThis.URL("https://prod-facetime.apple.com/"),"icloud.com",{domain:"apple.com",subdomain:"prod-facetime"}),Ds=new Ss(new globalThis.URL("https://carry-facetime.apple.com/"),"icloud.com",{domain:"apple.com",subdomain:"carry-facetime"}),Rs=new Ss(new globalThis.URL("https://icloud1-facetime.apple.com/"),"icloud.com",{domain:"apple.com",subdomain:"icloud1-facetime"}),Ls=new Ss(new globalThis.URL("https://icloud2-facetime.apple.com/"),"icloud.com",{domain:"apple.com",subdomain:"icloud2-facetime"}),ks=new Ss(new globalThis.URL("https://icloud3-facetime.apple.com/"),"icloud.com",{domain:"apple.com",subdomain:"icloud3-facetime"}),xs=Object.freeze({iCloudDomainProperty:Es,iCloudChinaDomainProperty:Is,iCloudBetaDomainProperty:Cs,iCloudFutureDomainProperty:Os,iCloudCarryDomainProperty:Ts,iCloudSprinklesDomainProperty:As,faceTimeDomainProperty:Ns,faceTimeProdDomainProperty:Ms,faceTimeCarryDomainProperty:Ds,faceTimeICloud1DomainProperty:Rs,faceTimeICloud2DomainProperty:Ls,faceTimeICloud3DomainProperty:ks});function Fs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ps(r.key),r)}}function Ps(e){var t=function(e){if("object"!==typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===typeof t?t:String(t)}function js(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Us=0;function Bs(e){return"__private_"+Us+++"_"+e}var Vs=xs.iCloudDomainProperty,Ws=xs.iCloudChinaDomainProperty,zs=xs.iCloudBetaDomainProperty,Hs=xs.iCloudFutureDomainProperty,Gs=xs.iCloudCarryDomainProperty,$s=xs.iCloudSprinklesDomainProperty,Ks=xs.faceTimeDomainProperty,Qs=xs.faceTimeCarryDomainProperty,qs=xs.faceTimeProdDomainProperty,Zs=xs.faceTimeICloud1DomainProperty,Ys=xs.faceTimeICloud2DomainProperty,Xs=xs.faceTimeICloud3DomainProperty,Js=((ys={})[Vs.hostname]=Vs,ys[Ws.hostname]=Ws,ys[zs.hostname]=zs,ys[Hs.hostname]=Hs,ys[Gs.hostname]=Gs,ys[$s.hostname]=$s,ys[Ks.hostname]=Ks,ys[Qs.hostname]=Qs,ys[qs.hostname]=qs,ys[Zs.hostname]=Zs,ys[Ys.hostname]=Ys,ys[Xs.hostname]=Xs,ys),ec=Bs("sharedInstance"),tc=function(){function e(){this.current=void 0;var e=globalThis.location.hostname,t=Js[e];t||(t=Vs),this.current=t}var t,n,r;return e.findAvailableHostname=function(t){if(!(t instanceof Array))throw new Error("A valid domain list is required");for(var n,r=e.sharedInstance.current;r;){if(t.includes(r)){n=r.hostname;break}r=r.fallbackDomain}return n},t=e,r=[{key:"sharedInstance",get:function(){var e=js(this,ec)[ec];return e||(e=js(this,ec)[ec]=new this),e}},{key:"isDomainCN",get:function(){return e.sharedInstance.current===Ws}}],(n=[{key:"allowedRemoteOrigins",get:function(){return Object.entries(xs).map((function(e){return e[0],e[1].url.origin}))}}])&&Fs(t.prototype,n),r&&Fs(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();Object.defineProperty(tc,ec,{writable:!0,value:void 0});var nc=tc.sharedInstance.current,rc=new Map;function ic(e){return sc.sharedInstance.hasWebService(e)}function ac(e,t){return sc.sharedInstance.urlForServiceName(e,t)}function oc(e){return sc.sharedInstance.serviceNameForUrl(e)}rc.set("ckdatabasews",{url:"https://ckdatabasews."+nc.servicesDomain,status:"active"}),rc.set("docws",{url:"https://docws."+nc.servicesDomain,status:"active"}),rc.set("feedbackws",lc());var sc=oe.a.extend({mixinDependencies:[ws.a],configurationProvider:y.c({type:bs}),webServices:y.c({readOnly:!0,type:Map,get:function(){var e=this.configurationProvider;if(!e)throw new Error("[WebServicesConfiguration] No configuration provider found");return e?e.webServices:void 0}}),hasWebService:function(e){return!!this.getWebServiceInfo(e)},getWebServiceInfo:function(e){var t=this.webServices;if(t)return cc(t,e,"getWebServiceInfo",!1)},isWebServiceActive:function(e){var t=this.webServices;return!!t&&"active"===cc(t,e,"isWebServiceActive").status},urlForServiceName:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return cc(this.webServices,e,"urlForServiceName").url+"/"+t},serviceNameForUrl:function(e){var t;if(this.configurationProvider){var n=this.webServices;n&&n.forEach((function(n,r){var i=":443",a=n.url;a&&(a.endsWith(i)&&(a=a.match("(.*)"+i)[1]),e.startsWith(a)&&(t=r))}))}return t},staticMembers:{__QUALIFIED_CLASS_NAME__:"WebServicesConfiguration"}});function cc(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(Nt.a(t))throw new Error(n+": a serviceName must be specified");if(!e)throw new Error(n+": No services found, searched for "+t);var i=e.get(t);if(i||"feedbackws"!==t){if(r&&!i)throw new Error(n+": Service "+t+" was not found")}else i=lc(e),e.set("feedbackws",i);return i}function lc(e){var t=nc.servicesDomain,n="";if(e&&t===xs.iCloudChinaDomainProperty.servicesDomain){var r,i=/^https:\/\/(p\d{2,})/g,a={};for(var o in e.forEach((function(e){var t=e.url,n=i.exec(t);if(n&&n.length){var r=n[1];a[r]?a[r]=1:a[r]+=1}})),a)(!r||a[o]>a[r])&&(r=o);r&&(n=r+"-")}return{url:"https://"+n+"feedbackws."+t,status:"active"}}var uc=oe.a.extend(v.a,{mixinDependencies:[bs],staticMembers:{initializeWithApplication:function(e){if(uc._frameworkInitializerInstance)throw new Error("[cloudos-kit] Framework has already been initialized");if(!e||!e.instanceOf(lr))throw new Error("[cloudos-kit] Framework initializer must be an instance of ProcessKit Application");var t=e.hostInfo;if(!t)throw new Error("[cloudos-kit] The application is not a child application - no host information");var n=t.clientId;if(!n)throw new Error("[cloudos-kit] The application is not a child application - no client identifier");var r=e.parentProcessReference,i=e.applicationName;if(!r)throw new Error("[cloudos-kit] The application is not a child application - no process reference");if(!i)throw new Error("[cloudos-kit] The application is not a child application - no application name");var a=globalThis.__CW_BUILD_INFO,o={appName:i,masteringNumber:a.masteringNumber,buildNumber:a.buildNumber};uc._frameworkInitializerInstance=uc.create(e,o,n)},sharedInstance:y.c({get:function(){var e=uc._frameworkInitializerInstance;if(!e)throw new Error("[cloudos-kit] The framework has not been initialized. Please ensure no API has been called before the application delegate method applicationWillFinishLaunching has been called.");return e}}),_frameworkInitializerInstance:y.c(),__QUALIFIED_CLASS_NAME__:"FrameworkInitializer"},processReference:y.c({type:Lt,readOnly:!0,get:function(){return this._application.parentProcessReference}}),hostInfo:y.c({type:Object,readOnly:!0,get:function(){return this._application.hostInfo}}),sessionInfo:y.c({type:Object,readOnly:!0,get:function(){return this._application.sessionInfo}}),session:y.c({type:_s,readOnly:!0,get:function(){return _s.deserialize(this.sessionInfo)}}),applicationName:y.c({type:String,readOnly:!0,get:function(){return this.applicationInfo.appName}}),masteringBuildNumber:y.c({readOnly:!0,type:String,get:function(){return this.applicationInfo.masteringNumber}}),buildNumber:y.c({readOnly:!0,type:String,get:function(){return this.applicationInfo.buildNumber}}),applicationInfo:y.c({type:Object,readOnly:!0,get:function(){return this._internalApplicationInfo}}),clientId:y.c({type:String,readOnly:!0,get:function(){return this._internalClientId}}),webServices:y.c({type:Map,readOnly:!0,get:function(){var e=this.session;return e?e.webServices:void 0}}),init:function(e,t,n){if(this.__s._$1tZ$init.call(this),!e)throw new Error("FrameworkInitializer: init: no application specified");if(!t)throw new Error("FrameworkInitializer: init: no application info specified");if(!n)throw new Error("FrameworkInitializer: init: no client id specified");var r=t.appName,i=t.masteringNumber,a=t.buildNumber;if(!r)throw new Error("FrameworkInitializer: init: no applicationName specified");if(!i)throw new Error("FrameworkInitializer: init: no mastering build number specified");if(!a)throw new Error("FrameworkInitializer: init: no build number specified");this._application=e,this._internalApplicationInfo=t,this._internalClientId=n,sc.sharedInstance.configurationProvider=this},_internalClientId:y.c({type:String}),_internalApplicationInfo:y.c({type:Object}),_application:y.c({type:lr}),__superMap:{_$1tZ$init:"init"}}),dc=n(1606),hc={mixinDependencies:[v.a],errors:Object(v.g)(),validate:function(e){var t,n,r,i,a,o=this.getMetadataByType(y.a),s=Object.keys(o),c=!0;e&&(s=Array.isArray(e)?e:[e]);var l={};for(t in o)if(o.hasOwnProperty(t)&&-1!==s.indexOf(t)){if(!(r=(n=o[t]).validators))continue;for(a=0;a<r.length;a++)(i=r[a]).validate(n.getForObject(this),t,this)||(void 0===l[t]&&(l[t]=[]),l[t].push(i.message),c=!1)}return this.errors=l,c}},fc=n(1335),pc=oe.a.extend(fc.a,{staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseValidator"}}).extend({message:"Validation.InvalidPattern",pattern:Object(y.c)({type:RegExp,defaultValue:/.*/i}),validate:function(e){return this.get("pattern").test(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"PatternValidator"}}).extend({message:"INVALID_URL_ERROR",pattern:/[a-zA-Z0-9]{1,256}:\/\/[a-zA-Z0-9\-./]{1,256}/i,staticMembers:{__QUALIFIED_CLASS_NAME__:"URLValidator"}}),gc=oe.a.extend(hc,{urlString:y.c({defaultValue:"",validators:[pc]}),requestProperties:{},staticMembers:{__QUALIFIED_CLASS_NAME__:"HostInfo"}}),mc={no:"nb","no-NO":"nb-NO","iw-IL":"he-IL","vi-VI":"vi","zh-CN":"zh-Hans-CN","zh-TW":"zh-Hant-TW","zh-Hant-CN":"zh-Hant"};function vc(e,t,n){if(!e)throw new Error("[RegionFormatter] no locale specified to load");if(!t)throw new Error("[RegionFormatter] no base url specified to load from");if(!n)throw new Error("[RegionFormatter] no version specified to load");t=t.replace(/\/$/,"");var r=gc.create({urlString:t+"/"+n,requestProperties:{useCredentialsIfCrossOrigin:!1}});return yc.loadFormattingRules(r,e).catch((function(e){d.b.error("Could not load formatting rules",e)}))}var yc=dc.a;yc.rulesVersion=5;var _c=S.b("SizeClass",{COMPACT:"COMPACT",REGULAR:"REGULAR"}),bc={mixinDependencies:[K],name:"HostApplicationServiceFromChildProtocol",version:"0.0.1",minimizeApplication:G.a.define(),switchToApplication:G.a.define(),showAccountSettings:G.a.define(),showAccountMenu:G.a.define(),showWhatsNew:G.a.define(),setTitle:G.a.define(),updateRoute:G.a.define(),updateShareGUID:G.a.define(),removeEnvironmentInformation:G.a.define(),didBecomeInteractive:G.a.define(),showCreationMenu:G.a.define(),navigateToHomePage:G.a.define(),showStorageUsageWarning:G.a.define(),showADPAnnouncement:G.a.define(),showBeneficiaryAnnouncement:G.a.define(),showHelpMenu:G.a.define(),showOverflowMenu:G.a.define(),getMetaThemeColor:G.a.define(),setMetaThemeColor:G.a.define(),unsetMetaThemeColor:G.a.define(),showLocalNotification:G.a.define()},wc={mixinDependencies:[K],name:"HostApplicationServiceToChildProtocol",version:"0.0.1",didReceiveRemoteNotification:G.a.define(),tileDataDidUpdate:G.a.define(),launchOptionsDidChange:G.a.define(),whatsNewDidDisplay:G.a.define()},Sc={mixinDependencies:[$.a],didReceiveRemoteNotification:G.a.define(),tileDataDidUpdate:G.a.define(),launchOptionsDidChange:G.a.define(),whatsNewDidDisplay:G.a.define()};function Ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ic,Cc={frameworkInitializer:y.c({type:uc,readOnly:!0,get:function(){return uc.sharedInstance}}),processReference:y.c({type:Lt,readOnly:!0,get:function(){return this.frameworkInitializer?this.frameworkInitializer.processReference:void 0}}),remoteProxy:y.c({type:Object,readOnly:!0,get:function(){var e=this.processReference;return e&&e.remoteProxy?e.remoteProxy:this._remoteProxyNotConnected}}),configureListenerOnlyMessagingChannel:function(e){var t=this.processReference;t&&t.createListenerOnlyMessagingChannel(e,this)},configureConnectionOnlyMessagingChannel:function(e,t){var n=this.processReference;n&&n.createConnectionOnlyMessagingChannel(e,t),this._configureRemoteProxyNotConnected(e)},configureBidirectionalMessagingChannel:function(e,t,n,r){var i=this.processReference;i&&i.createMessagingChannel(e,t,n,r),this._configureRemoteProxyNotConnected(n)},_configureRemoteProxyNotConnected:function(e){for(var t,n=Ne.a(this),r=oe.a.extend({staticMembers:{__QUALIFIED_CLASS_NAME__:n+".remoteProxyNotConnected"}}).create(),i=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return Ec(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ec(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(te(e));!(t=i()).done;)r[t.value]=function(){var e=Se.create({status:pe.DISCONNECTED});return b.a.resolve(e)};this._remoteProxyNotConnected=r},_remoteProxyNotConnected:y.c({type:Object})};!function(e){e.OK="OK",e.CANCELLED="CANCELLED",e.FAILED="FAILED"}(Ic||(Ic={}));var Oc=function(e,t){this.status=e,this.data=t,this.isOk=e===Ic.OK,this.isCancelled=e===Ic.CANCELLED,this.isFailed=e===Ic.FAILED};function Tc(e,t){var n;return e.isOK?(n=Oc.okResult(void 0),t&&t.hasMixin(ns)&&(n.data=t.deserialize(e.data))):n=Ac(e),n}function Ac(e){return Oc.failedResult({status:e.status.value,underlyingError:e.error})}Oc.okResult=function(e){return new Oc(Ic.OK,e)},Oc.cancelledResult=function(e){return new Oc(Ic.CANCELLED,e)},Oc.failedResult=function(e){return new Oc(Ic.FAILED,e)};var Nc=function(e){return Tc(e)},Mc=(S.b("LaunchReason",{USER_LAUNCH:"USER_LAUNCH",ITEMS_OPENED:"ITEMS_OPENED",APP_SWITCHER:"APP_SWITCHER",NOTIFICATION:"NOTIFICATION",ACCOUNT_MENU:"ACCOUNT_MENU",ANNOUNCEMENT:"ANNOUNCEMENT",CREATE:"CREATE",OPEN_DOCUMENT:"OPEN_DOCUMENT"}),oe.a.extend({mixinDependencies:[ws.a,Cc,bc,wc],init:function(){this.__s._$2J1$init.call(this),this.configureBidirectionalMessagingChannel(wc,this,bc)},delegate:y.c({type:Sc}),minimizeApplication:function(e){return this.remoteProxy.minimizeApplication(e).then(Nc)},switchToApplication:function(e,t,n){return this.remoteProxy.switchToApplication(e,t,n).then(Nc)},showAccountSettings:function(){return this.remoteProxy.showAccountSettings().then(Nc)},showAccountMenu:function(e){return this.remoteProxy.showAccountMenu(e).then(Nc)},showCreationMenu:function(e){var t;return null==(t=this.remoteProxy)?void 0:t.showCreationMenu(e).then(Nc)},navigateToHomePage:function(){var e;return null==(e=this.remoteProxy)?void 0:e.navigateToHomePage().then(Nc)},showStorageUsageWarning:function(e){var t;return null==(t=this.remoteProxy)?void 0:t.showStorageUsageWarning(e).then(Nc)},showADPAnnouncement:function(e){var t;return null==(t=this.remoteProxy)?void 0:t.showADPAnnouncement(e).then(Nc)},showBeneficiaryAnnouncement:function(e){var t;return null==(t=this.remoteProxy)?void 0:t.showBeneficiaryAnnouncement(e).then(Nc)},showHelpMenu:function(e){var t;return null==(t=this.remoteProxy)?void 0:t.showHelpMenu(e).then(Nc)},showWhatsNew:function(e,t,n){var r;return null==(r=this.remoteProxy)?void 0:r.showWhatsNew(e,t,n).then(Nc)},showOverflowMenu:function(e,t,n){var r;return null==(r=this.remoteProxy)?void 0:r.showOverflowMenu(e,t,n).then(Nc)},setTitle:function(e){return this.remoteProxy.setTitle(e).then(Nc)},updateRoute:function(e,t){return this.remoteProxy.updateRoute(e,t).then(Nc)},updateShareGUID:function(e){return this.remoteProxy.updateShareGUID(e).then(Nc)},removeEnvironmentInformation:function(){return this.remoteProxy.removeEnvironmentInformation()},didBecomeInteractive:function(e,t){return this.remoteProxy.didBecomeInteractive(e,t)},getMetaThemeColor:function(){return this.remoteProxy.getMetaThemeColor()},setMetaThemeColor:function(e){return this.remoteProxy.setMetaThemeColor(e)},unsetMetaThemeColor:function(){return this.remoteProxy.unsetMetaThemeColor()},showLocalNotification:function(e,t,n,r){this.remoteProxy.showLocalNotification(e,t,n,r)},didReceiveRemoteNotification:function(e){this.delegate.didReceiveRemoteNotification(e)},tileDataDidUpdate:function(e){this.delegate.tileDataDidUpdate(e)},launchOptionsDidChange:function(e){this.delegate.launchOptionsDidChange(e)},whatsNewDidDisplay:function(e,t){this.delegate.whatsNewDidDisplay(e,t)},__superMap:{_$2J1$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"HostApplicationServiceConnection"}})),Dc={mixinDependencies:[K],name:"TelemetryServiceProtocol",version:"0.0.1",recordStat:G.a.define(),recordPerfStat:G.a.define()},Rc={};function Lc(e,t,n,r){if(!Rc[e])return Rc[e]=!0,n(e,t);console.warn("Already called this session! "+r+'("'+e+'", '+JSON.stringify(t,null,2)+")")}var kc,xc,Fc=oe.a.extend({mixinDependencies:[Cc],staticMembers:{sharedInstance:y.c({readOnly:!0,get:function(){var e=this._telemetryServiceInstance;return e||(e=this._telemetryServiceInstance=Fc.create()),e}}),_telemetryServiceInstance:y.c(),__QUALIFIED_CLASS_NAME__:"TelemetryConnection"},init:function(){this.__s._$MG$init.call(this),this.configureConnectionOnlyMessagingChannel(Dc)},sendStat:function(e,t){var n=this.frameworkInitializer||{},r=n.applicationName,i=n.masteringBuildNumber,a=n.buildNumber;return this.remoteProxy.recordStat(r,i,a,e,t)},sendPerfStat:function(e,t){var n=this.frameworkInitializer||{},r=n.applicationName,i=n.masteringBuildNumber,a=n.buildNumber;return this.remoteProxy.recordPerfStat(r,i,a,e,t)},sendStatOnce:function(e,t){return Lc(e,t,this.sendStat.bind(this),"recordStat")||b.a.resolve()},sendPerfStatOnce:function(e,t){return Lc(e,t,this.sendPerfStat.bind(this),"recordPerfStat")||b.a.resolve()},__superMap:{_$MG$init:"init"}}),Pc=oe.a.extend({init:function(){this.__s._$Eh$init.call(this),this._telemetryService=Fc.sharedInstance},recordStat:function(e,t){return this._telemetryService.sendStat(e,t)},recordStatOnce:function(e,t){return this._telemetryService.sendStatOnce(e,t)},recordPerfStat:function(e,t){return this._telemetryService.sendPerfStat(e,t)},recordPerfStatOnce:function(e,t){return this._telemetryService.sendPerfStatOnce(e,t)},_telemetryService:y.c({type:Fc}),__superMap:{_$Eh$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Telemetry"}});function jc(e){var t=e.detail,n=t.message,r=t.filename,i=t.lineno,a=t.colno,o=t.error;return{error:o&&o.message?o.message:n,url:r,lineNumber:i,columnNumber:a,stack:o?o.stack:"not available"}}function Uc(e,t){kc||(kc=Pc.create()),kc.recordStat(e,t)}function Bc(e){var t=e.detail.nativeEvent.reason;if(!(t instanceof Error))return{error:"unknown"};var n=t.stack,r=t.message;if("string"!==typeof n||!r)return{error:"unknown"};var i=t.toString(),a={error:-1!==i.indexOf(r)?i:r,stack:n},o=si(n);return o&&(a.url=o.filename,a.lineNumber=o.lineNumber,a.columnNumber=o.columnNumber),a}function Vc(e,t){xc||(xc=Pc.create()),xc.recordStat(e,t)}var Wc={mixinDependencies:[$.a],didFetchStartup:G.a.define()},zc={mixinDependencies:[K],name:"StartupInfoServiceFromChildProtocol",version:"0.0.1",setStartupInfo:G.a.define(),setStartupUrl:G.a.define(),startupDataIsLoaded:G.a.define()},Hc={mixinDependencies:[K],name:"StartupInfoServiceToChildProtocol",version:"0.0.1",didFetchStartup:G.a.define()},Gc=oe.a.extend({mixinDependencies:[ws.a,Cc,zc,Hc],init:function(){this.__s._$Fb$init.call(this),this.configureBidirectionalMessagingChannel(Hc,this,zc)},delegate:y.c({type:Wc}),setStartupInfo:function(e,t){return this.remoteProxy.setStartupInfo(e,t).then((function(e){return Tc(e)}))},setStartupUrl:function(e,t){return this.remoteProxy.setStartupUrl(e,t).then((function(e){return Tc(e)}))},startupDataIsLoaded:function(){return this.remoteProxy.setStartupUrl().then((function(e){return Tc(e)}))},didFetchStartup:function(e,t){this.delegate.didFetchStartup(e,t)},__superMap:{_$Fb$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"StartupInfoServiceConnection"}}),$c=oe.a.extend({staticMembers:{sharedInstance:y.c({readOnly:!0,get:function(){var e=this._performanceTimingInstance;return e||(e=this._performanceTimingInstance=$c.create()),e}}),createWith:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=$c.sharedInstance();i.shouldIncludeRedirectData=e,i.shoulIncludeConnectionData=t,i.shouldIncludeRequestData=n,i.shouldIncludeDOMData=r},_performanceTimingInstance:y.c(),__QUALIFIED_CLASS_NAME__:"WindowPerformanceTiming"},init:function(){this.__s._$Px$init.call(this),this.stats=this._getPerformanceData()},shouldIncludeRedirectData:y.c({type:Boolean,defaultValue:!0}),shoulIncludeConnectionData:y.c({type:Boolean,defaultValue:!0}),shouldIncludeRequestData:y.c({type:Boolean,defaultValue:!0}),shouldIncludeDOMData:y.c({type:Boolean,defaultValue:!0}),stats:y.c({type:Map,defaultValue:Me.b(Map)}),statsHash:y.c({type:Object,dependencies:["stats"],readOnly:!0,get:Object.assign((function(){var e=this.stats,t={};return e?(e.forEach((function(e,n){t[n]=e})),t):t}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]),a={};return i?(i.forEach((function(e,t){a[t]=e})),a):a}})}),_getPerformanceData:function(){var e=new Map;if(window&&window.performance&&window.performance.timing){var t=window.performance.timing,n=t.navigationStart,r=t.domainLookupStart,i=t.domainLookupEnd,a=t.connectStart,o=t.connectEnd,s=t.secureConnectionStart,c=t.fetchStart,l=t.requestStart,u=t.responseStart,d=t.responseEnd,h=t.loadEventStart,f=t.loadEventEnd,p=t.domLoading,g=t.domInteractive,m=t.domContentLoadedEventStart,v=t.domContentLoadedEventEnd,y=this.shouldIncludeRedirectData,_=this.shoulIncludeConnectionData,b=this.shouldIncludeDOMData,w=this.shouldIncludeRequestData;y&&(e.set("redirectTime",c-n),e.set("appCacheTime",c-n)),_&&(e.set("dnsLookupTime",i-r),e.set("tcpTime",o-a),e.set("secureConnectionStart",s>0?o-s:0)),b&&(e.set("processingTime",h-p),e.set("timeToLoadDOMContent",v-m),e.set("timeBeforeUserCanInteract",g-p)),w&&(e.set("fetchTime",d-c),e.set("requestTime",u-o),e.set("totalDocumentRequestTime",d-l),e.set("documentDownloadTime",d-u),e.set("timeToFirstByteOfDocument",u-l)),e.set("totalPageLoadTime",f-n)}return e},__superMap:{_$Px$init:"init"}}),Kc={preferencesDidUpdate:G.a.define()},Qc={setPreferences:G.a.define()},qc="app-id",Zc="registry-version",Yc=oe.a.extend({mixinDependencies:[$.a],connectionDelegate:{type:Qc},preferencesDelegate:y.c({type:Kc}),getPreferences:function(e){return this._preferencesStore&&this._preferencesStore[e]},setPreferences:function(e,t){var n;if("string"!==typeof e)throw new Error("[CorePreferencesStore] Expected key for preferences to save");if(!P.a(t,Object))throw new Error("[CorePreferencesStore] Expected values for preferences values to save");var r=this._serializeApps(((n={})[e]=t,n));return this._setRawPreferences(r)},registerDelegate:function(e){return!this.preferencesDelegate&&(this.preferencesDelegate=e,!0)},unregisterDelegate:function(e){if(this.preferencesDelegate!==e)throw new Error("[CorePreferencesStore] Delegate is not currently registered.");this.preferencesDelegate=void 0},preferencesDidUpdate:function(e){this._registry=[],this._registryVersions={},this._preferencesStore={},this._updateDataInPlace(e);var t=this.preferencesDelegate;t&&t.preferencesDidUpdate()},_setRawPreferences:function(e){if(this.connectionDelegate)return this.connectionDelegate.setPreferences(e)},_deserializeApps:function(e){var t={};if(e)for(var n in e)t[e[n][qc]]=this._deserializeKeys(e[n].keys);return t},_deserializeKeys:function(e){var t={};if(e)for(var n in e){var r=e[n],i=r.name,a=r.data;t[i]=a}return t},_serializeKeys:function(e){var t=[];for(var n in e)t.push({data:e[n],name:n});return t},_serializeApps:function(e){var t=[];for(var n in e){var r;t.push(((r={})[qc]=n,r[Zc]=this._registryVersions[n],r.keys=this._serializeKeys(e[n]),r))}return t},_updateDataInPlace:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=this._registry,r=this._preferencesStore;t.forEach((function(t){for(var r=t[qc],i=!1,a=0;a<n.length;a++)if(r===n[a][qc]){e._registry[a]=t,i=!0;break}i||e._registry.push(t);var o=t[Zc];e._registryVersions[r]=o}));var i=this._deserializeApps(t);for(var a in i){var o=i[a];r[a]=o}},_preferencesStore:y.c({defaultValue:{},type:Object}),_registry:y.c({defaultValue:[],type:Array}),_registryVersions:y.c({defaultValue:{},type:Object}),_registryData:y.c({type:Array}),staticMembers:{__QUALIFIED_CLASS_NAME__:"CorePreferencesStore"}}),Xc=Yc.create(),Jc={mixinDependencies:[K],name:"PreferencesServiceFromChildProtocol",version:"0.0.1",setPreferences:G.a.define()},el={mixinDependencies:[K],name:"PreferencesServiceToChildProtocol",version:"0.0.1",preferencesDidUpdate:G.a.define()},tl=oe.a.extend({mixinDependencies:[ws.a,Qc,Jc,el,Cc],init:function(){this.__s._$Gz$init.call(this),this.configureBidirectionalMessagingChannel(el,this,Jc)},storeDelegate:y.c({defaultValue:Xc,type:Yc}),setPreferences:function(e){return this.remoteProxy.setPreferences(e)},preferencesDidUpdate:function(e){var t=this.storeDelegate;t&&t.preferencesDidUpdate(e)},__superMap:{_$Gz$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"PreferencesServiceConnection"}});function nl(e){return{AFTER_PAINT:"chunk-"+e+"-after-paint",EXEC_START:"chunk-"+e+"-exec-start",EXEC_SYNC_END:"chunk-"+e+"-exec-sync-end",RAF:"chunk-"+e+"-raf",START_DOM_CREATION:"chunk-"+e+"-dom-creation"}}var rl=oe.a.extend(v.a,ws.a,{relativePath:v.g({defaultValue:"",type:String}),hash:v.g({defaultValue:"",type:String}),setTitle:function(e){Mc.sharedInstance.setTitle(e)},updateRoute:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.relativePath=e,this.hash=t,Mc.sharedInstance.updateRoute(e,t)},updateShareGUID:function(e){Mc.sharedInstance.updateShareGUID(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"BrowserHistory"}});!function(){if(performance.mark){var e=nl("main");performance.mark(e.START_DOM_CREATION)}}();var il=wr.extend({mixinDependencies:[Sc,Wc],applicationRedirectName:y.c({type:String}),allowedRemoteOrigins:y.c({readOnly:!0,type:Array,defaultValue:function(){return tc.sharedInstance.allowedRemoteOrigins}}),sizeClassHorizontal:v.g({dependencies:["_sizeClassHorizontal"],readOnly:!0,type:_c,get:Object.assign((function(){return this._sizeClassHorizontal}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])}})}),sizeClassVertical:v.g({dependencies:["_sizeClassVertical"],readOnly:!0,type:_c,get:Object.assign((function(){return this._sizeClassVertical}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])}})}),locale:y.c({type:String,get:function(){return this.hostInfo.locale}}),regionFormatInfo:y.c({type:String,get:function(){return this.hostInfo.regionFormat}}),secondaryLocale:y.c({type:String,get:function(){return this.hostInfo.secondaryLocale}}),supportedLocales:y.c({type:Array,get:function(){return this.hostInfo.supportedLocales}}),localesSupportedByAllApplications:y.c({type:Array,get:function(){return this.hostInfo.localesSupportedByAllApplications}}),capitalizedName:y.c({readOnly:!0,get:function(){var e=this.applicationName;return e&&(e="i"!==e.charAt(0)?Wr(e):"i"+Wr(e.substring(1))),e}}),_sizeClassHorizontal:v.g({strong:!0,type:_c}),_sizeClassVertical:v.g({strong:!0,type:_c}),_maintainSizeClass:v.h({inputs:["hostInfo"],callback:function(e){var t=_c.getItemForValue(e&&e.sizeClassHorizontal)||_c.REGULAR,n=_c.getItemForValue(e&&e.sizeClassVertical)||_c.REGULAR;zr(this,"_sizeClassHorizontal",t),zr(this,"_sizeClassVertical",n)}}),_maintainRouteAndHash:v.h({inputs:["hostInfo"],callback:function(e){var t="",n="",r=e&&e.cloudOSState;r&&(t=r.route||"",n=r.routeHash||"");var i=rl.sharedInstance;i.relativePath=t,i.hash=n}}),disableTouchScrolling:!0,errorFilter:function(e){return Kr(function(e){var t=e.filename,n=e.error;if(!(n instanceof Error))return{filename:t,stack:""};var r,i,a="string"===typeof n.stack?n.stack:"";return(!t||"undefined"===t||Xr(t)&&ti.test(t))&&(t=null!=(r=null==(i=si(a))?void 0:i.filename)?r:ri(a)),{filename:t,stack:a,error:n,message:e.message}}(e))},fatalErrorHandler:function(e){var t=jc(e);t.isFatal=!0,Uc("OnFatalError",t);var n=e.detail.error,r=ir.a();r.exceptionHandler(n),r.exceptionWasHandled=!0},nonFatalErrorHandler:function(e){var t=jc(e);t.isFatal=!1,Uc("OnNonFatalError",t)},unhandledRejectionFilter:function(e){return Kr(function(e){var t=e.reason,n="",r="";if(t&&t instanceof Error){"string"===typeof t.stack&&(r=t.stack);var i=t.fileName,a=t.sourceURL;if("string"===typeof a)n=a;else if("string"===typeof i)n=i;else if("string"===typeof r){var o,s;n=null!=(o=null==(s=si(r))?void 0:s.filename)?o:ri(r)}return{filename:n,stack:r,error:t,message:t.message}}return{filename:n,stack:r,message:void 0}}(e))},fatalUnhandledRejectionHandler:function(e){var t=Bc(e);t.isFatal=!0,Vc("OnFatalUnhandledRejection",t);var n=function(e){var t=e.reason,n=e.context,r=t||{},i=r.stack,a=r.message,o={};if(o.nativeEvent=e,"object"===typeof t&&"string"===typeof a){var s=t.toString(),c=-1!==s.indexOf(a)?s:a;o.message=c}return"string"===typeof i&&(o.stack=i),o.type="UNHANDLED_REJECTION",o.context=n,o}(e.detail.nativeEvent),r=ir.a();r.exceptionHandler(n),r.exceptionWasHandled=!0},nonFatalUnhandledRejectionHandler:function(e){var t=Bc(e);t.isFatal=!1,Vc("OnNonFatalUnhandledRejection",t)},init:function(){Hr(this.errorFilter,this.fatalErrorHandler.bind(this),this.nonFatalErrorHandler.bind(this)),Gr(this.unhandledRejectionFilter,this.fatalUnhandledRejectionHandler.bind(this),this.nonFatalUnhandledRejectionHandler.bind(this)),this.__s._$2QZ$init.apply(this,arguments),this._redirectToCloudOSIfNeeded()},run:function(){var e=this,t=wr.prototype.run;return this._loadRunDependencies().then((function(){return e._waitForWindowLoad()})).then((function(){return t.call(e)}))},_launchData:y.c({type:Object,get:function(){var e=function(){try{var e=function(){var e=window.performance.getEntries()||[],t=nl("(.*)"),n=new RegExp(t.EXEC_START),r=e.map((function(e){return e.name.match(n)})).filter((function(e){return e})).map((function(e){return e[1]})).filter((function(e){var t=nl(e);try{return performance.measure(e+"-dom-creation",t.START_DOM_CREATION,t.EXEC_SYNC_END),performance.measure(e+"-eval-exec",t.EXEC_START,t.RAF),performance.measure(e+"-raf-paint",t.RAF,t.AFTER_PAINT),performance.measure(e+"-process-time",t.EXEC_START,t.AFTER_PAINT),Object.values(t).forEach((function(e){return performance.clearMarks(e)})),!0}catch(n){return!1}})).map((function(t){var n,r=function(e,t){var n=new RegExp("(^|/)"+t+".js");return e.find((function(e){return e.name.match(n)}))||{startTime:void 0,responseEnd:void 0,connectStart:void 0,connectEnd:void 0,domainLookupStart:void 0,domainLookupEnd:void 0}}(e,t),i=r.startTime,a=void 0===i?0:i,o=r.responseEnd,s=void 0===o?0:o,c=r.domainLookupStart,l=void 0===c?0:c,u=r.domainLookupEnd,d=void 0===u?0:u,h=r.connectStart,f=void 0===h?0:h,p=r.connectEnd,g=s-a,m=d-l,v=(void 0===p?0:p)-f,y=performance.getEntriesByName(t+"-process-time")[0]||{},_=y.startTime,b=void 0===_?0:_,w=y.duration,S=void 0===w?0:w,E=performance.getEntriesByName(t+"-eval-exec")[0]||{},I=E.startTime,C=void 0===I?0:I,O=E.duration,T=void 0===O?0:O,A=performance.getEntriesByName(t+"-dom-creation")[0]||{},N=A.startTime,M=void 0===N?0:N,D=A.duration,R=void 0===D?0:D,L=performance.getEntriesByName(t+"-raf-paint")[0]||{},k=L.startTime,x=void 0===k?0:k,F=L.duration,P=void 0===F?0:F;return(n={})[t+"FetchStart"]=Math.round(a),n[t+"FetchDuration"]=Math.round(g),n[t+"DomainLookupDuration"]=Math.round(m),n[t+"ConnectDuration"]=Math.round(v),n[t+"ExecStart"]=Math.round(C),n[t+"ExecDuration"]=Math.round(T),n[t+"ProcessStart"]=Math.round(b),n[t+"ProcessDuration"]=Math.round(S),n[t+"ProcessDelay"]=Math.round(b-s),n[t+"DomCreationStart"]=Math.round(M),n[t+"DomCreationDuration"]=Math.round(R),n[t+"PaintStart"]=Math.round(x),n[t+"PaintDuration"]=Math.round(P),n[t+"PaintEndTime"]=Math.round(b+S),n}));return Object.assign.apply(Object,[{}].concat(r))}();return Object.entries(e).filter((function(e){return e[0],!!e[1]})).reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})}catch(t){return{}}}()||{},t=$c.sharedInstance.statsHash||{};return{windowPerfStats:Object.assign({},t,e),buildInfo:window.__CW_BUILD_INFO||{}}}}),_loadRunDependencies:function(){var e=this,t=this.hostInfo,n=t.regionFormat,r=t.locale,i=[this._initializeFramework()];return b.a.all(i).then((function(){return Mc.sharedInstance.delegate=e,Gc.sharedInstance.delegate=e,Xc.connectionDelegate=tl.sharedInstance,e._configureFontCapability(),e._initializeRegionFormatter(r,n)}))},_configureFontCapability:function(){var e=$r.a.sharedInstance,t=e.osMajorVersion,n=e.osMinorVersion;if(e.isMac){if(t<10||10===t&&n<14)return}else{if(!e.isiOS)return;if(t<12)return}document.body.setAttribute("apple-system-font-capable","true")},_initializeFramework:function(){var e=b.a.resolve();return uc.initializeWithApplication(this),e},_waitForWindowLoad:function(){var e=b.a.create();return"complete"===document.readyState?e.resolve():window.addEventListener("load",(function(){setTimeout((function(){e.resolve()}),0)})),e},_initializeRegionFormatter:function(e,t){return function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"icloud.com";if(!e)throw new Error("[RegionFormatter] No locale specfied info");var i="https://www."+r+"/locales/",a=dc.a;if(t){var o=t.version,s=t.rules,c=t.baseUrl,l=t.localeMap;a.localeMap=l||mc,o===a.rulesVersion&&s?(a.registerRegionFormat(s),n=b.a.resolve()):n=vc(e,c||i,a.rulesVersion)}else n=vc(e,i,a.rulesVersion);return n}(e,t,tc.sharedInstance.current.domain)},_redirectToCloudOSIfNeeded:function(){},didReceiveRemoteNotification:function(e){},launchOptionsDidChange:function(e){},whatsNewDidDisplay:function(e,t){},didFetchStartup:function(e,t){},tileDataDidUpdate:function(e){},__superMap:{_$2QZ$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"COSK2Application"}}),al=n(1436),ol=n(1322),sl={mixinDependencies:[K],name:"URLRequestServiceProtocol",version:.1,didReceiveSpecialResponse:G.a.define(),requestSent:G.a.define(),requestReceived:G.a.define()},cl={mixinDependencies:[$.a],notifySpecialResponseReceived:G.a.define(),notifyRequestSent:G.a.define(),notifyResponseReceived:G.a.define()},ll=oe.a.extend({mixinDependencies:[Cc,cl],staticMembers:{sharedInstance:y.c({get:function(){var e=ll._urlConnectionInstance;if(!e){var t=uc.sharedInstance;if(t){var n=t.applicationInfo,r=t.clientId;e=ll._urlConnectionInstance=ll.create(n,r)}}return e}}),initialize:function(e){if(ll._urlConnectionInstance)throw new Error("ServiceInitializer: initialize: An initializer was already set");ll._urlConnectionInstance=e},_urlConnectionInstance:y.c(),__QUALIFIED_CLASS_NAME__:"URLRequestConnection"},applicationInfo:y.c({type:Object}),clientId:y.c({type:String}),init:function(e,t){if(this.__s._$iQ$init.call(this),!e)throw new Error("URLRequestConnection: no application info specified");if(!t)throw new Error("URLRequestConnection: no client id specified");this.applicationInfo=e,this.clientId=t,this.configureConnectionOnlyMessagingChannel(sl)},notifySpecialResponseReceived:function(e,t,n){return this.remoteProxy.didReceiveSpecialResponse(this.applicationInfo,e,t,n)},notifyRequestSent:function(){return this.remoteProxy.requestSent(this.applicationInfo)},notifyResponseReceived:function(e,t,n,r){return this.remoteProxy.requestReceived(this.applicationInfo,e,t,n,r)},__superMap:{_$iQ$init:"init"}}),ul={mixinDependencies:[$.a],authenticationStepDidComplete:G.a.define(),authenticationDidComplete:G.a.define()},dl={mixinDependencies:[K],name:"AuthenticationServiceProtocol",version:"0.0.1",authenticate:G.a.define(),unauthenticate:G.a.define()},hl={mixinDependencies:[K],name:"AuthenticationServiceFromChildProtocol",version:"1.0.0",authenticateUser:G.a.define(),unauthenticateUser:G.a.define(),reauthenticateUser:G.a.define(),retrieveSession:G.a.define(),revalidateUser:G.a.define()},fl={mixinDependencies:[K],name:"AuthenticationServiceToChildProtocol",version:"0.0.1",authenticationStepDidComplete:G.a.define(),authenticationDidComplete:G.a.define(),authenticationDidCancel:G.a.define(),retrieveSessionDidComplete:G.a.define(),retrieveSessionDidCancel:G.a.define()},pl=oe.a.extend({mixinDependencies:[Cc,fl],delegate:y.c({type:fl}),isBackwardsCompatabilityMode:y.c({type:Boolean}),init:function(e,t){this.__s._$Rx$init.call(this),this.delegate=t,this.isBackwardsCompatabilityMode=e,e?this.configureConnectionOnlyMessagingChannel(dl,1e11):this.configureBidirectionalMessagingChannel(fl,this,hl)},authenticate:function(){return this.isBackwardsCompatabilityMode?this.remoteProxy.authenticate().then((function(e){return function(e){return e.isOK?e.data?Oc.okResult():Oc.cancelledResult():Ac(e)}(e)})):this.remoteProxy.authenticateUser().then((function(e){return Tc(e)}))},unauthenticate:function(){var e;return this.isBackwardsCompatabilityMode?(e=b.a.create(),this.remoteProxy.unauthenticate()):e=this.remoteProxy.unauthenticateUser(),e.then((function(e){return Tc(e)}))},reauthenticate:function(e,t,n,r,i){if(this._pendingAuthenticationInstance)throw new Error("[AuthenticationConnection] An existing authentication connection is still pending");return this._pendingAuthenticationInstance=e,this.remoteProxy.reauthenticateUser(t,n,r,i).then((function(e){return Tc(e)}))},revalidate:function(){return this.remoteProxy.revalidateUser().then((function(e){return Tc(e)}))},retrieveSession:function(e,t,n,r,i,a,o){if(this._pendingAuthenticationInstance)throw new Error("[AuthenticationConnection] An existing authentication connection is still pending");return this._pendingAuthenticationInstance=e,this.remoteProxy.retrieveSession(t,n,r,i,a,o).then((function(e){return Tc(e)}))},authenticationStepDidComplete:function(e){this.delegate.authenticationStepDidComplete(e)},authenticationDidComplete:function(e){this.delegate.authenticationDidComplete(e)},authenticationDidCancel:function(){this.delegate.authenticationDidCancel()},retrieveSessionDidComplete:function(e){var t=this._pendingAuthenticationInstance;t&&(t.retrieveSessionDidComplete(e),this._pendingAuthenticationInstance=void 0)},retrieveSessionDidCancel:function(){var e=this._pendingAuthenticationInstance;e&&(e.retrieveSessionDidCancel(),this._pendingAuthenticationInstance=void 0)},__superMap:{_$Rx$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"AuthenticationConnection"}}),gl={_sessionSupportSessionInfo:v.g({readOnly:!0,binding:dt.bindingFor("application.sessionInfo")}),_sessionSupportSessionInfoDidChange:v.f("_sessionSupportSessionInfo",(function(e){var t=_s.deserialize(e);this.sessionDidChange(t)})),sessionDidChange:G.a.define()},ml={mixinDependencies:[$.a],authenticatedUserDidChange:G.a.define()},vl=oe.a.extend(v.a,{mixinDependencies:[gl],delegate:y.c({type:ml}),init:function(){this.__s._$8n$init.call(this)},sessionDidChange:function(e){var t=e&&e.user?e.user:void 0;(this._user?this._user.serialize():void 0)!==(t?t.serialize():void 0)&&(this._user=t,this.delegate.authenticatedUserDidChange(this,t))},_user:y.c({type:gs}),__superMap:{_$8n$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Authentication_v1"}}),yl=oe.a.extend(v.a,{mixinDependencies:[fl,ml],staticMembers:{defaultInstance:y.c({readOnly:!0,get:function(){var e=this._defaultInstance;if(!e){var t=uc.sharedInstance;if(!t)throw new Error("[Authentication] Authentication framework not initialized");var n=t.hostInfo,r=t.session;if(!n)throw new Error("[Authentication] Authentication host information missing");var i=n.protocolVersion;if(isNaN(i))throw new Error("[Authentication] Invalid Authentication host information");var a=i<2,o=r?r.user:void 0;e=this._defaultInstance=yl.create(),a?(e._authentication_v1=vl.create(),e._authentication_v1.delegate=e,o&&(e._totalNumberOfAuthenticationSteps=2,e._completedAuthenticationStep=2)):o&&(e._totalNumberOfAuthenticationSteps=o.totalAuthenticationSteps,e._completedAuthenticationStep=o.completedAuthenticationStep),e._userMut=o,e._connection=this._sharedConnection=pl.create(a,e)}return e}}),_defaultInstance:y.c(),_sharedConnection:y.c({type:pl}),__QUALIFIED_CLASS_NAME__:"Authentication"},delegate:y.c({type:ul}),totalNumberOfAuthenticationSteps:y.c({type:Number,readOnly:!0,get:function(){return this.user?this.user.totalAuthenticationSteps:0}}),completedAuthenticationStep:y.c({type:Number,readOnly:!0,get:function(){return this.user?this.user.completedAuthenticationStep:0}}),isAuthenticated:y.c({readOnly:!0,type:Boolean,get:function(){return!!this.user&&this.user.isAuthenticated}}),user:v.g({readOnly:!0,type:gs,binding:"_userMut"}),isBackwardsCompatibilityMode:y.c({type:Boolean,readOnly:!0,get:function(){return void 0!==this._authentication_v1&&null!==this._authentication_v1}}),appleId:y.c({type:Boolean,readOnly:!0,get:function(){var e=this._appleId;if(e)return e;var t=this.user;return t?t.appleId:void 0}}),init:function(e){this.__s._$2YY$init.call(this),this._appleId=e,this._connection=yl._sharedConnection},authenticate:function(){var e=this;if(this!==yl.defaultInstance)throw new Error("[Authentication] only Authentication.defaultInstance can call authenticate()");return this.isBackwardsCompatibilityMode?this._connection.authenticate():this._connection.authenticate().then((function(t){return t.isOk?e._authenticationRequestPromise=b.a.create():t}))},unauthenticate:function(){if(this!==yl.defaultInstance)throw new Error("[Authentication] only Authentication.defaultInstance can call unauthenticate()");return this._connection.unauthenticate()},reauthenticate:function(e,t,n,r){var i=this;if(this!==yl.defaultInstance)throw new Error("[Authentication] only Authentication.defaultInstance can call unauthenticate()");return this._connection.reauthenticate(this,e,t,n,r).then((function(e){return e.isOk?i._authenticationSessionPromise=b.a.create():e}))},revalidate:function(){if(this!==yl.defaultInstance)throw new Error("[Authentication] only Authentication.defaultInstance can call revalidate()");return this._connection.revalidate()},retrieveSession:function(e,t,n,r,i){var a=this;return this._connection.retrieveSession(this,this._appleId,e,t,n,r,i).then((function(e){return e.isOk?a._authenticationSessionPromise=b.a.create():e}))},authenticationStepDidComplete:function(e){if(!e)throw new Error("[Authentication] no user info for authentication step");this._userMut=gs.deserialize(e);var t=this.delegate;if(t){var n=this._userMut,r=n.completedAuthenticationStep,i=n.totalAuthenticationSteps;t.authenticationStepDidComplete(this,r,i)}},authenticationDidComplete:function(e){if(!e)throw new Error("[Authentication] no user info for authentication complete");var t=this.delegate;this._userMut=gs.deserialize(e),t&&t.authenticationDidComplete(this);var n=this._authenticationRequestPromise;n&&(n.resolve(Oc.okResult()),this._authenticationRequestPromise=void 0)},authenticationDidCancel:function(){var e=this._authenticationRequestPromise;e&&(e.resolve(Oc.cancelledResult()),this._authenticationRequestPromise=void 0)},retrieveSessionDidComplete:function(e){var t=this._authenticationSessionPromise;t&&(t.resolve(Oc.okResult(e)),this._authenticationSessionPromise=void 0)},retrieveSessionDidCancel:function(){var e=this._authenticationSessionPromise;e&&(e.resolve(Oc.cancelledResult()),this._authenticationSessionPromise=void 0)},_userMut:v.g({type:gs}),_connection:y.c({type:pl}),_authenticationRequestPromise:y.c({type:b.a}),_authentication_v1:y.c({type:vl}),authenticatedUserDidChange:function(e,t){if(t){this._totalNumberOfAuthenticationSteps=2;var n,r,i=this.delegate;i?(this._completedAuthenticationStep=1,i.authenticationStepDidComplete(this,n,r,1,this._totalNumberOfAuthenticationSteps),this._completedAuthenticationStep=2,i.authenticationStepDidComplete(this,n,r,2,this._totalNumberOfAuthenticationSteps),this._userMut=t,i.authenticationDidComplete(this)):(this._completedAuthenticationStep=2,this._userMut=t)}},__superMap:{_$2YY$init:"init"}}),_l=n(1439),bl=n(1344),wl={mixinDependencies:[$.a],arrayBuffer:G.a.define(),blob:G.a.define(),formData:G.a.define(),json:G.a.define(),text:G.a.define()},Sl=S.b("HttpStatusClass",{NONE:"0",SUCCESS:"2",REDIRECT:"3",REQUEST_ERROR:"4",SERVER_ERROR:"5"});function El(e){(!e||e<200||e>599)&&(e=0);var t=e.toString()[0];return Sl.getItemForValue(t)}var Il=oe.a.extend({mixinDependencies:[wl],init:function(e,t,n){this.__s._$Dk$init.call(this,n),this._encodedBody=e,this._jsonBody=t},headers:y.c({type:Object}),ok:y.c({readOnly:!0,type:Boolean,get:function(){return El(this.status)===Sl.SUCCESS}}),redirected:y.c({readOnly:!0,type:Boolean,get:function(){throw new Error("URLResponse: redirected: not implmented")}}),status:y.c({type:Number}),statusText:y.c({type:String}),type:y.c({type:String,defaultValue:"default"}),url:y.c({type:String}),useFinalUrl:y.c({type:Boolean}),body:y.c({readOnly:!0,get:function(){throw new Error("URLResponse: body: not implemented")}}),bodyUsed:y.c({readOnly:!0,type:Boolean,get:function(){throw new Error("URLResponse: bodyUsed: not implemented")}}),clone:function(){throw new Error("URLResponse: clone: not implemented")},error:function(){throw new Error("URLResponse: error: not implemented")},redirect:function(e,t){throw new Error("URLResponse: redirect: not implemented")},arrayBuffer:function(){throw new Error("URLResponse: arrayBuffer: not implemented")},blob:function(){throw new Error("URLResponse: blob: not implemented")},formData:function(){throw new Error("URLResponse: formData: not implemented")},json:function(){return b.a.resolve(this._jsonBody)},text:function(){return b.a.resolve(this._encodedBody)},_encodedBody:y.c({type:String}),_jsonBody:y.c({type:Object}),__superMap:{_$Dk$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"URLResponse"}}),Cl=n(1582),Ol=Cl.a.extend({init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("URLRequest: no url specified");var n=t.credentials;n&&!t.hasOwnProperty("useCredentialsIfCrossOrigin")&&"include"===n&&(t.useCredentialsIfCrossOrigin=!0),t.url=e,this.__s._$FN$init.call(this,t)},__superMap:{_$FN$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"URLRequest"}}),Tl={timeRequestSent:y.c({type:Number,defaultValue:void 0}),timeResponseReceived:y.c({type:Number,defaultValue:void 0}),duration:y.c({type:Number,readOnly:!0,get:function(){if(!this._timeRequestSent)throw new Error("No request sent time set");if(!this._timeResponseReceived)throw new Error("No response time set");return this._timeResponseReceived-this._timeRequestSent}}),shouldReportSuccess:y.c({type:Boolean,defaultValue:!0}),shouldReportFailure:y.c({type:Boolean,defaultValue:!0}),reportingPathname:y.c({defaultValue:null}),reportingMethod:null,getReportStatParams:void 0},Al=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.maxAttempts=5,this.getRetryWaitTime=void 0,this.getShouldRetry=void 0;var t=e.maxAttempts,n=e.getRetryWaitTime,r=e.getShouldRetry;"number"===typeof t&&(this.maxAttempts=t),this.getRetryWaitTime="function"===typeof n?n:function(e){return 200*Math.pow(2,e.responseList.length)},this.getShouldRetry="function"===typeof r?r:function(e){return 2!==Math.floor(e.response.status/100)}},Nl=Ol.extend({mixinDependencies:[Tl],staticMembers:{from:function(e){if(!P.a(e,Nl))throw new Error("URLRetryableRequest: from: attempted to create from non retryable request");var t=Nl.create(e.url,e._options,e._retryOptions);return t.responseList=[].concat(e.responseList),t.requestPromise=e.requestPromise,t},__QUALIFIED_CLASS_NAME__:"URLRetryableRequest"},init:function(e,t,n){this.__s._$zM$init.call(this,e,t),t&&(this._options=t),n&&(this._retryOptions=n),n.maxAttempts&&(this.maxAttempts=n.maxAttempts)},retryWaitTime:y.c({type:Number,get:function(){return this._retryOptions.getRetryWaitTime(this)}}),shouldRetry:y.c({type:Boolean,get:function(){var e=this.response;return yt.a(e)?this._retryOptions.getShouldRetry(this):(d.b.debug("URLRetryableRequest: Attempted to retry request with no available response."),!1)}}),requestPromise:y.c({type:b.a}),maxAttempts:y.c({type:Number,defaultValue:5}),currentRetryCount:y.c({type:Number,get:function(){return this.responseList.length+1}}),_options:y.c({type:Object}),_retryOptions:y.c({type:Object}),responseList:y.c({type:Array,defaultValue:[]}),record:function(e){this.responseList.push(e)},__superMap:{_$zM$init:"init"}}),Ml=Il.extend({staticMembers:{fromNormalizedResponse:function(e,t){var n=e._encodedBody,r=e._jsonBody,i=e.status,a=e.url,o=e.headers;return Ml.create(n,r,{status:i,url:a,headers:o},t)},__QUALIFIED_CLASS_NAME__:"URLRetryableResponse"},init:function(e,t,n,r){if(this.__s._$Gc$init.call(this,e,t,n),!r)throw new Error("URLRetryableResponse: init: no response list specified");this.responseList=r},responseList:y.c({type:Array}),totalResponseCount:y.c({readOnly:!0,get:function(){return this.responseList.length+1}}),__superMap:{_$Gc$init:"init"}}),Dl=n(1440).a.extend({mixinDependencies:[ws.a],decode:function(e){if(!ce.a(e))return this.__s._$EV$decode.apply(this,arguments);try{return JSON.parse(e),this.__s._$EV$decode.apply(this,arguments)}catch(t){return null}},__superMap:{_$EV$decode:"decode"},staticMembers:{__QUALIFIED_CLASS_NAME__:"XHRBodySerializerNoWarnings"}}),Rl=oe.a.extend({fetch:function(e,t){var n=Ol.create(e,t);return this.fetchRequest(n)},fetchWithRetry:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Al,r=Nl.create(e,t,n);return this.fetchRequest(r)},fetchRequest:function(e){var t,n=this;if(!e)throw new Error("URLConnection: fetchRequest: no request specified");return P.a(e,Nl)?(t=e.requestPromise=b.a.create(),this._fetchRetryableRequest(e)):(this.willSendRequest(e),t=e.send().then((function(t){return n._responseWasReceived(e,t)}),(function(t){return n._responseWasReceived(e,t)}))),this.didSendRequest(e),t},willSendRequest:function(e){},didSendRequest:function(e){},didReceiveResponseForRequest:function(e,t){},_fetchRetryableRequest:function(e){var t=this;this.willSendRequest(e),e.send().catch(bl.a).then((function(n){return e.shouldRetry?t._retryRequest(e,n):t._resolveRetryableRequest(e,n)}))},_resolveRetryableRequest:function(e,t){var n=Ll(e,t),r=Ml.fromNormalizedResponse(n,e.responseList);this.didReceiveResponseForRequest(e,r),e.requestPromise.resolve(r)},_retryRequest:function(e,t){var n=this,r=e.maxAttempts,i=e.currentRetryCount,a=e.retryWaitTime;if(i<r){var o=Ll(e,t),s=Nl.from(e);s.record(o),setTimeout((function(){return n._fetchRetryableRequest(s)}),a)}else this._resolveRetryableRequest(e,t)},_responseWasReceived:function(e,t){var n=Ll(e,t);return this.didReceiveResponseForRequest(e,n),n},staticMembers:{__QUALIFIED_CLASS_NAME__:"URLConnection"}});function Ll(e,t){t.serializer=Dl.sharedInstance;var n=t.headers,r=t.status,i=t.body,a=t.encodedBody,o=e.url,s=function(e){return At.a(e)?e:0}(r);return Il.create(a,i,{status:s,url:o.toString(),headers:kl(n)})}function kl(e){var t={};if(e)for(var n=e.split(/\r?\n/),r=0;r<n.length;r++)if(!(n[r].length<2)){var i=n[r].split(":"),a=i[0],o=i.slice(1).join(":").replace(/^\s+/,"");""!==a&&(t[a]=o)}return t}var xl={mixinDependencies:[$.a],fetch:G.a.define()},Fl=Rl.extend({mixinDependencies:[xl],clientId:y.c({type:String}),masteringNumber:y.c({type:String}),buildNumber:y.c({type:String}),init:function(e,t,n){if(this.__s._$oO$init.call(this),!e)throw new Error("[CloudOSURLFetchService] no client id specified");if(!t)throw new Error("[CloudOSURLFetchService] no mastering number specified");if(!n)throw new Error("[CloudOSURLFetchService] no build number specified");this.clientId=e,this.masteringNumber=t,this.buildNumber=n},willSendRequest:function(e){var t=e.url,n=this.clientId,r=this.masteringNumber;Pl(t,"clientBuildNumber",this.buildNumber),Pl(t,"clientMasteringNumber",r),Pl(t,"clientId",n)},__superMap:{_$oO$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CoreOSURLConnection"}});function Pl(e,t,n){e.setQueryParameter(t,n)}var jl,Ul=Ol.extend({init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.hasOwnProperty("credentials")||t.hasOwnProperty("useCredentialsIfCrossOrigin")||(t.credentials="include"),this.__s._$FQ$init.call(this,e,t)},__superMap:{_$FQ$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CloudOSRequest"}}),Bl=Ul.extend({mixinDependencies:[Tl],staticMembers:{__QUALIFIED_CLASS_NAME__:"URLReportingRequest"}}),Vl=[330,401,421,423,503];function Wl(e){var t=e.status;return-1!==Vl.indexOf(t)}function zl(e,t){return jl||(jl=Gl.create()),jl.fetch(e,t)}function Hl(e,t,n){return jl||(jl=Gl.create()),jl.fetchWithRetry(e,t,n)}var Gl=Fl.extend({mixinDependencies:[xl],fetch:function(e,t){var n=Bl.create(e,t);return this.fetchRequest(n)},willSendRequest:function(e){this.__s._$1Y8$willSendRequest.call(this,e),e.timeRequestSent=globalThis.performance.now(),this.handleWillSendReportingRequest(e)},didReceiveResponseForRequest:function(e,t){var n=this;e.timeResponseReceived=globalThis.performance.now();var r=t.text(),i=t.json();b.a.all([r,i]).then((function(r){var i=r[0],a=r[1];n.handleDidReceiveResponseForReportingRequest(e,t,i,a)}))},handleWillSendReportingRequest:function(e){var t=this.dsid;t&&e.url.setQueryParameter("dsid",t),this.willSendReportingRequest(e)},handleDidReceiveResponseForReportingRequest:function(e,t,n,r){this._handleStat(e,t,n),Wl(t)&&this.handleSpecialResponseWasReceived(e,t,n,r),this._responseWasHandledForRequest(e,t)},willSendReportingRequest:function(e){},recordStat:function(e,t,n,r){},handleSpecialResponseWasReceived:function(e,t,n,r){if(!e)throw new Error("[CloudOSUrlService]: handleSpecialResponseWasReceived: No request specified");if(!t)throw new Error("[CloudOSUrlService]: handleSpecialResponseWasReceived: No request specified");var i=e.duration,a=t.status,o={timeTaken:i},s=r&&r.retryAfter;s&&(o.retryAfter=s),this.specialResponseWasReceived(a,n,o)},specialResponseWasReceived:function(e,t,n){},_handleStat:function(e,t,n){if(!e)throw new Error("[CloudOSUrlService]: handleDidReceiveResponseForReportingRequest: No reporting request specified");if(!t)throw new Error("[CloudOSUrlService]: handleDidReceiveResponseForReportingRequest: No response specified");var r=e.url,i=e.method,a=e.reportingMethod,o=e.duration,s=e.state,c=e.reportingPathname,l=e.dontReportServerError,u=e.getReportStatParams,d=null,h=t.status,f=e.serviceName;if(f||(f=function(e){var t,n,r;return(t=oc(e.toString()))||(t=null!=(n=null==(r=e.toString().match("https://p*[0-9]*-*([a-zA-Z0-9]*)."))?void 0:r[1])?n:"unknown"),t}(r)),function(e,t){var n=t.status;return e.shouldReportFailure&&function(e){var t=El(e);return 421!==e&&(t===Sl.NONE||t===Sl.REQUEST_ERROR||t===Sl.SERVER_ERROR)}(n)||e.shouldReportSuccess&&function(e){return El(e)===Sl.SUCCESS}(n)||Wl(t)}(e,t)&&(d=Object.assign({httpMethod:a?a+" VIA "+i:i,statusCode:h,hostname:r.hostname,serviceName:f,clientTiming:o,net_uncompressedResponseSize:n?n.length:null,timedOut:s===_l.b.TIMEDOUT,urlPath:c||r.pathname},l&&{dontReportServerError:l})),u){var p=u(e,t,n);p&&Object.assign(d,p)}this.recordStat(d,h,r.toString(),n)},_responseWasHandledForRequest:function(e,t){},__superMap:{_$1Y8$willSendRequest:"willSendRequest"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ReportingURLConnection"}}).extend({urlRequestConnection:y.c({type:cl}),init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ll.sharedInstance;if(!e)throw new Error("CloudOSClientURLConnection: No CloudOS url request service specified");var t=e.clientId,n=e.applicationInfo,r=n.masteringNumber,i=n.buildNumber;this.__s._$1d6$init.call(this,t,r,i),this.urlRequestConnection=e},dsid:y.c({type:String,readOnly:!0,get:function(){var e,t=yl.defaultInstance;if(t){var n=t.user;n&&(e=n.dsid)}return e}}),willSendReportingRequest:function(e){this.urlRequestConnection.notifyRequestSent()},recordStat:function(e,t,n,r){this.urlRequestConnection.notifyResponseReceived(e,t,n,r)},specialResponseWasReceived:function(e,t,n){this.urlRequestConnection.notifySpecialResponseReceived(e,t,n)},__superMap:{_$1d6$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CloudOSClientURLConnection"}}),$l=Object.freeze(Object.assign({},Wt,{BROWSER_UNSUPPORTED:"BROWSER_UNSUPPORTED",PCS_REQUIRED:"PCS_REQUIRED",UNABLE_FETCH_PCS:"UNABLE_FETCH_PCS"}));function Kl(e){return 2===Math.floor(e/100)}var Ql,ql=S.b("DOMHistoryService.ActivationState",["Inactive","Active"]),Zl={mixinDependencies:[$.a],historyStateDidChange:G.a.define()},Yl=oe.a.extend(v.a,{delegate:y.c({type:Zl}),activeSession:v.g(),isActive:v.g({dependencies:["_activationState"],readOnly:!0,get:Object.assign((function(){return this._activationState===ql.Active}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===ql.Active}})}),_activationState:v.g(ql.Inactive),hasHistory:y.c({readOnly:!0,get:function(){return!!globalThis.history.state}}),init:function(e,t){this.__s._$Rw$init.call(this,t),this.bind("activeSession",e),this._activationState=ql.Inactive},activate:function(){this.isActive||(this._activationState=ql.Active,this._setupHistoryStateMonitoring())},deactivate:function(){this.isActive&&(this._activationState=ql.Inactive,this._teardownHistoryStateMonitoring())},_createHistoryStateForFolderAndSession:function(e,t){var n=t.initialWorkingDirectory===e;return{folderId:e.id,sessionId:t.id,isSessionRoot:n}},_currentWorkingDirectoryObserver:v.h({inputs:["activeSession.currentWorkingDirectory"],callback:function(e){if(e){var t=this.activeSession,n=this._createHistoryStateForFolderAndSession(e,t),r=globalThis.history.state;r&&r.sessionId===n.sessionId&&r.folderId===n.folderId||(null===r?globalThis.history.replaceState(n,e.name,""):globalThis.history.pushState(n,e.name,""))}}}),_setupHistoryStateMonitoring:function(){this._historyStatePopObserver=this._historyDidPopState.bind(this),globalThis.addEventListener("popstate",this._historyStatePopObserver)},_teardownHistoryStateMonitoring:function(){globalThis.removeEventListener("popstate",this._historyStatePopObserver),this._historyStatePopObserver=null},_historyDidPopState:function(e){var t=globalThis.history.state,n=this.delegate;n&&n.historyStateDidChange(t)},__superMap:{_$Rw$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DOMHistoryService"}}),Xl={mixinDependencies:[$.a],handleQueryFolderContentFailure:G.a.define()},Jl={FULL_ACCESS:{WARM_BOOT:1,COLD_BOOT:2},MIGRATION:{NOT_STARTED:3,IN_PROGRESS:4},NEEDS_ZONE:5,NONE:{PCS_MISSING:6,PCS_INVALID:7,STARTUP_ERROR:8},UNKNOWN:9};Object.freeze(Jl),function(e){e.OK="OK",e.CANCELLED="CANCELLED",e.FAILED="FAILED"}(Ql||(Ql={}));var eu=function(){function e(e,t){this.status=e,this.data=t,this.ok=e===Ql.OK,this.cancelled=e===Ql.CANCELLED,this.failed=e===Ql.FAILED}return e.okResult=function(t){return new e(Ql.OK,t)},e.cancelledResult=function(t){return new e(Ql.CANCELLED,t)},e.failedResult=function(t){return new e(Ql.FAILED,t)},e}();function tu(e){var t="function"===typeof Map?new Map:void 0;return tu=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(nu())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&ru(i,n.prototype),i}(e,arguments,iu(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ru(n,e)},tu(e)}function nu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(nu=function(){return!!e})()}function ru(e,t){return ru=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ru(e,t)}function iu(e){return iu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},iu(e)}var au=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,t)||this).message=t,r.context=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,ru(t,n),r}(tu(Error)),ou=new u({debugmigration:{configurable:!1,type:Boolean,value:!1},stats:{configurable:!1,type:Boolean},flags:{configurable:!1,type:Boolean}},o,(function(){return""})).values,su=null,cu=[];function lu(e,t){var n=e;return"user"===t&&(n=e.replace(/^record/,"recordUser")),function(r,i){ou.stats&&console.info("\ud83e\udeb5 "+n+'("'+r+'")',...i?[i]:[]),"recordPerfStat"===e||"recordPerfStatOnce"===e||i?su[e](r,Object.assign(i,{statCategory:t})):t?su[e](r,{statCategory:t}):su[e](r)}}var uu=function(e,t){cu.push(["recordStat",[e,t]])},du=function(e,t){cu.push(["recordStatOnce",[e,t]])},hu=function(e,t){cu.push(["recordPerfStat",[e,t]])},fu=function(e,t){cu.push(["recordPerfStatOnce",[e,t]])},pu=function(e,t){cu.push(["recordUserStat",[e,t]])},gu=function(e,t){cu.push(["recordUserStatOnce",[e,t]])},mu=function(e,t){cu.push(["recordUserPerfStat",[e,t]])},vu=function(e,t){cu.push(["recordUserPerfStatOnce",[e,t]])},yu={},_u=function(e,t){var n=e+":"+t;yu[n]||(yu[n]=!0,uu(e,{menuItem:t}))},bu=function(e,t){return du("issue."+e,Object.assign({},t,{once:!0}))},wu=n(1433);Object(wu.a)(Object(wu.b)(),{"RootFolderName":"iCloudDrive","Default.FolderName.RecentlyDeleted":"Recently Deleted","LocalizedItemName.Desktop":"Desktop","LocalizedItemName.Documents":"Documents","LocalizedAppLibraryName.com.apple.keynote":"Keynote","LocalizedAppLibraryName.com.apple.pages":"Pages","LocalizedAppLibraryName.com.apple.numbers":"Numbers","LocalizedAppLibraryName.icloud.com.apple.homeroom":"Schoolwork","InitiateShare.Title.File":"Share File","InitiateShare.Title.Folder":"Share Folder","InitiateShare.Title.Pages":"Share Document","InitiateShare.Title.Numbers":"Share Spreadsheet","InitiateShare.Title.Keynote":"Share Presentation","ItemDetails.Name":"Name","ItemDetails.SharedBy":"Shared by","ItemDetails.SharedWith":"Shared with","FolderContentsList.ColumnHeading.Name":"Name","FolderContentsList.ColumnHeading.Kind":"Kind","FolderContentsList.ColumnHeading.Size":"Size","FolderContentsList.ColumnHeading.Date":"Date","FolderContentsList.ColumnHeading.Shared":"Shared","FolderContentsList.ColumnHeading.TimeLeft":"Time Left","SortMenu.Date":"Date","SortMenu.Name":"Name","SortMenu.Size":"Size","SortMenu.Kind":"Kind","SortMenu.SortBy":"Sort by","SortMenu.SortBy.Kind":"by Kind","SortMenu.SortBy.Date":"by Date","SortMenu.SortBy.Name":"by Name","SortMenu.SortBy.Size":"by Size","ViewMenu.Grid":"Grid","ViewMenu.List":"List","ViewMenu.ViewAs":"View as","FileIcon.FileType.aac":"AAC audio","FileIcon.FileType.abbu":"Contacts Archive File","FileIcon.FileType.ai":"Adobe Illustrator Document","FileIcon.FileType.aiff":"AIFF-C Audio","FileIcon.FileType.apk":"Android Application","FileIcon.FileType.app":"Application","FileIcon.FileType.avi":"AVI movie","FileIcon.FileType.band":"GarageBand Project","FileIcon.FileType.bat":"Batch File","FileIcon.FileType.bin":"MacBinary archive","FileIcon.FileType.blend":"Blend File","FileIcon.FileType.bmp":"Windows bitmap image","FileIcon.FileType.c":"C source code","FileIcon.FileType.c4d":"Cinema 4D File","FileIcon.FileType.class":"Java class","FileIcon.FileType.cpp":"C++ source code","FileIcon.FileType.css":"Cascading Style Sheet","FileIcon.FileType.cer":"Certificate","FileIcon.FileType.csv":"comma-separated values","FileIcon.FileType.dae":"Collada","FileIcon.FileType.dmg":"Disk Image","FileIcon.FileType.dng":"Adobe raw image","FileIcon.FileType.doc":"Microsoft Word 97-2004 document","FileIcon.FileType.docx":"Office Open XML word processing document","FileIcon.FileType.dxf":"AutoCAD DXF File","FileIcon.FileType.eps":"Encapsulated PostScript","FileIcon.FileType.exe":"Microsoft Windows application","FileIcon.FileType.fbx":"Filmbox File","FileIcon.FileType.gif":"Graphics Interchange Format","FileIcon.FileType.gz":"GZip archive","FileIcon.FileType.h":"C header code","FileIcon.FileType.hqx":"BinHex archive","FileIcon.FileType.htm":"HTML text","FileIcon.FileType.epub":"Electronic Publication (EPUB)","FileIcon.FileType.ibooks":"Electronic Publication (Apple Books)","FileIcon.FileType.icns":"Apple icon image","FileIcon.FileType.ico":"Windows icon image","FileIcon.FileType.ics":"ICS File","FileIcon.FileType.indd":"Adobe InDesign Document","FileIcon.FileType.ipa":"iOS App","FileIcon.FileType.iso":"ISO Disk Image","FileIcon.FileType.java":"Java source code","FileIcon.FileType.jpg":"JPEG image","FileIcon.FileType.js":"JavaScript","FileIcon.FileType.key":"Keynote Presentation","FileIcon.FileType.keychain":"keychain","FileIcon.FileType.log":"Log File","FileIcon.FileType.m":"Objective-C source code","FileIcon.FileType.m3u":"M3U Playlist","FileIcon.FileType.m4a":"Apple MPEG-4 audio","FileIcon.FileType.m4p":"protected MPEG-4 audo","FileIcon.FileType.m4r":"Ringtone","FileIcon.FileType.m4v":"Apple MPEG-4 movie","FileIcon.FileType.mid":"Midi audio","FileIcon.FileType.qt":"QuickTime movie","FileIcon.FileType.mp3":"MP3 Audio","FileIcon.FileType.mp4":"MPEG-4 movie","FileIcon.FileType.mpeg":"MPEG movie","FileIcon.FileType.numbers":"Numbers Spreadsheet","FileIcon.FileType.obj":"Wavefront 3D Object File","FileIcon.FileType.otf":"PostScript OpenType font","FileIcon.FileType.pages":"Pages Document","FileIcon.FileType.pdf":"Portable Document Format (PDF)","FileIcon.FileType.perl":"Perl script","FileIcon.FileType.pkg":"Installer package archive","FileIcon.FileType.png":"PNG image","FileIcon.FileType.pps":"Microsoft PowerPoint 97-2004 slide show","FileIcon.FileType.ppsx":"Office Open XML slide show","FileIcon.FileType.ppt":"Microsoft PowerPoint 97-2004 presentation","FileIcon.FileType.pptx":"Office Open XML presentation","FileIcon.FileType.ps":"PostScript","FileIcon.FileType.psd":"Adobe Photoshop document","FileIcon.FileType.py":"Python script","FileIcon.FileType.rar":"RAR archive","FileIcon.FileType.rtf":"Rich Text File","FileIcon.FileType.safariextz":"Safari extension","FileIcon.FileType.scpt":"Script","FileIcon.FileType.sh":"shell script","FileIcon.FileType.stl":"Stereolithography File","FileIcon.FileType.svg":"scalable vector graphics (SVG)","FileIcon.FileType.swift":"Swift File","FileIcon.FileType.tar":"tar archive","FileIcon.FileType.tiff":"TIFF image","FileIcon.FileType.ttf":"TrueType OpenType font","FileIcon.FileType.txt":"Text","FileIcon.FileType.vcf":"Electronic business card","FileIcon.FileType.wave":"Waveform audio","FileIcon.FileType.wma":"Windows media audio","FileIcon.FileType.wmv":"Windows media","FileIcon.FileType.xcodeproj":"Xcode Project","FileIcon.FileType.xhtml":"XHTML","FileIcon.FileType.xlam":"Microsoft Excel add-in","FileIcon.FileType.xls":"Microsoft Excel 97-2004 worksheet","FileIcon.FileType.xlsx":"Office Open XML spreadsheet","FileIcon.FileType.xml":"XML text","FileIcon.FileType.zip":"ZIP archive"}),Object(wu.a)(Object(wu.b)(),{"Shared.Empty.Message":"No items","Shared.Empty.Description":"Shared files will appear here.","Shared.Error.Message":"There was a problem loading your shared files.","Shared.Error.Description":"Please try again later."}),Object(wu.a)(Object(wu.b)(),{"Alert.UpgradeInstructions":"Upgrade Instructions","Alert.CannotRenameItem.NoExtension.Message":"The name %{name} is already taken.","Alert.CannotRenameItem.Description":"Please choose a different name.","Alert.CannotRenameItem.Group.Message":"%{count} items could not be renamed because their names are already taken.","Alert.CannotRenameItem.Group.Description":"Please choose different names.","Alert.InvalidName.File.Message":"The name %{fileNameWithExtension} cant be used.","Alert.InvalidName.Folder.Message":"The name %{name} cant be used.","Alert.InvalidName.Description":"Try using a name with fewer characters, or with no punctuation marks.","Alert.EmptyName.File.Message":"The name %{fileNameWithExtension} is invalid.","Alert.EmptyName.Folder.Message":"The name %{name} is invalid.","Alert.EmptyName.Description":"Please choose a different name.","Alert.HiddenName.File.Message":"The name of your file shouldnt begin with a . (dot).","Alert.HiddenName.Folder.Message":"The name of your folder shouldnt begin with a . (dot).","Alert.HiddenName.Description":"Please choose a different name.","Alert.TransactionError.CreateFolder.Message":"There was a problem creating folder %{name}.","Alert.TransactionError.CreateFolder.Description":"Try creating the folder again later.","Alert.TransactionError.RenameItem.File.Message":"There was a problem renaming file %{name}.","Alert.TransactionError.RenameItem.File.Description":"Try renaming the file again later.","Alert.TransactionError.RenameItem.Folder.Message":"There was a problem renaming folder %{name}.","Alert.TransactionError.RenameItem.Folder.Description":"Try renaming the folder again later.","Alert.TransactionError.DeleteItems.Single.Message":"There was a problem deleting %{name}.","Alert.TransactionError.DeleteItems.Single.File.Description":"Try deleting the file again later.","Alert.TransactionError.DeleteItems.Single.Folder.Description":"Try deleting the folder again later.","Alert.TransactionError.DeleteItems.Single.AppLibrary.Description":"Try deleting the app library again later.","Alert.TransactionError.MovingItems.Single.Message":"There was a problem moving %{name} to %{folder}.","Alert.TransactionError.MovingItems.Single.File.Description":"Try moving the file again later.","Alert.TransactionError.MovingItems.Single.Folder.Description":"Try moving the folder again later.","Alert.TransactionError.RecoverItem.Message":"There was a problem recovering %{name}.","Alert.TransactionError.RecoverItem.File.Description":"Try recovering the file again later.","Alert.TransactionError.RecoverItem.Folder.Description":"Try recovering the folder again later.","Alert.TransactionError.RecoverItems.Message":"%{count} items could not be recovered.","Alert.TransactionError.RecoverItems.Description":"These items could not be recovered due to an unexpected error. Try again later.","Alert.TransactionError.Group.CreateFolders.Message":"%{count} folders could not be created","Alert.TransactionError.Group.CreateFolders.Description":"These folders could not be created due to an unexpected error. Try again later.","Alert.TransactionError.Group.RenameItems.Message":"%{count} items could not be renamed","Alert.TransactionError.Group.RenameItems.Description":"These items could not be renamed due to an unexpected error. Try again later.","Alert.TransactionError.Group.DeleteItems.Message":"%{count} items could not be deleted","Alert.TransactionError.Group.DeleteItems.Description":"These items could not be deleted due to an unexpected error. Try again later.","Alert.TransactionError.Group.MoveItems.Generic.Message":"%{count} items could not be moved","Alert.TransactionError.Group.MoveItems.Generic.Description":"These items could not be moved due to an unexpected error. Try again later.","Alert.TransactionError.ItemDetails.Conflict.Description.Default":"Unexpected error. Please try again later.","Alert.TransactionError.ItemDetails.Conflict.Description.ItemDeleted.File":"File was deleted.","Alert.TransactionError.ItemDetails.Conflict.Description.ItemDeleted.Folder":"Folder was deleted.","Alert.TransactionError.ItemDetails.Conflict.Description.ItemDeleted.AppLibrary":"Application library was deleted.","Alert.TransactionError.ItemDetails.Conflict.Description.ItemMoved.File":"File was moved.","Alert.TransactionError.ItemDetails.Conflict.Description.ItemMoved.Folder":"Folder was moved.","Alert.TransactionError.ItemDetails.Conflict.Description.ItemModified.File":"File was modified.","Alert.TransactionError.ItemDetails.Conflict.Description.ItemModified.Folder":"Folder was modified.","Alert.TransactionError.ItemDetails.Conflict.Description.DestinationDeleted":"Destination folder %{folder} was deleted.","Alert.TransactionError.ItemDetails.Conflict.Description.OutOfQuota":"Not enough free space.","Alert.Download.Single.Generic.Title":"%{fileName} couldnt be downloaded.","Alert.Download.Single.Generic.Subtitle":"Try downloading the file again later.","Alert.Download.Single.Deleted.Title":"%{fileName} couldnt be downloaded.","Alert.Download.Single.Deleted.Subtitle":"This file has been deleted and is no longer available.","Alert.Download.Multiple.Generic.Title":"%{fileCount} files couldnt be downloaded.","Alert.Download.Multiple.Generic.Subtitle":"Try downloading the files again later.","Alert.Download.Multiple.Deleted.Title":"%{fileCount} files couldnt be downloaded.","Alert.Download.Multiple.Deleted.Subtitle":"These files have been deleted and are no longer available.","Alert.Download.Multiple.Mixed.Title":"%{fileCount} files couldnt be downloaded.","Alert.Download.Multiple.Mixed.Subtitle":"Try downloading the files again later.","Alert.Download.Multiple.ItemDetails.Generic.Subtitle":"There was a problem downloading this file.\nTry again later.","Alert.Download.Multiple.ItemDetails.Deleted.Subtitle":"This file has been deleted and is no longer available.","Alert.Upload.AccessDenied.Title":"Cannot upload file.","Alert.Upload.AccessDenied.Message":"Make sure you have permission to read the file.","Alert.Upload.BadFileTypeForAppLibrary.Title":"Cannot upload this type of file to this App Library.","Alert.Upload.BadFileTypeForAppLibrary.Message":"Only files that can be opened by %{appName} can be uploaded here.","Alert.Upload.BrowserNotSupported.Title":"Uploading is not supported by this browser.","Alert.Upload.BrowserNotSupported.Description":"Update your web browser to upload files to iCloudDrive.","Alert.Upload.HiddenFile.Title":"There was a problem uploading %{fileName}.","Alert.Upload.HiddenFile.Description":"Invalid filename.","Alert.Upload.UnsupportedExtension.Title":"%{fileName} is of an unsupported filename or file type","Alert.Upload.UnsupportedExtension.Description":"Certain filenames and file types are not currently supported on iCloudDrive on iCloud.com","Alert.Upload.UnsupportedExtension.DetailedDescription":"Unable to upload this filename or file type","Alert.Upload.SizeTooBig.Title":"%{fileName} is too big to upload.","Alert.Upload.SizeTooBig.Description":"iCloudDrive on iCloud.com currently limits uploads to a maximum of 10 GB.","Alert.Upload.SizeTooBig.DetailedDescription":"This file is too big to upload.","Alert.Upload.SizeTooSmall.Title":"There was a problem uploading %{fileName}.","Alert.Upload.SizeTooSmall.Description":"It is not possible to upload zero byte files to iCloudDrive.","Alert.Upload.SizeTooSmall.DetailedDescription":"There was a problem uploading the file.","Alert.Upload.Package.Title":"This type of file must be compressed before it can be uploaded.","Alert.Upload.Package.Description":"Compress the file on your computer and upload the resulting .zip file.","Alert.Upload.SelectionContainsFolder.Title":"Uploading folders to iCloudDrive is not supported.","Alert.Upload.SelectionContainsFolder.Description":"Only files can be uploaded using your web browser.","Alert.Upload.Package.Title.Pages":"Pages documents must be compressed and renamed before they can be uploaded with this browser.","Alert.Upload.Package.Title.Keynote":"Keynote presentations must be compressed and renamed before they can be uploaded with this browser.","Alert.Upload.Package.Title.Numbers":"Numbers spreadsheets must be compressed and renamed before they can be uploaded with this browser.","Alert.Upload.Package.Description.Pages":"To use this file with Pages, the name of the compressed file must end with .pages.zip.","Alert.Upload.Package.Description.Keynote":"To use this file with Keynote, the name of the compressed file must end with .%{extension}.zip.","Alert.Upload.Package.Description.Numbers":"To use this file with Numbers, the name of the compressed file must end with .numbers.zip","Alert.Upload.OutOfQuota.Title":"Not enough free space to upload %{fileName}.","Alert.Upload.OutOfQuota.Description":"Delete files from iCloudDrive or upgrade your storage plan.","Alert.Upload.Coalesced.HiddenFile.Title":"Your upload was cancelled because it contained items with invalid filenames.","Alert.Upload.Coalesced.HiddenFile.Description":"To upload these items, make sure the filename does not begin with a . (dot).","Alert.Upload.Coalesced.UnsupportedExtension.Title":"%{fileName} is of an unsupported filename or file type.","Alert.Upload.Coalesced.UnsupportedExtension.Description":"Certain filenames and file types are not currently supported on iCloudDrive on iCloud.com","Alert.Upload.Coalesced.SizeTooBig.Title":"%{fileCount} files are too big to upload.","Alert.Upload.Coalesced.SizeTooBig.Description":"iCloudDrive on iCloud.com currently limits uploads to a maximum of 10 GB.","Alert.Upload.Coalesced.SizeTooSmall.Title":"%{fileCount} files are empty.","Alert.Upload.Coalesced.SizeTooSmall.Description":"iCloudDrive on iCloud.com limits zero byte files from being uploaded","Alert.Upload.Coalesced.NotCompressed.Title":"%{fileCount} files were not uploaded because they must be compressed.","Alert.Upload.Coalesced.NotCompressed.Description":"Compress each file on your computer and upload the resulting .zip files.","Alert.Upload.Coalesced.BadFileTypeForAppLibrary.Title":"Cannot upload %{num} files because they cant be opened by %{appName}.","Alert.Upload.Coalesced.BadFileTypeForAppLibrary.Description":"Only files that can be opened by %{appName} can be uploaded to this app library.","Alert.Upload.Coalesced.OutOfQuota.Title":"%{fileCount} files cant be uploaded because there isnt enough free space.","Alert.Upload.Coalesced.OutOfQuota.Description":"Delete files from iCloudDrive or upgrade your storage plan.","Alert.Upload.Coalesced.Default.Title":"%{fileCount} files had errors and could not be uploaded.","Alert.Upload.Coalesced.Default.Description":"These files could not be uploaded for the reasons listed below.","Alert.Upload.Coalesced.Unknown.Title":"%{fileCount} files had errors and could not be uploaded.","Alert.Upload.Coalesced.Unknown.Description":"Try uploading the files again later.","Alert.Upload.Default.Title":"%{fileName} couldnt be uploaded.","Alert.Upload.Default.Description":"Try uploading the file again later.","Alert.Purge.Message.File.Single":"Are you sure you want to delete %{name}?","Alert.Purge.Message.File.Multiple":"Are you sure you want to delete these %{count} files?","Alert.Purge.Message.Folder.Single":"Are you sure you want to delete %{name}?","Alert.Purge.Message.Folder.Multiple":"Are you sure you want to delete these %{count} folders?","Alert.Purge.Message.Mix":"Are you sure you want to delete these %{count} items?","Alert.Purge.Description.File.Single":"This file will be immediately deleted from iCloudDrive and all your iCloud devices.","Alert.Purge.Description.File.Multiple":"They will be immediately deleted from iCloudDrive and all your iCloud devices.","Alert.Purge.Description.Folder.Single":"This folder will be immediately deleted from iCloudDrive and all your iCloud devices.","Alert.Purge.Description.Folder.Multiple":"They will be immediately deleted from iCloudDrive and all your iCloud devices.","Alert.Purge.Description.Mix":"They will be immediately deleted from iCloudDrive and all your iCloud devices.","Alert.Share.Folder.Message.SharedByMe":"Are you sure you want to share this folder?","Alert.Share.Folder.Description.Single.Item.SharedByMe":"This folder includes an item that is already shared. If you share this folder, only people you add to it will be able to access items inside it.","Alert.Share.Folder.Description.Multiple.Item.SharedByMe":"This folder includes items that are already shared. If you share this folder, only people you add to it will be able to access items inside it.","Alert.Purge.Message.InSharedFolder.File.Single":"Are you sure you want to delete this shared file?","Alert.Purge.Message.InSharedFolder.File.Multiple":"Are you sure you want to delete these shared files?","Alert.Purge.Message.InSharedFolder.Folder.Single":"Are you sure you want to delete this shared folder?","Alert.Purge.Message.InSharedFolder.Folder.Multiple":"Are you sure you want to delete these shared folders?","Alert.Purge.Message.InSharedFolder.Document.Single":"Are you sure you want to delete this shared document?","Alert.Purge.Message.InSharedFolder.Document.Multiple":"Are you sure you want to delete these shared documents?","Alert.Purge.Message.InSharedFolder.Spreadsheet.Single":"Are you sure you want to delete this shared spreadsheet?","Alert.Purge.Message.InSharedFolder.Spreadsheet.Multiple":"Are you sure you want to delete these shared spreadsheets?","Alert.Purge.Message.InSharedFolder.Presentation.Single":"Are you sure you want to delete this shared presentation?","Alert.Purge.Message.InSharedFolder.Presentation.Multiple":"Are you sure you want to delete these shared presentations?","Alert.Purge.Message.InSharedFolder.Mix":"Are you sure you want to delete these shared items?","Alert.Purge.Description.InSharedFolder.File.Single":"If you delete this file, other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","Alert.Purge.Description.InSharedFolder.File.Multiple":"If you delete these files, other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","Alert.Purge.Description.InSharedFolder.Folder.Single":"If you delete this folder, other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","Alert.Purge.Description.InSharedFolder.Folder.Multiple":"If you delete these folders, other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","Alert.Purge.Description.InSharedFolder.Document.Single":"If you delete this document, other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","Alert.Purge.Description.InSharedFolder.Document.Multiple":"If you delete these documents, other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","Alert.Purge.Description.InSharedFolder.Spreadsheet.Single":"If you delete this spreadsheet, other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","Alert.Purge.Description.InSharedFolder.Spreadsheet.Multiple":"If you delete these spreadsheets, other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","Alert.Purge.Description.InSharedFolder.Presentation.Single":"If you delete this presentation, other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","Alert.Purge.Description.InSharedFolder.Presentation.Multiple":"If you delete these presentations, other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","Alert.Purge.Description.InSharedFolder.Mix":"If you delete these items, other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","Alert.Delete.Message.File.Single":"Are you sure you want to delete this shared file?","Alert.Delete.Message.File.Plural.Shared.Single":"One of these files is shared. Are you sure you want to delete these %{count} files?","Alert.Delete.Message.File.Plural.Shared.Plural":"Some of these files are shared. Are you sure you want to delete these %{count} files?","Alert.Delete.Message.File.Plural.Shared.All":"Are you sure you want to delete these shared files?","Alert.Delete.Message.Shared.Folder.Single":"Are you sure you want to delete this shared folder?","Alert.Delete.Message.Shared.Folder.Plural":"Are you sure you want to delete these shared folders?","Alert.Delete.Message.SharedAndRegularFolder.Shared.Plural":"Some of these folders are shared. Are you sure you want to delete these %{count} folders?","Alert.Delete.Message.Folder.Single.Shared.Single":"One of the items in this folder is shared. Are you sure you want to delete %{folderName}?","Alert.Delete.Message.Folder.Single.Shared.Plural":"Some of the items in this folder are shared. Are you sure you want to delete %{folderName}?","Alert.Delete.Message.Folder.Single.Shared.Maybe":"Some items in this folder may be shared. Are you sure you want to delete %{folderName}?","Alert.Delete.Message.Folder.Plural.Shared.Single":"One of the items in these folders is shared. Are you sure you want to delete these %{count} folders?","Alert.Delete.Message.Folder.Plural.Shared.Plural":"Some of the items in these folders are shared. Are you sure you want to delete these %{count} folders?","Alert.Delete.Message.Folder.Plural.Shared.Maybe":"Some items in these folders may be shared. Are you sure you want to delete these  %{count} folders?","Alert.Delete.Message.FileFolder.Single.Shared.Single":"One of the items in the folder is shared. Are you sure you want to delete %{folderName}?","Alert.Delete.Message.FileFolder.Single.Shared.Plural":"Some of the items in the folder are shared. Are you sure you want to delete %{folderName}?","Alert.Delete.Message.FileFolder.Single.Shared.Maybe":"Some items in the folder may be shared. Are you sure you want to delete these %{count} items?","Alert.Delete.Message.FileFolder.Plural.Shared.Single":"One of the items in the folders is shared. Are you sure you want to delete these %{count} items?","Alert.Delete.Message.FileFolder.Plural.Shared.Plural":"Some of the items in the folders are shared. Are you sure you want to delete these %{count} items?","Alert.Delete.Message.FileFolder.Plural.Shared.Maybe":"Some items in the folders may be shared. Are you sure you want to delete these %{count} items?","Alert.Delete.Message.FileFolder.Any.Shared.Single":"One of these items is shared. Are you sure you want to delete these %{count} items?","Alert.Delete.Message.FileFolder.Any.Shared.Plural":"Some of these items are shared. Are you sure you want to delete these %{count} items?","Alert.Delete.Message.FileFolder.All.Shared.Plural":"Are you sure you want to delete these shared items?","Alert.Delete.Message.Desktop":"Delete the Desktop folder?","Alert.Delete.Message.Desktop.File.Single":"Delete the Desktop folder and one other file?","Alert.Delete.Message.Desktop.File.Plural":"Delete the Desktop folder and %{count} other files?","Alert.Delete.Message.Desktop.Folder.Single":"Delete the Desktop folder and one other folder?","Alert.Delete.Message.Desktop.Folder.Plural":"Delete the Desktop folder and %{count} other folders?","Alert.Delete.Message.Desktop.Mix":"Delete the Desktop folder and %{count} other items?","Alert.Delete.Message.Documents":"Delete the Documents folder?","Alert.Delete.Message.Documents.File.Single":"Delete the Documents folder and one other file?","Alert.Delete.Message.Documents.File.Plural":"Delete the Documents folder and %{count} other files?","Alert.Delete.Message.Documents.Folder.Single":"Delete the Documents folder and one other folder?","Alert.Delete.Message.Documents.Folder.Plural":"Delete the Documents folder and %{count} other folders?","Alert.Delete.Message.Documents.Mix":"Delete the Documents folder and %{count} other items?","Alert.Delete.Message.DesktopDocuments":"Delete the Desktop and Documents folders?","Alert.Delete.Message.DesktopDocuments.File.Single":"Delete the Desktop and Documents folders and one other file?","Alert.Delete.Message.DesktopDocuments.File.Plural":"Delete the Desktop and Documents folders and %{count} other files?","Alert.Delete.Message.DesktopDocuments.Folder.Single":"Delete the Desktop and Documents folders and one other folder?","Alert.Delete.Message.DesktopDocuments.Folder.Plural":"Delete the Desktop and Documents folders and %{count} other folders?","Alert.Delete.Message.DesktopDocuments.Mix":"Delete the Desktop and Documents folders and %{count} other items?","Alert.Delete.Message.AppLibrary.Any.Item.Single":"Are you sure you want to delete %{appLibraryName}?","Alert.Delete.Message.AppLibrary.Any.Item.Plural":"Are you sure you want to delete these %{count} items?","Alert.Delete.Description.Desktop":"This folder may be needed by a Mac storing its Desktop folder on iCloudDrive.","Alert.Delete.Description.Documents":"This folder may be needed by a Mac storing its Documents folder on iCloudDrive.","Alert.Delete.Description.DesktopDocuments":"These folders may be needed by a Mac storing its Desktop and Documents folders on iCloudDrive.","Alert.Delete.Description.AppLibrary.Single":"The App Library will be immediately deleted from iCloudDrive and all your iCloud devices.","Alert.Delete.Description.AppLibrary.Plural":"The App Libraries will be immediately deleted from iCloudDrive and all your iCloud devices.","Alert.Delete.Description.ShareByMe.Single":"Participants will no longer have access to %{fileName}.","Alert.Delete.Description.ShareByMe.Plural":"Participants will no longer have access to the %{count} items shared by you.","Alert.Delete.Description.ShareByMe.Maybe":"Participants will no longer have access to any items shared by you.","Alert.Delete.Description.ShareToMe.Single":"%{itemName} will be removed from all of your devices. To regain access, use the link you were invited with.","Alert.Delete.Description.ShareToMe.Plural":"The %{count} items shared to you will be removed from all of your devices. To regain access, use the links you were invited with.","Alert.Delete.Description.ShareToMe.Maybe":"Any items shared to you will be removed from all of your devices. To regain access, use the links you were invited with.","Alert.Move.Description.SharedByMe.Single.First":"One of these items is shared.","Alert.Move.Description.SharedByMe.Multiple.First":"Some of these items are shared.","Alert.Move.Description.SharedByMe.Single.Second":"If you move it, only people added to the shared folder %{destinationFolderName} will be able to access it.","Alert.Move.Description.SharedByMe.Multiple.Second":"If you move them, only people added to the shared folder %{destinationFolderName} will be able to access them.","Alert.Move.Description.SharedToMe.Single":"One of these items is shared with you.","Alert.Move.Description.SharedToMe.Multiple":"Some of these items are shared with you.","Alert.Move.Description.SharedToMe.Generic":"Items shared with you cant be moved to shared folders.","Alert.Move.Message.File.SharedByMe.Single":"Are you sure you want to move this shared file?","Alert.Move.Message.File.SharedByMe.Multiple":"Are you sure you want to move these shared files?","Alert.Move.Message.Document.SharedByMe.Single":"Are you sure you want to move this shared document?","Alert.Move.Message.Document.SharedByMe.Multiple":"Are you sure you want to move these shared documents?","Alert.Move.Message.Presentation.SharedByMe.Single":"Are you sure you want to move this shared presentation?","Alert.Move.Message.Presentation.SharedByMe.Multiple":"Are you sure you want to move these shared presentations?","Alert.Move.Message.Spreadsheet.SharedByMe.Single":"Are you sure you want to move this shared spreadsheet?","Alert.Move.Message.Spreadsheet.SharedByMe.Multiple":"Are you sure you want to move these shared spreadsheets?","Alert.Move.Message.Folder.SharedByMe.Single":"Are you sure you want to move this shared folder?","Alert.Move.Message.Folder.SharedByMe.Multiple":"Are you sure you want to move these shared folders?","Alert.Move.Message.Item.SharedByMe.Multiple":"Are you sure you want to move these shared items?","Alert.Move.Description.SharedToMe":"Items shared with you cant be moved to shared folders.","Alert.Move.Message.File.SharedToMe.Single":"This shared file cant be moved.","Alert.Move.Message.File.SharedToMe.Multiple":"These shared files cant be moved.","Alert.Move.Message.Document.SharedToMe.Single":"This shared document cant be moved.","Alert.Move.Message.Document.SharedToMe.Multiple":"These shared documents cant be moved.","Alert.Move.Message.Presentation.SharedToMe.Single":"This shared presentation cant be moved.","Alert.Move.Message.Presentation.SharedToMe.Multiple":"These shared presentations cant be moved.","Alert.Move.Message.Spreadsheet.SharedToMe.Single":"This shared spreadsheet cant be moved.","Alert.Move.Message.Spreadsheet.SharedToMe.Multiple":"These shared spreadsheets cant be moved.","Alert.Move.Message.Folder.SharedToMe.Single":"This shared folder cant be moved.","Alert.Move.Message.Folder.SharedToMe.Multiple":"These shared folders cant be moved.","Alert.Move.Message.Item.SharedToMe.Multiple":"These shared items cant be moved.","Alert.Delete.Message.InSharedFolder.OneTimeOnly":"Deleted shared items are moved to your RecentlyDeleted folder, and other people will no longer have access to them.","Alert.Delete.Description.InSharedFolder.OneTimeOnly":"You can recover or remove from RecentlyDeleted within 30 days.","Alert.Delete.Message.Document.Single":"Are you sure you want to delete this shared document?","Alert.Delete.Message.Spreadsheet.Single":"Are you sure you want to delete this shared spreadsheet?","Alert.Delete.Message.Presentation.Single":"Are you sure you want to delete this shared presentation?","Alert.Delete.Message.SharedAndRegularFolder.Shared.Single":"One of these folders is shared. Are you sure you want to delete these %{count} folders?","Alert.Delete.Description.ShareByMe.File.Single":"If you delete this file, other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","Alert.Delete.Description.SomeSharedByMe.Single":"If you delete %{itemName}, other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","Alert.Delete.Description.ShareByMe.Document.Single":"If you delete this document, other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","Alert.Delete.Description.ShareByMe.Spreadsheet.Single":"If you delete this spreadsheet, other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","Alert.Delete.Description.ShareByMe.Presentation.Single":"If you delete this presentation, other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","Alert.Delete.Description.ShareByMe.Folder.Single":"If you delete this folder, other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","Alert.Delete.Description.ShareToMe.Single.File":"It will be deleted from iCloud Drive on all of your devices. To rejoin this shared file, use the link you were invited with.","Alert.Delete.Description.ShareToMe.Single.Document":"It will be deleted from iCloud Drive on all of your devices. To rejoin this shared document, use the link you were invited with.","Alert.Delete.Description.ShareToMe.Single.Spreadsheet":"It will be deleted from iCloud Drive on all of your devices. To rejoin this shared spreadsheet, use the link you were invited with.","Alert.Delete.Description.ShareToMe.Single.Presentation":"It will be deleted from iCloud Drive on all of your devices. To rejoin this shared presentation, use the link you were invited with.","Alert.Delete.Description.ShareToMe.Single.Folder":"It will be deleted from iCloud Drive on all of your devices. To rejoin this shared folder, use the link you were invited with.","Alert.Delete.Description.ShareToMe.SingleOfMany.File":"%{itemName} will be deleted from iCloud Drive on all of your devices. To rejoin this shared file, use the link you were invited with.","Alert.Delete.Description.ShareToMe.SingleOfMany.Document":"%{itemName} will be deleted from iCloud Drive on all of your devices. To rejoin this shared document, use the link you were invited with.","Alert.Delete.Description.ShareToMe.SingleOfMany.Spreadsheet":"%{itemName} will be deleted from iCloud Drive on all of your devices. To rejoin this shared spreadsheet, use the link you were invited with.","Alert.Delete.Description.ShareToMe.SingleOfMany.Presentation":"%{itemName} will be deleted from iCloud Drive on all of your devices. To rejoin this shared presentation, use the link you were invited with.","Alert.Delete.Description.ShareToMe.SingleOfMany.Folder":"%{itemName} will be deleted from iCloud Drive on all of your devices. To rejoin this shared folder, use the link you were invited with.","Alert.Delete.Message.Document.Plural.Shared.All":"Are you sure you want to delete these shared documents?","Alert.Delete.Message.Spreadsheet.Plural.Shared.All":"Are you sure you want to delete these shared spreadsheets?","Alert.Delete.Message.Presentation.Plural.Shared.All":"Are you sure you want to delete these shared presentations?","Alert.Delete.Message.Folder.Plural.Shared.All":"Are you sure you want to delete these shared folders?","Alert.Delete.Description.ShareByMe.File.Plural":"If you delete these files, other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","Alert.Delete.Description.ShareByMe.File.SomeOfMany":"If you delete these files, other people will no longer have access to the %{shareCount} files shared by you and they will be deleted from iCloud Drive on all of their devices.","Alert.Delete.Description.ShareByMe.Mix.SomeOfMany":"If you delete these items, other people will no longer have access to the %{shareCount} items shared by you and they will be deleted from iCloud Drive on all of their devices.","Alert.Delete.Description.ShareByMe.Document.Plural":"If you delete these documents, other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","Alert.Delete.Description.ShareByMe.Spreadsheet.Plural":"If you delete these spreadsheets, other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","Alert.Delete.Description.ShareByMe.Presentation.Plural":"If you delete these presentations, other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","Alert.Delete.Description.ShareByMe.Folder.Plural":"If you delete these folders, other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","Alert.Delete.Description.ShareByMe.Folder.SomeOfMany":"If you delete these folders, other people will no longer have access to the %{shareCount} folders shared by you and they will be deleted from iCloud Drive on all of their devices.","Alert.Delete.Description.ShareByMe.Mix.Plural":"If you delete these items, other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","Alert.Delete.Description.ShareToMe.AllOfMany.File":"They will be deleted from iCloud Drive on all of your devices. To rejoin these shared files, use the links you were invited with.","Alert.Delete.Description.ShareToMe.SomeOfMany.File":"The %{shareCount} files shared with you will be deleted from iCloud Drive on all of your devices. To rejoin these shared files, use the links you were invited with.","Alert.Delete.Description.ShareToMe.SomeOfMany.Mix":"The %{shareCount} items shared with you will be deleted from iCloud Drive on all of your devices. To rejoin these shared files, use the links you were invited with.","Alert.Delete.Description.ShareToMe.AllOfMany.Document":"They will be deleted from iCloud Drive on all of your devices. To rejoin these shared documents, use the links you were invited with.","Alert.Delete.Description.ShareToMe.AllOfMany.Spreadsheet":"They will be deleted from iCloud Drive on all of your devices. To rejoin these shared spreadsheets, use the links you were invited with.","Alert.Delete.Description.ShareToMe.AllOfMany.Presentation":"They will be deleted from iCloud Drive on all of your devices. To rejoin these shared presentations, use the links you were invited with.","Alert.Delete.Description.ShareToMe.AllOfMany.Folder":"They will be deleted from iCloud Drive on all of your devices. To rejoin these shared folders, use the links you were invited with.","Alert.Delete.Description.ShareToMe.SomeOfMany.Folder":"If you delete these folders, other people will no longer have access to the %{shareCount} folders shared by you and they will be deleted from iCloud Drive on all of their devices.","Alert.Delete.Description.ShareToMe.AllOfMany.Mix":"They will be deleted from iCloud Drive on all of your devices. To rejoin these shared items, use the links  you were invited with.","Alert.Delete.Description.ShareByMeToMe.OnlyFiles":"If you delete these files, other people will no longer have access to the files you shared with them, and the files shared with you will be deleted from iCloud Drive on all of your devices.","Alert.Delete.Description.ShareByMeToMe.FilesAndMixed":"If you delete these items, other people will no longer have access to the files you shared with them, and the files shared with you will be deleted from iCloud Drive on all of your devices.","Alert.Delete.Description.ShareByMeToMe.OnlyFolders":"If you delete these folders, other people will no longer have access to the folders you shared with them, and the folders shared with you will be deleted from iCloud Drive on all of your devices.","Alert.Delete.Description.ShareByMeToMe.FoldersAndMixed":"If you delete these items, other people will no longer have access to the folders you shared with them, and the folders shared with you will be deleted from iCloud Drive on all of your devices.","Alert.Delete.Description.ShareByMeToMe.Mixed":"If you delete these items, other people will no longer have access to the items you shared with them, and the items shared with you will be deleted from iCloud Drive on all your devices.","Alert.Move.Message.File.SharedToMe.SomeOfMany":"One or more shared files cant be moved.","Alert.Move.Description.Item.SharedToMe.OneOfMany":"One of these items is shared with you. Items shared with you cant be moved to shared folders.","Alert.Move.Message.Spreadsheet.SharedToMe.SomeOfMany":"One or more shared spreadsheets cant be moved.","Alert.Move.Message.Document.SharedToMe.SomeOfMany":"One or more shared documents cant be moved.","Alert.Move.Message.Presentation.SharedToMe.SomeOfMany":"One or more shared presentations cant be moved.","Alert.Move.Message.Folder.SharedToMe.SomeOfMany":"One or more shared folders cant be moved.","Alert.Move.Description.Item.SharedToMe.SomeOfMany":"Some of these items are shared with you. Items shared with you cant be moved to shared folders.","Alert.Move.Message.Item.SharedToMe.SomeOfMany":"One or more shared items cant be moved.","Alert.Move.Message.SharedByMe.SomeOfMany":"Are you sure you want to move these items?","Alert.Move.Description.SharedByMe.SomeOfMany":"Some of these items are shared. If you move them, only people added to the shared folder %{destinationFolderName} will be able to access them.","Alert.Move.Description.SharedByMe.OneOfMany":"One of these items is shared. If you move it, only people added to the shared folder %{destinationFolderName} will be able to access it.","Alert.Move.Message.AmbiguousFolder.Single":"Are you sure you want to move this folder?","Alert.Move.Description.AmbiguousFolder.Single":"This folder may contain shared items. If you move them, only people added to the shared folder %{destinationFolderName} will be able to access them.","Alert.Move.Description.AmbiguousFolder.SomeOfMany":"One or more folders may contain shared items. If you move them, only people added to the shared folder %{destinationFolderName} will be able to access them.","Alert.Move.Message.AmbiguousFolder.Multiple":"Are you sure you want to move these folders?","Alert.Move.Out.Message.File.SharedByMe.Single":"Are you sure you want to move this shared file?","Alert.Move.Out.Message.Spreadsheet.SharedByMe.Single":"Are you sure you want to move this shared spreadsheet?","Alert.Move.Out.Message.Document.SharedByMe.Single":"Are you sure you want to move this shared document?","Alert.Move.Out.Message.Presentation.SharedByMe.Single":"Are you sure you want to move this shared presentation?","Alert.Move.Out.Message.Folder.SharedByMe.Single":"Are you sure you want to move this shared folder?","Alert.Move.Out.Message.File.SharedByMe.Multiple":"Are you sure you want to move these shared files?","Alert.Move.Out.Message.Spreadsheet.SharedByMe.Multiple":"Are you sure you want to move these shared spreadsheets?","Alert.Move.Out.Message.Document.SharedByMe.Multiple":"Are you sure you want to move these shared documents?","Alert.Move.Out.Message.Presentation.SharedByMe.Multiple":"Are you sure you want to move these shared presentations?","Alert.Move.Out.Message.Folder.SharedByMe.Multiple":"Are you sure you want to move these shared folders?","Alert.Move.Out.Message.Item.SharedByMe.Multiple":"Are you sure you want to move these shared items?","Alert.Move.Out.Description.File.SharedByMe.Single":"Moving this file to %{destinationFolderName} will stop it from being shared on iCloud. Other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","Alert.Move.Out.Description.Spreadsheet.SharedByMe.Single":"Moving this spreadsheet to %{destinationFolderName} will stop it from being shared on iCloud. Other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","Alert.Move.Out.Description.Document.SharedByMe.Single":"Moving this document to %{destinationFolderName} will stop it from being shared on iCloud. Other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","Alert.Move.Out.Description.Presentation.SharedByMe.Single":"Moving this presentation to %{destinationFolderName} will stop it from being shared on iCloud. Other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","Alert.Move.Out.Description.Folder.SharedByMe.Single":"Moving this folder to %{destinationFolderName} will stop it from being shared on iCloud. Other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","Alert.Move.Out.Description.File.SharedByMe.Multiple":"Moving these files to %{destinationFolderName} will stop them from being shared on iCloud. Other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","Alert.Move.Out.Description.Spreadsheet.SharedByMe.Multiple":"Moving these spreadsheets to %{destinationFolderName} will stop them from being shared on iCloud. Other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","Alert.Move.Out.Description.Document.SharedByMe.Multiple":"Moving these documents to %{destinationFolderName} will stop them from being shared on iCloud. Other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","Alert.Move.Out.Description.Presentation.SharedByMe.Multiple":"Moving these presentations to %{destinationFolderName} will stop them from being shared on iCloud. Other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","Alert.Move.Out.Description.Folder.SharedByMe.Multiple":"Moving these folders to %{destinationFolderName} will stop them from being shared on iCloud. Other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","Alert.Move.Out.Description.Item.SharedByMe.Multiple":"Moving these items to %{destinationFolderName} will stop them from being shared on iCloud. Other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","Alert.Move.Out.Message.File.SharedToMe.Single":"Are you sure you want to move this shared file?","Alert.Move.Out.Message.Spreadsheet.SharedToMe.Single":"Are you sure you want to move this shared spreadsheet?","Alert.Move.Out.Message.Document.SharedToMe.Single":"Are you sure you want to move this shared document?","Alert.Move.Out.Message.Presentation.SharedToMe.Single":"Are you sure you want to move this shared presentation?","Alert.Move.Out.Message.Folder.SharedToMe.Single":"Are you sure you want to move this shared folder?","Alert.Move.Out.Message.File.SharedToMe.Multiple":"Are you sure you want to move these shared files?","Alert.Move.Out.Message.Spreadsheet.SharedToMe.Multiple":"Are you sure you want to move these shared spreadsheets?","Alert.Move.Out.Message.Document.SharedToMe.Multiple":"Are you sure you want to move these shared documents?","Alert.Move.Out.Message.Presentation.SharedToMe.Multiple":"Are you sure you want to move these shared presentations?","Alert.Move.Out.Message.Folder.SharedToMe.Multiple":"Are you sure you want to move these shared folders?","Alert.Move.Out.Message.Item.SharedToMe.Multiple":"Are you sure you want to move these shared items?","Alert.Move.Out.Description.File.SharedToMe.Single":"Moving this file to %{destinationFolderName} will stop it from being shared on iCloud. Other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","Alert.Move.Out.Description.Spreadsheet.SharedToMe.Single":"Moving this spreadsheet to %{destinationFolderName} will stop it from being shared on iCloud. Other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","Alert.Move.Out.Description.Document.SharedToMe.Single":"Moving this document to %{destinationFolderName} will stop it from being shared on iCloud. Other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","Alert.Move.Out.Description.Presentation.SharedToMe.Single":"Moving this presentation to %{destinationFolderName} will stop it from being shared on iCloud. Other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","Alert.Move.Out.Description.Folder.SharedToMe.Single":"Moving this folder to %{destinationFolderName} will stop it from being shared on iCloud. Other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","Alert.Move.Out.Description.File.SharedToMe.Multiple":"Moving these files to %{destinationFolderName} will stop them from being shared on iCloud. Other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","Alert.Move.Out.Description.Spreadsheet.SharedToMe.Multiple":"Moving these spreadsheets to %{destinationFolderName} will stop them from being shared on iCloud. Other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","Alert.Move.Out.Description.Document.SharedToMe.Multiple":"Moving these documents to %{destinationFolderName} will stop them from being shared on iCloud. Other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","Alert.Move.Out.Description.Presentation.SharedToMe.Multiple":"Moving these presentations to %{destinationFolderName} will stop them from being shared on iCloud. Other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","Alert.Move.Out.Description.Folder.SharedToMe.Multiple":"Moving these folders to %{destinationFolderName} will stop them from being shared on iCloud. Other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","Alert.Move.Out.Description.Item.SharedToMe.Multiple":"Moving these items to %{destinationFolderName} will stop them from being shared on iCloud. Other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","Alert.Open.Message.IWorkInSharedFolder":"This document cant be opened.","Alert.Open.Description.IWorkInSharedFolder":"Pages, Keynote, and Numbers documents in shared folders are not yet available on the web."}),Object(wu.a)(Object(wu.b)(),{"UbiquityUpgrade.Header":"Welcome to iCloud Drive","UbiquityUpgrade.Paragraph1":"Any files or data previously saved with the iCloud Documents and Data service are now available in iCloud Drive.","UbiquityUpgrade.Paragraph2":"With iCloud Drive, you can access and share your files on all your devices and iCloud.com.","UbiquityUpgrade.AltText":"iCloud Drive, rendered on Macbook Air, iPad, and iPhone displays.","UbiquityUpgrade.Button.Done":"Done"}),Object(wu.a)(Object(wu.b)(),{"Common.Cancel":"Cancel","Common.Done":"Done","Common.Confirm":"OK","Common.Application.Title":"iCloudDrive","Common.Button.OK":"OK","Common.Button.ClearText":"Clear text","Common.NewFolder":"New Folder","Common.Move":"Move","Common.Rename.Folder":"Rename Folder","Common.Rename.Document":"Rename Document","Common.Rename.Spreadsheet":"Rename Spreadsheet","Common.Rename.Presentation":"Rename Presentation","Common.Rename.File":"Rename File","Common.Progress.Waiting":"Waiting","Common.Open":"Open","Common.Screenreader.DriveFolderType.Basic":"Folder","Common.Screenreader.DriveFolderType.Root":"Root Folder","Common.Screenreader.DriveFolderType.Shared":"Shared Folder"}),Object(wu.a)(Object(wu.b)(),{"FilesGrid.Default.Share":"Share Anyway","FilesGrid.Default.Delete":"Delete","FilesGrid.Default.FolderName.NotNumbered":"Untitled Folder","FilesGrid.Default.FolderName.NotNumbered.LowerCase":"untitled folder","FilesGrid.Default.FolderName.Numbered":"Untitled Folder %{number}","FilesGrid.Panel.FileInfo.Label.SharedBy":"Shared by:","FilesGrid.Panel.FileInfo.Label.Kind":"Kind:","FilesGrid.Panel.FileInfo.Label.Size":"Size:","FilesGrid.Panel.FileInfo.Label.Where":"Where:","FilesGrid.Panel.FileInfo.Label.Created":"Created:","FilesGrid.Panel.FileInfo.Label.Modified":"Modified:","FilesGrid.Panel.FileInfo.FileHeader":"File Info","FilesGrid.Panel.FileInfo.FolderHeader":"Folder Info","FilesGrid.Panel.FileInfo.AppLibraryHeader":"App Library Info","FilesGrid.Panel.FileInfo.InfoSection.Header":"Information","FilesGrid.Panel.FileInfo.Label.SharedBy.Compact":"Shared by","FilesGrid.Panel.FileInfo.Label.Kind.Compact":"Kind","FilesGrid.Panel.FileInfo.Label.Size.Compact":"Size","FilesGrid.Panel.FileInfo.Label.Where.Compact":"Where","FilesGrid.Panel.FileInfo.Label.Created.Compact":"Created","FilesGrid.Panel.FileInfo.Label.Modified.Compact":"Modified","FilesGrid.Item.Shared.You":"You","FilesGrid.Item.Shared.Me":"Me","FilesGrid.Item.Shared.Label.ByMe":"By Me","FilesGrid.Item.Shared.Label.ToMe":"By %{name}","FilesGrid.Item.Shared.Label.SharedByMe":"Shared by Me","FilesGrid.Item.Shared.Label.SharedToMe":"Shared by %{name}","FilesGrid.Item.Shared.Label.SharedWithOne":"Shared with %{name}","FilesGrid.Item.Shared.Label.SharedWithTwo":"Shared with %{firstName} and %{secondName}","FilesGrid.Item.Shared.Label.SharedWithOneAndOther":"Shared with %{name} and 1 other","FilesGrid.Item.Shared.Label.SharedWithOneAndOthers":"Shared with %{name} and %{number} others","FilesGrid.Item.Shared.Label.SharedWithMany":"Shared with %{initNames}, and %{finalName}","FilesGrid.Item.Shared.Label.SharedWithManyAndOther":"Shared with %{names}, and 1 other","FilesGrid.Item.Shared.Label.SharedWithManyAndOthers":"Shared with %{names}, and %{number} others","FilesGrid.Item.Shared.Label.SharedWithSeparator":", ","FilesGrid.Item.TimeRemaining.Minute.Zero":"0 minutes","FilesGrid.Item.TimeRemaining.Minute.One":"1 minute","FilesGrid.Item.TimeRemaining.Minute.Plural":"%{count} minutes","FilesGrid.Item.TimeRemaining.Hour.One":"1 hour","FilesGrid.Item.TimeRemaining.Hour.Plural":"%{count} hours","FilesGrid.Item.TimeRemaining.Day.One":"1 day","FilesGrid.Item.TimeRemaining.Day.Plural":"%{count} days","FilesGrid.Item.Kind.ApplicationLibrary":"Application Library","FilesGrid.Item.Kind.Folder":"Folder","FilesGrid.Item.Kind.File":"File","FilesGrid.Item.Kind.FileWithExtension":"%{ext} File","FilesGrid.Item.Info.DateTime.Format":"%{date:M}/%{date:d}/%{date:yyyy}, %{date:h}:%{date:mm} %{date:a}","FilesGrid.Item.Activation.ScreenreaderHint":"Press to select item","FilesGrid.Item.Checkbox.ScreenreaderLabel":"Select %{fileName}","FilesGrid.Item.FileLink.ScreenreaderLabel":"%{fileName} (opens in new tab)","FilesGrid.Item.FolderButton.ScreenreaderLabel":"Open %{fileName}","FilesGrid.ItemGrid.ScreenreaderLabel":"Files","FilesGrid.ItemGrid.Selection.Zero.ScreenreaderLabel":"No items selected.","FilesGrid.ItemGrid.Selection.One.ScreenreaderLabel":"1 item selected.","FilesGrid.ItemGrid.Selection.Two.ScreenreaderLabel":"2 items selected.","FilesGrid.ItemGrid.Selection.Few.ScreenreaderLabel":"%{selectionSize} items selected.","FilesGrid.ItemGrid.Selection.Many.ScreenreaderLabel":"%{selectionSize} items selected.","FilesGrid.ItemGrid.Selection.Other.ScreenreaderLabel":"%{selectionSize} items selected.","FilesGrid.Cell.Info.LastModified":"Last modified %{date}","FilesGrid.Cell.Info.Tooltip":"Get Info","FilesGrid.Cell.Cancel.Tooltip":"Cancel upload","FilesGrid.Cell.Upload.Progress.Uploading":"Uploading","FilesGrid.Cell.ActionMenu.Tooltip":"Actions","FilesGrid.Cell.ActionMenu.Action.SelectedCount.Two":"2 Selected","FilesGrid.Cell.ActionMenu.Action.SelectedCount.MoreThanTwo":"%{count} Selected","FilesGrid.Cell.ActionMenu.Action.SelectedCount.WithSize.Two":"2 Selected (%{size})","FilesGrid.Cell.ActionMenu.Action.SelectedCount.WithSize.MoreThanTwo":"%{count} Selected (%{size})","FilesGrid.Cell.ActionMenu.Action.Open":"Open","FilesGrid.Cell.ActionMenu.Action.Preview":"Preview","FilesGrid.Cell.ActionMenu.Action.Rename":"Rename","FilesGrid.Cell.ActionMenu.Action.GetInfo":"Get Info","FilesGrid.Cell.ActionMenu.Action.DownloadACopy":"Download a Copy","FilesGrid.Cell.ActionMenu.Action.SendACopy":"Send a Copy","FilesGrid.Cell.ActionMenu.Action.CollaborateWithOthers":"Collaborate with Others","FilesGrid.Cell.ActionMenu.Action.Duplicate":"Duplicate","FilesGrid.Cell.ActionMenu.Action.Move":"Move to Folder","FilesGrid.Cell.ActionMenu.Action.Delete":"Delete Selected","FilesGrid.Cell.ActionMenu.Action.Recover":"Recover","FilesGrid.Cell.ActionMenu.Action.Purge":"Delete Forever","FilesGrid.Cell.ActionMenu.Action.Report":"Report Content","FilesGrid.EmptyDrive.Title":"Your iCloudDrive is empty.","FilesGrid.EmptyDrive.Subtitle":"You can upload files by dragging them here\nor by using an iCloudDrive enabled app.","FilesGrid.EmptyFolder.Title":"This folder is empty","FilesGrid.EmptyFolder.Subtitle":"You can upload files by dragging them here.","FilesGrid.EmptyTrash.Title":"No items","FilesGrid.File.Type.aac":"AAC audio","FilesGrid.File.Type.abbu":"Contacts Archive File","FilesGrid.File.Type.ai":"Adobe Illustrator Document","FilesGrid.File.Type.aiff":"AIFF-C Audio","FilesGrid.File.Type.apk":"Android Application","FilesGrid.File.Type.app":"Application","FilesGrid.File.Type.avi":"AVI movie","FilesGrid.File.Type.band":"GarageBand Project","FilesGrid.File.Type.bat":"Batch File","FilesGrid.File.Type.bin":"MacBinary archive","FilesGrid.File.Type.blend":"Blend File","FilesGrid.File.Type.bmp":"Windows bitmap image","FilesGrid.File.Type.c":"C source code","FilesGrid.File.Type.c4d":"Cinema 4D File","FilesGrid.File.Type.class":"Java class","FilesGrid.File.Type.cpp":"C++ source code","FilesGrid.File.Type.css":"Cascading Style Sheet","FilesGrid.File.Type.cer":"Certificate","FilesGrid.File.Type.csv":"comma-separated values","FilesGrid.File.Type.dae":"Collada ","FilesGrid.File.Type.dmg":"Disk Image","FilesGrid.File.Type.dng":"Adobe raw image","FilesGrid.File.Type.doc":"Microsoft Word 97-2004 document","FilesGrid.File.Type.docx":"Office Open XML word processing document","FilesGrid.File.Type.dxf":"AutoCAD DXF File","FilesGrid.File.Type.eps":"Encapsulated PostScript","FilesGrid.File.Type.exe":"Microsoft Windows application","FilesGrid.File.Type.fbx":"Filmbox File","FilesGrid.File.Type.gif":"Graphics Interchange Format","FilesGrid.File.Type.gz":"GZip archive","FilesGrid.File.Type.h":"C header code","FilesGrid.File.Type.hqx":"BinHex archive","FilesGrid.File.Type.htm":"HTML text","FilesGrid.File.Type.epub":"Electronic Publication (EPUB)","FilesGrid.File.Type.ibooks":"Electronic Publication (AppleBooks)","FilesGrid.File.Type.icns":"Apple icon image","FilesGrid.File.Type.ico":"Windows icon image","FilesGrid.File.Type.ics":"ICS File","FilesGrid.File.Type.indd":"Adobe InDesign Document","FilesGrid.File.Type.ipa":"iOS App","FilesGrid.File.Type.iso":"ISO Disk Image","FilesGrid.File.Type.java":"Java source code","FilesGrid.File.Type.jpg":"JPEG image","FilesGrid.File.Type.js":"JavaScript","FilesGrid.File.Type.key":"Keynote Presentation","FilesGrid.File.Type.keychain":"keychain","FilesGrid.File.Type.log":"Log File","FilesGrid.File.Type.m":"Objective-C source code","FilesGrid.File.Type.m3u":"M3U Playlist","FilesGrid.File.Type.m4a":"Apple MPEG-4 audio","FilesGrid.File.Type.m4p":"protected MPEG-4 audo","FilesGrid.File.Type.m4r":"Ringtone","FilesGrid.File.Type.m4v":"Apple MPEG-4 movie","FilesGrid.File.Type.mid":"Midi audio","FilesGrid.File.Type.qt":"QuickTime movie","FilesGrid.File.Type.mp3":"MP3 Audio","FilesGrid.File.Type.mp4":"MPEG-4 movie","FilesGrid.File.Type.mpeg":"MPEG movie","FilesGrid.File.Type.numbers":"Numbers Spreadsheet","FilesGrid.File.Type.obj":"Wavefront 3D Object File","FilesGrid.File.Type.otf":"PostScript OpenType font","FilesGrid.File.Type.pages":"Pages Document","FilesGrid.File.Type.pdf":"Portable Document Format (PDF)","FilesGrid.File.Type.perl":"Perl script","FilesGrid.File.Type.pkg":"Installer package archive ","FilesGrid.File.Type.png":"PNG image","FilesGrid.File.Type.pps":"Microsoft PowerPoint 97-2004 slide show","FilesGrid.File.Type.ppsx":"Office Open XML slide show","FilesGrid.File.Type.ppt":"Microsoft PowerPoint 97-2004 presentation","FilesGrid.File.Type.pptx":"Office Open XML presentation","FilesGrid.File.Type.ps":"PostScript","FilesGrid.File.Type.psd":"Adobe Photoshop document","FilesGrid.File.Type.py":"Python script","FilesGrid.File.Type.rar":"RAR archive","FilesGrid.File.Type.rtf":"Rich Text File","FilesGrid.File.Type.safariextz":"Safari extension","FilesGrid.File.Type.scpt":"Script","FilesGrid.File.Type.sh":"shell script","FilesGrid.File.Type.sketch":"Sketch file","FilesGrid.File.Type.stl":"Stereolithography File","FilesGrid.File.Type.svg":"scalable vector graphics (SVG)","FilesGrid.File.Type.swift":"Swift File","FilesGrid.File.Type.tar":"tar archive","FilesGrid.File.Type.tiff":"TIFF image","FilesGrid.File.Type.ttf":"TrueType OpenType font","FilesGrid.File.Type.txt":"Text","FilesGrid.File.Type.vcf":"Electronic business card","FilesGrid.File.Type.wave":"Waveform audio","FilesGrid.File.Type.wma":"Windows media audio","FilesGrid.File.Type.wmv":"Windows media","FilesGrid.File.Type.xcodeproj":"Xcode Project","FilesGrid.File.Type.xhtml":"XHTML","FilesGrid.File.Type.xlam":"Microsoft Excel add-in","FilesGrid.File.Type.xls":"Microsoft Excel 97-2004 worksheet","FilesGrid.File.Type.xlsx":"Office Open XML spreadsheet","FilesGrid.File.Type.xml":"XML text","FilesGrid.File.Type.zip":"ZIP archive","FilesGrid.Error.Loading.FolderContent.Title":"There was a problem loading\nthe content of this folder.","FilesGrid.Error.Loading.FolderContent.Subtitle":"Try opening the folder again later.","FilesGrid.Error.Email.AttachmentTooLarge.Title":"%{fileName} cant be emailed.","FilesGrid.Error.Email.AttachmentTooLarge.Subtitle":"This file exceeds the maximum allowed size for attachments (%{maxFileSizeInMB} MB).","FilesGrid.Error.Email.AttachmentsTooLarge.Title":"Your selection cant be emailed.","FilesGrid.Error.Email.AttachmentsTooLarge.Subtitle":"Your selection exceeds the maximum allowed total size for attachments (%{maxFileSizeInMB} MB)","FilesGrid.Error.ShareFile.Generic.Message":"Could not share %{fileName}.","FilesGrid.Error.ShareFolder.Generic.Message":"Could not share %{folderName}.","FilesGrid.Error.ShareFile.Generic.Description":"There was an error sharing this file. Please try again later.","FilesGrid.Error.ShareFolder.Generic.Description":"There was an error sharing this folder. Please try again later.","FilesGrid.Error.ShareFile.UnsharedToMe.Message":"%{fileName} is no longer available.","FilesGrid.Error.ShareFile.UnsharedToMe.Description":"The owner stopped sharing, or you no longer have permission to continue viewing.","FilesGrid.Error.SharedFolder.UnsharedToMe.Message":"%{folderName} is no longer available.","FilesGrid.Error.SharedFolder.UnsharedToMe.Description":"The owner stopped sharing, or you no longer have permission to continue viewing.","FilesGrid.Error.ShareFolder.Message.SharedToMe":"This folder cant be shared.","FilesGrid.Error.ShareFolder.Description.SharedToMe":"You cant share folders that contain items shared with you.","FilesGrid.Error.OpenFile.Single.Generic.Title":"%{fileName} couldnt be opened.","FilesGrid.Error.OpenFile.Single.Attachment.Title":"%{fileName} couldnt be emailed.","FilesGrid.Error.OpenFile.Multiple.Attachment.Title":"%{fileCount} files couldnt be emailed.","FilesGrid.Error.OpenFile.Multiple.Generic.Title":"%{fileCount} files couldnt be opened.","FilesGrid.Error.OpenFile.Single.Generic.Subtitle":"Try opening the file again later.","FilesGrid.Error.OpenFile.Single.Deleted.Subtitle":"This file has been deleted and is no longer available.","FilesGrid.Error.OpenFile.Single.Unshared.Subtitle":"The owner stopped sharing, or you no longer have permission to continue viewing.","FilesGrid.Error.OpenFile.Single.Attachment.Subtitle":"Try emailing the file again later.","FilesGrid.Error.OpenFile.Multiple.Attachment.Subtitle":"Try emailing these files again later.","FilesGrid.Error.OpenFile.Multiple.Generic.Subtitle":"Try opening these files again later.","FilesGrid.Error.OpenFile.Multiple.Deleted.Subtitle":"These files have been deleted and are no longer available.","FilesGrid.Error.OpenFile.Multiple.Unshared.Subtitle":"The owner stopped sharing, or you no longer have permission to continue viewing these files.","FilesGrid.Error.OpenFile.Multiple.Mixed.Subtitle":"Try opening the files again later","FilesGrid.Error.OpenFile.Multiple.ItemDetails.Generic.Subtitle":"There was a problem opening this file. Try again later.","FilesGrid.Error.OpenFile.Multiple.ItemDetails.Deleted.Subtitle":"This file has been deleted and is no longer available.","FilesGrid.Error.OpenFile.Multiple.ItemDetails.Unshared.Subtitle":"The owner stopped sharing, or you no longer have permission to continue viewing this file.","FilesGrid.DragDrop.Status.MoveItems":"Move to %{destinationName}","FilesGrid.DragDrop.Status.MoveItems.ToRootContainer":"Move to iCloudDrive","FilesGrid.DragDrop.Status.UploadItems":"Upload to %{destinationName}","FilesGrid.DragDrop.Status.UploadItems.ToRootContainer":"Upload to iCloudDrive","FilesGrid.SortButtonTitle.Name":"Name","FilesGrid.SortButtonTitle.Date":"Date","FilesGrid.SortButtonTitle.Size":"Size","FilesGrid.SortButtonTitle.Kind":"Kind","FilesGrid.SortBy.Name":"Sort by Name","FilesGrid.SortBy.Date":"Sort by Date","FilesGrid.SortBy.Size":"Sort by Size","FilesGrid.SortBy.Kind":"Sort by Kind","FilesGrid.Popover.Close":"Close popover","FilesGrid.FolderFooter.None":"0 items, %{quotaString} available on iCloud","FilesGrid.FolderFooter.Single":"1 item, %{quotaString} available on iCloud","FilesGrid.FolderFooter.Multiple":"%{folderItemsCount} items, %{quotaString} available on iCloud","FilesGrid.Navigation.Back":"Back","FilesGrid.Recents.LoadingMoreAX":"Loading more recent files","FilesGrid.SourceList.AXTitle.Sidebar":"Sidebar","FilesGrid.SourceList.Source.Recents":"Recents","FilesGrid.SourceList.Source.Browse":"Browse","FilesGrid.SourceList.Source.RecentlyDeleted":"Recently Deleted","FilesGrid.SourceList.Source.Shared":"Shared","FilesGrid.SourceList.Source.Favorites":"Favorites","FilesGrid.SourceList.Source.Favorites.LoadingMoreAX":"Loading more favorites","FilesGrid.SourceList.Source.Favorites.MaxLoaded":"See more favorites on your device.","FilesGrid.Spinner.Label.Loading":"Loading"}),Object(wu.a)(Object(wu.b)(),{"NotMigrated.Contents.Message":"Safely store all of your presentations, spreadsheets, PDFs, images, and any other kind of document in iCloud and access them from your iPhone, iPad, iPod touch, Mac, PC and on iCloud.com.","NotMigrated.Advice":"To use iCloudDrive, youll need to upgrade your account. If you upgrade, you wont be able to access documents in iCloud from devices with iOS7 or OSX Mavericks. Youll need to install iOS8, OSX Yosemite, or later.","NotMigrated.Emphasis":"Important: ","NotMigrated.MigrateButton":"Upgrade iCloudDrive","NotMigrated.DeferMigrationButton":"Not Now","NotMigrated.LearnMoreButton":"Learn more","NotMigrated.MigrationInProgress":"Upgrading iCloud Drive. This may take a few minutes","NotMigrated.MigrationFailed.Message":"Upgrade failed","NotMigrated.MigrationFailed.Description":"Unable to upgrade iCloud Drive at this time. Try again later.","NotMigrated.MigrationFailed.Acknowledge":"OK","NotMigrated.LearnMoreLink":"https://support.apple.com/en-us/HT201385"}),Object(wu.a)(Object(wu.b)(),{"NavigationBar.SelectButton.Title":"Select","NavigationBar.SelectAllButton.Title":"Select All","NavigationBar.DeselectAllButton.Title":"Deselect All","NavigationBar.DoneButton.Title":"Done","NavigationBar.SelectionModeTitle.0":"Select Items","NavigationBar.SelectionModeTitle.1":"1 Item Selected","NavigationBar.SelectionModeTitle.N":"%{number} Items Selected","NavigationBar.TouchMode.Item.Selected":"%{number} Selected"}),Object(wu.a)(Object(wu.b)(),{"NumberFormatter.Units.bytes":"bytes","NumberFormatter.Units.kB":"KB","NumberFormatter.Units.MB":"MB","NumberFormatter.Units.GB":"GB","NumberFormatter.Units.TB":"TB","NumberFormatter.Units.PB":"PB","NumberFormatter.Units.KiB":"KB","NumberFormatter.Units.MiB":"MB","NumberFormatter.Units.GiB":"GB","NumberFormatter.Units.TiB":"TB","NumberFormatter.Units.PiB":"PB","NumberFormatter.ItemSize":"%{number} %{sizeUnit}"}),Object(wu.a)(Object(wu.b)(),{"Recents.Today":"Today","Recents.Yesterday":"Yesterday","Recents.Previous7":"Previous 7 Days","Recents.Previous30":"Previous 30 Days","Recents.January":"January","Recents.February":"February","Recents.March":"March","Recents.April":"April","Recents.May":"May","Recents.June":"June","Recents.July":"July","Recents.August":"August","Recents.September":"September","Recents.October":"October","Recents.November":"November","Recents.December":"December","Recents.Empty.Message":"No items","Recents.Empty.Description":"Files which youve opened recently will appear here.","Recents.Error.Message":"There was a problem loading your recently opened files.","Recents.Error.Description":"Please try again later.","Recents.Items.Count.0":"0 items","Recents.Items.Count.1":"1 item","Recents.Items.Count.2":"2 items","Recents.Items.Count.Multiple":"%{numberOfItems} items"}),Object(wu.a)(Object(wu.b)(),{"StatusBar.NoItemsSelected.NoItemsAvailable":"0 items","StatusBar.NoItemsSelected.OneItemAvailable":"1 item","StatusBar.NoItemsSelected.MultipleItemsAvailable":"%{totalNumberOfItems} items","StatusBar.OneOrMoreItemsSelected":"%{numberOfSelectedItems} of %{totalNumberOfItems} selected","StatusBar.Loading":"Loading","StatusBar.Quota":"%{size} available","StatusBar.Text.SelectionAndQuota":"%{selectionInfo}, %{quotaSize}","StatusBar.Trash.NoItems":"Recently Deleted","StatusBar.Trash.HasItems":"Recently Deleted (%{totalNumberOfItems})","StatusBar.ItemCount.0":"0 items","StatusBar.ItemCount.1":"1 item","StatusBar.ItemCount.2":"2 items","StatusBar.ItemCount.Multiple":"%{numberOfItems} items","StatusBar.PathBar":"Path Bar","StatusBar.SelectMode":"Tap to Select"}),Object(wu.a)(Object(wu.b)(),{"Toolbar.ApplicationTitle":"Drive","Toolbar.Button.AppsLauncher.Tooltip":"Change App","Toolbar.Button.Help.Tooltip":"Help and Support","Toolbar.Button.UserAction.Tooltip":"iCloud Settings & Sign Out","MoveItems.Selection.Plural":"%{selectionLength} Items","MoveItems.Header.Generic.Single":"Choose a new location to move this item","MoveItems.Header.Generic.Plural":"Choose a new location to move these items","MoveItems.Header.Specific.Single":"Item will be moved to %{selectionName} on %{rootName}","MoveItems.Header.Specific.Plural":"Items will be moved to %{selectionName} on %{rootName}","MoveItems.Fail":"Could not move items","MoveItems.Retry":"Please try again later"}),Object(wu.a)(Object(wu.b)(),{"FolderToolbar.Button.Delete.Tooltip":"Delete","FolderToolbar.Button.Download.Tooltip":"Download","FolderToolbar.Button.Email.Tooltip":"Email","FolderToolbar.Button.Email.Title":"Email","FolderToolbar.Button.NewFolder.Tooltip":"New Folder","FolderToolbar.Button.Sharing.NotShared.File.Tooltip":"Share File","FolderToolbar.Button.Sharing.Shared.File.Tooltip":"Manage Shared File","FolderToolbar.Button.Sharing.NotShared.Folder.Tooltip":"Share Folder","FolderToolbar.Button.Sharing.Shared.Folder.Tooltip":"Manage Shared Folder","FolderToolbar.Button.Sharing.NotShared.Pages.Tooltip":"Share Document","FolderToolbar.Button.Sharing.Shared.Pages.Tooltip":"Manage Shared Document","FolderToolbar.Button.Sharing.NotShared.Numbers.Tooltip":"Share Spreadsheet","FolderToolbar.Button.Sharing.Shared.Numbers.Tooltip":"Manage Shared Spreadsheet","FolderToolbar.Button.Sharing.NotShared.Keynote.Tooltip":"Share Presentation","FolderToolbar.Button.Sharing.Shared.Keynote.Tooltip":"Manage Shared Presentation","FolderToolbar.Button.Move.Items":"Move Items","FolderToolbar.Button.Move.Tooltip":"Move","FolderToolbar.Button.Upload.Tooltip.Disabled":"Uploading Not Available","FolderToolbar.Button.Upload.Tooltip.Enabled":"Upload","FolderToolbar.Button.UploadMore.Tooltip.Enabled":"Upload More","FolderToolbar.Button.More.Tooltip":"More","FolderToolbar.Button.Info.Title":"Info","FolderToolbar.Button.Info.Tooltip":"Info","FolderToolbar.Button.Rename.Title":"Rename","FolderToolbar.Button.Rename.Tooltip":"Rename","FolderToolbar.Button.ShowSourceList.Tooltip":"Show Sidebar","FolderToolbar.Button.HideSourceList.Tooltip":"Hide Sidebar","FolderToolbar.Button.ViewMode.Tooltip":"Show items as icons or in a list","FolderToolbar.Button.ViewMode.GridOption":"Grid","FolderToolbar.Button.ViewMode.ListOption":"List"}),Object(wu.a)(Object(wu.b)(),{"TrashToolbar.Button.Recover.Title":"Recover","TrashToolbar.Button.Recover.All.Title":"Recover All","TrashToolbar.Button.Delete.Title":"Delete","TrashToolbar.Button.Delete.All.Title":"Delete All"}),Object(wu.a)(Object(wu.b)(),{"Upload.PopoverDialogTitle":"Uploads","Upload.PopoverDialog.AddFilesButton":"Upload More","Upload.Cancel":"Cancel Upload","Upload.Retry":"Retry Upload","Upload.Progress.Failed":"Upload Failed","Upload.Progress.ByteCount":"%{transferredSize} of %{totalSize}","UploadBar.StatusText.InProgress.0":"Uploading","UploadBar.StatusText.InProgress.1":"Uploading 1 item","UploadBar.StatusText.InProgress.2":"Uploading 2 items","UploadBar.StatusText.InProgress.Multiple":"Uploading %{count} items","UploadBar.StatusText.Completed.0":"Uploaded","UploadBar.StatusText.Completed.1":"Uploaded 1 item","UploadBar.StatusText.Completed.2":"Uploaded 2 items","UploadBar.StatusText.Completed.Multiple":"Uploaded %{count} items","UploadCard.Title":"Uploads","UploadCard.Button.Close":"Close","UploadStatusButton.Label.CancelUpload":"Cancel upload","DriveListItem.Upload.Status.Waiting":"Waiting to upload","DriveListItem.Upload.Status.Uploading":"Uploading","DriveListItem.Upload.Status.Complete":"Finalizing upload"}),Object(wu.a)(Object(wu.b)(),{"Alert.UnexpectedError.Message":"An unexpected error has occured.","Alert.UnexpectedError.Description":"Please try again later.","MenuPane.Button.BackdropClose":"Close menu"}),Object(wu.a)(Object(wu.b)(),{"DragDrop.Dialog.Move.FileShared.Single.Title":"Moving %{fileName} will stop sharing.","DragDrop.Dialog.Move.FileShared.Single.Message.Out":"You are currently sharing this file. Moving it out of this app library will stop sharing.","DragDrop.Dialog.Move.FileShared.Single.Message.In":"You are currently sharing this file. Moving it into this app library will stop sharing.","DragDrop.Dialog.Move.FileShared.Some.Title":"Moving shared files will stop sharing.","DragDrop.Dialog.Move.FileShared.Some.Message.Out":"You are sharing %{fileCount} of these %{fileCountTotal} files. Moving them out of this app library will stop sharing.","DragDrop.Dialog.Move.FileShared.Some.Message.In":"You are sharing %{fileCount} of these %{fileCountTotal} files. Moving them into this app library will stop sharing.","DragDrop.Dialog.Move.FileShared.All.Title":"Moving shared files will stop sharing.","DragDrop.Dialog.Move.FileShared.All.Message.Out":"You are currently sharing these files. Moving them out of this app library will stop sharing.","DragDrop.Dialog.Move.FileShared.All.Message.In":"You are currently sharing these files. Moving them into this app library will stop sharing.","DragDrop.Dialog.Move.FileShared.Button.Move":"Move Anyway","DragDrop.Alert.CannotMoveToAppFolder.Multiple.Title":"Cannot move these files to this application folder","DragDrop.Alert.CannotMoveToAppFolder.Multiple.Message":"Only files that can be opened by %{appName} can be moved here."}),Object(wu.a)(Object(wu.b)(),{"DownloadItemAlert.Title":"Cant Open File","DownloadItemAlert.Description":"%{appName} cannot open this file. Would you like to download it to this device instead?","DownloadItemAlert.Description.AppName.drive":"Drive","DownloadItemAlert.Description.AppName.pages":"Pages","DownloadItemAlert.Description.AppName.numbers":"Numbers","DownloadItemAlert.Description.AppName.keynote":"Keynote","DownloadItemAlert.Cancel":"Cancel","DownloadItemAlert.DownloadFile":"Download File"});var Su,Eu=["ar","iw","he","ur","fa","sd"];function Iu(e){return Eu.some((function(t){return e.startsWith(t)}))}function Cu(){var e=Object(Re.useState)((function(){return Object(wu.b)()})),t=e[0],n=e[1];return Object(Re.useEffect)((function(){return Object(wu.e)(n)}),[]),t}function Ou(e){var t=Object(wu.d)(e);return function(e,n){return t(Cu(),e,n)}}!function(e){e.LTR="ltr",e.RTL="rtl"}(Su||(Su={}));var Tu={logBadUndefinedInput:uu,logBadReplacementKey:uu,logMissingLocKey:uu},Au=Ou(Tu),Nu=Object(wu.c)(Tu),Mu=Object(wu.d)(Tu),Du="TempId",Ru="TempUploadingFileId";function Lu(e){return Bu(e).docwsid.startsWith(Ru)}function ku(e){var t;return 2===(null==(t=e.match(/::/g))?void 0:t.length)&&!!Pu.some((function(t){return e.startsWith(t+"::")}))}function xu(e){return!!ju(e,"FILE")||!!ju(e,"SHARED_FILE")||!!ju(e,"FILE_IN_SHARED_FOLDER")}function Fu(e){return"TRASH_ROOT"===e||!!ju(e,"FOLDER")||!!ju(e,"SHARED_FOLDER")||!!ju(e,"FOLDER_IN_SHARED_FOLDER")}var Pu=["FILE","FOLDER","SHARED_FILE","SHARED_FOLDER","FILE_IN_SHARED_FOLDER","FOLDER_IN_SHARED_FOLDER"];function ju(e,t){return e.startsWith(t+"::")}function Uu(e){return ju(e,"FILE_IN_SHARED_FOLDER")||ju(e,"FOLDER_IN_SHARED_FOLDER")}function Bu(e){var t=e.split("::");return{type:t[0],zone:t[1],docwsid:t[2]}}function Vu(e){return"FILE"===e.type}var Wu=function(e){return!!e&&!isNaN(new Date(e).getTime())};function zu(e){var t=e.dateModified,n=e.dateCreated,r=e.lastOpenTime,i=e.dateChanged,a=[t,n,r,i].filter(Boolean);if(a.length){var o=a.sort().filter(Wu);return a.length!==o.length&&bu("bad-dates",{issue:149228430,cause:"invalid DriveFile date/time",info:JSON.stringify({dateModified:t,dateCreated:n,lastOpenTime:r,dateChanged:i})}),o.pop()}}var Hu="FOLDER::com.apple.CloudDocs::root",Gu="TRASH_ROOT";function $u(e){return"FOLDER"===e.type}function Ku(e){return"APP_LIBRARY"===e.type}function Qu(e){var t=function(e){return e===Hu||e===Gu};return!!t(e.id)||!(!t(e.parentId)||"Desktop"!==e.name&&"Documents"!==e.name)}function qu(e){return"APP_LIBRARY"===e.type}function Zu(e){if(e.name)return e.name;var t=e.zone;return"iCloud.com.savysoda.iSpreadsheet"===t?"iSpreadsheet":t?t.replace(/^iCloud\./,""):""}function Yu(e){return qu(e)?Zu(e):e.id===Hu?Nu("RootFolderName"):e.id===Gu?Nu("Default.FolderName.RecentlyDeleted"):e.name||""}function Xu(e){return ju(e,"FILE_IN_SHARED_FOLDER")||ju(e,"FOLDER_IN_SHARED_FOLDER")}function Ju(e){return ju(e,"SHARED_FILE")||ju(e,"SHARED_FOLDER")}function ed(e){return"FROM_ME"===e.share}var td=oe.a.extend(ws.a,{init:function(e){if(!e)throw new Xn.a("Storage#init requires a storage type.");this.__s._$JR$init.call(this),this.storageType=e},storageType:null,length:Object(y.c)({get:function(){var e=nd(this.storageType);if(e)try{return e.length}catch(t){}return 0}}),getItem:function(e,t){var n=nd(this.storageType);return n&&n.getItem?(t&&(e=t+"."+e),n.getItem(e)):null},setItem:function(e,t,n){var r=nd(this.storageType);if(r&&r.setItem){n&&(e=n+"."+e);try{return r.setItem(e,t),!0}catch(i){}}return!1},getKeys:function(e){var t=nd(this.storageType),n=[];if(t){var r=(e=e?e+".":"").length,i=function(t){return 0===t.indexOf(e)},a=function(e){return e.substring(r)};if(void 0!==t.length&&"function"===typeof t.key)for(var o=0,s=t.length;o<s;o++){var c=t.key(o);i(c)&&n.push(a(c))}else n=Object.keys(t).filter(i).map(a)}return n},removeItem:function(e,t){var n=nd(this.storageType);if(n&&n.removeItem){t&&(e=t+"."+e);try{return n.removeItem(e),!0}catch(r){}}return!1},clear:function(e){var t=nd(this.storageType);if(t){if(e){for(var n=this.getKeys(e),r=0,i=n.length;r<i;r++)this.removeItem(n[r],e);return!0}try{return t.clear(),!0}catch(a){}}return!1},__superMap:{_$JR$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"StorageManager"}}).extend({init:function(){this.__s._$1sO$init.call(this,"sessionStorage")},__superMap:{_$1sO$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"SessionStorage"}});function nd(e){try{return window[e]}catch(t){d.b.warn("Could not get storage object for %@: %@",e,t)}}var rd=n(1339),id=n(1356),ad=n(1354),od=n(1357),sd=v.b.extend({staticMembers:{booleanProperty:function(e){return cd.create(e)},numberProperty:function(e){return ld.create(e)},stringProperty:function(e){return ud.create(e)},enumProperty:function(e,t){return dd.create(e,t)},__QUALIFIED_CLASS_NAME__:"ConfigProperty"},downstreamNodeManagerClass:id.a.extend({calculateValueForNode:function(e,t,n){if(n){var r=ad.a.getStateIDForNode(t);r>0&&ad.a.getValueForNode(r)}var i=e._config_debugValues[this.key];return void 0===i&&(i=this.get.call(e)),i},debugType:"Config"}),upstreamNodeManagerClass:od.b.extend({calculateValueForNode:function(e,t,n){var r,i=this.key;if(n){var a=ad.a.getStateIDForNode(t);if(ad.a.setStateDataForNode(void 0,t),!ad.a.isValidNodeID(a))throw new Xn.a("Corrupted config property upstream manager",e);ad.a.getValueForNode(a)}void 0===(r=ad.a.getStateDataForNode(t))?delete e._config_debugValues[i]:e._config_debugValues[i]=r},debugType:"Config"}),wasRegistered:function(){this.__s._$zQ$wasRegistered.apply(this,arguments),this.readOnly=!1},setInitialValueForObject:function(e,t,n){this.usesBuiltinGet?e._config_defaultValues[t]=n:e._config_defaultValues[t]=void 0},didChange:function(e){this.writeToSessionStorage&&this.writeToSessionStorage()},__superMap:{_$zQ$wasRegistered:"wasRegistered"}}),cd=sd.extend({type:"boolean",configType:"boolean",parse:function(e){return"boolean"===typeof e?e:"true"===e},staticMembers:{__QUALIFIED_CLASS_NAME__:"BooleanConfigProperty"}}),ld=sd.extend({type:"number",configType:"number",parse:function(e){return e=parseFloat(e),isNaN(e)?void 0:e},staticMembers:{__QUALIFIED_CLASS_NAME__:"NumberConfigProperty"}}),ud=sd.extend({type:"string",configType:"string",parse:function(e){return e+""},staticMembers:{__QUALIFIED_CLASS_NAME__:"StringConfigProperty"}}),dd=sd.extend({configType:"enum",allowedValues:null,parse:function(e){if(""!==e){var t=this.allowedValues;if(t.indexOf(e)>-1)return e;throw new Xn.a("Not a recognized value in enum",{value:e,allowedValues:t})}},init:function(e,t){1===arguments.length&&Object(N.a)(e)?this.__s._$1eQ$init.call(this,e):(this.allowedValues=e,this.__s._$1eQ$init.call(this,t))},__superMap:{_$1eQ$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"EnumConfigProperty"}}),hd=oe.a.extend(v.a,ws.a,{staticMembers:{booleanProperty:sd.booleanProperty,numberProperty:sd.numberProperty,stringProperty:sd.stringProperty,enumProperty:sd.enumProperty,__QUALIFIED_CLASS_NAME__:"Config"},_config_debugValues:null,_config_urlValues:null,_config_defaultValues:null,_shouldWriteChangesToSessionStorage:!1,init:function(){if(this._config_defaultValues={},this._config_urlValues=Object.create(this._config_defaultValues),this._config_debugValues=Object.create(this._config_urlValues),this.__s._$1Ip$init.call(this),this.constructor===hd)throw new Xn.a("CW.Config cannot be instantiated directly, must subclass.");if(!this.constructor.storageKey)throw new Xn.a("Must define a `storageKey` static member for CW.Config subclasses.");this._computedStorageKey="Apple:Config:"+this.constructor.storageKey,fd.call(this),gd.call(this)&&this.didLoadConfigFromSessionStorage(),this._shouldWriteChangesToSessionStorage=!0,window.addEventListener("hashchange",Object(rd.a)(fd,this))},dispose:function(){return window.removeEventListener("hashchange",Object(rd.a)(fd,this)),this.__s._$1ar$dispose.apply(this,arguments)},didLoadConfigFromSessionStorage:function(){},setFromString:function(e,t){this.set(e,this.getMetadata(e).parse(t))},typeOf:function(e){return this.getMetadata(e).configType},dump:function(e){e||(e="");var t=this._config_debugValues,n=this._config_urlValues,r="",i="",a="",o=[],s=this.getMetadataByType(sd);for(r in s)s.hasOwnProperty(r)&&(i=e+r+": ",a="",t.hasOwnProperty(r)&&(a+=this.getDebugValue(r)+" (Debug); "),n.hasOwnProperty(r)&&(a+=this.getURLValue(r)+" (URL); "),a+=this.getDefaultValue(r)+" (Default)",o.push(i+a));return o.join("\n")},getDefaultValue:function(e){return void 0!==this._config_defaultValues[e]?this._config_defaultValues[e]:this.getMetadata(e).getForObject(this,e)},setDefaultValue:function(e,t){this._config_defaultValues[e]=t,this.propertyChanged(e)},getURLValue:function(e){if(this._config_urlValues.hasOwnProperty(e))return this._config_urlValues[e]},getDebugValue:function(e){if(this._config_debugValues.hasOwnProperty(e))return this._config_debugValues[e]},clearDebugValues:function(){var e=this.getMetadataByType(sd);for(var t in e)e.hasOwnProperty(t)&&this.set(t,void 0)},writeToSessionStorage:function(){this._shouldWriteChangesToSessionStorage&&this._computedStorageKey&&pd.setItem(this._computedStorageKey,JSON.stringify(this._config_debugValues))},__superMap:{_$1Ip$init:"init",_$1ar$dispose:"dispose"}});function fd(){var e=function(e){var t={},n="#cw_config:";if(e.substr(0,11)!==n)return t;var r,i,a,o,s=(e=e.substr(11)).split("&"),c=s.length;for(i=0;i<c;i++){var l=(r=s[i]).indexOf("=");l<0?(a=r,o="true"):(a=r.substr(0,l),o=r.substr(l+1)),a=decodeURIComponent(a),o=decodeURIComponent(o),t[a]=o}return t}(window.location.hash);for(var t in e)if(e.hasOwnProperty(t)){var n=e[t],r=this.getMetadata(t);r&&(void 0!==(n=r.parse(n))?this._config_urlValues[t]=n:delete this._config_urlValues[t],this.propertyChanged(t))}}var pd=td.get("sharedInstance");function gd(){var e=pd.getItem(this._computedStorageKey),t=this._config_defaultValues,n=!1;if(e)try{for(var r in e=JSON.parse(e))e.hasOwnProperty(r)&&t.hasOwnProperty(r)&&(this.set(r,e[r]),n=!0)}catch(i){}return n}var md=hd.extend({staticMembers:{storageKey:"DriveFS"},driveRootFolderId:hd.stringProperty(Hu),trashRootFolderId:hd.stringProperty(Gu)}).create();Object(Sr.b)(Object(Sr.c)(),{"DriveFS.RootFolderName":"iCloudDrive","DriveFS.Default.FolderName.RecentlyDeleted":"Recently Deleted","DriveFS.LocalizedItemName.Desktop":"Desktop","DriveFS.LocalizedItemName.Documents":"Documents","DriveFS.LocalizedAppLibraryName.com.apple.keynote":"Keynote","DriveFS.LocalizedAppLibraryName.com.apple.pages":"Pages","DriveFS.LocalizedAppLibraryName.com.apple.numbers":"Numbers","DriveFS.LocalizedAppLibraryName.icloud.com.apple.homeroom":"Schoolwork","DriveFS.InitiateShare.Title.File":"Share File","DriveFS.InitiateShare.Title.Folder":"Share Folder","DriveFS.InitiateShare.Title.Pages":"Share Document","DriveFS.InitiateShare.Title.Numbers":"Share Spreadsheet","DriveFS.InitiateShare.Title.Keynote":"Share Presentation"});var vd,yd=n(1317),_d=oe.a.extend({run:yd.a,staticMembers:{__QUALIFIED_CLASS_NAME__:"Query"}}),bd=n(1577),wd=function(){var e=Object(bd.d)(),t=Object(bd.e)(),n=Object.assign({},t,{get:function(n){return t.get(n)||(e.has(n)?"Prepared":void 0)},has:function(n){return t.has(n)||e.has(n)}}),r=Object(bd.d)(),i=Object(bd.e)(),a=Object(bd.e)(),o=Object(bd.e)(),s=Object(bd.f)(new Set);return{driveItemCache:e,shareRecordCache:r,uploadProgressCache:o,driveItemTransactionStatusCache:n,docWsDownloadUrlsCache:i,previewImageCache:a,directlyShareFileIdsCache:s}}(),Sd=(wd.uploadProgressCache,wd.docWsDownloadUrlsCache,wd.driveItemCache),Ed=wd.driveItemTransactionStatusCache,Id=Object(S.b)("STATUS",(function(e){e("LOADED",(function(e){e("RELOADING",(function(e){e("QUEUED"),e("ACTIVE")}))})),e("NOT_LOADED",(function(e){e("LOADING",(function(e){e("QUEUED"),e("ACTIVE")})),e("ERRORED"),e("MIXED_STATE")}))})),Cd=(Id.LOADED,Id.NOT_LOADED),Od=(Cd.LOADING,Cd.ERRORED,Cd.MIXED_STATE,Object(S.b)("ACTIONS",(function(e){e("READ",(function(e){e("LOAD"),e("LIST")})),e("WRITE",(function(e){e("CREATE"),e("UPDATE"),e("DESTROY"),e("BULK")}))}))),Td=Od.READ,Ad=(Td.LOAD,Td.LIST,Od.WRITE),Nd=(Ad.CREATE,Ad.UPDATE,Ad.DESTROY,Ad.BULK,[]),Md={};function Dd(){return vd}var Rd=n(1578),Ld=n(1415),kd=n(1384);function xd(e,t,n){var r,i,a;if(e===t||!e&&!t)return!1;if(e&&!t)i=Object.keys(e);else if(!e&&t)a=Object.keys(t);else{var o,s=null;n&&(s=Object(kd.a)(n));var c,l,u,d,h={};for(o in i=[],r=[],e)h[o]=!0,s&&s[o]||(c=Object.prototype.hasOwnProperty.call(e,o),l=e[o],u=Object.prototype.hasOwnProperty.call(t,o),d=t[o],!u&&c||void 0===d&&void 0!==l?i.push(o):Object(Ld.a)(l,d)||r.push(o));for(o in a=[],t)h[o]||a.push(o)}return!!(a&&0!==a.length||i&&0!==i.length||r&&0!==r.length)&&{updated:r||[],removed:i||[],added:a||[]}}var Fd=n(1410),Pd=n(1593).a.extend({head:null,tail:null,length:0,insertBetween:function(e,t,n){if(!n||!t)throw new Xn.a("_DoublyLinkedList: invalid insertion",{item:e,next:n,prev:t});return t._nextDoublyLinkedItem=e,e._previousDoublyLinkedItem=t,e._nextDoublyLinkedItem=n,e._owningDoublyLinkedList=this,n._previousDoublyLinkedItem=e,this.length++,e},remove:function(e){var t=e._previousDoublyLinkedItem,n=e._nextDoublyLinkedItem,r=this.head,i=this.tail;if(n&&t&&r&&i)return this.length--,e===r&&e===i?this.head=this.tail=null:(e===r?this.head=n:e===i&&(this.tail=t),n._previousDoublyLinkedItem=t,t._nextDoublyLinkedItem=n),e._nextDoublyLinkedItem=null,e._previousDoublyLinkedItem=null,e._owningDoublyLinkedList=null,e},push:function(e){return this.insertBetween(e,this.tail||e,this.head||e),this.tail=e,this.head||(this.head=e),this},pop:function(){return this.remove(this.tail)},unshift:function(e){return this.insertBetween(e,this.tail||e,this.head||e),this.head=e,this.tail||(this.tail=e),this},shift:function(){return this.remove(this.head)},staticMembers:{__QUALIFIED_CLASS_NAME__:"_DoublyLinkedList"}});Pd.prototype.enqueue=Pd.prototype.unshift,Pd.prototype.dequeue=Pd.prototype.pop;var jd={mixinDependencies:[{_nextDoublyLinkedItem:null,_previousDoublyLinkedItem:null,_owningDoublyLinkedList:null}],staticMembers:{maxUnusedInstanceCount:200,shouldKeepInstanceAlive:function(e){return!0},shouldKeepFlushingCacheQueue:function(e){return e.length>this.maxUnusedInstanceCount},flushCacheQueue:function(){for(var e=this._keepaliveQueue;this.shouldKeepFlushingCacheQueue(e);){var t=e.dequeue();t._isInKeepaliveQueue=!1,t.release(this,Bd)}},_keepaliveQueue:null,init:function(){this._keepaliveQueue=Pd.create(),this.__s._$1qd$init.apply(this,arguments)},create:function(){var e=this.__s._$1xO$create.apply(this,arguments);return e.retain(this,Ud),e},_enqueueInstanceForEviction:function(e){this.shouldKeepInstanceAlive(e)?(this._keepaliveQueue.enqueue(e),e.retain(this,Bd),e._isInKeepaliveQueue=!0,e.release(this,Ud),this.flushCacheQueue()):e.release(this,Ud)},_rescueInstanceFromEviction:function(e){return this._keepaliveQueue.remove(e),e._isInKeepaliveQueue=!1,e.retain(this,Ud),e.release(this,Bd),e},__superMap:{_$1qd$init:"init",_$1xO$create:"create"}},_isInKeepaliveQueue:!1,retain:function(e,t){var n=this.__s._$2WM$retain.apply(this,arguments);return this._isInKeepaliveQueue&&e!==this.constructor&&t!==Ud?this.constructor._rescueInstanceFromEviction(this):n},release:function(){var e=this.__s._$2hR$release.apply(this,arguments);return 1!==this._retainCount||this._isInKeepaliveQueue||this.constructor._enqueueInstanceForEviction(this),e},__superMap:{_$2WM$retain:"retain",_$2hR$release:"release"}},Ud="CW._CacheableSupport self-reference: Not queued for eviction.",Bd="CW._CacheableSupport self-reference: queued for eviction.",Vd=Object(S.b)("STATUS",(function(e){e("ACTIVE",(function(e){e("QUEUED"),e("TRANSMITTING")})),e("IDLE")})),Wd=Object(S.b)("LOAD_STATUS",(function(e){e("NOT_LOADED"),e("LOADED"),e("ERRORED")})),zd=n(1333),Hd=n(1349),Gd=n(1424),$d=oe.a.extend(v.a,Gd.a,{store:Object(v.g)(),modelClass:Object(v.g)(),encode:function(e){if(!Object(yt.a)(e))return e;var t=this.store.constructor;return Object(P.a)(e,nh)?t.getStoreIdForPrimaryKey(e.constructor,e.getPrimaryKey()):Object(N.a)(e)?t.getStoreIdForPrimaryKey(e.type,e.id):t.getStoreIdForPrimaryKey(this.modelClass,e)},decode:function(e){return Object(yt.a)(e)?this.store.materializeModel(e):e},staticMembers:{__QUALIFIED_CLASS_NAME__:"ModelStoreIdSerializer"}}),Kd=Rd.b.extend(zd.a,{store:Object(y.c)(),modelClass:Object(y.c)(),loadObjectAt:function(e){var t=this.objectAt(e);return t?t.load():b.a.reject("No object at index: "+e)},loadAll:function(){for(var e=this,t=new Map,n=0,r=this.length;n<r;n++){var i=this.modelClassForObjectAt(n),a=t.get(i)||[];t.set(i,a),a.push(this.primaryKeyForObjectAt(n))}if(1===t.size){var o=t.entries().next().value,s=o[0],c=o[1];return s.load(c)}var l=[];for(var u of t.entries()){var d=u[0],h=u[1];l.push(d.load(h))}return b.a.all(l).then((function(){return e}))},storeIdForObjectAt:function(e){return this._array[e]},modelClassForObjectAt:function(e){var t=this.storeIdForObjectAt(e);return this.store.constructor.getModelClassForStoreId(t)},primaryKeyForObjectAt:function(e){var t=this.storeIdForObjectAt(e);return this.store.constructor.getPrimaryKeyForStoreId(t)},storeDataForObjectAt:function(e){var t=this.storeIdForObjectAt(e);return this.store.readData(t)},isObjectAtIndexMaterialized:function(e){var t=this.storeIdForObjectAt(e);return this.store.hasExistingModel(t)},storeIds:Object(v.g)({dependencies:["length"],readOnly:!0,get:function(){return Object(Hd.b)(this._array)}}),spliceStoreIds:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return this._array.splice.apply(this._array,arguments)},addEach:function(e){if(!e||e.constructor!==Kd)return this.__s._$1dF$addEach.apply(this,arguments);if(this.constructor!==Kd)return this.__s._$1dF$addEach.apply(this,arguments);var t=e._array,n=this.length,r=t.length;this.itemsWillChange(),this.itemsWillBeInserted(n,r);var i=this._array;i.length+=r;for(var a=0;a<r;a++)i[a+n]=t[a];this.itemsWereInserted(n,r),this.itemsDidChange()},filter:function(e,t){if(!e)throw new Xn.a("CW.Data.ModelArray#filter: No filter function provided",{modelArray:this});var n,r=this.store;if(!r)throw new Xn.a("CW.Data.ModelArray#filter: Model arrays must be store backed to be filtered",{filterFunction:e,modelArray:this});for(var i=!0,a=[],o=0,s=this.length;o<s;o++){var c=this._getTempModel(o);if(e.call(t,c,o,this)){var l=this.storeIdForObjectAt(o),u=this.modelClassForObjectAt(o);a.push(l),n&&n!==u&&(i=!1),n=u}this._returnTempModel(c)}return this._flushTempModels(),this.constructor.createFromStoreIds(a,i?n:null,r)},clone:function(){return this.constructor.createFromStoreIds(this._array,this.modelClass,this.store)},serializer:Object(v.g)((function(){return $d.create({store:this.store,modelClass:this.modelClass})})),staticMembers:{createFromStoreIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=this.create(void 0,t,n);return r._array=e.slice(),r},createFromIterable:function(e){var t,n,r,i=!0;if(Object(P.a)(e,Kd))return e.clone();var a=e.map((function(e,a){var o=e._cwStore,s=e.constructor;if(r&&r!==s&&(i=!1),r=s,t=t||o,n=n||t.constructor,t!==o)throw new Xn.a("CW.Data.ModelArray.createFromIterable: Expected a model in "+t+" but found a model in "+o+" at index "+a);var c=e.getPrimaryKey();return n.getStoreIdForPrimaryKey(s,c)}));if(Array.isArray(a)||(a=a.toArray()),Object(Nt.a)(a))throw new Xn.a("CW.Data.ModelArray.createFromIterable: Cannot create from an empty iterable");return this.createFromStoreIds(a,i?r:null,t)},__QUALIFIED_CLASS_NAME__:"ModelArray"},init:function(e,t,n){this.modelClass=t,this.store=n||Dd(),this.__s._$3su$init.call(this,e)},dispose:function(){this._flushTempModels(),this.__s._$3w3$dispose.apply(this,arguments)},constructNewInstance:function(){return this.constructor.create([],this.modelClass,this.store)},indexOf:function(e){var t=this._array;return t?t.indexOf(e._cwStoreId):-1},sort:function(e){var t=this;if(!e)return this.__s._$43s$sort.apply(this,arguments);var n=this.__s._$43s$sort.call(this,(function(n,r){var i=e(n,r);return t._returnTempModel(n),t._returnTempModel(r),i}));return this._flushTempModels(),n},getSortableObjectAt:function(e){return this._getTempModel(e)},_getTempModel:function(e){var t=this.storeIdForObjectAt(e);if(!Object(yt.a)(t))return t;var n=this.store.getExistingModel(t);if(n)return n;var r=this._tempModelMap,i=this.modelClassForObjectAt(e),a=r.get(i)||[];r.set(i,a);var o,s=this.storeDataForObjectAt(e);return s?(0===a.length?(o=i.create().retain(this,"tempModel"),this._allTempModels.add(o)):o=a.pop(),o.replaceData(s),o):void 0},_returnTempModel:function(e){this._allTempModels.has(e)&&this._tempModelMap.get(e.constructor).push(e)},_flushTempModels:function(){var e=this._allTempModels;for(var t of e.values())t.release(this,"tempModel");e.clear(),this._tempModelMap.clear()},_tempModelMap:Object(Me.b)(Map),_allTempModels:Object(Me.b)(Set),__superMap:{_$1dF$addEach:"addEach",_$3su$init:"init",_$3w3$dispose:"dispose",_$43s$sort:"sort"}}),Qd=n(1407),qd=Qd.a.extend({storeIds:Object(y.c)({readOnly:!0,get:function(){var e=this._storeIdsArray;if(!e){if(0===this.length)return;e=this._storeIdsArray=this.toArray().map((function(e){return e.storeId}))}return e}}),models:Object(y.c)({readOnly:!0,get:function(){var e=this._modelArray;return e||(e=this._modelArray=Kd.createFromStoreIds(this.storeIds,null,Dd())),e}}),operation:Object(y.c)({readOnly:!0,get:function(){var e=this.length;if(1===e)return this.objectAt(0).operation;if(e>1){var t=this._bulkOperation;return t||(t=this._bulkOperation={type:Od.WRITE.BULK,context:{changes:this}}),t}}}),merge:function(e){for(var t,n=e.createIterator().retain();t=n.value;)this.recordChange(t),n.moveToNext();return n.release(),this},recordChange:function(e){var t=e.storeId,n=this._changesByStoreId||(this._changesByStoreId={}),r=n[t];if(r>=0){var i=this.objectAt(r);this.setIndex(r,i.merge(e))}else this.push(e),n[t]=this.length-1,this._invalidateCaches();return e},getChangeForStoreId:function(e){var t=(this._changesByStoreId||(this._changesByStoreId={}))[e];if(t>=0)return this.objectAt(t)},removeChangeForStoreId:function(e){var t=this._changesByStoreId;if(t){var n=t[e];if(n>=0){var r=this.objectAt(n);for(var i in this.splice(n,1),delete t[e],this._invalidateCaches(),t){var a=t[i];a>n&&(t[i]=a-1)}return r}}},_modelArray:Object(y.c)({type:Kd}),_storeIdsArray:Object(y.c)({type:Array}),_invalidateCaches:function(){this._modelArray=null,this._storeIdsArray=null},staticMembers:{__QUALIFIED_CLASS_NAME__:"ChangeSet"}}),Zd=oe.a.extend({storeId:Object(y.c)({readOnly:!0}),originalData:Object(y.c)({readOnly:!0}),newData:Object(y.c)({readOnly:!0}),changeType:Object(y.c)({readOnly:!0,get:function(){var e=this._changeType;return e||(e=this.originalData?this.newData?Od.WRITE.UPDATE:Od.WRITE.DESTROY:Od.WRITE.CREATE,this._changeType=e),e}}),operation:Object(y.c)({readOnly:!0,get:function(){var e=this._operation;return e||(e=this._operation={type:this.modelClass,operation:{context:this,type:this.changeType}}),e}}),model:Object(y.c)({readOnly:!0,get:function(){return Dd().materializeModel(this.storeId)}}),primaryKey:Object(y.c)({readOnly:!0,get:function(){return Yd.getPrimaryKeyForStoreId(this.storeId)}}),modelClass:Object(y.c)({readOnly:!0,get:function(){return Yd.getModelClassForStoreId(this.storeId)}}),diff:Object(y.c)({readOnly:!0,get:function(){return xd(this.originalData,this.newData)}}),init:function(e,t,n,r){this.__s._$k5$init.call(this),this._storeId=e,this._originalData=t,this._newData=n,r&&(this._operation=r)},merge:function(e){return this.constructor.create(this.storeId,this.originalData,Object.assign(this.newData||{},e.newData))},reverse:function(){return this.constructor.create(this.storeId,Object.assign({},this.newData),Object.assign({},this.originalData))},__superMap:{_$k5$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DataChange"}}),Yd=oe.a.extend(v.a,{staticMembers:{getStoreIdForPrimaryKey:function(e,t){if(!e)throw new Xn.a("CW.Data.Store.getStoreIdForPrimaryKey: No model class provided.",{store:this});if(!t)throw new Xn.a("CW.Data.Store.getStoreIdForPrimaryKey: No primary key provided.",{store:this,modelClass:e});return this.getPrimaryKeysToStoreIds(e)[t]||this.registerPrimaryKey(e,t)},setPrimaryKeyForStoreId:function(e,t){if(!e)throw new Xn.a("CW.Data.Store.setPrimaryKeyForStoreId: No storeId provided.",{store:this});if(!t)throw new Xn.a("CW.Data.Store.setPrimaryKeyForStoreId: No primary key provided.",{store:this});var n=Yd.getModelClassForStoreId(e);if(!n)throw new Xn.a("CW.Data.Store.setPrimaryKeyForStoreId: No model class could be found",{store:this,storeId:e});this.registerPrimaryKey(n,t,e)},getModelClassForStoreId:function(e){return Yd.storeIdsToModelClass[e]},getPrimaryKeyForStoreId:function(e){return Yd.storeIdsToPrimaryKey[e]},getPrimaryKeysToStoreIds:function(e){var t=e.primaryKeysToStoreIds;if(!t){var n=this.modelClassToPrimaryKeysToStoreIds;(t=n.get(e))||(t={},n.set(e,t)),e.primaryKeysToStoreIds=t}return t},storeIdsToModelClass:{},storeIdsToPrimaryKey:{},modelClassToPrimaryKeysToStoreIds:new Map,resetStoreIds:function(){var e=this.storeIdsToModelClass;for(var t of Object.values(e))t.primaryKeysToStoreIds=null;this.storeIdsToModelClass={},this.storeIdsToPrimaryKey={},this.modelClassToPrimaryKeysToStoreIds=new Map},registerPrimaryKey:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:++Jd,r=this.storeIdsToPrimaryKey,i=r[n];if(t===i)return n;var a=this.getPrimaryKeysToStoreIds(e);return a[t]=n,this.storeIdsToModelClass[n]=e,i&&delete a[i],r[n]=t,n},__QUALIFIED_CLASS_NAME__:"Store"},autocommit:!1,forkOnRead:!1,commit:function(){throw new Xn.a("CW.Store#commit is not implemented. Only stores mixing in CW.DataManager may commit at this time.")},commitStoreIds:function(e){throw new Xn.a("CW.Store#commitStoreIds is not implemented. Only stores mixing in CW.DataManager may commit at this time.")},commitPrimaryKeys:function(e,t){throw new Xn.a("CW.Store#commitPrimaryKeys is not implemented. Only stores mixing in CW.DataManager may commit at this time.")},MergeStrategy:void 0,getStoreStatus:function(e,t){if(!e)throw new Xn.a("CW.Data.Store#getStoreStatus: No model class provided.",{store:this});if(!t)throw new Xn.a("CW.Data.Store#getStoreStatus: No primary key provided.",{store:this,modelClass:e});var n=this.constructor.getStoreIdForPrimaryKey(e,t);if(this.isDataForked(n)){var r=Xd.DIRTY,i=this._changes,a=i&&i.getChangeForStoreId(n),o=a&&a.changeType;return o===Od.WRITE.CREATE?r.CREATED:o===Od.WRITE.UPDATE?r.UPDATED:o===Od.WRITE.DESTROY?r.DESTROYED:r.READ}return null===this.readData(n)?Xd.CLEAN.DESTROYED:Xd.CLEAN},getModel:function(e,t){if(!e)throw new Xn.a("CW.Data.Store#getModel: No model class provided.",{store:this});if(!t)throw new Xn.a("CW.Data.Store#getModel: No primary key provided.",{store:this,modelClass:e});var n=this.constructor.getStoreIdForPrimaryKey(e,t);if(this.hasDataFor(n))return this.materializeModel(n)},getAllModels:function(e){var t=this;if(!e)throw new Xn.a("CW.Data.Store#getAllModels: No model class provided.",{store:this});var n=Array.from(Object.values(this.constructor.getPrimaryKeysToStoreIds(e))).filter((function(e){return t.hasDataFor(e)}));return Kd.createFromStoreIds(n,e,this)},materializeModel:function(e){if(!e)throw new Xn.a("CW.Data.Store#materializedModel: No store ID provided.",{store:this});var t=this._materializedModels,n=t[e];if(!n&&this.hasDataFor(e)){var r=this.constructor.getModelClassForStoreId(e);if(!r)throw new Xn.a("CW.Data.Store#materializeModel: No model class defined for store ID: `"+e+"`",{store:this,storeId:e});if(!this.constructor.getPrimaryKeyForStoreId(e))throw new Xn.a("CW.Data.Store#materializeModel: No primary key defined for store ID: `"+e+"`",{store:this,modelClass:r,storeId:e});n=r.createWithStore(this,e),t[e]=n}return n&&n.isPooled&&n.constructor.reclaim(n),n},getExistingModel:function(e){return this._materializedModels[e]},hasExistingModel:function(e){return!!this.getExistingModel(e)},linkModel:function(e,t,n){if(!e)throw new Xn.a("CW.Data.Store#linkModel: No model provided.",{store:this});var r,i;t||(i=e.constructor,void 0!==(r=e.getPrimaryKey())&&null!==r||!n||(r=n[i.getDataKeyForKey(i.primaryKey)]),t=this.constructor.getStoreIdForPrimaryKey(i,r));var a=e._cwStore;if(a){if(a===this)return;throw new Xn.a("CW.Data.Store#linkModel: Model has previously been linked to a store.",{store:this,storeId:t,model:e,primaryKey:r,previousStore:a,newStore:this})}this.hasDataFor(t)||(this.writeData(t,n||e.getDataHash()),delete e.__cwDataHash),e._cwStore=this;var o=this._materializedModels;if(o[t])throw new Xn.a("CW.Data.Store#linkModel: Attempting to register model that already exists.",{store:this,storeId:t,modelClass:i,primaryKey:r,previousRegisteredModel:o[t],newRegisteredModel:e});o[t]=e,e._cwStoreId=t},unlinkModel:function(e){if(!e)throw new Xn.a("CW.Data.Store#unlinkModel: No model provided.",{store:this});e._cwStore=null;var t=this._materializedModels;t&&delete t[e._cwStoreId],e._cwStoreId=null},deleteModels:function(e,t){var n;if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++){var a=t[r];n=this.constructor.getStoreIdForPrimaryKey(e,a),this.deleteData(n)}else n=this.constructor.getStoreIdForPrimaryKey(e,t),this.deleteData(n);this.dataDidChange()},dataDidChange:Object(v.i)(),didChangeDataForStoreIds:function(e){var t=this;if(e&&0!==e.length&&function(e){var t=e.downstreamNodes.dataDidChangeForPrimaryKeys;ad.a.getChildrenIDs(t,eh);var n=eh.length>0;return eh.length=0,n}(this)){var n=e.reduce((function(e,n){var r=t.constructor.getPrimaryKeyForStoreId(n),i=t.constructor.getModelClassForStoreId(n);return e.has(i)?e.get(i).add(r):e.set(i,new Set([r])),e}),new Map);this.dataDidChangeForPrimaryKeys(n)}},dataDidChangeForPrimaryKeys:Object(v.i)(),readData:function(e){if(this.forkOnRead){this._forkIfNeeded(e);var t=this._materializedModels[e];t&&t.propertyChanged("storeStatus")}return this._dataHashes[e]},readDataForPrimaryKey:function(e,t){var n=this.constructor.getStoreIdForPrimaryKey(e,t);return this.readData(n)},readOriginalData:function(e){var t=this._originalDataHashes;if(t)return t[e]},willWriteData:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._forkIfNeeded(e,t)},didWriteData:function(e){this.recordChangeToData(e),this.didChangeDataForStoreIds([e])},writeData:function(e,t){this.willWriteData(e,!1),this._dataHashes[e]=t,this.didWriteData(e)},writeDataForPrimaryKey:function(e,t,n){var r=this.constructor.getStoreIdForPrimaryKey(e,t);this.writeData(r,n)},writeDataProperty:function(e,t,n){var r=this._dataHashes;if(this.hasDataFor(e)){var i=r[e][t];if(Object(Ld.a)(i,n))return}this.willWriteData(e);var a=r[e];a||(a=r[e]={}),a[t]=n,this.didWriteData(e)},updateData:function(e,t){if(this.hasDataFor(e)){this.willWriteData(e);var n=this._dataHashes[e];for(var r in t)n[r]=t[r];this.didWriteData(e)}else this.writeData(e,t)},resetData:function(e){delete this._dataHashes[e];var t=this._originalDataHashes;t&&delete t[e],this._changes&&this._changes.removeChangeForStoreId(e),this.didChangeDataForStoreIds([e])},resetAllData:function(){for(var e=this._dataHashes,t=Object.keys(e),n=0,r=t.length;n<r;n++)delete e[t[n]];delete this._originalDataHashes,this.didChangeDataForStoreIds(t)},deleteData:function(e){return this.writeData(e,null)},hasDataFor:function(e){return!!this._dataHashes[e]},isDataForked:function(e){return this._dataHashes.hasOwnProperty(e)},_dataHashes:Object(Me.b)(Object),_materializedModels:Object(Me.b)(Object),_originalDataHashes:null,_autocommitOnChange:Object(v.h)("dataDidChange",(function(){this.autocommit&&this._changes&&this._changes.length>0&&this.commit()})),_forkIfNeeded:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.isDataForked(e)){var n=this._dataHashes,r=n[e];return(this._originalDataHashes||(this._originalDataHashes={}))[e]=Object(M.a)(r),n[e]=r&&t?Object(M.a)(r):{},!0}return!1},recordChangeToData:function(e){if(!e)throw new Xn.a("Recording changes in Store for non-existent storeId",{storeId:e});var t=this.readOriginalData(e),n=this.readData(e),r=Zd.create(e,t,n);(this._changes||(this._changes=qd.create())).recordChange(r);var i=this._materializedModels[e];return i&&i.propertyChanged("storeStatus"),r},_changes:null}),Xd=Object(S.b)("STATUS",(function(e){e("CLEAN",(function(e){e("DESTROYED")})),e("DIRTY",(function(e){e("READ"),e("CREATED"),e("UPDATED"),e("DESTROYED")}))})),Jd=0,eh=[],th=new Map,nh=oe.a.extend(v.a,hc,jd,{staticMembers:{getStoreIdForPrimaryKey:function(e){return Yd.getStoreIdForPrimaryKey(this,e)},setPrimaryKeyForStoreId:function(e,t){return Yd.setPrimaryKeyForStoreId(e,t)},replacePrimaryKeyInStore:function(e,t){var n=this.getStoreIdForPrimaryKey(e);return this.setPrimaryKeyForStoreId(n,t)},primaryKeysToStoreIds:null,find:function(e,t){if(!e)throw new Xn.a("CW.Data.Model.find: No primary key provided.",{modelClass:this});if(!(t=t||Dd()))throw new Xn.a("CW.Data.Model.find: No store provided and no Data Manager has been created.",{modelClass:this,primaryKey:e});return t.getModel(this,e)},findAll:function(e){if(!(e=e||Dd()))throw new Xn.a("CW.Data.Model.findAll: No store provided and no Data Manager has been created.",{modelClass:this});return e.getAllModels(this)},findByPrimaryKeys:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dd(),r=n.constructor,i=e.map((function(e){return r.getStoreIdForPrimaryKey(t,e)}));return Kd.createFromStoreIds(i,this,n)},findOrCreatePlaceholder:function(e,t){if(!e)throw new Xn.a("CW.Data.Model.findOrCreatePlaceholder: No primary key provided.",{modelClass:this});var n=this.find(e,t);return n||(n=this.createPlaceholder(e,t)),n},createFromDataHash:function(e,t,n){if(!e)return this.createWithStore(t,n);var r=Object(M.a)(e);return r[rh]=!0,this.create(r,t,n)},createWithStore:function(e,t){return this.create(null,e,t)},createPlaceholder:function(e,t){var n;if(!e)throw new Xn.a("CW.Data.Model.createPlaceholder: No primary key provided.",{modelClass:this});var r=Dd();if(!r)throw new Xn.a("CW.Data.Model.createPlaceholder: No Data Manager has been created.",{modelClass:this,primaryKey:e});var i=((n={})[this.getDataKeyForKey(this.primaryKey)]=e,n);return r.loadData(this,i,!0),this.find(e,t||r)},createEmbedded:function(e,t,n){ad.a.pause();var r=this.create();return r._cwParent=e,r._cwParentKey=t,r._cwParentIndex=n,r.retain(),ad.a.resume(),r},hasMaterializedInstance:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dd(),n=this.getStoreIdForPrimaryKey(e);return t.hasExistingModel(n)},performOperation:function(e,t){if(!e)throw new Xn.a("CW.Data.Model.performOperation: No operation name provided.",{modelClass:this,operationType:this,operationContext:t});var n=Dd();if(!n)throw new Xn.a("CW.Data.Model.performOperation: No Data Manager has been created.",{modelClass:this,operationType:this,operationName:e,operationContext:t});return n.performOperation({type:this,operation:{type:e,context:t||{}}})},load:function(e,t){if(!e)throw new Xn.a("CW.Data.Model.load: No primary key(s) provided.",{modelClass:this});var n,r,i=Dd();if(!i)throw new Xn.a("CW.Data.Model.load: No Data Manager has been created.",{modelClass:this,primaryKey:e});if(t)return this.performOperation(Od.READ.LOAD,{primaryKeys:e});if(Array.isArray(e)){for(var a,o,s=Kd.create(e,this),c=0,l=e.length;c<l;c++){var u=e[c];i.getNetworkStatus(this,u)!==Vd.IDLE&&(a=a||[],(r=i.getActiveTransactions(this,u))&&r.length>0)?a.push.apply(a,r):i.getLoadStatus(this,u)!==Wd.LOADED&&(o=o||[]).push(u)}if(o){var d=this.performOperation(Od.READ.LOAD,{primaryKeys:o});(a=a||[]).push(d)}return n=b.a.create(),a?b.a.all(a).then((function(){n.resolve(s)}),(function(e){n.reject(e)})):(n.resolve(s),n)}return i.getNetworkStatus(this,e)!==Vd.IDLE&&(n=b.a.create(),(r=i.getActiveTransactions(this,e))&&r.length>0)?b.a.all(r).then(function(){n.resolve(this.find(e))}.bind(this),(function(e){n.reject(e)})):i.getLoadStatus(this,e)===Wd.LOADED?b.a.resolve(this.find(e)):this.performOperation(Od.READ.LOAD,{primaryKeys:e})},loadAll:function(){return this.performOperation(Od.READ.LIST)},destroy:function(e,t){if(!e)throw new Xn.a("CW.Data.Model.destroy: No primary key(s) provided.",{modelClass:this});if(!(t=t||Dd()))throw new Xn.a("CW.Data.Model.destroy: No store provided and no Data Manager has been created.",{modelClass:this,primaryKeys:e});t.deleteModels(this,e)},getKeyForDataKey:function(e){if(!e)throw new Xn.a("CW.Data.Model.getKeyForDataKey: No data key provided.",{modelClass:this});var t=this.__cwDataKeyMap;return t&&t[e]||e},getDataKeyForKey:function(e){if(!e)throw new Xn.a("CW.Data.Model.getDataKeyForKey: No key provided.",{modelClass:this});var t=this.prototype.getMetadata(e);return t&&t.dataKey||e},primaryKey:null,init:function(){this.__s._$6sP$init.apply(this,arguments),this.primaryKeysToStoreIds=null,Nd.push(this)},_setKeyForDataKey:function(e,t){var n=this.__cwDataKeyMap;(n?this.hasOwnProperty("__cwDataKeyMap")?n:this.__cwDataKeyMap=Object.create(n):this.__cwDataKeyMap={})[t]=e},_registerDataActionHandler:function(e,t){th.set(e,t)},__superMap:{_$6sP$init:"init"},__QUALIFIED_CLASS_NAME__:"Model"},networkStatus:Object(v.g)({get:function(){var e=this.getPrimaryKey();if(!e)throw new Xn.a("CW.Data.Model#networkStatus: No primary key.",{modelClass:this.constructor,model:this});var t=Dd();if(!t)throw new Xn.a("CW.Data.Model#networkStatus: No Data Manager has been created.",{modelClass:this.constructor,model:this,primaryKey:e});return t.getNetworkStatus(this.constructor,e)}}),loadStatus:Object(v.g)({get:function(){var e=this.getPrimaryKey();if(!e)throw new Xn.a("CW.Data.Model#loadStatus: No primary key.",{modelClass:this.constructor,model:this});var t=Dd();if(!t)throw new Xn.a("CW.Data.Model#loadStatus: No Data Manager has been created.",{modelClass:this.constructor,model:this,primaryKey:e});return t.getLoadStatus(this.constructor,e)}}),storeStatus:Object(v.g)({cacheable:!1,get:function(){var e=this.getPrimaryKey();if(!e)throw new Xn.a("CW.Data.Model#storeStatus: No primary key.",{modelClass:this.constructor,model:this});var t=this._cwStore;if(!t)throw new Xn.a("CW.Data.Model#storeStatus: No store linked to model.",{modelClass:this.constructor,model:this,primaryKey:e});return t.getStoreStatus(this.constructor,e)}}),isStoreModel:Object(y.c)({readOnly:!0,get:function(){return!!this._cwStore}}),parentModel:Object(y.c)({readOnly:!0,get:function(){return this._cwParent}}),isEmbeddedModel:Object(y.c)({readOnly:!0,get:function(){return!!this.parentModel}}),embeddedKeyPathArray:Object(y.c)({readOnly:!0,get:function(){if(this.isEmbeddedModel){for(var e=[],t=this;t.isEmbeddedModel;)e=[t._cwParentKey],void 0!==t._cwParentIndex&&e.push(t._cwParentIndex),t=t._cwParent;return e}}}),embeddedKeyPath:Object(y.c)({readOnly:!0,get:function(){return this.embeddedKeyPathArray.join(".")}}),embeddedRoot:Object(y.c)({readOnly:!0,get:function(){for(var e=this;e.isEmbeddedModel;)e=e._cwParent;return e}}),hasDataForKey:function(e){var t=this.getDataHash();return t&&void 0!==t[e]},load:function(){var e=this.getPrimaryKey();if(!e)throw new Xn.a("CW.Data.Model#load: No primary key.",{modelClass:this.constructor,model:this});return this.constructor.load(e)},reload:function(){var e=this.getPrimaryKey();if(!e)throw new Xn.a("CW.Data.Model#reload: No primary key.",{modelClass:this.constructor,model:this});return this.constructor.load(e,!0)},save:function(){var e=this._cwStore;if(!e)throw new Xn.a("CW.Data.Model#save: No store linked to model.",{modelClass:this.constructor,model:this,primaryKey:this.getPrimaryKey()});return e.commit()},saveWithoutRelated:function(){var e=this._cwStore;if(!e)throw new Xn.a("CW.Data.Model#save: No store linked to model.",{modelClass:this.constructor,model:this,primaryKey:this.getPrimaryKey()});return e.commitStoreIds(this._cwStoreId)},reset:function(){if(!this.isStoreModel)throw new Xn.a("CW.Data.Model.reset: Cannot reset a non-store model.",{modelClass:this.constructor,model:this});this._cwStore.resetData(this._cwStoreId)},destroy:function(){var e=this.getPrimaryKey();if(!e)throw new Xn.a("CW.Data.Model#destroy: No primary key.",{modelClass:this.constructor,model:this});this.constructor.destroy(e,this._cwStore)},replaceData:function(e){var t=this.getDataHash(),n=this._cwStore;n?n.writeData(this._cwStoreId,e):this.__cwDataHash=e;var r=xd(t,this.getDataHash());if(r){var i={diff:xd(t,e),originalData:t,updatedData:this.getDataHash()},a=Object(Fd.a)([],r.added,r.removed,r.updated);this._notifyOnDataAction(a,i)}},updateData:function(e){var t=Object(M.a)(this.getDataHash()),n=this._cwStore;if(n)n.updateData(this._cwStoreId,e);else{var r=this.getDataHash();for(var i in e)r[i]=e[i]}var a=this.getDataHash(),o={diff:xd(t,a),originalData:t,updatedData:a};this._notifyOnDataAction(Object.keys(e),o)},_notifyOnDataAction:function(e,t){ad.a.pause();for(var n=this.constructor,r=0,i=e.length;r<i;r++){var a=n.getKeyForDataKey(e[r]),o=this.getMetadata(a);if(o){var s=th.get(o.constructor);s?s(this,a,t):this.propertyChanged(a)}}ad.a.resume()},toJSON:function(){return Object(M.a)(this.getDataHash())},_cwStore:null,_cwStoreId:null,_cwParent:null,_cwParentKey:null,getDataHash:function(){var e=this._cwParent;if(e){var t=this._cwParentKey,n=this._cwParentIndex,r=e.getDataHash();if(!r)return;return(r=r[t])&&void 0!==n&&(r=r[n]),r}var i=this._cwStore;return i?i.readData(this._cwStoreId):this.__cwDataHash||(this.__cwDataHash={})},getPrimaryKey:function(){var e=this.constructor.primaryKey;if(!e)throw new Xn.a("CW.Data.Model#getPrimaryKey: No primary key property defined.",{modelClass:this.constructor,model:this});return this.get(e)},init:function(e,t,n){var r,i;if(e)if(e[rh])delete e[rh],r=e;else{var a=this.getMetadataByType(ih);for(var o in r={},i=Object(M.a)(e),a){var s=a[o],c=s.dataKey||o,l=i[o];void 0!==l&&(r[c]=s._encodeValue(this,c,l),delete i[o])}}t?this._cwStore||t.linkModel(this,n,r):this.__cwDataHash=r,this.__s._$DCM$init.call(this,i)},dispose:function(){var e=this._cwStore;e&&e.unlinkModel(this),this.__s._$DGx$dispose.apply(this,arguments)},notifyOfDataChange:function(){this.dataDidChange(...arguments),this.isEmbeddedModel&&this._cwParent.notifyOfDataChange(...arguments)},propertyChanged:function(e){var t=this.getMetadata(e);if(t){var n=t.clearCachedValueForObject;n&&n.call(t,this,e),this.__s._$DUP$propertyChanged.call(this,e)}},dataDidLoad:Object(v.i)(),dataDidChange:Object(v.i)(),_dataDidChangeDidFire:Object(v.f)("dataDidChange",(function(){var e=this._cwStore;e&&e.dataDidChange()})),__superMap:{_$DCM$init:"init",_$DGx$dispose:"dispose",_$DUP$propertyChanged:"propertyChanged"}}),rh=Symbol("PURE_MODEL_DATA"),ih=v.b.extend({requiresSupport:nh,type:null,isPrimaryKey:!1,dataKey:null,encode:null,decode:null,setInitialValueForObject:function(e,t,n){if(void 0!==n)throw new Xn.a("Initial values are not supported on ModelProperties: "+e+"#"+t,{object:e,key:t,initialValue:n});this.__s._$E9v$setInitialValueForObject.apply(this,arguments)},downstreamNodeManagerClass:id.a.extend({calculateValueForNode:function(e,t,n){if(n){var r=ad.a.getStateIDForNode(t);ad.a._sanitizeNodeID(r)>0&&ad.a.getValueForNode(r)}var i=this.key,a=this.property,o=a.getRawValueForObject(e,i);return a._materializeValue(e,i,o)},isCacheable:!1}),upstreamNodeManagerClass:od.b.extend({calculateValueForNode:function(e,t,n){var r;if(n){var i=ad.a.getStateIDForNode(t);(r=this.pullDataFromParent(t,i))===od.a&&(r=ad.a.getDataForNode(t))}else r=ad.a.getStateDataForNode(t);var a=this.key,o=this.property;return r!==o._getCachedValueForObject(e,a)&&(o.clearCachedValueForObject(e,a),r=o._encodeValue(e,a,r),o.setRawValueForObject(e,a,r)),r},notifyNode:function(e,t){var n=this.key,r=ad.a.getDataForNode(t);e.dataDidChange(n,r)}}),init:function(e){e&&void 0!==e.defaultValue&&(this._hadDefaultValue=!0,delete e.defaultValue),this.__s._$ElL$init.apply(this,arguments)},initializeNodeFlags:function(){this.__s._$EmK$initializeNodeFlags.apply(this,arguments),this.upstreamNodeFlags|=ad.a.PULL_ON_FLUSH|ad.a.NOTIFY},setRawValueForObject:function(e,t,n){if(t=this.dataKey||t,e.isStoreModel)e._cwStore.writeDataProperty(e._cwStoreId,t,n);else if(e.isEmbeddedModel){for(var r=e._cwParent,i=r;i.isEmbeddedModel;)i=i._cwParent;var a=i._cwStore,o=i._cwStoreId;a&&a.willWriteData(o);var s=e.getDataHash();if(!s)throw new Xn.a("Can't write value for key to undefined data hash",{key:t,value:n,object:e,type:e.constructor});s[t]=n,a&&a.didWriteData(o),r.notifyOfDataChange()}else{var c=e.getDataHash();if(!c)throw new Xn.a("Can't write value for key to undefined data hash",{key:t,value:n,object:e,type:e.constructor});c[t]=n}return n},getRawValueForObject:function(e,t){var n,r=this.dataKey||t,i=e.getDataHash();return i&&(n=i[r]),void 0===n?null:n},_encodeValue:function(e,t,n){var r=e.__cwMaterializedValues,i=r&&r[t],a=Object(P.a)(n,nh);return i&&a&&(function(e){var t=e._cwParent;if(!t)throw new Xn.a("CW.Data.Model#detachFromParent: Model is not attached to a parent.",{embeddedModel:e});var n=t.getDataHash(),r=e._cwParentKey;e.__cwDataHash=n[r],n[r]=null,e._cwParent=null,e._cwParentKey=null,e.release()}(i),this.clearCachedValueForObject(e,t)),a?(function(e,t,n){if(!e)throw new Xn.a("CW.Data.ModelProperty#attachToParent: No parent model provided.",{embeddedModel:t,parentKey:n});if(!t)throw new Xn.a("CW.Data.ModelProperty#attachToParent: No embedded model provided.",{parentModel:e,parentKey:n});if(!n)throw new Xn.a("CW.Data.ModelProperty#attachToParent: No parent key provided.",{parentModel:e,embeddedModel:t});e.getDataHash()[n]=t.getDataHash(),t._cwParent=e,t._cwParentKey=n,delete t.__cwDataHash,t.retain()}(e,n,t),this._setCachedValueForObject(e,t,n),n=n.getDataHash()):Object(P.a)(n,j.a)&&(n=n.value),Object(Z.a)(this.encode)&&(n=this.encode.call(e,n)),n&&n.toJSON?n.toJSON():n},_materializeValue:function(e,t,n){var r=this._getCachedValueForObject(e,t);if(void 0!==r)return r;var i=this.type,a=Object(Z.a)(this.decode)?this.decode:function(e,t){var n=String(e).toLowerCase();return e===Boolean||"boolean"===n?ah:e===String||"string"===n?oh:e===Array||"array"===n||e===Rd.b||"cw.observablearray"===n||t instanceof Array?sh:e===Date||"date"===n?ch:Object(P.a)(e,S.a)?lh:bl.a}(i,n),o=a.call(e,n,i),s=o!==n;if(Object(P.a)(o,Rd.b)){var c=this.dataKey||t;o.listen("contentsDidChange",(function(n){var r=e.getDataHash()[c];r||(r=e.getDataHash()[c]=[]),n.context.forEach((function(e){e.operation===Rd.b.INSERT?r.splice(e.index,0,e.item):r.splice(e.index,1)})),e.notifyOfDataChange(t,o)}))}return s&&(this._setCachedValueForObject(e,t,o),o&&o.retain&&o.retain()),o},clearCachedValueForObject:function(e,t){var n=this._getCachedValueForObject(e,t);n&&n.release&&n.release(),e.__cwMaterializedValues&&delete e.__cwMaterializedValues[t]},_getCachedValueForObject:function(e,t){var n=e.__cwMaterializedValues;return n&&n[t]},_setCachedValueForObject:function(e,t,n){var r=e.__cwMaterializedValues;return r||(r=e.__cwMaterializedValues={}),r[t]=n},wasRegistered:function(e,t){var n=this.type;n&&(this.type=null),this.__s._$H3f$wasRegistered.apply(this,arguments),n&&(this.type=n);var r=e.constructor,i=this.dataKey;if(i&&i!==t&&r._setKeyForDataKey(t,i),this.isPrimaryKey){var a=r.primaryKey;if(a&&a!==t)throw new Xn.a("CW.Data.ModelProperty#wasRegistered: Models cannot define multiple primary keys.",{existingPrimaryKey:a,newPrimaryKey:t,modelClass:r});r.primaryKey=t}if(this._hadDefaultValue)throw new Xn.a("Default values are not supported on ModelProperties: "+e+"#"+t,{object:e,key:t})},_hadDefaultValue:!1,__superMap:{_$E9v$setInitialValueForObject:"setInitialValueForObject",_$ElL$init:"init",_$EmK$initializeNodeFlags:"initializeNodeFlags",_$H3f$wasRegistered:"wasRegistered"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ModelProperty"}});function ah(e){return!!e}function oh(e){return null===e?null:void 0!==e?String(e):void 0}function sh(e){return Rd.b.create(e)}function ch(e){return"string"===typeof e&&(e=Date.parse(e)),e?new Date(e):null}function lh(e,t){return t.getItemForValue(e)}var uh=function(e){return"object"!==typeof e&&(e={defaultValue:e}),ih.create(e)},dh=n(1336),hh=Kd.extend({relatedObject:Object(y.c)(),relationshipKey:Object(y.c)(),_embeddedCache:Object(y.c)(),shouldDoPostInitProcessing:!1,hasBackingData:Object(y.c)({readOnly:!0,get:function(){var e=this.relatedObject;return!(!e||!e.getDataHash())}}),_array:Object(y.c)({get:function(){if(this.hasBackingData){var e=this.relatedObject,t=this.relationshipKey;return e.getDataHash()[t]}},set:function(e){if(this.hasBackingData)return this.relatedObject.getDataHash()[this.relationshipKey]=e,e}}),init:function(e,t,n){var r=t.relatedObject,i=t.relationshipKey,a=t.type,o=e&&e.length||0,s=this._embeddedCache=new Array(o),c=this;this.serializer={encode:function(e,t){return Object(P.a)(e,nh)&&(e=e.getDataHash()),e},decode:function(e,t){if(!e)return e;if(void 0===t)return a.create(e);var n=s[t];if(void 0!==n)return n;var r=a.createEmbedded(c.relatedObject,c.relationshipKey,t);return s[t]=r,r}},this.__s._$1Fp$init.call(this,e,a,n),this.relatedObject=r,this.relationshipKey=i,this.listen("contentsDidChange",(function(e){0!==e.context.length&&r.notifyOfDataChange()})),this.retain("Model#__cwMaterializedValues cache"),this.postInitProcessing()},postInitProcessing:function(){var e=this._array;if(e)for(var t,n,r=this._embeddedCache||(this._embeddedCache=[]),i=0,a=e.length;i<a;i++)t=e[i],Object(P.a)(t,nh)&&(n=t.getDataHash(),t.isEmbeddedModel||this._embedModel(t,i),r[i]=t,e[i]=n)},constructNewInstance:function(){return Rd.b.create({serializer:this.serializer})},itemsWillChange:function(){this._array||(this._array=[]),this.__s._$1rN$itemsWillChange.apply(this,arguments);var e=this.relatedObject.embeddedRoot;e.isStoreModel&&e._cwStore._forkIfNeeded(e._cwStoreId)},itemsDidChange:function(){this.__s._$1wm$itemsDidChange.apply(this,arguments);var e=this.relatedObject.embeddedRoot;e.isStoreModel&&e._cwStore.recordChangeToData(e._cwStoreId)},itemsWillBeRemoved:function(e,t){if(this.__s._$21X$itemsWillBeRemoved.apply(this,arguments),0!==t){for(var n=this._embeddedCache,r=e+t,i=e;i<r;i++){var a=n[i];a&&(a.__cwDataHash=Object(M.a)(a.getDataHash()),a._cwParent=a._cwParentKey=a._cwParentIndex=void 0)}n.splice(e,t)}},itemsWillBeInserted:function(e,t){if(this.__s._$2Db$itemsWillBeInserted.apply(this,arguments),0!==t){var n=this._embeddedCache;fh[0]=e,fh[1]=0,n.splice.apply(n,fh),fh.length=2}},itemsWereRemoved:function(e,t){if(this.__s._$2N5$itemsWereRemoved.apply(this,arguments),0!==t){var n=this._embeddedCache,r=this.relatedObject&&this.relatedObject.getDataHash(),i=r&&r[this.relationshipKey];if(i){var a,o,s,c=t;for(a=e,o=i.length;a<o;a++)(s=n[a])&&(s._cwParentIndex-=c)}}},itemsWereInserted:function(e,t){if(this.__s._$2bH$itemsWereInserted.apply(this,arguments),0!==t){var n=this._embeddedCache,r=this.relatedObject,i=this.relationshipKey,a=r&&r.getDataHash(),o=a&&a[i];if(o)for(var s,c=o.length,l=e+t,u=e;u<c;u++)(s=n[u])&&(u<l?this._embedModel(s,u):s._cwParentIndex+=t)}},_embedModel:function(e,t){var n=e.parentModel;if(n&&n!==this.relatedObject)throw new Xn.a("Trying to embed a model that already has a different parent",{model:e,parent:n});if(!n){n=this.relatedObject;var r=this.relationshipKey;e._cwParent=n,e._cwParentKey=r,e._cwParentIndex=t,e.__cwDataHash=void 0}return e},rawSplice:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return this._cacheValues(...r),this.__s._$3Et$rawSplice.apply(this,arguments)},push:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._cacheValues(...t),this.__s._$3GJ$push.apply(this,arguments)},unshift:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._cacheValues(...t),this.__s._$3Hn$unshift.apply(this,arguments)},insertAt:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this._cacheValues(...n),this.__s._$3JO$insertAt.apply(this,arguments)},setIndex:function(e,t){return this._cacheValues(t),this.__s._$3Ks$setIndex.apply(this,arguments)},_cacheValues:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.length;fh.length=r+2;for(var i=0;i<r;i++){var a=t[i];Object(P.a)(a,nh)&&(fh[i+2]=a)}},filter:function(){throw new Xn.a("Filter cannot be used safely on an embedded relationship array, use filterCloned instead.",{source:this})},filterCloned:function(e,t){var n=[],r=this.relatedObject,i=this.relationshipKey,a=r&&r.getDataHash(),o=a&&a[i];if(o)for(var s=this.modelClass,c=s.create(),l=0,u=o.length;l<u;l++){var d=o[l];c.replaceData(d),e.call(t,c,l,o)&&n.push(s.createFromDataHash(d))}return Rd.b.create(n)},indexOf:function(e){var t=this._array;return t&&Object(P.a)(e,this.modelClass)?t.indexOf(e.getDataHash()):-1},isObjectAtIndexMaterialized:function(e){var t=this._embeddedCache;return t&&!!t[e]},__superMap:{_$1Fp$init:"init",_$1rN$itemsWillChange:"itemsWillChange",_$1wm$itemsDidChange:"itemsDidChange",_$21X$itemsWillBeRemoved:"itemsWillBeRemoved",_$2Db$itemsWillBeInserted:"itemsWillBeInserted",_$2N5$itemsWereRemoved:"itemsWereRemoved",_$2bH$itemsWereInserted:"itemsWereInserted",_$3Et$rawSplice:"rawSplice",_$3GJ$push:"push",_$3Hn$unshift:"unshift",_$3JO$insertAt:"insertAt",_$3Ks$setIndex:"setIndex"},staticMembers:{__QUALIFIED_CLASS_NAME__:"EmbeddedRelationshipArray"}}),fh=[0,0],ph=Kd.extend({relatedObject:Object(y.c)({weak:!0}),relationshipKey:Object(y.c)(),hasBackingData:Object(y.c)({readOnly:!0,get:function(){var e=this.relatedObject;return!(!e||!e.getDataHash())}}),_array:Object(y.c)({get:function(){if(this.hasBackingData){var e=this.relatedObject,t=this.relationshipKey;return e.getDataHash()[t]}},set:function(e){if(this.hasBackingData)return this.relatedObject.getDataHash()[this.relationshipKey]=e,e}}),_storeIdCache:Object(Me.b)(Map),serializer:function(){var e=this;return{encode:function(t){if(!Object(yt.a)(t))return t;if(Object(P.a)(t,nh)){if(t.constructor!==e.modelClass)throw new Xn.a("Invalid Model type "+t.constructor+", expected "+e.modelClass,{type:t.constructor,configured:e.modelClass});t=t.getPrimaryKey()}else if(Object(N.a)(t)&&(!t.hasOwnProperty("id")||!t.hasOwnProperty("type")))throw new Xn.a("Foreign object tuple must contain keys 'id' and 'type'",{value:t});return t},decode:function(t){if(!Object(yt.a)(t))return t;var n=e.storeIdForForeignObjectReference(t),r=e.store,i=r.materializeModel(n);if(i)return i;var a=r.constructor.getModelClassForStoreId(n),o=r.constructor.getPrimaryKeyForStoreId(n);return a.createPlaceholder(o,r)}}},shouldDoPostInitProcessing:!1,init:function(e,t,n){if(!t||!t.type)throw new Xn.a("No model type provided in options",{options:t});if(!t||!t.relationshipKey)throw new Xn.a("No relationship key provided in options",{options:t});if(!t||!t.relatedObject)throw new Xn.a("No relationship object provided in options",{options:t});var r=t.relationshipKey,i=t.relatedObject;this.__s._$1li$init.call(this,e,t.type,n),this.relationshipKey=r,this.relatedObject=i;var a=i.__cwMaterializedValues;if(a||(a=i.__cwMaterializedValues={}),a[r])throw new Xn.a("A CW.Data.RelationshipArray instance already exists for this relationship",{relatedObject:i,relationshipKey:r,cache:a});a[r]=this,this.retain("Model#__cwMaterializedValues cache"),this.shouldDoPostInitProcessing=!0,this.postInitProcessing()},itemsWillChange:function(){this._array||(this._array=[]),this.__s._$27z$itemsWillChange.apply(this,arguments),this.store&&this.store._forkIfNeeded(this.relatedObject._cwStoreId)},itemsDidChange:function(){if(this.store){var e=this.relatedObject._cwStoreId;e&&this.store.recordChangeToData(e)}this.__s._$2Gm$itemsDidChange.apply(this,arguments),this.relatedObject.notifyOfDataChange()},storeIdForForeignObjectReference:function(e){if(!Object(yt.a)(e))return e;var t=this._storeIdCache.get(e);if(void 0===t){var n=e,r=this.modelClass;Object(N.a)(e)&&(n=e.id,r=e.type),t=Yd.getStoreIdForPrimaryKey(r,n),this._storeIdCache.set(e,t)}return t},storeIdForObjectAt:function(e){if(this._array){var t=this._array[e];return t&&this.storeIdForForeignObjectReference(t)}},storeIds:Object(v.g)({dependencies:["length"],readOnly:!0,get:function(){if(!this._array)return[];var e=this.storeIdForForeignObjectReference.bind(this);return this._array.map(e)}}),spliceStoreIds:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];for(var a=2,o=arguments.length;a<o;a++){var s=this.store.constructor.getPrimaryKeyForStoreId(arguments[a]),c=this.store.constructor.getModelClassForStoreId(s);c!==this.modelClass&&(s={id:s,type:c}),arguments[a]=s}return this._array||(this._array=[]),this._array.splice.apply(this._array,arguments)},objectAt:function(){return this._array&&this.__s._$2yJ$objectAt.apply(this,arguments)},encodedObjectAt:function(){return this._array&&this.__s._$2_6$encodedObjectAt.apply(this,arguments)},constructNewInstance:function(){var e={relatedObject:this.relatedObject,relationshipKey:this.relationshipKey,type:this.modelClass};return this.constructor.create([],e,this.store)},filter:function(e,t){if(!e)throw new Xn.a("CW.Data.RelationshipArray#filter: No filter function provided",{relationshipArray:this});var n=this.store;if(!n)throw new Xn.a("CW.Data.RelationshipArray#filter: Model arrays must be store backed to be filtered",{filterFunction:e,relationshipArray:this});var r,i=this.modelClass;if(!i)throw new Xn.a("CW.Data.RelationshipArray#filter: No model class defined on model array",{filterFunction:e,relationshipArray:this,store:n});for(var a=[],o=0,s=this.length;o<s;o++){var c=this.storeIdForObjectAt(o),l=this.store.getExistingModel(c);if(!l){var u=this.storeDataForObjectAt(o);r||(r=i.create().retain(this,"filter: tempModel")),r.replaceData(u)}e.call(t,l||r,o,this)&&a.push(c)}return r&&r.release(this,"filter: tempModel"),Kd.createFromStoreIds(a,i,n)},indexOf:function(e){var t=this._array;return t&&Object(P.a)(e,this.modelClass)?t.indexOf(e.getPrimaryKey()):-1},__superMap:{_$1li$init:"init",_$27z$itemsWillChange:"itemsWillChange",_$2Gm$itemsDidChange:"itemsDidChange",_$2yJ$objectAt:"objectAt",_$2_6$encodedObjectAt:"encodedObjectAt"},staticMembers:{__QUALIFIED_CLASS_NAME__:"RelationshipArray"}}),gh=function(e){return vh.create(e)},mh=function(e){return yh.create(e)},vh=ih.extend({embedded:!1,_encodeValue:function(e,t,n){if(this.encode)return this.encode(n);var r;if(Object(P.a)(n,nh)?(r=n.constructor,this.embedded?((e.__cwMaterializedValues||(e.__cwMaterializedValues={}))[t]=n,n.retain(),n=n.toJSON()):n=n.getPrimaryKey()):r=Object(N.a)(n)&&n.type&&n.id?(n=n.id).type:this.type,!r)throw new Xn.a("CW.Data.ToOneRelationshipProperty#_encodeValue: Unable to determine type for: `"+n+"`.");return(e.__relationshipTypes||(e.__relationshipTypes={}))[t]=r,n},getType:function(e,t){var n=e.__relationshipTypes;return n&&n[t]||this.type},hasMaterializedInstance:function(e,t){if(this.embedded)return!!this._getCachedValueForObject(e,t);var n=e._cwStore,r=_h(this.getType(e,t),e.constructor),i=e.getDataHash();if(!i)return!1;var a=i[this.dataKey||t];return r.hasMaterializedInstance(a,n)},_materializeValue:function(e,t,n){var r=e.__cwMaterializedValues,i=r&&r[t];if(i)return i;if(!n)return null;if(this.decode)return this.decode(n);var a=_h(this.getType(e,t),e.constructor);if(!a)throw new Xn.a("CW.Data.ToOneRelationshipProperty#_materializeValue: Unable to determine model class for: `"+n+"`.");return this.embedded?(r||(r=e.__cwMaterializedValues={}),r[t]=a.createEmbedded(e,this.dataKey||t)):a.findOrCreatePlaceholder(n,e._cwStore)},staticMembers:{__QUALIFIED_CLASS_NAME__:"ToOneRelationshipProperty"}}),yh=ih.extend({embedded:!1,upstreamNodeManagerClass:Object(ut.a)({nodeWillFree:function(e){var t=e.__cwMaterializedValues,n=t&&t[this.key];n&&(Object(dh.e)(n,e,"ToManyRelationshipProperty: releasing materialized RelationshipArray"),t[this.key]=null)}}),downstreamNodeManagerClass:id.a.extend({calculateValueForNode:function(e,t,n,r){n&&ad.a._sanitizeNodeID(r)>0&&ad.a.getValueForNode(r);var i=this.key,a=this.property.getRawValueForObject(e,i);return this.property._materializeValue(e,i,a)}}),_encodeValue:function(e,t,n){return n},_materializeValue:function(e,t,n){var r=e.__cwMaterializedValues||(e.__cwMaterializedValues={}),i=r[t];if(i)return i.hasBackingData?i:void 0;var a,o={type:_h(this.type,e.constructor),relatedObject:e,relationshipKey:this.dataKey||t};if(this.embedded)a=hh.create(n,o);else{if(n&&n.length>0)for(var s=0,c=n.length;s<c;s++){var l=n[s];Object(P.a)(l,nh)?n[s]=l.getPrimaryKey():Object(N.a)(l)&&l.id&&(n[s]=l.id)}a=ph.create(n,o,e._cwStore)}return r[t]=a,a.hasBackingData?a:void 0},clearCachedValueForObject:yd.a,strong:!0,staticMembers:{__QUALIFIED_CLASS_NAME__:"ToManyRelationshipProperty"}});function _h(e,t){var n;if(e&&e.isClass?n=e:"(self)"===e||"self"===e?n=t:Object(ce.a)(e)&&(n=function(e){if(void 0===Md[e])for(var t=0,n=Nd.length;t<n;t++){var r=Nd[t],i=Object(Ne.a)(r);if(i===e){Md[i]=r;break}}return Md[e]}(e)),!n)throw new Xn.a("CW.Data.Relationship: Unable to compute class for relationship type: `"+e+"`.");return n}nh._registerDataActionHandler(yh,(function(e,t,n){var r=e[t];r.contentsDidChangeUntracked();var i=n.originalData[t]||[],a=n.updatedData[t]||[],o=Rd.a.fromArrays(i,a,r);r.contentsDidChange(o)}));var bh,wh=S.b("BRApp.ItemShareState",{TO_ME:"TO_ME",BY_ME:"FROM_ME"}),Sh="FILE",Eh="FOLDER",Ih="APP_LIBRARY",Ch="SHARED_BY_ME_FILE",Oh="SHARED_BY_ME_FOLDER",Th="SHARED_TO_ME_FILE",Ah="SHARED_TO_ME_FOLDER",Nh="FILE_IN_SHARED_BY_ME_FOLDER",Mh="FOLDER_IN_SHARED_BY_ME_FOLDER",Dh="FILE_IN_SHARED_TO_ME_FOLDER",Rh="FOLDER_IN_SHARED_TO_ME_FOLDER",Lh="UNKNOWN";function kh(e,t){var n=t.read(e);n&&t.serverState.write(e,Object.assign({},n,{parentId:null}))}!function(e){e.Prepared="Prepared",e.Staged="Staged",e.Committing="Committing"}(bh||(bh={}));var xh=S.b("BRApp.ItemTypeEnum",{FILE:"FILE",FOLDER:"FOLDER",APP_LIBRARY:"APP_LIBRARY"}),Fh="::",Ph=nh.extend({staticMembers:{createPlaceholder:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lh,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Du;if(yt.a(e)||n!==Lh||d.b.warn("Placeholder DriveFS Item created without proper drivews prefix!"),yt.a(e))return this.__s._$WW$createPlaceholder.call(this,e,t);var i=Wn.a();return this.__s._$WW$createPlaceholder.call(this,n+"::UNKNOWN_ZONE::"+r+"-"+i,t)},validateItemIsVisible:function(e){return!/^\./.test(e.name)},validateItemNameIsNotEmpty:function(e){return 0!==e.name.length},validateItemNameInvalidCharacters:function(e){return!e.name.match(/[:\n\r]/g)},validateItemNameIsUnique:function(e,t,n){return e.name===t||!(e.isFile?n.findFileWithNameAndExtension(t,e.extension):n.findFolderWithName(t))},replacePrimaryKeyInStore:function(e,t){this.__s._$17Y$replacePrimaryKeyInStore.apply(this,arguments),wd.driveItemTransactionStatusCache.set(t,wd.driveItemTransactionStatusCache.get(e)),kh(e,wd.driveItemCache)},__superMap:{_$WW$createPlaceholder:"createPlaceholder",_$17Y$replacePrimaryKeyInStore:"replacePrimaryKeyInStore"},__QUALIFIED_CLASS_NAME__:"Item"},clientId:uh(),dateExpiration:uh({type:Date}),dateModified:uh({type:Date}),deleted:uh(),docwsid:uh(),item_id:uh(),nonAliasedDocWsId:y.c({get:function(){return this.isSharedDirectly&&this.isSharedToMe?this.shareID.recordName:this.docwsid}}),id:uh({isPrimaryKey:!0}),isChainedToParent:uh(),isDeleted:uh({decode:function(e){return!!e}}),etag:uh(),lastOpenTime:uh({type:Date}),owner:uh({firstName:null,lastName:null,appleId:null}),parentId:uh(),restorePath:uh(),sanitizedName:uh({dataKey:"name"}),share:uh({encode:function(e){return e},decode:function(e){return wh.getItemForValue(e)}}),shareID:uh(),sharingToken:uh(),shortGUID:uh(),size:uh(),type:uh({encode:function(e){return e},decode:function(e){return xh.getItemForValue(e)}}),zone:uh(),canBeMoved:v.g({dependencies:["transactionState"],readOnly:!0,get:function(){return!this.isSystemFolder&&!this.isAppLibrary&&this.transactionStateIsPrepared()}}),canBeRenamed:v.g({readOnly:!0,dependencies:["isSharedToMe","isSharedIndirectly","sharedFolderFromHierarchy.fullShareRecordHash","transactionState"],get:function(){return!this.isAppLibrary&&!this.isSystemFolder&&!jh(this)&&this.transactionStateIsPrepared()}}),ckContentRecordTag:y.c({get:function(){var e=this.etag;if(this.isFile){var t=e.split(Fh);t&&t.length>1&&(e=t[1])}return e},set:function(e){if(this.isFile){var t=this.etag.split(Fh)[0];this.etag=t+Fh+e}else this.etag=e}}),ckRecordHash:y.c({readOnly:!0,get:function(){var e,t,n=this._ckRecordHashCached;n||(n={},this._ckRecordHashCached=n),this.isFolder?(e="directory",t="structure"):(e="documentContent",t="content"),n.recordName=e+"/"+this.docwsid,n.recordType=t,n.recordChangeTag=this.ckContentRecordTag,n.shortGUID=this.shortGUID;var r=this.shareID;return r?this.share===wh.BY_ME?n.share=r:n.share={recordName:r.shareName}:delete n.share,n}}),contextualType:v.g({readOnly:!0,dependencies:["idParts","share","parent.contextualType"],get:Object.assign((function(){var e=this.idParts,t=this.share,n=this.parent,r=t===wh.BY_ME,i=ol.a(n,"contextualType"),a=i===Oh||i===Mh,o=yt.a(e)?e[0]:null,s=!!this.isSystemFolder;return yt.a(o)?s?Eh:"APP_LIBRARY"===o?Ih:"FILE_IN_SHARED_FOLDER"===o?Dh:"FOLDER_IN_SHARED_FOLDER"===o?Rh:"SHARED_FILE"===o?Th:"SHARED_FOLDER"===o?Ah:r?"FOLDER"===o?Oh:Ch:a?"FOLDER"===o?Mh:Nh:"FOLDER"===o?Eh:Sh:Lh}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]),a=r.internalGet(this,t[1+n]),o=this.parent,s=a===wh.BY_ME,c=ol.a(o,"contextualType"),l=c===Oh||c===Mh,u=yt.a(i)?i[0]:null,d=!!this.isSystemFolder;return yt.a(u)?d?Eh:"APP_LIBRARY"===u?Ih:"FILE_IN_SHARED_FOLDER"===u?Dh:"FOLDER_IN_SHARED_FOLDER"===u?Rh:"SHARED_FILE"===u?Th:"SHARED_FOLDER"===u?Ah:s?"FOLDER"===u?Oh:Ch:l?"FOLDER"===u?Mh:Nh:"FOLDER"===u?Eh:Sh:Lh}})}),depth:y.c({readOnly:!0,get:function(){for(var e=0,t=this.parent;t;)e++,t=t.parent;return e}}),fullName:v.g(null),idParts:v.g({readOnly:!0,dependencies:["id"],get:Object.assign((function(){var e=this.id;return yt.a(e)?e.split("::"):null}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return yt.a(i)?i.split("::"):null}})}),isAppLibrary:y.c({readOnly:!0,get:function(){return this.type===xh.APP_LIBRARY}}),isFile:y.c({readOnly:!0,get:function(){return this.type===xh.FILE}}),isFolder:y.c({readOnly:!0,get:function(){return this.type===xh.FOLDER||this.type===xh.APP_LIBRARY}}),isInTrash:v.g({readOnly:!0,dependencies:["parent.isInTrash"],get:function(){var e=this.parent;return Boolean(e&&e.isInTrash)}}),isSharedByMe:v.g({readOnly:!0,dependencies:["contextualType"],get:Object.assign((function(){var e=this.contextualType;return e===Ch||e===Oh||e===Nh||e===Mh}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return i===Ch||i===Oh||i===Nh||i===Mh}})}),isSharedToMe:v.g({readOnly:!0,dependencies:["contextualType"],get:Object.assign((function(){var e=this.contextualType;return e===Th||e===Ah||e===Dh||e===Rh}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return i===Th||i===Ah||i===Dh||i===Rh}})}),isSharedDirectly:v.g({readOnly:!0,dependencies:["contextualType"],get:Object.assign((function(){var e=this.contextualType;return e===Ch||e===Th||e===Oh||e===Ah}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return i===Ch||i===Th||i===Oh||i===Ah}})}),isSharedIndirectly:v.g({readOnly:!0,dependencies:["isSharedDirectly","isSharedByMe","isSharedToMe"],get:Object.assign((function(){return(this.isSharedByMe||this.isSharedToMe)&&!this.isSharedDirectly}),{__CW__getter:function(e,t,n,r){return(r.internalGet(this,t[1+n])||r.internalGet(this,t[2+n]))&&!r.internalGet(this,t[0+n])}})}),isSharedDirectlyOrIndirectly:v.g({readOnly:!0,dependencies:["isSharedByMe","isSharedToMe"],get:Object.assign((function(){return this.isSharedByMe||this.isSharedToMe}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])||r.internalGet(this,t[1+n])}})}),isUploading:v.g(!1),name:v.g({dependencies:["sanitizedName"],get:Object.assign((function(){var e=this.sanitizedName;return e&&(this.isFile||this.isFolder)&&(e=e.replace(/:/g,"/")),e||""}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return i&&(this.isFile||this.isFolder)&&(i=i.replace(/:/g,"/")),i||""}}),set:Object.assign((function(e){return(this.isFile||this.isFolder)&&(e=e.replace(/\//g,":")),this.sanitizedName=e,e}),{__CW__setter:function(e,t,n,r,i){return(this.isFile||this.isFolder)&&(e=e.replace(/\//g,":")),n[0+r]=e,e}}),writeDependencySetPathMap:[!1]}),parent:gh({dataKey:"parentId",type:"Folder"}),path:v.g({dependencies:["parent.path"],readOnly:!0,get:Object.assign((function(){var e=this.getPath("parent.path"),t=e?e.slice():[];return t.push(this),t}),{__CW__getter:function(e,t,n,r){var i=r.internalGetPath(this,t[0+n]),a=i?i.slice():[];return a.push(this),a}})}),ownerFromHierarchy:v.g({readOnly:!0,dependencies:["isSharedByMe","isSharedToMe","owner","parent.ownerFromHierarchy"],get:Object.assign((function(){var e=this.parent,t=this.isSharedByMe,n=this.isSharedToMe;return t||n?this.isSharedDirectly?this.owner:yt.a(e)?e.ownerFromHierarchy:null:null}),{__CW__getter:function(e,t,n,r){var i=this.parent,a=r.internalGet(this,t[0+n]),o=r.internalGet(this,t[1+n]);return a||o?this.isSharedDirectly?r.internalGet(this,t[2+n]):yt.a(i)?i.ownerFromHierarchy:null:null}})}),sharedFolderFromHierarchy:v.g({readOnly:!0,dependencies:["isSharedByMe","isSharedToMe","isSharedDirectly","parent.sharedFolderFromHierarchy"],get:Object.assign((function(){var e=this.parent,t=this.isSharedByMe,n=this.isSharedToMe,r=this.isFolder,i=this.isSharedDirectly;return t||n?r&&i?this:yt.a(e)?e.sharedFolderFromHierarchy:null:null}),{__CW__getter:function(e,t,n,r){var i=this.parent,a=r.internalGet(this,t[0+n]),o=r.internalGet(this,t[1+n]),s=this.isFolder,c=r.internalGet(this,t[2+n]);return a||o?s&&c?this:yt.a(i)?i.sharedFolderFromHierarchy:null:null}})}),shareIDFromHierarchy:v.g({readOnly:!0,dependencies:["isSharedByMe","isSharedToMe","shareID","parent.shareIDFromHierarchy"],get:Object.assign((function(){var e=this.parent,t=this.shareID,n=this.isSharedByMe,r=this.isSharedToMe;return n||r?yt.a(t)?t:yt.a(e)?e.shareIDFromHierarchy:null:null}),{__CW__getter:function(e,t,n,r){var i=this.parent,a=r.internalGet(this,t[2+n]),o=r.internalGet(this,t[0+n]),s=r.internalGet(this,t[1+n]);return o||s?yt.a(a)?a:yt.a(i)?i.shareIDFromHierarchy:null:null}})}),uploadProgress:v.g(null),zoneIDHash:y.c({readOnly:!0,get:function(){var e=this._zoneIDHashCached;if(!e){var t=this.share;e=t&&t===wh.TO_ME?this.shareID.zoneID:{zoneName:this.zone},this._zoneIDHashCached=e}return e}}),_ckRecordHashCached:null,_zoneIDHashCached:null,transactionState:v.g({readOnly:!0,get:function(){var e=wd.driveItemTransactionStatusCache.get(this.id);return bh[e||"Prepared"]}}),fullShareRecordHash:v.g({readOnly:!0,get:function(){return wd.shareRecordCache.read(this.id)||null}}),initializeCacheSubscriptions:function(){var e=this;if(this.id){var t=!0;this._transactionStateCacheUnsubscribeCallback=Object(bd.c)((function(){wd.driveItemTransactionStatusCache.get(e.id),t||e.propertyChanged("transactionState"),t=!1}));var n=!0;this._shareRecordCacheUnsubscribeCallback=Object(bd.c)((function(){wd.shareRecordCache.read(e.id),n||e.propertyChanged("fullShareRecordHash"),n=!1})),this._cachesSubscribedToId=this.id}},clearCacheSubscriptions:function(){var e,t;null==(e=this._transactionStateCacheUnsubscribeCallback)||e.call(this),null==(t=this._shareRecordCacheUnsubscribeCallback)||t.call(this),this._transactionStateCacheUnsubscribeCallback=void 0,this._cachesSubscribedToId=void 0},init:function(){this.__s._$7bx$init.apply(this,arguments),this.initializeCacheSubscriptions()},dispose:function(){this.clearCacheSubscriptions(),this.__s._$7dw$dispose.apply(this,arguments)},cacheSubscriptionUpdater:v.f("id",(function(){this.id!==this._cachesSubscribedToId&&(this.clearCacheSubscriptions(),this.initializeCacheSubscriptions())})),_transactionStateCacheUnsubscribeCallback:void 0,_shareRecordCacheUnsubscribeCallback:void 0,getDateExpiration:function(){for(var e=this;e instanceof Object;){var t=e.dateExpiration;if(t instanceof Date)return t;e=e.parent}},transactionStateIsPrepared:function(){return this.transactionState===bh.Prepared},transactionStateIsStaged:function(){return this.transactionState===bh.Staged},transactionStateIsCommitting:function(){return this.transactionState===bh.Committing},validateItemIsVisible:function(){return this.constructor.validateItemIsVisible(this)},validateItemNameIsNotEmpty:function(){return this.constructor.validateItemNameIsNotEmpty(this)},validateItemNameInvalidCharacters:function(){return this.constructor.validateItemNameInvalidCharacters(this)},validateItemNameIsUnique:function(e,t){return this.constructor.validateItemNameIsUnique(this,e,t)},__superMap:{_$7bx$init:"init",_$7dw$dispose:"dispose"}});function jh(e){var t,n=ol.a(e,"sharedFolderFromHierarchy.fullShareRecordHash");return Boolean(ol.a(e,"isSharedIndirectly")&&ol.a(e,"isSharedToMe"))&&(t=n,!yt.a(t)||"READ_ONLY"===t.currentUserParticipant.permission)}var Uh,Bh=function(){function e(){this.state=Gh.NOT_LOADED,this.url=null,this.expiration=null,this.etag=null}var t=e.prototype;return t.load=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Vh(this,...t)},t.initialize=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Wh(this,...t)},t.reset=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return zh(this,...t)},e}(),Vh=function(e){return Hh(e,$h.LOAD)},Wh=function(e,t,n){var r=yt.a(t)?$h.INITIALIZE.PRESENT:$h.INITIALIZE.ABSENT,i=Hh(e,r),a=i.ok,o=i.data;return a&&(o.url=t,o.etag=n,o.expiration=new Date(Date.now()+6e5)),i},zh=function(e){var t=$h.UNLOAD,n=Hh(e,t),r=n.ok,i=n.data;return r&&(i.url=null,i.etag=null,i.expiration=null),n},Hh=function(e,t){var n=e.state,r=Kh(n,t),i=r.ok,a=r.data;return i?(e.state=a,eu.okResult(e)):eu.failedResult(e)},Gh=Object.freeze({NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:Object.freeze({PRESENT:"PRESENT",ABSENT:"ABSENT"})}),$h=Object.freeze({LOAD:"LOAD",INITIALIZE:Object.freeze({PRESENT:"PRESENT",ABSENT:"ABSENT"}),UNLOAD:"UNLOAD"}),Kh=function(e,t){return e===Gh.NOT_LOADED?t===$h.LOAD?eu.okResult(Gh.LOADING):eu.failedResult():e===Gh.LOADING?t===$h.INITIALIZE.PRESENT?eu.okResult(Gh.LOADED.PRESENT):t===$h.INITIALIZE.ABSENT?eu.okResult(Gh.LOADED.ABSENT):eu.failedResult():e===Gh.LOADED.PRESENT?t===$h.UNLOAD?eu.okResult(Gh.NOT_LOADED):eu.failedResult():e===Gh.LOADED.ABSENT&&t===$h.UNLOAD?eu.okResult(Gh.NOT_LOADED):eu.failedResult()},Qh=Gh,qh=Ph.extend({staticMembers:{createPlaceholder:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sh,r=arguments.length>3?arguments[3]:void 0;return this.__s._$92$createPlaceholder.call(this,e,t,n,r)},__superMap:{_$92$createPlaceholder:"createPlaceholder"},__QUALIFIED_CLASS_NAME__:"File"},fullName:v.g({readOnly:!0,dependencies:[".name",".extension"],get:function(){var e=this.extension;return e?this.name+"."+e:this.name}}),extension:uh({decode:function(e){return e||""}}),nativeFileData:null,thumbnailMetadata:y.c({defaultValue:function(){return new Bh}})}),Zh=S.b("BRKit.ChangeSetInfoAction",["None","Insert","Remove","Move","Update"]),Yh=oe.a.extend({staticMembers:{createInsertItem:function(e,t){return Yh.create({value:e,beforeIndex:null,afterIndex:yt.a(t)?t:null,action:Zh.Insert})},createRemoveItem:function(e,t){return Yh.create({value:e,beforeIndex:yt.a(t)?t:null,afterIndex:null,action:Zh.Remove})},createMoveItem:function(e,t,n){return Yh.create({value:e,beforeIndex:yt.a(t)?t:null,afterIndex:yt.a(n)?n:null,action:Zh.Move})},createUpdateItem:function(e,t,n,r){return Yh.create({value:e,diff:t||null,beforeIndex:yt.a(n)?n:null,afterIndex:yt.a(r)?r:null,action:Zh.Update})},__QUALIFIED_CLASS_NAME__:"ChangeSetItem"},value:null,beforeIndex:null,afterIndex:null,action:null}),Xh=oe.a.extend({init:function(e){this.__s._$TN$init.call(this),this._items=e.items,this._counter=0},hasNext:function(){return this._counter<this._items.length},next:function(){var e=null;return this.hasNext()&&(e=this._items[this._counter],this._counter++),e},__superMap:{_$TN$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ChangeSetIterator"}}),Jh=oe.a.extend({staticMembers:{Action:Zh,__QUALIFIED_CLASS_NAME__:"ChangeSet"},items:y.c({readOnly:!0,get:function(){return this._items}}),length:y.c({readOnly:!0,get:function(){return this._items.length}}),count:y.c({readOnly:!0,get:function(){return this._items.length}}),hasItems:y.c({readOnly:!0,get:function(){return this._items.length>0}}),iterator:y.c({readOnly:!0,get:function(){return Xh.create({items:this._items.slice()})}}),init:function(e){this.__s._$my$init.call(this,e),this._items=[]},getItemAtIndex:function(e){return this._items[e]||null},addChangeSetItem:function(e){this._items.push(e)},recordInsert:function(e,t){var n=Yh.createInsertItem(e,t);return this.addChangeSetItem(n),n},recordRemove:function(e,t){var n=Yh.createRemoveItem(e,t);return this.addChangeSetItem(n),n},recordMove:function(e,t,n){var r=Yh.createMoveItem(e,t,n);return this.addChangeSetItem(r),r},recordUpdate:function(e,t,n,r){var i=Yh.createUpdateItem(e,t,n,r);return this.addChangeSetItem(i),i},forEach:function(e){this._items.forEach(e)},filter:function(e){var t=Jh.create();return this._items.forEach((function(n){!1!==e(n)&&t.addChangeSetItem(n)})),t},map:function(e){return this._items.map(e)},clear:function(){this._items.length=0},toString:function(){for(var e,t="[ChangeSet: ",n=this._items,r=n.length,i=0;i<r;i++){switch((e=n[i]).get("action")){case Zh.Insert:t+="<Insert: "+e.get("value")+">";break;case Zh.Remove:t+="<Remove: "+e.get("value")+">";break;case Zh.Update:t+="<Update: "+e.get("value")+">";break;case Zh.Move:t+="<Move: "+e.get("value")+">"}i<r-1&&(t+=", ")}return 0===r&&(t+="EMPTY"),t+"]"},__superMap:{_$my$init:"init"}}),ef=n(1406);!function(e){e.Name="Name",e.Kind="Kind",e.DateModified="DateModified",e.Size="Size"}(Uh||(Uh={}));var tf={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\u0100":"A","\u0102":"A","\u0104":"A","\u01cd":"A","\u01de":"A","\u01e0":"A","\u01fa":"A","\u0200":"A","\u0202":"A","\u0226":"A","\u1e00":"A","\u1ea0":"A","\u1ea2":"A","\u1ea4":"A","\u1ea6":"A","\u1ea8":"A","\u1eaa":"A","\u1eac":"A","\u1eae":"A","\u1eb0":"A","\u1eb2":"A","\u1eb4":"A","\u1eb6":"A","\u212b":"A","\u1e02":"B","\u1e04":"B","\u1e06":"B","\xc7":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u1e08":"C","\u010e":"D","\u1e0a":"D","\u1e0c":"D","\u1e0e":"D","\u1e10":"D","\u1e12":"D","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u0228":"E","\u1e14":"E","\u1e16":"E","\u1e18":"E","\u1e1a":"E","\u1e1c":"E","\u1eb8":"E","\u1eba":"E","\u1ebc":"E","\u1ebe":"E","\u1ec0":"E","\u1ec2":"E","\u1ec4":"E","\u1ec6":"E","\u1e1e":"F","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u01e6":"G","\u01f4":"G","\u1e20":"G","\u0124":"H","\u021e":"H","\u1e22":"H","\u1e24":"H","\u1e26":"H","\u1e28":"H","\u1e2a":"H","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1e2c":"I","\u1e2e":"I","\u1ec8":"I","\u1eca":"I","\u0134":"J","\u0136":"K","\u01e8":"K","\u1e30":"K","\u1e32":"K","\u1e34":"K","\u0139":"L","\u013b":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u1e3a":"L","\u1e3c":"L","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\xd1":"N","\u0143":"N","\u0145":"N","\u0147":"N","\u01f8":"N","\u1e44":"N","\u1e46":"N","\u1e48":"N","\u1e4a":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\u014c":"O","\u014e":"O","\u0150":"O","\u01a0":"O","\u01d1":"O","\u01ea":"O","\u01ec":"O","\u020c":"O","\u020e":"O","\u022a":"O","\u022c":"O","\u022e":"O","\u0230":"O","\u1e4c":"O","\u1e4e":"O","\u1e50":"O","\u1e52":"O","\u1ecc":"O","\u1ece":"O","\u1ed0":"O","\u1ed2":"O","\u1ed4":"O","\u1ed6":"O","\u1ed8":"O","\u1eda":"O","\u1edc":"O","\u1ede":"O","\u1ee0":"O","\u1ee2":"O","\u1e54":"P","\u1e56":"P","\u0154":"R","\u0156":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e58":"R","\u1e5a":"R","\u1e5c":"R","\u1e5e":"R","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u0218":"S","\u1e60":"S","\u1e62":"S","\u1e64":"S","\u1e66":"S","\u1e68":"S","\u0162":"T","\u0164":"T","\u021a":"T","\u1e6a":"T","\u1e6c":"T","\u1e6e":"T","\u1e70":"T","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u01af":"U","\u01d3":"U","\u01d5":"U","\u01d7":"U","\u01d9":"U","\u01db":"U","\u0214":"U","\u0216":"U","\u1e72":"U","\u1e74":"U","\u1e76":"U","\u1e78":"U","\u1e7a":"U","\u1ee4":"U","\u1ee6":"U","\u1ee8":"U","\u1eea":"U","\u1eec":"U","\u1eee":"U","\u1ef0":"U","\u1e7c":"V","\u1e7e":"V","\u0174":"W","\u1e80":"W","\u1e82":"W","\u1e84":"W","\u1e86":"W","\u1e88":"W","\u1e8a":"X","\u1e8c":"X","\xdd":"Y","\u0176":"Y","\u0178":"Y","\u0232":"Y","\u1e8e":"Y","\u1ef2":"Y","\u1ef4":"Y","\u1ef6":"Y","\u1ef8":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u1e90":"Z","\u1e92":"Z","\u1e94":"Z","\u1fef":"`","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\u0101":"a","\u0103":"a","\u0105":"a","\u01ce":"a","\u01df":"a","\u01e1":"a","\u01fb":"a","\u0201":"a","\u0203":"a","\u0227":"a","\u1e01":"a","\u1ea1":"a","\u1ea3":"a","\u1ea5":"a","\u1ea7":"a","\u1ea9":"a","\u1eab":"a","\u1ead":"a","\u1eaf":"a","\u1eb1":"a","\u1eb3":"a","\u1eb5":"a","\u1eb7":"a","\u1e03":"b","\u1e05":"b","\u1e07":"b","\xe7":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u1e09":"c","\u010f":"d","\u1e0b":"d","\u1e0d":"d","\u1e0f":"d","\u1e11":"d","\u1e13":"d","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u0229":"e","\u1e15":"e","\u1e17":"e","\u1e19":"e","\u1e1b":"e","\u1e1d":"e","\u1eb9":"e","\u1ebb":"e","\u1ebd":"e","\u1ebf":"e","\u1ec1":"e","\u1ec3":"e","\u1ec5":"e","\u1ec7":"e","\u1e1f":"f","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u01e7":"g","\u01f5":"g","\u1e21":"g","\u0125":"h","\u021f":"h","\u1e23":"h","\u1e25":"h","\u1e27":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1e2d":"i","\u1e2f":"i","\u1ec9":"i","\u1ecb":"i","\u0135":"j","\u01f0":"j","\u0137":"k","\u01e9":"k","\u1e31":"k","\u1e33":"k","\u1e35":"k","\u013a":"l","\u013c":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u1e3b":"l","\u1e3d":"l","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\xf1":"n","\u0144":"n","\u0146":"n","\u0148":"n","\u01f9":"n","\u1e45":"n","\u1e47":"n","\u1e49":"n","\u1e4b":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\u014d":"o","\u014f":"o","\u0151":"o","\u01a1":"o","\u01d2":"o","\u01eb":"o","\u01ed":"o","\u020d":"o","\u020f":"o","\u022b":"o","\u022d":"o","\u022f":"o","\u0231":"o","\u1e4d":"o","\u1e4f":"o","\u1e51":"o","\u1e53":"o","\u1ecd":"o","\u1ecf":"o","\u1ed1":"o","\u1ed3":"o","\u1ed5":"o","\u1ed7":"o","\u1ed9":"o","\u1edb":"o","\u1edd":"o","\u1edf":"o","\u1ee1":"o","\u1ee3":"o","\u1e55":"p","\u1e57":"p","\u0155":"r","\u0157":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e59":"r","\u1e5b":"r","\u1e5d":"r","\u1e5f":"r","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0219":"s","\u1e61":"s","\u1e63":"s","\u1e65":"s","\u1e67":"s","\u1e69":"s","\u0163":"t","\u0165":"t","\u021b":"t","\u1e6b":"t","\u1e6d":"t","\u1e6f":"t","\u1e71":"t","\u1e97":"t","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u01b0":"u","\u01d4":"u","\u01d6":"u","\u01d8":"u","\u01da":"u","\u01dc":"u","\u0215":"u","\u0217":"u","\u1e73":"u","\u1e75":"u","\u1e77":"u","\u1e79":"u","\u1e7b":"u","\u1ee5":"u","\u1ee7":"u","\u1ee9":"u","\u1eeb":"u","\u1eed":"u","\u1eef":"u","\u1ef1":"u","\u1e7d":"v","\u1e7f":"v","\u0175":"w","\u1e81":"w","\u1e83":"w","\u1e85":"w","\u1e87":"w","\u1e89":"w","\u1e98":"w","\u1e8b":"x","\u1e8d":"x","\xfd":"y","\xff":"y","\u0177":"y","\u0233":"y","\u1e8f":"y","\u1e99":"y","\u1ef3":"y","\u1ef5":"y","\u1ef7":"y","\u1ef9":"y","\u017a":"z","\u017c":"z","\u017e":"z","\u1e91":"z","\u1e93":"z","\u1e95":"z"};var nf={"\uff10":"0","\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u06f0":"0","\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u0966":"0","\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u09e6":"0","\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ff":"9","\u0e50":"0","\u0e51":"1","\u0e52":"2","\u0e53":"3","\u0e54":"4","\u0e55":"5","\u0e56":"6","\u0e57":"7","\u0e58":"8","\u0e59":"9"},rf={"\xc4":"\xc5","\xe4":"\xe5"};function af(e){return(e=nf[e]||e)>="0"&&e<="9"}function of(e,t){for(var n="";;){var r=e.charAt(t++);if((r=nf[r]||r)<"0"||r>"9")return n;n+=r}}function sf(e){return e<32||e<33?1:e<48?0:e<58?1:e<65?0:e<91?1:e<97?0:e<123?1:0}function cf(e){return e<="Z"?2:e<="z"?1:3}function lf(e,t,n){if(e===t)return 0;if(""===e)return-1;if(""===t)return 1;if(rf[e]===t||rf[t]===e){var r=e;e=t,t=r}var i=(tf[e]||e).toUpperCase(),a=(tf[t]||t).toUpperCase(),o=sf(i.charCodeAt(0)),s=sf(a.charCodeAt(0));if(o!==s)return o<s?-1:1;if(i!==a)return i<a?-1:1;if(!n)return 0;var c=cf(e),l=cf(t);return c!==l?c<l?-1:1:e<t?-1:1}function uf(e,t){if(Object(At.a)(e)&&Object(At.a)(t))return e<t?-1:e>t?1:0;e+="",t+="";for(var n=0,r=0,i=!1;;){var a=e.charAt(n),o=t.charAt(r);if(""!==a||""!==o)if(af(a)&&af(o)){var s=of(e,n),c=of(t,r);if(n+=s.length,r+=c.length,(s=parseInt(s,10))!==(c=parseInt(c,10)))return s<c?-1:1}else{++n,++r;var l=lf(a,o,i);if(l)return l}else{if(i)return 0;i=!0,n=r=0}}}var df=function(e,t){return Ef(e,t)?If(e,t):vf(_f,bf,yf)(e,t)},hf=function(e,t){return e-t},ff=uf,pf=function(e){return function(t,n){return-e(t,n)}},gf=function(e){return function(t){return t[e]}},mf=function(e,t){return function(n,r){return t(e(n),e(r))}},vf=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){for(var r=0,i=t.length;r<i;r++){var a=(0,t[r])(e,n);if(0!==a)return a}return 0}},yf=mf(gf("id"),ff),_f=vf(mf(gf("name"),ff),mf(gf("extension"),ff)),bf=mf(function(e){var t=gf("dateModified"),n=function(e){return function(t){return null!=t?t:e}}(e);return function(e){var r=t(e);return n(r)}}(0),pf((function(e,t){return e===t?0:e>t?1:e<t?-1:0}))),wf=function(e){var t,n="string"===typeof e.type?e.type:null==(t=e.type)?void 0:t.value;return"FOLDER"===n||"APP_LIBRARY"===n?0:1},Sf=function(e){return t=wf,n=[mf(gf("name"),ff),e],function(e,r){var i=t(e),a=t(r);return i===a?n[i](e,r):i-a};var t,n},Ef=function(e,t){return null===e||void 0===e||null===t||void 0===t},If=function(e,t){return void 0===e||null===e?void 0===t||null===t?0:-1:void 0===t||null===t?1:0};function Cf(e){return this[e]}function Of(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Cf,i=arguments.length>4?arguments[4]:void 0,a=e.length;if(0===a)return 0;for(var o=0,s=a-1,c=i.call(e,t,e);o<=s;){var l=Math.trunc((o+s)/2),u=r.call(e,l,e),d=n(c,i.call(e,u,e));if(d<0)s=l-1;else{if(!(d>0))return l;o=l+1}}return o}function Tf(e,t,n,r,i){var a=r.call(e,t,e),o=i.call(e,a,e),s=0===t,c=s?void 0:r.call(e,t-1,e);if(s||n(o,i.call(e,c,e))>0){var l=t===e.length-1,u=l?void 0:r.call(e,t+1,e);return l||n(o,i.call(e,u,e))<0}return!1}var Af=S.b("BRApp.ErrorType",["Unknown","Server","Client","AccountNotMigrated","PCSMissing","PCSInvalid","QuotaExceeded","Prefetch","Unshared"]),Nf=(Af.Unknown,S.b("BRApp.FolderContentLoadStateEnum",["NotLoading","Loading"])),Mf=S.b("BRApp.FolderContentDataStateEnum",["NotLoaded","Loaded","Error"]),Df=oe.a.extend(v.a,{staticMembers:{isItemHidden:function(e){return e.name.startsWith(".")||e.isFolder&&e.isTrashRoot},isItemExpired:function(e){var t=e.getDateExpiration();return t instanceof Date&&t.getTime()<Date.now()},isItemExpiredInTrash:function(e){return this.isItemExpired(e)&&e.isInTrash},isItemUnpurgedInTrash:function(e){var t,n=(null==(t=e.getDateExpiration())?void 0:t.getTime())||0;return this.isItemExpiredInTrash(e)&&Date.now()-n>=1296e6},__QUALIFIED_CLASS_NAME__:"FolderContent"},folder:v.g({readOnly:!0}),_fileSystem:v.g(dt.bindingFor("application.fileSystem")),length:v.g(_.c("visibleContent.length")),isVirtual:v.g(_.c("folder.isVirtual")),sortType:v.g(_.c("_fileSystem.sortType")),sortComparators:v.g(_.c("_fileSystem.sortComparators")),isInTrash:y.c({readOnly:!0,get:function(){return this.folder.isInTrash}}),isRemoteSyncing:v.g(!1),isLoading:v.g({readOnly:!0,dependencies:["loadState"],get:Object.assign((function(){return this.loadState===Nf.Loading}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===Nf.Loading}})}),hasLoadedContent:v.g({readOnly:!0,dependencies:["dataState"],get:Object.assign((function(){return this.dataState===Mf.Loaded}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===Mf.Loaded}})}),hasError:v.g({readOnly:!0,dependencies:["dataState"],get:Object.assign((function(){return this.dataState===Mf.Error}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===Mf.Error}})}),loadState:v.g(Nf.NotLoading),dataState:v.g(Mf.NotLoaded),sortComparator:v.g({readOnly:!0,dependencies:["sortType","sortComparators"],get:function(){var e=this.sortType,t=void 0===e?Uh.Name:e;return this.sortComparators[t]},didChange:function(e){var t=this.visibleContent;t.beginBatchedChanges(),t.sort(e),t.endBatchedChanges()}}),transactionCount:v.g(0),changed:v.i(),init:function(e,t){this.folder=e,this.__s._$2WN$init.call(this,t)},visibleContent:v.g({readOnly:!0,defaultValue:Me.b(Kd)}),_filterFoundExpiredItem:!1,_filterFoundUnpurgedItem:!1,isItemVisible:function(e){var t=this.constructor,n=!1;if(e.isInTrash){n=t.isItemExpiredInTrash(e);var r=t.isItemUnpurgedInTrash(e);this._filterFoundExpiredItem=this._filterFoundExpiredItem||n,this._filterFoundUnpurgedItem=this._filterFoundUnpurgedItem||r}return!t.isItemHidden(e)&&!n},_updateVisibleContent:v.h({inputs:["allContent","allContent.contentsDidChange","sortComparator"],callback:function(e,t,n){this._filterFoundExpiredItem=!1,this._filterFoundUnpurgedItem=!1;var r=this.visibleContent;if(t instanceof Object){r.beginBatchedChanges();for(var i=t.context,a=r.store,o=r.storeIdForObjectAt,s=0,c=i.length;s<c;s++){var l=i[s],u=l.encodedItem,d=l.item;if(l.operation===ef.a.INSERT&&this.isItemVisible(d)){var h=Of(r,u,n,o,(function(e){return a._dataHashes[e]}));r.encodedObjectAt(h)!==u&&r.encodedSplice(h,0,u)}else{var f=i[s+1];if(f instanceof Object&&f.operation===ef.a.INSERT&&f.encodedItem===u)if(this.isItemVisible(d)){var p=r.encodedIndexOf(u);Tf(r,p,n,o,(function(e){return a._dataHashes[e]}))?s++:r.removeAt(p)}else s++;else r.encodedRemove(u)}}r.endBatchedChanges()}else{var g=e.toArray().filter(this.isItemVisible,this).sort(n);r.splice(0,this.visibleContent.length,...g)}var m=this._fileSystem.loggingService;this._filterFoundExpiredItem&&m.recordStat("purgeableItemsReceived"),this._filterFoundUnpurgedItem&&m.recordStat("purgedItemsReceived")}}),findFirstItemMatchingName:function(e){var t=e?e.toLowerCase():"";return this.allContent.find((function(e){return(e.name?e.name.toLowerCase():"")===t}))},findItemMatchingShareRecordName:function(e){return this.allContent.find((function(t){var n;return e===((null==(n=t.shareID)?void 0:n.shareName)||"")}))},findFolderWithName:function(e){var t=e?e.toLowerCase():"";return this.allContent.find((function(e){if(e.isFile)return!1;var n=e.sanitizedName?e.sanitizedName.toLowerCase():"",r=e.name?e.name.toLowerCase():"";return t===n||t===r}))},findFileWithNameAndExtension:function(e,t){return this.allContent.find((function(n){return!!n.isFile&&(n.name?n.name.toLowerCase():"")===(e?e.toLowerCase():"")&&(n.extension?n.extension.toLowerCase():"")===(t?t.toLowerCase():"")}))},hasFileWithNameAndExtension:function(e,t){return!!this.findFileWithNameAndExtension(e,t)},hasItemMatchingName:function(e){return!!this.findFirstItemMatchingName(e)},allContent:v.g({readOnly:!0,defaultValue:Me.b(Kd)}),_allContentSet:Me.b(globalThis.Set),allContentObserver:v.h({inputs:["allContent","allContent.contentsDidChange"],callback:function(e,t){if(e)if(e&&!t)this._allContentSet=new Set(e);else{var n=t.context;this._allContentSet||(this._allContentSet=new Set);for(var r=this._allContentSet,i=0,a=n.length;i<a;i++){var o=n[i],s=o.operation,c=o.item;s===ef.a.INSERT?r.add(c):s===ef.a.REMOVE&&r.delete(c)}this.changed(t.context)}else this._allContentSet=new Set}}),loaded:function(){this.loadState=Nf.NotLoading,this.dataState=Mf.Loaded},delegate:null,handleRemoteFolderUnshare:function(){var e=this.folder,t=this.delegate;t&&t.folderWasUnsharedRemotely&&"function"===typeof t.folderWasUnsharedRemotely&&t.folderWasUnsharedRemotely(e),e.parent&&e.parent.content&&"function"===typeof e.parent.content.removeItem&&e.parent.content.removeItem(e)},beginChanges:function(){this.allContent.beginBatchedChanges()},endChanges:function(){this.allContent.endBatchedChanges()},addItem:function(e){this._allContentSet.has(e)||(this.isVirtual||(e.parentId=this.folder.id),this._allContentSet.add(e),this.allContent.add(e))},addItems:function(e){this.beginChanges();for(var t=0,n=e.length;t<n;t++)this.addItem(e[t]);this.endChanges()},removeItem:function(e){this._allContentSet.has(e)&&(this.isVirtual||(e.parentId=null),this._allContentSet.delete(e),this.allContent.remove(e))},removeItems:function(e){this.beginChanges();for(var t=0,n=e.length;t<n;t++)this.removeItem(e[t]);this.endChanges()},updateItem:function(e){this.beginChanges(),this.removeItem(e),this.addItem(e),this.endChanges()},startRemoteSynchronization:function(){this.isRemoteSyncing||(this.isRemoteSyncing=!0,this._scheduleNextSync())},stopRemoteSynchronization:function(){this.isRemoteSyncing&&(this._cancelScheduledSync(),this.isRemoteSyncing=!1)},shouldAllowSync:v.g({readOnly:!0,dependencies:["isRemoteSyncing","hasLoadedContent","isLoading","transactionCount"],get:Object.assign((function(){return!(!this.isRemoteSyncing||!this.hasLoadedContent||this.isLoading||this._syncPromise||this.transactionCount>0)}),{__CW__getter:function(e,t,n,r){return!(!r.internalGet(this,t[0+n])||!r.internalGet(this,t[1+n])||r.internalGet(this,t[2+n])||this._syncPromise||r.internalGet(this,t[3+n])>0)}})}),_scheduleNextSync:function(){if(this.shouldAllowSync){var e,t=this._syncScheduleStart;Number.isFinite(t)?(e=3e4-(Date.now()-this._syncScheduleStart))<0&&(e=0):(t=this._syncScheduleStart=Date.now(),e=3e4);var n=this;this._syncTimeoutHandle=setTimeout((function(){n.sync()}),e)}},_cancelScheduledSync:function(){this._syncTimeoutHandle&&(clearTimeout(this._syncTimeoutHandle),this._syncTimeoutHandle=null)},sync:function(){return this._syncScheduleStart=null,this.shouldAllowSync?this._forceSync():b.a.resolve(!1)},_forceSync:function(){var e=this;if(this._syncPromise)return this._syncPromise;this._cancelScheduledSync();var t=this._syncPromise=this._fileSystem.fetchFolderContentChangeSet({folder:this.folder}).then((function(n){if(!e._syncPromise||t===e._syncPromise){var r=n.data;n.ok?e._fetchFolderContentChangeSetDidResolve(r):e._fetchedFolderContentChangeSetDidReject(r)}}));return t},_fetchFolderContentChangeSetDidResolve:function(e){var t=this;this._syncPromise&&(!0===e.folderWasUnshared&&this.handleRemoteFolderUnshare(),this.beginChanges(),e.forEach((function(e){var n=e.value;if(!n.isFile&&!n.isFolder&&!n.isAppLibrary)throw t._fileSystem.loggingService.recordStat("folderContentChangeItemInvalid",{invalidItemKeys:""+Object.keys(n).join(", ")}),new Error("Folder content change item is invalid");switch(e.action){case Jh.Action.Insert:t.addItem(n);break;case Jh.Action.Remove:t.removeItem(n);break;case Jh.Action.Update:t.updateItem(n)}})),this.endChanges(),this._syncPromise=null,this._scheduleNextSync())},_fetchedFolderContentChangeSetDidReject:function(e){this._syncPromise=null,this._scheduleNextSync(),e.body.type===Af.Unshared&&this.handleRemoteFolderUnshare()},loadAllContent:function(){var e=this;if(this.isLoading)return this._fetchFolderContentPromise;this.loadState=Nf.Loading,this._cancelScheduledSync();var t=this._fileSystem.fetchFolderContent({folder:this.folder}).then((function(t){e._fetchFolderContentPromise=null;var n=t.data;return t.ok?e._fetchFolderContentDidComplete(n):e._fetchFolderContentDidFail(n),t}));return this._fetchFolderContentPromise=t,t},_fetchFolderContentDidComplete:function(e){this.loadState=Nf.NotLoading,this.dataState=Mf.Loaded,this.beginChanges();var t=e.items;this.isVirtual||t.forEach((function(e){var t=e.parent;null!==e.parentId&&yt.a(t)&&t.content.removeItem(e)})),this.addItems(t),this.endChanges(),this._scheduleNextSync()},_fetchFolderContentDidFail:function(e){this.loadState=Nf.NotLoading,this.dataState=Mf.Error},prepareForTransaction:function(){this.transactionCount++,this._cancelScheduledSync(),this._syncPromise=null},finalizeForTransaction:function(){this.transactionCount--,0===this.transactionCount&&this._scheduleNextSync()},__superMap:{_$2WN$init:"init"}}),Rf=Ph.extend({staticMembers:{createPlaceholder:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Eh,r=arguments.length>3?arguments[3]:void 0;return this.__s._$JX$createPlaceholder.call(this,e,t,n,r)},isBrowseRootFolder:function(e){return e===Hu},__superMap:{_$JX$createPlaceholder:"createPlaceholder"},__QUALIFIED_CLASS_NAME__:"Folder"},numberOfItems:uh(),sharedByMeCount:uh({dataKey:"shareCount"}),fileCount:uh(),sharedToMeCount:uh({dataKey:"shareAliasCount"}),assetQuota:uh(),supportedExtensions:uh(),canModifyContents:v.g(!0),fullName:v.g({readOnly:!0,dependencies:[".name"],get:function(){return this.name}}),isDriveRoot:v.g({dependencies:["id"],readOnly:!0,get:Object.assign((function(){return this.id===Hu}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===Hu}})}),isBrowseRoot:v.g({dependencies:["id"],readOnly:!0,get:Object.assign((function(){return this.constructor.isBrowseRootFolder(this.id)}),{__CW__getter:function(e,t,n,r){return this.constructor.isBrowseRootFolder(r.internalGet(this,t[0+n]))}})}),isTrashRoot:v.g({dependencies:["id"],readOnly:!0,get:Object.assign((function(){return this.id===Gu}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===Gu}})}),isInTrash:v.g({dependencies:ut.a(["isTrashRoot"]),get:function(){var e=this.isTrashRoot;return e||(e=this.__s._$uR$get.apply(this,arguments)),e},__superMap:{_$uR$get:"get"}}),isSystemFolder:y.c({readOnly:!0,get:function(){var e=function(e){return e===Hu||e===Gu},t=this.sanitizedName,n=e(this.id),r=e(this.parentId);return n||r&&("Desktop"===t||"Documents"===t)}}),sanitizedName:uh({dataKey:"name",decode:function(e){return this.isAppLibrary?Zu(this.getDataHash()):e}}),name:v.g({dependencies:["sanitizedName","zone"],get:Object.assign((function(){var e=Sr.a.sharedInstance,t=this.sanitizedName;if(this.isSystemFolder){if(this.isDriveRoot)return Sr.d("DriveFS.RootFolderName");if(this.isTrashRoot)return Sr.d("DriveFS.Default.FolderName.RecentlyDeleted");var n="DriveFS.LocalizedItemName."+t;if(e.hasValue(n))return Sr.d(n)}else if(this.zone){var r="DriveFS.LocalizedAppLibraryName."+this.zone.toLowerCase();if(this.isAppLibrary&&e.hasValue(r))return Sr.d(r)}return kf(t)}),{__CW__getter:function(e,t,n,r){var i=Sr.a.sharedInstance,a=r.internalGet(this,t[0+n]);if(this.isSystemFolder){if(this.isDriveRoot)return Sr.d("DriveFS.RootFolderName");if(this.isTrashRoot)return Sr.d("DriveFS.Default.FolderName.RecentlyDeleted");var o="DriveFS.LocalizedItemName."+a;if(i.hasValue(o))return Sr.d(o)}else if(r.internalGet(this,t[1+n])){var s="DriveFS.LocalizedAppLibraryName."+r.internalGet(this,t[1+n]).toLowerCase();if(this.isAppLibrary&&i.hasValue(s))return Sr.d(s)}return kf(a)}}),set:Object.assign((function(e){return(this.isFile||this.isFolder)&&(e=e.replace(/\//g,":")),this.sanitizedName=e,e}),{__CW__setter:function(e,t,n,r,i){return(this.isFile||this.isFolder)&&(e=e.replace(/\//g,":")),n[0+r]=e,e}}),writeDependencySetPathMap:[!1]}),icons:uh(),content:v.g({readOnly:!0,get:function(){var e=this._folderContent;return e||(e=this._folderContent=this.loadFolderContent()),e}}),isVirtual:v.g(!1),getAllDescendents:function(){return Lf(this,new Set)},loadFolderContent:function(){return Df.create(this)},acceptsItems:function(e){var t=this,n=this.transactionState===bh.Prepared,r=this.canModifyContents,i=jh(this),a=this.isSharedToMe&&yt.a(this.fullShareRecordHash)&&"READ_ONLY"===ol.a(this,"fullShareRecordHash.currentUserParticipant.permission");if(!n||!r||i||a)return!1;var o=this.depth,s=this.zone,c=this.acceptsFilesWithExtension.bind(this);return!e.some((function(e){return function(e){return e===t}(e)||function(e){return e.parent===t}(e)||function(e){return!e.canBeMoved}(e)||function(e){return(e.isFolder||e.share===wh.TO_ME)&&e.zone!==s||e.isFile&&!c(e.extension)}(e)||function(e){return e.isFolder&&e.depth+o>60}(e)}))},acceptsFilesWithExtension:function(e){var t=this.isAppLibrary?this:this.getContainingAppLibrary();if(t){var n=t.supportedExtensions,r=e?e.toLowerCase():null;if(n&&n.indexOf(r)<0)return!1}return!0},getContainingAppLibrary:function(){for(var e=this.parent;e;){if(e.isAppLibrary)return e;e=e.parent}return null},getAppLibrary:function(){if(this.isAppLibrary)return this;for(var e=this.parent;e;){if(e.isAppLibrary)return e;e=e.parent}return null},prepareForTransaction:function(e){this.content.prepareForTransaction(e)},finalizeForTransaction:function(e){this.content.finalizeForTransaction(e)}});function Lf(e,t){for(var n=e.content,r=0;r<n.length;r++){var i=n.objectAt(r);t.add(i),(i.isFolder||i.isAppLibrary)&&Lf(i,t)}return t}function kf(e){var t=e;return t&&(t=(t=t.replace(/:/g,"/")).replace(/(\n|\r)/g," ")),t||""}function xf(e,t){var n,r,i=Dd();switch(xh.getItemForValue(e.type)){case xh.FILE:n=qh;var a=e.extension;e.extension=a?a.toLowerCase():a;break;case xh.FOLDER:case xh.APP_LIBRARY:n=Rf}!e.drivewsid&&e.id&&(e.drivewsid=e.id);var o=e.drivewsid,s=e.item_id;i.__loadItemIntoStore__idMap||(i.__loadItemIntoStore__idMap=new Map);var c=i.__loadItemIntoStore__idMap;if(s&&!c.has(o)?c.set(o,s):!s&&c.has(o)?e.item_id=c.get(o):s||(e.item_id=null),n){if(r=e.id=o,delete e.drivewsid,e.parentId||(e.parentId=null),e.share&&!e.share_info&&n===qh){var l,u=null==(l=qh.find(e.id))?void 0:l.getDataHash().share_info;u&&!e.share_info&&(e.share_info=u)}i.loadData(n,e)}else null==t||t.recordStat("unsupportedItemTypeReceived",{type:e.type});return r}function Ff(e,t){var n=[];return Object(bd.a)((function(){e.forEach((function(e){var r=xf(e,t);r&&n.push(r)}))})),n}var Pf=["drivewsid"];function jf(e,t){var n="hierarchy"in e&&e.hierarchy||[],r=n.findIndex((function(e){return e.drivewsid===Hu})),i=n.slice(r>=0?r:n.length).map((function(e){var t=e.drivewsid,n=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Pf);return Object.assign({id:t},n)}));return i.some((function(e){return!e.id}))&&t("DriveWS: Response hierarchy item is missing id"),i.length?i:null}function Uf(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e.ok?Bf.parseResponseData(e.data,t,n,r):(null!=t&&t.isSharedDirectlyOrIndirectly&&n.loggingService.recordStat("FailedRetrieveItemDetailsInFolderForSharedFolder"),e)}var Bf=_d.extend({staticMembers:{handleRetrieveItemDetailsInFoldersResponse:Uf,parseResponseData:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n.loggingService,a=function(){return i.recordStat(...arguments)},o=e[0];if("drivewsid"in o||i.recordStat("RetrieveItemDetailsInFoldersMissingId",{responseKeys:""+Object.keys(o).join(", "),failedStatus:o.status}),!("drivewsid"in o)||"TRASH_ROOT"!==o.drivewsid&&"OK"!==o.status)return function(e,t,n){var r=Sd.read(e),i=function(){for(var t=0,n=e;n;){var r;t+=1,n=null==(r=Sd.read(n))?void 0:r.parentId}return t}();n("RetrieveItemDetailsInFoldersErrorStatus",{folderInfo:"systemFolder: "+(e===Hu?"root":e===Gu?"trash":"no")+", status: "+t+", share: "+(null==r?void 0:r.share)+", level: "+i+", type: "+(null==r?void 0:r.type)});var a="ID_INVALID"===t&&null!=r&&r.share&&r.shareID?Af.Unshared:Af.Unknown;return eu.failedResult({type:a})}(t.id,o.status,a);var s=o.drivewsid,c=r.partialData?{items:(o.items||[]).map((function(e){return{id:e.drivewsid,etag:e.etag}})),folderInfo:Object.assign({},o,{id:s})}:Object(bd.a)((function(){return function(e,t,n){var r,i=Object.assign({},t,function(e,t){return e===Hu?{name:Sr.d("DriveFS.RootFolderName")}:"name"in t?{name:t.name}:null}(e,t),function(e,t){return e===Hu?{parentId:null}:"parentId"in t?{parentId:t.parentId}:null}(e,t),{id:e}),a=i,o=n.loggingService;if(e!==md.trashRootFolderId&&(e=xf(i,o))&&(a=n.getItemById(e)),(null==(r=t.items)?void 0:r.length)>0&&Object.keys(t.items[0]).length>3){var s=t.items.filter((function(e){return!e.item_id})).length;s&&o.recordStat("itemResponseMissingItemId",{idlessCount:s})}var c=Ff((t.items||[]).map((function(t){return Object.assign({},t,{parentId:e})})),o);return{items:n.getItemsByIds(c),folderInfo:a}}(s,o,n)})),l=c.items,u=c.folderInfo;return eu.okResult({items:l,folderInfo:u,hierarchy:jf(o,a)})},__QUALIFIED_CLASS_NAME__:"FolderContentQuery"},folderID:null,partialData:!1,includeHierarchy:!1,init:function(e,t,n){this.fileSystem=e,this.folderID=t,this.__s._$1H5$init.call(this,n)},run:function(e){var t=this.folderID,n=this.partialData,r=this.includeHierarchy,i=this.fileSystem,a={drivewsid:t,partialData:n,includeHierarchy:r},o=i.getItemById(t);return o&&"isSharedToMe"in o&&o.shareIDFromHierarchy&&(a.shareID=o.shareIDFromHierarchy),this.post("retrieveItemDetailsInFolders",[a],e).then((function(e){return Uf(e,o,i,{partialData:n,includeHierarchy:r})}))},post:function(e,t,n){return n.post(e,t)},willFinishProcessingSuccessfulResponse:yd.a,__superMap:{_$1H5$init:"init"}}),Vf=_d.extend({itemInfos:null,init:function(e,t,n){this.fileSystem=e,this.itemInfos=t,this.__s._$O6$init.call(this,n)},run:function(e){var t=this,n=this.itemInfos,r=n.map((function(e){var t=e.id,n=e.shareID,r={drivewsid:t};return yt.a(n)&&(r.shareID=n),r}));return e.post("retrieveItemDetails",{items:r},null,this.trace).then((function(e){if(e.ok){var r=t.fileSystem,i=e.data.items,a=i.find((function(e){return e.drivewsid===Hu}));yt.a(a)&&(a.parentId=null);var o=Ff(i,r.loggingService);return eu.okResult(o.map((function(e){return r.getItemById(e)})))}return n[0]&&n[0].shareID&&t.fileSystem.loggingService.recordStat("FailedToAccessRetrieveItemDetailsForSharedItem",{message:e.data.message}),e}))},__superMap:{_$O6$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ItemDetailsQuery"}}),Wf=S.b("RootFolderQueryMode",(function(e){e("AllContent"),e("DetailsOnly")})),zf=Wf,Hf=_d.extend({init:function(e,t){this.fileSystem=e,this.__s._$DO$init.call(this,t)},fileSystem:null,staticMembers:{Mode:Wf,__QUALIFIED_CLASS_NAME__:"RootFolderQuery"},queryMode:zf.AllContent,run:function(e){switch(this.queryMode){case zf.AllContent:return this._queryAllContent(e);case zf.DetailsOnly:return this._queryDetailsOnly(e);default:throw new au("Cannot query. Invalid query mode",{query:this})}},_queryAllContent:function(e){return Bf.create(this.fileSystem,md.driveRootFolderId).run(e).then((function(e){if(e.ok){var t=e.data,n=t.folder,r=t.items,i=n.content;return i.loaded(),i.addItems(r),eu.okResult(n)}return e}))},_queryDetailsOnly:function(e){var t=this.fileSystem;return Vf.create(t,[{id:Hu}],{trace:"3"}).run(e).then((function(e){return e.ok?eu.okResult(e.data[0]):e}))},__superMap:{_$DO$init:"init"}});function Gf(e,t,n,r,i,a,o){return $f(t,n,r,i,a,o).then((function(s){var c=s.ok,l=s.data;if(c)return l.accessType===Jl.NEEDS_ZONE?e.createZone().then((function(s){if(s.ok)return Gf(e,t,n,r,i,a,o);var c="Unable to create zone: Error: "+s.data;return a.recordStat(c),eu.failedResult({accessType:Jl.NONE.STARTUP_ERROR})})):eu.okResult(l);a.recordStat("validateDriveAccessFailed",{errorStatus:null==l?void 0:l.status});var u=null==l?void 0:l.type,d=u===Af.PCSMissing?Jl.NONE.PCS_MISSING:u===Af.PCSInvalid?Jl.NONE.PCS_INVALID:Jl.NONE.STARTUP_ERROR;return eu.failedResult({accessType:d})}))}function $f(e,t,n,r,i,a){var o=ol.a(dt,"application.hostInfo.cloudOSState.environment");if(Boolean(globalThis.DRIVE_DEBUG_MIGRATION)&&("ICLOUD1"===o||"ICLOUD2"===o||"ICLOUD3"===o))return Promise.resolve(eu.okResult({accessType:Jl.MIGRATION.NOT_STARTED}));var s=function(e){var t;return"active"===(null==(t=e.webServices.drivews)?void 0:t.status)}(n),c=Kf(n);return s&&c?yt.a(r)?Promise.resolve(eu.okResult({accessType:Jl.FULL_ACCESS.WARM_BOOT})):Qf(e,t,i,n,a):s&&!c?Qf(e,t,i,n,a):Yf(e,t,i)}function Kf(e){return Boolean(e.dsInfo.brMigrated)}async function Qf(e,t,n,r,i){var a=await function(e){return Hf.create(e,{queryMode:Hf.Mode.DetailsOnly}).run(e.driveWebService)}(i),o=a.data;return a.ok?(Kf(r)||(async function(e,t,n){(await e.fetchJson(t("account","setup/ws/1/updateAccount"),{body:JSON.stringify({brMigrated:!0}),headers:{"Content-Type":"text/plain"},method:"POST",schemaName:"DriveUpdateAccount",schema:qf})).ok||n.recordStat("Failed to update setup service migrated state")}(e,t,n),r.dsInfo.brMigrated=!0),eu.okResult({accessType:Jl.FULL_ACCESS.COLD_BOOT,rootFolder:o})):402===o.status?4===r.dsInfo.statusCode?eu.okResult({accessType:Jl.NEEDS_ZONE}):Yf(e,t,n):eu.failedResult(o)}var qf=mo(),Zf=wo({name:Lo(["NOT_NEEDED","DONE","NONE","FAILED","START","MIGRATING"]),id:oo(),status:oo()});async function Yf(e,t,n){var r=await e.fetchJson(t("account","setup/ws/1/icd/migrate/status"),{method:"GET",schemaName:"DriveMigrationStatus",schema:Zf});if(!r.ok||"SUCCEEDED"!==r.value.status)return eu.failedResult(r.value);var i=r.value.name;switch(i){case"START":case"MIGRATING":return eu.okResult({accessType:Jl.MIGRATION.IN_PROGRESS});case"NOT_NEEDED":case"DONE":return eu.okResult({accessType:Jl.FULL_ACCESS.COLD_BOOT});case"NONE":case"FAILED":return eu.okResult({accessType:Jl.MIGRATION.NOT_STARTED});default:return n.recordStat("UnexpectedMigrationState",i),eu.okResult({accessType:Jl.MIGRATION.NOT_STARTED})}}var Xf=wo({status:so()}),Jf=n(1600);function ep(e,t){return ep=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ep(e,t)}var tp={copy:"onCopy",cut:"onCut",paste:"onPaste",compositionend:"onCompositionEnd",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",keydown:"onKeyDown",keypress:"onKeyPress",keyup:"onKeyUp",change:"onChange",input:"onInput",invalid:"onInvalid",submit:"onSubmit",click:"onClick",contextmenu:"onContextMenu",doubleclick:"onDoubleClick",drag:"onDrag",dragend:"onDragEnd",dragenter:"onDragEnter",dragexit:"onDragExit",dragleave:"onDragLeave",dragover:"onDragOver",dragstart:"onDragStart",drop:"onDrop",mousedown:"onMouseDown",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseover:"onMouseOver",mouseup:"onMouseUp",pointerover:"onPointerOver",pointerdown:"onPointerDown",pointermove:"onPointerMove",pointerup:"onPointerUp",pointerout:"onPointerOut",pointercancel:"onPointerCancel",select:"onSelect",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",scroll:"onScroll",wheel:"onWheel",abort:"onAbort",canplay:"onCanPlay",canplaythrough:"onCanPlayThrough",durationchange:"onDurationChange",emptied:"onEmptied",encrypted:"onEncrypted",ended:"onEnded",error:"onError",loadeddata:"onLoadedData",loadedmetadata:"onLoadedMetadata",loadstart:"onLoadStart",pause:"onPause",play:"onPlay",playing:"onPlaying",progress:"onProgress",ratechange:"onRateChange",seeked:"onSeeked",seeking:"onSeeking",stalled:"onStalled",suspend:"onSuspend",timeupdate:"onTimeUpdate",volumechange:"onVolumeChange",waiting:"onWaiting",load:"onLoad",animationstart:"onAnimationStart",animationend:"onAnimationEnd",animationiteration:"onAnimationIteration",transitionend:"onTransitionEnd",toggle:"onToggle"},np=function(e){var t,n;function r(t){var n;n=e.call(this,t)||this;var r=Array.from(dt.application.rootResponder._eventListeners.keys()).map((function(e){return tp[e]})).filter((function(e){return void 0!==e})),i=n.registerEvent.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n));return n.eventHandlers=r.reduce((function(e,t){var n;return Object.assign(e,((n={})[t]=i,n))}),{}),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,ep(t,n);var i=r.prototype;return i.registerEvent=function(e){this.props.eventRegistry.add(e.nativeEvent)},i.render=function(){var e=this.props.children;return Le.a.createElement("div",Object.assign({},this.eventHandlers),e)},r}(Le.a.Component),rp=n(1391),ip=n(1372),ap=n(1398),op=n(1451),sp=oe.a.extend(ap.a,rp.a,ip.a,op.a,{init:function(){this.element=document.createElement("div"),this.element.view=this,this.__s._$Ca$init.apply(this,arguments)},isFocusable:!0,nextResponder:Object(y.c)({get:function(e){return e||this.parent}}),__superMap:{_$Ca$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"RenderView"}}),cp=function(e){var t=e.children,n=e.didRender;return Re.useLayoutEffect((function(){return n&&n()})),Re.createElement(Re.Fragment,null,t)},lp=sp.extend({staticMembers:{decorators:[],__QUALIFIED_CLASS_NAME__:"ReactView"},displayName:"",render:G.a.define(),unhandledEvents:new Set,handleEvent:function(e,t){var n=this,r=!1;if(t){var i=t.nativeEvent||t;i.target&&(r=!this.unhandledEvents.has(i))}null===this._clearUnhandledEventsTimeout&&(this._clearUnhandledEventsTimeout=setTimeout((function(){n._clearUnhandledEventsTimeout=null,n.unhandledEvents.clear()}),0));for(var a=this[e],o=arguments.length,s=new Array(o>2?o-2:0),c=2;c<o;c++)s[c-2]=arguments[c];return!r&&a?r=a.call(this,t,...s):"didReceiveFocus"!==e&&"didReceiveBlur"!==e||(r=!!a&&a.call(this,t,...s)),r},_clearUnhandledEventsTimeout:null,shouldUnmountOnDetach:Object(y.c)({defaultValue:!0,readOnly:!0}),isAttached:Object(v.g)(Object(_.c)("parent.isAttached")),_reactRoot:Object(y.c)(),_mountOrUnmountOnIsAttachedChange:Object(v.h)("isAttached",(function(e){this.shouldUnmountOnDetach&&(e?this.renderDOM():this._unmount())})),_unmount:function(){dt.application&&(dt.application.useConcurrentMode?this._reactRoot&&(this._reactRoot.unmount(),this._reactRoot=void 0):ke.unmountComponentAtNode(this.element))},_componentWrapper:Object(v.g)({readOnly:!0,get:function(){var e=this.render;if(e.prototype&&e.prototype.isReactComponent)return e;var t=e.bind(this);return t.displayName=this.displayName||this.constructor.name,t}}),_componentDecorator:Object(v.g)({readOnly:!0,get:function(){var e=this.constructor.decorators,t=this._componentWrapper;return e.reduceRight((function(e,t){return function(){return t(e)}}),t)}}),_renderPromise:null,renderDOM:function(){var e=this;if(this._renderPromise)return this._renderPromise;var t=this._renderPromise=Promise.resolve().then((function(){e._renderPromise!==t||e.isDisposed||e.isDisposing||(e._renderPromise=null,e._actuallyRenderDOM())}))},didRenderDOM:yd.a,_didRenderDOMBound:Object(y.c)((function(){return this.didRenderDOM.bind(this)})),_actuallyRenderDOM:function(){if(!this.isDisposed&&!this.isDisposing&&(!this.shouldUnmountOnDetach||this.isAttached)&&dt.application&&!dt.application.isDisposed&&!dt.application.isDisposing&&dt.application.rootResponder&&!dt.application.rootResponder.isDisposed&&!dt.application.rootResponder.isDisposing){var e={viewParent:this,viewControllerParent:up(this)},t=this._componentDecorator,n=Re.createElement(je.Provider,{value:e},Re.createElement(ot.Provider,{value:dt.application._reactPaneDispatcher},Re.createElement(np,{eventRegistry:this.unhandledEvents},Re.createElement(cp,{didRender:this._didRenderDOMBound},Re.createElement(t,null)))));if(dt.application.useConcurrentMode&&dt.application.createRoot){var r=this._reactRoot;r||(r=dt.application.createRoot(this.element),this._reactRoot=r),r.render(n)}else ke.render(n,this.element)}},cleanup:function(){this._renderPromise=null,this._unmount(),this.__s._$3U5$cleanup.apply(this,arguments)},__superMap:{_$3U5$cleanup:"cleanup"}});function up(e){for(var t=e;t;){if(t.viewController)return t.viewController;t=t.parent}return null}var dp=n(1452);function hp(e){var t=fp(e),n=Object(Re.useState)((function(){return t.matches})),r=n[0],i=n[1];return function(e,t){var n=fp(e),r=Object(Re.useRef)(t);Object(Re.useLayoutEffect)((function(){r.current=t}),[t]),Object(Re.useLayoutEffect)((function(){var e=function(){return r.current(n.matches)},t="addEventListener"in n;return t?n.addEventListener("change",e):n.addListener(e),r.current(n.matches),function(){t?n.removeEventListener("change",e):n.removeListener(e)}}),[n])}(t,i),r}function fp(e){return Object(Re.useMemo)((function(){return"string"===typeof e?window.matchMedia(e):e}),[e])}function pp(){var e=function(){var e=Object(Re.useContext)(vp);return Le.a.useMemo((function(){return gp&&gp[0]===e||(gp=[e,window.matchMedia("screen and (max-width: "+e+"px)")]),gp[1]}),[e])}(),t=Object(Re.useContext)(mp),n=hp(e);return t||(n?"compact":"regular")}var gp,mp=Le.a.createContext(void 0),vp=Le.a.createContext(667);var yp=Re.forwardRef((function(e,t){var n=e.variant,r=void 0===n?"standard":n,i=e.className,a=e.id,o=e.style,s=e.description,c=e.ariaHidden,l=e.nibStyle,u=e.size,d=void 0===u?0:u,h=e.tabIndex,f=Be()(r,i),p=d>0?{fontSize:d+"px"}:{};return Re.createElement("ui-activity-indicator",{ref:t,role:"progressbar",class:f,id:a,style:Object.assign({},o,p),"aria-label":s,"aria-hidden":c,tabindex:h},Re.createElement("ui-spinner-nib",{style:l}),Re.createElement("ui-spinner-nib",{style:l}),Re.createElement("ui-spinner-nib",{style:l}),Re.createElement("ui-spinner-nib",{style:l}),Re.createElement("ui-spinner-nib",{style:l}),Re.createElement("ui-spinner-nib",{style:l}),Re.createElement("ui-spinner-nib",{style:l}),Re.createElement("ui-spinner-nib",{style:l}))}));function _p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,bp(e,t)}function bp(e,t){return bp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bp(e,t)}var wp=function(e,t){this.key=e,this.payload=t};function Sp(e){return function(t){function n(n){return t.call(this,e,n)||this}return _p(n,t),n}(wp)}var Ep=function(e){function t(){return e.apply(this,arguments)||this}return _p(t,e),t}(Sp("labelId")),Ip=function(e){function t(){return e.apply(this,arguments)||this}return _p(t,e),t}(Sp("activationStart")),Cp=function(e){function t(){return e.apply(this,arguments)||this}return _p(t,e),t}(Sp("activationEnded")),Op=function(e){function t(){return e.apply(this,arguments)||this}return _p(t,e),t}(Sp("activationCompleted")),Tp=function(e){function t(){return e.apply(this,arguments)||this}return _p(t,e),t}(Sp("activationCancelled")),Ap=function(){function e(){this.labelToComponentMap=new Map,this.componentToLabelsMap=new Map,this.componentHandlerMap=new Map}var t=e.prototype;return t.connectLabel=function(e,t){var n=this.labelToComponentMap,r=this.componentToLabelsMap;n.set(e,t),r.has(t)||r.set(t,new Set),r.get(t).add(e)},t.disconnectLabel=function(e){var t=this.labelToComponentMap,n=this.componentToLabelsMap,r=t.get(e);Np(r)&&(t.delete(e),n.get(r).delete(e))},t.registerLabel=function(e,t){this.connectLabel(e,t),this.passMessage(t,new Ep(e))},t.unregisterLabel=function(e){var t=this.labelToComponentMap.get(e);this.disconnectLabel(e),Np(t)&&this.passMessage(t,new Ep(""))},t.registerComponent=function(e,t){if(this.componentHandlerMap.has(e))throw new Error('A component with id "'+e+'" was already registered.');if(this.componentHandlerMap.set(e,t),this.componentToLabelsMap.get(e)){var n=this.componentToLabelsMap.get(e);for(var r of Array.from(n))this.passMessage(e,new Ep(r))}},t.unregisterComponent=function(e,t){if(this.componentHandlerMap.has(e)){if(t!==this.componentHandlerMap.get(e))throw new Error('The original callback is required to unregister "'+e+'"');this.componentHandlerMap.delete(e)}},t.transmitMessage=function(e,t){if(!this.labelToComponentMap.has(e))throw new Error("Label with id '"+e+"' was not registered.");var n=this.labelToComponentMap.get(e);this.passMessage(n,t)},t.passMessage=function(e,t){this.componentHandlerMap.has(e)&&this.componentHandlerMap.get(e)(t)},e}();function Np(e){return"string"===typeof e}function Mp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dp(r.key),r)}}function Dp(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}function Rp(e,t){return Rp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rp(e,t)}var Lp=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).userActivated=!1,n.touchHover=!1,n.startActivation=function(e){e.nativeEvent.preventDefault(),n.messageTransmitter.transmitMessage(n.labelId,new Ip)},n.endActivation=function(e){e.nativeEvent.preventDefault(),n.messageTransmitter.transmitMessage(n.labelId,new Cp)},n.completeActivation=function(e){e.nativeEvent.preventDefault(),n.messageTransmitter.transmitMessage(n.labelId,new Op)},n.cancelActivation=function(e){e.nativeEvent.preventDefault(),n.messageTransmitter.transmitMessage(n.labelId,new Tp)},n.startMouseInteraction=function(e){e.nativeEvent.preventDefault(),n.userActivated=!0,n.startActivation(e),document.addEventListener("mouseup",n.detectDetachedMouseInteraction,!0)},n.endMouseInteraction=function(e){n.userActivated&&(e.nativeEvent.preventDefault(),n.endActivation(e),n.completeActivation(e),n.userActivated=!1,document.removeEventListener("mouseup",n.detectDetachedMouseInteraction,!0))},n.suspendMouseInteraction=function(e){n.userActivated&&(e.nativeEvent.preventDefault(),n.endActivation(e))},n.resumeMouseInteraction=function(e){n.userActivated&&(e.nativeEvent.preventDefault(),n.startActivation(e))},n.detectDetachedMouseInteraction=function(e){var t=n.ref.current;t&&t===e.target&&t.contains(e.target)||(n.userActivated=!1,document.removeEventListener("mouseup",n.detectDetachedMouseInteraction,!0))},n.startTouchInteraction=function(e){e.nativeEvent.preventDefault(),n.userActivated=!0,n.touchHover=!0,n.startActivation(e)},n.endTouchInteraction=function(e){e.nativeEvent.preventDefault(),n.userActivated=!1,n.touchHover=!1,n.endActivation(e),kp(e.nativeEvent,n.ref.current)?n.completeActivation(e):n.cancelActivation(e)},n.cancelTouchInteraction=function(e){e.nativeEvent.preventDefault(),n.userActivated=!1,n.touchHover=!1,n.endActivation(e),n.cancelActivation(e)},n.detectTouchHover=function(e){var t=e.nativeEvent;if(t.preventDefault(),n.ref.current){var r=kp(t,n.ref.current);r&&!n.touchHover?(n.touchHover=!0,n.startActivation(e)):!r&&n.touchHover&&(n.touchHover=!1,n.endActivation(e))}},n.labelId=n.props.id||"ui-label-"+Math.random().toString(36).substr(2,5),n.ref=Re.createRef(),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Rp(t,n);var i,a,o=r.prototype;return o.componentDidMount=function(){var e,t=this.props;"htmlFor"in t?e=t.htmlFor:(console.warn("The `for` property is deprecated, please use `htmlFor` instead."),e=t.for),this.messageTransmitter.registerLabel(this.labelId,e)},o.UNSAFE_componentWillUpdate=function(e){var t,n=this.messageTransmitter,r=this.labelId,i=this.props,a=!1;t="htmlFor"in i?i.htmlFor:i.for,"htmlFor"in e&&e.htmlFor!==t?(t=e.htmlFor,a=!0):"for"in e&&e.for!==t&&(t=e.for,a=!0),e.id&&e.id!==i.id&&(n.unregisterLabel(r),this.labelId=e.id,a=!0),a&&n.registerLabel(this.labelId,t)},o.componentWillUnmount=function(){this.messageTransmitter.unregisterLabel(this.labelId)},o.render=function(){var e,t=this.props;return e="htmlFor"in t?t.htmlFor:t.for,Re.createElement("ui-label",{id:this.labelId,for:e,ref:this.ref,class:t.className,style:t.style,onMouseDown:this.startMouseInteraction,onMouseUp:this.endMouseInteraction,onMouseOut:this.suspendMouseInteraction,onMouseEnter:this.resumeMouseInteraction,onTouchStart:this.startTouchInteraction,onTouchMove:this.detectTouchHover,onTouchEnd:this.endTouchInteraction,onTouchCancel:this.cancelTouchInteraction},t.children)},i=r,(a=[{key:"messageTransmitter",get:function(){return r.messageTransmitter}}])&&Mp(i.prototype,a),Object.defineProperty(i,"prototype",{writable:!1}),r}(Re.Component);function kp(e,t){var n=e.changedTouches,r=n[0]||n.item(0);if(!r)return!1;var i=t.getBoundingClientRect(),a=r.clientX>=i.left&&r.clientX<=i.right,o=r.clientY>=i.top&&r.clientY<=i.bottom;return a&&o}function xp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Re.useMemo((function(){return Lp.messageTransmitter}),[]),r=Re.useState(void 0),i=r[0],a=r[1],o=Re.useRef(t);o.current=t;var s=Re.useCallback((function(e){var t,n,r,i,s=o.current;if(e instanceof Ep){var c=e.payload;s.onLabelId&&s.onLabelId(c),a(c)}else e instanceof Ip?null===(t=s.onActivationStart)||void 0===t||t.call(s):e instanceof Cp?null===(n=s.onActivationEnd)||void 0===n||n.call(s):e instanceof Op?null===(r=s.onActivationComplete)||void 0===r||r.call(s):e instanceof Tp&&(null===(i=s.onActivationCancel)||void 0===i||i.call(s))}),[]);return Re.useEffect((function(){if(e)return n.registerComponent(e,s),function(){n.unregisterComponent(e,s)}}),[e,n,s]),i}Lp.messageTransmitter=new Ap;var Fp=null,Pp=null;function jp(e){var t=e.active,n=e.disabled,r=e.className,i=e.onActivate,a=e.onActivationStart,o=e.onActivationEnd,s=e.onActivationCancel,c=e.tabIndex,l=e.variant;return{"aria-disabled":n||void 0,class:Be()(l,{active:t},r),tabindex:n?void 0:e.hasOwnProperty("tabIndex")?c:0,ontouchstart:"void(0)",onClick:function(e){n||i(e)},onKeyDown:function(e){if(" "===e.key&&e.preventDefault(),!n)switch(e.key){case" ":Fp!==e.target&&(Fp=e.target,a&&a());break;case"Enter":e.stopPropagation(),Pp=e.target}},onKeyUp:function(e){if(!n)switch(e.key){case" ":Fp===e.target&&(Fp=null,i(e),o&&o());break;case"Enter":Pp===e.target&&(Pp=null,e.stopPropagation(),i(e))}},onBlur:function(e){Fp===e.target&&s&&s(),Fp=null,Pp=null}}}function Up(){Bp||(Bp=window.matchMedia("(pointer: coarse)")),Vp||(Vp=window.matchMedia("(pointer: none)"));var e=hp(Bp),t=hp(Vp);return Object(Re.useContext)(Wp)||(e?"pointer-coarse":t?"pointer-none":"pointer-fine")}var Bp,Vp,Wp=Object(Re.createContext)(void 0),zp=function(){return"pointer-coarse"===Up()},Hp=function(){return zp()?"icloud-touch":"icloud-mouse"},Gp=Re.forwardRef((function(e,t){var n=e.variant,r=e.children,i=e.destructive,a=e.onActivate,o=e.submit,s=e.className,c=e.id,l=e.disabled,u=e.style,d=e.tabIndex,h=e.tooltip,f=e.ariaLabel,p=e.ariaHasPopup,g=e.ariaDescribedBy,m=e.ariaHidden,v=e.ariaLabelledBy,y=Re.useRef(null),_=Re.useState(!1),b=_[0],w=_[1],S=function(){l||w(!0)},E=function(){l||w(!1)},I=function(){l||w(!1)},C=function(e){null===e||void 0===e||e.stopPropagation(),l||y.current.click()},O=xp(c,{onActivationStart:S,onActivationEnd:E,onActivationComplete:C,onActivationCancel:I}),T=jp(Object.assign({active:b,disabled:l,className:Be()(s,i?"destructive":void 0,Hp())},e.hasOwnProperty("tabIndex")?{tabIndex:d}:{},{onActivate:C,onActivationStart:S,onActivationEnd:E,onActivationCancel:I,variant:n||"push primary"}));return Re.createElement("ui-button",Object.assign({},T,{id:c,style:u,title:h,role:"button",ref:t,"aria-labelledby":v||(f?void 0:O),"aria-disabled":l,"aria-label":f,"aria-haspopup":p,"aria-describedby":g,"aria-hidden":m}),Re.createElement("button",{ref:y,type:o?"submit":"button",disabled:l,tabIndex:-1,onClick:function(e){e.stopPropagation(),a&&a()}}),r)}));function $p(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(Re.useCallback)((function(t){e.forEach((function(e){!function(e,t){"function"===typeof e?e(t):e&&(e.current=t)}(e,t)}))}),function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}(e))}var Kp,Qp=Re.forwardRef((function(e,t){var n,r=e.id,i=e.variant,a=e.className,o=e.style,s=e.alt,c=e.crop,l=e.src,u=e.srcSet,d=e.sizes,h=e.loadingTimeout,f=e.onLoad,p=e.onLoadFailure,g=e.crossOrigin,m=e.decoding,v=e.ariaHidden,y=Re.useState("don't know yet"),_=y[0],b=y[1],w=Re.useRef(null);function S(){"loaded"!==_&&(b("loaded"),O.current&&(window.clearTimeout(O.current),O.current=null),f&&f())}Re.useLayoutEffect((function(){(l||u)&&w.current&&(w.current.complete?w.current.naturalHeight?E.current():C.current():b("loading"))}),[l,u]);var E=Re.useRef(S);function I(){"error"!==_&&(b("error"),T.current&&T.current(Kp.Error),O.current&&(window.clearTimeout(O.current),O.current=null))}E.current=S;var C=Re.useRef(I);C.current=I;var O=Re.useRef(null),T=Re.useRef(p);T.current=p;var A=Re.useRef(h);Re.useEffect((function(){if("loading"===_&&!O.current)return O.current=setTimeout((function(){"loading"===_&&(b("error"),T.current&&T.current(Kp.Timeout)),O.current=null}),A.current||1e4),function(){O.current&&(window.clearTimeout(O.current),O.current=null)}}),[_]);var N=Re.useRef(null),M=Re.useState(0),D=M[0],R=M[1];Re.useLayoutEffect((function(){N.current&&"loaded"===_&&c&&R(N.current.offsetWidth/c.width)}),[c,_,null===(n=N.current)||void 0===n?void 0:n.offsetWidth]);var L=Re.useMemo((function(){return D&&c?{transformOrigin:"left top",transform:"scale("+D+") translate("+-1*c.left+"px, "+-1*c.top+"px)",pointerEvents:"none"}:{pointerEvents:"none"}}),[c,D]),k=Re.useRef(!1);Re.useLayoutEffect((function(){k.current?(O.current&&(window.clearTimeout(O.current),O.current=null),b("don't know yet")):k.current=!0}),[l,u]);var x="loading"===_?"is-loading":"loaded"===_?"is-loaded":"error"===_?"load-failed":void 0;return Re.createElement("ui-image",{id:r,style:o,"aria-hidden":!!v||void 0,class:Be()(a,i||"standard",x),ref:$p(t,N),dir:"ltr"},Re.createElement("img",{ref:w,alt:s,src:l,srcSet:u,sizes:d,crossOrigin:g,decoding:m,draggable:!1,style:L,onLoad:S,onError:I}))}));Qp.displayName="UIImage",function(e){e.Error="ERROR",e.Timeout="TIMEOUT"}(Kp||(Kp={}));var qp="../6594f71a55f5910a24b856a58f367f49.jpg",Zp=function(e){var t=e.upgradeIsAlreadyInProgress,n=e.onUpgradeRequested,r=pp(),i="compact"===r,a=Au("UbiquityUpgrade.AltText"),o=Au("UbiquityUpgrade.Button.Done"),s=Au("NotMigrated.MigrationInProgress");return Re.createElement("div",{className:Be()("upgrade-to-drive-dialog",r)},Re.createElement("div",{className:"message-wrapper"},Re.createElement("div",{className:"message"},Re.createElement("h1",null,Au("UbiquityUpgrade.Header")),Re.createElement("p",null,Au("UbiquityUpgrade.Paragraph1")),Re.createElement("p",null,Au("UbiquityUpgrade.Paragraph2")),Re.createElement("div",{className:"below-message"},t?Re.createElement(Re.Fragment,null,Re.createElement(yp,{description:"N/A",ariaHidden:!0}),Re.createElement("div",{className:"migrating"},s)):Re.createElement(Gp,{onActivate:n},o)))),!i&&Re.createElement("div",{className:"image"},Re.createElement(Qp,{alt:a,src:qp,srcSet:[qp+" 1x","../a6cf564bb0dcee124f974582532b6b55.jpg 2x"].join(", ")})))},Yp=lp.extend({driveAccessType:dp.renderProperty(),render:function(){var e=this,t=this.driveAccessType===Jl.MIGRATION.IN_PROGRESS;return Re.createElement(Zp,{upgradeIsAlreadyInProgress:t,onUpgradeRequested:function(){t||e.viewController.initiateDriveMigration()}})},staticMembers:{__QUALIFIED_CLASS_NAME__:"NotMigratedReactView"}}),Xp=zn.a.extend({init:function(e,t,n,r,i,a,o){this.__s._$dH$init.call(this,Object.assign({sessionInfo:e,fetchService:t,urlForServiceName:n,loggingService:r,fileSystem:i,deferMigration:a},o)),this.pollingService=new Jp(8e3,this._pollAction.bind(this),(function(e){return e.ok&&yt.a(e.data)&&e.data.accessType===Jl.FULL_ACCESS.COLD_BOOT}))},viewClass:Yp,setDriveAccessType:function(e){var t=this._driveAccessType,n=this._driveAccessType=e,r=this._previousDriveAccessType=t,i=this.view;i&&(i.driveAccessType=e),r===Jl.MIGRATION.IN_PROGRESS&&n===Jl.MIGRATION.NOT_STARTED?(this.loggingService.recordStat("MigrationFailed",{duration:this._getDurationSinceMigrationInitiated()}),Jf.a.show({iconNames:"iclouddrive",message:Sr.d("DriveUI.NotMigrated.MigrationFailed.Message"),description:Sr.d("DriveUI.NotMigrated.MigrationFailed.Description"),primaryButton:{title:Sr.d("DriveUI.NotMigrated.MigrationFailed.Acknowledge")}})):n===Jl.FULL_ACCESS.COLD_BOOT&&this.loggingService.recordStat("MigrationSucceeded",{duration:this._getDurationSinceMigrationInitiated()})},_driveAccessType:y.c(null),_previousDriveAccessType:y.c(null),startPollingForMigration:function(){return this.pollingService.start()},initiateDriveMigration:function(){var e=this;return this.loggingService.recordStat("MigrationInitiated"),this._beginTrackingMigrationDuration(),(this.pollingService.actionInFlight||b.a.resolve()).then((function(){return e.setDriveAccessType(Jl.MIGRATION.IN_PROGRESS),async function(e,t){var n=await e.fetchJson(t("account","setup/ws/1/icd/migrate/init"),{method:"GET",schemaName:"DriveMigrateInit",schema:Xf});return n.ok?0!==n.value.status?eu.failedResult(n.value):eu.okResult(n.value):eu.failedResult(n.value)}(e.fetchService,e.urlForServiceName)})).then((function(t){t.ok||e.setDriveAccessType(Jl.MIGRATION.NOT_STARTED)}))},deferMigration:null,_pollAction:function(){var e=this;return $f(this.fetchService,this.urlForServiceName,this.sessionInfo,null,this.loggingService,this.fileSystem).then((function(t){return t.ok&&yt.a(t.data)&&e.setDriveAccessType(t.data.accessType),t}))},_lastMigrationInitiatedTimestamp:null,_beginTrackingMigrationDuration:function(){this._lastMigrationInitiatedTimestamp=Date.now()},_getDurationSinceMigrationInitiated:function(){var e=this._lastMigrationInitiatedTimestamp;return"number"===typeof e?Date.now()-e:null},__superMap:{_$dH$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"NotMigratedViewController"}}),Jp=function(){function e(e,t,n){this.delay=e,this.runAction=t,this.resolveAction=n,this.actionInFlight=null,this._timeoutHandle=void 0,this._resolvePromise=null,this._status="idle"}var t=e.prototype;return t.start=function(){this._status="active";var e=this._resolvePromise=b.a.create();return this._fire(),e},t._resolve=function(e){clearTimeout(this._timeoutHandle),this._timeoutHandle=void 0,this._status="resolved",this._resolvePromise.resolve(e)},t._fire=function(){var e=this;clearTimeout(this._timeoutHandle),(this.actionInFlight=this.runAction()).then((function(t){e.actionInFlight=null,e.resolveAction(t)?e._resolve(t):"active"===e._status&&(e._timeoutHandle=setTimeout(e._fire.bind(e),e.delay))}))},e}(),eg="iCloud Drive",tg={mixinDependencies:[$.a],activate:G.a.define(),deactivate:G.a.define(),updateTitle:G.a.define(),isActive:Vt.a.define()},ng=oe.a.extend(tg,v.a,{init:function(e,t,n){Object.defineProperties(this,{_hostApplicationServiceConnection:{value:e},_cwdObserver:{value:null,writable:!0},_isActive:{value:!1,writable:!0}}),this.__s._$Z0$init.call(this,n),this.bind("activeSession",t)},activeSession:v.g(),activate:function(){return this._isActive=!0,(this._cwdObserver=v.c.create(this,"activeSession.currentWorkingDirectory",this.updateTitle.bind(this))).connect(),b.a.resolve(eu.okResult())},deactivate:function(){var e=this._cwdObserver;return null!==e&&e.disconnect(),this._isActive=!1,this._cwdObserver=null,b.a.resolve(eu.okResult())},updateTitle:function(e){var t=this._hostApplicationServiceConnection,n=this.isActive;if(!yt.a(e)||!1===n)return b.a.resolve(eu.failedResult());var r=e.name,i=Hu!==e.id?eg+" - "+r:eg;return t.setTitle(i),b.a.resolve(eu.okResult(i))},isActive:y.c({readOnly:!0,get:function(){return this._isActive}}),__superMap:{_$Z0$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"TitleManagementService"}}),rg=n(1308),ig=dp.RenderProperty.extend({staticMembers:{__QUALIFIED_CLASS_NAME__:"ReactProp"}}),ag=ig.define.bind(ig),og=n(1408),sg=n(1319),cg=n(1348),lg=n(1404),ug=n(1350),dg=oe.a.extend(lg.a,{source:null,_map:null,_keys:null,init:function(e,t){this.source=e;var n=this._map=e._map;this._keys=t||Object.keys(n),this.__s._$92$init.call(this)},moveToNext:function(){return this._keys.pop(),this},isValid:Object(y.c)({readOnly:!0,get:function(){return!!this._keys.length}}),_getCurrentItem:function(){var e=this._keys;return this._map[e[e.length-1]]},value:Object(y.c)({get:function(){return this.source.decode(this.encodedValue)},set:function(e){this.encodedValue=this.source.encode(e)}}),encodedValue:Object(y.c)({get:function(){return this._getCurrentItem()},set:function(e){var t=this._getCurrentItem();return this.source.encodedRemove(t),this.source.encodedAdd(e),this._keys.pop(),this._keys.push(Object(sg.a)(e)),e}}),clone:function(){return this.constructor.create(this.source,Object(ug.a)(this._keys))},remove:function(){var e=this.get("value"),t=this.source.remove(e);return this.moveToNext(),t},add:function(e){return this._keys.pop(),this._keys.push(Object(sg.a)(e)),this.source.add(e)},__superMap:{_$92$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"SetIterator"}}),hg=oe.a.extend(og.a,zd.a,v.a,{init:function(){this.__s._$Gy$init.apply(this,arguments),this._previousSerializer=this.serializer},_map:Object(Me.b)(Object),length:Object(y.c)({readOnly:!0,defaultValue:0}),size:Object(y.c)({readOnly:!0,get:function(){return this.length}}),encodedAdd:function(e){var t=Object(sg.a)(e),n=this._map;return!n.hasOwnProperty(t)&&(n[t]=e,this._length++,!0)},encodedRemove:function(e){var t=Object(sg.a)(e),n=this._map;return!!n.hasOwnProperty(t)&&(delete n[t],this._length--,!0)},clear:function(){var e=this._map;for(var t in e)e.hasOwnProperty(t)&&delete e[t];this._length=0},has:function(){return this.contains(...arguments)},encodedContains:function(e){var t=Object(sg.a)(e);return this._map.hasOwnProperty(t)},iteratorClass:Object(y.c)({readOnly:!0,defaultValue:dg}),encodedToArray:function(){var e=this._map;return Object.keys(e).map((function(t){return e[t]}))},clone:function(){return this.constructor.create({serializer:this.serializer,_map:Object(cg.a)(this._map),length:this.length})},serializer:Object(v.g)(),_previousSerializer:null,_reencodeItemsWhenSerializerChanges:Object(v.h)({inputs:["serializer"],notifyOnCreate:!1,callback:function(e){var t=this._previousSerializer;if(t!==e){var n=this.encodedToArray();for(var r of(t&&(n=n.map((function(e){return t.decode(e)}))),e&&(n=n.reduce((function(t,n){try{t.push(e.encode(n))}catch(r){}return t}),[])),this.clear(),n))this.encodedAdd(r)}this._previousSerializer=e}}),__superMap:{_$Gy$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CoreSet"}}),fg=n(1314);function pg(){gg||(gg=window.matchMedia("(hover: hover)"));var e=Object(Re.useContext)(mg),t=hp(gg);return void 0!==e?e:t}var gg,mg=Object(Re.createContext)(void 0),vg=Re.createContext(void 0),yg=Re.createContext(void 0),_g=Re.createContext(void 0);function bg(e,t,n){if(void 0===e)throw new Error("Tried to use "+t+" outside of "+(n?"<"+n+">":"its provider")+". Please ensure that "+(n?"<"+n+">":"its provider")+" exists above this component in the React tree.\n\n(If this component is being presented by usePane() or useModalPane(), make sure that "+(n?"<"+n+">":"the "+t+" provider")+" also wraps <UIPaneContainer>.)\n\nTo learn more about using React contexts, check out https://reactjs.org/docs/context.html and https://kentcdodds.com/blog/how-to-use-react-context-effectively.")}var wg=Re.createContext(void 0),Sg=Re.createContext(!1);function Eg(e){var t=e.children,n=e.initialIsInSelectMode,r=Re.useState(n),i=r[0],a=r[1];return Re.createElement(Sg.Provider,{value:i},Re.createElement(wg.Provider,{value:a},t))}function Ig(){return Re.useContext(Sg)}function Cg(){var e=Re.useContext(wg);return bg(e,"useSetIsInSelectMode","SelectModeContext"),e}function Og(){var e=!pg();return Re.useContext(Sg)||e}var Tg=Re.createContext(null),Ag=function(e){var t=e.value,n=e.children;return Re.createElement(Tg.Provider,{value:t},n)};function Ng(){return Re.useContext(Tg)}var Mg=function(e){var t=e.latestChange,n=e.children,r=Re.useState((function(){return new Set}))[0],i=Re.useCallback((function(e){return r.add(e),function(){return r.delete(e)}}),[r]);return Re.useEffect((function(){if(null!=t&&t.tempId)for(var e of r)e(t.tempId,t.permId||null)}),[null==t?void 0:t.tempId,null==t?void 0:t.permId,r]),Re.createElement(Rg.Provider,{value:i},Re.createElement(Lg.Provider,{value:function(e,t){for(var n of r)n(e,t||null)}},n))};function Dg(e){var t=Re.useContext(Rg);Re.useEffect((function(){return null==t?void 0:t(e)}),[t,e])}var Rg=Re.createContext(void 0),Lg=Re.createContext(void 0);function kg(e){return Re.createElement(Fg.Provider,{value:e.caches},e.children)}function xg(){var e=Re.useContext(Fg);if(!e)throw new Error("useDriveItemCaches may only be used in components wrapped with a DriveItemCachesProvider.");return e}var Fg=Re.createContext(void 0),Pg=Re.createContext(null),jg=Re.createContext(void 0);function Ug(e){var t=e.loadItemIntoCWStore,n=e.authenticatedUser,r=e.fetchService,i=e.urlForServiceName,a=e.isMailServiceActive,o=e.sessionInfo,s=e.children,c=Re.useMemo((function(){return{loadItemIntoCWStore:t,authenticatedUser:n,fetchService:r,urlForServiceName:i,isMailServiceActive:a,sessionInfo:o}}),[t,n,r,i,a,o]);return Re.createElement(jg.Provider,{value:c},s)}function Bg(){var e=Re.useContext(jg);return bg(e,"useCoskServices","CoskServicesProvider"),e}var Vg=Re.createContext(void 0),Wg=function(e){var t=e.value,n=e.children;return Re.createElement(Vg.Provider,{value:t},n)};function zg(){var e=Re.useContext(Vg);return bg(e,"useAppMode","AppModeContext"),e}function Hg(e){var t="function"===typeof Map?new Map:void 0;return Hg=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(Gg())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&$g(i,n.prototype),i}(e,arguments,Kg(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),$g(n,e)},Hg(e)}function Gg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Gg=function(){return!!e})()}function $g(e,t){return $g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$g(e,t)}function Kg(e){return Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kg(e)}var Qg=function(e){var t,n;function r(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"UnnamedSchema",a=arguments.length>3?arguments[3]:void 0;return(r=e.call(this,t,n)||this).schemaName=i,r.zodError=a,r.name="ParseJsonError",r.cause=n.cause,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,$g(t,n),r.from=function(e,t){var n,i,a;if(function(e){var t=e;return e instanceof Error&&Array.isArray(t.issues)&&"function"==typeof t.flatten}(e)){n=e;var o=e.flatten().formErrors;o.length>0?(i="Bad form",a=o):(i="Bad keys",a=(e.issues||[]).map((function(e){var t=e.path,n=e.message;return t.join(".")+": "+n})))}else e instanceof SyntaxError?(i="Bad JSON",a=[e.message]):(i="Bad stuff",a=[e]);var s=a.length>1?"\n":" ";return new r([t+": "+i+":",...a].join(s),{cause:e},t,n)},r}(Hg(Error)),qg=r.string().datetime({offset:!1}),Zg=r.custom((function(e){return qg.safeParse(e).success}),"not an IsoZuluDateTime"),Yg=r.string().pipe(Zg),Xg=r.object({zoneName:r.string(),ownerRecordName:r.string()}),Jg=r.object({shareName:r.string(),recordName:r.string(),zoneID:Xg}),em=r.object({firstName:r.string(),lastName:r.string(),ownerRecordName:r.string()}),tm=r.object({docwsid:r.string(),drivewsid:r.string().min(1),item_id:r.string().optional(),parentId:r.string(),zone:r.string(),type:r.literal("FILE"),shortGuid:r.string().optional(),shortGUID:r.string().optional(),isChainedToParent:r.boolean(),name:r.string(),etag:r.string(),size:r.number(),dateModified:Yg,dateChanged:Yg,extension:r.string().optional(),shareID:Jg.optional(),share:r.union([r.literal("FROM_ME"),r.literal("TO_ME")]).optional(),owner:em.optional(),lastOpenTime:Yg.optional(),urls:r.object({url_download:r.string().optional(),url_thumbnail:r.string().optional(),url_manifest:r.string().optional()}).optional()}),nm=r.object({docwsid:r.string(),drivewsid:r.string().min(1),item_id:r.string().optional(),parentId:r.string(),zone:r.string(),type:r.literal("FOLDER"),shortGuid:r.string().optional(),isChainedToParent:r.boolean(),name:r.string(),etag:r.string(),assetQuota:r.number(),fileCount:r.number(),shareCount:r.number(),shareAliasCount:r.number(),directChildrenCount:r.number(),shareID:Jg.optional(),share:r.union([r.literal("FROM_ME"),r.literal("TO_ME")]).optional(),owner:em.optional(),favorite_order:r.number().optional()}),rm=(r.object({continuationMarker:r.string().optional(),documents:r.array(tm),status:r.union([r.literal("CONSISTENT"),r.literal("MORE_AVAILABLE")])}),r.object({statusCode:r.number()})),im=(r.union([r.object({continuationMarker:r.string().optional(),documents:r.array(tm),status:r.union([r.literal("CONSISTENT"),r.literal("MORE_AVAILABLE")]).optional()}),rm]),r.object({continuationMarker:r.string().optional(),documents:r.array(nm),status:r.union([r.literal("CONSISTENT"),r.literal("MORE_AVAILABLE")])}));function am(){var e=Object(Re.useRef)(!1);return Object(Re.useLayoutEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),Object(Re.useCallback)((function(){return e.current}),[])}var om=Symbol("isSafeUrl"),sm=Object.freeze(["javascript","data"]);function cm(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e instanceof URL&&function(e){return!0===e[om]}(e))return e;var r=new URL(e,n.base||void 0),i=r.protocol.slice(0,-1);if(sm.includes(i)&&(null==(t=n.dangerouslyAllowProtocols)||!t.includes(i)))throw Error("Bad URL protocol!");return function(e){var t=e;return t[om]=!0,t}(r)}function lm(){var e;return(null==(e=globalThis.document.querySelector("base"))?void 0:e.href)||globalThis.location.href}function um(e,t){return cm(e,Object.assign({},t,{base:lm()}))}var dm=function(e){e.searchParams.append("clientBuildNumber",window.__CW_BUILD_INFO.buildNumber),e.searchParams.append("clientMasteringNumber",window.__CW_BUILD_INFO.masteringNumber),e.searchParams.append("unified_format","true")},hm=async function(e,t,n){var r=await e(t,n);return r.ok?Object(fg.success)(function(e,t){var n=t.safeParse(e);if("error"in n)throw Qg.from(n.error,"FavoriteDriveDocumentsResponse");return n.data}(r.value,im)):r};function fm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e4,t=Object(Re.useState)([]),n=t[0],r=t[1],i=Object(Re.useState)(null),a=i[0],o=i[1],s=Object(Re.useState)(!1),c=s[0],l=s[1],u=Object(Re.useState)(!1),d=u[0],h=u[1],f=Object(Re.useState)(!1),p=f[0],g=f[1],m=Object(Re.useRef)(void 0),v=am(),y=Bg(),_=Object(Re.useState)((function(){return e=y.authenticatedUser.dsid,t=y.urlForServiceName,{fetchFavorites:async function(n,r){var i,a=function(e,t,n,r){var i=cm(r("docws","ws/_all_/list/enumerate/favorites"));return dm(i),i.searchParams.append("dsid",e),i.searchParams.append("limit",t.toString()),void 0!==n&&i.searchParams.append("nextPage",n),i.toString()}(e,n,r,t),o=null;try{o=await fetch(a,{method:"GET",headers:{"Content-Type":"text/plain"},credentials:"include"}),i=await o.json()}catch(s){return Object(fg.failure)(s.message)}return o.ok?Object(fg.success)(i):Object(fg.failure)("Get favorites failed: "+o.statusText)},fetchHasChanges:async function(n){var r,i=function(e,t,n){var r=cm(n("docws","ws/_all_/list/changes/favorites"));return dm(r),r.searchParams.append("dsid",e),void 0!==t&&r.searchParams.append("nextPage",t),r.toString()}(e,n,t),a=null;try{a=await fetch(i,{method:"GET",headers:{"Content-Type":"text/plain"},credentials:"include"})}catch(o){}return 205===(null==(r=a)?void 0:r.status)}};var e,t}))[0],b=_.fetchFavorites,w=_.fetchHasChanges;return Object(Re.useEffect)((function(){!async function(){var e=await hm(b,10,void 0);v()&&ke.unstable_batchedUpdates((function(){e.ok?(m.current=e.value.continuationMarker,l("MORE_AVAILABLE"===e.value.status),r(e.value.documents),h(!0),"CONSISTENT"===e.value.status&&g(!0)):o(e.error)}))}()}),[v,b]),Object(Re.useEffect)((function(){d&&c&&async function(){var e=await hm(b,50,void 0);v()&&ke.unstable_batchedUpdates((function(){e.ok?(m.current=e.value.continuationMarker,r(e.value.documents),l("MORE_AVAILABLE"===e.value.status),g(!0)):o(e.error)}))}()}),[v,b,d,c]),Object(Re.useEffect)((function(){var t=null;return p&&(t=setInterval((function(){!async function(){if(void 0!==m.current){var e=await w(m.current);if(v()&&e){var t=await hm(b,50,void 0);v()&&ke.unstable_batchedUpdates((function(){t.ok?(m.current=t.value.continuationMarker,r(t.value.documents),l("MORE_AVAILABLE"===t.value.status)):o(t.error)}))}}}()}),e)),function(){null!==t&&clearInterval(t)}}),[v,e,w,b,p]),Object(Re.useMemo)((function(){return 0!==n.length&&null===a?Object(fg.success)({favorites:n,isPartial:c}):0!==n.length&&null!==a||null===a?void 0:Object(fg.failure)(a)}),[n,a,c])}function pm(e){var t=new Date(e);return t.setHours(0,0,0,0),t.setFullYear(t.getFullYear()-1)}var gm=["Recents.January","Recents.February","Recents.March","Recents.April","Recents.May","Recents.June","Recents.July","Recents.August","Recents.September","Recents.October","Recents.November","Recents.December"];function mm(){var e=Object(Re.useState)(0)[1],t=am();return Object(Re.useCallback)((function(){t()&&e((function(e){return e+1}))}),[t])}var vm=r.string().datetime({offset:!1}),ym=r.custom((function(e){return vm.safeParse(e).success}),"not an IsoZuluDateTime"),_m=r.string().pipe(ym),bm=wo({zoneName:oo(),ownerRecordName:oo()}),wm=wo({shareName:oo(),recordName:oo(),zoneID:bm}),Sm=wo({firstName:oo(),lastName:oo(),ownerRecordName:oo()}),Em=wo({shared_publicly:uo()}),Im=wo({docwsid:oo(),item_id:oo(),drivewsid:oo(),urls:wo({url_download:oo().optional(),url_thumbnail:oo().optional(),url_manifest:oo().optional()}).optional(),parentId:oo(),zone:oo(),type:oo(),shortGuid:oo().optional(),shortGUID:oo().optional(),unifiedToken:oo().optional(),sharingToken:oo().optional(),name:oo(),etag:oo(),extension:oo().optional(),shareID:wm.optional(),share:oo().optional(),owner:Sm.optional(),lastOpenTime:_m.optional(),url:bo(oo()).optional()}),Cm=Im,Om=Im,Tm=wo({type:Ro("FILE"),dateModified:_m,dateChanged:_m,isChainedToParent:uo(),size:so(),share_info:Em.optional()}).merge(Cm),Am=wo({type:Ro("FOLDER"),isChainedToParent:uo()}).merge(Om),Nm=Eo([Tm,Am]),Mm=wo({continuationMarker:oo().optional(),documents:bo(Nm),status:Eo([Ro("CONSISTENT"),Ro("MORE_AVAILABLE")]).optional()}),Dm=wo({error_code:oo().optional(),reason:oo().optional(),serverErrorCode:oo(),retryAfter:so().optional()}),Rm=Eo([Mm,Dm]);function Lm(e){var t=Bg(),n=t.fetchService,r=t.urlForServiceName,i=t.loadItemIntoCWStore,a=Re.useRef(void 0),o=am(),s=Re.useState({isLoading:!0,error:null,hasResults:!1}),c=s[0],l=s[1],u=Re.useState(!1),d=u[0],h=u[1],f=Re.useCallback((async function(t){var s;o()&&l({error:null,isLoading:!0,hasResults:c.hasResults});var u=await async function(e,t,n,r,i){var a="BY_ME"===e?function(e,t,n){var r=cm(e("docws"));return r.pathname="ws/_all_/list/enumerate/sharedByMe",r.searchParams.append("limit",String(t)),r.searchParams.append("unified_format","true"),n&&r.searchParams.append("nextPage",n),r}(n,r,i):function(e,t,n){var r=cm(e("docws"));return r.pathname="ws/_all_/list/enumerate/sharedToMe",r.searchParams.append("limit",String(50)),r.searchParams.append("unified_format","true"),n&&r.searchParams.append("nextPage",n),r}(n,0,i);return await t.fetchJson(a,{credentials:"include",schemaName:"WireSharedDriveDocumentsResponseSchema",schema:Rm})}(e,n,r,t,a.current);if(u.ok){if(u.ok){var d,p;a.current=u.value.continuationMarker;var g,m=[];switch(null!=(d=u.value)&&d.documents&&(null==(g=u.value)||g.documents.forEach((function(e){if("FILE"===e.type){var t,n,r=i(Object.assign({},e,{zone:null!=(t=null==(n=e.shareID)?void 0:n.zoneID.zoneName)?t:e.zone}));r&&xu(r)&&m.push(r)}}))),wd.directlyShareFileIdsCache.value=new Set([...wd.directlyShareFileIdsCache.value,...m]),null==u||null==(p=u.value)?void 0:p.status){case"MORE_AVAILABLE":if("TO_ME"===e&&0===(null==(s=u.value)?void 0:s.documents.length))break;f(50);break;case"CONSISTENT":h(!0)}o()&&l({isLoading:!1,error:null,hasResults:!0})}}else o()&&l({isLoading:!1,error:u.error,hasResults:c.hasResults})}),[n,o,e,r,i,c.hasResults]);return Re.useEffect((function(){c.hasResults||f(10)}),[c.hasResults,f]),Re.useEffect((function(){if(d){var e=setInterval((function(){f(50)}),3e4);return function(){return clearInterval(e)}}}),[d,f]),c.error?fg.Result.failure(c.error):fg.Result.success(c)}function km(e){var t=e.recentsResult,n=e.folderResult,r=e.currentFolderId,i=e.uploadingItemIds,a=e.onFavoritesResult,o=e.children,s=function(){var e=Lm("BY_ME"),t=Lm("TO_ME");return null!=e&&e.ok?e:null!=t&&t.ok?t:null!=e?e:t}(),c=function(e){var t=Re.useState(),n=t[0],r=t[1],i=Bg().loadItemIntoCWStore,a=Re.useRef(e);Re.useEffect((function(){a.current=e}),[e]);var o=fm(),s=Re.useRef(new Map).current;return Re.useEffect((function(){var e;o&&(e=o.ok?fg.Result.success({isPartial:o.value.isPartial,favorites:o.value.favorites.map((function(e){return e.drivewsid}))}):fg.Result.failure(o.error)),null!=o&&o.ok&&o.value.favorites.forEach((function(e){s.has(e.drivewsid)||s.set(e.drivewsid,new Set);var t=s.get(e.drivewsid);t.has(e.etag)||(t.add(e.etag),i(e))})),e&&r(e),e&&a.current(e)}),[i,o,s]),n}(a),l=function(e,t){var n=mm(),r=xg().driveItemCache,i=Re.useRef(t);Re.useEffect((function(){i.current=t}),[t]);var a=Re.useRef({idsPerFolder:new Map,foldersById:new Map}),o=Re.useCallback((function(e,t){var o,s=a.current,c=s.idsPerFolder,l=s.foldersById;if(c.has(t)||c.set(t,new Set),c.get(t).add(e),l.set(e,t),(null==(o=r.read(e))?void 0:o.parentId)!==t)throw new Error("FolderContentsOptimisticUpdateContext.add called for item not in specified folder.");var u=Object(bd.c)((function(){var a;(null==(a=r.read(e))?void 0:a.parentId)!==t&&(c.get(t).delete(e),l.get(e)===t&&l.delete(e),t===i.current&&n(),u())}));t===i.current&&n()}),[n,r]);return Dg((function(e,t){var r=a.current,o=r.foldersById,s=r.idsPerFolder,c=o.get(e);if(c){var l=c,u=s.get(l);u.delete(e),o.delete(e),t&&(u.add(t),o.set(t,l)),l===i.current&&n()}})),Re.useEffect((function(){if(null!=e&&e.ok){var n=a.current.idsPerFolder.get(t);null!=n&&n.size&&e.value.forEach((function(e){return n.delete(e)}))}}),[e,t]),{addTempIdForFolderContentsOptimisticUpdate:o,optimisticFolderResult:function(){if(null==e||!e.ok)return e;var n=a.current.idsPerFolder.get(t);return null!=n&&n.size?Object.assign({},e,{value:[...e.value,...n]}):e}()}}(n,r),u=l.addTempIdForFolderContentsOptimisticUpdate,d=function(e,t){var n=xg().driveItemCache,r=Object(bd.g)((function(){for(var e=t;e;){var r;if("TRASH_ROOT"===e)return!0;e=(null==(r=n.read(e))?void 0:r.parentId)||void 0}return!1}),[t,n]);return Object(bd.g)((function(){return null!=e&&e.ok?{ok:!0,value:e.value.filter((function(e){var t,i=n.read(e);if(!i)return!1;if(null!=(t=Yu(i))&&t.startsWith("."))return!1;if(r){var a=null==i?void 0:i.dateExpiration;if(a){if(Date.now()-new Date(a).getTime()>=1296e6)return!1}}return!0}))}:e}),[e,r,n])}(l.optimisticFolderResult,r),h=function(e,t){var n=Re.useState(new Set),r=n[0],i=n[1];Re.useEffect((function(){t.length>0&&i((function(e){var n=new Set(e);return t.forEach((function(e){return n.add(e)})),n.size>e.size?n:e}))}),[t]);var a=Re.useCallback((function(e){xu(e)&&i((function(t){var n=new Set(t);return n.add(e),n}))}),[]);return Dg(Re.useCallback((function(e,t){xu(e)&&i((function(n){if(n.has(e)){var r=new Set(n);return r.delete(e),t&&xu(t)&&r.add(t),r}return n}))}),[])),Re.useEffect((function(){null!=e&&e.ok&&i((function(t){if(!t.size)return t;var n=new Set(t);return e.value.recentsIds.forEach((function(e){n.delete(e)})),n.size<t.size?n:t}))}),[e]),{addTempIdForRecentsOptimisticUpdate:a,optimisticRecentsResult:Re.useMemo((function(){return null!=e&&e.ok?Object.assign({},e,{value:Object.assign({},e.value,{recentsIds:Array.from(new Set([...e.value.recentsIds,...Array.from(r)]))})}):e}),[e,r])}}(t,i),f=h.addTempIdForRecentsOptimisticUpdate,p=function(e){var t=xg().driveItemCache;return Object(bd.g)((function(){if(null==e||!e.ok)return e;var n=pm(Date.now());return{ok:!0,value:{isPartial:e.value.isPartial,recentsIds:e.value.recentsIds.filter((function(e){var r,i=t.read(e);if(!i||!i.parentId)return!1;if(!i.lastOpenTime)return!1;var a=new Date(i.lastOpenTime);if(isNaN(a.getSeconds()))return!1;if(a.getTime()<n)return!1;if(a.getTime()>Date.now())return!1;for(var o=null==(r=t.read(e))?void 0:r.parentId;o;){var s;if("TRASH_ROOT"===o)return!1;o=null==(s=t.read(o))?void 0:s.parentId}return!0}))}}}),[e,t])}(h.optimisticRecentsResult),g=Re.useMemo((function(){return{add:function(e,t){u(e,t),f(e)}}}),[f,u]);return Re.createElement(xm.Provider,{value:s},Re.createElement(Fm.Provider,{value:p},Re.createElement(jm.Provider,{value:d},Re.createElement(Um.Provider,{value:g},Re.createElement(Pm.Provider,{value:c},o)))))}var xm=Re.createContext(void 0),Fm=Re.createContext(void 0),Pm=Re.createContext(void 0),jm=Re.createContext(void 0),Um=Re.createContext(void 0),Bm=Re.createContext(void 0);function Vm(e){var t=e.children,n=Re.useRef("main content");return Re.useEffect((function(){var e=function(e){var t=e.target;null!=t&&t.closest("main")?n.current="main content":null!=t&&t.closest("ul.source-list")&&(n.current="sidebar")};return document.body.addEventListener("focusin",e),function(){return document.body.removeEventListener("focusin",e)}}),[]),Re.createElement(Bm.Provider,{value:n},t)}function Wm(){return Re.useContext(Bm)}var zm=Re.createContext(void 0),Hm=Re.createContext(void 0),Gm=Re.createContext({sortMode:void 0,viewMode:void 0});function $m(e){var t=e.children,n=e.preferencesStore,r=e.isKvsLoaded,i=Re.useState(),a=i[0],o=i[1],s=Re.useState(),c=s[0],l=s[1],u=Re.useState(!1),d=u[0],h=u[1];Re.useEffect((function(){if(r){var e=n.getPreferences();e.sortMode&&o(e.sortMode),e.viewMode&&l(e.viewMode),h(!0)}}),[r,n]);var f=Re.useCallback((function(e){return o(e),n.setPreferences({sortMode:e})}),[n]),p=Re.useCallback((function(e){return l(e),n.setPreferences({viewMode:e})}),[n]),g=Re.useMemo((function(){return d?{sortMode:null!=a?a:"Name",viewMode:null!=c?c:"list"}:{}}),[d,a,c]);return Re.createElement(Gm.Provider,{value:g},Re.createElement(zm.Provider,{value:f},Re.createElement(Hm.Provider,{value:p},t)))}function Km(){var e=Re.useContext(Gm);return bg(e,"useSortMode","KvsResultContext"),e.sortMode}function Qm(){var e=Re.useContext(Gm);return bg(e,"useViewMode","KvsResultContext"),e.viewMode}var qm=function(){var e=Qm();Re.useEffect((function(){"grid"===e&&gu("visitedGridMode"),"list"===e&&gu("visitedListMode")}),[e])};function Zm(){var e=Re.useContext(Hm);return bg(e,"useSetViewMode","SetViewModeContext"),e}function Ym(e){var t=e.isKvsLoaded,n=e.preferencesStore,r=e.driveItemCaches,i=e.recentsResult,a=e.uploadingItemIds,o=e.currentFolderId,s=e.folderResult,c=e.onFavoritesResult,l=e.formatNumberToRegionalString,u=e.dateFormatters,d=e.dsid,h=e.loadItemIntoCWStore,f=e.fetchService,p=e.urlForServiceName,g=e.isMailServiceActive,m=e.horizontalSizeClass,v=e.pointerPrecision,y=e.hasHover,_=e.storageQuota,b=e.currentCreateFolderFlowId,w=e.latestTempIdToPermIdChange,S=e.enabledFileExtensions,E=e.appMode,I=e.children,C=e.initialIsInSelectMode,O=e.sessionInfo,T=Re.useMemo((function(){return{dsid:d}}),[d]);return Re.createElement(kg,{caches:r},Re.createElement(vg.Provider,{value:l},Re.createElement(yg.Provider,{value:u},Re.createElement(Ug,{loadItemIntoCWStore:h,authenticatedUser:T,urlForServiceName:p,fetchService:f,isMailServiceActive:g,sessionInfo:O},Re.createElement(mp.Provider,{value:m},Re.createElement(Eg,{initialIsInSelectMode:null!=C&&C},Re.createElement(Wp.Provider,{value:v},Re.createElement(mg.Provider,{value:y},Re.createElement(_g.Provider,{value:_},Re.createElement(Wg,{value:E},Re.createElement(Ag,{value:null!=b?b:null},Re.createElement(Mg,{latestChange:w},Re.createElement(Pg.Provider,{value:null!=S?S:null},Re.createElement(km,{onFavoritesResult:c,recentsResult:i,uploadingItemIds:a,currentFolderId:o,folderResult:s},Re.createElement(Vm,null,Re.createElement($m,{preferencesStore:n,isKvsLoaded:t},I))))))))))))))))}function Xm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=""===e?"":cm(e).href,r=t.dangerouslyDisableDefaultFeatures?[]:["noopener","noreferrer"];return globalThis.open(n,t.target,[r,...t.features||[]].join(","))}var Jm,ev=[],tv="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(Jm||(Jm={}));var nv,rv=function(e){return Object.freeze(e)},iv=function(e,t){this.inlineSize=e,this.blockSize=t,rv(this)},av=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,rv(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),ov=function(e){return e instanceof SVGElement&&"getBBox"in e},sv=function(e){if(ov(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,a=i.offsetWidth,o=i.offsetHeight;return!(a||o||e.getClientRects().length)},cv=function(e){var t;if(e instanceof Element)return!0;var n=null===(t=null===e||void 0===e?void 0:e.ownerDocument)||void 0===t?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},lv="undefined"!==typeof window?window:{},uv=new WeakMap,dv=/auto|scroll/,hv=/^tb|vertical/,fv=/msie|trident/i.test(lv.navigator&&lv.navigator.userAgent),pv=function(e){return parseFloat(e||"0")},gv=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new iv((n?t:e)||0,(n?e:t)||0)},mv=rv({devicePixelContentBoxSize:gv(),borderBoxSize:gv(),contentBoxSize:gv(),contentRect:new av(0,0,0,0)}),vv=function(e,t){if(void 0===t&&(t=!1),uv.has(e)&&!t)return uv.get(e);if(sv(e))return uv.set(e,mv),mv;var n=getComputedStyle(e),r=ov(e)&&e.ownerSVGElement&&e.getBBox(),i=!fv&&"border-box"===n.boxSizing,a=hv.test(n.writingMode||""),o=!r&&dv.test(n.overflowY||""),s=!r&&dv.test(n.overflowX||""),c=r?0:pv(n.paddingTop),l=r?0:pv(n.paddingRight),u=r?0:pv(n.paddingBottom),d=r?0:pv(n.paddingLeft),h=r?0:pv(n.borderTopWidth),f=r?0:pv(n.borderRightWidth),p=r?0:pv(n.borderBottomWidth),g=d+l,m=c+u,v=(r?0:pv(n.borderLeftWidth))+f,y=h+p,_=s?e.offsetHeight-y-e.clientHeight:0,b=o?e.offsetWidth-v-e.clientWidth:0,w=i?g+v:0,S=i?m+y:0,E=r?r.width:pv(n.width)-w-b,I=r?r.height:pv(n.height)-S-_,C=E+g+b+v,O=I+m+_+y,T=rv({devicePixelContentBoxSize:gv(Math.round(E*devicePixelRatio),Math.round(I*devicePixelRatio),a),borderBoxSize:gv(C,O,a),contentBoxSize:gv(E,I,a),contentRect:new av(d,c,E,I)});return uv.set(e,T),T},yv=function(e,t,n){var r=vv(e,n),i=r.borderBoxSize,a=r.contentBoxSize,o=r.devicePixelContentBoxSize;switch(t){case Jm.DEVICE_PIXEL_CONTENT_BOX:return o;case Jm.BORDER_BOX:return i;default:return a}},_v=function(e){var t=vv(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=rv([t.borderBoxSize]),this.contentBoxSize=rv([t.contentBoxSize]),this.devicePixelContentBoxSize=rv([t.devicePixelContentBoxSize])},bv=function(e){if(sv(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},wv=function(){var e=1/0,t=[];ev.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(t){var n=new _v(t.target),i=bv(t.target);r.push(n),t.lastReportedSize=yv(t.target,t.observedBox),i<e&&(e=i)})),t.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=t;n<r.length;n++)(0,r[n])();return e},Sv=function(e){ev.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(bv(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},Ev=[],Iv=0,Cv={attributes:!0,characterData:!0,childList:!0,subtree:!0},Ov=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Tv=function(e){return void 0===e&&(e=0),Date.now()+e},Av=!1,Nv=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!Av){Av=!0;var n,r=Tv(e);n=function(){var n=!1;try{n=function(){var e=0;for(Sv(e);ev.some((function(e){return e.activeTargets.length>0}));)e=wv(),Sv(e);return ev.some((function(e){return e.skippedTargets.length>0}))&&function(){var e;"function"===typeof ErrorEvent?e=new ErrorEvent("error",{message:tv}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=tv),window.dispatchEvent(e)}(),e>0}()}finally{if(Av=!1,e=r-Tv(),!Iv)return;n?t.run(1e3):e>0?t.run(e):t.start()}},function(e){if(!nv){var t=0,n=document.createTextNode("");new MutationObserver((function(){return Ev.splice(0).forEach((function(e){return e()}))})).observe(n,{characterData:!0}),nv=function(){n.textContent="".concat(t?t--:t++)}}Ev.push(e),nv()}((function(){requestAnimationFrame(n)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,Cv)};document.body?t():lv.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Ov.forEach((function(t){return lv.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),Ov.forEach((function(t){return lv.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}()),Mv=function(e){!Iv&&e>0&&Nv.start(),!(Iv+=e)&&Nv.stop()},Dv=function(){function e(e,t){this.target=e,this.observedBox=t||Jm.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=yv(this.target,this.observedBox,!0);return e=this.target,ov(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),Rv=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},Lv=new WeakMap,kv=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},xv=function(){function e(){}return e.connect=function(e,t){var n=new Rv(e,t);Lv.set(e,n)},e.observe=function(e,t,n){var r=Lv.get(e),i=0===r.observationTargets.length;kv(r.observationTargets,t)<0&&(i&&ev.push(r),r.observationTargets.push(new Dv(t,n&&n.box)),Mv(1),Nv.schedule())},e.unobserve=function(e,t){var n=Lv.get(e),r=kv(n.observationTargets,t),i=1===n.observationTargets.length;r>=0&&(i&&ev.splice(ev.indexOf(n),1),n.observationTargets.splice(r,1),Mv(-1))},e.disconnect=function(e){var t=this,n=Lv.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),Fv=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!==typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");xv.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!cv(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");xv.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!cv(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");xv.unobserve(this,e)},e.prototype.disconnect=function(){xv.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),Pv=["styles"];function jv(){return jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jv.apply(this,arguments)}var Uv=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Pv);return Le.a.createElement("svg",jv({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12.731 12.742"},t),Le.a.createElement("path",{fill:"inherit",d:"M.287 12.454c.39.383 1.054.375 1.422.008l4.657-4.657 4.652 4.654c.378.378 1.035.38 1.42-.007.385-.39.387-1.037.01-1.417l-4.653-4.66 4.653-4.652c.377-.377.38-1.03-.01-1.414-.39-.39-1.042-.393-1.42-.01L6.366 4.95 1.71.296C1.34-.074.672-.089.287.306-.095.696-.088 1.353.279 1.72l4.658 4.655L.279 11.04c-.367.365-.38 1.03.008 1.414z"}))},Bv="icloud-tint";function Vv(e){return null!=e&&"string"!==typeof e&&"boolean"!==typeof e&&"number"!==typeof e&&"type"in e}function Wv(e,t){var n=!1;return t(e)?n=!0:Vv(e)&&e.props.children?n=Wv(e.props.children,t):Array.isArray(e)&&e.forEach((function(e){t(e)?n=!0:Vv(e)&&e.props.children?n=Wv(e.props.children,t):Array.isArray(e)&&(n=Wv(e,t))})),n}function zv(e){return Wv(e,(function(e){return Vv(e)&&"string"!==typeof e&&"UIOverlayActions"===e.type.displayName}))}function Hv(){var e=He(),t=e[0],n=e[1],r=Re.useCallback((function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t(Re.createElement(Gv,{options:r,hideFunc:n},e),function(e){return Object.assign({initialFocus:"ui-popup",__spi__hasVisibleBackdrop:!0},e,{paneType:e.paneType||at.Modal,className:Be()(Bv,"for-ui-popup",e.className,e.variant||"standard")})}(r))}),[t,n]);return[r,n]}function Gv(e){var t,n=e.children,r=e.options,i=e.hideFunc,a=pp(),o=r.closeButtonProps,s=Re.useRef(null),c=Re.useState(!1),l=c[0],u=c[1],d=Re.useState(0),h=d[0],f=d[1];return Re.useEffect((function(){var e=s.current;e&&e.addEventListener("scroll",(function(){s.current&&f(s.current.scrollTop)}))}),[]),Re.useLayoutEffect((function(){var e=s.current;if(e){var t=e.scrollHeight>e.clientHeight;Math.abs(e.scrollHeight-e.scrollTop-e.clientHeight)<1?u(!1):t&&zv(n)&&u(!0)}}),[s,n,h]),Re.createElement("ui-popup",{role:null!==(t=r.ariaRole)&&void 0!==t?t:"dialog","aria-labelledby":r.ariaLabelledBy,"aria-describedby":r.ariaDescribedBy,"aria-label":r.ariaLabel,tabindex:-1,class:Be()(a,{"ui-overlay-actions-separator":l}),ref:s},r.includeCloseButton&&Re.createElement(Gp,{onActivate:function(){r.onRequestClose?r.onRequestClose(Ce.MOUSE_UP,i):i()},ariaLabel:null===o||void 0===o?void 0:o.ariaLabel,disabled:null===o||void 0===o?void 0:o.disabled,className:Be()("x-close-button",null===o||void 0===o?void 0:o.className),variant:"push primary icon"},Re.createElement(Uv,{"aria-hidden":!0})),n)}function $v(e,t){var n=0,r=[];if(Re.Children.forEach(e,(function(e){if(!Vv(i=e)||i.type!==Gp)throw new Error(t+" must be rendered with only UIButtons for children.");var i;r.push(e),n++})),n<1)throw new Error(t+" may not be rendered empty. Please provide at least one UIButton.");if(n>3)throw new Error(t+" may not be rendered with more than three buttons.");return r}var Kv=["styles"];function Qv(){return Qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qv.apply(this,arguments)}var qv=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Kv);return Le.a.createElement("svg",Qv({width:"43",height:"30",xmlns:"http://www.w3.org/2000/svg"},t),Le.a.createElement("path",{d:"M33.553 29.737c1.274 0 2.462-.218 3.565-.653a9.162 9.162 0 002.899-1.807 8.4 8.4 0 001.943-2.676c.466-1.015.7-2.107.7-3.277s-.215-2.273-.644-3.31a8.545 8.545 0 00-1.827-2.76 8.582 8.582 0 00-2.83-1.892c.01-1.874-.297-3.593-.918-5.157-.622-1.563-1.489-2.923-2.602-4.078a11.72 11.72 0 00-3.899-2.68C28.454.816 26.85.5 25.131.5c-1.487 0-2.843.238-4.066.715a11.533 11.533 0 00-3.262 1.915 13.2 13.2 0 00-2.438 2.684 6.437 6.437 0 00-3.1-.125 7.018 7.018 0 00-2.787 1.248 7.138 7.138 0 00-2.027 2.342c-.515.942-.788 2-.82 3.175-1.263.212-2.35.702-3.263 1.47-.912.769-1.619 1.728-2.118 2.878-.5 1.15-.75 2.413-.75 3.787 0 1.241.256 2.413.768 3.515a9.297 9.297 0 002.133 2.92 9.944 9.944 0 003.21 1.983c1.23.476 2.562.714 3.997.714l22.945.016zm-.014-2.985l-22.928-.015c-1.357 0-2.572-.282-3.646-.847-1.073-.564-1.916-1.314-2.528-2.25a5.465 5.465 0 01-.918-3.05c0-1.11.217-2.11.653-2.997a5.125 5.125 0 011.874-2.11c.815-.52 1.803-.78 2.966-.78.22 0 .328-.114.325-.345-.019-1.673.319-2.98 1.012-3.918.693-.94 1.581-1.534 2.664-1.784 1.083-.25 2.206-.187 3.369.19.203.058.348.004.433-.164a13.124 13.124 0 011.943-2.625 8.397 8.397 0 012.693-1.876c1.044-.465 2.267-.697 3.668-.697 1.783 0 3.36.422 4.734 1.267a9.518 9.518 0 013.277 3.344 9.914 9.914 0 011.351 4.53c.025.405.027.83.006 1.276-.02.445-.049.87-.086 1.274-.014.217.077.343.274.377 1.51.319 2.716.99 3.616 2.013.9 1.023 1.35 2.276 1.35 3.759a4.884 4.884 0 01-.804 2.732c-.536.82-1.266 1.473-2.19 1.963-.922.489-1.959.733-3.108.733z",fill:"inherit"}))};function Zv(e){var t=e.current,n=getComputedStyle(t),r=parseFloat(n.getPropertyValue("padding-left"))+parseFloat(n.getPropertyValue("padding-right")),i=t.querySelector(".buttons-measurer");return null===i||void 0===i||i.querySelectorAll("div").forEach((function(e){if(!e.classList.contains("inline-end-buttons")){var t=getComputedStyle(e),n=parseFloat(t.getPropertyValue("margin-left")),i=parseFloat(t.getPropertyValue("margin-right"));r+=n+i,r+=e.offsetWidth}})),r>t.offsetWidth}function Yv(){var e=Hv(),t=e[0],n=e[1];return[Re.useCallback((function(e){var r=function(e,t,n){var r,i,a,o,s,c=e.buttons,l=e.defaultAction,u=e.cancelAction,d=t+"-label",h=t+"-description";if(Jv(c))a=void 0,o=void 0,s=void 0;else{var f=c[0];void 0===u?(o=f.action,s=f.title):(o=u,s=null===(r=c.find((function(e){return e.action===o})))||void 0===r?void 0:r.title),a=void 0===l?f.destructive?o:f.action:l}function p(t){var r,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];null!==t&&(void 0!==t&&(null===(r=e.onActionSelected)||void 0===r||r.call(e,t)),i&&n())}return{jsx:Re.createElement(Xv,{options:e,hidePane:n,ariaLabelledById:d,ariaDescribedById:h,_defaultAction:a,_cancelAction:o}),popupOptions:Object.assign({ariaClosePaneDescription:s},e,{onKeyDown:function(t){var n;if(!(null===(n=e.loadingOptions)||void 0===n?void 0:n.loading)){var r=!0;switch(e.buttons.forEach((function(e){if("string"!==typeof e){var t=e;a&&t.action===a&&!1===t.shouldCloseOnClick&&(r=!1)}})),t.key){case"Enter":p(a,r);break;case"Escape":p(o)}}},ariaRole:e.ariaRole||"alertdialog",variant:e.variant||"standard",className:Be()("for-ui-alert",{"has-tertiary-button":c.length>2,"has-loading":null===(i=e.loadingOptions)||void 0===i?void 0:i.loading},e.className),ariaLabelledBy:d,ariaDescribedBy:h})}}(e,"ui-alert-"+ey++,n),i=r.jsx,a=r.popupOptions;return t(i,a)}),[n,t]),n]}function Xv(e){var t,n,r=e.options,i=r.title,a=r.buttons,o=r.description,s=r.icon,c=r.accessory,l=r.loadingOptions,u=r.onActionSelected,d=pp();if(Jv(a)){var h=a[0];t=[Re.createElement(Gp,{key:"0",onActivate:function(){return e.hidePane()},variant:"block large primary"},h)]}else{var f=a;if("compact"===d){var p=a.find((function(t){return t.action===e._cancelAction&&t.action!==e._defaultAction}));p&&(f=[...a.filter((function(e){return e!==p})),p])}t=f.map((function(t,n){var r,i=e._defaultAction===t.action,a=null===(r=t.shouldCloseOnClick)||void 0===r||r;return Re.createElement(Gp,{key:n,onActivate:function(){null===u||void 0===u||u(t.action),a&&e.hidePane()},destructive:t.destructive,ariaLabel:t.ariaLabel,variant:"block large "+(i?"primary":"secondary")},t.title)}))}n=null===s?null:s||Re.createElement(qv,null);var g=Re.useRef(null),m=Re.useState(!1),v=m[0],y=m[1];Re.useLayoutEffect((function(){y(Zv(g))}),[g]);var _=Re.useRef(null);Re.useLayoutEffect((function(){var e;(null===l||void 0===l?void 0:l.loading)&&(null===(e=_.current)||void 0===e||e.focus())}),[null===l||void 0===l?void 0:l.loading,_]);var b=Re.useRef(null),w=Re.useState(!1),S=w[0],E=w[1],I=Re.useState(0),C=I[0],O=I[1],T=Re.useCallback((function(){var e=b.current;if(e){var t=Math.abs(e.scrollHeight-C-e.clientHeight)<1;e.scrollHeight>e.clientHeight&&!t?E(!0):t&&E(!1)}}),[b,C]);return Re.useEffect((function(){var e=b.current;e&&(e.addEventListener("scroll",(function(){b.current&&O(b.current.scrollTop)})),new Fv((function(){T()})).observe(e))}),[T]),Re.useLayoutEffect((function(){T()}),[T]),Re.createElement("ui-alert-container",{ref:b,class:Be()({"show-fade":S})},Re.createElement("ui-alert-icon",null,n),Re.createElement("ui-alert-content",null,Re.createElement("h1",{id:e.ariaLabelledById,className:"title"},i),Re.createElement("p",{id:e.ariaDescribedById,className:"description"},o),c),Re.createElement("ui-alert-footer",null,function(e,t,n,r){var i,a,o=$v(e,"useShowAlert"),s=o[0],c=o.length>1?o[1]:null,l=o.length>2,u=l?o[2]:null;return"compact"===t||l||r?(i=Re.createElement(Re.Fragment,null,s,c,u),a=Re.createElement(Re.Fragment,null,Re.createElement("div",null,s.props.children),c&&Re.createElement("div",null,null===c||void 0===c?void 0:c.props.children),u&&Re.createElement("div",null,null===u||void 0===u?void 0:u.props.children))):(i=Re.createElement(Re.Fragment,null,u,c,s),a=Re.createElement(Re.Fragment,null,u&&Re.createElement("div",null,null===u||void 0===u?void 0:u.props.children),c&&Re.createElement("div",null,null===c||void 0===c?void 0:c.props.children),Re.createElement("div",null,s.props.children))),Re.createElement("ui-alert-actions",{class:Be()("standard",t,{"should-stack":r||l,"single-button":1===o.length}),ref:n},i,Re.createElement("div",{className:"buttons-measurer","aria-hidden":"true"},a))}(t,d,g,v),(null===l||void 0===l?void 0:l.loading)&&Re.createElement("ui-alert-loading-message",null,Re.createElement(yp,{ref:_,description:l.ariaLabel,size:l.indicatorSize||17,tabIndex:-1}),Re.createElement("p",{className:"description"},l.description))))}function Jv(e){return 1===e.length&&"string"===typeof e[0]}var ey=0;function ty(e){var t=e.originalProps,n=e.metadata,r=t.metadata,i=t.layoutMode,a=void 0===i?"layoutBox":i,o=t.desiredFontSize,s=void 0===o?0:o,c=r||n,l=c.svgPath,u=c[a],d=u.viewBox,h=u.height,f=u.width,p=u.translateX,g=u.translateY,m=u.baseline,v=u.capline,y="matrix(1 0 0 1 "+p+" "+g+")",_={viewBox:d,version:"1.1",xmlns:"http://www.w3.org/2000/svg",style:t.style||{},className:t.className||""};if(s>0){var b=s/(m-v),w=h*b;_.style.height=w+"px";var S=f*b;_.style.width=S+"px"}for(var E in _.className+="layoutBox"===a?" layout-box":" glyph-box",t)switch(E){case"layoutMode":case"desiredFontSize":case"className":case"style":case"metadata":break;default:_[E]=t[E]}return Le.a.createElement("svg",_,Le.a.createElement("g",{transform:y},Le.a.createElement("path",{d:l})))}var ny=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"clock",svgPath:"M59.1797 15.1855C86.7676 15.1855 109.619-7.61719 109.619-35.2539C109.619-62.8418 86.7676-85.6934 59.1309-85.6934C31.543-85.6934 8.74023-62.8418 8.74023-35.2539C8.74023-7.61719 31.5918 15.1855 59.1797 15.1855ZM59.1797 5.27344C36.7188 5.27344 18.7012-12.793 18.7012-35.2539C18.7012-57.7148 36.6699-75.7324 59.1309-75.7324C81.5918-75.7324 99.6582-57.7148 99.707-35.2539C99.707-12.793 81.6406 5.27344 59.1797 5.27344ZM34.4727-29.1992L59.1309-29.1992C61.3281-29.1992 63.0371-30.9082 63.0371-33.0566L63.0371-65.0879C63.0371-67.2363 61.3281-68.9453 59.1309-68.9453C56.9824-68.9453 55.2734-67.2363 55.2734-65.0879L55.2734-36.9141L34.4727-36.9141C32.2754-36.9141 30.6152-35.2539 30.6152-33.0566C30.6152-30.9082 32.2754-29.1992 34.4727-29.1992Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.46508300781261,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 102.1480712890625 100.9267578125",width:102.1480712890625,height:100.9267578125,translateX:-7.470952148437391,translateY:85.693359375,baseline:85.693359375,capline:15.2333984375}}})},ry=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"folder",svgPath:"M28.4668 9.76562L109.57 9.76562C118.896 9.76562 124.316 4.3457 124.316-6.10352L124.316-56.2988C124.316-66.748 118.848-72.168 108.301-72.168L62.8906-72.168C59.375-72.168 57.3242-72.998 54.6387-75.1953L51.8066-77.4414C48.3887-80.2734 45.8496-81.2012 40.7715-81.2012L26.9531-81.2012C17.8223-81.2012 12.4512-75.8789 12.4512-65.625L12.4512-6.10352C12.4512 4.3457 17.9199 9.76562 28.4668 9.76562ZM22.0215-64.7949C22.0215-69.2871 24.4629-71.6309 28.8574-71.6309L38.2324-71.6309C41.6992-71.6309 43.7012-70.8496 46.4355-68.6035L49.2676-66.3086C52.6367-63.5254 55.2734-62.5977 60.3516-62.5977L107.764-62.5977C112.256-62.5977 114.746-60.2539 114.746-55.4688L114.746-52.6367L22.0215-52.6367ZM29.0527 0.195312C24.5117 0.195312 22.0215-2.14844 22.0215-6.88477L22.0215-44.1895L114.746-44.1895L114.746-6.88477C114.746-2.14844 112.256 0.195312 107.764 0.195312Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:66.11500732421882,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 112.842041015625 91.9423828125",width:112.842041015625,height:91.9423828125,translateX:-11.474042968749927,translateY:81.201171875,baseline:81.201171875,capline:10.7412109375}}})},iy=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"trash",svgPath:"M33.2031 15.332L78.0762 15.332C85.5469 15.332 90.3809 10.791 90.7227 3.27148L94.043-67.0898L99.4141-67.0898C101.855-67.0898 103.76-68.9453 103.76-71.3867C103.76-73.7793 101.855-75.6348 99.4141-75.6348L77.6855-75.6348L77.6855-82.959C77.6855-90.4297 72.9492-94.873 64.8438-94.873L46.2891-94.873C38.2324-94.873 33.4473-90.4297 33.4473-82.959L33.4473-75.6348L11.7676-75.6348C9.42383-75.6348 7.4707-73.7793 7.4707-71.3867C7.4707-68.9453 9.42383-67.0898 11.7676-67.0898L17.1875-67.0898L20.5078 3.32031C20.8496 10.8398 25.6348 15.332 33.2031 15.332ZM42.4316-82.5195C42.4316-85.0586 44.1895-86.6699 46.9238-86.6699L64.209-86.6699C66.9434-86.6699 68.7012-85.0586 68.7012-82.5195L68.7012-75.6348L42.4316-75.6348ZM34.1309 6.68945C31.4453 6.68945 29.4922 4.73633 29.3457 1.85547L26.0742-67.0898L85.0098-67.0898L81.8359 1.85547C81.7383 4.73633 79.7852 6.68945 77.002 6.68945ZM41.2109-1.17188C43.2617-1.17188 44.5801-2.49023 44.5312-4.39453L43.0664-55.5664C43.0176-57.5195 41.6504-58.7891 39.6973-58.7891C37.6465-58.7891 36.3281-57.4707 36.377-55.5664L37.8418-4.39453C37.8906-2.44141 39.2578-1.17188 41.2109-1.17188ZM55.6152-1.17188C57.666-1.17188 59.0332-2.49023 59.0332-4.39453L59.0332-55.5664C59.0332-57.4707 57.666-58.7891 55.6152-58.7891C53.5645-58.7891 52.1973-57.4707 52.1973-55.5664L52.1973-4.39453C52.1973-2.49023 53.5645-1.17188 55.6152-1.17188ZM70.0195-1.17188C71.9727-1.17188 73.291-2.44141 73.3398-4.39453L74.8535-55.5664C74.9023-57.4707 73.5352-58.7891 71.5332-58.7891C69.5801-58.7891 68.2129-57.5195 68.1641-55.5664L66.6504-4.39453C66.6016-2.49023 67.9688-1.17188 70.0195-1.17188Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:79.2751440429688,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 98.050048828125 119.2861328125",width:98.050048828125,height:119.2861328125,translateX:-5.709902343749945,translateY:94.873046875,baseline:94.873046875,capline:24.4130859375}}})},ay=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"rectangle.stack.badge.person.crop",svgPath:"M33.1543-83.9355L94.9707-83.9355C94.6289-88.2812 92.0898-90.625 87.4023-90.625L40.6738-90.625C36.0352-90.625 33.4473-88.2812 33.1543-83.9355ZM23.1934-69.873L104.932-69.873C104.248-74.5117 101.904-77.1484 96.7285-77.1484L31.3965-77.1484C26.2207-77.1484 23.877-74.5117 23.1934-69.873ZM43.1641 20.0195L99.6094 20.0195C110.107 20.0195 115.625 14.5508 115.625 4.15039L115.625-46.0449C115.625-56.4941 110.107-61.9141 99.6094-61.9141L28.4668-61.9141C17.9199-61.9141 12.4512-56.4941 12.4512-46.0449L12.4512-30.2246C14.0137-30.4688 15.625-30.6641 17.2363-30.6641C18.8477-30.6641 20.4102-30.4688 22.0215-30.2246L22.0215-45.2637C22.0215-50 24.5117-52.3438 29.0527-52.3438L99.0234-52.3438C103.516-52.3438 106.055-50 106.055-45.2637L106.055 3.32031C106.055 8.05664 103.516 10.4492 99.0234 10.4492L47.8516 10.4492C46.9238 13.916 45.3125 17.1875 43.1641 20.0195ZM17.2363 26.5625C30.9082 26.5625 42.3828 15.1367 42.3828 1.41602C42.3828-12.3535 31.0059-23.6816 17.2363-23.6816C3.4668-23.6816-7.91016-12.3535-7.91016 1.41602C-7.91016 15.2344 3.4668 26.5625 17.2363 26.5625ZM17.2363 2.53906C12.8418 2.53906 9.42383-1.07422 9.42383-6.05469C9.42383-10.5469 12.8418-14.3066 17.2363-14.3066C21.6309-14.3066 25.0488-10.5469 25.0488-6.05469C25.0488-1.07422 21.6309 2.53906 17.2363 2.53906ZM17.2363 20.2148C10.1562 20.2148 4.58984 16.5039 3.125 13.1836L3.125 12.9395C4.6875 9.91211 9.86328 6.54297 17.2363 6.54297C24.6582 6.54297 29.7852 9.91211 31.3477 12.9883L31.3477 13.1836C29.834 16.5039 24.3652 20.2148 17.2363 20.2148Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:69.92679931640623,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 143.98681640625 123.5849609375",width:143.98681640625,height:123.5849609375,translateX:7.910136718749982,translateY:97.0224609375,baseline:97.0224609375,capline:26.5625}}})},oy="text/x-driveitemsmove",sy=oy+"-origin-";function cy(e){var t=e===Gu?e:e.split("::")[2];return""+sy+t}function ly(e,t){return e.every((function(e){var n=t.driveItemCache.read(e);if(!n)return!1;if(e===Hu||e===Gu)return!1;if(Ku(n))return!1;var r=t.driveItemTransactionStatusCache.get(e);return"Prepared"===(null!=r?r:"Prepared")}))}function uy(e,t){if(e)for(var n=t.read(e);;){if(!n)return;if(Ku(n))return n;if(!n.parentId)return;n=t.read(n.parentId)}}function dy(e,t){for(var n=[],r=e;;){var i;if(!(r=null==(i=t.read(r))?void 0:i.parentId))break;n.push(r)}return n}function hy(e){var t=xg().driveItemCache;return Object(bd.g)((function(){return e?dy(e,t):[]}),[t,e])}function fy(e){var t=function(e){return hy(e).find((function(e){return Ju(e)}))}(e);return py(t)}function py(e){var t=xg();return Object(bd.g)((function(){var n;if(!e||!Ju(e))return!1;var r=t.shareRecordCache.read(e);return!r||"READ_ONLY"===(null==(n=r.currentUserParticipant)?void 0:n.permission)}),[t,e])}function gy(e){var t=Yv()[0],n=Cu(),r=xg(),i=Re.useRef(0),a=Re.useRef(),o=fy(null==e?void 0:e.id),s=py(null==e?void 0:e.id),c=o||s,l=(null==e?void 0:e.id)===Gu,u=hy(null==e?void 0:e.id).includes(Gu),d=Re.useContext(_g),h=!d||d.usedStorageInBytes>=d.totalStorageInBytes,f=d&&d.usedStorageInBytes>=d.totalStorageInBytes,p=zg();if(e){var g=e.id,m=e.onFilesDragEnter,v=e.onFilesDragLeave,y=e.onDragTargetChanged,_=e.onDragTargetCleared,b=e.onUpload,w=e.onMove,S=e.onTrashItems,E=e.onFilesDragOverComplete,I=e.showOutOfQuotaAlert;return{onDragEnter:function(e){e.preventDefault(),e.stopPropagation(),i.current+=1,i.current>1||T(e)},onDragOver:function(e){e.preventDefault(),e.stopPropagation(),T(e)},onDragLeave:function(e){e.preventDefault(),e.stopPropagation(),i.current-=1,i.current>0||a.current&&(null==v||v(),O())},onDrop:function(e){if("upload"===a.current)b(e.dataTransfer.files,g),O();else if("move"===a.current){var o=e.dataTransfer.getData(oy);if(o){var s=o.split(","),c=function(e,t,n){if(!ly(e,n))return!1;var r=uy(t,n.driveItemCache);if(r){var i=r.supportedExtensions;if(e.filter(xu).map(n.driveItemCache.read).map((function(e){var t;return null==(t=e.extension)?void 0:t.toLowerCase()})).some((function(e){return e&&!i.includes(e)})))return!1}return!0}(s,g,r);c&&(l?S(s):w(s,g));var u=uy(g,r.driveItemCache);if(u){var d=u.supportedExtensions;if(s.filter(xu).map((function(e){var t;return null==(t=r.driveItemCache.read(e).extension)?void 0:t.toLowerCase()})).some((function(e){return e&&!d.includes(e)}))){var h,p=null!=(h=u.name)?h:"";t({title:Mu(n,"DragDrop.Alert.CannotMoveToAppFolder.Multiple.Title"),description:Mu(n,"DragDrop.Alert.CannotMoveToAppFolder.Multiple.Message",{appName:p}),buttons:[{title:Mu(n,"Common.Confirm"),action:"cancel"}],cancelAction:"cancel",onActionSelected:function(){}})}}}O()}else e.dataTransfer.files.length&&f&&I(e);e.preventDefault(),e.stopPropagation(),i.current=0}}}function C(e){a.current||(a.current=e,m(),y({action:e,destinationFolderId:g}))}function O(){a.current&&(a.current=void 0,null==E||E(),_(g))}function T(e){var t,n=e.dataTransfer.types;c||u?O():n.includes(oy)&&(t=g,!n.some((function(e){var n,r;return!!e.startsWith(sy)&&(t===Gu?t.toLowerCase():null==(n=t.split("::")[2])?void 0:n.toLowerCase())===(null==(r=e.substring(29))?void 0:r.toLowerCase())})))?C("move"):!n.includes("Files")||h||l||"file-picker"===p?O():C("upload"),function(e){"move"===a.current?e.dataTransfer.dropEffect="move":"upload"===a.current?e.dataTransfer.dropEffect="copy":e.dataTransfer.dropEffect="none"}(e)}}function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},my.apply(this,arguments)}function vy(e){var t=Re.useRef(null),n=hy(e.currentWorkingDirectoryId),r="TRASH_ROOT"===e.currentWorkingDirectoryId||-1!==n.indexOf("TRASH_ROOT");Re.useEffect((function(){r?du("sessionVisitedTabRecentlyDeleted"):"recents"===e.source?du("sessionVisitedTabRecents"):"browse"===e.source?du("sessionVisitedTabBrowse"):"shared"===e.source&&du("sessionVisitedSharedView")}),[r,e.source]);var i=Cu(),a=xg().driveItemCache,o=Re.useContext(Pm),s=null!=o&&o.ok?o.value.favorites:null,c=Object(bd.g)((function(){return s?s.slice(0,50).map((function(e){return a.read(e)})):[]}),[a,s]),l=!(null==o||!o.ok)&&o.value.isPartial,u=c.length>=50,d=(null==o?void 0:o.ok)&&!l;Re.useEffect((function(){d&&du("recentsFinishedLoading")}),[d]);var h=e.onUpload,f=e.onMove,p=e.onTrashItems,g=e.showOutOfQuotaAlert,m=e.onDragTargetChanged,v=e.onDragTargetCleared,y=e.onTransitionEnd,_={onUpload:h,onMove:f,onTrashItems:p,showOutOfQuotaAlert:g,onDragTargetChanged:m,onDragTargetCleared:v},b=pp();return Re.createElement("ul",{onTransitionEnd:y,className:Be()("source-list",{compact:"compact"===b}),ref:t,role:"tree","aria-hidden":e.isOpen?void 0:"true","aria-label":Au("FilesGrid.SourceList.AXTitle.Sidebar"),tabIndex:void 0===e.source?0:-1,onFocus:function(e){var n=e.target,r=t.current;if(n===r){var i=r.querySelector(".source-list-item[aria-selected=true]");null==i||i.focus({preventScroll:!0})}},onKeyDown:function(e){var n=e.key,r=e.target;if("ArrowUp"===n||"ArrowDown"===n){var i,a,o=Array.from(t.current.querySelectorAll("[role=treeitem]")),s=o.indexOf(r);if(-1===s){if("ArrowDown"===n)null==(i=o[0])||i.focus();else if("ArrowUp"===n){var c;null==(c=o[o.length-1])||c.focus()}}else if("ArrowDown"===n)null==(a=o[s+1])||a.focus();else if("ArrowUp"===n){var l;null==(l=o[s-1])||l.focus()}}}},e.optionalHeader,Re.createElement("li",{role:"none"},Re.createElement("ul",{className:"subtree",role:"group"},Re.createElement(yy,{label:Mu(i,"FilesGrid.SourceList.Source.Recents"),icon:Re.createElement(ny,null),isSelected:"recents"===e.source,onActivate:e.navigateToRecents}),Re.createElement(yy,my({id:e.browseFolderId,label:Mu(i,"FilesGrid.SourceList.Source.Browse"),icon:Re.createElement(ry,null),isSelected:"browse"===e.source&&e.currentWorkingDirectoryId===e.browseFolderId,onActivate:function(){e.navigateToFolder(e.browseFolderId)}},_)),Re.createElement(yy,{label:Mu(i,"FilesGrid.SourceList.Source.Shared"),icon:Re.createElement(ay,null),isSelected:"shared"===e.source,onActivate:e.navigateToShared}),Re.createElement(yy,my({id:Gu,label:Mu(i,"FilesGrid.SourceList.Source.RecentlyDeleted"),icon:Re.createElement(iy,null),isSelected:"browse"===e.source&&r,onActivate:function(){e.navigateToFolder("TRASH_ROOT")},className:"trash"},_)))),0===c.length?null:Re.createElement("li",{className:"favorites",role:"none"},Re.createElement("div",{className:"source-list-header"},Mu(i,"FilesGrid.SourceList.Source.Favorites")),Re.createElement("ul",{className:"subtree",role:"group"},c.map((function(t){return t?Re.createElement(yy,my({key:t.id,id:t.id,label:t.name||"",icon:Re.createElement(ry,null),isSelected:"browse"===e.source&&e.currentWorkingDirectoryId===t.id,onActivate:function(){du("sessionVisitedTabFavorites"),gu("visitedFavoriteViaSidebar"),e.navigateToFolder(t.id)}},_)):null})),l?u?Re.createElement("li",{role:"none",className:"max-loaded-message"},Mu(i,"FilesGrid.SourceList.Source.Favorites.MaxLoaded")):Re.createElement("li",{role:"none",className:"loading-more"},Re.createElement(yp,{description:Mu(i,"FilesGrid.SourceList.Source.Favorites.LoadingMoreAX")})):null)))}function yy(e){var t=e.onActivate,n=e.label,r=e.icon,i=e.isSelected,a=e.id,o=e.onUpload,s=e.onMove,c=e.onTrashItems,l=e.showOutOfQuotaAlert,u=e.onDragTargetChanged,d=e.onDragTargetCleared,h=e.className,f=Re.cloneElement(r,{className:"source-list-icon",layoutMode:"glyphBox",desiredFontSize:11}),p=Re.useRef(null),g=Re.useState(!1),m=g[0],v=g[1],y=gy(a&&o&&s&&c&&l&&u&&d&&!navigator.userAgent.includes("Gecko/")?{id:a,onFilesDragEnter:function(){v(!0)},onDragTargetChanged:u,onDragTargetCleared:d,onMove:s,onUpload:o,onTrashItems:c,onFilesDragOverComplete:function(){v(!1)},showOutOfQuotaAlert:l}:void 0);return Re.createElement("li",my({role:"treeitem",ref:p,className:Be()("source-list-item",Up(),m?"drag-hover":void 0,h)},y,{onClick:t,onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||t()},"aria-selected":i,tabIndex:i?0:-1}),f,Re.createElement("span",{className:"source-list-item-title"},n))}function _y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,by(r.key),r)}}function by(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}var wy=function(e){var t=e.initialSelectionState,n=e.onSelectionStateChanged,r=e.getIsItemSelectable,i=e.selectionDispatchRef,a=e.children,o=Re.useReducer(Ay,void 0,(function(){return new Ty(t,r||function(e){return"object"!==typeof e})})),s=o[0],c=o[1];Re.useImperativeHandle(i,(function(){return c}),[c]);var l=Re.useRef(n);Re.useEffect((function(){l.current=n}),[n]),Re.useEffect((function(){null==l.current||l.current({selection:s.selection,currentId:s.currentId,selectionStartId:s.selectionStartId,currentIdChangedByKeyboard:s.currentIdChangedByKeyboard})}),[s]);var u=function(e){var t=Re.useRef(e),n=Iy(),r=n[0],i=n[1],a=Iy(),o=a[0],s=a[1],c=Cy(),l=c[0],u=c[1],d=Iy(),h=d[0],f=d[1],p=Cy(),g=p[0],m=p[1],v=Iy(),y=v[0],_=v[1],b=Iy(),w=b[0],S=b[1],E=Re.useState((function(){return{useIsSelected:function(e){var n=Re.useState(void 0!==e&&t.current.isSelected(e)),r=n[0],i=n[1];return Re.useEffect((function(){return g(e,i)}),[e]),r},useCurrentId:function(){var e=Re.useState(t.current.currentId),n=e[0],i=e[1];return Re.useEffect((function(){return r(i)}),[]),n},getCurrentId:function(){return t.current.currentId},useHasCurrentId:function(){var e=Re.useState(!!t.current.currentId),n=e[0],r=e[1];return Re.useEffect((function(){return o(r)}),[]),n},useIsCurrentId:function(e){var n=Re.useState(void 0!==e&&t.current.currentId===e),r=n[0],i=n[1];return Re.useEffect((function(){return l(e,i)}),[e]),r},useOnCurrentIdChangedByKeyboard:function(e){Re.useLayoutEffect((function(){return h(e)}),[e])},useSelectedItems:function(){var e=Re.useState(t.current.selection),n=e[0],r=e[1];return Re.useEffect((function(){return y(r)}),[]),n},getSelectedItems:function(){return t.current.selection},useSelectedItemsCount:function(){var e=Re.useState(t.current.selection.size),n=e[0],r=e[1];return Re.useEffect((function(){return w(r)}),[]),n}}}))[0];return Re.useEffect((function(){ke.unstable_batchedUpdates((function(){var n=t.current;for(var r of n.selection)e.isSelected(r)||m(r,!1);for(var a of e.selection)n.isSelected(a)||m(a,!0);n.currentId!==e.currentId&&(i(e.currentId),s(!!e.currentId),u(n.currentId,!1),u(e.currentId,!0)),_(e.selection),S(e.selection.size),e.currentIdChangedByKeyboard&&e.currentId&&f(e.currentId),t.current=e}))}),[e,i,u,s,f,m,_,S]),E}(s),d=Re.useMemo((function(){return[u,c]}),[u]);Dg(Re.useCallback((function(e,t){u.getSelectedItems().has(e)&&c(t?{type:"replace",oldId:e,newId:t}:{type:"remove",id:e})}),[u,c]));var h=Ig(),f=Re.useRef();return Re.useLayoutEffect((function(){h||!0!==f.current||c({type:"clear"}),f.current=h}),[h]),Re.createElement(Ey.Provider,{value:d},a)};function Sy(){var e=Re.useContext(Ey);return bg(e,"useMultiSelection","MultiSelectionProvider"),e}var Ey=Re.createContext(void 0);function Iy(){var e=Re.useState((function(){return new Set}))[0];return[Re.useCallback((function(t){return e.add(t),function(){e.delete(t)}}),[e]),Re.useCallback((function(t){for(var n of e)n(t)}),[e])]}function Cy(){var e=Re.useState((function(){return new Map}))[0];return[Re.useCallback((function(t,n){var r;if(void 0===t)return function(){};var i,a,o,s=null!=(r=e.get(t))?r:(i=e,a=t,o=new Set,i.set(a,o),o);return s.add(n),function(){s.delete(n)}}),[e]),Re.useCallback((function(t,n){if(void 0!==t){var r=e.get(t);if(r)for(var i of r)i(n)}}),[e])]}var Oy,Ty=function(){function e(){this.selection=void 0,this._currentId=void 0,this._byKeyboard=void 0,this.currentIdChangedByKeyboard=!1,this.selectionStartId=void 0,this.getIsItemSelectable=void 0;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];i instanceof e?(this.selection=new Set(i.selection),this._currentId=i.currentId,this.selectionStartId=i.selectionStartId,this.getIsItemSelectable=i.getIsItemSelectable):("object"===typeof i?(this.selection=new Set(i.selection),this._currentId=i.currentId,this.selectionStartId=i.selectionStartId):(this.selection=new Set,this._currentId=void 0,this.selectionStartId=void 0),this.getIsItemSelectable=n[1])}var t,n,r=e.prototype;return r.isSelected=function(e){return this.selection.has(e)},r.getSelectedItems=function(){return Array.from(this.selection.values())},r.add=function(e){this.getIsItemSelectable(e)&&(this.selection.add(e),this.currentId=e,this.selectionStartId=e)},r.remove=function(e){this.selection.delete(e),this.selectionStartId===e&&this.lastAddedId()!==e&&(this.selectionStartId=this.lastAddedId()),this._currentId===e&&this.lastAddedId()!==e&&(this.currentId=this.lastAddedId())},r.clear=function(){this.selection.clear(),this.currentId=void 0,this.selectionStartId=void 0},r.extendSelectionTo=function(e,t){var n=this.getStartIndex(t),r=this.getCurrentIndex(t),i=this.getIndex(t,e);n<0?this.selectExclusively(e):this.selectBetween(n,i,r,t)},r.move=function(e,t,n){var r=this.getStartIndex(n),i=this.getCurrentIndex(n),a=i+t,o=Math.min(Math.max(0,a),n.length-1);"extend"===e?this.selectBetween(r,o,i,n):"select"===e?this.selectExclusively(n[o]):this.currentId=n[o]},r.inRange=function(e,t,n){var r=Math.min(e,t),i=Math.max(e,t);return r<=n&&n<=i},r.selectBetween=function(e,t,n,r){for(var i=0;i<r.length;i++){var a=r[i];this.inRange(e,t,i)?this.getIsItemSelectable(a)&&!this.selection.has(a)&&this.selection.add(a):this.inRange(e,n,i)&&this.selection.delete(a)}this.currentId=r[t]},r.selectExclusively=function(e){this.getIsItemSelectable(e)&&(this.clear(),this.add(e))},r.selectInclusively=function(e){this.add(e)},r.selectAll=function(e){for(var t of(this.clear(),e))this.getIsItemSelectable(t)&&this.selection.add(t)},r.toggle=function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:!this.selection.has(e))?this.add(e):(this.remove(e),this._currentId=e)},r.toggleCurrent=function(e){this.currentId&&this.toggle(this.currentId,e)},r.getIndex=function(e,t){return void 0===t?-1:e.indexOf(t)},r.getStartIndex=function(e){return this.getIndex(e,this.selectionStartId)},r.getCurrentIndex=function(e){return this.getIndex(e,this.currentId)},r.lastAddedId=function(){var e=Array.from(this.selection.keys());return e[e.length-1]},t=e,(n=[{key:"currentId",get:function(){return this._currentId},set:function(e){this._byKeyboard&&e&&e!==this._currentId&&(this.currentIdChangedByKeyboard=!0),this._currentId=e}}])&&_y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ay(e,t){var n=t.type,r=new Ty(e);switch(r._byKeyboard=t.byKeyboard,n){case"add":"id"in t?r.add(t.id):t.ids.forEach((function(e){return r.add(e)}));break;case"remove":"id"in t?r.remove(t.id):t.ids.forEach((function(e){r.remove(e)}));break;case"replace":var i=t.oldId,a=t.newId;r.remove(i),r.add(a),r.currentId===i&&(r.currentId=a),r.selectionStartId===i&&r.getIsItemSelectable(a)&&(r.selectionStartId=a);break;case"toggle":r.toggle(t.id,t.selected);break;case"toggleCurrent":r.toggleCurrent(t.selected);break;case"clear":r.clear();break;case"selectExclusively":r.selectExclusively(t.id);break;case"selectInclusively":r.selectInclusively(t.id);break;case"move":r.move(t.subtype,t.count,t.items);break;case"extendSelection":r.extendSelectionTo(t.id,t.items);break;case"selectAll":r.selectAll(t.items)}return r}function Ny(e,t,n,r,i,a){if(Hy(e,t,i))return{contentRect:void 0,arrowRect:void 0,arrowDirection:Oy.None};var o=Wy(e,t,n,r,i,a),s=o[0],c=o[1];if(void 0===s||!i&&void 0===c)return{contentRect:void 0,arrowRect:void 0,arrowDirection:Oy.None};var l={left:s.left,right:s.right,width:s.width,top:0,height:0,bottom:0};if(!i&&t&&c){var u=jy(n.top+n.height,r),d=xy(u+t.height,r),h=xy(d+e.height,r)-d;return l.top=d,l.height=h,l.bottom=Vy(d,h,r),{contentRect:l,arrowRect:{left:c.left,right:c.right,width:c.width,top:u,height:t.height,bottom:Vy(u,t.height,r)},arrowDirection:Oy.Up}}var f=xy(n.top+n.height,r),p=xy(f+e.height,r)-f;return l.top=f,l.height=p,l.bottom=Vy(f,p,r),{contentRect:l,arrowRect:void 0,arrowDirection:Oy.None,transformOrigin:[Gy(l.width,n.width,a),0]}}function My(e,t,n,r,i,a){if(Hy(e,t,i))return{contentRect:void 0,arrowRect:void 0,arrowDirection:Oy.None};var o=Wy(e,t,n,r,i,a),s=o[0],c=o[1];if(void 0===s||!i&&void 0===c)return{contentRect:void 0,arrowRect:void 0,arrowDirection:Oy.None};var l={left:s.left,right:s.right,width:s.width,top:0,height:0,bottom:0};if(!i&&t&&c){var u=jy(n.top,r),d=ky(u-t.height,r),h=d,f=ky(h-e.height,r),p=h-f;return l.top=f,l.height=p,l.bottom=Vy(f,p,r),{contentRect:l,arrowRect:{left:c.left,right:c.right,width:c.width,top:d,height:t.height,bottom:Vy(d,t.height,r)},arrowDirection:Oy.Down}}var g=ky(n.top,r),m=ky(g-e.height,r),v=g-m;return l.top=m,l.height=v,l.bottom=Vy(m,v,r),{contentRect:l,arrowRect:void 0,arrowDirection:Oy.None,transformOrigin:[Gy(l.width,n.width,a),l.height]}}function Dy(e,t,n,r,i,a){if(Hy(e,t,i))return{contentRect:void 0,arrowRect:void 0,arrowDirection:Oy.None};var o=zy(e,t,n,r,i,a),s=o[0],c=o[1];if(void 0===s||!i&&void 0===c)return{contentRect:void 0,arrowRect:void 0,arrowDirection:Oy.None};var l={top:s.top,bottom:s.bottom,height:s.height,left:0,width:0,right:0};if(!i&&t&&c){var u=Uy(n.left,r),d=Fy(u-t.height,r),h=d,f=Fy(h-e.width,r),p=h-f;return l.left=f,l.width=p,l.right=By(f,p,r),{contentRect:l,arrowRect:{top:c.top,bottom:c.bottom,height:c.height,left:d,width:t.width,right:By(d,t.width,r)},arrowDirection:Oy.Right}}var g=Fy(n.left,r),m=Fy(g-e.width,r),v=g-m;return l.left=m,l.width=v,l.right=By(m,v,r),{contentRect:l,arrowRect:void 0,arrowDirection:Oy.None,transformOrigin:[l.width,Gy(l.height,n.height,a)]}}function Ry(e,t,n,r,i,a){if(Hy(e,t,i))return{contentRect:void 0,arrowRect:void 0,arrowDirection:Oy.None};var o=zy(e,t,n,r,i,a),s=o[0],c=o[1];if(void 0===s||void 0===c&&!i)return{contentRect:void 0,arrowRect:void 0,arrowDirection:Oy.None};var l={top:s.top,bottom:s.bottom,height:s.height,left:0,width:0,right:0};if(!i&&t&&c){var u=Uy(n.left+n.width,r),d=Py(u+t.height,r),h=Py(d+e.width,r)-d;return l.left=d,l.width=h,l.right=By(d,h,r),{contentRect:l,arrowRect:{top:c.top,bottom:c.bottom,height:c.height,left:u,width:t.width,right:By(u,t.width,r)},arrowDirection:Oy.Left}}var f=Py(n.left+n.width,r),p=Py(f+e.width,r)-f;return l.left=f,l.width=p,l.right=By(f,p,r),{contentRect:l,arrowRect:void 0,arrowDirection:Oy.None,transformOrigin:[0,Gy(l.height,n.height,a)]}}!function(e){e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right",e[e.None=4]="None"}(Oy||(Oy={}));var Ly=4,ky=function(e,t){return Math.max(e,t.top)},xy=function(e,t){return Math.min(e,t.top+t.height)},Fy=function(e,t){return Math.max(e,t.left)},Py=function(e,t){return Math.min(e,t.left+t.width)},jy=function(e,t){return xy(ky(e,t),t)},Uy=function(e,t){return Py(Fy(e,t),t)},By=function(e,t,n){return n.left+n.right+n.width-(e+t)},Vy=function(e,t,n){return n.top+n.bottom+n.height-(e+t)};function Wy(e,t,n,r,i,a){if(!i&&(null===a||void 0===a?void 0:a.includes("corner")))return[void 0,void 0];var o=Uy(n.left+function(){switch(a){case"left corner":return 0;case"right corner":return n.width;default:return n.width/2}}(),r),s=Fy(o-function(){switch(a){case"left":return n.width/2;case"left corner":return e.width;case"right":return e.width-n.width/2;case"right corner":return 0;default:return e.width/2}}(),r),c=Py(s+e.width,r);c-s<e.width&&(s=Fy(c-e.width,r));var l=c-s,u={left:s,right:By(s,l,r),width:l};if(!i&&t){var d=o-t.width/2;d+t.width>c&&(d=c-t.width),d<s&&(d=s);var h=d+t.width/2;return h-Ly<n.left||h+Ly>n.left+n.width?[void 0,void 0]:[u,{width:t.width,left:d,right:By(d,t.width,r)}]}return[u,void 0]}function zy(e,t,n,r,i,a){var o=jy(n.top+n.height/2,r),s=ky(o-function(){switch(a){case"top":return n.height/2;case"bottom":return e.height-n.height/2;default:return e.height/2}}(),r),c=xy(s+e.height,r);c-s<e.height&&(s=ky(c-e.height,r));var l=c-s,u={top:s,bottom:Vy(s,l,r),height:l};if(!i&&t){var d=o-t.width/2;d+t.width>c&&(d=c-t.width),d<s&&(d=s);var h=d+t.width/2;return h-Ly<n.top||h+Ly>n.top+n.height?[void 0,void 0]:[u,{height:t.height,top:d,bottom:Vy(d,t.height,r)}]}return[u,void 0]}var Hy=function(e,t,n){return void 0===e||void 0===t&&!n},Gy=function(e,t,n){var r=e/2;return"right"===n||"bottom"===n?r=e-t/2:"left"===n||"top"===n?r=t/2:"left corner"===n?r=e:"right corner"===n&&(r=0),r};function $y(e,t,n,r,i){return Ny(e,t,n,r,i,"left")}function Ky(e,t,n,r,i){return Ny(e,t,n,r,i,"right")}function Qy(e,t,n,r,i){return Ny(e,t,n,r,i,"left corner")}function qy(e,t,n,r,i){return Ny(e,t,n,r,i,"right corner")}function Zy(e,t,n,r,i){return My(e,t,n,r,i,"left")}function Yy(e,t,n,r,i){return My(e,t,n,r,i,"right")}function Xy(e,t,n,r,i){return My(e,t,n,r,i,"left corner")}function Jy(e,t,n,r,i){return My(e,t,n,r,i,"right corner")}function e_(e,t,n,r,i){return Dy(e,t,n,r,i,"top")}function t_(e,t,n,r,i){return Dy(e,t,n,r,i,"bottom")}function n_(e,t,n,r,i){return Ry(e,t,n,r,i,"top")}function r_(e,t,n,r,i){return Ry(e,t,n,r,i,"bottom")}var i_={sidePreference:[My,Ny,Ry,Dy],inset:{left:7,right:7,top:7,bottom:7},anchorMargin:4};function a_(e){var t,n=(t=e.sidePreference,function(e,n,r,i,a,o){if(0===t.length)return{contentRect:void 0,arrowRect:void 0,arrowDirection:Oy.None};for(var s=new Array(t.length),c=0;c<t.length;c++){var l=(0,t[c])(e,n,r,i,a,o);if(s[c]=l,void 0!==l.contentRect&&(!a&&void 0!==l.arrowRect||a)&&e&&e.width===l.contentRect.width&&e.height===l.contentRect.height)return l}for(var u=s[0],d=u.contentRect?u.contentRect.width*u.contentRect.height:0,h=1;h<s.length;h++){var f=s[h],p=f.contentRect?f.contentRect.width*f.contentRect.height:0;p>d&&(d=p,u=f)}return 0===d?function(e,t,n,r){if(void 0===e||void 0===t)return{contentRect:void 0,arrowRect:void 0,arrowDirection:Oy.None};var i=Uy(r.left+r.width/2-e.width/2,r),a=Py(i+e.width,r)-i,o=Uy(r.top+r.height/2-e.height/2,r),s=xy(o+e.height,r)-o;return{contentRect:{top:o,left:i,right:By(i,a,r),bottom:Vy(o,s,r),width:a,height:s},arrowRect:{top:0,left:0,right:By(0,t.width,r),bottom:Vy(0,t.height,r),width:t.width,height:t.height},arrowDirection:Oy.None}}(e,n,0,i):u});return function(t,r,i,a,o,s){return n(t,r,s_(i,function(e){if("number"===typeof e)return-e;var t,n=Object.assign({},e);for(t in n){var r=n[t];"number"===typeof r&&(n[t]=-r)}return n}(e.anchorMargin)),s_(a,e.inset),o,s)}}var o_={left:Dy,leftTop:e_,leftBottom:t_,right:Ry,rightTop:n_,rightBottom:r_,inlineStart:function(e,t,n,r,i,a){return"rtl"===a?Ry(e,t,n,r,i):Dy(e,t,n,r,i)},inlineStartTop:function(e,t,n,r,i,a){return"rtl"===a?n_(e,t,n,r,i):e_(e,t,n,r,i)},inlineStartBottom:function(e,t,n,r,i,a){return"rtl"===a?r_(e,t,n,r,i):t_(e,t,n,r,i)},inlineEnd:function(e,t,n,r,i,a){return"rtl"===a?Dy(e,t,n,r,i):Ry(e,t,n,r,i)},inlineEndTop:function(e,t,n,r,i,a){return"rtl"===a?e_(e,t,n,r,i):n_(e,t,n,r,i)},inlineEndBottom:function(e,t,n,r,i,a){return"rtl"===a?t_(e,t,n,r,i):r_(e,t,n,r,i)},above:My,top:My,topLeft:Zy,topRight:Yy,topLeftCorner:Xy,topRightCorner:Jy,topInlineStart:function(e,t,n,r,i,a){return"rtl"===a?Yy(e,t,n,r,i):Zy(e,t,n,r,i)},topInlineEnd:function(e,t,n,r,i,a){return"rtl"===a?Zy(e,t,n,r,i):Yy(e,t,n,r,i)},topInlineStartCorner:function(e,t,n,r,i,a){return"rtl"===a?Jy(e,t,n,r,i):Xy(e,t,n,r,i)},topInlineEndCorner:function(e,t,n,r,i,a){return"rtl"===a?Xy(e,t,n,r,i):Jy(e,t,n,r,i)},below:Ny,bottom:Ny,bottomLeft:$y,bottomRight:Ky,bottomLeftCorner:Qy,bottomRightCorner:qy,bottomInlineStart:function(e,t,n,r,i,a){return"rtl"===a?Ky(e,t,n,r,i):$y(e,t,n,r,i)},bottomInlineEnd:function(e,t,n,r,i,a){return"rtl"===a?$y(e,t,n,r,i):Ky(e,t,n,r,i)},bottomInlineStartCorner:function(e,t,n,r,i,a){return"rtl"===a?qy(e,t,n,r,i):Qy(e,t,n,r,i)},bottomInlineEndCorner:function(e,t,n,r,i,a){return"rtl"===a?Qy(e,t,n,r,i):qy(e,t,n,r,i)}};function s_(e,t){var n,r,i,a;return"number"===typeof t?n=r=i=a=t:(n=t.left||0,r=t.right||0,i=t.top||0,a=t.bottom||0),{width:e.width-n-r,height:e.height-i-a,left:e.left+n,right:e.right+r,top:e.top+i,bottom:e.bottom+a}}var c_=["styles"];function l_(){return l_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l_.apply(this,arguments)}var u_=function(e){var t=e.styles,n=void 0===t?{}:t,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,c_);return Le.a.createElement("svg",l_({className:n.icon||"icon",width:"16",height:"10",viewBox:"0 0 40 20",fill:"inherit",xmlns:"http://www.w3.org/2000/svg"},r),Le.a.createElement("path",{d:"M3.878-1.415l13.01 16.111a4 4 0 006.224 0L36.159-1.46",stroke:"var(--theme-color-gray3)",strokeWidth:".2",fillRule:"evenodd"}))},d_=["styles"];function h_(){return h_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h_.apply(this,arguments)}var f_,p_=function(e){var t=e.styles,n=void 0===t?{}:t,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,d_);return Le.a.createElement("svg",h_({className:n.icon||"icon",width:"16",height:"10",viewBox:"0 0 40 20",fill:"inherit",xmlns:"http://www.w3.org/2000/svg"},r),Le.a.createElement("path",{d:"M3.878-1.415l13.01 16.111a4 4 0 006.224 0L36.159-1.46",stroke:"var(--theme-color-gray3)",strokeWidth:".2",fillRule:"evenodd"}))},g_=Re.forwardRef((function(e,t){var n,r,i,a=e.arrowAsset||Re.createElement(u_,null),o=e.cornerArrowAsset||Re.createElement(p_,null),s=Re.useRef(null),c=Re.useState(),l=c[0],u=c[1],d=Re.useState(),h=d[0],f=d[1],p=e.remeasureToken,g=Re.useRef(p),m=p!==g.current?void 0:l;Re.useLayoutEffect((function(){g.current=p;var e=s.current,t=e.getBoundingClientRect(),n=t.width,r=t.height,i=getComputedStyle(e).direction;u({width:n,height:r}),f(i)}),[p]);var v=1.5,y=Re.useState(),_=y[0],b=y[1];Re.useLayoutEffect((function(){var e=getComputedStyle(s.current),t=parseFloat(e.getPropertyValue("border-bottom-left-radius"));isNaN(t)||t<v||b(t)}),[]);var w=Re.useRef(null),S=Re.useState(),E=S[0],I=S[1];Re.useLayoutEffect((function(){var e=w.current.getBoundingClientRect(),t=e.width,n=e.height;I({width:t,height:n})}),[]);var C,O=e.anchorRef;e.anchorRect?C=e.anchorRect:O&&null!=O.current&&(C=O.current.getBoundingClientRect());var T,A,N,M,D=function(e){var t=Re.useState({width:e.documentElement.clientWidth,height:e.documentElement.clientHeight}),n=t[0],r=t[1];return Re.useEffect((function(){var t=function(){r({width:e.documentElement.clientWidth,height:e.documentElement.clientHeight})},n=e.defaultView;if(n)return n.addEventListener("resize",t),function(){n.removeEventListener("resize",t)}}),[e]),n}(null!==(r=null===(n=null===O||void 0===O?void 0:O.current)||void 0===n?void 0:n.ownerDocument)&&void 0!==r?r:window.document),R={width:D.width,height:D.height,top:0,left:0,bottom:0,right:0};if(void 0===m||void 0===C)T=v_,N=Oy.None;else{var L=(e.positioner?e.positioner:m_)(m,E,C,R,null!==(i=e.arrowless)&&void 0!==i&&i,h);T=L.contentRect||v_,A=L.arrowRect,N=L.arrowDirection,M=L.transformOrigin}var k,x,F,P,j,U=T,B={top:0,left:0},V={top:0,left:0},W=a;if(null!=T&&y_(T)){var z=T,H=N===Oy.Up,G=N===Oy.Down,$=N===Oy.Left,K=N===Oy.Right,Q=N===Oy.None;K?k="arrow-direction-right":$?k="arrow-direction-left":G?k="arrow-direction-down":H?k="arrow-direction-up":Q&&(k="arrow-hidden"),U={width:H||G||Q?z.width:z.width+(null!=A?A.height:0),height:$||K||Q?z.height:z.height+(null!=A?A.height:0)},B={width:z.width,height:z.height};var q=e.pinPosition||f_.TopLeft;if(Q)q===f_.TopLeft||q===f_.TopRight?U.top=z.top:q!==f_.BottomLeft&&q!==f_.BottomRight||(U.bottom=z.bottom),q===f_.TopLeft||q===f_.BottomLeft?U.left=z.left:q!==f_.TopRight&&q!==f_.BottomRight||(U.right=z.right),M&&(F=b_(M[0],M[1]));else if(null!=A){V={width:A.width,height:A.height},q===f_.TopLeft||q===f_.TopRight?(U.top=Math.min(A.top,z.top),V.top=A.top-U.top,B.top=z.top-U.top):q!==f_.BottomLeft&&q!==f_.BottomRight||(U.bottom=Math.min(A.bottom,z.bottom),V.bottom=A.bottom-U.bottom,B.bottom=z.bottom-U.bottom),q===f_.TopLeft||q===f_.BottomLeft?(U.left=Math.min(A.left,z.left),V.left=A.left-U.left,B.left=z.left-U.left):q!==f_.TopRight&&q!==f_.BottomRight||(U.right=Math.min(A.right,z.right),V.right=A.right-U.right,B.right=z.right-U.right);var Z=0;null!=V.left?H||G?Z=V.left+A.width/2:$?Z=V.left:K&&(Z=V.left+A.height):null!=V.right&&null!=U.width&&(H||G?Z=U.width-V.right-A.width/2:$?Z=U.width-V.right-A.height:K&&(Z=U.width-V.right));var Y=0;null!=V.top?$||K?Y=V.top+A.width/2:H?Y=V.top:G&&(Y=V.top+A.height):null!=V.bottom&&null!=U.height&&($||K?Y=U.height-(V.bottom+A.width/2):H?Y=U.height-V.bottom-A.height:G&&(Y=U.height-V.bottom)),F=b_(Z,Y);var X,J,ee,te,ne=void 0!==_?_-v:0;if(H||G?(X=A.left,J=A.width,ee=z.left,te=z.width):($||K)&&(X=A.top,J=A.width,ee=z.top,te=z.height),void 0!==X&&void 0!==J&&void 0!==ee&&void 0!==te){var re=X-ee,ie=ee+te-(X+J);re<ne?P=Math.max(0,re)+v:ie<ne&&(P=Math.max(0,ie)+v),(re<ne||ie<ne)&&(H&&re<ne||$&&re<ne?(j="borderTopLeftRadius",x="arrow-position-top-left"):G&&re<ne||$&&ie<ne?(j="borderBottomLeftRadius",x="arrow-position-bottom-left"):G&&ie<ne||K&&ie<ne?(j="borderBottomRightRadius",x="arrow-position-bottom-right"):(H&&ie<ne||K&&re<ne)&&(j="borderTopRightRadius",x="arrow-position-top-right"),W=o)}}}var ae,oe=e.style?e.style:{};oe=Object.assign({},oe,__(B),{boxSizing:"border-box"}),j&&(oe=Object.assign({},oe,((ae={})[j]=P,ae)));var se=Re.useState(!1),ce=se[0],le=se[1],ue=Re.useState(0),de=ue[0],he=ue[1],fe=zv(e.children);return Re.useEffect((function(){var e=s.current;e&&e.addEventListener("scroll",(function(){s.current&&he(s.current.scrollTop)}))}),[]),Re.useLayoutEffect((function(){var e=s.current;if(e){var t=e.scrollHeight>e.clientHeight;Math.abs(e.scrollHeight-e.scrollTop-e.clientHeight)<1?le(!1):t&&fe&&le(!0)}}),[s,e.children,de,fe]),Re.createElement("ui-popover",{ref:t,class:Be()(e.variant||"standard",k,x,e.className,{"is-measuring":!y_(T)}),style:Object.assign({maxWidth:R.width,transformOrigin:F},__(U),e.outerWrapperStyle||{},{position:"fixed"})},Re.createElement("ui-popover-content",{ref:s,style:oe,class:Be()({"ui-overlay-actions-separator":ce,"contains-ui-overlay-actions":fe})},e.children),Re.createElement("ui-popover-arrow",{ref:w,style:__(V)},W))}));g_.displayName="UIPopover",function(e){e[e.TopLeft=0]="TopLeft",e[e.TopRight=1]="TopRight",e[e.BottomRight=2]="BottomRight",e[e.BottomLeft=3]="BottomLeft"}(f_||(f_={}));var m_=a_(i_),v_={top:-9999,left:-9999};function y_(e){return"width"in e&&"height"in e}function __(e){var t=Object.assign({},e);return void 0!==t.left&&(t.left=Math.round(t.left)),void 0!==t.top&&(t.top=Math.round(t.top)),void 0!==t.right&&(t.right=Math.round(t.right)),void 0!==t.bottom&&(t.bottom=Math.round(t.bottom)),t}function b_(e,t){return Math.round(e)+"px "+Math.round(t)+"px"}function w_(e){if(null==e)return"[missing node]";if("string"===typeof e||"boolean"===typeof e||"number"===typeof e)return"[text node]";var t=e;return"function"===typeof t.type?t.type.displayName||t.type.name:"string"===typeof t.type?t.type:"symbol"===typeof t.type&&"Symbol(react.fragment)"===t.type.toString()?"React.Fragment":"[unknown node]"}function S_(e){var t=e.changedTouches.item(0);return t?document.elementFromPoint(t.clientX,t.clientY):null}var E_=["styles"];function I_(){return I_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I_.apply(this,arguments)}var C_=function(e){var t=e.styles,n=void 0===t?{}:t,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,E_);return Le.a.createElement("svg",I_({className:n["ui-menu-icon-check"]||"ui-menu-icon-check",width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg"},r),Le.a.createElement("path",{d:"M8 16c4.376 0 8-3.631 8-8 0-4.376-3.631-8-8.008-8C3.624 0 0 3.624 0 8c0 4.369 3.631 8 8 8zm-.878-4.165c-.267 0-.487-.11-.69-.384l-1.97-2.416a.852.852 0 01-.187-.51c0-.352.274-.643.627-.643.227 0 .4.07.596.33l1.592 2.055 3.35-5.38c.148-.236.352-.362.556-.362.345 0 .667.236.667.604 0 .173-.102.353-.196.518L7.78 11.451c-.164.259-.392.384-.658.384z",fill:"inherit"}))};function O_(e){return Wv(e,(function(e){var t,n;return Vv(e)&&(null===(n=null===(t=e.props)||void 0===t?void 0:t.className)||void 0===n?void 0:n.includes("icloud-icon-container"))}))}var T_;function A_(e){var t=e.ariaLabel,n=e.checkedAsset,r=e.children,i=e.checkable,a=e.exclusiveCheckable,o=e.checked,s=e.disabled,c=e.destructive,l=e.className,u=e.id,d=e._highlightType,h=e._isHighlighted,f=e._isChosen,p="menuitem";i&&(p="menuitemcheckbox"),a&&(p="menuitemradio"),"listbox"===e.containerRole&&(p="option");var g=O_(r);return Re.createElement("ui-menu-item",{role:p,id:u,"aria-checked":i||a?o?"true":"false":void 0,"aria-disabled":!!s||void 0,"aria-selected":h,"aria-label":t,tabindex:h&&!s?0:-1,class:Be()(l,h?"is-highlighted "+d:void 0,{"is-chosen":f,"contains-icon":g,destructive:c})},o?n||Re.createElement(C_,{"aria-hidden":"true"}):void 0,r)}function N_(e){var t=e.href,n=e.target,r=e.rel,i=e.preventLinkNavigation,a=e.children,o=e.ariaLabel,s=e.disabled,c=e.className,l=e.id,u=e._highlightType,d=e._isHighlighted,h=e._isChosen,f=O_(a);return Re.createElement("a",{role:"menuitem",id:l,href:t,target:n,rel:r,"aria-disabled":!!s||void 0,"aria-label":o,tabIndex:d&&!s?0:-1,onClick:i?function(e){e.preventDefault()}:void 0,className:Be()(c,d?"is-highlighted "+u:void 0,{"is-chosen":h,"contains-icon":f})},a)}function M_(e){var t=e.className;return Re.createElement("ui-menu-divider",{"aria-hidden":"true",class:t})}!function(e){e.Discrete="DISCRETE",e.Continuous="CONTINUOUS"}(T_||(T_={}));var D_,R_=Re.forwardRef((function(e,t){var n=e.directionCSSClassName,r=e.hoverStart,i=e.hoverEnd;return Re.createElement("ui-menu-scroller",{ref:t,class:n,onMouseOver:r,onMouseLeave:i,onFocus:function(){},"aria-hidden":"true"})})),L_=Re.forwardRef((function(e,t){var n,r;!function(e){var t=new Set,n=!1;Re.Children.forEach(e,(function(e){if(U_(e)){var r=e.props,i=r.value,a=r.initialHighlighted;if(void 0===i)throw new Error("`UIMenuItem` must have a value, which may not be `undefined`.");if(t.has(i))throw new Error("Two UIMenuItems in one UIMenu may not have the same value ("+i+").");if(t.add(e.props.value),a){if(n)throw new Error("You can only specify `initialHighlighted` on one UIMenuItem per menu.");n=!0}}}))}(e.children);var i,a,o,s,c=Re.useState((function(){var t=-1;return Re.Children.forEach(e.children,(function(n,r){(U_(n)||B_(n))&&!e.highlightedIndex&&n.props.initialHighlighted&&(t=r)})),t})),l=c[0],u=c[1],d="number"===typeof e.highlightedIndex?e.highlightedIndex:l,h=Re.useState(null!==(n=e.initialHighlightType)&&void 0!==n?n:null),f=h[0],p=h[1],g=Re.useState(void 0),m=g[0],v=g[1],y=Re.useState(-1),_=y[0],b=y[1],w=(Re.Children.toArray(e.children).filter((function(e){return!!e})).map((function(t,n){var r,i,a=(U_(t)||B_(t))&&t.key||n;if(U_(t))return Re.createElement(A_,Object.assign({},t.props,{key:a,_isHighlighted:n===d,_highlightType:f,_isChosen:t.props.value===m,containerRole:null!==(r=e.role)&&void 0!==r?r:"menu"}));if(B_(t)){if("listbox"===e.role)throw new Error("Unexpected child of menu. Cannot render link items when the role is listbox");return Re.createElement(N_,Object.assign({},t.props,{key:a,_isHighlighted:n===d,_highlightType:f,_isChosen:t.props.value===m}))}if(Vv(i=t)&&i.type===M_)return Re.createElement(M_,Object.assign({},t.props,{key:a}));if(t)throw new Error("Unexpected child of menu. Got "+w_(t)+", expected UIMenuItem or UIMenuDivider.")}))||[]).filter(Boolean),S=zp(),E=e.scrollMode||(S?T_.Continuous:T_.Discrete),I=Re.useRef(null),C=function(e){var t=mm(),n=Re.useRef(void 0!==e?Math.max(0,e):void 0);return void 0===n.current&&e!==n.current&&(n.current=Math.max(0,e||0)),[n.current||0,Re.useCallback((function(e){n.current=e,t()}),[t])]}(e.initialScrollOffset),O=C[0],T=C[1],A=Re.useState(0),N=A[0],M=A[1],D=e.frame,R=void 0!==e.initialScrollOffset?e.initialScrollOffset:E===T_.Discrete?0:void 0,L=!1,k=!1;void 0!==D&&(i=D.top,a=D.left,P_(D)&&(o=D.width,s=D.height,I.current&&void 0!==R&&(R>0?(i=D.top,s=Math.min(I.current.scrollHeight-R+N,D.height),L=s<D.height):R<0&&(i=D.top-R-N,s=Math.min(D.height+R+N,D.height),k=i>D.top))));var x=!1,F=!1;if(I.current&&void 0!==s){x=O>0;var P=I.current.scrollHeight;F=O+s<P}var j=Re.useRef(0);function U(t,n){if(u(t),p(n),e.onItemHighlighted)if(t>-1){var r=w[t];r&&e.onItemHighlighted(r.props.value,t)}else e.onItemHighlighted(void 0,-1)}function B(t){if(void 0===m&&t>-1){var n=w[t];if(n){var r=n.props.value;v(r),b(t),e.onItemSelectedSync&&e.onItemSelectedSync(r,t)}}}function V(e){var t=w[e];return U_(t)||B_(t)&&!0===t.props.preventLinkNavigation}function W(e,t){if(D&&P_(D)&&I.current&&void 0!==R){var n=0;if(L?n=D.height-(I.current.scrollHeight-R):k&&k&&(n=-R),t===D_.Down&&k){var r=N+e-O;r<n?M(r):(M(n),D.height<I.current.scrollHeight&&T(O+(r-n)))}else if(t===D_.Up&&L){var i=N+Math.abs(e-O);i<n?(M(i),T(e)):(M(n),D.height<I.current.scrollHeight&&T(O+(i-n)))}else T(e)}}function z(e){if(null!==I.current&&void 0!==s){var t=I.current.children,n=null;if(e===D_.Up)for(var r=0;r<t.length;r++){var i=t[r];if(i.offsetTop+i.offsetHeight>O)return null!=n?n.offsetHeight:null;n=i}else for(var a=t.length-1;a>=0;a--){var o=t[a];if(o.offsetTop<O+s)return null!=n?n.offsetHeight:null;n=o}}return null}var H=Re.useRef(null);function G(e,t){if(I.current){var n,r=z(t);n=null!=r&&t===D_.Up?O-r:null!=r&&t===D_.Down?O+r:e,W(k_(I.current,n),t)}}var $=Re.useRef(G);$.current=G;var K=Re.useRef(null),Q=Re.useRef(""),q=Re.useRef(null);function Z(e){q.current&&clearTimeout(q.current),Q.current+=e;var t=function(e,t){var n,r,i;if(!e||!t)return-1;function a(e){return"number"===typeof e&&(e=String(e)),e.normalize?e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase():e.toLowerCase()}for(var o=0;o<t.length;o++){var s=t[o],c=null===(n=null===s||void 0===s?void 0:s.props)||void 0===n?void 0:n.children;if(null===(r=null===s||void 0===s?void 0:s.props)||void 0===r?void 0:r.typeAheadTextValue){if(!s.props.disabled&&a(null===(i=null===s||void 0===s?void 0:s.props)||void 0===i?void 0:i.typeAheadTextValue).startsWith(a(e)))return o}else if(("string"===typeof c||"number"===typeof c)&&(U_(s)||B_(s))&&!s.props.disabled&&a(c).startsWith(a(e)))return o}return-1}(Q.current,w);-1!==t&&t!==l&&X(t,t>l?D_.Down:D_.Up),q.current=setTimeout((function(){Q.current=""}),500)}function Y(e,t){if(I.current){var n,r;t?(n=e===D_.Down?w.length:-1,r=-e):(n=-1===d&&e===D_.Up?w.length:d,r=e);var i=function(e,t,n){var r,i;n===D_.Up?(r=t-1,i=0):(r=t+1,i=e.length-1);for(var a=r;a*n<=i*n;a+=n){var o=e[a];if(o&&(U_(o)||B_(o))&&!o.props.disabled)return a}return t}(w,n,r);X(i,e)}}function X(t,n){var r;if(null===(r=null===I||void 0===I?void 0:I.current)||void 0===r?void 0:r.children){var i,a=I.current.children[t];if(!a)return;!0!==e.dontManageFocus&&(K.current=a),U(t,"keyboard"),void 0!==s&&(i=t===w.length-1?I.current.scrollHeight-s:0===t?0:k_(I.current,function(e,t){if(I.current&&void 0!==s)if(t===D_.Up){var n=x?28:0,r=e.offsetTop-n;if(r<O)return r}else if(t===D_.Down){var i=F?28:0,a=O+s,o=e.offsetTop+e.offsetHeight+i;if(o>a)return o-s}return O}(a,n)),W(i,n)),te()}}Re.useEffect((function(){return function(){clearTimeout(q.current)}}),[]),Re.useLayoutEffect((function(){E===T_.Discrete&&I.current&&(I.current.scrollTop=O+(x?28:0)),!0!==e.dontManageFocus&&K.current&&(K.current.focus(),K.current=null)}));var J=Re.useRef(null),ee=Re.useRef(!1),te=Re.useCallback((function(){var e=J.current;e&&window.clearTimeout(e),ee.current=!0,J.current=setTimeout((function(){ee.current=!1}),200)}),[]);Re.useLayoutEffect((function(){te()}),[te]),Re.useEffect((function(){var e=I.current;if(e){var t=function(e){E===T_.Discrete&&e.preventDefault()};return e.addEventListener("wheel",t,{passive:!1}),function(){return e.removeEventListener("wheel",t)}}}),[E]);var ne=mm();Re.useEffect(ne,[ne]);var re=Re.useRef(null),ie=Re.useRef(null),ae=Re.useRef(null),oe=Re.useRef(!1),se=function(){return!1===oe.current||ae.current!==I.current.scrollTop||ie.current!==I.current.getBoundingClientRect().top},ce=e.dontManageFocus?-1:-1===d?0:-1,le=Hp();return Re.createElement("ui-menu",{id:e.id,"aria-label":e.ariaLabel,class:Be()(le,Bv,e.variant||"standard",x?"has-overflow-top":null,F?"has-overflow-bottom":null,e.className),ref:t,style:{position:D?"absolute":"relative",top:i,left:a,width:o,height:s},onMouseMove:function(e){re.current={x:e.clientX,y:e.clientY}},onMouseUp:function(t){var n=t.target;e._unsafe_allowPointerPropagationForSproutCore||t.stopPropagation();var r=F_(n);r&&B(j_(r))},onMouseOver:function(e){if(!ee.current){var t=F_(e.target);t?U(j_(t),"mouse"):U(-1,null)}},onMouseLeave:function(e){void 0===m&&U(-1,null)},onTouchStart:function(e){if(null!==ie.current?oe.current=!1:(ie.current=I.current.getBoundingClientRect().top,ae.current=I.current.scrollTop,oe.current=!0),!ee.current){var t=F_(e.target);t?U(j_(t),"touch"):U(-1,null)}},onTouchMove:function(e){var t=se();if(t&&(oe.current=!1),!ee.current){var n=S_(e);if(n){e.preventDefault();var r=F_(n);r&&!t?U(j_(r),"touch"):U(-1,null)}}},onTouchEnd:function(t){var n=se();if(ie.current=null,ae.current=null,oe.current=!1,!ee.current){var r=S_(t);if(r){if(d>-1&&V(d)&&t.preventDefault(),e._unsafe_allowPointerPropagationForSproutCore||t.stopPropagation(),!0===n)return;var i=F_(r);i?B(j_(i)):U(-1,null)}}},onMouseDown:function(t){e.dontManageFocus&&t.preventDefault()},onFocus:function(e){var t=e.target;x_(t)&&U(j_(t),null==f?"keyboard":f)},onKeyDown:function(e){switch(e.key){case"ArrowDown":e.preventDefault(),Y(D_.Down,e.metaKey);break;case"ArrowUp":e.preventDefault(),Y(D_.Up,e.metaKey);break;case"Home":e.preventDefault(),Y(D_.Up,!0);break;case"End":e.preventDefault(),Y(D_.Down,!0);break;case" ":Q.current.length>0?(e.preventDefault(),e.stopPropagation(),Z(e.key)):d>-1&&(V(d)&&e.preventDefault(),B(d));break;case"Enter":d>-1&&(V(d)&&e.preventDefault(),B(d));break;case"Tab":e.preventDefault();break;case"Escape":break;default:return void(e.key&&1===e.key.length&&!e.metaKey&&(e.preventDefault(),e.stopPropagation(),Z(e.key)))}},onAnimationEnd:function(t){void 0!==m&&(e.onItemSelected(m,_),v(void 0),b(-1),t.stopPropagation())},tabindex:ce},Re.createElement(R_,{directionCSSClassName:"top",hoverStart:function(){H.current=setInterval((function(){return $.current(0,D_.Up)}),50)},hoverEnd:function(){H.current&&clearInterval(H.current)}}),Re.createElement("ui-menu-scroll-container",{role:null!==(r=e.role)&&void 0!==r?r:"menu",ref:I,style:{position:"relative"},onWheel:function(e){if(I.current&&E===T_.Discrete&&void 0!==s){j.current+=e.deltaY;var t=j.current>0?D_.Down:D_.Up,n=z(t);if(n&&t*j.current>=n/2){for(var r=k_(I.current,O+n*t);t*j.current>=n/2;)j.current-=n/2*t;W(r,t);var i=re.current;if(i){var a=i.y+n*t,o=document.elementFromPoint(i.x,a);x_(o)&&U(j_(o),"mouse")}}else if(null===n){j.current=0;var c=O;t===D_.Up?c=0:t===D_.Down&&(c=I.current.scrollHeight-s),W(c,t)}}}},w),Re.createElement(R_,{directionCSSClassName:"bottom",hoverStart:function(){H.current=setInterval((function(){if(I.current){var e=I.current.scrollHeight-I.current.offsetHeight;$.current(e,D_.Down)}}),50)},hoverEnd:function(){H.current&&clearInterval(H.current)}}))}));function k_(e,t){return e?Math.max(Math.min(e.scrollHeight-e.offsetHeight,t),0):t}function x_(e){return!!e&&("UI-MENU-ITEM"===e.tagName||"A"===e.tagName)&&"true"!==e.getAttribute("aria-disabled")}function F_(e){if(!e.closest)return x_(e)?e:(console.warn("To support UIMenuItems with child elements in IE11, add a 'closest' polyfill to your project."),null);var t=e.closest("[role=menuitem]")||e.closest("ui-menu-item");return t&&x_(t)?t:null}function P_(e){return"width"in e&&"height"in e}function j_(e){return e&&e.parentElement?Array.prototype.slice.call(e.parentElement.children).indexOf(e):-1}function U_(e){return Vv(e)&&e.type===A_}function B_(e){return Vv(e)&&e.type===N_}function V_(){return Re.createElement(Re.Fragment,null,Re.createElement("span",{className:"separator-visual","aria-hidden":"true"}),Re.createElement("span",{className:"separator-hidden"},"/"))}function W_(e,t){var n=new Map;return[function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=t.apply(null,i),s=n.get(o);if(void 0!==s)return s;var c=e.apply(null,i);return n.set(o,c),c},function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];0===r.length?n.clear():n.delete(t.apply(null,r))}]}L_.displayName="UIMenu",function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(D_||(D_={}));var z_=null,H_=W_((function(e,t){return z_||(z_=document.createElement("canvas").getContext("2d")),z_.font=t||"",z_.measureText(e)}),(function(e,t){return e+"$$"+t}))[0];function G_(e,t,n,r){var i=t-H_(n,r).width,a=i/2,o=$_(e,a,1,r).replace(/\s+$/,""),s=$_(e,i-H_(o,r).width,-1,r).replace(/^\s+/,""),c=Math.abs(o.length-s.length),l=$_(e,a,-1,r).replace(/^\s+/,""),u=$_(e,i-H_(l,r).width,1,r).replace(/\s+$/,""),d=Math.abs(u.length-l.length);return c>1&&d>1?$_(e,a,1).replace(/\s+$/,"")+n+$_(e,a,-1).replace(/^\s+/,""):c<=1&&d>1?o+n+s:d<=1&&c>1?u+n+l:o.length+s.length>=l.length+u.length?o+n+s:u+n+l}function $_(e,t,n,r){for(var i=0,a=0,o=0,s="",c="",l=e.length;i<l;)if(i++,s=n>0?e.substr(0,i):e.substr(l-i),!e.substr(i-1,i).match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/)){if((a=H_(s,r).width)>t)return c;a!==o&&(c=s),o=a}return c}function K_(e){var t=e.path;return Re.useMemo((function(){var e=t.map((function(e){return function(e,t,n){for(var r=1,i="",a=[];i.length<e.length;){var o=e.substr(i.length),s=o.match(/^\s*\S+|\s+$/),c=i+s[0];if(H_(c,n).width<=t)i=c;else{if(1===r){i=G_(e,t,"\u2026",n);break}""===i&&(i=G_(s[0],t,"\u2026",n),o=e.substr(s[0].length)),a.push(i),e=o.trim(),i="",r++}}return a.push(i),a.join("\n")}(e,140,"13px")}));return Re.createElement("span",{className:"file-path",role:"text"},e.map((function(e,t,n){return Re.createElement("span",{key:t,className:"part"},e,t<n.length-1?Re.createElement(V_,null):null)})))}),[t.join("||")])}var Q_=["styles"];function q_(){return q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q_.apply(this,arguments)}var Z_=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Q_);return Le.a.createElement("svg",q_({width:"27",height:"18.66",viewBox:"0 0 27 18.66",xmlns:"http://www.w3.org/2000/svg"},t),Le.a.createElement("path",{d:"M0 5.597h22v-.748C22 2.823 20.973 1.8 18.958 1.8h-9.3c-.658 0-1.056-.157-1.54-.58l-.59-.492C6.887.177 6.393 0 5.434 0h-2.76C.978 0 0 .984 0 2.96v2.637zm0 9.354C0 16.987 1.017 18 3.042 18h16.207C20.983 18 22 16.977 22 14.95V6.886H0v8.066z"}))},Y_=["styles"];function X_(){return X_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X_.apply(this,arguments)}var J_=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Y_);return Le.a.createElement("svg",X_({width:"27",height:"18.66",viewBox:"0 0 27 18.66",xmlns:"http://www.w3.org/2000/svg"},t),Le.a.createElement("path",{d:"M21.088 9.824C23.748 9.824 26 7.6 26 4.912 26 2.224 23.776 0 21.088 0c-2.698 0-4.912 2.224-4.912 4.912a4.925 4.925 0 004.912 4.912zM0 5.81h15.006a5.126 5.126 0 01-.077-.793c0-.976.232-2.03.686-2.94H9.64c-.657 0-1.054-.154-1.537-.57l-.59-.483C6.875.483 6.382.309 5.424.309H2.67C.977.31 0 1.276 0 3.22v2.592zm21.078-.61c-.89 0-1.566-.734-1.566-1.74 0-.899.687-1.663 1.566-1.663.89 0 1.586.764 1.586 1.664 0 1.005-.696 1.74-1.586 1.74zm.01 3.491c-1.412 0-2.523-.725-2.843-1.392v-.048c.32-.6 1.306-1.267 2.843-1.267 1.538 0 2.524.667 2.833 1.276v.04c-.319.676-1.421 1.391-2.833 1.391zM3.036 18.004h16.176c1.731 0 2.746-1.006 2.746-2.998V11.11a6.347 6.347 0 01-.734.038c-2.67 0-4.98-1.585-5.908-4.07H0v7.928c0 2.002 1.015 2.998 3.036 2.998z",fill:"#000",fillRule:"nonzero"}))},eb=function(e){return"icon size-"+e},tb=function(e){var t=e.isShared,n=e.size,r=e.children,i=e.iconOnly,a=void 0!==i&&i,o=t?"shared-folder-icon":"folder-icon";return Re.createElement("div",{className:Be()("icon-item-container","folder",o,eb(n),a?"":"with-background")},Re.createElement("div",{className:"icon-wrapper"},Re.createElement("div",{className:"icon-item icon-folder"},!0===t?Re.createElement(J_,null):Re.createElement(Z_,null))),r)},nb=["styles"];function rb(){return rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rb.apply(this,arguments)}var ib=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,nb);return Le.a.createElement("svg",rb({width:"18",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 20"},t),Le.a.createElement("path",{d:"M10.026 10v8.5h3.356a.75.75 0 110 1.5H4.617a.75.75 0 110-1.5h3.356V10h2.053zm5.46-10a1 1 0 01.978.789l1.513 7A1 1 0 0116.999 9H1.001a1 1 0 01-.978-1.211l1.513-7A1 1 0 012.513 0h12.973zm.2 6.5H2.313a.5.5 0 100 1h13.371a.5.5 0 100-1z"}))},ab=["styles"];function ob(){return ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ob.apply(this,arguments)}var sb=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,ab);return Le.a.createElement("svg",ob({width:"22",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 18"},t),Le.a.createElement("path",{d:"M4.362 17.997h16.622a.983.983 0 00.72-.294.968.968 0 00.296-.712.957.957 0 00-.295-.702.982.982 0 00-.721-.294H6.404l-2.042 2.002zM3.206 16.96L15.771 4.664l-2.09-2.048L1.126 14.91l-1.1 2.55c-.055.15-.022.286.099.41.12.124.256.16.405.108l2.676-1.018zM16.813 3.665l1.191-1.146c.296-.29.45-.588.462-.893.012-.305-.115-.592-.38-.86L17.671.36c-.266-.26-.555-.38-.867-.356-.312.023-.616.176-.912.458L14.7 1.608l2.112 2.058z"}))},cb=["styles"];function lb(){return lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lb.apply(this,arguments)}var ub=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,cb);return Le.a.createElement("svg",lb({width:"18",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 20"},t),Le.a.createElement("path",{d:"M0 19.183c0 .26.076.46.228.603.152.143.361.214.628.214h1.985c.26 0 .468-.071.624-.214.155-.142.232-.344.232-.603v-4.499c0-.247-.077-.446-.232-.594-.156-.15-.363-.224-.624-.224H.856c-.267 0-.476.075-.628.224-.152.148-.228.347-.228.594v4.499zm4.762 0c0 .26.077.46.232.603.156.143.364.214.625.214h1.993c.26 0 .469-.071.624-.214.154-.142.232-.344.232-.603V9.726c0-.254-.078-.452-.232-.595-.155-.143-.363-.215-.624-.215H5.619c-.261 0-.47.072-.625.215-.155.143-.232.34-.232.595v9.457zm4.77 0c0 .26.077.46.232.603.155.143.362.214.623.214h1.995c.26 0 .468-.071.624-.214.155-.142.232-.344.232-.603V.818c0-.26-.077-.46-.232-.604C12.85.071 12.643 0 12.382 0h-1.995c-.26 0-.468.071-.623.214-.155.143-.232.344-.232.604v18.365zm4.77 0c0 .26.078.46.233.603.156.143.363.214.624.214h1.994c.26 0 .466-.071.619-.214.152-.142.228-.344.228-.603V5.65c0-.253-.076-.453-.228-.599-.153-.146-.359-.219-.62-.219H15.16c-.26 0-.468.073-.624.22-.155.145-.232.345-.232.598v13.533z"}))},db=["styles"];function hb(){return hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hb.apply(this,arguments)}var fb=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,db);return Le.a.createElement("svg",hb({width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},t),Le.a.createElement("path",{d:"M16.795 0c1.115 0 1.519.116 1.926.334.407.218.727.538.945.945.218.407.334.811.334 1.926v13.59c0 1.115-.116 1.519-.334 1.926a2.272 2.272 0 01-.945.945c-.407.218-.811.334-1.926.334H3.205c-1.115 0-1.519-.116-1.926-.334a2.272 2.272 0 01-.945-.945C.116 18.314 0 17.91 0 16.795V3.205C0 2.09.116 1.686.334 1.279.552.872.872.552 1.279.334 1.686.116 2.09 0 3.205 0h13.59zm-6.663 4.431H5.933V15H7.77v-3.516l2.362.001.263-.007a3.7 3.7 0 001.607-.435 3.185 3.185 0 001.256-1.236c.301-.53.452-1.145.452-1.847v-.014l-.007-.26a3.54 3.54 0 00-.445-1.584 3.177 3.177 0 00-1.256-1.231c-.536-.293-1.159-.44-1.87-.44zm-.454 1.51l.223.006c.58.035 1.038.208 1.375.52.379.35.568.846.568 1.489v.015l-.007.207c-.037.54-.224.966-.561 1.28-.379.353-.911.53-1.598.53H7.77V5.94h1.91z"}))},pb=["styles"];function gb(){return gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gb.apply(this,arguments)}var mb=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,pb);return Le.a.createElement("svg",gb({width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},t),Le.a.createElement("path",{d:"M16.795 0c1.115 0 1.519.116 1.926.334.407.218.727.538.945.945.218.407.334.811.334 1.926v13.59c0 1.115-.116 1.519-.334 1.926a2.272 2.272 0 01-.945.945c-.407.218-.811.334-1.926.334H3.205c-1.115 0-1.519-.116-1.926-.334a2.272 2.272 0 01-.945-.945C.116 18.314 0 17.91 0 16.795V3.205C0 2.09.116 1.686.334 1.279.552.872.872.552 1.279.334 1.686.116 2.09 0 3.205 0h13.59zM5.177 4.931H3.264L6.098 15.5h1.734L10 7.867h.105l2.179 7.633h1.727l2.834-10.569h-1.904l-1.83 7.99h-.105l-2.132-7.99H9.231l-2.11 7.99h-.106l-1.838-7.99z"}))},vb=["styles"];function yb(){return yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yb.apply(this,arguments)}var _b=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,vb);return Le.a.createElement("svg",yb({width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},t),Le.a.createElement("path",{d:"M16.795 0c1.115 0 1.519.116 1.926.334.407.218.727.538.945.945.218.407.334.811.334 1.926v13.59c0 1.115-.116 1.519-.334 1.926a2.272 2.272 0 01-.945.945c-.407.218-.811.334-1.926.334H3.205c-1.115 0-1.519-.116-1.926-.334a2.272 2.272 0 01-.945-.945C.116 18.314 0 17.91 0 16.795V3.205C0 2.09.116 1.686.334 1.279.552.872.872.552 1.279.334 1.686.116 2.09 0 3.205 0h13.59zm-9.33 4.931h-2.38l3.388 5.224L5.06 15.5h2.19l2.494-3.816 2.427 3.816h2.313l-3.451-5.3 3.506-5.269H12.28l-2.443 3.91-2.373-3.91z"}))},bb=["styles"];function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wb.apply(this,arguments)}var Sb=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,bb);return Le.a.createElement("svg",wb({width:"16",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 20"},t),Le.a.createElement("path",{d:"M2.949 20H13.05c1.97 0 2.949-.98 2.949-2.92V8.61H9.113c-1.218 0-1.798-.569-1.798-1.763V0H2.95C.989 0 0 .989 0 2.93v14.15C0 19.03.98 20 2.949 20zm5.08-6.627c.315 0 .573.057.774.171.202.114.35.278.447.49.097.212.146.466.146.76 0 .298-.05.555-.148.771a1.074 1.074 0 01-.45.5c-.201.116-.458.174-.769.174H6.843v-2.866zm3.855 0v.554h-1.286v.693h1.17v.537h-1.17v1.082H9.87v-2.866h2.014zm-6.517 0c.233 0 .428.045.584.136.157.09.275.21.355.36.08.151.12.317.12.498 0 .182-.041.348-.122.496a.882.882 0 01-.358.355 1.199 1.199 0 01-.587.132h-.541v.889H4.09v-2.866zm2.546.547h-.342v1.771h.342c.13 0 .24-.018.333-.054a.537.537 0 00.228-.165.724.724 0 00.132-.275c.028-.11.042-.239.042-.386 0-.196-.025-.36-.076-.493a.583.583 0 00-.238-.299.792.792 0 00-.42-.1zM5.2 13.903h-.384v.928H5.2a.57.57 0 00.26-.055.39.39 0 00.17-.158.506.506 0 00.058-.251c0-.15-.043-.266-.13-.345a.512.512 0 00-.358-.12zM8.62.103c.399.065.789.335 1.236.783l5.241 5.233c.457.457.733.83.79 1.213H9.14c-.351 0-.523-.168-.523-.504z"}))},Eb=["styles"];function Ib(){return Ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ib.apply(this,arguments)}var Cb=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Eb);return Le.a.createElement("svg",Ib({width:"16",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 20"},t),Le.a.createElement("path",{d:"M6.602 0L6.24 1.502 5.784 3.46a3.66 3.66 0 00-.086.783c0 1.157.628 1.922 1.712 2.118v2.341H5.755c-.333 0-.59.243-.59.56 0 .327.257.588.59.588H7.41v1.38H5.755c-.333 0-.59.243-.59.56 0 .327.257.588.59.588H7.41v1.38H5.755c-.333 0-.59.243-.59.56 0 .327.257.588.59.588H7.41v1.38H5.755a.573.573 0 100 1.148H7.41v1.063h1.18v-2.332h1.655a.573.573 0 100-1.147H8.59v-1.38h1.655c.333 0 .59-.253.59-.58a.573.573 0 00-.59-.568H8.59v-1.38h1.655c.333 0 .59-.253.59-.58a.573.573 0 00-.59-.568H8.59v-1.38h1.655c.333 0 .59-.253.59-.58a.573.573 0 00-.59-.568H8.59V6.362c1.084-.196 1.712-.96 1.712-2.118a3.66 3.66 0 00-.086-.783l-.455-1.952h.002L9.41 0h3.64c1.899 0 2.878.92 2.945 2.725l.004.204V17.08c0 1.95-.98 2.92-2.949 2.92H2.95C.979 20 0 19.03 0 17.08V2.93C0 .988.98 0 2.949 0h3.653zM8 3.134c.58 0 1.037.448 1.037 1.017 0 .578-.438 1.026-1.037 1.026-.59 0-1.037-.448-1.037-1.026 0-.569.457-1.017 1.037-1.017z"}))},Ob=["styles"];function Tb(){return Tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tb.apply(this,arguments)}var Ab=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Ob);return Le.a.createElement("svg",Tb({width:"24",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 18"},t),Le.a.createElement("path",{d:"M3.563 18h16.874c2.049 0 3.063-1.007 3.063-3.021V3.03C23.5 1.017 22.486 0 20.437 0H3.563C1.524 0 .5 1.017.5 3.031v11.948C.5 16.993 1.524 18 3.563 18zm4.253-8.75a2.417 2.417 0 01-2.41-2.416 2.424 2.424 0 012.41-2.415c1.316 0 2.399 1.095 2.399 2.415a2.415 2.415 0 01-2.4 2.415zm-4.234 7.186c-.946 0-1.512-.567-1.512-1.526v-.596l2.995-2.62c.43-.382.897-.577 1.326-.577.478 0 .976.195 1.405.596l1.863 1.682 4.662-4.146c.478-.43 1.015-.625 1.57-.625a2.27 2.27 0 011.552.635l4.487 4.165v1.506c0 .939-.576 1.506-1.503 1.506H3.582z"}))},Nb=["styles"];function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mb.apply(this,arguments)}var Db=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Nb);return Le.a.createElement("svg",Mb({width:"22",height:"24",viewBox:"0 0 22 24"},t),Le.a.createElement("path",{fill:"#FF2D55",d:"M8.736 0c.667 0 1.19.523 1.19 1.18v20.907c0 .656-.523 1.169-1.19 1.169a1.153 1.153 0 01-1.158-1.17V1.18C7.578.523 8.09 0 8.736 0zm7.578 2.215c.666 0 1.19.533 1.19 1.19v16.457c0 .656-.524 1.179-1.19 1.179a1.162 1.162 0 01-1.159-1.18V3.405c0-.656.513-1.19 1.159-1.19zM4.953 3.507c.656 0 1.179.533 1.179 1.19V18.56c0 .656-.523 1.179-1.18 1.179a1.164 1.164 0 01-1.168-1.18V4.697c0-.656.512-1.19 1.169-1.19zm7.577 1.59c.657 0 1.18.532 1.18 1.189V16.98a1.17 1.17 0 01-1.18 1.17 1.162 1.162 0 01-1.169-1.17V6.286c0-.657.513-1.19 1.17-1.19zM20.108 6.9c.656 0 1.18.533 1.18 1.18v7.095c0 .656-.524 1.169-1.18 1.169a1.156 1.156 0 01-1.169-1.17V8.08c0-.646.513-1.18 1.169-1.18zm-18.95.554c.667 0 1.19.533 1.19 1.189v5.978c0 .646-.523 1.169-1.19 1.169A1.16 1.16 0 010 14.622V8.644c0-.656.513-1.19 1.159-1.19z"}))},Rb=["styles"];function Lb(){return Lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lb.apply(this,arguments)}var kb=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Rb);return Le.a.createElement("svg",Lb({width:"22",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 18"},t),Le.a.createElement("path",{d:"M2.166 18h17.668C21.14 18 22 17.122 22 15.797V2.203C22 .878 21.14 0 19.834 0H2.166C.85 0 0 .878 0 2.203v13.594C0 17.122.851 18 2.166 18zm-.01-14.26a.42.42 0 01-.435-.43v-.925c0-.277.186-.468.454-.468h1.027c.241 0 .417.182.417.449v.944c0 .238-.176.43-.417.43H2.156zm3.471 4.3c-.296 0-.5-.2-.5-.505V2.423c0-.305.204-.506.5-.506h10.709c.296 0 .5.2.5.506v5.113c0 .305-.204.505-.5.505H5.627zm13.134-4.3a.423.423 0 01-.426-.429v-.944c0-.267.185-.449.426-.449h1.018c.277 0 .462.191.462.468v.925a.42.42 0 01-.435.43h-1.045zM2.156 6.84a.425.425 0 01-.435-.429v-.935c0-.267.176-.448.435-.448h1.046c.241 0 .417.181.417.448v.935c0 .23-.176.43-.417.43H2.156zm16.605 0a.43.43 0 01-.426-.429v-.935c0-.267.185-.448.426-.448h1.045c.26 0 .435.181.435.448v.935c0 .23-.175.43-.435.43h-1.045zM2.156 9.901a.42.42 0 01-.435-.429v-.935c0-.257.176-.438.435-.438h1.046c.241 0 .417.18.417.438v.935c0 .239-.176.43-.417.43H2.156zm16.605 0a.423.423 0 01-.426-.429v-.935a.42.42 0 01.426-.438h1.045c.26 0 .435.18.435.438v.935a.42.42 0 01-.435.43h-1.045zM5.627 16.073c-.296 0-.5-.2-.5-.505v-5.085c0-.305.204-.515.5-.515h10.709c.296 0 .5.21.5.515v5.085c0 .305-.204.505-.5.505H5.627zm-3.47-3.09c-.26 0-.436-.2-.436-.44v-.925c0-.267.176-.448.435-.448h1.046c.241 0 .417.181.417.448v.926c0 .238-.176.439-.417.439H2.156zm16.604 0a.431.431 0 01-.426-.44v-.925c0-.267.185-.448.426-.448h1.045c.26 0 .435.181.435.448v.926a.428.428 0 01-.435.439h-1.045zm-16.586 3.09a.437.437 0 01-.454-.458V14.7c0-.268.176-.449.435-.449h1.046c.241 0 .417.181.417.449v.934c0 .258-.176.44-.417.44H2.175zm16.586 0a.42.42 0 01-.426-.439V14.7c0-.268.185-.449.426-.449h1.045c.26 0 .435.181.435.449v.915a.439.439 0 01-.462.458H18.76z"}))},xb=["styles"];function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fb.apply(this,arguments)}var Pb=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,xb);return Le.a.createElement("svg",Fb({width:"16",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 20"},t),Le.a.createElement("path",{d:"M4.379 5.366a.605.605 0 01-.443-1.03.615.615 0 01.443-.17h7.253c.176 0 .323.056.441.17a.559.559 0 01.178.42.602.602 0 01-.619.61H4.379zm0 3.322a.597.597 0 01-.443-.18.592.592 0 01-.178-.43.56.56 0 01.178-.422.615.615 0 01.443-.17h7.253c.176 0 .323.057.441.17a.56.56 0 01.178.421c0 .168-.06.311-.178.431a.595.595 0 01-.441.18H4.379zm0 3.313a.614.614 0 01-.443-.17.56.56 0 01-.178-.42.605.605 0 01.62-.61l3.472-.002a.597.597 0 01.617.611.567.567 0 01-.173.42.606.606 0 01-.444.171H4.379zM0 17.024c0 .985.252 1.728.755 2.227.503.5 1.249.749 2.236.749h10.018c.993 0 1.74-.25 2.24-.749.5-.499.751-1.242.751-2.227V2.985c0-.986-.25-1.73-.75-2.232C14.75.251 14.001 0 13.01 0H2.99C2.005 0 1.259.251.756.753.252 1.255 0 2 0 2.985v14.039z"}))},jb={aac:"FilesGrid.File.Type.aac",abbu:"FilesGrid.File.Type.abbu",ai:"FilesGrid.File.Type.ai",aiff:"FilesGrid.File.Type.aiff",aif:"FilesGrid.File.Type.aiff",apk:"FilesGrid.File.Type.apk",app:"FilesGrid.File.Type.app",avi:"FilesGrid.File.Type.avi",band:"FilesGrid.File.Type.band",bat:"FilesGrid.File.Type.bat",bin:"FilesGrid.File.Type.bin",blend:"FilesGrid.File.Type.blend",bmp:"FilesGrid.File.Type.bmp",c:"FilesGrid.File.Type.c",c4d:"FilesGrid.File.Type.c4d",class:"FilesGrid.File.Type.class",cpp:"FilesGrid.File.Type.cpp",css:"FilesGrid.File.Type.css",cer:"FilesGrid.File.Type.cer",csv:"FilesGrid.File.Type.csv",dae:"FilesGrid.File.Type.dae",dmg:"FilesGrid.File.Type.dmg",dng:"FilesGrid.File.Type.dng",doc:"FilesGrid.File.Type.doc",docx:"FilesGrid.File.Type.docx",dxf:"FilesGrid.File.Type.dxf",eps:"FilesGrid.File.Type.eps",exe:"FilesGrid.File.Type.exe",fbx:"FilesGrid.File.Type.fbx",gif:"FilesGrid.File.Type.gif",gz:"FilesGrid.File.Type.gz",h:"FilesGrid.File.Type.h",hqx:"FilesGrid.File.Type.hqx",htm:"FilesGrid.File.Type.htm",html:"FilesGrid.File.Type.htm",epub:"FilesGrid.File.Type.epub",ibooks:"FilesGrid.File.Type.ibooks",icns:"FilesGrid.File.Type.icns",ico:"FilesGrid.File.Type.ico",ics:"FilesGrid.File.Type.ics",indd:"FilesGrid.File.Type.indd",ipa:"FilesGrid.File.Type.ipa",iso:"FilesGrid.File.Type.iso",java:"FilesGrid.File.Type.java",jpg:"FilesGrid.File.Type.jpg",js:"FilesGrid.File.Type.js",key:"FilesGrid.File.Type.key",keychain:"FilesGrid.File.Type.keychain",log:"FilesGrid.File.Type.log",m:"FilesGrid.File.Type.m",m3u:"FilesGrid.File.Type.m3u",m4a:"FilesGrid.File.Type.m4a",m4p:"FilesGrid.File.Type.m4p",m4r:"FilesGrid.File.Type.m4r",m4v:"FilesGrid.File.Type.m4v",mid:"FilesGrid.File.Type.mid",qt:"FilesGrid.File.Type.qt",mov:"FilesGrid.File.Type.qt",mp3:"FilesGrid.File.Type.mp3",mp4:"FilesGrid.File.Type.mp4",mpeg:"FilesGrid.File.Type.mpeg",mpg:"FilesGrid.File.Type.mpeg",numbers:"FilesGrid.File.Type.numbers",obj:"FilesGrid.File.Type.obj",otf:"FilesGrid.File.Type.otf",pages:"FilesGrid.File.Type.pages",pdf:"FilesGrid.File.Type.pdf",perl:"FilesGrid.File.Type.perl",pkg:"FilesGrid.File.Type.pkg",png:"FilesGrid.File.Type.png",pps:"FilesGrid.File.Type.pps",ppsx:"FilesGrid.File.Type.ppsx",ppt:"FilesGrid.File.Type.ppt",pptx:"FilesGrid.File.Type.pptx",ps:"FilesGrid.File.Type.ps",psd:"FilesGrid.File.Type.psd",py:"FilesGrid.File.Type.py",rar:"FilesGrid.File.Type.rar",rtf:"FilesGrid.File.Type.rtf",safariextz:"FilesGrid.File.Type.safariextz",scpt:"FilesGrid.File.Type.scpt",sh:"FilesGrid.File.Type.sh",sketch:"FilesGrid.File.Type.sketch",stl:"FilesGrid.File.Type.stl",svg:"FilesGrid.File.Type.svg",swift:"FilesGrid.File.Type.swift",tar:"FilesGrid.File.Type.tar",tiff:"FilesGrid.File.Type.tiff",tif:"FilesGrid.File.Type.tiff",ttf:"FilesGrid.File.Type.ttf",txt:"FilesGrid.File.Type.txt",vcf:"FilesGrid.File.Type.vcf",vcard:"FilesGrid.File.Type.vcf",wave:"FilesGrid.File.Type.wave",wav:"FilesGrid.File.Type.wave",wma:"FilesGrid.File.Type.wma",wmv:"FilesGrid.File.Type.wmv",xcodeproj:"FilesGrid.File.Type.xcodeproj",xhtml:"FilesGrid.File.Type.xhtml",xlam:"FilesGrid.File.Type.xlam",xls:"FilesGrid.File.Type.xls",xlsx:"FilesGrid.File.Type.xlsx",xml:"FilesGrid.File.Type.xml",zip:"FilesGrid.File.Type.zip"},Ub={key:"keynote-icon",numbers:"numbers-icon",pages:"pages-icon",pptx:"ppt-icon",ppt:"ppt-icon",xlsx:"excel-icon",xls:"excel-icon",xlam:"excel-icon",docx:"word-icon",doc:"word-icon",jpg:"image-icon",jpeg:"image-icon",png:"image-icon",gif:"image-icon",tiff:"image-icon",tif:"image-icon",bmp:"image-icon",aac:"audio-icon",wav:"audio-icon",m4a:"audio-icon",m4p:"audio-icon",aiff:"audio-icon",midi:"audio-icon",wave:"audio-icon",mp3:"audio-icon",mp4:"video-icon",m4v:"video-icon",mov:"video-icon",zip:"zip-icon",pdf:"pdf-icon",folder:"default-icon"},Bb={key:"keynote-file",keynote:"keynote-file","key-tef":"keynote-file","keynote-tef":"keynote-file",kth:"keynote-file",pages:"pages-file","pages-tef":"pages-file",template:"pages-file",numbers:"numbers-file","numbers-tef":"numbers-file",nmbtemplate:"numbers-file"},Vb=function(e){var t=e.extension,n=e.size,r=e.iconOnly,i=e.children,a=!!t&&function(e){return e in jb}(t),o=a?Nu(jb[t]):null,s=!!t&&function(e){return e in Ub}(t),c=s?Ub[t]:"default-icon",l=function(){switch(c){case"keynote-icon":return Re.createElement(ib,{"aria-label":o});case"numbers-icon":return Re.createElement(ub,{"aria-label":o});case"pages-icon":return Re.createElement(sb,{"aria-label":o});case"ppt-icon":return Re.createElement(fb,{"aria-label":o});case"excel-icon":return Re.createElement(_b,{"aria-label":o});case"word-icon":return Re.createElement(mb,{"aria-label":o});case"image-icon":return Re.createElement(Ab,{"aria-label":o});case"audio-icon":return Re.createElement(Db,{"aria-label":o});case"video-icon":return Re.createElement(kb,{"aria-label":o});case"zip-icon":return Re.createElement(Cb,{"aria-label":o});case"pdf-icon":return Re.createElement(Sb,{"aria-label":o});default:return Re.createElement(Pb,{"aria-label":o})}}(),u=128===n&&!!t&&!function(e){return e.replace(/ /g,"").toLowerCase()in Bb}(t)&&"pdf"!==t&&!r;return Re.createElement("div",{className:Be()("icon-item-container","file",t,c,eb(n),r?"":"with-background")},Re.createElement("div",{className:"icon-wrapper"},Re.createElement("div",{className:"icon-item icon-file"},l),u&&Re.createElement("span",{className:"file-extension-label"},t)),i)},Wb=function(e){var t=null;if(null!==e&&void 0!==e){var n=e.match(/^v=\d{1}:t=([\w\W]*)$/);null!=n&&2===n.length&&(t=n[1])}return t},zb=n(1460),Hb=n.n(zb),Gb={getListOfAvailableCookiesAsHash:function(){return Hb.a.get()},getListOfAvailableCookiesAsConcatenatedString:function(){for(var e=this.getListOfAvailableCookiesAsHash(),t=Object.keys(e),n="",r=0;r<t.length;r++){var i=t[r];n+=i+":"+e[i]+";"}return n},getValidateToken:function(){return this.getListOfAvailableCookiesAsHash()["X-APPLE-WEBAUTH-VALIDATE"]}},$b=wo({url:oo()}),Kb=bo(wo({data_token:$b.optional(),thumbnail_token:$b.optional(),package_token:$b.optional(),manifest_token:$b.optional(),document_id:oo()})),Qb=6e5;var qb=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t="::",n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(t),r=e.split(t);return"null"!==n[0]&&"null"!==r[0]||(n.splice(0,1),r.splice(0,1)),n.join(t)===r.join(t)},Zb=function(e){var t,n,r=e.item.id,i=function(e){var t=xg(),n=t.driveItemCache,r=t.docWsDownloadUrlsCache,i=Object(bd.g)((function(){return n.read(e)}),[n,e]),a=Bg(),o=am();return Re.useEffect((function(){!async function r(){if(o()){if(!i)throw new Error("useDocWsDownloadUrls must be used with an already-loaded item.");if(!Bu(i.id).docwsid.startsWith(Du)){var s=await async function(e){var t=e.item,n=e.caches,r=e.coskServices,i=t.id,a=n.docWsDownloadUrlsCache.get(i);if("loading"===(null==a?void 0:a.loadingState))return"already loading";var o=null==a?void 0:a.expiration,s=t.etag,c=null==a?void 0:a.etag;if(!a||o&&new Date(o)<new Date||!qb(s,c)){n.docWsDownloadUrlsCache.set(i,Object.assign({},a,{loadingState:"loading"}));var l=s,u=await async function(e,t,n){if(!Vu(e))throw new Error("Item must be file type. Only file types have preview images.");var r,i=Bu(e.id),a=i.zone,o=i.docwsid;try{r=Wb(Gb.getValidateToken())}catch(u){return fg.Result.failure({reason:"Failed to get auth token in fetchDocWsDownloadUrls.",value:u})}var s="";e.shareID&&Uu(e.id)&&(s="/"+e.shareID.zoneID.ownerRecordName);var c=n("docws","ws/"+a+"/download/batch"+s+"?token="+r),l=await t.fetchJson(c,{body:JSON.stringify({document_id:o}),headers:{"Content-Type":"text/plain"},method:"POST",retry:{maxAttempts:2,getRetryWaitTime:function(){return 2e3},getShouldRetry:function(e,t){if(t.ok){var n=t.value.status;if(!(n<500||n>=600))return!0}}},schemaName:"WireDocWsDownloadUrlsResponse",schema:Kb});return l.ok?fg.Result.success(l.value[0]):fg.Result.failure({reason:"DocWS download request for preview url failed.",value:l})}(t,r.fetchService,r.urlForServiceName);return qb(n.driveItemCache.read(i).etag,l)?u.ok?(n.docWsDownloadUrlsCache.set(i,{urls:u.value,expiration:Date.now()+Qb,etag:l,loadingState:"loaded"}),"updated"):(n.docWsDownloadUrlsCache.set(i,{urls:null==a?void 0:a.urls,etag:null==a?void 0:a.etag,expiration:Date.now()+Qb,loadingState:"errored"}),"errored"):"etag changed, try again"}return"not expired"}({item:i,caches:t,coskServices:a});if("not expired"===s||"errored"===s||"updated"===s){var c,l=null==(c=t.docWsDownloadUrlsCache.get(e))?void 0:c.expiration;l&&(n=window.setTimeout(r,l-Date.now()))}}}}();var n=void 0;return function(){void 0!==n&&window.clearTimeout(n)}}),[t,e,i,a,o]),Object(bd.g)((function(){var t=r.get(e);return t&&t.urls&&t.etag?[t.urls,t.etag]:[]}),[r,e])}(r),a=i[0],o=i[1],s=Xb(e.item,a),c=Re.useState(),l=c[0],u=c[1],d=xg().previewImageCache,h=Object(bd.g)((function(){return d.get(r)}),[d,r]);(null==h?void 0:h.url)!==l&&(t=null==h?void 0:h.url,n=null==h?void 0:h.etag);var f=Re.useRef();Re.useEffect((function(){var e;if(n!==o&&s&&(null==(e=f.current)?void 0:e.src)!==s){f.current||(f.current=new Image);var t=f.current,i=function(){d.set(r,{url:s,etag:o}),t.src=""};t.addEventListener("load",i);var a=function(){""!==t.getAttribute("src")&&t.setAttribute("src","")};return t.addEventListener("error",a),t.src=s,function(){t.removeEventListener("load",i),t.removeEventListener("error",a)}}}),[o,r,n,d,s]);var p=e.className?e.className:"preview";return t?Re.createElement("div",{className:Be()(p+" size-"+e.size,t?"is-showing":null)},Re.createElement(Qp,{src:t,alt:"",onLoadFailure:function(){u(t)}}),e.children):Re.createElement(Vb,{extension:e.item.extension,size:e.size},e.children)},Yb=1048576;function Xb(e,t){return null!=t&&t.thumbnail_token?t.thumbnail_token.url:function(e){var t=e.size,n=e.extension;return!!(n&&(n=n.toLowerCase(),["png","jpg","jpeg","gif","bmp"].indexOf(n)>=0&&t<Yb&&t>0))}(e)&&null!=t&&t.data_token?t.data_token.url:void 0}var Jb=["../339a1e8c6f471c77ed0c97983aced47a.png","../ec124a5b4eeaccb59d2cbb1aefa67634.png"],ew={128:"../a86a6926f21a026c9ffda704c4258cb1.png",256:"../0b3b12e1e4ffd63d4e7e78d7d01244fc.png"},tw={128:"../68f2e0531b0496bf4e832f2754e0e7d7.png",256:"../7de9c162a3a45957587cac8302cb7363.png"},nw={128:"../e10a470048dfc96c02e2d2b4fd5c3f80.png",256:"../b4b224556f74e3d15d8cd4cf36cf6a15.png"},rw={128:"../a03c161c7592899bdeeec525e11ad147.png",256:"../810f71ff4b690cc22e372f9d17863788.png"},iw={128:"../a7d363cf495f86b5fe629be521843f24.png",256:"../eaf64300b1357e4f05e3f9de213cfa0e.png"},aw={128:"../8806cd02af3c628f6b8aaf7e3a6ab4e4.png",256:"../0c0eb7305e3a8ca309a600c262d63f57.png"},ow={key:ew,"key-tef":ew,keynote:ew,"keynote-tef":ew,kth:ew,numbers:tw,"numbers-tef":tw,nmbtemplate:tw,pages:nw,"pages-tef":nw,template:nw,imovie:rw,imovielibrary:rw,imoviemobile:rw,garageband:iw,band:iw,ibooks:{128:"../32124130d1f459478245cb22225dd4e6.png",256:"../2465dc99bae1d4c6b007f1f927f4a2d1.png"},automator:aw,action:aw,workflow:aw,caction:aw,definition:aw,preview:{128:"../66322b53eb5af9800a37a5db885c73d8.png",256:"../996a3a0e298f8b09cf89e4d96d8d6156.png"},shortcuts:{128:"../a550f1dca967ad8bcbeeeeb4fa7ad31f.png",256:"../7d8a966d8bada06f83a63e9da265f8fb.png"},textedit:{128:"../5adbcc6183067e022fbf94567ebf65b6.png",256:"../1d223f003e272a28c4d4ee0bfac43eb0.png"},applework:{128:"../ab8ec9a4e8fb22d12a869ac6dc0892fa.png",256:"../58b5b663223bdfb5253aebb6e7044db4.png"}},sw=function(e){var t,n,r,i,a=e.item,o=e.size,s=e.children,c=Zu(a).replace(/ /g,"").toLowerCase(),l=c in lw?lw[c]:"default-app-folder-icon",u=function(e){var t=Zu(e).replace(/ /g,"").toLowerCase();if(ow[t])return[ow[t][128],ow[t][256]]}(a);if(u)r=u[0],i=u[1],n="BUILTIN";else if(null!=(t=a.icons)&&t.length){var d=function(e){var t=(e=e.slice().sort((function(e,t){return e.size-t.size})))[e.length-1];return[(1===e.length?e[0]:e[e.length-2]).url,t.url]},h=a.icons.filter((function(e){return"IOS"===e.type}));if(h.length&&"applework"!==c){var f=d(h);r=f[0],i=f[1],n="IOS"}else{var p=d(a.icons.filter((function(e){return"OSX"===e.type})));r=p[0],i=p[1],n="OSX"}r=cw(r),i=cw(i)}else r=Jb[0],i=Jb[1],n="BUILTIN";var g=Re.createElement("div",{className:"app-icon "+eb(o)},Re.createElement("img",{style:{height:"100%",width:"100%"},"aria-hidden":"true",alt:"",src:r,srcSet:r+", "+i+" 2x"})),m=function(){if("BUILTIN"===n)return Re.createElement("foreignObject",{x:"132",y:"-30",width:"132",height:"132"},g);if("IOS"===n)return Re.createElement("foreignObject",{x:"144",y:"-30",width:"120",height:"120"},g);if("OSX"===n)return Re.createElement(Re.Fragment,null,Re.createElement("defs",null,Re.createElement("linearGradient",{id:"neutral-chiclet-gradient",x1:"0",x2:"0",y1:"0",y2:"1"},Re.createElement("stop",{offset:"0%",stopColor:"#70737F",stopOpacity:"0.16"}),Re.createElement("stop",{offset:"100%",stopColor:"#70737F",stopOpacity:"0.30"}))),Re.createElement("path",{style:{transform:"scale(1.05) translate(136px, -20px)",fill:"url(#neutral-chiclet-gradient)"},d:"M30.767 0h42.466c10.699 0 14.578 1.114 18.49 3.206 3.91 2.091 6.98 5.16 9.071 9.072 2.092 3.911 3.206 7.79 3.206 18.489v42.466c0 10.699-1.114 14.578-3.206 18.49-2.091 3.91-5.16 6.98-9.072 9.071-3.911 2.092-7.79 3.206-18.489 3.206H30.767c-10.699 0-14.578-1.114-18.49-3.206-3.91-2.091-6.98-5.16-9.071-9.072C1.114 87.811 0 83.932 0 73.233V30.767c0-10.699 1.114-14.578 3.206-18.49 2.091-3.91 5.16-6.98 9.072-9.071C16.189 1.114 20.068 0 30.767 0Z"}),Re.createElement("foreignObject",{x:"146",y:"-18",width:"104",height:"104"},g));throw new Error("unreachable code for the linter")}(),v=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"205",height:"168",viewBox:"0 0 205 168"},Re.createElement("path",{className:"folder-icon",d:"M131.024 64.001c.203 12.008 1.668 16.8 4.25 21.629 2.789 5.214 6.882 9.307 12.096 12.096 5.215 2.789 10.388 4.274 24.652 4.274H205v37.469c0 18.77-9.29 28.339-25.154 28.528l-.482.003H28.344C9.478 168 0 158.52 0 139.469V64ZM50.641 0c8.936 0 13.54 1.645 19.498 6.763l5.506 4.57c4.514 3.929 8.215 5.391 14.353 5.391H131V52H0V27.508C0 9.138 9.117 0 24.914 0Z"}),m);return Re.createElement("div",{className:Be()("icon-item-container","app-library","folder",l,eb(o))},Re.createElement("div",{className:"icon-wrapper"},Re.createElement("div",{className:"icon-item icon-app-library"},v)),s)},cw=function(e){return function(e){return!!e&&e.includes("drivews")}(e)?e+"&validateToken="+Gb.getValidateToken():e},lw={key:"keynote-folder-icon","key-tef":"keynote-folder-icon",keynote:"keynote-folder-icon","keynote-tef":"keynote-folder-icon",kth:"keynote-folder-icon",numbers:"numbers-folder-icon","numbers-tef":"numbers-folder-icon",nmbtemplate:"numbers-folder-icon",pages:"pages-folder-icon","pages-tef":"pages-folder-icon",template:"pages-folder-icon",imovie:"imovie-folder-icon",imovielibrary:"imovie-folder-icon",imoviemobile:"imovie-folder-icon",garageband:"garageband-folder-icon",band:"garageband-folder-icon",ibooks:"ibook-folder-icon",automator:"automator-folder-icon",action:"automator-folder-icon",workflow:"automator-folder-icon",caction:"automator-folder-icon",definition:"automator-folder-icon",textedit:"textedit-folder-icon",preview:"preview-folder-icon",shortcuts:"shortcuts-folder-icon",shortcutstesthost:"shortcuts-folder-icon",applework:"apple-work-folder-icon"};function uw(e){var t=xg(),n=Object(bd.g)((function(){return void 0===e?void 0:t.driveItemCache.read(e)}),[t.driveItemCache,e]);if(!n)throw new Error("useDriveItem: requested an ID with no data in the store.");return n}var dw=function(e){var t=e.id,n=e.size,r=uw(t);if(qu(r))return Re.createElement(sw,{item:r,size:n},e.children);if($u(r))return Re.createElement(tb,{isShared:!!r.share,size:n},e.children);if(Vu(r))return Re.createElement(Zb,{item:r,size:n,key:r.id},e.children);throw new Error("IconShowcase does not support given item type")};function hw(e){var t=Re.useContext(yg);if(!t)throw new Error("Must provide a date formatter context.");if("string"===typeof e&&(e=new Date(e)),void 0!==e&&!isNaN(e.getTime()))return t.dateStyleShortTimeStyleShort(e)}var fw=function(e){var t=e.title,n=e.inlineEndButton,r=e.className,i=e.labelledById,a=e.children,o=Re.useRef();Re.useLayoutEffect((function(){var e=window.document.dir;o.current="rtl"===e}),[]);var s,c=Re.useRef(null),l=Re.useRef(null),u=Re.useRef(null),d=Re.useState(),h=d[0],f=d[1];function p(){var e=u.current,t=l.current,n=c.current;if(n&&t&&e){var r=e.getBoundingClientRect();if(0===r.width)return;var i=t.getBoundingClientRect();if(0===i.width)return;var a=n.getBoundingClientRect(),s=o.current,d=s?i.left:i.left+i.width,h=s?r.left+r.width:r.left,p=s?h-d:d-h;if(p>0){var g=s?a.width-h:h,m={};i.width>g?(m={transform:"none",width:g},s?Object.assign(m,{right:"0"}):Object.assign(m,{left:"0"})):m=s?{marginRight:"-"+p+"px"}:{marginLeft:"-"+p+"px"},f(m)}}}return Re.useLayoutEffect((function(){p()}),[o]),Re.useEffect((function(){function e(){f(void 0),p()}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),(t||n)&&(s=Re.createElement("header",{ref:c,className:"card-header"},Re.createElement("h1",{ref:l,className:"card-title",id:i,style:h,tabIndex:-1},t),Re.createElement("div",{ref:u,className:"button-container"},n))),Re.createElement("div",{className:Be()("card-content",r)},s,Re.createElement("div",{className:"card-scrollable-content"},a))},pw=[[4352,4607],[11904,12031],[12032,12255],[12288,12351],[12352,12447],[12448,12543],[12544,12591],[12592,12687],[12688,12703],[12704,12735],[12800,13055],[13056,13311],[13312,19893],[19968,40959],[40960,42127],[42128,42191],[44032,55203],[63744,64255],[65072,65103]],gw=function(e){var t,n=pw;if(!e)return!1;for(var r=0,i=n.length;r<i;++r)if(e>=(t=n[r])[0]&&e<=t[1])return!0;return!1},mw=function(e){if(0===(e=e.trim()).length)return!1;for(var t=0,n=e.length-1;t<=n;)if(!gw(e.charCodeAt(t++))||!gw(e.charCodeAt(n--)))return!1;return!0};function vw(e,t){var n,r=t.givenName,i=t.familyName,a=t.emailAddress,o=t.phoneNumber,s=t.nickname,c=t.companyName,l=s||r;return l&&i&&(n=mw(l)&&mw(i)?function(e,t){return"".concat(t).concat(e)}(l,i):function(e,t,n){switch(e){case"hu-hu":case"vi-vi":case"vi-vn":return"".concat(n," ").concat(t);default:return"".concat(t," ").concat(n)}}(e,l,i)),yw(n)||(n=yw(l)||yw(i)||yw(a)||yw(o)||yw(c)),n}function yw(e){return e&&!/^\s*$/.test(e)?e:""}function _w(e,t){return vw(e,{givenName:t.firstName,familyName:t.lastName,emailAddress:t.appleId})}function bw(e,t,n){return t?n||ed(t)?Mu(e,"FilesGrid.Item.Shared.Label.SharedByMe"):t.owner?Mu(e,"FilesGrid.Item.Shared.Label.SharedToMe",{name:_w(e,t.owner)||""}):"":""}var ww,Sw=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"icloud.and.arrow.down",svgPath:"M84.7168-13.5742L84.7168-5.71289L107.52-5.71289C122.51-5.71289 131.494-14.7461 131.494-26.5625C131.494-36.4258 125.586-44.5312 116.064-48.3887C116.162-70.166 100.488-85.8887 80.5176-85.8887C67.2852-85.8887 57.8613-78.8086 52.002-70.2637C40.918-73.2422 26.9043-64.6484 26.6602-50.9277C15.625-49.2188 8.74023-40.1855 8.74023-28.6621C8.74023-15.9668 18.2617-5.71289 34.2773-5.71289L55.957-5.71289L55.957-13.5742L34.2285-13.5742C22.6562-13.5742 16.6016-20.2637 16.6016-28.6621C16.6016-37.9883 22.5098-44.9219 32.8613-44.9219C33.5449-44.9219 33.7891-45.3125 33.7891-45.9473C33.7891-60.9375 44.5801-65.0879 54.6387-62.1582C55.2246-61.9629 55.5664-62.0605 55.8594-62.5977C60.5957-71.0449 67.8711-78.0273 80.5176-78.0273C96.5332-78.0273 107.617-65.332 108.447-50.7812C108.594-48.584 108.447-45.9473 108.252-43.6523C108.203-43.0176 108.447-42.627 109.033-42.5293C117.92-40.5762 123.633-35.0098 123.633-26.5625C123.633-19.043 118.164-13.5742 107.471-13.5742ZM70.3613 23.291C71.3379 23.291 72.1191 22.9004 73.1445 21.9727L89.6484 6.54297C90.4297 5.85938 90.8203 5.0293 90.8203 3.95508C90.8203 2.00195 89.2578 0.537109 87.2559 0.537109C86.3281 0.537109 85.3516 0.976562 84.6191 1.70898L77.1973 9.13086L73.9258 12.5488L74.2188 5.27344L74.2188-36.6211C74.2188-38.6719 72.4609-40.4297 70.3613-40.4297C68.2617-40.4297 66.4551-38.6719 66.4551-36.6211L66.4551 5.27344L66.748 12.5977L63.4766 9.13086L56.0547 1.70898C55.3223 0.976562 54.2969 0.537109 53.3691 0.537109C51.3184 0.537109 49.8535 2.00195 49.8535 3.95508C49.8535 5.0293 50.2441 5.85938 51.0254 6.54297L67.5293 21.9727C68.5547 22.9004 69.3359 23.291 70.3613 23.291Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:63.89510009765627,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 122.758056640625 117.0419921875",width:122.758056640625,height:117.0419921875,translateX:-8.735942382812482,translateY:93.7509765625,baseline:93.7509765625,capline:23.291015625}}})},Ew=function(e){var t=xg().driveItemTransactionStatusCache;return Object(bd.g)((function(){return Array.from(e||[]).map(t.get).some((function(e){return"Staged"===e||"Committing"===e}))}),[e,t.get])},Iw=function(e){return!Array.from(e.values()).some((function(e){return!xu(e)}))};function Cw(e){var t=e.selection,n=e.onActivate,r=e.desiredFontSize,i=e.isLargerInTouchMode,a=Ew(t),o="pointer-coarse"===Up(),s=i&&o?14:11.5;return Re.createElement(Gp,{className:"icon download-button",onActivate:n,disabled:!(null!=t&&t.size)||a||!Iw(t),ariaLabel:Au("FolderToolbar.Button.Download.Tooltip"),tooltip:Au("FolderToolbar.Button.Download.Tooltip")},Re.createElement(Sw,{desiredFontSize:null!=r?r:s,layoutMode:"glyphBox"}))}function Ow(e,t,n,r){var i,a,o,s=0,c=e,l=null!=(i=null==r?void 0:r.multipleType)?i:ww.KIBIS;for(null!=r&&(a=r.precision);c>=1e3&&s<5;)c/=l,s++;switch(s){case 0:o="NumberFormatter.Units.bytes";break;case 1:c=Tw(c,a||0),o=l===ww.KILOS?"NumberFormatter.Units.kB":"NumberFormatter.Units.KiB";break;case 2:c=Tw(c,a||1),o=l===ww.KILOS?"NumberFormatter.Units.MB":"NumberFormatter.Units.MiB";break;case 3:c=Tw(c,a||2),o=l===ww.KILOS?"NumberFormatter.Units.GB":"NumberFormatter.Units.GiB";break;case 4:c=Tw(c,a||2),o=l===ww.KILOS?"NumberFormatter.Units.TB":"NumberFormatter.Units.TiB";break;default:c=Tw(c,a||2),o=l===ww.KILOS?"NumberFormatter.Units.PB":"NumberFormatter.Units.PiB"}return Mu(n,"NumberFormatter.ItemSize",{number:t(c,n),sizeUnit:Mu(n,o)})}function Tw(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}function Aw(e){var t,n=e.id,r=e.iconSize,i=e.onDownloadSelection,a=e.onDone,o=e.enablePathLink,s=e.onViewItemLocation,c=xg().driveItemCache.read(n),l=Cu();t=Ku(c)?Mu(l,"FilesGrid.Panel.FileInfo.AppLibraryHeader"):"FOLDER"===c.type?Mu(l,"FilesGrid.Panel.FileInfo.FolderHeader"):Mu(l,"FilesGrid.Panel.FileInfo.FileHeader");var u=Re.useContext(vg);bg(u,"NumberFormatterContext");var d=function(e){if(qu(e))return Nu("FilesGrid.Item.Kind.ApplicationLibrary");if($u(e))return Nu("FilesGrid.Item.Kind.Folder");if(Vu(e))return e.extension?e.extension in jb?Nu(jb[e.extension]):Nu("FilesGrid.Item.Kind.FileWithExtension",{ext:e.extension.toUpperCase()}):Nu("FilesGrid.Item.Kind.File");throw new Error("Impossible state: item is not file folder or app library")}(c),h=function(e,t){if(!Vu(e))return"-";var n=e.size;return Number.isFinite(n)?Ow(n,t,Object(wu.b)(),{precision:1}):"-"}(c,u),f=Fu(n)?""+d:d+" - "+h,p=hw(Vu(c)?c.dateModified:void 0),g=function(e){var t=xg().driveItemCache;return Object(bd.g)((function(){var n=dy(e,t);if(n&&!n.some((function(e){return!t.has(e)}))){var r=n.map((function(e){return Yu(t.read(e))}));if(!r.some((function(e){return!e})))return r}}),[t,e])}(c.id),m=null==c?void 0:c.parentId;return Re.createElement(fw,{className:"info-panel legacy-item-detail-info-panel",title:t,inlineEndButton:Re.createElement(Gp,{onActivate:a},Au("Common.Done"))},Re.createElement("section",{className:"info-panel-details"},Re.createElement(Nw,{id:n,iconSize:r}),Re.createElement("div",{className:"info-panel-title-container"},Re.createElement("h1",null,Yu(c)),Re.createElement("h2",null,f),Re.createElement("h2",null,bw(l,c))),i?Re.createElement("div",{className:"info-panel-toolchest"},Re.createElement(Cw,{selection:new Set([n]),onActivate:function(){return i(new Set([n]))}})):null),Re.createElement("section",{className:"info-panel-table"},Re.createElement("h1",null,Au("FilesGrid.Panel.FileInfo.InfoSection.Header")),Re.createElement("table",null,Re.createElement("tbody",null,Re.createElement("tr",null,Re.createElement("td",null,Nu("FilesGrid.Panel.FileInfo.Label.Kind")),Re.createElement("td",null,d)),Re.createElement("tr",null,Re.createElement("td",null,Nu("FilesGrid.Panel.FileInfo.Label.Size")),Re.createElement("td",null,h)),Re.createElement("tr",null,Re.createElement("td",null,Nu("FilesGrid.Panel.FileInfo.Label.Modified")),Re.createElement("td",null,p)),g?Re.createElement("tr",null,Re.createElement("td",null,Nu("FilesGrid.Panel.FileInfo.Label.Where")),Re.createElement("td",null,o?Re.createElement(Gp,{variant:"secondary push",onActivate:function(){s(m)}},Re.createElement(K_,{path:g})):Re.createElement(K_,{path:g}))):null))))}!function(e){e[e.KILOS=1e3]="KILOS",e[e.KIBIS=1024]="KIBIS"}(ww||(ww={}));var Nw=function(e){var t=e.id,n=e.iconSize,r=Bg();return Re.createElement("div",{style:{filter:"drop-shadow(0 0 0.25rem rgba(0, 0, 0, 0.1))",inlineSize:128,blockSize:128,display:"flex",justifyContent:"center",alignItems:"center",alignSelf:"center"}},Re.createElement(Ug,r,Re.createElement(dw,{id:t,size:n})))},Mw=["variant"];function Dw(e){var t=e.children,n=e.options,r=e.hideFunc,i=n.ariaLabelledBy,a=n.ariaDescribedBy,o=n.ariaLabel,s=n.closeButtonProps;return Re.createElement("ui-card",{role:"dialog","aria-labelledby":i,"aria-describedby":a,"aria-label":o,class:Hp()},(n.title||n.includeCloseButton)&&Re.createElement("ui-card-header",null,n.includeCloseButton&&Re.createElement(Gp,{onActivate:function(){n.onRequestClose?n.onRequestClose(Ce.MOUSE_UP,r):r()},ariaLabel:null===s||void 0===s?void 0:s.ariaLabel,disabled:null===s||void 0===s?void 0:s.disabled,className:Be()("x-close-button",null===s||void 0===s?void 0:s.className),variant:"push primary icon"},Re.createElement(Uv,{"aria-hidden":!0})),n.title&&Re.createElement("h1",null,n.title)),t)}function Rw(){var e=pp(),t=Hv(),n=t[0],r=t[1],i=function(){var e=He(),t=e[0],n=e[1];return[function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.variant,a=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(r,Mw);t(Re.createElement(Dw,{options:r,hideFunc:n},e),Object.assign({},a,{paneType:a.paneType||at.Modal,className:Be()("for-ui-card",a.className,i||"standard")}))},n]}(),a=i[0],o=i[1],s=Re.useRef("nobody"),c=Re.useRef(),l=Re.useRef(),u=Re.useRef(!1);return Re.useEffect((function(){if("nobody"!==s.current){var t=Object.assign({},l.current,{animates:Oe.OUT});"compact"===e&&"popup"===s.current?(s.current="card",u.current=!0,r({animate:!1}),a(c.current,t)):"regular"===e&&"card"===s.current&&(s.current="popup",u.current=!0,o({animate:!1}),n(c.current,t))}}),[e,a,n,o,r]),[function(t,r){c.current=t;var i=Object.assign({includeCloseButton:!0},r,{className:"drive-ui  "+e+"-size-class "+((null==r?void 0:r.className)||""),onClose:function(){u.current?u.current=!1:(s.current="nobody",null==r||null==r.onClose||r.onClose(),l.current=void 0)}});l.current=i,"regular"===e?(s.current="popup",n(t,i)):(s.current="card",a(t,i))},function(e){"card"===s.current?o(e):"popup"===s.current&&r(e)}]}function Lw(e){var t=xg(),n=pp(),r=Re.useContext(vg),i=Re.useContext(yg),a=Bg(),o=e.downloadItems,s=e.enablePathLink,c=e.viewItemLocation,l=Rw(),u=l[0],d=l[1];return[Re.useCallback((function(e){u(Re.createElement(kg,{caches:t},Re.createElement(vg.Provider,{value:r},Re.createElement(yg.Provider,{value:i},Re.createElement(Ug,a,Re.createElement(Aw,{id:e,iconSize:"regular"===n?128:80,onDownloadSelection:o,onDone:d,enablePathLink:s,onViewItemLocation:function(e){if(!e)throw new Error("Expected a folder id to change directory");d(),c(e)}}))))),{className:"drive-ui legacy-info-detail-info-panel-pane",includeCloseButton:!1})}),[u,a,i,o,t,s,d,r,n,c]),d]}var kw=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"chevron.right.circle",svgPath:"M58.5449 14.5508C85.791 14.5508 108.35-8.05664 108.35-35.2539C108.35-62.5 85.7422-85.0586 58.4961-85.0586C31.2988-85.0586 8.74023-62.5 8.74023-35.2539C8.74023-8.05664 31.3477 14.5508 58.5449 14.5508ZM58.5449 6.25C35.498 6.25 17.0898-12.207 17.0898-35.2539C17.0898-58.3008 35.4492-76.7578 58.4961-76.7578C81.543-76.7578 100-58.3008 100.049-35.2539C100.098-12.207 81.5918 6.25 58.5449 6.25ZM47.4121-11.084C48.6816-9.86328 51.2207-9.96094 52.5879-11.2305L72.9004-30.4199C75.6836-32.959 75.6836-37.4512 72.9004-39.9902L52.5879-59.1797C51.0742-60.5957 48.8281-60.6445 47.4609-59.3262C45.8984-57.9102 45.8496-55.4688 47.3633-54.1016L67.4316-35.2539L47.3633-16.3086C45.8984-14.9414 45.8984-12.5977 47.4121-11.084Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.46503906249995,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 99.6099853515625 99.6572265625",width:99.6099853515625,height:99.6572265625,translateX:-8.740039062500045,translateY:85.05859375,baseline:85.05859375,capline:14.5986328125}}})},xw=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"text.justifyleft",svgPath:"M16.1133-70.0684L107.08-70.0684C109.131-70.0684 110.84-71.6797 110.84-73.7793C110.84-75.8301 109.131-77.4414 107.08-77.4414L16.1133-77.4414C14.0625-77.4414 12.4512-75.8301 12.4512-73.7793C12.4512-71.6797 14.0625-70.0684 16.1133-70.0684ZM16.1133-44.4824L107.08-44.4824C109.131-44.4824 110.84-46.0938 110.84-48.1934C110.84-50.2441 109.131-51.8555 107.08-51.8555L16.1133-51.8555C14.0625-51.8555 12.4512-50.2441 12.4512-48.1934C12.4512-46.0938 14.0625-44.4824 16.1133-44.4824ZM16.1133-18.8965L107.08-18.8965C109.131-18.8965 110.84-20.5566 110.84-22.6074C110.84-24.6582 109.131-26.2695 107.08-26.2695L16.1133-26.2695C14.0625-26.2695 12.4512-24.6582 12.4512-22.6074C12.4512-20.5566 14.0625-18.8965 16.1133-18.8965ZM16.1133 6.64062L68.3594 6.64062C70.4102 6.64062 72.0703 5.0293 72.0703 2.97852C72.0703 0.927734 70.4102-0.732422 68.3594-0.732422L16.1133-0.732422C14.0625-0.732422 12.4512 0.927734 12.4512 2.97852C12.4512 5.0293 14.0625 6.64062 16.1133 6.64062Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:72.3651000976563,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 98.389892578125 84.4228515625",width:98.389892578125,height:84.4228515625,translateX:-12.450024414062455,translateY:77.44140625,baseline:77.44140625,capline:6.9814453125}}})},Fw=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"pencil",svgPath:"M82.1289-57.5684L87.0605-62.4023C89.5508-64.8926 89.6484-67.5781 87.4512-69.8242L85.791-71.4844C83.5938-73.6816 80.9082-73.4375 78.418-71.0449L73.4863-66.1621ZM24.5605-0.146484L77.832-53.3691L69.2871-61.9629L15.9668-8.69141L11.3281 2.14844C10.8887 3.32031 12.1094 4.6875 13.2812 4.19922Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:83.88510009765628,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 77.786865234375 79.061767578125",width:77.786865234375,height:79.061767578125,translateX:-11.231538085937473,translateY:74.7608642578125,baseline:74.7608642578125,capline:4.3009033203125}}})},Pw=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"person.crop.circle.badge.plus",svgPath:"M58.5449 14.5508C85.7422 14.5508 108.35-8.05664 108.35-35.2539C108.35-62.5 85.6934-85.0586 58.4961-85.0586C33.0566-85.0586 11.8164-65.4785 9.08203-40.7227C11.4746-41.1621 14.9414-41.3574 17.5293-41.0645C20.2148-61.3281 37.4023-76.7578 58.4961-76.7578C81.4941-76.7578 100.049-58.3008 100.049-35.2539C100.049-24.5117 96.0449-14.7461 89.3555-7.4707C84.5703-13.1836 73.2422-18.6523 58.4961-18.6523C53.8086-18.6523 49.5117-18.0664 45.6543-17.1387C46.2402-14.7949 46.5332-12.2559 46.5332-9.76562C46.5332-2.14844 43.75 4.93164 39.0625 10.4492C45.0684 13.0859 51.6602 14.5508 58.5449 14.5508ZM58.4961-26.9531C67.8711-26.8555 75.2441-34.8633 75.2441-45.3613C75.2441-55.2246 67.8223-63.3789 58.4961-63.3789C49.1211-63.3789 41.6504-55.2246 41.748-45.3613C41.7969-34.8633 49.0723-27.0508 58.4961-26.9531ZM15.0391 15.0879C28.4668 15.0879 39.8438 3.85742 39.8438-9.7168C39.8438-23.3398 28.6621-34.5215 15.0391-34.5215C1.46484-34.5215-9.76562-23.291-9.76562-9.7168C-9.76562 3.95508 1.46484 15.0879 15.0391 15.0879ZM15.0391 5.81055C13.2324 5.81055 12.0605 4.63867 12.0605 2.83203L12.0605-6.73828L2.49023-6.73828C0.732422-6.73828-0.488281-7.91016-0.488281-9.7168C-0.488281-11.5234 0.732422-12.6953 2.49023-12.6953L12.0605-12.6953L12.0605-22.2656C12.0605-24.0234 13.2324-25.2441 15.0391-25.2441C16.8457-25.2441 18.0176-24.0234 18.0176-22.2656L18.0176-12.6953L27.5879-12.6953C29.3457-12.6953 30.5664-11.5234 30.5664-9.7168C30.5664-7.91016 29.3457-6.73828 27.5879-6.73828L18.0176-6.73828L18.0176 2.83203C18.0176 4.63867 16.8457 5.81055 15.0391 5.81055Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.49010498046869,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 136.5712890625 100.6357421875",width:136.5712890625,height:100.6357421875,translateX:9.765678710937436,translateY:85.5478515625,baseline:85.5478515625,capline:15.087890625}}})},jw=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"envelope",svgPath:"M27.7832 6.88477L106.396 6.88477C115.186 6.88477 120.264 1.80664 120.264-8.25195L120.264-62.1582C120.264-72.168 115.137-77.2461 104.932-77.2461L26.3184-77.2461C17.5293-77.2461 12.4512-72.2168 12.4512-62.1582L12.4512-8.25195C12.4512 1.85547 17.5781 6.88477 27.7832 6.88477ZM60.5469-32.7148L23.6816-69.0918C24.7559-69.5312 26.0254-69.7754 27.4902-69.7754L105.225-69.7754C106.738-69.7754 108.057-69.5312 109.131-69.043L72.3633-32.7148C70.2637-30.6152 68.3594-29.6875 66.4551-29.6875C64.502-29.6875 62.5977-30.6641 60.5469-32.7148ZM19.9219-8.25195L19.9219-62.1582C19.9219-62.5488 19.9219-62.3535 19.9219-62.6953L47.998-35.1074L19.9707-7.42188C19.9219-7.66602 19.9219-7.95898 19.9219-8.25195ZM112.793-62.1094L112.793-8.20312C112.793-8.00781 112.793-7.76367 112.793-7.56836L84.9121-35.1074L112.793-62.5488C112.793-62.1094 112.793-62.1094 112.793-62.1094ZM27.4902-0.585938C26.123-0.585938 24.9512-0.78125 23.9258-1.2207L53.125-30.0781L56.2988-26.9531C59.7168-23.584 62.9883-22.168 66.4551-22.168C69.873-22.168 73.1934-23.584 76.6113-26.9531L79.7852-30.0781L108.936-1.26953C107.861-0.78125 106.641-0.585938 105.225-0.585938Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:67.65510009765626,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 107.818115234375 84.2294921875",width:107.818115234375,height:84.2294921875,translateX:-12.445913085937491,translateY:77.3447265625,baseline:77.3447265625,capline:6.884765625}}})},Uw=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"trash",svgPath:"M32.373 14.7949L77.1484 14.7949C84.1309 14.7949 88.8184 10.2539 89.1602 3.27148L92.5293-67.7246L98.3887-67.7246C100.391-67.7246 102.002-69.4336 102.002-71.4355C102.002-73.4375 100.391-75.0977 98.3887-75.0977L76.0742-75.0977L76.0742-82.5684C76.0742-89.6484 71.4844-93.9453 63.9648-93.9453L45.4102-93.9453C37.8906-93.9453 33.3008-89.6484 33.3008-82.5684L33.3008-75.0977L11.1328-75.0977C9.17969-75.0977 7.4707-73.4375 7.4707-71.4355C7.4707-69.3848 9.17969-67.7246 11.1328-67.7246L16.9922-67.7246L20.3613 3.32031C20.7031 10.3027 25.293 14.7949 32.373 14.7949ZM41.0645-82.0801C41.0645-84.8633 43.0176-86.6699 45.9473-86.6699L63.4277-86.6699C66.3574-86.6699 68.3105-84.8633 68.3105-82.0801L68.3105-75.0977L41.0645-75.0977ZM33.0566 7.42188C30.2734 7.42188 28.1738 5.32227 28.0273 2.44141L24.6094-67.7246L84.668-67.7246L81.4453 2.44141C81.3477 5.37109 79.248 7.42188 76.3672 7.42188ZM40.2832-0.927734C42.1387-0.927734 43.3594-2.09961 43.3105-3.80859L41.7969-56.0547C41.748-57.7637 40.5273-58.8867 38.7695-58.8867C36.9141-58.8867 35.6934-57.7148 35.7422-56.0059L37.207-3.80859C37.2559-2.05078 38.4766-0.927734 40.2832-0.927734ZM54.7363-0.927734C56.5918-0.927734 57.9102-2.09961 57.9102-3.80859L57.9102-56.0059C57.9102-57.7148 56.5918-58.8867 54.7363-58.8867C52.8809-58.8867 51.6113-57.7148 51.6113-56.0059L51.6113-3.80859C51.6113-2.09961 52.8809-0.927734 54.7363-0.927734ZM69.2383-0.927734C70.9961-0.927734 72.2168-2.05078 72.2656-3.80859L73.7305-56.0059C73.7793-57.7148 72.5586-58.8867 70.7031-58.8867C68.9453-58.8867 67.7246-57.7637 67.6758-56.0059L66.2109-3.80859C66.1621-2.09961 67.3828-0.927734 69.2383-0.927734Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:79.27510009765615,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 94.533935546875 117.4306640625",width:94.533935546875,height:117.4306640625,translateX:-7.4680029296876,translateY:93.9453125,baseline:93.9453125,capline:23.4853515625}}})},Bw=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"arrow.up.bin",svgPath:"M45.3613 9.76562L96.6309 9.76562C106.25 9.76562 110.498 5.27344 111.963-4.29688L119.189-53.2715L120.312-53.2715C126.318-53.2715 129.59-57.0312 129.59-62.9883L129.59-70.4102C129.59-76.3672 126.318-80.127 120.312-80.127L21.7285-80.127C16.0156-80.127 12.4512-76.3672 12.4512-70.4102L12.4512-62.9883C12.4512-57.0312 15.7227-53.2715 21.7285-53.2715L22.8027-53.2715L30.0781-4.29688C31.4941 5.32227 35.791 9.76562 45.3613 9.76562ZM23.7305-60.6445C21.2891-60.6445 20.3125-61.6699 20.3125-64.1113L20.3125-69.2871C20.3125-71.7285 21.2891-72.7539 23.7305-72.7539L118.359-72.7539C120.801-72.7539 121.729-71.7285 121.729-69.2871L121.729-64.1113C121.729-61.6699 120.801-60.6445 118.359-60.6445ZM45.5078 2.39258C41.1133 2.39258 38.5742 0.439453 37.8906-4.39453L30.6152-53.2715L111.426-53.2715L104.15-4.39453C103.418 0.439453 100.83 2.39258 96.5332 2.39258ZM74.9023-10.0586L74.9023-27.6367L74.5605-35.5469L78.7109-31.2988L83.0078-26.9043C83.6914-26.2207 84.6191-25.8301 85.5957-25.8301C87.5488-25.8301 89.0625-27.1973 89.0625-29.1504C89.0625-30.2734 88.5742-31.1035 87.793-31.7871L73.877-44.6289C72.8516-45.5566 72.1191-45.8984 71.1426-45.8984C70.2148-45.8984 69.4336-45.5566 68.4082-44.6289L54.4922-31.7871C53.7109-31.1035 53.2715-30.2734 53.2715-29.1504C53.2715-27.1973 54.7363-25.8301 56.7383-25.8301C57.6172-25.8301 58.6426-26.2207 59.3262-26.9043L63.5742-31.2988L67.7246-35.5469L67.4316-27.6367L67.4316-10.0586C67.4316-8.05664 69.1406-6.39648 71.1426-6.39648C73.1445-6.39648 74.9023-8.05664 74.9023-10.0586Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:62.990104980468686,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 117.139892578125 89.9912109375",width:117.139892578125,height:89.9912109375,translateX:-12.450019531250064,translateY:80.2255859375,baseline:80.2255859375,capline:9.765625}}})},Vw=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"eye",svgPath:"M76.709 6.64062C116.162 6.64062 143.408-25.2441 143.408-35.2051C143.408-45.2148 116.113-77.0508 76.709-77.0508C37.793-77.0508 9.96094-45.2148 9.96094-35.2051C9.96094-25.2441 37.7441 6.64062 76.709 6.64062ZM76.709-1.07422C44.5312-1.07422 18.5059-28.3203 18.5059-35.2051C18.5059-41.0156 44.5312-69.3359 76.709-69.3359C108.74-69.3359 134.863-41.0156 134.863-35.2051C134.863-28.3203 108.74-1.07422 76.709-1.07422ZM76.709-7.86133C91.8945-7.86133 104.102-20.3125 104.102-35.2051C104.102-50.4883 91.8945-62.5488 76.709-62.5488C61.4258-62.5488 49.1699-50.4883 49.2188-35.2051C49.3164-20.3125 61.4258-7.86133 76.709-7.86133ZM76.709-26.123C71.6309-26.123 67.5293-30.2246 67.5293-35.2051C67.5293-40.2344 71.6309-44.2871 76.709-44.2871C81.7383-44.2871 85.8398-40.2344 85.8398-35.2051C85.8398-30.2246 81.7383-26.123 76.709-26.123Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:57.32503906250008,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 133.4481201171875 83.7412109375",width:133.4481201171875,height:83.7412109375,translateX:-9.960971679687418,translateY:77.1005859375,baseline:77.1005859375,capline:6.640625}}})},Ww=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"doc.on.doc",svgPath:"M12.4512 10.791C12.4512 20.9961 17.4805 26.123 27.5879 26.123L73.4863 26.123C83.5938 26.123 88.623 20.9473 88.623 10.791L88.623 1.75781L97.168 1.75781C107.227 1.75781 112.305-3.41797 112.305-13.5742L112.305-53.2227C112.305-59.2285 111.084-63.0371 107.422-66.7969L82.7637-91.8457C79.2969-95.4102 75.1953-96.7285 69.9707-96.7285L51.2695-96.7285C41.2109-96.7285 36.1328-91.5527 36.1328-81.3965L36.1328-72.3633L27.5879-72.3633C17.5293-72.3633 12.4512-67.2363 12.4512-57.0312ZM83.9844-40.332L57.0801-67.7246C53.3691-71.5332 50.293-72.3633 44.8242-72.3633L43.9941-72.3633L43.9941-81.25C43.9941-86.084 46.582-88.8672 51.6602-88.8672L73.2422-88.8672L73.2422-63.8184C73.2422-58.1543 75.9766-55.4688 81.5918-55.4688L104.443-55.4688L104.443-13.7207C104.443-8.83789 101.807-6.10352 96.7285-6.10352L88.623-6.10352L88.623-27.3438C88.623-33.5938 87.8906-36.3281 83.9844-40.332ZM80.3223-64.9902L80.3223-85.0098L102.393-62.5488L82.7148-62.5488C81.0059-62.5488 80.3223-63.2812 80.3223-64.9902ZM20.3125 10.6445L20.3125-56.9336C20.3125-61.7188 22.9004-64.502 27.9785-64.502L43.9941-64.502L43.9941-36.1816C43.9941-30.0293 47.1191-26.9531 53.1738-26.9531L80.7617-26.9531L80.7617 10.6445C80.7617 15.5273 78.125 18.2617 73.0957 18.2617L27.9297 18.2617C22.9004 18.2617 20.3125 15.5273 20.3125 10.6445ZM54.1016-34.3262C52.1484-34.3262 51.3672-35.1074 51.3672-37.0605L51.3672-62.6953L79.248-34.3262Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:71.63510009765628,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 99.860107421875 122.9970703125",width:99.860107421875,height:122.9970703125,translateX:-12.444916992187473,translateY:96.728515625,baseline:96.728515625,capline:26.2685546875}}})},zw=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"exclamationmark.triangle",svgPath:"M23.4375 10.8887L98.584 10.8887C106.885 10.8887 112.061 4.93164 112.061-2.58789C112.061-4.83398 111.475-7.12891 110.254-9.22852L72.6074-74.8047C70.0684-79.248 65.5762-81.6406 61.0352-81.6406C56.4453-81.6406 51.9531-79.248 49.4141-74.8047L11.7676-9.17969C10.5469-7.08008 9.96094-4.83398 9.96094-2.58789C9.96094 4.93164 15.1367 10.8887 23.4375 10.8887ZM23.4863 3.22266C20.1172 3.22266 17.8711 0.439453 17.8711-2.58789C17.8711-3.4668 18.0176-4.49219 18.5059-5.51758L56.1035-71.0938C57.1777-72.9492 59.1309-73.8281 61.0352-73.8281C62.9395-73.8281 64.7949-72.998 65.8691-71.0938L103.418-5.46875C103.955-4.49219 104.199-3.4668 104.199-2.58789C104.199 0.439453 101.855 3.22266 98.4863 3.22266ZM61.0352-22.0215C63.3789-22.0215 64.6973-23.3887 64.7461-25.9277L65.4785-51.6602C65.5273-54.1504 63.5742-56.0059 60.9863-56.0059C58.3496-56.0059 56.4941-54.1992 56.543-51.709L57.1777-25.9277C57.2266-23.4375 58.5938-22.0215 61.0352-22.0215ZM61.0352-6.15234C63.8184-6.15234 66.3086-8.39844 66.3086-11.2305C66.3086-14.1113 63.8672-16.3086 61.0352-16.3086C58.1543-16.3086 55.7617-14.0625 55.7617-11.2305C55.7617-8.44727 58.2031-6.15234 61.0352-6.15234Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:72.99510009765618,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 102.108154296875 92.8212890625",width:102.108154296875,height:92.8212890625,translateX:-9.960893554687573,translateY:81.640625,baseline:81.640625,capline:11.1806640625}}})};function Hw(e,t){if(!e)return[];var n=t.read(e);if(!n)return[];if(!n.parentId)return[];for(var r=[],i=n.parentId;i;){var a;r.push(i),i=null==(a=t.read(i))?void 0:a.parentId}return r}var Gw=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},$w=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},Kw=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},Qw=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},qw=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Zw=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],Yw=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Xw(e){var t=function(e){return""!==e&&Zw.reduce((function(t,n){var r=n[0],i=n[1];if(t)return t;var a=i.exec(e);return!!a&&[r,a]}),!1)}(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new Qw;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<3&&(i=Gw(Gw([],i,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-i.length),!0)):i=[];var a=i.join("."),o=Jw(e),s=qw.exec(e);return s&&s[1]?new Kw(n,a,o,s[1]):new $w(n,a,o)}function Jw(e){for(var t=0,n=Yw.length;t<n;t++){var r=Yw[t],i=r[0];if(r[1].exec(e))return i}return null}var eS,tS=(eS=navigator.userAgent)?Xw(eS):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}:"undefined"!==typeof navigator?Xw(navigator.userAgent):"undefined"!==typeof process&&process.version?new function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}(process.version.slice(1)):null;function nS(e){return!!e&&["key","key-tef","keynote","keynote-tef","numbers","numbers-tef","pages","pages-tef"].includes(e.toLowerCase())}function rS(e){if(!e)return!1;if(e=e.toLowerCase(),!["gif","jpeg","jpg","mp3","mp4","mov","pdf","png","txt","wav"].includes(e))return!1;if("safari"===(null==tS?void 0:tS.name)){var t=parseInt(tS.version.split(".")[0],10);if(t&&t<=12&&"pdf"===e)return!1}return"firefox"!==(null==tS?void 0:tS.name)||"mp4"!==e&&"mov"!==e}function iS(e){return $u(e)||qu(e)||rS(e.extension)||nS(e.extension)}function aS(e){return!qu(e)&&!Qu(e)}function oS(e){return!qu(e)&&!Qu(e)}function sS(e,t){if(!Vu(e))return!1;var n=t.get(e.id);return!!n&&!!Xb(e,null==n?void 0:n.urls)}function cS(e){var t;return"TO_ME"===e.share&&!(null==(t=e.share_info)||!t.shared_publicly)}function lS(e){return!(qu(e)||Qu(e)||$u(e)&&"iCloud.com.apple.homeroom"===e.zone)}function uS(e,t){if(!lS(e))return!1;var n=t.driveItemTransactionStatusCache.get(e.id);if("Committing"===n||"Staged"===n)return!1;var r=Hw(e.id,t.driveItemCache);return r[r.length-1]===Hu&&!r.some((function(e){return!t.driveItemCache.has(e)}))}function dS(e,t){if(!Xu(e.id))return!1;var n=Hw(e.id,t.driveItemCache).find(Ju);if(!n)return!1;if(n){var r,i=t.shareRecordCache.read(n);if(!i||!i.currentUserParticipant)return!1;if("READ_ONLY"===(null==i||null==(r=i.currentUserParticipant)?void 0:r.permission))return!0}return!1}function hS(){return hS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hS.apply(this,arguments)}var fS,pS=function(e){return Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 267.9298095703125 158.0849609375",version:"1.1",className:e.className,style:{width:29.7573,height:22.3876,transform:"scale("+e.scale+")"}},Re.createElement("g",{transform:"matrix(1 0 0 1 80.43993408203119 114.2724609375)"},Re.createElement("path",{d:"M12.4609-29.7905C13.7663-29.9457 15.0401-30.0387 16.3455-30.0387C17.6509-30.0387 18.9352-29.9457 20.3144-29.7799L20.3144-72.1299C20.3144-76.9535 22.9237-79.719 28.007-79.719L49.7-79.719L49.7-51.3604C49.7-45.2183 52.8228-42.1694 58.891-42.1694L86.6909-42.1694L86.6909 1.65084C86.6909 6.52717 84.0711 9.23993 79.0395 9.23993L46.804 9.23993C46.1196 12.0165 45.073 14.6791 43.6536 17.0934L79.4229 17.0934C89.5103 17.0934 94.5856 11.9558 94.5856 1.77545L94.5856-42.5583C94.5856-48.7999 93.859-51.5373 89.961-55.5389L63.0283-82.9373C59.3372-86.7424 56.2788-87.5725 50.7618-87.5725L27.5719-87.5725C17.5162-87.5725 12.4609-82.4348 12.4609-72.2545ZM57.036-52.3025L57.036-78.2056L85.1775-49.5571L59.7919-49.5571C57.8469-49.5571 57.036-50.368 57.036-52.3025ZM16.3771 26.3059C29.8118 26.3059 41.1588 15.0624 41.1588 1.47248C41.1588-12.128 29.9671-23.3198 16.3771-23.3198C2.78715-23.3198-8.41514-12.1175-8.41514 1.47248C-8.41514 15.1142 2.78715 26.3059 16.3771 26.3059ZM16.4394-14.2811C17.3001-14.2811 17.9327-13.8766 18.7512-13.0993L31.4086-1.39454C32.1457-0.760944 32.4573-0.0142889 32.4573 0.91928C32.4573 2.58895 31.1509 3.89535 29.4918 3.79184C28.631 3.74009 27.8738 3.38736 27.2623 2.81707L22.5658-1.88997L19.4356-5.18604L19.6532 1.01678L19.6532 14.0103C19.6532 15.7106 18.1915 17.1205 16.4394 17.1205C14.6768 17.1205 13.2046 15.7106 13.2046 14.0103L13.2046 1.01678L13.4845-5.18604L10.2401-1.88997L5.60595 2.81707C5.04621 3.38736 4.19605 3.84359 3.33534 3.79184C1.66567 3.79184 0.296966 2.58895 0.400474 0.91928C0.452227-0.0248399 0.763751-0.760944 1.50086-1.39454L14.0547-13.0993C14.9567-13.9494 15.6516-14.2811 16.4394-14.2811Z"})))};function gS(e,t){if(e.length>1)throw new Error("useShowItemActionMenu: "+t+" multiple items not currently supported");return e[0]}function mS(){return Re.createElement("div",{className:"centered-spinner"},Re.createElement(yp,{description:Nu("FilesGrid.Spinner.Label.Loading")}))}function vS(e){return Re.createElement("div",{className:"centered-message"},Re.createElement("div",{className:"text-container"},Re.createElement("h2",{className:"message"},e.message),e.description?Re.createElement("p",{className:"description"},e.description):null))}!function(e){e.Open="open",e.Info="info",e.Rename="rename",e.Download="download",e.Collaborate="collaborate",e.CopyLink="copyLink",e.Send="send",e.View="view",e.Move="move",e.Duplicate="duplicate",e.Delete="delete",e.Recover="recover",e.Purge="purge",e.Report="report"}(fS||(fS={}));var yS=Jw(navigator.userAgent),_S=!yS||"Mac OS"===yS;function bS(e){return _S?e.metaKey:e.ctrlKey}function wS(e){var t=function(){var e=Re.useState(!0),t=e[0],n=e[1];return Re.useEffect((function(){function e(){n(!0)}function t(){n(!1)}return window.addEventListener("focus",e),window.addEventListener("blur",t),function(){window.removeEventListener("focus",e),window.removeEventListener("blur",t)}}),[]),t}(),n=Re.useState(!0),r=n[0],i=n[1];return Re.useEffect((function(){var t=e.current;if(t)return t.addEventListener("focusin",n),t.addEventListener("focusout",n),function(){t.removeEventListener("focusin",n),t.removeEventListener("focusout",n)};function n(){i(t.contains(document.activeElement))}}),[e]),r&&t}function SS(e,t){var n=Re.useRef(e);n.current=e;var r=Re.useRef({height:0,width:0}),i=Re.useCallback((function(){!function(e,t,n){if(e){var r=n.current,i=e.getBoundingClientRect();r.height===i.height&&r.width===i.width||(n.current=i,t(i))}}(t.current,n.current,r)}),[t]);return Re.useLayoutEffect((function(){return i(),window.addEventListener("resize",i),function(){window.removeEventListener("resize",i)}}),[i]),i}var ES=function(e){var t=e.children,n=e.hidden;return Re.createElement("ui-screen-reader-only-content",{role:"presentation",hidden:!!n||void 0},t)};function IS(e){var t=Cu();return $u(e)?Mu(t,"FilesGrid.Item.Kind.Folder"):qu(e)?Mu(t,"FilesGrid.Item.Kind.ApplicationLibrary"):e.extension&&e.extension in jb?Mu(t,jb[e.extension]):e.extension?Mu(t,"FilesGrid.Item.Kind.FileWithExtension",{ext:e.extension.toUpperCase()}):Mu(t,"FilesGrid.Item.Kind.File")}ES.displayName="UIScreenReaderOnlyContent";var CS=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"ellipsis.circle.fill",svgPath:"M58.5449 14.5508C85.791 14.5508 108.35-8.05664 108.35-35.2539C108.35-62.5 85.7422-85.0586 58.4961-85.0586C31.2988-85.0586 8.74023-62.5 8.74023-35.2539C8.74023-8.05664 31.3477 14.5508 58.5449 14.5508ZM35.0586-27.9297C31.0059-27.9297 27.6855-31.2012 27.6855-35.3027C27.6855-39.3555 31.0059-42.627 35.0586-42.627C39.0625-42.627 42.3828-39.3555 42.3828-35.3027C42.3828-31.2012 39.1113-27.9297 35.0586-27.9297ZM58.5449-27.9297C54.4922-27.9297 51.1719-31.2012 51.1719-35.3027C51.1719-39.3555 54.4922-42.627 58.5449-42.627C62.5977-42.627 65.8691-39.3555 65.8691-35.3027C65.8691-31.2012 62.5977-27.9297 58.5449-27.9297ZM82.0801-27.9297C77.9785-27.9297 74.707-31.2012 74.707-35.3027C74.707-39.3555 77.9785-42.627 82.0801-42.627C86.084-42.627 89.4043-39.3555 89.4043-35.3027C89.4043-31.2012 86.084-27.9297 82.0801-27.9297Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.46503906249995,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 99.6099853515625 99.6572265625",width:99.6099853515625,height:99.6572265625,translateX:-8.740039062500045,translateY:85.05859375,baseline:85.05859375,capline:14.5986328125}}})},OS=["showMenu","className","ariaHasPopup","children"];function TS(){return TS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TS.apply(this,arguments)}var AS=Re.forwardRef((function(e,t){var n=e.showMenu,r=e.className,i=e.ariaHasPopup,a=e.children,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,OS),s=Re.useState(!1),c=s[0],l=s[1];return Re.createElement(Gp,TS({ref:t},o,{className:Be()(r,c&&"menu-open pressed"),ariaHasPopup:i||"dialog",onActivate:function(){l(!0),n((function(){return l(!1)}))}}),a)}));function NS(e){var t=Re.useRef(null);return Re.createElement(AS,{ref:t,className:Be()(e.className,"item-action-menu-button"),ariaLabel:Au("FilesGrid.Cell.ActionMenu.Tooltip"),disabled:0===e.forIds.size,showMenu:function(n){e.showItemActionMenu(e.forIds,t,n,"meatballAction")},tabIndex:e.tabIndex},Re.createElement(CS,{className:"meatball-icon",layoutMode:"glyphBox"}))}function MS(e){var t=(0,Sy()[0].useSelectedItems)(),n=0===t.size&&e.fallbackId?new Set([e.fallbackId]):t;return Re.createElement(NS,TS({},e,{forIds:n}))}function DS(e,t){return void 0!==e?e:t}var RS=function(){};function LS(e,t){var n=Re.useState(e),r=n[0],i=n[1],a=void 0!==t;return[DS(t,r),a?RS:i,a]}function kS(e){var t=e.variant,n=void 0===t?"standard":t,r=e.className,i=e.id,a=e.ref,o=e.disabled,s=e.required,c=e.validate,l=e.onBlur,u=e.onChange,d=e.onStateChange,h=e.onSelect,f=e.onInput,p=e.ariaLabelledBy,g=e.defaultValue,m=e.value,v=e.defaultSelection,y=e.selection,_=e.invalid,b=LS(g||"",m),w=b[0],S=b[1],E=LS(v||{selectionEnd:0,selectionStart:0},y),I=E[0],C=E[1],O=LS(!1,_),T=O[0],A=O[1],N=O[2],M=Re.useRef(null),D=Re.useCallback((function(e){M.current=e,a&&("function"===typeof a?a(e):a.current=e)}),[a]),R=Re.useCallback((function(){M.current&&M.current.focus()}),[]),L=xp(i,{onActivationComplete:function(){return R()}});if(void 0!==L&&void 0!==p&&L!==p)throw new Error("A text component (UITextField or UITextArea) was rendered with both an ariaLabelledBy prop and an id prop connected to a UILabel's htmlFor prop.");var k=void 0!==L?L:p,x=I.selectionStart,F=I.selectionEnd;Re.useLayoutEffect((function(){M.current&&null!==M.current.selectionStart&&(M.current.selectionStart===x&&M.current.selectionEnd===F||M.current.setSelectionRange(x,F))}),[x,F]);var P=Re.useCallback((function(e){if(d){var t={value:w,selection:I,invalid:T},n={value:DS(e.value,w),selection:DS(e.selection,I),invalid:DS(e.invalid,T)},r=[];for(var i in n){var a=i;n[a]!==t[a]&&r.push(a)}r.length>0&&d(n,r)}}),[d,w,I,T]),j=Re.useCallback((function(e){var t=e.currentTarget.value;c&&M.current&&M.current.setCustomValidity("");var n={value:t,invalid:!1};w===n.value&&T===n.invalid||(S(n.value),A(n.invalid),P(n),f&&f(n.value))}),[c,w,T,S,A,P,f]),U=Re.useCallback((function(e){var t=e.currentTarget.selectionStart,n=e.currentTarget.selectionEnd;if(null!==t&&null!==n&&(I.selectionStart!==t||I.selectionEnd!==n)){var r={selectionStart:t,selectionEnd:n};C(r),P({selection:r}),h&&h(r)}}),[I,C,P,h]),B=Re.useCallback((function(e){N||M.current!==document.activeElement||T||(A(!0),P({invalid:!0}))}),[N,T,A,P]),V=[n,r,Bv,Hp()];w&&w.length>0&&V.push("contains-text");var W=Be()(V),z={class:Be()(W,T?"invalid":void 0,s?"required":void 0,o?"disabled":void 0),ref:function(e){e&&(e.focus=function(e){M.current&&M.current.focus(e)})}};return{inputProps:{id:i,"aria-labelledby":k,"aria-invalid":T?"true":void 0,disabled:o,required:s,ref:D,value:w,onBlur:function(t){(function(t){N||function(e,t,n){return null!=e.validate?!e.validate(t):!(0!==t.length||!e.required)||DS(e.invalid,!n.checkValidity())}(e,w,t.target)&&(c&&t.target.setCustomValidity("This field is invalid"),A(!0),P({invalid:!0}))})(t),l&&l(t)},onInvalid:B,onInput:j,onSelect:U,onChange:u||function(){}},state:{value:w,selection:I,invalid:T},wrapperProps:z}}var xS=["children","rows","cols","resize","tooltip","variant","className","id","disabled","required","validate","onBlur","onChange","onStateChange","onSelect","onInput","defaultValue","value","defaultSelection","selection","invalid","ariaLabelledBy"],FS=Re.forwardRef((function(e,t){var n=e.children,r=e.rows,i=e.cols,a=e.resize,o=e.tooltip,s=e.variant,c=e.className,l=e.id,u=e.disabled,d=e.required,h=e.validate,f=e.onBlur,p=e.onChange,g=e.onStateChange,m=e.onSelect,v=e.onInput,y=e.defaultValue,_=e.value,b=e.defaultSelection,w=e.selection,S=e.invalid,E=e.ariaLabelledBy,I=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,xS),C=kS({variant:s,className:c,id:l,ref:t,disabled:u,required:d,validate:h,onBlur:f,onChange:p,onStateChange:g,onSelect:m,onInput:v,defaultValue:y,value:_,defaultSelection:b,selection:w,invalid:S,ariaLabelledBy:E}),O=C.inputProps,T=C.wrapperProps,A={resize:a};return void 0===a&&(A.resize="none"),Re.createElement("ui-text-area",Object.assign({title:o},T),Re.createElement("textarea",Object.assign({},I,O,{rows:r,cols:i,style:A})),n)})),PS=function(e){var t=e.onUserCommittedRename,n=e.onUserCancelledRename,r=e.initialName,i=Au("Common.NewFolder"),a=Re.useState(r),o=a[0],s=a[1],c=Re.useRef(o),l=Re.useCallback((function(e){s(e),c.current=e}),[s]),u=Re.useRef(null),d=Re.useRef(!1),h=Re.useCallback((function(){d.current||(d.current=!0,c.current.length>0?t(c.current):t(r))}),[r,t]),f=Re.useCallback((function(e){e.stopPropagation(),d.current||"Enter"===e.key&&h()}),[h]),p=Re.useCallback((function(e){e.stopPropagation(),d.current||"Escape"===e.key&&(d.current=!0,n())}),[n]);Re.useEffect((function(){return function(){return h()}}),[]);var g=Re.useState(0),m=g[0],v=g[1],y=Re.useState(29),_=y[0],b=y[1];Re.useEffect((function(){var e;null==(e=u.current)||e.select()}),[]);var w=Re.useState(!1),S=w[0],E=w[1],I=Re.useRef(null);return Re.useEffect((function(){E(!0)}),[o]),Re.useLayoutEffect((function(){if(S&&null!=I&&I.current&&null!=u&&u.current){var e=I.current.getBoundingClientRect(),t=e.width+15,n=e.height+10,r=2*e.height+10;t>128?(b(r),v(128)):(0===e.height?b(29):b(n),v(t)),E(!1)}}),[_,S,m]),Re.createElement(Re.Fragment,null,Re.createElement("div",{className:"renaming-text-area-container",style:{inlineSize:m,blockSize:_}},Re.createElement(FS,{ref:u,className:"renaming-text-area",autoComplete:"false",spellCheck:"false",autoCorrect:"false",autoCapitalize:"false",defaultValue:r,maxLength:255,"aria-label":i,onStateChange:function(e){var t;l(null!=(t=e.value)?t:"")},onBlur:h,type:"text",resize:"none",width:m,onKeyPress:f,onKeyDown:p,onMouseDown:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onClick:function(e){return e.stopPropagation()}})),Re.createElement("span",{className:"text-measurer",style:{whiteSpace:"pre"},ref:I},S&&o))};function jS(e){var t=e.locale,n=e.dateExpiration,r=Date.parse(n)-Date.now()<3456e5?"time-remaining warn":"time-remaining",i=function(e){var n=Date.parse(e)-Date.now(),r=Math.floor(n/864e5);if(1===r)return Mu(t,"FilesGrid.Item.TimeRemaining.Day.One");if(r>1)return Mu(t,"FilesGrid.Item.TimeRemaining.Day.Plural",{count:r});var i=Math.floor(n/36e5);if(1===i)return Mu(t,"FilesGrid.Item.TimeRemaining.Hour.One");if(i>1)return Mu(t,"FilesGrid.Item.TimeRemaining.Hour.Plural",{count:i});var a=Math.floor(n/6e4);return 0===a?Mu(t,"FilesGrid.Item.TimeRemaining.Hour.One"):1===a?Mu(t,"FilesGrid.Item.TimeRemaining.Minute.One"):Mu(t,"FilesGrid.Item.TimeRemaining.Minute.Plural",{count:a})}(n);return Re.createElement("div",{className:r},i)}var US=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"xmark",svgPath:"M14.2578 2.7832C16.6992 5.22461 20.8008 5.12695 23.1445 2.83203L52.2461-26.2695L81.2988 2.83203C83.6914 5.22461 87.793 5.22461 90.1855 2.7832C92.5781 0.341797 92.627-3.71094 90.2344-6.10352L61.1816-35.2051L90.2344-64.2578C92.627-66.6504 92.627-70.7031 90.1855-73.1445C87.7441-75.5371 83.6914-75.5859 81.2988-73.1934L52.2461-44.0918L23.1445-73.1934C20.8008-75.4883 16.6504-75.5859 14.2578-73.1445C11.8652-70.7031 11.9141-66.6016 14.209-64.3066L43.3105-35.2051L14.209-6.05469C11.9141-3.75977 11.8164 0.390625 14.2578 2.7832Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:82.83494140624998,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 81.6951904296875 79.70068359375",width:81.6951904296875,height:79.70068359375,translateX:-10.327534179687518,translateY:75.080322265625,baseline:75.080322265625,capline:4.620361328125}}})};function BS(e){var t=e.completed,n=e.total,r=e.ariaLabel,i=pp(),a=100*t/n,o=isNaN(a)?0:Math.min(100,Math.max(0,a));return Re.createElement("div",{className:Be()("progress-bar",i)},Re.createElement(ES,null,Re.createElement("progress",{"aria-label":r,value:o,max:100})),Re.createElement("div",{className:"progress-bar-background","aria-hidden":!0}),Re.createElement("div",{className:"progress-bar-fill",style:{width:"max("+o+"%, 4px)"},"aria-hidden":!0}))}function VS(e){var t=e.uploadProgress,n=e.id,r=e.isVisible,i=void 0===r||r,a=e.onCancelUpload,o=xg().driveItemCache.read(n),s=o&&Vu(o)?null==o?void 0:o.extension:void 0,c=null==o?void 0:o.name,l=pp(),u=Au("Common.Progress.Waiting"),d=Au("FilesGrid.Cell.Upload.Progress.Uploading"),h=void 0===t||0===t.bytesCompleted?u:d;return Re.createElement("div",{className:Be()("drive-grid-item","upload",l+"-size-class"),"aria-label":c,"aria-disabled":!0,tabIndex:-1},Re.createElement(ES,{hidden:i},c),i?Re.createElement(Re.Fragment,null,Re.createElement(Vb,{extension:s,size:"compact"===l?80:128},Re.createElement(WS,{onActivate:function(){return a(n)}}),void 0===t?null:Re.createElement(BS,{completed:t.bytesCompleted,total:t.bytesTotal,ariaLabel:c||""})),Re.createElement("div",{className:"text-container"},Re.createElement("div",{className:"title",title:c},Re.createElement("span",{"aria-hidden":"true"},c)),Re.createElement("div",{className:"subtitle"},h))):null)}function WS(e){var t=e.onActivate,n=pp(),r=Au("FilesGrid.Cell.Cancel.Tooltip");return Re.createElement(Gp,{variant:"cancel-upload-button",className:n,"aria-label":r,onActivate:t},Re.createElement(US,{desiredFontSize:"regular"===n?14:8.4,layoutMode:"glyphBox"}))}function zS(){var e=Re.useContext(Pg),t=xg();return Re.useCallback((function(n){if("object"===typeof n)return!1;var r=t.driveItemCache.read(n);if(!r)throw new Error("useGetIsItemEnabled: attempted to check state of an item with no data loaded.");return!e||"FILE"!==r.type||!!r.extension&&e.includes(r.extension)}),[e,t])}function HS(e){var t=xg().driveItemTransactionStatusCache;return Object(bd.g)((function(){return e&&t.get(e)||"Prepared"}),[t,e])}function GS(e,t){var n=Re.useRef(t);Re.useEffect((function(){n.current=t}),[t]);var r=xg(),i=Object(bd.g)((function(){var t=r.driveItemCache.read(e);return!!t&&!!t.shareID}),[e,r]);Re.useEffect((function(){if(i)return n.current(e,(function(t){r.shareRecordCache.serverState.write(e,t)}))}),[e,i,r])}function $S(){return $S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$S.apply(this,arguments)}var KS=function(e){return"compact"===e?131:180},QS=Re.memo((function(e){var t=e.isInTrash,n=e.id,r=e.ids,i=e.showQuickLook,a=e.showItemActionMenu,o=e.onItemActivated,s=e.onUserCommittedRename,c=e.isVisible,l=e.onMove,u=e.onUpload,d=e.onDragTargetChanged,h=e.onDragTargetCleared,f=e.showOutOfQuotaAlert,p=e.onFilesDragEnter,g=e.onFilesDragOverComplete,m=e.onCancelUpload,v=e.renamingId,y=e.onFinishedRename,_=e.renderItemActionButton,b=e.subscribeToShareRecord,w=Re.useRef(null),S=Sy(),E=S[0],I=E.useIsSelected,C=E.useIsCurrentId,O=E.getSelectedItems,T=S[1],A=I(n),N=C(n),M=Og(),D=Ig(),R=zg(),L=Wm();function k(){x.current&&(x.current=!1,w.current&&N&&w.current.focus({preventScroll:!0}))}Re.useEffect((function(){w.current&&N&&"main content"===(null==L?void 0:L.current)&&(x.current||w.current.focus({preventScroll:!0}))}),[w,N,L]);var x=Re.useRef(!1),F=function(e){var t=e.shiftKey,i=bS(e);T({type:t?"extendSelection":i?"toggle":"selectExclusively",id:n,items:r})},P=Re.useRef(!1),j="Committing"===HS(n),U=zS()(n),B=j||!U,V=xg().uploadProgressCache,W=Object(bd.g)((function(){return V.get(n)}),[n,V]);return Re.createElement("td",{ref:w,role:"gridcell",className:"drive-grid-item-wrapper",onMouseDown:function(e){M||(A?(e.stopPropagation(),P.current=!0):(F(e),x.current=!0,P.current=!1))},onMouseUp:k,onMouseOut:k,onClick:function(e){if(M)if(!D||"file-picker"===R&&!xu(n))o(n);else{var t=e.shiftKey;T({type:t?"extendSelection":"toggle",id:n,items:r})}else P.current&&F(e);e.preventDefault(),e.stopPropagation()},onDoubleClick:function(e){M||B||O().size>1||(e.stopPropagation(),e.preventDefault(),null==o||o(n))},onKeyDown:function(e){" "===e.key&&(e.preventDefault(),e.target instanceof HTMLElement&&(e.target.closest("ui-button.item-action-menu-button")||e.target.closest("ui-button.info-action-button"))||!xu(n)||e.altKey||e.ctrlKey||e.shiftKey||i(n,w.current))},tabIndex:N?0:-1,"aria-selected":A,"aria-current":N,"data-id":n,style:{outline:"none"}},Lu(n)?Re.createElement(VS,{id:n,uploadProgress:W,onCancelUpload:m}):Re.createElement(qS,{isInTrash:t,item:n,showItemActionMenu:a,onItemActivated:o,onUserCommittedRename:s,isVisible:c,onMove:l,onUpload:u,onDragTargetChanged:d,onDragTargetCleared:h,onFilesDragEnter:p,onFilesDragOverComplete:g,showOutOfQuotaAlert:f,disabled:B,renamingId:v,onFinishedRename:y,renderItemActionButton:_,subscribeToShareRecord:b}))})),qS=function(e){var t,n=e.isInTrash,r=void 0!==n&&n,i=e.item,a=e.isVisible,o=void 0===a||a,s=e.disabled,c=e.showItemActionMenu,l=e.onItemActivated,u=e.onUserCommittedRename,d=e.onMove,h=e.onUpload,f=e.onDragTargetChanged,p=e.onDragTargetCleared,g=e.onFilesDragEnter,m=e.onFilesDragOverComplete,v=e.showOutOfQuotaAlert,y=e.renamingId,_=e.onFinishedRename,b=e.renderItemActionButton,w=e.subscribeToShareRecord,S=pp(),E=Cu(),I=pg(),C=uw(i),O=$u(C)||qu(C),T=Yu(C);GS(i,w);var A=Sy(),N=A[0],M=N.useIsSelected,D=N.useIsCurrentId,R=A[1],L=Ig(),k=M(i),x=D(i)?0:-1,F=zg(),P=Re.createElement(ES,null,Re.createElement("input",{type:"checkbox","aria-label":Au("FilesGrid.Item.Checkbox.ScreenreaderLabel",{fileName:T}),tabIndex:-2,checked:k,onFocus:YS,onMouseDown:XS,onChange:function(e){setTimeout((function(){R({type:"toggle",id:C.id,selected:!k}),e&&(e.stopPropagation(),e.preventDefault())}))}})),j="item-grid-type-hint-"+C.id,U=Re.createElement("span",{id:j,hidden:!0},IS(C)),B=Ng();Re.useEffect((function(){B===i||y===i?setTimeout((function(){return z(!0)})):z(!1)}),[i,B,y]);var V=Re.useState(!1),W=V[0],z=V[1],H=Au("FilesGrid.Item.FileLink.ScreenreaderLabel",{fileName:T}),G=Au("FilesGrid.Item.FolderButton.ScreenreaderLabel",{fileName:T}),$=W?Re.createElement(PS,{initialName:T,onUserCommittedRename:function(e){null==u||u(i,e),z(!1),_&&_()},onUserCancelledRename:function(){null==u||u(i,T),z(!1),_&&_()}}):O?Re.createElement("button",{className:"title","aria-label":s?T:G,tabIndex:x,disabled:s,onClick:function(e){e.preventDefault(),L||s||(e.stopPropagation(),!s&&l&&null!=C&&C.id&&l(C.id))}},Re.createElement("span",{className:"title","aria-hidden":"true"},T)):Re.createElement("a",{className:Be()("title",S+"-size-class"),title:s?T:H,href:"about:blank",target:"_blank","aria-disabled":s,tabIndex:x,onClick:function(e){e.preventDefault(),L||s||(e.stopPropagation(),!s&&null!=C&&C.id&&(null==l||l(C.id)))},rel:"noreferrer"},Re.createElement("span",{"aria-hidden":"true"},T)),K=void 0;if(!O){var Q=zu(C);Q&&(K=new Date(Q))}var q=hw(K),Z=q?Re.createElement("div",{className:"date"},q):null,Y=xg().driveItemCache,X=Object(bd.g)((function(){for(var e=C.id;e;){var t=Y.read(e);if(!t)return!1;if("FROM_ME"===t.share)return!0;e=t.parentId}return!1}),[Y,C.id]),J=bw(E,C,X),ee=J?Re.createElement("div",{className:"share"},J):null,te=Re.useState(!1),ne=te[0],re=te[1],ie=gy(O&&o&&d&&h&&f&&p&&v?{id:i,onFilesDragEnter:function(){re(!0),null==g||g()},onDragTargetChanged:f,onDragTargetCleared:p,onMove:d,onUpload:h,onTrashItems:function(){throw new Error("Bad state: DriveGridItem unable to delete items")},onFilesDragOverComplete:function(){re(!1),null==m||m()},showOutOfQuotaAlert:v}:void 0);return Re.createElement("div",$S({className:Be()("drive-grid-item",S+"-size-class",s?"is-item-disabled":null,ne?"drag-hover":null),"aria-disabled":s,role:"group","aria-label":T,"aria-describedby":j+" grid-press-hint",tabIndex:-1,onClick:ZS,onMouseDown:function(){var e,t=document.activeElement;null!=t&&null!=(e=t.parentElement)&&e.classList.contains("renaming-text-area")&&(null==t||t.blur())}},ie),U,Re.createElement(ES,{hidden:o},T),o?Re.createElement(Re.Fragment,null,Re.createElement(dw,{id:C.id,size:"compact"===S?80:128},L&&("file-picker"!==F||xu(i))?Re.createElement(JS,{checked:k}):null,I?null!=(t=null==b?void 0:b(C.id,x))?t:Re.createElement(MS,{showItemActionMenu:c,tabIndex:x,fallbackId:C.id}):null),Re.createElement("div",{className:Be()("text-container",W?"is-inline-renaming":null)},$,Z,ee,C.dateExpiration&&r?Re.createElement(jS,{locale:E,dateExpiration:C.dateExpiration}):null,P)):null)};function ZS(){}function YS(e){e.preventDefault()}function XS(e){e.stopPropagation()}var JS=function(e){return Re.createElement("span",{className:Be()("svg-container selection-checkmark",e.checked?"checked":null)},Re.createElement("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48"},Re.createElement("circle",{fill:"#146FDF",stroke:"#dcdcdc",strokeWidth:"2",cx:"24",cy:"24",r:"23"}),Re.createElement("polyline",{fill:"none",stroke:"#dcdcdc",strokeWidth:"4",points:"12,25 19,32 35,16"})))};function eE(e,t){var n=Re.useRef(e);Re.useLayoutEffect((function(){return n.current=e,n.current&&window.requestAnimationFrame((function e(){t(),n.current&&window.requestAnimationFrame(e)})),function(){n.current=!1}}),[e,t])}function tE(e){var t=e.scrollContainerRef,n=Re.useState(!1),r=n[0],i=n[1],a=Re.useRef(0),o=Re.useRef(0),s=Re.useCallback((function(){o.current+=1,1===o.current&&i(!0)}),[]),c=Re.useCallback((function(e){a.current=e.clientY}),[]),l=Re.useCallback((function(){o.current-=1,0===o.current&&i(!1)}),[]);return Re.useEffect((function(){if(r){var e,n,i=setInterval((function(){var r=t.current,i=a.current;if(r){var o=r.getBoundingClientRect(),s=o.top,c=o.height,l=r.scrollTop,u=r.scrollHeight,d=s+30,h=c+s-20;if(d<i&&i<h)return e=null,void(n=null);null!=e&&null!=n||(e=Date.now(),n=l);var f=(Date.now()-e)/1e3,p=320*f+320*Math.pow(Math.min(f,10),2.2)+320*Math.max(0,f-10)*(Math.pow(10,2.2)-Math.pow(9,2.2));i>h?r.scrollTop=Math.min(n+p,u-c):i<d&&(r.scrollTop=Math.max(n-p,0))}}),17);return function(){clearInterval(i)}}}),[r,t,a]),{onDragEnter:s,onDragOver:c,onDragLeave:l}}function nE(e,t){var n=Sy(),r=n[0].useSelectedItems,i=n[1],a=r(),o=Og(),s=Object(bd.g)((function(){var e=Array.from(a).filter(t);return 0===e.length?null:e}),[a,t]),c=Re.useRef(-1);Re.useEffect((function(){var n=c.current;if(c.current=e.findIndex((function(e){return a.has(e)})),s&&(i({type:"remove",ids:s}),!o&&n>=0)){var r=e.find((function(e,r){return!(r<n)&&!t(e)}));r&&i({type:"selectExclusively",id:r,byKeyboard:!0})}}),[o,e,t,a,s,i])}function rE(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5?arguments[5]:void 0,o="forward"===n,s=null!=a?a:o?e.length-1:0;if(o){for(var c=t;c<=s;c+=i)if(r(e[c]))return c}else for(var l=t;l>=s;l-=i)if(r(e[l]))return l;return null}function iE(e){var t=e.scrollContainerRef,n=e.contentStartRef,r=e.contentEndRef,i=e.fadeSize,a=void 0===i?70:i,o=e.fadeColor,s=void 0===o?"rgb(255, 255, 255)":o,c=Re.useCallback((function(){var e=t.current,i=e.clientHeight,o=e.scrollHeight,s=e.scrollTop,c=o-i-s;if(null==n||!n.current){var l=e.querySelector(":scope > :first-child"),u=e.querySelector("[data-overflow-fade-content-start]");l&&l!==u&&(null==u||u.removeAttribute("data-overflow-fade-content-start"),l.setAttribute("data-overflow-fade-content-start",""))}if(null==r||!r.current){var d=e.querySelector(":scope > :last-child"),h=e.querySelector("[data-overflow-fade-content-end]");d&&d!==h&&(null==h||h.removeAttribute("data-overflow-fade-content-end"),d.setAttribute("data-overflow-fade-content-end",""))}var f=s/a,p=Math.min(cE(f)*a,a);e.style.setProperty("--fadeTopHeight",p+"px");var g=c/a,m=Math.min(cE(g)*a,a);e.style.setProperty("--fadeBottomHeight",m+"px")}),[t,a,n,r]);Re.useLayoutEffect((function(){if(null!=t.current){var e=t.current,i=null==n?void 0:n.current,a=null==r?void 0:r.current,o=i||e.querySelector(":scope > :first-child"),s=a||e.querySelector(":scope > :last-child");e.setAttribute("data-overflow-fade","true"),o&&o.setAttribute("data-overflow-fade-content-start",""),s&&s.setAttribute("data-overflow-fade-content-end",""),c()}}),[t,n,r,c]),Re.useLayoutEffect((function(){if(null!=t.current){var e=t.current;return e.addEventListener("scroll",c,{passive:!0}),function(){e.removeEventListener("scroll",c)}}}),[t,c]);var l=hp("(prefers-color-scheme: dark)")?"dark":"light";Re.useLayoutEffect((function(){if(null!=t.current){var e,n=t.current;null==n||n.style.setProperty("--fadeSize",a+"px"),e=function(e){var t=e.match(/()([\d]{1,3},\s[\d]{1,3},\s[\d]{1,3})/gi)[0];return"linear-gradient(\n            rgba("+t+", 1) 0%,\n            rgba("+t+", 0.987) 8.1%,\n            rgba("+t+", 0.951) 15.5%,\n            rgba("+t+", 0.896) 22.5%,\n            rgba("+t+", 0.825) 29%,\n            rgba("+t+", 0.741) 35.3%,\n            rgba("+t+", 0.648) 41.2%,\n            rgba("+t+", 0.55) 47.1%,\n            rgba("+t+", 0.45) 52.9%,\n            rgba("+t+", 0.352) 58.8%,\n            rgba("+t+", 0.259) 64.7%,\n            rgba("+t+", 0.175) 71%,\n            rgba("+t+", 0.104) 77.5%,\n            rgba("+t+", 0.049) 84.5%,\n            rgba("+t+", 0.013) 91.9%,\n            rgba("+t+", 0) 100%\n        )"}("light"===l?s:"rgba(28, 28, 30, 1)"),null==n||n.style.setProperty("--fadeGradient",e)}}),[a,s,t,l]);var u=Re.useRef();return SS((function(e){e.height!==u.current&&c(),u.current=e.height}),t),c}function aE(e){return 1/(1+Math.exp(-1*(12*e-.1)))}var oE=aE(0),sE=aE(1);function cE(e){return(aE(e)-oE)*(1/(sE-oE))}function lE(e,t){return ed(e)||function(e,t){return e.some((function(e){var n=t.read(e);if(!n)throw new Error("includesSharedByMeFolder called for ID with no data loaded.");return"FROM_ME"===n.share}))}(Hw(e.id,t),t)}function uE(e,t){return Ju(e.id)||Xu(e.id)||lE(e,t)}function dE(e,t){if(e.shareID)return e.shareID;var n=function(e,t,n){var r=Hw(e.id,t);if(r)for(var i of r){var a=t.read(i);if(a&&n(a))return a}}(e,t,(function(e){return!!e.shareID}));return n?n.shareID:void 0}function hE(){return hE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hE.apply(this,arguments)}var fE=function(e){qm();var t=Re.useRef(null),n=pp(),r=xg(),i=Sy()[1],a=Re.useRef(null),o=iE({scrollContainerRef:t,contentStartRef:a});Re.useLayoutEffect(o,[e.ids,o]);var s=Re.useState(1),c=s[0],l=s[1],u=KS(n),d=Re.useMemo((function(){return e.leadingGridItem?[e.leadingGridItem,...e.ids]:e.ids}),[e.leadingGridItem,e.ids]),h=function(e){var t,n,r=e.columnCount,i=e.items,a=e.wrapperRef,o=e.scrollToItemRef,s=e.fastMountMode?"fast-mount":i.length<=250?"not-worth-bothering":i.length>=2e3?"gargantuan":"ax-mode",c=Re.useState(0),l=c[0],u=c[1],d=Re.useState(0),h=d[0],f=d[1],p=Re.useState(0),g=p[0],m=p[1],v=Re.useState(1/0),y=v[0],_=v[1],b="compact"===pp()?200:260,w=Math.floor(i.length/r),S=function(){return ke.unstable_batchedUpdates((function(){if("not-worth-bothering"===s)return u(0),f(1/0),m(0),void _(1/0);if(a.current){var e=a.current.scrollTop,t=e+a.current.clientHeight,n=e/b,r=Math.max(Math.floor(n),0),i=t/b,o=Math.min(w,Math.max(0,Math.floor(i)));if("fast-mount"===s)return u(r),f(o),m(r),void _(o);var c=Math.max(10*Math.floor((r-10)/10),0),l=Math.min(10*Math.ceil((o+10)/10),w);"ax-mode"===s?(u(c),f(l),m(0),_(1/0)):(m(c),_(l),u(0),f(1/0))}}))},E=Re.useRef(S);Re.useLayoutEffect((function(){return E.current=S})),Re.useLayoutEffect((function(){E.current()}),[]),g>0&&(t=b*g),y<1/0&&(n=b*(w-y));var I=0,C=i.length;g>0&&(I=g*r),y<1/0&&(C=(y+1)*r);var O="not-worth-bothering"===s?i:i.slice(I,C);return Re.useImperativeHandle(o,(function(){return function(e){if(null!=a.current){var t=i.indexOf(e);if(t<0)throw new Error("useLightlyVirtualizedFixedSizeFlowGrid cannot find item id  to scroll to");var n=Math.floor(t/r)*b;a.current.scrollTop=n}}}),[r,i,b,a]),{itemsToRender:O,fullRenderWindowTop:l,fullRenderWindowBottom:h,spacerWindowTop:g,spacerWindowBottom:y,topSpacerHeight:t,bottomSpacerHeight:n,remeasureOverflow:S,onScroll:"not-worth-bothering"===s?void 0:function(){S()}}}({fastMountMode:e.fastMountMode,items:d,columnCount:c,wrapperRef:t,scrollToItemRef:e.scrollToItemRef}),f=h.fullRenderWindowTop,p=h.fullRenderWindowBottom,g=h.remeasureOverflow,m=h.onScroll,v=h.spacerWindowTop,y=h.topSpacerHeight,_=h.bottomSpacerHeight,b=h.itemsToRender,w=SS((function(e){var t=e.width,n=Math.floor(t/(u+8));l(Math.max(1,n)),g()}),t);eE(e.isAnimating,w);var S=b.reduce((function(t,r,i){var a=t.currentRow,o=t.rows,s=v+o.length;if("string"!==typeof r){var l=r;a.push(l)}else{var d=r;a.push(Re.createElement(QS,{isInTrash:e.isInTrash,key:d,isVisible:s>=f&&s<=p,id:d,ids:e.ids,onItemActivated:e.onItemActivated,onUserCommittedRename:e.onUserCommittedRename,onMove:e.onMove,onUpload:e.onUpload,onDragTargetChanged:e.onDragTargetChanged,onDragTargetCleared:e.onDragTargetCleared,showOutOfQuotaAlert:e.showOutOfQuotaAlert,onFilesDragEnter:e.subfolderOnFilesDragEnter,onFilesDragOverComplete:e.subfolderOnFilesDragOverComplete,onCancelUpload:e.onCancelUpload,showQuickLook:e.showQuickLook,showItemActionMenu:e.showItemActionMenu,renamingId:e.renamingId,onFinishedRename:e.onFinishedRename,renderItemActionButton:e.renderItemActionButton,subscribeToShareRecord:e.subscribeToShareRecord}))}if(i===b.length-1)for(;a.length<c;)a.push(Re.createElement("td",{key:a.length,"aria-hidden":"true",className:"spacer",style:{width:u}}));return a.length===c&&(o.push(Re.createElement("tr",{role:"row",className:n+"-size-class",key:s},a)),t.currentRow=[]),t}),{rows:[],currentRow:[]}).rows;nE(e.ids,Re.useCallback((function(t){var n,i=null==(n=r.driveItemCache.read(t))?void 0:n.parentId;return!!i&&i!==e.folderId}),[r.driveItemCache,e.folderId]));var E=t.current,I=function(e,t,n){var r=zS(),i=Ig();return Re.useCallback((function(a,o){var s=o.shiftKey?"extend":o.altKey||i?"move-cursor":"select";switch(o.key){case"ArrowRight":case"ArrowLeft":var c="ArrowRight"===o.key===("ltr"===e);if(!a){if(c){var l=rE(t,0,"forward",r);return null!==l?{type:"selectExclusively",id:t[l],byKeyboard:!0}:null}return null}var u=t.indexOf(a);if(c&&u===t.length-1)return null;var d=Math.floor(u/n),h=d*n;if(!c&&u===h)return null;var f=Math.min((d+1)*n-1,t.length-1);if(c&&u===f)return null;if("select"===s){var p=rE(t,c?u+1:u-1,c?"forward":"back",r,1,c?f:h),g=0;return null!==p&&(g=p-u),0===g?null:{type:"move",subtype:s,count:g,items:t,byKeyboard:!0}}return{type:"move",subtype:s,count:c?1:-1,items:t,byKeyboard:!0};case"ArrowDown":if(!a){var m=rE(t,0,"forward",r);return null!==m?{type:"selectExclusively",id:t[m],byKeyboard:!0}:null}var v=t.indexOf(a);if(Math.floor(v/n)===Math.floor((t.length-1)/n))return null;if("select"===s){var y=rE(t,v+n,"forward",r,n);return null!==y?{type:"move",subtype:s,count:y-v,items:t,byKeyboard:!0}:null}return{type:"move",subtype:s,count:n,items:t,byKeyboard:!0};case"ArrowUp":if(!a)return null;var _=t.indexOf(a);if(_<n)return null;if("select"===s){var b=rE(t,_-n,"back",r,n);return null!==b?{type:"move",subtype:s,count:b-_,items:t,byKeyboard:!0}:null}return{type:"move",subtype:s,count:-n,items:t,byKeyboard:!0}}return null}),[e,t,n,r,i])}(E?getComputedStyle(E).direction:void 0,d,c),C=e.onKeyDownFactory(I),O=Og(),T=Re.useCallback((function(e){if(!O){var n,r,a=null==(n=(r=e.target).closest)?void 0:n.call(r,'[role="gridcell"]'),o=t.current===document.activeElement||t.current.contains(document.activeElement);!a&&o&&i({type:"clear"})}}),[O,i]),A=tE({scrollContainerRef:t}),N=wS(t),M=xg().driveItemCache,D=M.read(e.folderId),R=D&&uE(D,M);return Re.createElement("table",hE({className:Be()("folder-contents","grid-container",e.className,e.fastMountMode&&"fast-mount-mode",N&&"focus-within",e.isDraggingOverTable&&!e.isDraggingOverSubfolder&&"drag-hover",O?"has-select-support":null,R?"shared-folder":null),ref:$p(e.scrollContainerRef,t,e.focusContainerRef),onScroll:m,role:"grid","aria-multiselectable":"true",tabIndex:e.tabIndex,onKeyDown:C,onMouseDown:T,draggable:"true",onDragStart:e.onDragStart},e.dropZoneHandlers,A,{onDragEnter:function(t){var n;null==(n=e.dropZoneHandlers)||n.onDragEnter(t),A.onDragEnter(t)},onDragOver:function(t){var n;null==(n=e.dropZoneHandlers)||n.onDragOver(t),A.onDragOver(t)},onDragLeave:function(t){var n;null==(n=e.dropZoneHandlers)||n.onDragLeave(t),A.onDragLeave(t)}}),Re.createElement("tbody",{style:{paddingTop:y,paddingBottom:_}},S))},pE=n(1455),gE=["children","inputType","leadingAccessory","accessoryGroupAriaLabel","variant","className","id","disabled","required","validate","onBlur","onChange","onStateChange","onSelect","onInput","defaultValue","value","defaultSelection","selection","invalid","ariaLabelledBy","placeholder"],mE=Object.assign({name:""},Object(pE.detect)()),vE=Re.forwardRef((function(e,t){var n=e.children,r=e.inputType,i=void 0===r?"text":r,a=e.leadingAccessory,o=e.accessoryGroupAriaLabel,s=e.variant,c=e.className,l=e.id,u=e.disabled,d=e.required,h=e.validate,f=e.onBlur,p=e.onChange,g=e.onStateChange,m=e.onSelect,v=e.onInput,y=e.defaultValue,_=e.value,b=e.defaultSelection,w=e.selection,S=e.invalid,E=e.ariaLabelledBy,I=e.placeholder,C=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,gE),O=Re.useRef(null),T=kS({variant:s,className:c,id:l,disabled:u,required:d,validate:h,onBlur:f,onChange:p,onStateChange:g,onSelect:m,onInput:v,defaultValue:y,value:_,defaultSelection:b,selection:w,invalid:S,ariaLabelledBy:E,ref:$p(t,O)}),A=T.inputProps,N=T.wrapperProps,M="ie"===mE.name||"edge"===mE.name;return Re.createElement("ui-text-field",Object.assign({},N,{"aria-label":o,onClick:function(){O.current&&O.current.focus()}}),M?Re.createElement("span",{className:"ui-text-field-placeholder"},I):null,a,Re.createElement("input",Object.assign({},C,A,{placeholder:I,type:i})),n)}));function yE(e,t){var n=Cu(),r=Re.useContext(vg);return bg(r,"useFormattedBytes","NumberFormatterContext"),Ow(e,r,n,t)}var _E=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"checkmark",svgPath:"M45.459 8.30078C48.0469 8.30078 50 7.22656 51.416 5.12695L97.3145-66.4551C98.3398-68.0176 98.7305-69.3848 98.7305-70.7031C98.7305-74.0723 96.3867-76.416 92.9688-76.416C90.5762-76.416 89.1602-75.5859 87.6953-73.291L45.2637-5.9082L23.3887-33.9844C21.9727-35.8887 20.5078-36.6699 18.3594-36.6699C14.9414-36.6699 12.4512-34.2285 12.4512-30.8594C12.4512-29.3945 12.9883-27.9785 14.209-26.4648L39.502 5.17578C41.2109 7.27539 43.0176 8.30078 45.459 8.30078Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:79.49509521484379,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 88.430908203125 87.0615234375",width:88.430908203125,height:87.0615234375,translateX:-10.299521484374964,translateY:78.7607421875,baseline:78.7607421875,capline:8.30078125}}})},bE=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"xmark",svgPath:"M14.5508 3.07617C17.4316 5.9082 22.3145 5.85938 24.9512 3.17383L52.832-24.707L80.7129 3.17383C83.4473 5.9082 88.2812 5.9082 91.0645 3.07617C93.8965 0.195312 93.9453-4.54102 91.1621-7.32422L63.3301-35.2051L91.1621-63.0371C93.9453-65.8203 93.9453-70.6055 91.0645-73.4375C88.2324-76.2695 83.4473-76.2695 80.7129-73.5352L52.832-45.6543L24.9512-73.5352C22.3145-76.2207 17.3828-76.3184 14.5508-73.4375C11.7188-70.6055 11.8164-65.7227 14.4531-63.0371L42.3828-35.2051L14.4531-7.27539C11.8164-4.63867 11.7188 0.292969 14.5508 3.07617Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:82.84094726562489,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 84.1370849609375 80.885009765625",width:84.1370849609375,height:80.885009765625,translateX:-9.10058105468761,translateY:75.6724853515625,baseline:75.6724853515625,capline:5.2125244140625}}})};function wE(){return wE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wE.apply(this,arguments)}var SE=function(e){var t,n=e.id,r=e.onCancelUpload,i=e.uploadState,a=e.percentageUploaded;t="complete"===i?Re.createElement(_E,{className:"checkmark",desiredFontSize:9.2}):Re.createElement(bE,{layoutMode:"glyphBox",className:"x-mark",desiredFontSize:5.3});var o=18*Math.PI,s={cx:11,cy:11,r:9};return Re.createElement("div",{"aria-hidden":"complete"===i},Re.createElement(Gp,{variant:"circular-upload-status-button",className:i,onActivate:function(){return r(n)},disabled:"complete"===i,ariaLabel:Sr.d("DriveUI.UploadStatusButton.Label.CancelUpload")},Re.createElement("svg",{className:"circular-progress-indicator",width:"18px",height:"18px",viewBox:"0 0 22 22",xmlns:"http://www.w3.org/2000/svg"},Re.createElement("circle",wE({className:"ring-track"},s)),Re.createElement("circle",wE({className:"meter"},s,{strokeDasharray:o,strokeDashoffset:void 0!==a?o-a/100*o:void 0}))),t))},EE=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"checkmark.circle.fill",svgPath:"M58.5449 14.5508C85.791 14.5508 108.35-8.05664 108.35-35.2539C108.35-62.5 85.7422-85.0586 58.4961-85.0586C31.2988-85.0586 8.74023-62.5 8.74023-35.2539C8.74023-8.05664 31.3477 14.5508 58.5449 14.5508ZM53.0762-11.377C51.416-11.377 50.0488-12.0605 48.7793-13.7695L36.5234-28.8086C35.791-29.7852 35.3516-30.8594 35.3516-31.9824C35.3516-34.1797 37.0605-35.9863 39.2578-35.9863C40.6738-35.9863 41.748-35.5469 42.9688-33.9355L52.8809-21.1426L73.7305-54.6387C74.6582-56.1035 75.9277-56.8848 77.1973-56.8848C79.3457-56.8848 81.3477-55.4199 81.3477-53.125C81.3477-52.0508 80.7129-50.9277 80.127-49.9023L57.1777-13.7695C56.1523-12.1582 54.7363-11.377 53.0762-11.377Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.46503906249995,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 99.6099853515625 99.6572265625",width:99.6099853515625,height:99.6572265625,translateX:-8.740039062500045,translateY:85.05859375,baseline:85.05859375,capline:14.5986328125}}})};function IE(){return IE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IE.apply(this,arguments)}var CE=Re.memo((function(e){var t=e.layoutMode,n=void 0===t?"one-row":t,r=e.id,i=e.nextId,a=e.ids,o=e.onItemActivated,s=e.onUserCommittedRename,c=e.isVisible,l=e.onMove,u=e.onUpload,d=e.onDragTargetChanged,h=e.onDragTargetCleared,f=e.showOutOfQuotaAlert,p=e.onFilesDragEnter,g=e.onFilesDragOverComplete,m=e.subscribeToShareRecord,v=e.onCancelUpload,y=e.showQuickLook,_=e.showItemActionMenu,b=e.renamingId,w=e.onFinishedRename,S=e.isInTrash,E=e.renderItemActionButton,I=e.style,C=e.isDragging,O=void 0!==C&&C,T=Re.useRef(null),A="pointer-coarse"===Up();GS(r,m);var N=Sy(),M=N[0],D=M.useIsSelected,R=M.useIsCurrentId,L=M.getSelectedItems,k=N[1],x=R(r),F=D(r),P=D(i),j=zS()(r),U=Og(),B=Ig(),V=R(r)?0:-1,W=zg(),z=Wm();function H(){G.current&&(G.current=!1,T.current&&x&&T.current.focus({preventScroll:!0}))}Re.useEffect((function(){T.current&&x&&"main content"===(null==z?void 0:z.current)&&(G.current||T.current.focus({preventScroll:!0}))}),[T,x,z]);var G=Re.useRef(!1),$=function(e){var t=e.shiftKey,n=bS(e);k({type:t?"extendSelection":n?"toggle":"selectExclusively",id:r,items:a})},K=Re.useRef(!1),Q="Committing"===HS(r),q=uw(r),Z=$u(q)||qu(q),Y=Yu(q),X=IS(q),J="item-grid-type-hint-"+q.id,ee=Re.createElement("td",{id:J,hidden:!0},X),te=Cu(),ne=xg().driveItemCache,re=Object(bd.g)((function(){for(var e=q.id;e;){var t=ne.read(e);if(!t)return!1;if("FROM_ME"===t.share)return!0;e=t.parentId}return!1}),[ne,q.id]),ie=function(e,t,n){return t?n||ed(t)?Mu(e,"FilesGrid.Item.Shared.Label.ByMe"):t.owner?Mu(e,"FilesGrid.Item.Shared.Label.ToMe",{name:_w(e,t.owner)||""}):"":""}(te,q,re),ae=yE(Z?0:q.size),oe=void 0;if(!Z){var se=zu(q);se&&(oe=new Date(se))}var ce=hw(oe),le=Re.useState(!1),ue=le[0],de=le[1],he=gy(Z&&c&&l&&u&&d&&h&&f?{id:r,onFilesDragEnter:function(){de(!0),null==p||p()},onDragTargetChanged:d,onDragTargetCleared:h,onMove:l,onUpload:u,onTrashItems:function(){throw new Error("Bad state: DriveGridItem unable to delete items")},onFilesDragOverComplete:function(){de(!1),null==g||g()},showOutOfQuotaAlert:f}:void 0),fe=Lu(r),pe=xg().uploadProgressCache,ge=Object(bd.g)((function(){return pe.get(r)}),[r,pe]),me=ge?ge.bytesCompleted/ge.bytesTotal*100:0,ve="waiting";me>0&&me<100?ve="uploading":100===me&&(ve="complete");var ye=Nu("DriveListItem.Upload.Status.Waiting");"uploading"===ve?ye=Nu("DriveListItem.Upload.Status.Uploading"):"complete"===ve&&(ye=Nu("DriveListItem.Upload.Status.Complete"));var _e=Ng();Re.useEffect((function(){_e===r||b===r?setTimeout((function(){return Se(!0)})):Se(!1)}),[r,_e,b]);var be=Re.useState(!1),we=be[0],Se=be[1],Ee=Q&&!fe||!j,Ie=Re.createElement("td",{className:"col-item-preview","aria-hidden":!0},Re.createElement("span",null,fe?Re.createElement(SE,{id:r,uploadState:ve,percentageUploaded:me,onCancelUpload:v}):Re.createElement(dw,{id:q.id,size:24}))),Ce=q.dateExpiration?Re.createElement(jS,{locale:te,dateExpiration:q.dateExpiration}):null,Oe=Re.createElement("td",{className:"col-item-time-remaining"},Re.createElement("span",null,Ce)),Te=Re.createElement(OE,{initialName:Y,onUserCommittedRename:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){null==s||s(r,e),Se(!1),w&&w()})),onUserCancelledRename:function(){null==s||s(r,Y),Se(!1),w&&w()}}),Ae=Re.createElement("td",{className:"col-item-name"},Re.createElement("span",{className:Be()(we?"is-renaming":null)},we?Te:Y)),Ne=Re.createElement("td",{className:"col-item-name"},Re.createElement("div",{className:Be()("first-row",we?"is-renaming":null)},we?Te:Y),"two-row"===n&&Re.createElement("div",{className:"second-row"},S?Ce:X)),Me=Re.createElement("td",{className:"col-item-kind"},Re.createElement("span",null,X)),De=Re.createElement("td",{className:"col-item-size"},Re.createElement("span",null,Z||fe?"--":ae)),Le=Re.createElement("td",{className:"col-item-date"},Re.createElement("span",null,fe?ye:ce)),ke=Re.createElement("td",{className:"col-item-shared-count"},Re.createElement("span",null,ie)),xe=function(){var e;return e=E?E(r,V):U?F?Re.createElement(Re.Fragment,null,Re.createElement(EE,{className:"circle-mark",layoutMode:"glyphBox"}),Re.createElement(NS,{showItemActionMenu:_,forIds:new Set([r]),tabIndex:V})):F?Re.createElement(NS,{showItemActionMenu:_,forIds:new Set([r]),tabIndex:V}):e=Re.createElement(Re.Fragment,null,Re.createElement(EE,{className:"circle-mark hide",layoutMode:"glyphBox"}),Re.createElement(NS,{showItemActionMenu:_,forIds:new Set([r]),tabIndex:V})):Re.createElement(MS,{showItemActionMenu:_,tabIndex:V,fallbackId:q.id}),Re.createElement("td",{className:"col-item-meatball"},e)}();return Re.createElement("tr",IE({ref:T,style:I,onMouseDown:function(e){var t,n=document.activeElement;null!=n&&null!=(t=n.parentElement)&&t.classList.contains("renaming-text-field")?null==n||n.blur():U||(F?(e.stopPropagation(),K.current=!0):($(e),G.current=!0,K.current=!1))},onMouseUp:H,onMouseOut:H,onClick:function(e){if(U)if(!B&&j||"file-picker"===W&&!Vu(q))o(r);else{var t=e.shiftKey;k({type:t?"extendSelection":"toggle",id:r,items:a})}else K.current&&$(e);e.preventDefault(),e.stopPropagation()},onDoubleClick:function(e){!U&&j&&(L().size>1||(e.stopPropagation(),e.preventDefault(),null==o||o(r)))},tabIndex:x?0:-1,"aria-selected":F,"aria-current":x,"data-id":r,"aria-disabled":Q&&!fe,className:Be()("drive-list-item",F&&O&&"dragging","two-row"===n||A?"thick-rows":"thin-rows",Ee?"is-item-disabled":null,ue?"drag-hover":null,"file-picker"===W?"file-picker":null,F&&!P?"last-adjacent-selected-item":null),"aria-label":Y,"aria-describedby":J+" grid-press-hint"},he,{onKeyDown:function(e){e.target instanceof HTMLElement&&(e.target.closest("ui-button.item-action-menu-button")||e.target.closest("ui-button.push.info-action-button"))||!xu(r)||" "!==e.key||e.altKey||e.ctrlKey||e.shiftKey||y(r,T.current)}}),ee,c?Re.createElement(Re.Fragment,null,Ie,"two-row"===n?Ne:Re.createElement(Re.Fragment,null,Ae,Me),"two-row"===n?null:Re.createElement(Re.Fragment,null,De,Le,S?Oe:ke),xe):null)})),OE=function(e){var t=e.onUserCommittedRename,n=e.onUserCancelledRename,r=e.initialName,i=Au("Common.NewFolder"),a=Re.useState(r),o=a[0],s=a[1],c=Re.useRef(o),l=Re.useCallback((function(e){s(e),c.current=e}),[s]),u=Re.useRef(null),d=Re.useRef(!1),h=Re.useCallback((function(){d.current||(d.current=!0,c.current.length>0?t(c.current):t(r))}),[r,t]),f=Re.useCallback((function(e){e.stopPropagation(),d.current||"Enter"===e.key&&h()}),[h]),p=Re.useCallback((function(e){e.stopPropagation(),d.current||"Escape"===e.key&&(d.current=!0,n())}),[n]);return Re.useEffect((function(){return function(){return h()}}),[]),Re.useEffect((function(){var e,t;null==(e=u.current)||e.focus(),null==(t=u.current)||t.select()}),[]),Re.createElement(vE,{ref:u,className:"renaming-text-field",autoComplete:"false",spellCheck:"false",autoCorrect:"false",autoCapitalize:"false",defaultValue:r,maxLength:255,"aria-label":i,onStateChange:function(e){var t;l(null!=(t=e.value)?t:"")},onBlur:h,onKeyPress:f,onKeyDown:p,type:"text",onMouseDown:function(e){e.stopPropagation()}})},TE=function(e){var t=zS(),n=Ig();return Re.useCallback((function(r,i){var a=i.shiftKey?"extend":i.altKey||n?"move-cursor":"select";switch(i.key){case"ArrowDown":if(r){var o=e.indexOf(r),s=rE(e,o+1,"forward",t);return null===s?null:{type:"move",subtype:a,count:s-o,items:e,byKeyboard:!0}}var c=rE(e,0,"forward",t);return null===c?null:{type:"selectExclusively",id:e[c],byKeyboard:!0};case"ArrowUp":if(!r)return null;var l=e.indexOf(r),u=rE(e,l-1,"back",t);return null===u?null:{type:"move",subtype:a,count:u-l,items:e,byKeyboard:!0}}return null}),[e,t,n])};function AE(){return AE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AE.apply(this,arguments)}var NE=function(e){qm();var t=Re.useRef(null),n=e.ids,r="compact"===pp()?"two-row":"one-row",i=function(e){var t,n,r=e.listItemLayoutMode,i=e.ids,a=e.wrapperRef,o=e.scrollToItemRef,s=e.fastMountMode?"fast-mount":i.length<=250?"not-worth-bothering":i.length>=2e3?"gargantuan":"ax-mode",c=Re.useState(0),l=c[0],u=c[1],d=Re.useState(0),h=d[0],f=d[1],p=Re.useState(0),g=p[0],m=p[1],v=Re.useState(1/0),y=v[0],_=v[1],b="pointer-coarse"===Up()||"two-row"===r?61:41,w=i.length-1,S=function(){return ke.unstable_batchedUpdates((function(){if("not-worth-bothering"===s)return u(0),f(1/0),m(0),void _(1/0);if(a.current){var e=a.current.scrollTop,t=e+a.current.clientHeight,n=e/b,r=Math.max(Math.floor(n),0),i=t/b,o=Math.min(w,Math.max(0,Math.floor(i)));if("fast-mount"===s)return u(r),f(o),m(r),void _(o);var c=Math.max(10*Math.floor((r-10)/10),0),l=Math.min(10*Math.ceil((o+10)/10),w);"ax-mode"===s?(u(c),f(l),m(0),_(1/0)):(m(c),_(l),u(0),f(1/0))}}))},E=Re.useRef(S);Re.useLayoutEffect((function(){return E.current=S})),Re.useLayoutEffect((function(){E.current()}),[]),g>0&&(t=b*g),y<1/0&&(n=b*(w-y));var I="not-worth-bothering"===s?i:i.slice(g,y+1);return Re.useImperativeHandle(o,(function(){return function(e){if(null!=a.current){var t=i.indexOf(e);if(t<0)throw new Error("useLightlyVirtualizedFixedHeightList cannot find item id  to scroll to");var n=t*b;a.current.scrollTop=n}}}),[i,b,a]),{idsToRender:I,fullRenderWindowTop:l,fullRenderWindowBottom:h,spacerWindowTop:g,spacerWindowBottom:y,topSpacerHeight:t,bottomSpacerHeight:n,remeasureOverflow:S,onScroll:"not-worth-bothering"===s?void 0:function(){S()}}}({fastMountMode:e.fastMountMode,listItemLayoutMode:r,ids:n,wrapperRef:t,scrollToItemRef:e.scrollToItemRef}),a=i.fullRenderWindowTop,o=i.fullRenderWindowBottom,s=i.onScroll,c=i.spacerWindowTop,l=i.topSpacerHeight,u=i.bottomSpacerHeight,d=i.idsToRender,h=iE({scrollContainerRef:t});Re.useLayoutEffect(h,[e.ids,h]);var f=e.subfolderOnFilesDragEnter,p=e.subfolderOnFilesDragOverComplete,g=d.map((function(t,i,s){var h,g=i+c;return 0===i&&l?h={paddingTop:l}:i===d.length-1&&u&&(h={paddingBottom:u}),Re.createElement(CE,{key:t,style:h,layoutMode:r,id:t,nextId:s[i+1],ids:n,isDragging:e.isDragging||!1,onItemActivated:e.onItemActivated,onUserCommittedRename:e.onUserCommittedRename,onMove:e.onMove,onUpload:e.onUpload,onDragTargetChanged:e.onDragTargetChanged,onDragTargetCleared:e.onDragTargetCleared,showOutOfQuotaAlert:e.showOutOfQuotaAlert,onFilesDragEnter:f,onFilesDragOverComplete:p,onCancelUpload:e.onCancelUpload,showQuickLook:e.showQuickLook,isVisible:g>=a&&g<=o,showItemActionMenu:e.showItemActionMenu,renamingId:e.renamingId,onFinishedRename:e.onFinishedRename,isInTrash:e.isInTrash,renderItemActionButton:e.renderItemActionButton,subscribeToShareRecord:e.subscribeToShareRecord})})),m=tE({scrollContainerRef:t}),v=Og(),y=Sy()[1],_=Re.useCallback((function(e){if(!v){var n,r,i=null==(n=(r=e.target).closest)?void 0:n.call(r,".drive-list-item"),a=t.current===document.activeElement||t.current.contains(document.activeElement);!i&&a&&y({type:"clear"})}}),[v,y]),b=TE(e.ids),w=e.onKeyDownFactory(b),S=wS(t),E=pg(),I=zg(),C=xg().driveItemCache,O=C.read(e.folderId),T=O&&uE(O,C);return Re.createElement("table",AE({ref:e.focusContainerRef,className:Be()("folder-contents","list-container",e.className,S&&"focus-within",e.isDraggingOverTable&&!e.isDraggingOverSubfolder&&"drag-hover",E?"has-hover-support":null,T?"shared-folder":null),role:"grid","aria-multiselectable":"true",draggable:"true",tabIndex:e.tabIndex,onKeyDown:w,onDragStart:e.onDragStart},e.dropZoneHandlers,m,{onDragEnter:function(t){var n;null==(n=e.dropZoneHandlers)||n.onDragEnter(t),m.onDragEnter(t)},onDragOver:function(t){var n;null==(n=e.dropZoneHandlers)||n.onDragOver(t),m.onDragOver(t)},onDragLeave:function(t){var n;null==(n=e.dropZoneHandlers)||n.onDragLeave(t),m.onDragLeave(t)},onMouseDown:_,onDragEnd:e.onDragEnd}),Re.createElement("thead",null,Re.createElement("tr",{className:Be()("headings",{"file-picker":"file-picker"===I})},Re.createElement("th",{className:"col-item-preview","aria-hidden":!0}),Re.createElement("th",{className:"col-item-name"},Au("FolderContentsList.ColumnHeading.Name")),Re.createElement("th",{className:"col-item-kind"},Au("FolderContentsList.ColumnHeading.Kind")),Re.createElement("th",{className:"col-item-size"},Au("FolderContentsList.ColumnHeading.Size")),Re.createElement("th",{className:"col-item-date"},Au("FolderContentsList.ColumnHeading.Date")),e.isInTrash?Re.createElement("th",{className:"col-item-time-remaining"},Nu("FolderContentsList.ColumnHeading.TimeLeft")):Re.createElement("th",{className:"col-item-shared-count"},Nu("FolderContentsList.ColumnHeading.Shared")),Re.createElement("th",{className:"col-item-meatball"}))),Re.createElement("tbody",{onScroll:s,ref:$p(e.scrollContainerRef,t)},g))};function ME(e,t){var n=e.querySelector('[data-id="'+t+'"]');if(n){var r=n.getBoundingClientRect(),i=e.getBoundingClientRect();if(r.top<i.top+12){var a=Math.abs(i.top-r.top);e.scrollTop=e.scrollTop-a-12}else if(r.bottom>i.bottom-12){var o=Math.abs(r.bottom-i.bottom);e.scrollTop=e.scrollTop+o+12}}}var DE=/^[A-Z]\w+$/,RE="normalize"in String.prototype?function(e){return e.normalize("NFC")}:function(e){return e};function LE(e){var t,n=e.ids,r=Array.from(n),i=r[0],a=uw(i),o=$u(a)||qu(a),s=xg(),c=Object(bd.g)((function(){return ly(r,s)}),[s,r]),l=Re.createElement("div",{className:"invalid-drag-icon","data-for-folder":o}),u=Re.createElement("div",{className:"selection-count","data-for-folder":o},r.length),d=c?r.length>1?u:void 0:l;return r.length>2?t=Re.createElement(Re.Fragment,null,Re.createElement("div",{className:"drag-item-pill third"}),Re.createElement("div",{className:"drag-item-pill second"})):r.length>1&&(t=Re.createElement("div",{className:"drag-item-pill second"})),Re.createElement("div",{className:"item-grid-drag-preview","aria-hidden":"true"},t,i&&Re.createElement("div",{className:"drag-item-pill first"},Re.createElement("div",{className:"icon-showcase-container"},Re.createElement(dw,{id:i,size:24})),Re.createElement("div",{className:"title"},Yu(a))),d)}var kE=["ids","viewMode","sortComparator","showItemActionMenu"];function xE(){return xE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xE.apply(this,arguments)}function FE(e){var t=e.ids,n=e.viewMode,r=e.sortComparator,i=e.showItemActionMenu,a=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,kE),o=xg(),s=o.driveItemCache,c=Re.useRef(null),l=Re.useRef(null),u=zg(),d=Object(bd.g)((function(){return[...t].sort((function(e,t){return r(s.read(e),s.read(t))}))}),[t,r,s]),h=Og(),f=Ig(),p=Sy(),g=p[0],m=g.useSelectedItems,v=g.getCurrentId,y=p[1],_=m(),b=Re.useState(!1),w=b[0],S=b[1],E=function(e,t){var n=Re.useRef();Re.useEffect((function(){var e=document.createElement("div");return e.classList.add("drag-preview-container"),document.body.appendChild(e),Object.assign(e.style,{display:"none"}),n.current=e,function(){document.body.removeChild(e)}}),[]);var r=Bg();return Re.useEffect((function(){var i=n.current;i&&ke.render(Re.createElement(kg,{caches:e},Re.createElement(Ug,r,t.size>0&&Re.createElement(LE,{ids:t}))),i)}),[e,r,t]),function(e){var t,r=e.clientX,i=e.clientY,a=document.elementFromPoint(r,i),o=(null==a?void 0:a.closest(".drive-grid-item"))||(null==a?void 0:a.closest(".drive-list-item")),s=null==o?void 0:o.getBoundingClientRect(),c=0,l=0;null!=s&&(c=r-s.x,l=i-s.y);var u=n.current;u.style.display="block",null==(t=e.dataTransfer)||t.setDragImage(u,c,l),setTimeout((function(){u.style.display="none"}),0)}}(o,_),I=(Object(bd.g)((function(){var e=new Set;return _.forEach((function(t){if(xu(t)){var n=s.read(t);null!=n&&n.extension&&e.add(n.extension)}})),Array.from(e)}),[_,s]),function(t){0!==_.size?(E(t),function(e,t,n){e.dataTransfer.setData(oy,t.join(",")),n.forEach((function(t){e.dataTransfer.setData(cy(t),"true")})),t.filter(Fu).forEach((function(t){e.dataTransfer.setData(cy(t),"true")}))}(t,Array.from(_),[e.folderId]),S(!0)):t.preventDefault()}),C=e.onItemActivated,O=e.trashItems,T=e.purgeItemsFromTrash,A=function(e,t){var n=Re.useState(""),r=n[0],i=n[1],a=Re.useRef(r),o=Re.useState(Math.random()),s=o[0],c=o[1],l=Re.useRef(s);return Re.useCallback((function(n){var r=n.ctrlKey,o=n.metaKey,s=n.altKey,u=n.timeStamp;if(r||o||s||DE.test(n.key))return null;var d=a.current,h=(u-l.current>500?"":d)+n.key.toLowerCase();if(" "===h)return null;var f,p,g=e.findIndex((function(e){var n=t.read(e);return!!n&&RE(Yu(n).trim()).toLowerCase().startsWith(h)}));return f=h,i(a.current=f),p=u,c(l.current=p),-1===g?(n.stopPropagation(),n.preventDefault(),null):{type:"selectExclusively",id:e[g],byKeyboard:!0}}),[e,t])}(d,s),N=function(t){return function(n){if(bS(n)&&"ArrowUp"===n.key){var r,i=null==(r=s.read(e.folderId))?void 0:r.parentId;i&&e.navigateToFolder(i)}else if("Enter"===n.key){var a=v();if(f){if(a){if("object"===typeof a)throw new Error("JSX element found in Recents ID list.");xu(a)||"file-picker"!==u?_.has(a)?y({type:"toggle",id:a}):y({type:"selectInclusively",id:a}):C(a)}}else 1===(null==_?void 0:_.size)&&C(Array.from(_)[0])}else if("Backspace"===n.key)(null==_?void 0:_.size)>=1&&("TRASH_ROOT"===e.folderId||dy(e.folderId,s).includes("TRASH_ROOT")?T(_):O(_));else if(!h||f){"a"===n.key?bS(n)&&y({type:"selectAll",items:d,byKeyboard:!0}):" "!==n.key&&"\xa0"!==n.key||n.altKey&&y({type:"toggleCurrent",byKeyboard:!0});var o=A(n);if(o)y(o),n.preventDefault(),n.stopPropagation();else{var c=t(v(),n);c&&(y(c),n.preventDefault(),n.stopPropagation())}}}},M=e.launchItem,D=Re.useRef(e.clearLaunchItem);Re.useEffect((function(){D.current=e.clearLaunchItem}),[e.clearLaunchItem]);var R=Re.useRef();Re.useLayoutEffect((function(){null!=l.current&&null!=M&&(null==R.current||R.current(M),D.current(),y({type:"selectExclusively",id:M}))}),[M,y]);var L=Ng();Re.useEffect((function(){L&&(y({type:"selectExclusively",id:L}),ME(l.current,L))}),[L,y]),(0,Sy()[0].useOnCurrentIdChangedByKeyboard)(Re.useCallback((function(e){"object"!==typeof e&&setTimeout((function(){l.current&&ME(l.current,e)}),0)}),[]));var k=Re.useRef(e.initialScrollPosition);Re.useLayoutEffect((function(){l.current&&void 0!==k.current&&(l.current.scrollTop=k.current)}),[]);var x=Re.useRef(e.onScrollPositionChange);Re.useEffect((function(){x.current=e.onScrollPositionChange}),[e.onScrollPositionChange]),Re.useEffect((function(){var t=l.current,n=function(){var n=x.current;null==n||n(e.folderId,t.scrollTop)};return t.addEventListener("scroll",n,{passive:!0}),function(){t.removeEventListener("scroll",n)}}),[e.folderId]);var F=Re.useState(!1),P=F[0],j=F[1],U=Re.useState(!1),B=U[0],V=U[1],W=Re.useCallback((function(){V(!0)}),[]),z=e.onDragTargetChanged,H=Re.useCallback((function(){V(!1),P&&G.current&&z(G.current)}),[P,z]),G=Re.useRef(),$=gy({id:e.folderId,onFilesDragEnter:function(){j(!0)},onDragTargetChanged:function(t){G.current=t,B||e.onDragTargetChanged(t)},onDragTargetCleared:e.onDragTargetCleared,onMove:e.onMove,onUpload:e.onUpload,onTrashItems:function(t){return e.trashItems(new Set(t))},onFilesDragOverComplete:function(){j(!1)},showOutOfQuotaAlert:e.showOutOfQuotaAlert}),K=e.onUserCommittedRename,Q=Re.useCallback((function(e,t){K(e,t),setTimeout((function(){ME(l.current,e)}))}),[K]),q=!(0,Sy()[0].useHasCurrentId)(),Z=q?0:-1,Y=Wm(),X=Re.useRef(q);Re.useEffect((function(){var e;X.current&&"main content"===(null==Y?void 0:Y.current)&&(null==(e=c.current)||e.focus())}),[Y]);var J=Re.useState(!1),ee=J[0],te=J[1],ne=ee?"action-menu-is-open":void 0,re=function(e,t,n,r,a){te(!0),i(e,t,(function(){te(!1),null==n||n()}),r,a)},ie=hy(e.folderId).includes(Gu),ae=e.folderId===Gu||ie,oe=e.browseItemLink,se=e.resetBrowseItemLink,ce=e.resetItemLinkSource,le=Re.useRef(se);Re.useEffect((function(){le.current=se}),[se]);var ue=Re.useRef(ce);return Re.useEffect((function(){ue.current=ce}),[ce]),Re.useLayoutEffect((function(){null!=l.current&&null!=oe&&(null==R.current||R.current(oe),le.current(),ue.current(),y({type:"selectExclusively",id:oe}))}),[oe,y]),n&&"list"!==n?Re.createElement(fE,xE({},a,{className:ne,tabIndex:Z,ids:d,scrollContainerRef:l,focusContainerRef:c,onUserCommittedRename:Q,onKeyDownFactory:N,scrollToItemRef:R,isDraggingOverTable:P,isDraggingOverSubfolder:B,subfolderOnFilesDragEnter:W,subfolderOnFilesDragOverComplete:H,onDragStart:I,dropZoneHandlers:$,showItemActionMenu:re,isInTrash:ae,subscribeToShareRecord:a.fastMountMode?function(){return function(){}}:a.subscribeToShareRecord})):Re.createElement(NE,xE({},a,{className:ne,tabIndex:Z,ids:d,scrollContainerRef:l,focusContainerRef:c,onUserCommittedRename:Q,onKeyDownFactory:N,scrollToItemRef:R,isDraggingOverTable:P,isDraggingOverSubfolder:B,subfolderOnFilesDragEnter:W,subfolderOnFilesDragOverComplete:H,onDragStart:I,onDragEnd:function(){S(!1)},isDragging:w,dropZoneHandlers:$,showItemActionMenu:re,isInTrash:ae,subscribeToShareRecord:a.fastMountMode?function(){return function(){}}:a.subscribeToShareRecord}))}var PE=["result","sortComparator"];function jE(){return jE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jE.apply(this,arguments)}function UE(e){var t=e.result,n=e.sortComparator,r=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,PE),i=Cu(),a=function(e){return Mu(i,e)},o=xg().driveItemCache,s=r.folderId,c=Object(bd.g)((function(){for(var e=s;e;){var t;if("TRASH_ROOT"===e)return!0;e=(null==(t=o.read(e))?void 0:t.parentId)||void 0}return!1}),[s,o]),l=!(null==t||!t.ok)&&0===t.value.length,u=Qm(),d=Km();return t&&u&&d?t.ok?l&&c?Re.createElement(vS,{message:a("FilesGrid.EmptyTrash.Title")}):!l||"list"!==u&&e.leadingGridItem?Re.createElement(FE,jE({},r,{ids:t.value,sortComparator:n,viewMode:u})):Re.createElement(BE,r):Re.createElement(vS,{message:a("Recents.Error.Message"),description:a("Recents.Error.Description")}):Re.createElement(mS,null)}function BE(e){var t,n=xg(),r=Re.useRef(null),i=Cu(),a=function(e){return Mu(i,e)};t=e.folderId===Hu?Re.createElement(vS,{message:a("FilesGrid.EmptyDrive.Title"),description:a("FilesGrid.EmptyDrive.Subtitle")}):Re.createElement(vS,{message:a("FilesGrid.EmptyFolder.Title"),description:a("FilesGrid.EmptyFolder.Subtitle")});var o=Re.useState(!1),s=o[0],c=o[1],l=gy({id:e.folderId,onFilesDragEnter:function(){c(!0)},onDragTargetChanged:e.onDragTargetChanged,onDragTargetCleared:e.onDragTargetCleared,onMove:e.onMove,onUpload:e.onUpload,onTrashItems:function(t){return e.trashItems(new Set(t))},onFilesDragOverComplete:function(){c(!1)},showOutOfQuotaAlert:e.showOutOfQuotaAlert}),u=Wm();return Re.useEffect((function(){var e;"main content"===(null==u?void 0:u.current)&&(null==(e=r.current)||e.focus())}),[u]),Re.createElement("div",jE({ref:r,className:Be()("centered-message-container","empty-folder","folder-contents",s&&"drag-hover")},l,{tabIndex:0,onKeyDown:function(t){if("ArrowUp"===t.key&&bS(t)){var r,i=null==(r=n.driveItemCache.read(e.folderId))?void 0:r.parentId;i&&e.navigateToFolder(i)}}}),t)}var VE=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"ellipsis.circle",svgPath:"M58.5449 14.5508C85.791 14.5508 108.35-8.05664 108.35-35.2539C108.35-62.5 85.7422-85.0586 58.4961-85.0586C31.2988-85.0586 8.74023-62.5 8.74023-35.2539C8.74023-8.05664 31.3477 14.5508 58.5449 14.5508ZM58.5449 6.25C35.498 6.25 17.0898-12.207 17.0898-35.2539C17.0898-58.3008 35.4492-76.7578 58.4961-76.7578C81.543-76.7578 100-58.3008 100.049-35.2539C100.098-12.207 81.5918 6.25 58.5449 6.25ZM35.7422-28.1738C39.6484-28.1738 42.8223-31.3477 42.8223-35.3027C42.8223-39.209 39.5996-42.3828 35.7422-42.3828C31.7871-42.3828 28.6133-39.209 28.6133-35.3027C28.6133-31.3477 31.7871-28.1738 35.7422-28.1738ZM58.4961-28.1738C62.4023-28.1738 65.625-31.3477 65.625-35.3027C65.625-39.209 62.4023-42.3828 58.4961-42.3828C54.5898-42.3828 51.3672-39.209 51.3672-35.3027C51.3672-31.3477 54.5898-28.1738 58.4961-28.1738ZM81.2988-28.1738C85.2051-28.1738 88.3789-31.3477 88.3789-35.3027C88.3789-39.209 85.2051-42.3828 81.2988-42.3828C77.3438-42.3828 74.1699-39.209 74.1699-35.3027C74.1699-31.3477 77.3438-28.1738 81.2988-28.1738Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.46503906249995,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 99.6099853515625 99.6572265625",width:99.6099853515625,height:99.6572265625,translateX:-8.740039062500045,translateY:85.05859375,baseline:85.05859375,capline:14.5986328125}}})},WE=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"checkmark.circle",svgPath:"M58.5449 14.5508C85.791 14.5508 108.35-8.05664 108.35-35.2539C108.35-62.5 85.7422-85.0586 58.4961-85.0586C31.2988-85.0586 8.74023-62.5 8.74023-35.2539C8.74023-8.05664 31.3477 14.5508 58.5449 14.5508ZM58.5449 6.25C35.498 6.25 17.0898-12.207 17.0898-35.2539C17.0898-58.3008 35.4492-76.7578 58.4961-76.7578C81.543-76.7578 100-58.3008 100.049-35.2539C100.098-12.207 81.5918 6.25 58.5449 6.25ZM53.1738-12.0605C54.7852-12.0605 56.1523-12.8418 57.1289-14.3555L79.4434-49.4629C79.9805-50.4395 80.6152-51.5137 80.6152-52.5879C80.6152-54.7852 78.6621-56.2012 76.6113-56.2012C75.3906-56.2012 74.1699-55.4199 73.2422-54.0039L52.9785-21.4844L43.3594-33.9355C42.1875-35.498 41.1133-35.8887 39.7461-35.8887C37.6465-35.8887 35.9863-34.1797 35.9863-32.0312C35.9863-30.957 36.4258-29.9316 37.1094-29.0039L49.0234-14.3555C50.2441-12.7441 51.5625-12.0605 53.1738-12.0605Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.46503906249995,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 99.6099853515625 99.6572265625",width:99.6099853515625,height:99.6572265625,translateX:-8.740039062500045,translateY:85.05859375,baseline:85.05859375,capline:14.5986328125}}})},zE=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"sidebar.left",svgPath:"M27.7832 9.76562L112.256 9.76562C122.51 9.76562 127.588 4.6875 127.588-5.37109L127.588-64.9902C127.588-75.0488 122.51-80.127 112.256-80.127L27.7832-80.127C17.5781-80.127 12.4512-75.0977 12.4512-64.9902L12.4512-5.37109C12.4512 4.73633 17.5781 9.76562 27.7832 9.76562ZM27.8809 1.9043C22.998 1.9043 20.3125-0.683594 20.3125-5.76172L20.3125-64.5996C20.3125-69.6777 22.998-72.2656 27.8809-72.2656L49.6582-72.2656L49.6582 1.9043ZM112.158-72.2656C116.992-72.2656 119.727-69.6777 119.727-64.5996L119.727-5.76172C119.727-0.683594 116.992 1.9043 112.158 1.9043L57.3242 1.9043L57.3242-72.2656ZM40.2832-54.1504C41.748-54.1504 43.0664-55.4688 43.0664-56.8848C43.0664-58.3496 41.748-59.6191 40.2832-59.6191L29.7852-59.6191C28.3203-59.6191 27.0508-58.3496 27.0508-56.8848C27.0508-55.4688 28.3203-54.1504 29.7852-54.1504ZM40.2832-41.5039C41.748-41.5039 43.0664-42.8223 43.0664-44.2871C43.0664-45.752 41.748-46.9727 40.2832-46.9727L29.7852-46.9727C28.3203-46.9727 27.0508-45.752 27.0508-44.2871C27.0508-42.8223 28.3203-41.5039 29.7852-41.5039ZM40.2832-28.9062C41.748-28.9062 43.0664-30.127 43.0664-31.5918C43.0664-33.0566 41.748-34.3262 40.2832-34.3262L29.7852-34.3262C28.3203-34.3262 27.0508-33.0566 27.0508-31.5918C27.0508-30.127 28.3203-28.9062 29.7852-28.9062Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:63.990104980468686,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 115.1376953125 89.9912109375",width:115.1376953125,height:89.9912109375,translateX:-12.451118164062564,translateY:80.2255859375,baseline:80.2255859375,capline:9.765625}}})};function HE(e){var t=Au("FolderToolbar.Button.HideSourceList.Tooltip"),n=Au("FolderToolbar.Button.ShowSourceList.Tooltip"),r=e.isOpen?t:n,i="pointer-coarse"===Up();return Re.createElement(Gp,{className:Be()("icon","source-list-button",e.className,e.isOpen?"source-list-visible":"source-list-hidden"),onActivate:e.onActivate,ariaLabel:r,tooltip:r},Re.createElement(zE,{desiredFontSize:e.isLargerInTouchMode&&i?14:11.5,layoutMode:"glyphBox",style:{overflow:"visible"}}))}var GE=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"list.bullet",svgPath:"M19.3359-58.3008C23.0957-58.3008 26.1719-61.377 26.1719-65.1855C26.1719-68.9453 23.0957-72.0215 19.3359-72.0215C15.5273-72.0215 12.4512-68.9453 12.4512-65.1855C12.4512-61.377 15.5273-58.3008 19.3359-58.3008ZM42.1387-60.5469L108.496-60.5469C111.084-60.5469 113.135-62.5977 113.135-65.1855C113.135-67.7734 111.084-69.8242 108.496-69.8242L42.1387-69.8242C39.5508-69.8242 37.5-67.7734 37.5-65.1855C37.5-62.5977 39.5508-60.5469 42.1387-60.5469ZM19.3359-28.3203C23.0957-28.3203 26.1719-31.3965 26.1719-35.2051C26.1719-38.9648 23.0957-42.041 19.3359-42.041C15.5273-42.041 12.4512-38.9648 12.4512-35.2051C12.4512-31.3965 15.5273-28.3203 19.3359-28.3203ZM42.1387-30.5664L108.496-30.5664C111.084-30.5664 113.135-32.6172 113.135-35.2051C113.135-37.793 111.084-39.8438 108.496-39.8438L42.1387-39.8438C39.5508-39.8438 37.5-37.793 37.5-35.2051C37.5-32.6172 39.5508-30.5664 42.1387-30.5664ZM19.3359 1.66016C23.0957 1.66016 26.1719-1.41602 26.1719-5.22461C26.1719-8.98438 23.0957-12.0605 19.3359-12.0605C15.5273-12.0605 12.4512-8.98438 12.4512-5.22461C12.4512-1.41602 15.5273 1.66016 19.3359 1.66016ZM42.1387-0.585938L108.496-0.585938C111.084-0.585938 113.135-2.63672 113.135-5.22461C113.135-7.8125 111.084-9.86328 108.496-9.86328L42.1387-9.86328C39.5508-9.86328 37.5-7.8125 37.5-5.22461C37.5-2.63672 39.5508-0.585938 42.1387-0.585938Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:72.36504150390624,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 102.97998046875 73.7802734375",width:102.97998046875,height:73.7802734375,translateX:-10.155039062500009,translateY:72.1201171875,baseline:72.1201171875,capline:1.66015625}}})},$E=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"square.grid.2x2",svgPath:"M22.9492-39.0137L43.7012-39.0137C50.7324-39.0137 54.1992-42.4316 54.1992-49.6582L54.1992-70.1172C54.1992-77.3438 50.7324-80.7617 43.7012-80.7617L22.9492-80.7617C15.918-80.7617 12.4512-77.3438 12.4512-70.1172L12.4512-49.6582C12.4512-42.4316 15.918-39.0137 22.9492-39.0137ZM72.3633-39.0137L93.1152-39.0137C100.146-39.0137 103.613-42.4316 103.613-49.6582L103.613-70.1172C103.613-77.3438 100.146-80.7617 93.1152-80.7617L72.3633-80.7617C65.2832-80.7617 61.8652-77.3438 61.8652-70.1172L61.8652-49.6582C61.8652-42.4316 65.2832-39.0137 72.3633-39.0137ZM22.998-47.0215C21.2891-47.0215 20.459-47.9004 20.459-49.6582L20.459-70.1172C20.459-71.875 21.2891-72.7539 22.998-72.7539L43.6035-72.7539C45.3125-72.7539 46.1914-71.875 46.1914-70.1172L46.1914-49.6582C46.1914-47.9004 45.3125-47.0215 43.6035-47.0215ZM72.4121-47.0215C70.7031-47.0215 69.873-47.9004 69.873-49.6582L69.873-70.1172C69.873-71.875 70.7031-72.7539 72.4121-72.7539L93.0664-72.7539C94.7754-72.7539 95.5566-71.875 95.5566-70.1172L95.5566-49.6582C95.5566-47.9004 94.7754-47.0215 93.0664-47.0215ZM22.9492 10.4004L43.7012 10.4004C50.7324 10.4004 54.1992 6.98242 54.1992-0.292969L54.1992-20.7031C54.1992-27.9297 50.7324-31.3477 43.7012-31.3477L22.9492-31.3477C15.918-31.3477 12.4512-27.9297 12.4512-20.7031L12.4512-0.292969C12.4512 6.98242 15.918 10.4004 22.9492 10.4004ZM72.3633 10.4004L93.1152 10.4004C100.146 10.4004 103.613 6.98242 103.613-0.292969L103.613-20.7031C103.613-27.9297 100.146-31.3477 93.1152-31.3477L72.3633-31.3477C65.2832-31.3477 61.8652-27.9297 61.8652-20.7031L61.8652-0.292969C61.8652 6.98242 65.2832 10.4004 72.3633 10.4004ZM22.998 2.34375C21.2891 2.34375 20.459 1.51367 20.459-0.244141L20.459-20.7031C20.459-22.4609 21.2891-23.3398 22.998-23.3398L43.6035-23.3398C45.3125-23.3398 46.1914-22.4609 46.1914-20.7031L46.1914-0.244141C46.1914 1.51367 45.3125 2.34375 43.6035 2.34375ZM72.4121 2.34375C70.7031 2.34375 69.873 1.51367 69.873-0.244141L69.873-20.7031C69.873-22.4609 70.7031-23.3398 72.4121-23.3398L93.0664-23.3398C94.7754-23.3398 95.5566-22.4609 95.5566-20.7031L95.5566-0.244141C95.5566 1.51367 94.7754 2.34375 93.0664 2.34375Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:76.61503173828123,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 92.43603515625 91.2607421875",width:92.43603515625,height:91.2607421875,translateX:-11.177021484375018,translateY:80.8603515625,baseline:80.8603515625,capline:10.400390625}}})},KE=null,QE=["styles"];function qE(){return qE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qE.apply(this,arguments)}var ZE=function(e){var t=e.styles,n=void 0===t?{}:t,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,QE);return Le.a.createElement("svg",qE({className:n.icon||"icon",viewBox:"0 0 18 28"},r),Le.a.createElement("path",{d:"M9.004 26.979c.537-.007.958-.202 1.4-.637l6.126-6.273c.32-.32.47-.689.47-1.141 0-.923-.753-1.679-1.657-1.679a1.67 1.67 0 00-1.228.546l-5.388 5.597h.578l-5.414-5.597c-.35-.35-.773-.546-1.234-.546-.91 0-1.657.756-1.657 1.679 0 .445.157.814.463 1.142l6.139 6.272c.446.448.87.637 1.402.637zM1.463 7.937A1.587 1.587 0 001 9.081c0 .916.747 1.677 1.657 1.677.46 0 .886-.193 1.234-.546l5.414-5.596h-.578l5.388 5.596c.344.359.775.546 1.228.546.904 0 1.657-.761 1.657-1.677 0-.455-.15-.832-.47-1.144l-6.125-6.27c-.443-.442-.864-.633-1.4-.646-.534 0-.958.198-1.403.645L1.463 7.937z"}))};function YE(e){var t;t=e.children,Re.Children.forEach(t,(function(e){if(e){if(!Vv(e)||e.type!==dI&&e.type!==uI)throw new Error(cI(e));e.type===uI&&Re.Children.forEach(e.props.children,(function(t){if(!Vv(t)||t.type!==dI)throw new Error(cI(e))}))}}));var n=(Array.isArray(e.children)?e.children:[e.children]).filter(Boolean),r=Re.useRef(null),i=Re.useRef(null),a=Re.useState(null),o=a[0],s=a[1],c={},l=new Map,u=Re.Children.map(n,(function(e,t){return function(e,t,n,r){if(lI(n))return rI(e,t,n,aI(r));var i=Re.Children.map(n.props.children,(function(n,i){return rI(e,t,n,aI(r,i))}));return Re.createElement("optgroup",{key:n.key||r,label:n.props.name},i)}(c,l,e,t)})),d=function(e,t){for(var n=function(t){return null==e||null!=e&&t.props.value===e},r=0;r<t.length;r++){var i=t[r];if(i.type===uI){var a=i.props.children;if(null!=a)if(Array.isArray(a))for(var o=0;o<a.length;o++){var s=a[o];if(n(s))return s}else if(n(a))return a}else if(n(i))return i}return null}(null!=e.value?e.value:null!=o?o:e.defaultValue,n),h=null!=d?d.props.value:null,f=null===h?void 0:l.get(h),p=Re.useMemo((function(){return null!=e.shouldUseNativeSelect?(console.warn("UISelectButton's prop shouldUseNativeSelect has been deprecated. Please replace with shouldUseNativeControl."),e.shouldUseNativeSelect):null!=e.shouldUseNativeControl?e.shouldUseNativeControl:function(){if(null!=KE)return KE;var e=Object(pE.detect)();return"Mac OS"===(null===e||void 0===e?void 0:e.os)&&"safari"===(null===e||void 0===e?void 0:e.name)?window.navigator.maxTouchPoints>0:KE=null!=e&&("iOS"===e.os||"Android OS"===e.os||"BlackBerry OS"===e.os||"Windows Mobile"===e.os||"Amazon OS"===e.os)}()}),[e.shouldUseNativeControl,e.shouldUseNativeSelect]),g=e.onStateChange,m=Re.useCallback((function(e){var t=g;if(t){var n=[];e!==h&&n.push("value"),t({value:e},n)}}),[g,h]),v=e.ariaLabel,y=e.tooltip,_=Re.createElement("select",{ref:i,style:{fontSize:16},tabIndex:e.tabIndex||0,disabled:e.disabled,"aria-hidden":p?void 0:"true",onChange:function(e){var t=e.target.value;if(null!=t){var n=c[t];null!=n&&(s(n),m(n))}},value:f,required:e.required,autoComplete:e.autoComplete,form:e.form,name:e.name},u),b=Re.useRef(null),w=Re.useState(null),S=w[0],E=w[1],I=function(e){var t=e.buttonRef,n=e.menuRef,r=e.currentValue,i=e.onItemSelected,a=e.childrenProp,o=e.minWidth,s=e.initialHighlightType,c=Re.useRef(void 0),l=Re.useRef(!1),u=Re.useRef(null),d=Ke(Re.createElement(XE,{buttonRef:t,menuRef:n,shouldMouseUpRef:l,currentValue:r,onItemSelected:function(e){c.current=e,g()},initiallySelectedMenuItemRef:u,minWidth:o,initialHighlightType:s},a),{animates:Oe.NONE,__spi__hasMenuBehavior:!0,initialFocus:function(){return u.current},onClose:function(){p.current=!1,void 0!==c.current&&i(c.current)},onRequestClose:function(e){e===Ce.ESCAPE?g({animate:!1}):e===Ce.MOUSE_UP&&l.current&&g()}}),h=d[0],f=d[1],p=Re.useRef(!1),g=function(e){p.current=!0,f(e)};return function(){p.current||(l.current=!1,c.current=void 0,h())}}({menuRef:b,nativeSelectRef:i,buttonRef:r,currentValue:h,onItemSelected:function(e){s(e),m(e)},childrenProp:n,minWidth:e.minMenuWidth||275,initialHighlightType:S}),C=xp(e.id,{onActivationComplete:function(){r.current&&r.current.focus()}});return Re.useEffect((function(){r.current&&(r.current.focus=function(e){i.current&&i.current.focus(e)})}),[]),Re.createElement("ui-select-button",{id:e.id||void 0,class:Be()(Bv,e.className,e.variant||"standard"),role:"button","aria-haspopup":"menu","aria-disabled":e.disabled||void 0,"aria-label":v,"aria-labelledby":v?void 0:C,"data-focusyn":"allow",ref:r,style:e.style,title:y,onMouseDown:function(t){E("mouse"),p||e.disabled||0!==t.button||(t.preventDefault(),I())},onKeyDown:function(t){if(E("keyboard"),!p&&!e.disabled)switch(t.key){case"Enter":case" ":case"ArrowUp":case"ArrowDown":t.preventDefault(),I()}},onFocus:function(e){null!=b.current&&(e.preventDefault(),b.current.focus())}},Re.createElement("ui-select-button-title",null,function(){if(null!=d){var t=e.displayForValue;if(t){var n=t(h);if(n)return n}return Re.createElement("span",null,d.props.children)}return null}()),e.chevronAsset||Re.createElement(ZE,null),_)}function XE(e){var t,n=e.buttonRef,r=e.children,i=e.menuRef,a=e.shouldMouseUpRef,o=e.currentValue,s=e.onItemSelected,c=e.initiallySelectedMenuItemRef,l=e.minWidth,u=e.initialHighlightType,d=function(e,t){var n=[];return Re.Children.forEach(e,(function(e,r){lI(e)?n.push(iI(t,e,aI(r))):(r>0&&n.push(Re.createElement(M_,{key:"divider-"+r})),null!=e.props.name&&n.push(Re.createElement(A_,{key:"item-"+r,value:"item-"+r,disabled:!0},e.props.name)),Re.Children.forEach(e.props.children,(function(e,i){return n.push(iI(t,e,aI(r,i)))})))})),n}(r,o),h=Re.useRef(-1),f=!!n.current&&(t=n.current,"rtl"===getComputedStyle(t).getPropertyValue("direction"));Re.useEffect((function(){var e=i.current.querySelector("ui-menu-scroll-container");if(!e)throw new Error("UISelectButton: Attempted to measure menu without a scroll container.");for(var t=e.children,n=0;n<t.length;n++){var r=t[n];if(sI(r)&&"true"===r.getAttribute("aria-checked")){c.current=r,h.current=n;break}}if(!c.current)throw new Error("Could not find the selected item.")}),[i,c]);var p=Re.useState((function(){return{width:window.innerWidth,height:window.innerHeight}})),g=p[0],m=p[1];Re.useEffect((function(){function e(){m({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var v=mm(),y=Re.useMemo((function(){return{left:10,top:10,width:g.width-20,height:g.height-20}}),[g]),_=i.current,b=n.current,w=Re.useMemo((function(){var e=function(){for(var e,t=null===_||void 0===_?void 0:_.querySelector("ui-menu-scroll-container"),n=null!==(e=null===t||void 0===t?void 0:t.children)&&void 0!==e?e:[],r=0;r<n.length;r++){var i=n[r];if(sI(i)&&"true"===i.getAttribute("aria-checked"))return[i,r]}return null}();if(null!=_&&null!=e&&null!=b&&r.length>0){var t,n=null;if(b.childNodes.length>0){var i=b.childNodes[0];if(i.childNodes.length>0){var a=i.childNodes[0];if(a.nodeType===Node.TEXT_NODE){var o=document.createRange();o.selectNode(a),n=o.getBoundingClientRect()}else a instanceof HTMLElement&&null!==a.offsetParent&&(n=a.getBoundingClientRect())}}t=b.getBoundingClientRect();var s=e[0],c=e[1],u=function(e,t,n,r,i,a,o,s,c){var l=r.querySelector("ui-menu-scroll-container");if(!l)throw new Error("UISelectButton: Attempted to measure menu without a scroll container.");for(var u=l.children,d=r.getBoundingClientRect(),h=a.getBoundingClientRect(),f=h.top-d.top,p=t.top+t.height/2-h.height/2-f,g=0,m=0,v=o-1;v>=0&&g<2;v--){var y=u[v];if(sI(y)&&!oI(y)){if(p+f-(m+=y.offsetHeight)<e.top)break;g++}}var _=0;if(g<2)for(var b=o+1;b<u.length&&g+_<2;b++){var w=u[b];if(sI(w)&&!oI(w)){if(m+=w.offsetHeight,p+h.height+f+m>e.top+e.height)break;_++}}var S=!0,E=!1,I=_+g;I<2&&(i.length<=3&&i.length>0&&0!==I||(S=!1,E=o<3));var C=Math.max(c,d.width),O=s?"right":"left",T=(n||t)[O];if(!(a.childNodes.length>1))throw new Error("Internal Error: UIMenuItem did not have the expected children");var A=a.childNodes[1],N=h[O];if(A.nodeType===Node.TEXT_NODE){var M=document.createRange();M.selectNode(A),N=M.getBoundingClientRect()[O]}else A instanceof HTMLElement&&null!==A.offsetParent&&(N=A.getBoundingClientRect()[O]);var D=Math.abs(N-h[O]);if(s?T+=D:T-=D,C<t.width){var R=Math.abs(t[O]-T);C=Math.max(c,t.width+R+13)}var L=JE(T,C,e,s);T=function(e,t,n,r,i){return(i?eI:tI)(e,t,n,r)}(T,C,L,e.left,s),L<C&&(C=JE(T,C,e,s));var k=function(e,t,n){return n?-window.innerWidth+e-t:e}(T,C,s),x=Math.max(p,e.top),F=e.top+e.height,P=Math.min(x+d.height,F)-x,j=0;if(S){var U=p+d.height>e.top+e.height;if(p<e.top){var B=e.top;if(0===o)j=0;else if(o===u.length-1)j=d.height-P;else{(j=-p+B)>10?j-=10:j=0}p=B}else if(U){var V=Math.max(e.top,F-d.height);P=F-V,j=-p+V,p=V}}else E?t.top-d.height>=e.top?(p=t.top-d.height,P=d.height):(p=e.top,j=f,P=t.top-p):t.top+t.height+d.height<=e.top+e.height?(p=t.top+t.height,P=d.height):(p=t.top+t.height,j=f-(P=e.height-p));return[{left:k,top:p,width:C,height:P},j,a]}(y,t,n,_,r,s,c,f,l);return[u[0],u[1]]}return[{top:-9999,left:-9999},void 0]}),[_,b,r,y,f,l]),S=w[0],E=w[1];return Re.useEffect((function(){var e=function(e){a.current||e.stopPropagation()},t=i.current;return t.addEventListener("mouseup",e,{capture:!0}),setTimeout((function(){a.current=!0}),200),v(),function(){t.removeEventListener("mouseup",e,{capture:!0})}}),[i,v,a]),Re.createElement(L_,{ref:i,className:Be()(null==i.current?"is-measuring":void 0,"ui-select-button-menu"),onItemSelected:Re.useCallback((function(e){a.current&&(a.current=!1,s(e))}),[s,a]),frame:null!=S?S:void 0,initialScrollOffset:E,initialHighlightType:u},d)}function JE(e,t,n,r){return Math.abs(Math.min(r?e-t:e+t,n.left+n.width)-e)}function eI(e,t,n,r){return e-t<r?r+t:e+n-t}function tI(e,t,n,r){return Math.max(e+n-t,r)}var nI=!1;function rI(e,t,n,r){var i=null!=n.key?n.key:r,a=n.props,o=a.nativeValue,s=a.value,c=null!=o?o:"string"===typeof s||"number"===typeof s?s:i;t.has(s)||t.set(s,c),void 0===e[c]&&(e[c]=s);var l=n.props.hasOwnProperty("nativeText")?n.props.nativeText:n.props.children;return Re.Children.forEach(l,(function(e){null!==e&&void 0!==e&&(nI||"string"===typeof e||"number"===typeof e||(nI=!0,console.warn("UISelectItem should either have string or number as a child node or provide nativeText prop.")))})),Re.createElement("option",{key:i,value:c,disabled:n.props.disabled},l)}function iI(e,t,n){var r,i=null!=e&&t.props.value===e;return Re.createElement(A_,Object.assign({},t.props,{key:t.key||n,exclusiveCheckable:!0,checked:i,initialHighlighted:i&&!t.props.disabled,typeAheadTextValue:null!==(r=t.props.typeAheadTextValue)&&void 0!==r?r:t.props.nativeText}),t.props.children)}function aI(e,t){return null==t?e:e+"-"+t}function oI(e){return"true"===e.getAttribute("aria-disabled")}function sI(e){return"UI-MENU-ITEM"===e.tagName}function cI(e){return"UIComponent error: Unsupported child component found.\nGot: '"+w_(e)+"'\nWanted: 'UISelectItem' or 'UISelectGroup'"}function lI(e){return e.type===dI}function uI(e){return null}function dI(e){return null}function hI(){return hI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hI.apply(this,arguments)}function fI(e){var t,n=e.onModeChange,r=e.isLargerInTouchMode,i=null!=(t=Qm())?t:"list",a=Zm(),o="pointer-coarse"===Up(),s=r&&o?14:10,c=r&&o?14:11.5,l={className:"view-mode-button-icon",layoutMode:"glyphBox"};return Re.createElement(YE,{className:"view-mode-button",tooltip:Au("FolderToolbar.Button.ViewMode.Tooltip"),shouldUseNativeControl:!1,value:i,onStateChange:function(e){n&&n(e.value),e.value&&a(e.value)},displayForValue:function(e){return"grid"===e?Re.createElement($E,hI({},l,{desiredFontSize:c})):Re.createElement(GE,hI({},l,{desiredFontSize:c}))}},Re.createElement(uI,{name:Au("ViewMenu.ViewAs")},Re.createElement(dI,{value:"grid"},Re.createElement($E,hI({},l,{desiredFontSize:s,className:"view-mode-button-icon view-mode-menu-icon"})),Au("FolderToolbar.Button.ViewMode.GridOption")),Re.createElement(dI,{value:"list"},Re.createElement(GE,hI({},l,{desiredFontSize:s,className:"view-mode-button-icon view-mode-menu-icon"})),Au("FolderToolbar.Button.ViewMode.ListOption"))))}var pI=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"icloud.and.arrow.up",svgPath:"M84.7168-13.5742L84.7168-5.71289L107.52-5.71289C122.51-5.71289 131.494-14.7461 131.494-26.5625C131.494-36.4258 125.586-44.5312 116.064-48.3887C116.162-70.166 100.488-85.8887 80.5176-85.8887C67.2852-85.8887 57.8613-78.8086 52.002-70.2637C40.918-73.2422 26.9043-64.6484 26.6602-50.9277C15.625-49.2188 8.74023-40.1855 8.74023-28.6621C8.74023-15.9668 18.2617-5.71289 34.2773-5.71289L55.957-5.71289L55.957-13.5742L34.2285-13.5742C22.6562-13.5742 16.6016-20.2637 16.6016-28.6621C16.6016-37.9883 22.5098-44.9219 32.8613-44.9219C33.5449-44.9219 33.7891-45.3125 33.7891-45.9473C33.7891-60.9375 44.5801-65.0879 54.6387-62.1582C55.2246-61.9629 55.5664-62.0605 55.8594-62.5977C60.5957-71.0449 67.8711-78.0273 80.5176-78.0273C96.5332-78.0273 107.617-65.332 108.447-50.7812C108.594-48.584 108.447-45.9473 108.252-43.6523C108.203-43.0176 108.447-42.627 109.033-42.5293C117.92-40.5762 123.633-35.0098 123.633-26.5625C123.633-19.043 118.164-13.5742 107.471-13.5742ZM70.3613 19.2871C72.4609 19.2871 74.2188 17.5781 74.2188 15.5273L74.2188-30.2734L73.9258-39.3066L77.1973-35.8398L84.6191-28.4668C85.3516-27.7344 86.3281-27.2949 87.2559-27.2949C89.2578-27.2949 90.8203-28.7109 90.8203-30.7129C90.8203-31.7383 90.4297-32.6172 89.6484-33.3008L73.1445-48.7305C72.1191-49.6582 71.3379-50 70.3613-50C69.3359-50 68.5547-49.6582 67.5293-48.7305L51.0254-33.3008C50.2441-32.6172 49.8535-31.7383 49.8535-30.7129C49.8535-28.7109 51.3184-27.2949 53.3691-27.2949C54.2969-27.2949 55.3223-27.7344 56.0547-28.4668L63.4766-35.8398L66.748-39.3066L66.4551-30.2734L66.4551 15.5273C66.4551 17.5781 68.2617 19.2871 70.3613 19.2871Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:63.89510009765627,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 122.758056640625 109.0341796875",width:122.758056640625,height:109.0341796875,translateX:-8.735942382812482,translateY:89.7470703125,baseline:89.7470703125,capline:19.287109375}}})};function gI(e){var t,n=e.itemId,r=e.onCancelUpload,i=uw(n),a=xg().uploadProgressCache,o=Object(bd.g)((function(){return a.get(n)}),[n,a]),s=Au("Upload.Cancel"),c=function(e){var t=e.bytesTotal,n=void 0===t?0:t,r=e.bytesTransferred,i=void 0===r?0:r,a=e.uploadProgress,o=Cu(),s=Re.useContext(vg);bg(s,"useUploadByteCountString","NumberFormatterContext");var c=Au("Common.Progress.Waiting"),l=Ow(n,s,o,{precision:1}),u=Ow(i,s,o,{precision:1}),d=Au("Upload.Progress.ByteCount",{totalSize:l,transferredSize:u});return null==a||0===a.bytesTotal?c:a.bytesCompleted===a.bytesTotal?l:d}({uploadProgress:o,bytesTotal:null==o?void 0:o.bytesTotal,bytesTransferred:null==o?void 0:o.bytesCompleted}),l=o&&o.bytesTotal&&o.bytesTotal!==o.bytesCompleted;return Re.createElement("div",{role:"listitem"},Re.createElement(Vb,{extension:i.extension,size:44}),Re.createElement("div",{className:"item-details"},Re.createElement("h5",null,i.name),l?Re.createElement(BS,{completed:o.bytesCompleted,total:o.bytesTotal,ariaLabel:null!=(t=i.name)?t:""}):null,Re.createElement("span",{className:"subtitle"},c)),l?Re.createElement("button",{className:"close-button","aria-label":s,onClick:function(){return r(n)}}):null)}function mI(e){var t=Re.useRef([]),n=Re.useState((function(){return[...e]})),r=n[0],i=n[1];return Re.useEffect((function(){var n=[];e.forEach((function(e){r.includes(e)||n.push(e)}));var a=[...r,...n].filter((function(e){return!t.current.includes(e)}));(a.length!==r.length||a.some((function(e,t){return e!==r[t]})))&&i(a)}),[e,r]),{cancelledIdsRef:t,lifetimeIds:r}}var vI=["currentWorkingDirectoryId","loadingState","isReadOnlyDirectory","itemIds","onCancelUpload","onUploadMore"];function yI(){return yI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yI.apply(this,arguments)}function _I(e){var t=e.currentWorkingDirectoryId,n=e.loadingState,r=e.isReadOnlyDirectory,i=e.itemIds,a=e.onCancelUpload,o=e.onUploadMore,s=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,vI),c=Au("Upload.PopoverDialogTitle"),l=mI(i),u=l.lifetimeIds,d=l.cancelledIdsRef;return Re.createElement(g_,yI({className:"upload-popover",remeasureToken:u.length},s),Re.createElement("h3",{className:"title"},c),Re.createElement("section",{className:"upload-items",role:"list"},u.map((function(e){return Re.createElement(gI,{itemId:e,key:e,onCancelUpload:function(e){d.current.push(e),a(e)}})}))),Re.createElement(wI,{isReadOnlyDirectory:r,loadingState:n,onUpload:o,currentWorkingDirectoryId:t}))}function bI(e){var t=e.browseFolderId,n=e.currentSource,r=e.activeUploadTransactionsCount,i=e.uploadingItemIds,a=e.currentWorkingDirectoryId,o=e.loadingState,s=e.isReadOnlyDirectory,c=e.isLargerInTouchMode,l=void 0!==c&&c,u=e.onUpload,d=e.onCancelUpload,h=Re.useRef(),f=Re.useState(!1),p=f[0],g=f[1];Re.useEffect((function(){window.addEventListener("focus",(function(){p&&(null==h.current||h.current())}))}),[p]);var m=Re.useCallback((function(e,r){u(e,"recents"===n||"shared"===n?t:r),g(!1),null==h.current||h.current()}),[u,t,n]),v=function(e){var t=e.currentWorkingDirectoryId,n=e.loadingState,r=e.isReadOnlyDirectory,i=e.itemIds,a=e.onCancelUpload,o=e.onUpload,s=Re.useRef(null),c=Ke(Re.createElement(_g.Provider,{value:Re.useContext(_g)},Re.createElement(Ug,Bg(),Re.createElement(kg,{caches:xg()},Re.createElement(vg.Provider,{value:Re.useContext(vg)},Re.createElement(_I,{anchorRef:s,currentWorkingDirectoryId:t,loadingState:n,isReadOnlyDirectory:r,itemIds:i,onCancelUpload:a,onUploadMore:o})))))),l=c[0];return{hideUploadPopover:c[1],showUploadPopover:l,uploadButtonRef:s}}({currentWorkingDirectoryId:a,loadingState:o,isReadOnlyDirectory:s,itemIds:i,onCancelUpload:d,onUpload:m}),y=v.uploadButtonRef,_=v.showUploadPopover,b=Re.useRef(null),w=pp(),S=Au("FolderToolbar.Button.Upload.Tooltip.Enabled"),E=Re.useCallback((function(e){var t,n;if(e&&(h.current=e),"compact"===w)return null==(t=b.current)||t.click(),void g(!0);r>0?(_(),null==e||e()):(null==(n=b.current)||n.click(),g(!0))}),[r,_,w]),I="pointer-coarse"===Up();return Re.createElement(SI,{buttonRef:y,currentWorkingDirectoryId:a,inputRef:b,isReadOnlyDirectory:s,label:S,loadingState:o,onUpload:m,onUploadButtonActivate:E},Re.createElement(pI,{layoutMode:"glyphBox",desiredFontSize:l&&I?14:11.5}))}function wI(e){var t=e.currentWorkingDirectoryId,n=e.loadingState,r=e.isReadOnlyDirectory,i=e.onUpload,a=Re.useRef(null),o=Au("Upload.PopoverDialog.AddFilesButton"),s=Re.useCallback((function(e){var t;null==(t=a.current)||t.click(),null==e||e()}),[]);return Re.createElement(SI,{currentWorkingDirectoryId:t,inputRef:a,isReadOnlyDirectory:r,label:o,loadingState:n,onUpload:i,onUploadButtonActivate:s},o)}function SI(e){var t=e.buttonRef,n=e.children,r=e.inputRef,i=e.isReadOnlyDirectory,a=e.label,o=e.loadingState,s=e.onUpload,c=e.onUploadButtonActivate,l=e.currentWorkingDirectoryId,u=Re.useContext(_g);return i||"loaded"!==o||!u||u.totalStorageInBytes-u.usedStorageInBytes<=0?Re.createElement(II,null,n):Re.createElement(AS,{ref:t,className:"icon upload-button",ariaLabel:a,tooltip:a,showMenu:function(e){c(e)}},Re.createElement("input",{className:"upload-input-element",type:"file",ref:r,multiple:!0,tabIndex:-1,disabled:!1,onChange:function(e){var t=e.target.files;t&&t.length>0&&(s(t,l),e.target.value="")}}),n)}var EI=function(){};function II(e){var t=e.children;return Re.createElement(Gp,{className:"icon",onActivate:EI,disabled:!0,ariaLabel:Au("FolderToolbar.Button.Upload.Tooltip.Disabled")},t)}var CI=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"folder.badge.plus",svgPath:"M118.945-32.1777C132.373-32.1777 143.75-43.4082 143.75-56.9824C143.75-70.5566 132.52-81.7871 118.945-81.7871C105.322-81.7871 94.1406-70.5566 94.1406-56.9824C94.1406-43.3105 105.322-32.1777 118.945-32.1777ZM27.7832 9.13086L109.473 9.13086C118.213 9.13086 123.34 4.05273 123.34-6.00586L123.34-25.7324C121.387-25.3906 118.018-25.3418 115.479-25.7324L115.479-6.34766C115.479-1.31836 112.695 1.26953 107.861 1.26953L27.8809 1.26953C22.998 1.26953 20.3125-1.31836 20.3125-6.39648L20.3125-45.5566L89.4043-45.5566C88.5254-47.9004 87.8906-50.3906 87.6465-52.9297L20.3125-52.9297L20.3125-65.0879C20.3125-69.9219 22.8516-72.4121 27.5391-72.4121L37.8418-72.4121C41.0645-72.4121 43.0176-71.582 45.5078-69.4824L48.4863-66.9922C51.6602-64.3555 54.248-63.4277 59.082-63.4277L88.0371-63.4277C88.623-66.2109 89.3066-68.5547 90.6738-71.2891L61.1328-71.2891C57.8125-71.2891 55.8105-72.0703 53.3691-74.1699L50.3906-76.6113C47.168-79.3457 44.6777-80.2246 39.8438-80.2246L25.9277-80.2246C17.3828-80.2246 12.4512-75.3418 12.4512-65.5273L12.4512-6.00586C12.4512 4.10156 17.5781 9.13086 27.7832 9.13086ZM118.945-41.4062C117.09-41.4062 115.918-42.627 115.918-44.4336L115.918-53.9551L106.396-53.9551C104.59-53.9551 103.418-55.127 103.418-56.9824C103.418-58.7891 104.59-59.9609 106.396-59.9609L115.918-59.9609L115.918-69.4824C115.918-71.2891 117.09-72.4609 118.945-72.4609C120.752-72.4609 121.924-71.2891 121.924-69.4824L121.924-59.9609L131.445-59.9609C133.252-59.9609 134.473-58.7891 134.473-56.9824C134.473-55.127 133.252-53.9551 131.445-53.9551L121.924-53.9551L121.924-44.4336C121.924-42.627 120.752-41.4062 118.945-41.4062Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:66.1151000976563,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 151.7099609375 93.1142578125",width:151.7099609375,height:93.1142578125,translateX:7.9600097656250455,translateY:81.787109375,baseline:81.787109375,capline:11.3271484375}}})};function OI(e){var t=e.isLargerInTouchMode,n=void 0!==t&&t,r=e.loadingState,i=e.isReadOnlyDirectory,a=e.onActivate,o=e.currentWorkingDirectoryId;return i||"loaded"!==r?Re.createElement(TI,{isLargerInTouchMode:n}):Re.createElement(AI,{onActivate:a,currentWorkingDirectoryId:o,isLargerInTouchMode:n})}function TI(e){var t=e.isLargerInTouchMode,n="pointer-coarse"===Up();return Re.createElement(Gp,{className:"icon new-folder-button",onActivate:function(){},disabled:!0,ariaLabel:Au("Common.NewFolder"),tooltip:Au("Common.NewFolder")},Re.createElement(CI,{layoutMode:"glyphBox",desiredFontSize:t&&n?14:12}))}function AI(e){var t=e.currentWorkingDirectoryId,n=e.isLargerInTouchMode,r=e.onActivate,i=hy(t),a="pointer-coarse"===Up();return Re.createElement(Gp,{className:"icon new-folder-button",onActivate:r,disabled:i.length>=60,ariaLabel:Au("Common.NewFolder"),tooltip:Au("Common.NewFolder")},Re.createElement(CI,{desiredFontSize:n&&a?14:12,layoutMode:"glyphBox"}))}function NI(e){var t=e.selection,n=e.loadingState,r=e.onActivate,i=e.isLargerInTouchMode,a=Bg().isMailServiceActive,o=Ew(t),s="iwork"===zg()&&t&&t.size>1,c="pointer-coarse"===Up();return Re.createElement(Gp,{className:"icon email-button",onActivate:r,disabled:!(null!=t&&t.size)||!a||"loaded"!==n||o||!Iw(t)||s,ariaLabel:Au("FolderToolbar.Button.Email.Title"),tooltip:Au("FolderToolbar.Button.Email.Title")},Re.createElement(jw,{desiredFontSize:i&&c?14:12,layoutMode:"glyphBox"}))}var MI=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"person.crop.circle.badge.checkmark",svgPath:"M58.5449 14.5508C85.7422 14.5508 108.35-8.05664 108.35-35.2539C108.35-62.5 85.6934-85.0586 58.4961-85.0586C33.0566-85.0586 11.8164-65.4785 9.08203-40.7227C11.4746-41.1621 14.9414-41.3574 17.5293-41.0645C20.2148-61.3281 37.4023-76.7578 58.4961-76.7578C81.4941-76.7578 100.049-58.3008 100.049-35.2539C100.049-24.5117 96.0449-14.7461 89.3555-7.4707C84.5703-13.1836 73.2422-18.6523 58.4961-18.6523C53.8086-18.6523 49.5117-18.0664 45.6543-17.1387C46.2402-14.7949 46.5332-12.2559 46.5332-9.76562C46.5332-2.14844 43.75 4.93164 39.0625 10.4492C45.0684 13.0859 51.6602 14.5508 58.5449 14.5508ZM58.4961-26.9531C67.8711-26.8555 75.2441-34.8633 75.2441-45.3613C75.2441-55.2246 67.8223-63.3789 58.4961-63.3789C49.1211-63.3789 41.6504-55.2246 41.748-45.3613C41.7969-34.8633 49.0723-27.0508 58.4961-26.9531ZM15.0391 15.0879C28.4668 15.0879 39.8438 3.85742 39.8438-9.7168C39.8438-23.3398 28.6621-34.5215 15.0391-34.5215C1.46484-34.5215-9.76562-23.291-9.76562-9.7168C-9.76562 3.95508 1.46484 15.0879 15.0391 15.0879ZM12.0605 4.88281C11.2793 4.88281 10.2539 4.54102 9.61914 3.85742L0.292969-6.44531C-0.0976562-6.78711-0.341797-7.71484-0.341797-8.39844C-0.341797-10.1562 1.02539-11.4746 2.68555-11.4746C3.75977-11.4746 4.54102-10.9863 5.0293-10.4004L11.9629-2.92969L24.8047-20.8008C25.3906-21.582 26.2695-22.168 27.3926-22.168C29.0039-22.168 30.4688-20.8496 30.4688-19.1406C30.4688-18.6035 30.2246-17.9199 29.7852-17.2852L14.6484 3.75977C14.1602 4.44336 13.1348 4.88281 12.0605 4.88281Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.49010498046869,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 136.5712890625 100.6357421875",width:136.5712890625,height:100.6357421875,translateX:9.765678710937436,translateY:85.5478515625,baseline:85.5478515625,capline:15.087890625}}})},DI={name:"Pages",shareUrlNamespace:"pages",zone:"com.apple.Pages"},RI={name:"Numbers",shareUrlNamespace:"numbers",zone:"com.apple.Numbers"},LI={name:"Keynote",shareUrlNamespace:"keynote",zone:"com.apple.Keynote"},kI={key:LI,"key-tef":LI,keynote:LI,"keynote-tef":LI,numbers:RI,"numbers-tef":RI,pages:DI,"pages-tef":DI},xI=function(e){return e in kI},FI=function(e){return xI(e)?kI[e]:void 0},PI=xI,jI=Pw;function UI(e){var t=e.loadingState,n=e.selection,r=e.currentSource,i=e.currentWorkingDirectoryId,a=e.shareItem,o=e.isLargerInTouchMode,s=n&&(null!=n&&n.size?1===n.size?Array.from(n.values())[0]:void 0:"recents"===r||"shared"===r?void 0:i),c=xg(),l=Object(bd.g)((function(){return s?c.driveItemCache.read(s):void 0}),[c.driveItemCache,s]),u=Object(bd.g)((function(){return!!l&&uS(l,c)}),[l,c]);return"loaded"===t&&s&&l&&u?Re.createElement(BI,{shareCandidate:l,onActivate:function(){return a(s)},isLargerInTouchMode:o}):Re.createElement(VI,{isLargerInTouchMode:o})}function BI(e){var t=e.shareCandidate,n=e.onActivate,r=e.isLargerInTouchMode,i=xg().driveItemCache,a=Object(bd.g)((function(){for(var e=t.id;e;){var n=i.read(e);if(!n)return!1;if("FROM_ME"===n.share)return!0;e=n.parentId}return!1}),[i,t.id])||Xu(t.id)||lE(t,i)||uE(t,i),o=function(){var e=Vu(t)&&t.extension,n=e&&PI(e)&&FI(e).name||($u(t)?"Folder":"File");return"FolderToolbar.Button.Sharing."+(a?"Shared":"NotShared")+"."+n+".Tooltip"}(),s=Cu(),c=Mu(s,o),l="pointer-coarse"===Up();return Re.createElement(Gp,{className:"icon sharing-button",onActivate:n,ariaLabel:c,tooltip:c},a?Re.createElement(MI,{desiredFontSize:r&&l?14:12,layoutMode:"glyphBox","data-testid":"ds"+!1}):Re.createElement(jI,{desiredFontSize:r&&l?14:12,layoutMode:"glyphBox","data-testid":"ds"+!1}))}function VI(e){var t=e.isLargerInTouchMode,n="pointer-coarse"===Up();return Re.createElement(Gp,{className:"icon sharing-button",onActivate:function(){},disabled:!0},Re.createElement(jI,{desiredFontSize:t&&n?14:12,layoutMode:"glyphBox","data-testid":"ds"+!1}))}function WI(e){var t=e.loadingState,n=e.selection,r=e.currentSource,i=e.onActivate,a=e.isLargerInTouchMode,o=xg(),s=o.driveItemCache,c=o.shareRecordCache,l=Ew(n),u=Object(bd.g)((function(){return Array.from(n||[]).map(s.read).map((function(e){if(!e)throw new Error("Cannot delete items that aren't loaded locally");return e})).map(qu)}),[s.read,n]),d=u.length>1&&u.includes(!0)&&u.includes(!1),h=function(e){return void 0!==e},f=Object(bd.g)((function(){var e=new Set(Array.from(n||[]).map(s.read).map((function(e){return(null==e?void 0:e.parentId)||void 0})).filter(h));return Array.from(e).map((function(e){return Hw(e,s)})).map((function(e){return null==e?void 0:e.find(Ju)})).filter(h).map(c.read).some((function(e){var t;return!e||"READ_ONLY"===(null==(t=e.currentUserParticipant)?void 0:t.permission)}))}),[n,s,c.read]),p=(null==n?void 0:n.size)||0,g="pointer-coarse"===Up();return Re.createElement(Gp,{className:"icon trash-button",onActivate:i,disabled:"loaded"!==t||0===p||"browse"!==r&&p>1||l||d||f,ariaLabel:Au("FolderToolbar.Button.Delete.Tooltip"),tooltip:Au("FolderToolbar.Button.Delete.Tooltip")},Re.createElement(Uw,{desiredFontSize:a&&g?14:12,layoutMode:"glyphBox"}))}var zI=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"calendar",svgPath:"M27.7832 9.76562L94.4824 9.76562C104.688 9.76562 109.766 4.6875 109.766-5.37109L109.766-64.9902C109.766-75.0488 104.688-80.127 94.4824-80.127L27.7832-80.127C17.5781-80.127 12.4512-75.0977 12.4512-64.9902L12.4512-5.37109C12.4512 4.73633 17.5781 9.76562 27.7832 9.76562ZM27.0508 1.9043C22.7051 1.9043 20.3125-0.390625 20.3125-4.93164L20.3125-50.9766C20.3125-55.4688 22.7051-57.8125 27.0508-57.8125L95.1172-57.8125C99.4629-57.8125 101.904-55.4688 101.904-50.9766L101.904-4.93164C101.904-0.390625 99.4629 1.9043 95.1172 1.9043ZM51.6113-40.2832L54.4922-40.2832C56.2012-40.2832 56.7383-40.7715 56.7383-42.4805L56.7383-45.3613C56.7383-47.0703 56.2012-47.6074 54.4922-47.6074L51.6113-47.6074C49.9023-47.6074 49.3164-47.0703 49.3164-45.3613L49.3164-42.4805C49.3164-40.7715 49.9023-40.2832 51.6113-40.2832ZM67.8223-40.2832L70.7031-40.2832C72.4121-40.2832 72.998-40.7715 72.998-42.4805L72.998-45.3613C72.998-47.0703 72.4121-47.6074 70.7031-47.6074L67.8223-47.6074C66.1133-47.6074 65.5273-47.0703 65.5273-45.3613L65.5273-42.4805C65.5273-40.7715 66.1133-40.2832 67.8223-40.2832ZM84.0332-40.2832L86.9141-40.2832C88.623-40.2832 89.209-40.7715 89.209-42.4805L89.209-45.3613C89.209-47.0703 88.623-47.6074 86.9141-47.6074L84.0332-47.6074C82.3242-47.6074 81.7871-47.0703 81.7871-45.3613L81.7871-42.4805C81.7871-40.7715 82.3242-40.2832 84.0332-40.2832ZM35.4004-24.3164L38.2324-24.3164C39.9902-24.3164 40.5273-24.8047 40.5273-26.5137L40.5273-29.3945C40.5273-31.1035 39.9902-31.5918 38.2324-31.5918L35.4004-31.5918C33.6426-31.5918 33.1055-31.1035 33.1055-29.3945L33.1055-26.5137C33.1055-24.8047 33.6426-24.3164 35.4004-24.3164ZM51.6113-24.3164L54.4922-24.3164C56.2012-24.3164 56.7383-24.8047 56.7383-26.5137L56.7383-29.3945C56.7383-31.1035 56.2012-31.5918 54.4922-31.5918L51.6113-31.5918C49.9023-31.5918 49.3164-31.1035 49.3164-29.3945L49.3164-26.5137C49.3164-24.8047 49.9023-24.3164 51.6113-24.3164ZM67.8223-24.3164L70.7031-24.3164C72.4121-24.3164 72.998-24.8047 72.998-26.5137L72.998-29.3945C72.998-31.1035 72.4121-31.5918 70.7031-31.5918L67.8223-31.5918C66.1133-31.5918 65.5273-31.1035 65.5273-29.3945L65.5273-26.5137C65.5273-24.8047 66.1133-24.3164 67.8223-24.3164ZM84.0332-24.3164L86.9141-24.3164C88.623-24.3164 89.209-24.8047 89.209-26.5137L89.209-29.3945C89.209-31.1035 88.623-31.5918 86.9141-31.5918L84.0332-31.5918C82.3242-31.5918 81.7871-31.1035 81.7871-29.3945L81.7871-26.5137C81.7871-24.8047 82.3242-24.3164 84.0332-24.3164ZM35.4004-8.30078L38.2324-8.30078C39.9902-8.30078 40.5273-8.83789 40.5273-10.5469L40.5273-13.4277C40.5273-15.1367 39.9902-15.625 38.2324-15.625L35.4004-15.625C33.6426-15.625 33.1055-15.1367 33.1055-13.4277L33.1055-10.5469C33.1055-8.83789 33.6426-8.30078 35.4004-8.30078ZM51.6113-8.30078L54.4922-8.30078C56.2012-8.30078 56.7383-8.83789 56.7383-10.5469L56.7383-13.4277C56.7383-15.1367 56.2012-15.625 54.4922-15.625L51.6113-15.625C49.9023-15.625 49.3164-15.1367 49.3164-13.4277L49.3164-10.5469C49.3164-8.83789 49.9023-8.30078 51.6113-8.30078ZM67.8223-8.30078L70.7031-8.30078C72.4121-8.30078 72.998-8.83789 72.998-10.5469L72.998-13.4277C72.998-15.1367 72.4121-15.625 70.7031-15.625L67.8223-15.625C66.1133-15.625 65.5273-15.1367 65.5273-13.4277L65.5273-10.5469C65.5273-8.83789 66.1133-8.30078 67.8223-8.30078Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:72.90510009765626,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 97.322021484375 89.9912109375",width:97.322021484375,height:89.9912109375,translateX:-12.443959960937491,translateY:80.2255859375,baseline:80.2255859375,capline:9.765625}}})},HI=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"doc.text",svgPath:"M27.5879 17.0898L79.4434 17.0898C89.5508 17.0898 94.5801 11.9629 94.5801 1.80664L94.5801-42.5293C94.5801-48.8281 93.8477-51.5625 89.9414-55.5664L63.0371-82.959C59.3262-86.7676 56.25-87.5977 50.7812-87.5977L27.5879-87.5977C17.5293-87.5977 12.4512-82.4219 12.4512-72.2656L12.4512 1.80664C12.4512 12.0117 17.4805 17.0898 27.5879 17.0898ZM27.9297 9.22852C22.9004 9.22852 20.3125 6.54297 20.3125 1.66016L20.3125-72.1191C20.3125-76.9531 22.9004-79.7363 27.9785-79.7363L49.707-79.7363L49.707-51.3672C49.707-45.2148 52.7832-42.1875 58.8867-42.1875L86.7188-42.1875L86.7188 1.66016C86.7188 6.54297 84.1309 9.22852 79.0527 9.22852ZM59.7656-49.5605C57.8125-49.5605 57.0801-50.3418 57.0801-52.2949L57.0801-78.2227L85.2051-49.5605ZM71.4844-28.7109L34.4238-28.7109C32.666-28.7109 31.3477-27.3926 31.3477-25.7324C31.3477-24.0234 32.666-22.7051 34.4238-22.7051L71.4844-22.7051C73.1934-22.7051 74.4629-24.0234 74.4629-25.7324C74.4629-27.3926 73.1934-28.7109 71.4844-28.7109ZM71.4844-11.6699L34.4238-11.6699C32.666-11.6699 31.3477-10.3027 31.3477-8.59375C31.3477-6.93359 32.666-5.66406 34.4238-5.66406L71.4844-5.66406C73.1934-5.66406 74.4629-6.93359 74.4629-8.59375C74.4629-10.3027 73.1934-11.6699 71.4844-11.6699Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:80.49510009765618,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 82.130126953125 104.7353515625",width:82.130126953125,height:104.7353515625,translateX:-12.449907226562573,translateY:87.59765625,baseline:87.59765625,capline:17.1376953125}}})},GI=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"textformat",svgPath:"M16.5527 0.78125C19.1406 0.78125 20.4102-0.195312 21.3379-2.92969L27.6367-20.166L56.4453-20.166L62.7441-2.92969C63.6719-0.195312 64.9414 0.78125 67.4805 0.78125C70.0684 0.78125 71.7285-0.78125 71.7285-3.22266C71.7285-4.05273 71.582-4.83398 71.1914-5.85938L48.291-66.8457C47.168-69.8242 45.166-71.3379 42.041-71.3379C39.0137-71.3379 36.9629-69.873 35.8887-66.8945L12.9883-5.81055C12.5977-4.78516 12.4512-4.00391 12.4512-3.17383C12.4512-0.732422 14.0137 0.78125 16.5527 0.78125ZM30.0293-27.5879L41.8945-60.4492L42.1387-60.4492L54.0039-27.5879ZM98.6328 1.12305C106.152 1.12305 113.184-2.97852 116.211-9.32617L116.406-9.32617L116.406-2.88086C116.406-0.439453 118.066 1.17188 120.361 1.17188C122.705 1.17188 124.365-0.439453 124.365-3.07617L124.365-35.6445C124.365-46.2891 116.553-53.1738 104.15-53.1738C94.9707-53.1738 87.3047-49.1211 84.5215-42.8223C83.9844-41.6016 83.5938-40.4297 83.5938-39.4043C83.5938-37.2559 85.2051-35.8398 87.3047-35.8398C88.8184-35.8398 89.9902-36.4258 90.7227-37.793C93.457-43.457 97.6074-46.0938 103.955-46.0938C111.572-46.0938 116.113-41.8457 116.113-35.0098L116.113-30.8105L100.342-29.9316C87.9883-29.248 81.1035-23.5352 81.1035-14.4531C81.1035-5.12695 88.2812 1.12305 98.6328 1.12305ZM100.635-5.66406C94.043-5.66406 89.5508-9.27734 89.5508-14.6484C89.5508-19.8242 93.7012-23.291 101.367-23.7793L116.113-24.707L116.113-19.5312C116.113-11.7676 109.229-5.66406 100.635-5.66406Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:65.6051000976563,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 111.919921875 72.8037109375",width:111.919921875,height:72.8037109375,translateX:-12.445009765624945,translateY:71.6318359375,baseline:71.6318359375,capline:1.171875}}})},$I=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"list.bullet",svgPath:"M18.6035-58.5938C22.0215-58.5938 24.7559-61.3281 24.7559-64.6973C24.7559-68.1152 22.0215-70.8496 18.6035-70.8496C15.1855-70.8496 12.4512-68.1152 12.4512-64.6973C12.4512-61.3281 15.1855-58.5938 18.6035-58.5938ZM40.1855-60.791L106.885-60.791C109.082-60.791 110.84-62.5 110.84-64.6973C110.84-66.9434 109.082-68.6523 106.885-68.6523L40.1855-68.6523C37.9395-68.6523 36.2305-66.9434 36.2305-64.6973C36.2305-62.5 37.9395-60.791 40.1855-60.791ZM18.6035-29.0527C22.0215-29.0527 24.7559-31.7871 24.7559-35.2051C24.7559-38.623 22.0215-41.3574 18.6035-41.3574C15.1855-41.3574 12.4512-38.623 12.4512-35.2051C12.4512-31.7871 15.1855-29.0527 18.6035-29.0527ZM40.1855-31.25L106.885-31.25C109.082-31.25 110.84-33.0078 110.84-35.2051C110.84-37.4023 109.082-39.1113 106.885-39.1113L40.1855-39.1113C37.9395-39.1113 36.2305-37.4023 36.2305-35.2051C36.2305-33.0078 37.9395-31.25 40.1855-31.25ZM18.6035 0.488281C22.0215 0.488281 24.7559-2.29492 24.7559-5.66406C24.7559-9.08203 22.0215-11.8164 18.6035-11.8164C15.1855-11.8164 12.4512-9.08203 12.4512-5.66406C12.4512-2.29492 15.1855 0.488281 18.6035 0.488281ZM40.1855-1.75781L106.885-1.75781C109.082-1.75781 110.84-3.4668 110.84-5.66406C110.84-7.91016 109.082-9.61914 106.885-9.61914L40.1855-9.61914C37.9395-9.61914 36.2305-7.91016 36.2305-5.66406C36.2305-3.4668 37.9395-1.75781 40.1855-1.75781Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:72.3651000976563,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 98.389892578125 71.4365234375",width:98.389892578125,height:71.4365234375,translateX:-12.450024414062455,translateY:70.9482421875,baseline:70.9482421875,capline:.48828125}}})},KI=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"square.grid.2x2",svgPath:"M21.7773-39.209L44.043-39.209C50.2441-39.209 53.3691-42.334 53.3691-48.7793L53.3691-70.6055C53.3691-77.0508 50.2441-80.127 44.043-80.127L21.7773-80.127C15.5762-80.127 12.4512-77.0508 12.4512-70.6055L12.4512-48.7793C12.4512-42.334 15.5762-39.209 21.7773-39.209ZM70.8008-39.209L93.0176-39.209C99.2188-39.209 102.344-42.334 102.344-48.7793L102.344-70.6055C102.344-77.0508 99.2188-80.127 93.0176-80.127L70.8008-80.127C64.5508-80.127 61.4258-77.0508 61.4258-70.6055L61.4258-48.7793C61.4258-42.334 64.5508-39.209 70.8008-39.209ZM21.875-46.0938C20.166-46.0938 19.3359-46.9727 19.3359-48.7793L19.3359-70.6055C19.3359-72.3633 20.166-73.2422 21.875-73.2422L43.8965-73.2422C45.6055-73.2422 46.4844-72.3633 46.4844-70.6055L46.4844-48.7793C46.4844-46.9727 45.6055-46.0938 43.8965-46.0938ZM70.8984-46.0938C69.1406-46.0938 68.3105-46.9727 68.3105-48.7793L68.3105-70.6055C68.3105-72.3633 69.1406-73.2422 70.8984-73.2422L92.9199-73.2422C94.6289-73.2422 95.459-72.3633 95.459-70.6055L95.459-48.7793C95.459-46.9727 94.6289-46.0938 92.9199-46.0938ZM21.7773 9.76562L44.043 9.76562C50.2441 9.76562 53.3691 6.68945 53.3691 0.244141L53.3691-21.6309C53.3691-28.0273 50.2441-31.1523 44.043-31.1523L21.7773-31.1523C15.5762-31.1523 12.4512-28.0273 12.4512-21.6309L12.4512 0.244141C12.4512 6.68945 15.5762 9.76562 21.7773 9.76562ZM70.8008 9.76562L93.0176 9.76562C99.2188 9.76562 102.344 6.68945 102.344 0.244141L102.344-21.6309C102.344-28.0273 99.2188-31.1523 93.0176-31.1523L70.8008-31.1523C64.5508-31.1523 61.4258-28.0273 61.4258-21.6309L61.4258 0.244141C61.4258 6.68945 64.5508 9.76562 70.8008 9.76562ZM21.875 2.88086C20.166 2.88086 19.3359 2.00195 19.3359 0.244141L19.3359-21.582C19.3359-23.3887 20.166-24.2676 21.875-24.2676L43.8965-24.2676C45.6055-24.2676 46.4844-23.3887 46.4844-21.582L46.4844 0.244141C46.4844 2.00195 45.6055 2.88086 43.8965 2.88086ZM70.8984 2.88086C69.1406 2.88086 68.3105 2.00195 68.3105 0.244141L68.3105-21.582C68.3105-23.3887 69.1406-24.2676 70.8984-24.2676L92.9199-24.2676C94.6289-24.2676 95.459-23.3887 95.459-21.582L95.459 0.244141C95.459 2.00195 94.6289 2.88086 92.9199 2.88086Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:76.6151000976563,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 89.89794921875 89.9912109375",width:89.89794921875,height:89.9912109375,translateX:-12.445996093749955,translateY:80.2255859375,baseline:80.2255859375,capline:9.765625}}})};function QI(e,t){var n=a_(Object.assign({},i_,{sidePreference:[o_.bottomInlineEnd]})),r=Ig(),i=Cg(),a=Re.createElement(L_,{onItemSelected:function(){p(),i(!0)},className:"view-sort-combo"},Re.createElement(A_,{value:"select-mode",disabled:t.disableSelect},Re.createElement("div",{className:"icloud-icon-container"},Re.createElement(WE,{desiredFontSize:14})),Au("NavigationBar.SelectButton.Title"))),o=Qm(),s=Zm(),c=Re.createElement(L_,{onItemSelected:function(e){return s(e)},className:"view-sort-combo"},t.showSelect&&Re.createElement(M_,null),Re.createElement(A_,{disabled:!0,value:"header",className:"header"},Au("ViewMenu.ViewAs")),Re.createElement(A_,{value:"grid",exclusiveCheckable:!0,checked:"grid"===o},Re.createElement("div",{className:"icloud-icon-container"},Re.createElement(KI,{desiredFontSize:14})),Au("ViewMenu.Grid")),Re.createElement(A_,{value:"list",exclusiveCheckable:!0,checked:"list"===o},Re.createElement("div",{className:"icloud-icon-container"},Re.createElement($I,{desiredFontSize:14})),Au("ViewMenu.List"))),l=Km(),u=function(){var e=Re.useContext(zm);return bg(e,"useSetSortMode","SetSortModeContext"),e}(),d=Re.createElement(L_,{onItemSelected:function(e){_u("changedToSortBy",("DateModified"===e?"Date":e).toLowerCase()),u(e)},className:"view-sort-combo"},(t.showView||t.showSelect)&&Re.createElement(M_,null),Re.createElement(A_,{disabled:!0,value:"Sort",className:"header"},Au("SortMenu.SortBy")),Re.createElement(A_,{value:"DateModified",exclusiveCheckable:!0,checked:"DateModified"===l},Re.createElement("div",{className:"icloud-icon-container"},Re.createElement(zI,{desiredFontSize:14})),Au("SortMenu.Date")),Re.createElement(A_,{value:"Kind",exclusiveCheckable:!0,checked:"Kind"===l},Re.createElement("div",{className:"icloud-icon-container"},Re.createElement(HI,{desiredFontSize:14})),Au("SortMenu.Kind")),Re.createElement(A_,{value:"Name",exclusiveCheckable:!0,checked:"Name"===l},Re.createElement("div",{className:"icloud-icon-container"},Re.createElement(GI,{desiredFontSize:14})),Au("SortMenu.Name")),Re.createElement(A_,{value:"Size",exclusiveCheckable:!0,checked:"Size"===l},Re.createElement("div",{className:"icloud-icon-container"},Re.createElement("svg",{viewBox:"0 0 18 18",className:"external-drive-icon"},Re.createElement("path",{d:"M0 10.1014C0 12.2721 1.60365 13.8683 3.91465 13.8683L15.1716 13.8683C17.4826 13.8683 19.0863 12.2721 19.0863 10.1014C19.0863 9.43596 18.897 8.84545 18.6665 8.30855L15.9617 2.02798C15.3989 0.715874 14.2916 0.0131407 12.7963 0.0131407L6.2974 0.0131407C4.80207 0.0131407 3.69486 0.715874 3.12954 2.02798L0.446686 8.25637C0.211624 8.80534 0 9.41112 0 10.1014ZM1.65282 10.1014C1.65282 8.87941 2.55237 7.98483 3.91465 7.98483L15.1716 7.98483C16.5339 7.98483 17.4334 8.87941 17.4334 10.1014C17.4334 11.4349 16.5339 12.2155 15.1716 12.2155L3.91465 12.2155C2.55237 12.2155 1.65282 11.3209 1.65282 10.1014ZM3.00291 6.478L4.69858 2.39301C4.95323 1.7651 5.52677 1.43234 6.28785 1.43234L12.8059 1.43234C13.5645 1.43234 14.1433 1.7651 14.3951 2.39301L16.0883 6.478C15.8031 6.38494 15.5019 6.33202 15.1716 6.33202L3.91465 6.33202C3.58682 6.33202 3.2803 6.38494 3.00291 6.478ZM14.0655 10.1014C14.0655 10.6831 14.5381 11.1372 15.117 11.1372C15.6748 11.1372 16.1528 10.6777 16.1528 10.1014C16.1528 9.5407 15.6699 9.06557 15.117 9.06557C14.5431 9.06557 14.0655 9.5407 14.0655 10.1014Z"}))),Au("SortMenu.Size"))),h=Ke(Re.createElement(g_,{positioner:n,anchorRef:e},t.showSelect&&!r&&a,t.showView&&c,t.showSort&&d),{onClose:function(){null==t||null==t.onClose||t.onClose()},className:"menu-popover"}),f=h[0],p=h[1];return[f,p]}function qI(e){var t,n=Re.useRef(null),r=Cu(),i=Og(),a=Re.useRef(),o=QI(n,{showSelect:i,disableSelect:e.disableSelectMode,showSort:null==(t=e.showSort)||t,showView:!0,onClose:function(){null==a.current||a.current()}})[0];return Re.createElement(AS,{ref:n,className:"icon",ariaLabel:Mu(r,"FilesGrid.Cell.ActionMenu.Tooltip"),showMenu:function(e){a.current=e,o()}},Re.createElement(VE,{desiredFontSize:14,className:"meatball-icon",layoutMode:"glyphBox"}))}var ZI=function(e){return"rtl"===getComputedStyle(e).getPropertyValue("direction")},YI=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"chevron.left.circle",svgPath:"M58.5449 14.5508C85.791 14.5508 108.35-8.05664 108.35-35.2539C108.35-62.5 85.7422-85.0586 58.4961-85.0586C31.2988-85.0586 8.74023-62.5 8.74023-35.2539C8.74023-8.05664 31.3477 14.5508 58.5449 14.5508ZM58.5449 6.25C35.498 6.25 17.0898-12.207 17.0898-35.2539C17.0898-58.3008 35.4492-76.7578 58.4961-76.7578C81.543-76.7578 100-58.3008 100.049-35.2539C100.098-12.207 81.5918 6.25 58.5449 6.25ZM68.1641-11.084C69.6777-12.5977 69.6289-14.9414 68.2129-16.3086L48.1445-35.2539L68.2129-54.1016C69.6777-55.4688 69.6289-57.9102 68.1152-59.3262C66.748-60.6445 64.502-60.5957 62.9883-59.1797L42.6758-39.9902C39.8926-37.4512 39.8926-32.959 42.6758-30.4199L62.9883-11.2305C64.3555-9.96094 66.8945-9.86328 68.1641-11.084Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.46503906249995,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 99.6099853515625 99.6572265625",width:99.6099853515625,height:99.6572265625,translateX:-8.740039062500045,translateY:85.05859375,baseline:85.05859375,capline:14.5986328125}}})};function XI(e){var t=Re.useRef(null),n=Cu(),r=Re.useState(),i=r[0],a=r[1];return Re.useLayoutEffect((function(){t.current&&a(ZI(t.current))}),[n]),Re.createElement(Gp,{ref:t,variant:"push primary icon",className:"compact-back-button",onActivate:e.onActivate},i?Re.createElement(kw,{desiredFontSize:14,layoutMode:"glyphBox"}):Re.createElement(YI,{desiredFontSize:14,layoutMode:"glyphBox"}))}function JI(e){var t=Re.useContext(Fm),n=Re.useContext(jm),r=null!=t&&t.ok?t.value.recentsIds:[],i=null!=n&&n.ok?n.value:[];return"browse"===e?i:r}function eC(e){var t=e.currentSource,n=e.selection,r=e.selectionDispatch,i=JI(t),a=Cu(),o=!!i.length;return o&&i.length===n.size?Re.createElement(Gp,{className:"icon",disabled:!o,ariaLabel:Mu(a,"NavigationBar.DeselectAllButton.Title"),onActivate:function(){r({type:"clear"})}},Re.createElement(EE,{desiredFontSize:14,layoutMode:"glyphBox"})):Re.createElement(Gp,{className:"icon",disabled:!o,ariaLabel:Mu(a,"NavigationBar.SelectAllButton.Title"),onActivate:function(){r({type:"selectAll",items:i})}},Re.createElement(WE,{desiredFontSize:14,layoutMode:"glyphBox"}))}var tC=function(e){var t=e.browseFolderId,n=e.navigateToFolder,r=e.onUpload,i=e.onCancelUpload,a=e.uploadingItemIds,o=e.activeUploadTransactionsCount,s=e.currentSource,c=e.currentWorkingDirectoryId,l=e.onNewFolderActivate,u=e.onTrashActivate,d=e.onEmailActivate,h=e.selection,f=e.selectionDispatch,p=e.onDownloadActivate,g=e.shareItem,m=(e.onRecoverActivate,e.onPurgeActivate,e.onRecoverAllActivate,e.onPurgeAllActivate,e.showItemActionMenu),v=e.sourceListIsOpen,y=e.onSourceListToggled,_=e.renderCreateDocumentToolbarButton,b=e.showTrashToolbar,w=e.filePickerCloseButton,S=pp(),E=Og(),I=Ig(),C=zg(),O=Re.useContext(Fm),T=Re.useContext(jm),A=Re.useContext(xm);function N(e){return void 0===e?"loading":!1===e.ok?"errored":"loaded"}var M="recents"===s?N(O):"shared"===s?function(){if(null==A||!A.ok)return"errored";var e=A.value,t=e.hasResults,n=e.isLoading;return!t&&n?"loading":"loaded"}():N(T),D=fy(c),R=py(c),L=D||R,k=Re.createElement(HE,{isOpen:v,onActivate:y,isLargerInTouchMode:!0}),x=xg().driveItemCache,F=Object(bd.g)((function(){var e,t;if("browse"===s&&c)return null!=(e=null==(t=x.read(c))?void 0:t.parentId)?e:void 0}),[s,c,x]),P=F&&Re.createElement(XI,{onActivate:function(){n(F)}}),j=Re.createElement(eC,{currentSource:s,selection:h,selectionDispatch:f}),U=I?j:"browse"===s&&F?P:k,B=Re.createElement(bI,{browseFolderId:t,currentSource:s,uploadingItemIds:a,onUpload:r,onCancelUpload:i,activeUploadTransactionsCount:o,currentWorkingDirectoryId:c,isReadOnlyDirectory:L,loadingState:M,isLargerInTouchMode:!0}),V=Re.createElement(OI,{loadingState:M,isReadOnlyDirectory:L,onActivate:l,currentWorkingDirectoryId:c,isLargerInTouchMode:!0}),W=Re.createElement(NI,{selection:h,onActivate:d,loadingState:M,isLargerInTouchMode:!0}),z=Re.createElement(Cw,{selection:h,onActivate:p,isLargerInTouchMode:!0}),H=Re.createElement(UI,{loadingState:M,selection:h,currentSource:s,currentWorkingDirectoryId:c,shareItem:g,isLargerInTouchMode:!0}),G=Re.createElement(WI,{selection:h,loadingState:M,currentSource:s,onActivate:u,isLargerInTouchMode:!0}),$=Re.createElement(fI,{isLargerInTouchMode:!0}),K=Cg(),Q=0===JI(s).length,q=Re.createElement(Gp,{className:"icon",disabled:Q,onActivate:function(){K(!0)}},Re.createElement(WE,{desiredFontSize:14,layoutMode:"glyphBox"})),Z=Re.createElement(Gp,{variant:"push secondary icon",onActivate:function(){K(!1)}},Au("Common.Done")),Y=Re.createElement(qI,{showSort:"browse"===s,disableSelectMode:Q}),X="pointer-coarse"===Up(),J=hp("screen and (max-width: "+(X?900:840)+"px)"),ee=hp("screen and (max-width: "+(X?750:708)+"px)"),te="compact"===S||ee?"compact-toolbar":J?"middle-toolbar":"regular-toolbar",ne=Re.useRef(null),re=Re.createElement(AS,{ref:ne,className:"item-action-button icon",disabled:0===h.size,showMenu:function(e){m(h,ne,e,"meatballAction",te,void 0,o_.bottomInlineEnd)}},Re.createElement(VE,{desiredFontSize:X?14:12,layoutMode:"glyphBox"})),ie=Re.createElement(Re.Fragment,null,z,G,re),ae=Re.createElement(Re.Fragment,null,z,Re.createElement(Re.Fragment,null,G,H),re),oe=Re.createElement(Re.Fragment,null,z,Re.createElement(Re.Fragment,null,G,H,W),re),se="compact-toolbar"===te?ie:"middle-toolbar"===te?ae:oe,ce=Re.createElement(Re.Fragment,null,_?_(s):null,"shared"===s?null:B,"recents"===s||"shared"===s?null:V),le=Up(),ue=function(e,t,n,r){return Re.createElement("div",{className:Be()("item-actions-toolbar",le)},e,Re.createElement("div",{className:"actions-group start"},t),Re.createElement("div",{className:"actions-group middle"},n),Re.createElement("div",{className:"actions-group end"},r))},de=function(e,t,n){return ue(void 0,e,t,n)},he=function(e,t,n){return ue(k,e,t,n)};return"file-picker"===C?"compact"===S?Re.createElement("div",{className:Be()("item-actions-toolbar file-picker",le)},w,Re.createElement("div",{className:"inline-end"},k,Y)):null:E&&!I?"regular"===S?he($,b?void 0:ce,q):de(U,b?void 0:ce,Y):E&&I?"regular"===S?he(j,b?void 0:se,Z):de(U,b?void 0:se,Z):"regular"===S?b?he($,void 0,void 0):he($,ce,se):de(U,b?void 0:ce,Y)};function nC(e,t,n){var r=e[Math.min(t,e.length-1)];return Nu(r,n)}function rC(e,t,n,r){var i=zS(),a=Ig();return Re.useCallback((function(o,s){switch(s.key){case"a":if(bS(s))return{type:"selectAll",items:e,byKeyboard:!0};break;case" ":if(s.altKey)return{type:"toggleCurrent",byKeyboard:!0}}if(!o){var c=rE(e,0,"forward",i);if(null===c)return null;switch(s.key){case"ArrowLeft":case"ArrowRight":return iC(s,r.current)?{type:"selectExclusively",id:e[c],byKeyboard:!0}:null;case"ArrowDown":return{type:"selectExclusively",id:e[c],byKeyboard:!0};case"ArrowUp":return null}return null}if(!xu(o))throw new Error("Recents selection includes non-file ID");var l=s.shiftKey?"extend":s.altKey||a?"move-cursor":"select",u=n.get(o);if(void 0===u)throw new Error("Recents: missing ID selected");var d=t[u],h=d.indexOf(o);switch(s.key){case"ArrowRight":case"ArrowLeft":var f=iC(s,r.current);if(!f&&0===h)return null;if(f&&h===d.length-1)return null;var p=rE(d,f?h+1:h-1,f?"forward":"back",i);return null===p?null:{type:"move",subtype:l,count:p-h,items:e,byKeyboard:!0};case"ArrowDown":if(u===t.length-1)return null;var g=t[u+1],m=Math.min(h,g.length-1),v=e.indexOf(g[m]),y=rE(e,v,"forward",i);return null===y?null:{type:"move",subtype:l,count:y-e.indexOf(o),items:e,byKeyboard:!0};case"ArrowUp":if(0===u)return null;var _=t[u-1],b=Math.min(h,_.length-1),w=e.indexOf(_[b]),S=rE(e,w,"back",i);return null===S?null:{type:"move",subtype:l,count:S-e.indexOf(o),items:e,byKeyboard:!0}}return null}),[e,r,n,t,i,a])}function iC(e,t){var n=getComputedStyle(t).direction;return"ArrowRight"===e.key===("ltr"===n)}function aC(e){var t,n,r=e.size;return 44===r?(t="../c9dde2779943ed73230abd2ac4ae8028.png",n="../48858d5fa34c74546452bc9d708175cf.png"):(t="../5c79bcbaea09f12a8b85caaa21663a1f.png",n="../71a25225d60ad5d0a70220d22a6a81fb.png"),Re.createElement("div",{className:"file-icon-backdrop size-"+r},Re.createElement("img",{"aria-hidden":"true",alt:"",src:t,srcSet:t+", "+n+" 2x"}))}function oC(){var e=pp();return Re.createElement("td",{"aria-label":Au("FilesGrid.Recents.LoadingMoreAX")},Re.createElement("div",{className:"drive-grid-item loading-more "+e+"-size-class",style:{paddingBlockStart:"27px"}},Re.createElement(aC,{size:"compact"===e?80:128}),Re.createElement(yp,{ariaHidden:!0,description:"",style:{position:"absolute",marginBlockStart:"compact"===e?"25px":"50px"}})))}var sC=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"chevron.down",svgPath:"M57.1777-7.17773C59.6191-7.17773 61.6699-8.10547 63.5742-10.0586L99.707-47.0215C101.172-48.4863 101.904-50.2441 101.904-52.3926C101.904-56.7383 98.4375-60.2539 94.1406-60.2539C92.041-60.2539 90.0391-59.375 88.4277-57.7637L57.2266-25.5371L25.9766-57.7637C24.3652-59.375 22.3633-60.2539 20.2148-60.2539C15.918-60.2539 12.4512-56.7383 12.4512-52.3926C12.4512-50.293 13.1836-48.5352 14.6484-47.0215L50.7812-10.0586C52.7832-8.05664 54.7852-7.17773 57.1777-7.17773Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:79.15504150390643,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 94.09814453125 56.1044921875",width:94.09814453125,height:56.1044921875,translateX:-7.805957031249818,translateY:63.2822265625,baseline:63.2822265625,capline:-7.177734375}}})},cC=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"icloud",svgPath:"M105.225 3.22266C119.971 3.22266 131.494-7.56836 131.494-20.9961C131.494-31.25 125.586-40.1367 116.064-44.1406C116.162-65.918 100.488-81.6406 80.5176-81.6406C67.2852-81.6406 57.8613-74.5605 52.002-66.0156C39.9902-69.5312 26.9043-60.4004 26.6602-46.7285C15.625-44.9707 8.74023-35.1074 8.74023-23.1934C8.74023-8.83789 21.2891 3.22266 37.9883 3.22266ZM105.225-4.63867L37.9883-4.63867C25.6836-4.63867 16.6016-13.2324 16.6016-23.1934C16.6016-32.959 22.5098-40.7227 32.8613-40.7227C33.5449-40.7227 33.7891-41.0645 33.7891-41.6992C33.7891-56.7383 44.6289-61.1816 54.6387-57.9102C55.2246-57.7148 55.5664-57.8613 55.8594-58.3984C60.5957-66.8457 67.8711-73.7793 80.5176-73.7793C96.5332-73.7793 107.617-61.084 108.447-46.582C108.594-44.3359 108.447-41.6992 108.252-39.4043C108.203-38.7695 108.447-38.4277 109.033-38.2812C117.92-36.3281 123.633-29.834 123.633-20.9961C123.633-11.9141 115.625-4.63867 105.225-4.63867Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:63.89510009765627,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 122.758056640625 92.8212890625",width:122.758056640625,height:92.8212890625,translateX:-8.735942382812482,translateY:81.640625,baseline:81.640625,capline:11.1806640625}}})},lC=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"folder",svgPath:"M27.7832 9.13086L109.473 9.13086C118.213 9.13086 123.34 4.05273 123.34-6.00586L123.34-56.1523C123.34-66.2109 118.164-71.2891 108.008-71.2891L61.1328-71.2891C57.8125-71.2891 55.8105-72.0703 53.3691-74.1699L50.3906-76.6113C47.168-79.3457 44.6777-80.2246 39.8438-80.2246L25.9277-80.2246C17.3828-80.2246 12.4512-75.3418 12.4512-65.5273L12.4512-6.00586C12.4512 4.10156 17.5781 9.13086 27.7832 9.13086ZM20.3125-65.0879C20.3125-69.9219 22.8516-72.4121 27.5391-72.4121L37.8418-72.4121C41.0645-72.4121 43.0176-71.582 45.5078-69.4824L48.4863-66.9922C51.6602-64.3555 54.248-63.4277 59.082-63.4277L107.861-63.4277C112.695-63.4277 115.479-60.791 115.479-55.7129L115.479-52.9297L20.3125-52.9297ZM27.8809 1.26953C22.998 1.26953 20.3125-1.31836 20.3125-6.39648L20.3125-45.5566L115.479-45.5566L115.479-6.34766C115.479-1.31836 112.695 1.26953 107.861 1.26953Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:66.1151000976563,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 110.889892578125 89.9892578125",width:110.889892578125,height:89.9892578125,translateX:-12.450024414062455,translateY:80.224609375,baseline:80.224609375,capline:9.7646484375}}})},uC=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"folder.badge.person.crop",svgPath:"M118.945-32.1777C132.373-32.1777 143.75-43.4082 143.75-56.9824C143.75-70.5566 132.52-81.7871 118.945-81.7871C105.322-81.7871 94.1406-70.5566 94.1406-56.9824C94.1406-43.3105 105.322-32.1777 118.945-32.1777ZM27.7832 9.13086L109.473 9.13086C118.213 9.13086 123.34 4.05273 123.34-6.00586L123.34-25.7324C121.387-25.3906 118.018-25.3418 115.479-25.7324L115.479-6.34766C115.479-1.31836 112.695 1.26953 107.861 1.26953L27.8809 1.26953C22.998 1.26953 20.3125-1.31836 20.3125-6.39648L20.3125-45.5566L89.4043-45.5566C88.5254-47.9004 87.8906-50.3906 87.6465-52.9297L20.3125-52.9297L20.3125-65.0879C20.3125-69.9219 22.8516-72.4121 27.5391-72.4121L37.8418-72.4121C41.0645-72.4121 43.0176-71.582 45.5078-69.4824L48.4863-66.9922C51.6602-64.3555 54.248-63.4277 59.082-63.4277L88.0371-63.4277C88.623-66.2109 89.3066-68.5547 90.6738-71.2891L61.1328-71.2891C57.8125-71.2891 55.8105-72.0703 53.3691-74.1699L50.3906-76.6113C47.168-79.3457 44.6777-80.2246 39.8438-80.2246L25.9277-80.2246C17.3828-80.2246 12.4512-75.3418 12.4512-65.5273L12.4512-6.00586C12.4512 4.10156 17.5781 9.13086 27.7832 9.13086ZM118.896-55.5176C114.404-55.5176 110.986-59.2285 110.986-64.3066C110.986-68.8477 114.453-72.7051 118.896-72.7051C123.389-72.7051 126.904-68.8477 126.904-64.3066C126.904-59.2285 123.389-55.5176 118.896-55.5176ZM118.945-37.8906C111.816-37.8906 106.201-41.5527 104.59-44.9219L104.59-45.166C106.201-48.1934 111.182-51.5625 118.945-51.5625C126.709-51.5625 131.689-48.1934 133.252-45.1172L133.252-44.9219C131.641-41.5039 126.074-37.8906 118.945-37.8906Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:66.1151000976563,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 151.7099609375 93.1142578125",width:151.7099609375,height:93.1142578125,translateX:7.9600097656250455,translateY:81.787109375,baseline:81.787109375,capline:11.3271484375}}})},dC=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"icloud",svgPath:"M108.008 4.29688C123.975 4.29688 136.67-7.4707 136.67-22.2656C136.67-32.8613 130.762-42.5781 120.85-46.6797C120.801-69.2383 104.492-85.498 83.252-85.498C70.6055-85.498 60.4004-79.3457 53.8086-70.0195C40.8203-72.998 27.9297-63.623 27.0996-49.707C15.7227-47.3633 8.74023-37.0117 8.74023-24.3652C8.74023-8.69141 22.4609 4.29688 40.1367 4.29688ZM108.008-8.30078L40.1855-8.30078C29.5898-8.30078 21.6309-15.6738 21.6309-24.3652C21.6309-34.0332 27.832-40.5273 37.207-40.5273C37.9883-40.5273 38.3301-40.918 38.2812-41.6992C37.4512-55.5176 47.2656-61.1328 58.4961-57.8125C59.1309-57.6172 59.5703-57.7637 59.9121-58.3496C64.8926-66.8945 71.7285-72.9004 83.1055-72.9004C97.5098-72.9004 108.057-61.5234 108.789-47.8027C108.936-44.6289 108.691-41.4551 108.398-38.9648C108.301-38.2324 108.594-37.8418 109.326-37.7441C118.164-36.4258 123.828-30.5176 123.828-22.2656C123.828-14.502 116.895-8.30078 108.008-8.30078Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:63.89506103515623,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 133.10986328125 100.5361328125",width:133.10986328125,height:100.5361328125,translateX:-3.560078125000018,translateY:85.498046875,baseline:85.498046875,capline:15.0380859375}}})},hC=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"folder",svgPath:"M29.6875 10.8887L109.717 10.8887C120.068 10.8887 126.123 4.78516 126.123-6.25L126.123-56.5918C126.123-67.6758 120.02-73.7305 108.887-73.7305L66.0156-73.7305C62.2559-73.7305 59.9609-74.6094 56.8359-77.002L54.3945-78.9551C50.5859-81.9336 47.998-82.9102 42.3828-82.9102L28.7598-82.9102C18.6523-82.9102 12.4512-76.8066 12.4512-65.7715L12.4512-6.25C12.4512 4.83398 18.5547 10.8887 29.6875 10.8887ZM25.0488-64.3066C25.0488-68.1641 27.3438-70.3125 31.2012-70.3125L39.0137-70.3125C42.7734-70.3125 44.9707-69.4824 48.1445-67.041L50.5859-65.0391C54.3945-62.1094 57.0312-61.1328 62.5977-61.1328L107.52-61.1328C111.426-61.1328 113.525-59.2285 113.525-55.0781L113.525-52.0996L25.0488-52.0996ZM31.0547-1.70898C27.1484-1.70898 25.0488-3.66211 25.0488-7.8125L25.0488-41.748L113.525-41.748L113.525-7.76367C113.525-3.66211 111.426-1.70898 107.52-1.70898Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:66.1151098632813,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 116.4560546875 95.3603515625",width:116.4560546875,height:95.3603515625,translateX:-9.666933593749945,translateY:82.91015625,baseline:82.91015625,capline:12.4501953125}}})},fC=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"folder.badge.person.crop",svgPath:"M119.58-33.1055C133.594-33.1055 145.264-44.8242 145.264-58.8867C145.264-72.9492 133.643-84.5703 119.58-84.5703C105.469-84.5703 93.8477-72.9004 93.8477-58.8867C93.8477-44.7754 105.469-33.1055 119.58-33.1055ZM29.6875 10.8887L109.717 10.8887C120.068 10.8887 126.123 4.78516 126.123-6.25L126.123-26.4648C122.412-25.5371 117.578-25.5371 113.525-26.4648L113.525-7.76367C113.525-3.66211 111.426-1.70898 107.52-1.70898L31.0547-1.70898C27.1484-1.70898 25.0488-3.66211 25.0488-7.8125L25.0488-41.748L91.9434-41.748C89.7949-44.8242 88.1836-48.3398 87.3047-52.0996L25.0488-52.0996L25.0488-64.3066C25.0488-68.1641 27.3438-70.3125 31.2012-70.3125L39.0137-70.3125C42.7734-70.3125 44.9707-69.4824 48.1445-67.041L50.5859-65.0391C54.3945-62.1094 57.0312-61.1328 62.5977-61.1328L86.9141-61.1328C87.0117-65.625 87.9395-69.6289 89.9902-73.7305L66.0156-73.7305C62.2559-73.7305 59.9609-74.6094 56.8359-77.002L54.3945-78.9551C50.5859-81.9336 47.998-82.9102 42.3828-82.9102L28.7598-82.9102C18.6523-82.9102 12.4512-76.8066 12.4512-65.7715L12.4512-6.25C12.4512 4.83398 18.5547 10.8887 29.6875 10.8887ZM119.58-58.3984C115.332-58.3984 112.061-61.8652 112.061-66.6504C112.061-70.9961 115.332-74.6094 119.58-74.6094C123.779-74.6094 127.1-70.9961 127.1-66.6504C127.1-61.8652 123.779-58.3984 119.58-58.3984ZM119.58-40.5762C112.5-40.5762 107.129-44.4336 105.859-47.6074L105.859-47.8027C107.422-50.8789 112.842-54.1504 119.58-54.1504C126.318-54.1504 131.738-50.8301 133.252-47.8027L133.252-47.6074C131.982-44.3848 126.66-40.5762 119.58-40.5762Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:66.11512939453132,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 154.73779296875 98.6806640625",width:154.73779296875,height:98.6806640625,translateX:9.473955078125073,translateY:84.5703125,baseline:84.5703125,capline:14.1103515625}}})},pC=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"trash",svgPath:"M34.6191 16.3086L79.6875 16.3086C88.0371 16.3086 93.1641 11.6699 93.5547 3.32031L96.7285-65.918L101.318-65.918C104.492-65.918 106.836-68.1641 106.836-71.2891C106.836-74.3652 104.443-76.6113 101.318-76.6113L80.6152-76.6113L80.6152-83.6914C80.6152-91.8457 75.4883-96.4355 66.4062-96.4355L47.8027-96.4355C38.7207-96.4355 33.6426-91.8457 33.6426-83.6914L33.6426-76.6113L12.9395-76.6113C9.86328-76.6113 7.4707-74.3652 7.4707-71.2891C7.4707-68.1641 9.86328-65.918 12.9395-65.918L17.5293-65.918L20.752 3.32031C21.1426 11.7188 26.2207 16.3086 34.6191 16.3086ZM44.873-83.3008C44.873-85.4004 46.3379-86.6699 48.6328-86.6699L65.5762-86.6699C67.9199-86.6699 69.3848-85.4004 69.3848-83.3008L69.3848-76.6113L44.873-76.6113ZM36.084 5.41992C33.5449 5.41992 31.8848 3.61328 31.7383 0.732422L28.6133-65.918L85.5469-65.918L82.5195 0.732422C82.4219 3.66211 80.7617 5.41992 78.1738 5.41992ZM42.8711-1.66016C45.3125-1.66016 46.8262-3.22266 46.7773-5.46875L45.3125-54.7852C45.2637-57.0801 43.6523-58.5449 41.3574-58.5449C38.9648-58.5449 37.4512-57.0312 37.5488-54.7363L38.9648-5.41992C39.0137-3.17383 40.625-1.66016 42.8711-1.66016ZM57.1289-1.66016C59.4727-1.66016 61.084-3.17383 61.084-5.41992L61.084-54.834C61.084-57.0801 59.4727-58.5449 57.1289-58.5449C54.834-58.5449 53.2227-57.0801 53.2227-54.834L53.2227-5.41992C53.2227-3.17383 54.834-1.66016 57.1289-1.66016ZM71.4355-1.66016C73.6816-1.66016 75.2441-3.125 75.293-5.41992L76.7578-54.7363C76.8066-57.0312 75.293-58.5449 72.9492-58.5449C70.6055-58.5449 69.043-57.0801 68.9941-54.7852L67.5293-5.46875C67.4805-3.22266 68.9941-1.66016 71.4355-1.66016Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:79.27501708984391,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 104.201904296875 122.4111328125",width:104.201904296875,height:122.4111328125,translateX:-2.6341015624998363,translateY:96.435546875,baseline:96.435546875,capline:25.9755859375}}})},gC=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"clock",svgPath:"M60.3027 16.3574C88.623 16.3574 111.865-6.93359 111.865-35.2539C111.865-63.5254 88.5742-86.8164 60.3027-86.8164C31.9824-86.8164 8.74023-63.5254 8.74023-35.2539C8.74023-6.93359 32.0312 16.3574 60.3027 16.3574ZM60.3027 3.51562C38.8672 3.51562 21.6309-13.7695 21.6309-35.2539C21.6309-56.6895 38.8184-73.9746 60.3027-73.9746C81.7383-73.9746 99.0234-56.6895 99.0234-35.2539C99.0723-13.7695 81.7871 3.51562 60.3027 3.51562ZM37.1094-27.7832L60.3027-27.7832C62.9395-27.7832 64.9902-29.8828 64.9902-32.5195L64.9902-62.8906C64.9902-65.5273 62.9395-67.5781 60.3027-67.5781C57.666-67.5781 55.5664-65.5273 55.5664-62.8906L55.5664-37.207L37.1094-37.207C34.4727-37.207 32.4219-35.1562 32.4219-32.5195C32.4219-29.8828 34.4727-27.7832 37.1094-27.7832Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.46515624999984,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 106.6400146484375 103.1748046875",width:106.6400146484375,height:103.1748046875,translateX:-5.224907226562664,translateY:86.8173828125,baseline:86.8173828125,capline:16.357421875}}})},mC=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"clock",svgPath:"M58.5449 14.5508C85.791 14.5508 108.35-8.05664 108.35-35.2539C108.35-62.5 85.7422-85.0586 58.4961-85.0586C31.2988-85.0586 8.74023-62.5 8.74023-35.2539C8.74023-8.05664 31.3477 14.5508 58.5449 14.5508ZM58.5449 6.25C35.498 6.25 17.0898-12.207 17.0898-35.2539C17.0898-58.3008 35.4492-76.7578 58.4961-76.7578C81.543-76.7578 100-58.3008 100.049-35.2539C100.098-12.207 81.5918 6.25 58.5449 6.25ZM33.0078-29.9805L58.4961-29.9805C60.4004-29.9805 61.9141-31.4453 61.9141-33.3984L61.9141-66.3086C61.9141-68.2129 60.4004-69.6777 58.4961-69.6777C56.5918-69.6777 55.127-68.2129 55.127-66.3086L55.127-36.7676L33.0078-36.7676C31.0547-36.7676 29.5898-35.3027 29.5898-33.3984C29.5898-31.4453 31.0547-29.9805 33.0078-29.9805Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.46503906249995,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 99.6099853515625 99.6572265625",width:99.6099853515625,height:99.6572265625,translateX:-8.740039062500045,translateY:85.05859375,baseline:85.05859375,capline:14.5986328125}}})},vC=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"rectangle.stack.badge.person.crop",svgPath:"M33.6914-85.5469L95.9961-85.5469C95.6055-90.2344 92.627-92.8223 87.6465-92.8223L42.041-92.8223C37.0605-92.8223 34.082-90.2344 33.6914-85.5469ZM23.9746-70.459L105.713-70.459C105.078-75.4395 102.393-78.418 96.6797-78.418L33.0078-78.418C27.2949-78.418 24.6094-75.4395 23.9746-70.459ZM44.7754 22.2168L99.9512 22.2168C111.084 22.2168 117.236 16.1621 117.236 5.07812L117.236-45.2148C117.236-56.2988 111.084-62.3535 99.9512-62.3535L29.6875-62.3535C18.5547-62.3535 12.4512-56.2988 12.4512-45.2148L12.4512-30.2246C14.502-30.6152 16.5527-30.9082 18.7012-30.9082C20.8496-30.9082 22.998-30.6152 25.0488-30.1758L25.0488-43.7012C25.0488-47.8516 27.1484-49.7559 31.0547-49.7559L98.584-49.7559C102.49-49.7559 104.639-47.8516 104.639-43.7012L104.639 3.56445C104.639 7.71484 102.49 9.61914 98.584 9.61914L50.7324 9.61914C49.8047 14.3066 47.7051 18.6035 44.7754 22.2168ZM18.75 27.8809C32.7637 27.8809 44.4336 16.2109 44.4336 2.14844C44.4336-11.9141 32.8613-23.5352 18.75-23.5352C4.63867-23.5352-6.98242-11.9141-6.98242 2.14844C-6.98242 16.2598 4.63867 27.8809 18.75 27.8809ZM18.75 2.63672C14.502 2.63672 11.2305-0.830078 11.2305-5.61523C11.2305-9.96094 14.502-13.5742 18.75-13.5742C22.9492-13.5742 26.2695-9.96094 26.2695-5.61523C26.2695-0.830078 22.9492 2.63672 18.75 2.63672ZM18.75 20.459C11.6699 20.459 6.29883 16.6016 5.0293 13.4277L5.0293 13.1836C6.5918 10.1562 12.0117 6.83594 18.75 6.83594C25.4883 6.83594 30.9082 10.2051 32.4219 13.2324L32.4219 13.4277C31.1523 16.6016 25.8301 20.459 18.75 20.459Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:68.99920166015636,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 143.98681640625 126.2216796875",width:143.98681640625,height:126.2216796875,translateX:6.982539062500109,translateY:98.3408203125,baseline:98.3408203125,capline:27.880859375}}})},yC=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"rectangle.stack.badge.person.crop",svgPath:"M32.8125-83.0566L94.4336-83.0566C94.1406-87.207 91.7969-89.3555 87.2559-89.3555L39.9414-89.3555C35.4492-89.3555 33.1055-87.207 32.8125-83.0566ZM22.7539-69.5312L104.492-69.5312C103.76-73.9746 101.66-76.416 96.7773-76.416L30.4688-76.416C25.5859-76.416 23.4863-73.9746 22.7539-69.5312ZM42.2852 18.75L99.4141 18.75C109.57 18.75 114.746 13.6719 114.746 3.61328L114.746-46.5332C114.746-56.5918 109.57-61.6699 99.4141-61.6699L27.7832-61.6699C17.5293-61.6699 12.4512-56.5918 12.4512-46.5332L12.4512-30.2734C13.7695-30.4199 15.0879-30.5176 16.3574-30.5176C17.6758-30.5176 18.9941-30.4199 20.3125-30.2734L20.3125-46.0938C20.3125-51.1719 22.998-53.8086 27.8809-53.8086L99.2676-53.8086C104.102-53.8086 106.885-51.1719 106.885-46.0938L106.885 3.17383C106.885 8.25195 104.102 10.8887 99.2676 10.8887L46.2402 10.8887C45.3125 13.7207 43.9453 16.3574 42.2852 18.75ZM16.4062 25.8301C29.834 25.8301 41.2109 14.5508 41.2109 1.02539C41.2109-12.5977 30.0293-23.7793 16.4062-23.7793C2.7832-23.7793-8.39844-12.5977-8.39844 1.02539C-8.39844 14.6484 2.7832 25.8301 16.4062 25.8301ZM16.4062 2.49023C11.9141 2.49023 8.44727-1.26953 8.44727-6.29883C8.44727-10.8887 11.9141-14.7461 16.4062-14.7461C20.8496-14.7461 24.3652-10.8887 24.3652-6.29883C24.3652-1.26953 20.8984 2.49023 16.4062 2.49023ZM16.4062 20.1172C9.27734 20.1172 3.66211 16.4062 2.05078 13.0371L2.05078 12.793C3.66211 9.76562 8.64258 6.39648 16.4062 6.39648C24.1699 6.39648 29.1504 9.76562 30.7129 12.8418L30.7129 13.0371C29.1016 16.4551 23.5352 20.1172 16.4062 20.1172Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:70.41510009765625,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 143.98681640625 122.1201171875",width:143.98681640625,height:122.1201171875,translateX:8.3984375,translateY:96.2900390625,baseline:96.2900390625,capline:25.830078125}}})};function _C(e){var t,n={className:e.className,desiredFontSize:null!=(t=e.desiredFontSize)?t:8.43,"aria-label":e.ariaLabel},r=e.weight,i=Object.assign({},n);switch(bC(e.folder,e.source)){case"shared-files":return"bold"===r?Re.createElement(vC,n):Re.createElement(yC,n);case"recents":return"bold"===r?Re.createElement(gC,n):Re.createElement(mC,n);case"root-browse":return e.ariaLabel||(i=Object.assign({},n,{"aria-label":Nu("Common.Screenreader.DriveFolderType.Root")})),"bold"===r?Re.createElement(dC,i):Re.createElement(cC,i);case"root-trash":return e.ariaLabel||(i=Object.assign({},n,{"aria-label":Nu("Common.Screenreader.DriveFolderType.Root")})),"bold"===r?Re.createElement(pC,i):Re.createElement(Uw,i);case"shared-folder":return e.ariaLabel||(i=Object.assign({},n,{"aria-label":Nu("Common.Screenreader.DriveFolderType.Shared")})),"bold"===r?Re.createElement(fC,i):Re.createElement(uC,i);default:return e.ariaLabel||(i=Object.assign({},n,{"aria-label":Nu("Common.Screenreader.DriveFolderType.Basic")})),"bold"===r?Re.createElement(hC,i):Re.createElement(lC,i)}}function bC(e,t){if("recents"===t)return"recents";if("shared"===t)return"shared-files";if(!e)return"folder";var n=e.id;return n===Hu?"root-browse":n===Gu?"root-trash":Ju(n)||ed(e)||Xu(n)?"shared-folder":"folder"}function wC(e){var t=Re.useRef(null),n=Cu(),r=Re.useState(),i=r[0],a=r[1];return Re.useLayoutEffect((function(){t.current&&a(ZI(t.current))}),[n]),Re.createElement(Gp,{ref:t,variant:"push primary icon",className:"back-button",onActivate:e.onActivate},i?Re.createElement(EC,null):Re.createElement(SC,null))}var SC=function(){return Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 22",version:"1.1",style:{width:22,height:22}},Re.createElement("path",{d:"M10.9931889,22 C17.0006192,22 22,17.0111524 22,11 C22,4.98884758 16.9869969,0 10.9795666,0 C4.98575851,0 0,4.98884758 0,11 C0,17.0111524 4.9993808,22 10.9931889,22 Z M13.1591331,16.3023544 C12.8458204,16.6158612 12.2055728,16.5885998 11.8786378,16.2750929 L7.53312693,12.2131351 C6.85201238,11.5861214 6.85201238,10.4547708 7.53312693,9.81412639 L11.8786378,5.76579926 C12.2464396,5.42503098 12.8049536,5.39776952 13.1455108,5.72490706 C13.526935,6.07930607 13.5405573,6.67905824 13.1727554,7.03345725 L8.89535604,11.0136307 L13.1727554,15.0074349 C13.526935,15.3482032 13.5405573,15.9343247 13.1591331,16.3023544 Z"}))},EC=function(){return Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 22",version:"1.1",style:{width:22,height:22}},Re.createElement("path",{d:"M10.9943166,21.9886376 C17.0075513,21.9886376 22,17.0075646 22,10.9943298 C22,4.98107298 16.9961315,0 10.9828746,0 C4.97874041,0 0,4.98107298 0,10.9943298 C0,17.0075646 4.99016028,21.9886376 10.9943166,21.9886376 Z M8.45616784,16.5097952 C8.11065606,16.1619641 8.11975661,15.6309955 8.44706729,15.3151267 L13.0219066,11.0057497 L8.44706729,6.70781461 C8.10833675,6.39194589 8.11975661,5.84721593 8.46758771,5.5108047 C8.78579784,5.20869725 9.30066385,5.23834032 9.64405511,5.55655044 L14.276303,9.91187203 C14.9080404,10.4978637 14.905699,11.5273969 14.276303,12.10875 L9.64405511,16.4663909 C9.33496763,16.7617304 8.74917474,16.782264 8.45616784,16.5097952 Z"}))};function IC(e){var t,n=Re.useRef(null),r=xg().driveItemCache,i=pp(),a=Cu(),o=zg(),s=e.folderId,c=Object(bd.g)((function(){return s?r.read(s):null}),[s,r]),l=Object(bd.g)((function(){return null!=c&&c.parentId?r.read(c.parentId):null}),[r,c]),u=Re.useRef(null),d=a_(Object.assign({},i_,{sidePreference:[o_.bottomInlineStart,o_.bottomInlineEnd,o_.topInlineStart,o_.topInlineEnd]})),h=Ge(),f=h[0],p=h[1],g=Au("FilesGrid.Popover.Close"),m=Object(bd.g)((function(){if(!e.folderId)return[];var t=dy(e.folderId,r);if(!t)return[];var n=t.reverse();return n.push(e.folderId),n.some((function(e){return!r.has(e)}))?[]:n.map((function(e){return r.read(e)})).reverse()}),[r,e.folderId]),v=Re.useState(!1),y=v[0],_=v[1],b=!!l,w=Og(),S=Ig(),E=(0,Sy()[0].useSelectedItems)(),I=w&&S&&"file-picker"!==o?Re.createElement("div",{className:"navigation-title"},Mu(a,"NavigationBar.TouchMode.Item.Selected",{number:E.size})):Re.createElement(CC,{title:e.title,folder:c,source:e.currentSource,hasMenuIcon:b});t=!b||w&&S?I:Re.createElement(Gp,{ref:u,className:Be()("title-button",y?"menu-open":null),onActivate:function(){_(!0),f(Re.createElement(g_,{arrowless:!0,anchorRef:u,positioner:d},Re.createElement(L_,{onItemSelected:function(t){p(),e.onNavigate&&e.onNavigate(t)}},m.map((function(t){return Re.createElement(A_,{checkable:!0,checked:e.folderId===t.id,value:t.id,key:t.id},Re.createElement("div",{className:"icloud-icon-container"},Re.createElement(_C,{folder:t,desiredFontSize:9.75,weight:"regular",className:bC(t)})),Yu(t))})))),{animates:Oe.OUT,onRequestClose:function(e){e===Ce.ESCAPE?p({animate:!1}):e===Ce.MOUSE_UP&&p(),_(!1)},onClose:function(){return _(!1)},className:"title-menu",ariaClosePaneDescription:g,initialFocus:"ui-menu-item[aria-checked=true]"})}},I);var C="recents"===e.currentSource?Re.createElement(AC,{selection:E}):"shared"===e.currentSource?Re.createElement(OC,{selection:E}):e.folderId?Re.createElement(TC,{currentWorkingDirectoryId:e.folderId,selection:E}):null,O=null==e.getNavBarSubtitleForWidth?void 0:e.getNavBarSubtitleForWidth(1/0),T="compact"!==i&&!!l;return Re.createElement("div",{className:"nav-bar",ref:n,style:e.style},Re.createElement("div",{className:"nav-container"},Re.createElement("div",{className:"title-container"},T?Re.createElement(wC,{onActivate:function(){l.id&&e.onNavigate&&e.onNavigate(l.id)}}):null,t),Re.createElement("div",{className:"nav-bar-inline-end"},e.trailingContent)),Re.createElement("div",{className:Be()("status-message",T?"toolbar-has-back-button":null)},S?E.size>0?"\xa0":Mu(a,"StatusBar.SelectMode"):Re.createElement(Re.Fragment,null,C,(C&&O?" \xb7 ":"")+(O||""))))}function CC(e){var t;if(e.hasMenuIcon){var n=function(e){var t=/^(.*\s)?(\S+)$/.exec((null==e?void 0:e.trim())||"")||[],n=t[1],r=t[2];return n?[n.replace(/\s$/,"\xa0"),r]:[n,r]}(e.title),r=n[0],i=n[1];t=Re.createElement(Re.Fragment,null,r,Re.createElement("span",{className:"chevron-group"},i,Re.createElement(sC,{className:"down-chevron-icon",desiredFontSize:8.35})))}else t=e.title;return Re.createElement("div",{className:"navigation-title"},Re.createElement(_C,{folder:e.folder,source:e.source,className:"title-icon",desiredFontSize:13.16,weight:"bold"}),t)}function OC(e){var t,n=e.selection,r=Re.useContext(xm),i=[...xg().directlyShareFileIdsCache.value];return DC({loadingState:null!=r&&r.ok?null!=r&&null!=(t=r.value)&&t.isLoading?"loading":"loaded":"errored",countAndSelectionMessage:MC({selection:n,totalCount:null!=r&&r.ok?i.length:0}),storageQuotaMessage:NC()})}function TC(e){var t=e.selection,n=Re.useContext(jm),r=MC({selection:t,totalCount:null!=n&&n.ok&&n.value.length||0}),i=NC();return DC({loadingState:n?n.ok?"loaded":"errored":"loading",countAndSelectionMessage:r,storageQuotaMessage:i})}function AC(e){var t=e.selection,n=Re.useContext(Fm);return DC({loadingState:n?n.ok?"loaded":"errored":"loading",countAndSelectionMessage:MC({selection:t,totalCount:null!=n&&n.ok?n.value.recentsIds.length:0}),storageQuotaMessage:NC()})}function NC(){var e=Cu(),t=Re.useContext(_g),n=yE(t?Math.max(0,t.totalStorageInBytes-t.usedStorageInBytes):0);if(t)return Mu(e,"StatusBar.Quota",{size:n})}function MC(e){var t=e.selection,n=e.totalCount,r=Cu(),i=Re.useContext(vg);bg(i,"NumberFormatterContext");var a=(null==t?void 0:t.size)||0;return 0===a?nC(["StatusBar.ItemCount.0","StatusBar.ItemCount.1","StatusBar.ItemCount.2","StatusBar.ItemCount.Multiple"],n,{numberOfItems:n}):Mu(r,"StatusBar.OneOrMoreItemsSelected",{totalNumberOfItems:i(n),numberOfSelectedItems:i(a)})}function DC(e){var t=e.loadingState,n=e.countAndSelectionMessage,r=e.storageQuotaMessage,i=Cu();return"loading"===t?Re.createElement(Re.Fragment,null,Mu(i,"StatusBar.Loading")):"errored"===t?Re.createElement(Re.Fragment,null,r):r?Re.createElement(Re.Fragment,null,Mu(i,"StatusBar.Text.SelectionAndQuota",{selectionInfo:n,quotaSize:r})):Re.createElement(Re.Fragment,null,n)}var RC=["resetItemLinkSource","resetRecentsItemLink","recentsItemLink","ids","viewMode","showItemActionMenu"];function LC(){return LC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LC.apply(this,arguments)}function kC(e){var t=Object.assign({},e),n=Cu(),r=Re.useContext(Fm),i=Qm(),a=zg();return r&&i?r.ok?Re.createElement(Re.Fragment,null,Re.createElement(IC,{currentSource:"recents",title:Nu("FilesGrid.SourceList.Source.Recents"),trailingContent:"file-picker"===a&&t.trailingContent}),Re.createElement(xC,LC({ids:r.value.recentsIds,isPartial:r.value.isPartial,viewMode:i},t))):Re.createElement(vS,{message:Mu(n,"Recents.Error.Message"),description:Mu(n,"Recents.Error.Description")}):Re.createElement(mS,null)}function xC(e){var t=e.resetItemLinkSource,n=e.resetRecentsItemLink,r=e.recentsItemLink,i=e.ids,a=e.viewMode,o=e.showItemActionMenu,s=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,RC);qm();var c=xg().driveItemCache,l=Cu(),u=Re.useState(FC),d=u[0],h=u[1];Re.useEffect((function(){h(FC());var e=setInterval((function(){return h(FC())}),6e4);return function(){return clearInterval(e)}}),[]);var f=Re.useState(!1),p=f[0],g=f[1],m=p?"action-menu-is-open":void 0,v=function(e,t,n,r,i,a){g(!0),o(e,t,(function(){g(!1),null==n||n()}),r,i,a)},y=Re.useRef(null),_=!(0,Sy()[0].useHasCurrentId)(),b=_?0:-1,w=Wm(),S=Re.useRef(_);Re.useEffect((function(){var e;S.current&&"main content"===(null==w?void 0:w.current)&&(null==(e=y.current)||e.focus())}),[w]);var E=Re.useMemo((function(){return function(e,t,n){var r=e.map((function(e){var t=n.read(e).lastOpenTime;return[e,new Date(t).getTime()]})).sort((function(e,t){return t[1]-e[1]})),i=function(e){var t=[];t.push({type:"today",locKey:"Recents.Today",mostRecentDate:new Date(e).setHours(24,0,0,0),earliestDate:new Date(e).setHours(0,0,0,0),ids:[]});var n=new Date(e);n.setDate(n.getDate()-1),t.push({type:"yesterday",locKey:"Recents.Yesterday",mostRecentDate:t[t.length-1].earliestDate,earliestDate:n.setHours(0,0,0,0),ids:[]});var r=new Date(n);r.setDate(r.getDate()-7),t.push({type:"previous 7",locKey:"Recents.Previous7",mostRecentDate:t[t.length-1].earliestDate,earliestDate:r.setHours(0,0,0,0),ids:[]});var i=new Date(r);i.setDate(i.getDate()-30),t.push({type:"previous 30",locKey:"Recents.Previous30",mostRecentDate:t[t.length-1].earliestDate,earliestDate:i.setHours(0,0,0,0),ids:[]});var a=pm(e),o=new Date(i);for(o.setDate(o.getDate()-1),o.setHours(0,0,0,0);o.getTime()>a;)t.push({type:"month",locKey:gm[o.getMonth()],mostRecentDate:t[t.length-1].earliestDate,earliestDate:o.setDate(1),ids:[]}),o.setDate(0);return t}(t),a=0;return r.forEach((function(e){for(var t=e[0],n=e[1],r=i[a];!(n>=r.earliestDate&&n<r.mostRecentDate);)if(n>=r.mostRecentDate){if(0===a)return;a--,r=i[a]}else{if(!(n<r.earliestDate))return;if(a===i.length-1)return;a++,r=i[a]}r.ids.push(t)})),[r.map((function(e){return e[0]})),i.filter((function(e){return e.ids.length>0}))]}(i,d,c)}),[i,d,c]),I=E[0],C=E[1];return 0===C.length?Re.createElement(vS,{message:Mu(l,"Recents.Empty.Message"),description:Mu(l,"Recents.Empty.Description")}):"list"===a?Re.createElement(jC,LC({resetItemLinkSource:t,resetRecentsItemLink:n,recentsItemLink:r,className:m,tabIndex:b,focusContainerRef:y,ids:I,buckets:C,showItemActionMenu:v},s)):Re.createElement(PC,LC({resetItemLinkSource:t,resetRecentsItemLink:n,recentsItemLink:r,className:m,tabIndex:b,focusContainerRef:y,ids:I,buckets:C,showItemActionMenu:v},s))}var FC=function(){return(new Date).setHours(0,0,0,0)};function PC(e){var t=e.resetItemLinkSource,n=e.recentsItemLink,r=e.resetRecentsItemLink,i=e.className,a=e.tabIndex,o=e.ids,s=e.focusContainerRef,c=e.buckets,l=e.isPartial,u=e.showQuickLook,d=e.showItemActionMenu,h=e.onItemActivated,f=e.onCancelUpload,p=e.onTrashSelection,g=e.onUserCommittedRename,m=e.isAnimating,v=e.renamingId,y=e.onFinishedRename,_=e.renderItemActionButton,b=e.subscribeToShareRecord;qm();var w=Re.useRef(null),S=pp(),E=xg().driveItemCache,I=Re.useRef(null);eE(m,SS((function(e){var t=e.width;A(Math.max(Math.floor(t/C),1))}),I));var C=KS(S),O=Re.useState(1),T=O[0],A=O[1],N=Re.useMemo((function(){return c.reduce((function(e,t,n){for(var r=t.ids,i=[],a=0;i.push(r.slice(a,a+T)),!((a+=T)>r.length-1););if(l&&n===c.length-1){var o=i[i.length-1];o.length<T?o.push("spinner"):i.push(["spinner"])}for(var s=i[i.length-1];s.length<T;)s.push("spacer");return e.push(i),e}),[])}),[c,T,l]),M=Re.useMemo((function(){return N.reduce((function(e,t){return t.forEach((function(t){var n=t.filter((function(e){return"spacer"!==e&&"spinner"!==e}));e[0].push(n);var r=e[0].length-1;n.forEach((function(t){e[1].set(t,r)}))})),e}),[[],new Map])}),[N]),D=M[0],R=M[1],L=Re.useRef(null),k=iE({scrollContainerRef:L});Re.useLayoutEffect(k,[o,k]);var x=Sy(),F=x[0],P=F.getSelectedItems,j=F.getCurrentId,U=F.useOnCurrentIdChangedByKeyboard,B=x[1],V=rC(o,D,R,w),W=Og(),z=Ig();U(Re.useCallback((function(e){return ME(w.current,e)}),[])),nE(o,Re.useCallback((function(e){var t=dy(e,E);return!(null==t||!t.includes("TRASH_ROOT"))}),[E]));var H=Re.useRef(r);Re.useEffect((function(){H.current=r}),[r]);var G=Re.useRef(t);Re.useEffect((function(){G.current=t}),[t]),Re.useLayoutEffect((function(){null!=L.current&&null!=n&&(H.current(),G.current(),ME(L.current,n),B({type:"selectExclusively",id:n}))}),[n,B]);var $=Cu(),K=wS(w);return Re.createElement("div",{ref:$p(w,s,L),role:"presentation",tabIndex:a,onMouseDown:function(e){if(!W){var t,n,r=null==(t=(n=e.target).closest)?void 0:t.call(n,'[role="gridcell"]'),i=w.current===document.activeElement||w.current.contains(document.activeElement);!r&&i&&B({type:"clear"})}},onKeyDown:function(e){var t=P();if("Enter"===e.key)if(z){var n=j();if(n){if("object"===typeof n)throw new Error("JSX element found in Recents ID list.");t.has(n)?B({type:"toggle",id:n}):B({type:"selectInclusively",id:n})}}else 1===(null==t?void 0:t.size)&&h(Array.from(t)[0]);else if("Backspace"===e.key)1===(null==t?void 0:t.size)&&p();else if(!W||z){var r=j();if("object"===typeof r)throw new Error("JSX element found in Recents ID list.");var i=V(r,e);i&&(B(i),e.preventDefault(),e.stopPropagation())}},className:Be()("recents",i,S+"-size-class","grid-container",K?"focus-within":null)},c.map((function(e,t){return Re.createElement("div",{key:"month"===e.type?"month-"+new Date(e.earliestDate).getMonth()+"-"+new Date(e.earliestDate).getFullYear():e.type,className:"bucket"},Re.createElement("div",{className:Be()("section-header",S+"-size-class"),ref:0===t?I:void 0},Re.createElement("h2",{className:Be()("section-title",S+"-size-class")},Mu($,e.locKey)),Re.createElement("p",{className:Be()("section-subtitle",S+"-size-class")},nC(["Recents.Items.Count.0","Recents.Items.Count.1","Recents.Items.Count.2","Recents.Items.Count.Multiple"],e.ids.length,{numberOfItems:e.ids.length}))),Re.createElement("table",{role:"grid"},Re.createElement("tbody",null,N[t].map((function(e,t){return Re.createElement("tr",{key:t},e.map((function(e,t){return"spinner"===e?Re.createElement(oC,{key:"loading-more"}):"spacer"===e?Re.createElement("td",{key:"spinner-"+t,"aria-hidden":"true",className:"spacer",style:{width:C}}):Re.createElement(QS,{key:e,id:e,ids:o,onItemActivated:h,onUserCommittedRename:g,showQuickLook:u,showItemActionMenu:d,onCancelUpload:f,renamingId:v,onFinishedRename:y,renderItemActionButton:_,subscribeToShareRecord:b})})))})))))})))}function jC(e){var t=e.resetItemLinkSource,n=e.resetRecentsItemLink,r=e.recentsItemLink,i=e.className,a=e.tabIndex,o=e.focusContainerRef,s=e.ids,c=e.buckets,l=e.showQuickLook,u=e.showItemActionMenu,d=e.onCancelUpload,h=e.onItemActivated,f=e.onTrashSelection,p=e.onUserCommittedRename,g=e.renamingId,m=e.onFinishedRename,v=e.renderItemActionButton,y=e.subscribeToShareRecord,_=Re.useRef(null),b=pp(),w=xg().driveItemCache,S=Re.useMemo((function(){return c.reduce((function(e,t){var n=t.ids,r=[];return r.push(n),e.push(r),e}),[])}),[c]),E=Sy(),I=E[0],C=I.getSelectedItems,O=I.getCurrentId,T=I.useOnCurrentIdChangedByKeyboard,A=E[1],N=TE(s),M=Og(),D=Ig();T(Re.useCallback((function(e){ME(_.current,e)}),[]));var R=Re.useRef(null),L=iE({scrollContainerRef:R});Re.useLayoutEffect(L,[s,L]),nE(s,Re.useCallback((function(e){var t=dy(e,w);return!(null==t||!t.includes("TRASH_ROOT"))}),[w]));var k=Re.useRef(n);Re.useEffect((function(){k.current=n}),[n]);var x=Re.useRef(t);Re.useEffect((function(){x.current=t}),[t]),Re.useLayoutEffect((function(){null!=R.current&&null!=r&&(k.current(),x.current(),ME(R.current,r),A({type:"selectExclusively",id:r}))}),[r,A]);var F=Cu(),P=pg(),j=zg(),U="compact"===b?"two-row":"one-row",B=c.map((function(e,t){return Re.createElement("table",{className:"bucket",key:"month"===e.type?"month-"+new Date(e.earliestDate).getMonth()+"-"+new Date(e.earliestDate).getFullYear():e.type},Re.createElement("thead",null,Re.createElement("tr",{className:"bucket-header-row"},Re.createElement("th",{className:Be()("section-header",b+"-size-class")},Re.createElement("h2",{className:Be()("section-title",b+"-size-class")},Mu(F,e.locKey)),Re.createElement("p",{className:Be()("section-subtitle",b+"-size-class")},nC(["Recents.Items.Count.0","Recents.Items.Count.1","Recents.Items.Count.2","Recents.Items.Count.Multiple"],e.ids.length,{numberOfItems:e.ids.length}))))),Re.createElement("tbody",null,S[t].map((function(e,t){return e.map((function(e,t,n){return Re.createElement(CE,{key:e,layoutMode:U,id:e,nextId:n[t+1],ids:s,isVisible:!0,onItemActivated:h,onUserCommittedRename:p,onCancelUpload:d,showQuickLook:l,showItemActionMenu:u,renamingId:g,onFinishedRename:m,renderItemActionButton:v,subscribeToShareRecord:y})}))}))))})),V=wS(_);return Re.createElement("div",{ref:$p(_,o),className:Be()("recents",i,"list-container",V&&"focus-within",P&&"has-hover-support"),role:"grid","aria-multiselectable":"true",tabIndex:a,onKeyDown:function(e){var t=C();if("Enter"===e.key)if(D){var n=O();if(n){if("object"===typeof n)throw new Error("JSX element found in Recents ID list.");t.has(n)?A({type:"toggle",id:n}):A({type:"selectInclusively",id:n})}}else 1===(null==t?void 0:t.size)&&h(Array.from(t)[0]);else if("Backspace"===e.key)1===(null==t?void 0:t.size)&&f();else if(!M||D){var r=O();if("object"===typeof r)throw new Error("JSX element found in Recents ID list.");var i=N(r,e);i&&(A(i),e.preventDefault(),e.stopPropagation())}},onMouseDown:function(e){if(!M){var t,n,r=null==(t=(n=e.target).closest)?void 0:t.call(n,".drive-list-item"),i=_.current===document.activeElement||_.current.contains(document.activeElement);!r&&i&&A({type:"clear"})}}},Re.createElement("table",{className:"header-container"},Re.createElement("thead",null,Re.createElement("tr",{className:Be()("headings",{"file-picker":"file-picker"===j})},Re.createElement("th",{className:"col-item-preview","aria-hidden":!0}),Re.createElement("th",{className:"col-item-name"},Au("FolderContentsList.ColumnHeading.Name")),Re.createElement("th",{className:"col-item-kind"},Au("FolderContentsList.ColumnHeading.Kind")),Re.createElement("th",{className:"col-item-size"},Au("FolderContentsList.ColumnHeading.Size")),Re.createElement("th",{className:"col-item-date"},Au("FolderContentsList.ColumnHeading.Date")),Re.createElement("th",{className:"col-item-shared-count"},Nu("FolderContentsList.ColumnHeading.Shared")),Re.createElement("th",{className:"col-item-meatball"})))),Re.createElement("div",{ref:R},B))}var UC=Object.assign(Re.forwardRef((function(e,t){var n=mm(),r=void 0;void 0!==e.contentKey?r=e.contentKey:"object"===typeof e.children&&null!==e.children&&(r=e.children.key);var i=Re.useCallback((function(){var e,t=l.current.incoming,r=l.current.transition;if(!t||!r)throw new Error("UITransitionContainer bad state: incoming frame transition finished, but no incoming frame or transition!");l.current={transition:r,incoming:void 0,atRest:t,outgoing:l.current.outgoing},void 0===l.current.outgoing&&(null===(e=o.current)||void 0===e||e.call(o)),n()}),[n]),a=Re.useCallback((function(){var e;if(!l.current.outgoing)throw new Error("UITransitionContainer bad state: outgoing frame finished, but no outgoing frame!");l.current.outgoing=void 0,void 0===l.current.incoming&&(null===(e=o.current)||void 0===e||e.call(o)),n()}),[n]),o=Re.useRef(e.onTransitionEnd);Re.useEffect((function(){o.current=e.onTransitionEnd}),[e.onTransitionEnd]);var s=Re.useMemo((function(){return window.matchMedia("(prefers-reduced-motion)")}),[]).matches,c=e.reducedMotionTransition||HC,l=Re.useRef({incoming:void 0,atRest:void 0===r?void 0:{key:r,children:e.children},outgoing:void 0,transition:s&&e.transition?c:e.transition}),u=l.current,d=void 0,h=void 0,f=void 0,p=void 0,g=!1;u.incoming||u.atRest||void 0!==r?u.atRest&&r===u.atRest.key?(h=Object.assign({},u.atRest,{children:e.children}),p=u.transition,f=u.outgoing):u.incoming&&r===u.incoming.key?(d={key:r,children:e.children},p=u.transition,f=u.outgoing):u.incoming||u.outgoing?(d=u.incoming,h=u.atRest,p=u.transition,f=u.outgoing):(g=!0,p=s&&e.transition?c:e.transition,void 0!==r&&((null===p||void 0===p?void 0:p.incoming)?d={key:r,children:e.children}:h={key:r,children:e.children}),void 0!==u.atRest&&void 0!==(null===p||void 0===p?void 0:p.outgoing)&&(f={key:u.atRest.key,initialContent:Re.createElement(zC,{key:u.atRest.key,inert:VC(p.inert),transitionProps:p.outgoing.from},u.atRest.children),destinationContent:Re.createElement(zC,{key:u.atRest.key,inert:VC(p.inert),transitionProps:p.outgoing.to,onTransitionEnd:a},u.atRest.children)})):(h=void 0,d=void 0,f=u.outgoing),Re.useLayoutEffect((function(){l.current=d?{incoming:d,atRest:void 0,outgoing:f,transition:p}:h?{incoming:void 0,atRest:h,outgoing:f,transition:p}:{incoming:void 0,atRest:void 0,outgoing:f,transition:p}}),[d,h,f,p]),Re.useEffect((function(){g&&_.current&&(_.current.offsetHeight,n())}),[g,n]);var m=null;d?m=g?Re.createElement(zC,{key:d.key,inert:WC(null===p||void 0===p?void 0:p.inert),transitionProps:p.incoming.from},d.children):Re.createElement(zC,{key:d.key,inert:WC(null===p||void 0===p?void 0:p.inert),transitionProps:p.incoming.to,onTransitionEnd:i},d.children):h&&(m=Re.createElement(zC,{key:h.key,transitionProps:null===p||void 0===p?void 0:p.atRest},h.children));var v=null;f&&(v=g?f.initialContent:f.destinationContent);var y="new content in front"===((null===p||void 0===p?void 0:p.zOrder)||"new content in front"),_=Re.useRef(null),b=$p(t,_);return Re.createElement("ui-transition-container",{style:e.style,class:e.className,ref:b},y?v:null,m,y?null:v)})),{helpers:{cssTransition:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.initialState,r=void 0===n?"initial-state":n,i=t.incomingTransition,a=void 0===i?"incoming-transition":i,o=t.restState,s=void 0===o?"rest-state":o,c=t.outgoingTransition,l=void 0===c?"outgoing-transition":c,u=t.finalState,d=void 0===u?"final-state":u,h=t.inert,f=t.zOrder;return(e={incoming:{from:{className:r},to:{className:Be()(a,s)}},atRest:{className:s},outgoing:{from:{className:Be()(l,s)},to:{className:Be()(l,d)}},inert:h,zOrder:f})[BC]=!0,e},styleTransition:function(e){var t,n=e.initialState,r=e.incomingTransition,i=e.restState,a=e.outgoingTransition,o=e.finalState,s=e.inert,c=e.zOrder;return r="string"===typeof r?{transition:r}:r,a="string"===typeof a?{transition:a}:a,(t={incoming:{from:{style:n},to:{style:Object.assign({},i,r)}},atRest:{style:i},outgoing:{from:{style:Object.assign({},i,a)},to:{style:Object.assign({},o,a)}},inert:s,zOrder:c})[BC]=!0,t},cssAnimation:function(e){var t,n=e.incoming,r=e.atRest,i=e.outgoing;return(t={incoming:{from:{className:n},to:{className:n}},atRest:r?{className:r}:void 0,outgoing:{from:{className:i},to:{className:i}},inert:e.inert,zOrder:e.zOrder})[BC]=!0,t}}}),BC=Symbol("private UITransitionContainer symbol used to ensure the transition type, which is easy to misuse, and may change, stays internal.");function VC(e){switch(e){case"incoming":case"neither":return!1;case"outgoing":case"incoming and outgoing":case void 0:return!0}}function WC(e){switch(e){case"outgoing":case"neither":case void 0:return!1;case"incoming":case"incoming and outgoing":return!0}}function zC(e){var t=e.children,n=e.transitionProps,r=e.inert,i=e.onTransitionEnd,a=Re.useRef(null),o=Re.useCallback((function(e){i&&e.target===a.current&&i()}),[i]),s=null===n||void 0===n?void 0:n.className,c=null===n||void 0===n?void 0:n.style,l=r?"true":void 0;return Re.createElement("ui-content",{ref:a,class:s,style:c,inert:l,onTransitionEnd:o,onAnimationEnd:o},t)}var HC=UC.helpers.styleTransition({initialState:{opacity:0},incomingTransition:"opacity 0.2s ease-in-out",restState:{opacity:1},outgoingTransition:"opacity 0.2s ease-in-out",finalState:{opacity:0}});function GC(e){var t=xg().driveItemCache,n=Object(bd.g)((function(){return e.id?t.read(e.id):null}),[e.id,t]),r=n?Yu(n):void 0;"recents"===e.source&&(r=Nu("FilesGrid.SourceList.Source.Recents"));var i=Re.useRef(e.id);Re.useEffect((function(){i.current=e.id}),[e.id]);var a=Re.useRef(e.source);Re.useEffect((function(){a.current=e.source}),[e.source]);var o,s="browse"===e.source?e.id:e.source,c=Re.useState(s),l=c[0],u=c[1],d=s===l?"interactive":"transitioning",h=Re.useMemo((function(){if(a.current!==e.source)return"none";var n=i.current,r=e.id;if(!n||!r)return"none";var o=dy(n,t),s=dy(r,t);if(o.length===s.length)return"none";var c=o.length>s.length?o:s,l=o.length<s.length?n:r;return c.includes(l)?c===s?"away from root":"towards root":"none"}),[t,e.source,e.id]);if("none"===h)o=UC.helpers.styleTransition({initialState:{opacity:0},incomingTransition:"opacity 0.2s ease-in-out",restState:{opacity:1},outgoingTransition:"opacity 0.2s ease-in-out",finalState:{opacity:0}});else{var f="all 0.2s ease-in-out",p={transform:"translateX(150px)",opacity:0},g={transform:"translateX(0)",opacity:1},m={transform:"translateX(-150px)",opacity:0};o="away from root"===h?UC.helpers.styleTransition({initialState:p,incomingTransition:f,restState:g,outgoingTransition:f,finalState:m}):UC.helpers.styleTransition({initialState:m,incomingTransition:f,restState:g,outgoingTransition:f,finalState:p})}var v=(e.renderProviders||function(e){return e})(Re.createElement(Re.Fragment,null,Re.createElement(IC,{currentSource:e.source,title:r,folderId:e.id,trailingContent:e.trailingContent,getNavBarSubtitleForWidth:function(t){if(e.id)return e.getNavBarSubtitleForWidth(e.id,t)},onNavigate:e.navigateToFolder,style:e.style}),e.children(d)));return Re.createElement(Re.Fragment,null,Re.createElement(UC,{transition:o,className:"folder-contents-container",contentKey:s,onTransitionEnd:function(){u(s)}},v))}var $C=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"chevron.left",svgPath:"M6.25-35.2539C6.25-34.0332 6.68945-32.959 7.61719-32.0312L46.3379 5.81055C47.168 6.68945 48.2422 7.12891 49.5117 7.12891C52.0508 7.12891 54.0039 5.22461 54.0039 2.68555C54.0039 1.41602 53.4668 0.341797 52.6855-0.488281L17.1387-35.2539L52.6855-70.0195C53.4668-70.8496 54.0039-71.9727 54.0039-73.1934C54.0039-75.7324 52.0508-77.6367 49.5117-77.6367C48.2422-77.6367 47.168-77.1973 46.3379-76.3672L7.61719-38.4766C6.68945-37.5977 6.25-36.4746 6.25-35.2539Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:97.68503906249998,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 60.1500244140625 84.8134765625",width:60.1500244140625,height:84.8134765625,translateX:-6.250019531250018,translateY:77.63671875,baseline:77.63671875,capline:7.1767578125}}})},KC=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"chevron.right",svgPath:"M66.4551-35.2539C66.4551-36.4746 65.9668-37.5977 65.0391-38.4766L26.3672-76.3672C25.4883-77.1973 24.4141-77.6367 23.1445-77.6367C20.6543-77.6367 18.7012-75.7324 18.7012-73.1934C18.7012-71.9727 19.1895-70.8496 19.9707-70.0195L55.5176-35.2539L19.9707-0.488281C19.1895 0.341797 18.7012 1.41602 18.7012 2.68555C18.7012 5.22461 20.6543 7.12891 23.1445 7.12891C24.4141 7.12891 25.4883 6.68945 26.3672 5.81055L65.0391-32.0312C65.9668-32.959 66.4551-34.0332 66.4551-35.2539Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:97.68503906249998,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 60.2601318359375 84.8134765625",width:60.2601318359375,height:84.8134765625,translateX:-6.194965820312518,translateY:77.63671875,baseline:77.63671875,capline:7.1767578125}}})};function QC(){return QC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QC.apply(this,arguments)}function qC(e){var t=Re.useRef(null),n=xg().driveItemCache,r=Object(bd.g)((function(){if(!e.itemId)return[];var t=dy(e.itemId,n);if(!t)return[];var r=t.reverse();return r.push(e.itemId),r.some((function(e){return!n.has(e)}))?[]:r.map((function(e){return n.read(e)}))}),[n,e.itemId]),i=Cu(),a=Re.useState(),o=a[0],s=a[1];Re.useLayoutEffect((function(){t.current&&s(ZI(t.current))}),[i]);var c=Re.useState(),l=c[0],u=c[1],d=Re.useState(),h=d[0],f=d[1],p=Re.useState(),g=p[0],m=p[1];Re.useLayoutEffect((function(){var e=t.current;if(e){var n=window.getComputedStyle(e);m(Number(n.getPropertyValue("--widthOfFade").split("px")[0])),u(Number(n.getPropertyValue("--minItemWidth").split("px")[0])),f(Number(n.getPropertyValue("--itemTransitionDuration").split("ms")[0]))}}),[]);var v=Re.useState(),y=v[0],_=v[1];Re.useLayoutEffect((function(){t.current&&g&&_(t.current.getBoundingClientRect().width-2*g)}),[r,g]),SS((function(e){g&&_(e.width-2*g)}),t);var b=Re.useState([]),w=b[0],S=b[1];Re.useLayoutEffect((function(){var e=[],n=t.current;n&&(n.querySelectorAll(".path-items-measurer .path-bar-item").forEach((function(t){e.push(t.getBoundingClientRect().width)})),S(e))}),[r]);var E=Re.useState([]),I=E[0],C=E[1];return Re.useLayoutEffect((function(){var e=function(){var e=[];if(y&&w&&w.length===r.length&&l){if(!(w.reduce((function(e,t){return e+t}),0)-y>0&&r.length>1))return w;if(r.length>=4){var t=Math.max(r.length-3,0),n=l*t,i=y-(w[0]+w[r.length-2]+w[r.length-1]),a=y-(n+w[r.length-2]+w[r.length-1]),o=y-(l+n+w[r.length-1]),s=a>=l;if(i>=n){e.push(w[0]);var c=function(e,t){for(var n=[],r=0;r<e.length;r++)n.push({value:e[r],position:r});n.sort((function(e,t){return e.value<t.value?-1:e.value>t.value?1:0}));for(var i=0,a=[],o=(t-i)/n.length,s=0;s<n.length;s++){var c=n[s];a.push(c),c.value<o?(i+=c.value,n.length-(s+1)>0&&(o=(t-i)/(n.length-(s+1)))):a[s].value=o}for(var l=[],u=0;u<a.length;u++){var d=a[u];l[d.position]=d.value}return l}(w.slice(1,w.length-2),i);return e.push(...c),e.push(w[r.length-2]),e.push(w[r.length-1]),e}if(s){e.push(a);for(var u=1;u<r.length-2;u++)e.push(l);return e.push(w[r.length-2]),e.push(w[r.length-1]),e}e.push(l);for(var d=1;d<r.length-2;d++)e.push(l);return e.push(Math.max(o,l)),e.push(w[r.length-1]),e}if(3===r.length){var h=y-(w[r.length-2]+w[r.length-1]),f=y-(l+w[r.length-1]);return h>=l?(e.push(h),e.push(w[r.length-2]),e.push(w[r.length-1]),e):(e.push(l),e.push(Math.max(f,l)),e.push(w[r.length-1]),e)}if(2===r.length){var p=y-w[r.length-1];return e.push(Math.max(p,l)),e.push(w[r.length-1]),e}return 1===r.length?(e.push(w[r.length-1]),e):void 0}}();e&&C(e)}),[w,l,r,y]),Re.createElement("nav",{className:"path-bar","aria-label":Au("StatusBar.PathBar"),ref:t},Re.createElement("ol",null,r.map((function(t,n,r){var i=n<r.length-1;return Re.createElement(ZC,{key:t.id,item:t,isNavigable:i,isLast:n===r.length-1,isRTL:o,constrainedWidth:I[n],unconstrainedWidth:w[n],onDragTargetChanged:e.onDragTargetChanged,onDragTargetCleared:e.onDragTargetCleared,onMove:e.onMove,onUpload:e.onUpload,onTrashItems:e.onTrashItems,showOutOfQuotaAlert:e.showOutOfQuotaAlert,onNavigate:e.onNavigate,PATH_BAR_ITEM_TRANSITION_DURATION:h})}))),Re.createElement("div",{className:"path-items-measurer","aria-hidden":!0},r.map((function(e,t,n){return Re.createElement("li",{className:"path-bar-item",key:e.id+"-crumb"},Re.createElement("button",{tabIndex:-1},Re.createElement(_C,{folder:e,desiredFontSize:8.43,className:"path-bar-item-type-icon"}),Re.createElement("div",{className:"path-bar-item-title"},Yu(e)),t<n.length-1?Re.createElement(Re.Fragment,null,Re.createElement("div",{className:"path-bar-item-spacer"}),Re.createElement(YC,{isRTL:o})):null))}))))}function ZC(e){var t=e.item,n=e.isNavigable,r=e.isLast,i=e.isRTL,a=e.constrainedWidth,o=e.unconstrainedWidth,s=e.onDragTargetChanged,c=e.onDragTargetCleared,l=e.onMove,u=e.onUpload,d=e.onTrashItems,h=e.showOutOfQuotaAlert,f=e.onNavigate,p=e.PATH_BAR_ITEM_TRANSITION_DURATION,g=t.id,m=Fu(g),v=Re.useRef(null);function y(){v.current&&(v.current.classList.add("animate-size"),v.current.style.width=o+"px")}function _(){v.current&&(v.current.style.width=a+"px",window.setTimeout((function(){var e;null==(e=v.current)||e.classList.remove("animate-size")}),p))}var b=Re.useState(!1),w=b[0],S=b[1],E=gy(m?{id:g,onFilesDragEnter:function(){S(!0),y()},onFilesDragLeave:function(){_()},onDragTargetChanged:s,onDragTargetCleared:c,onMove:l,onUpload:u,onTrashItems:d,onFilesDragOverComplete:function(){S(!1)},showOutOfQuotaAlert:h}:void 0),I=m&&n;return Re.createElement("li",{ref:v,className:"path-bar-item",key:g+"-crumb",style:{width:a}},Re.createElement("button",QC({disabled:!I,className:Be()(w?"drag-hover":void 0)},E,{onClick:function(){I&&f(g)},onMouseOver:y,onFocus:y,onMouseOut:_,onBlur:function(e){_(),e.target.classList.remove("active")},onKeyDown:function(e){" "===e.key&&e.target.classList.add("active")},onKeyUp:function(e){" "===e.key&&e.target.classList.remove("active")}}),Re.createElement(_C,{folder:t,desiredFontSize:8.43,className:"path-bar-item-type-icon"}),Re.createElement("div",{className:"path-bar-item-title"},Yu(t))),r?null:Re.createElement(Re.Fragment,null,Re.createElement("div",{className:"path-bar-item-spacer"}),Re.createElement(YC,{isRTL:i})))}var YC=function(e){var t={className:"icon",desiredFontSize:8.43,"aria-hidden":!0,layoutMode:"glyphBox"};return Re.createElement("div",{className:"path-bar-separator-icon"},e.isRTL?Re.createElement($C,t):Re.createElement(KC,t))};function XC(e){var t=e.currentWorkingDirectoryId;return Re.createElement("footer",{className:"app-footer"},Re.createElement(qC,{itemId:"recents"===e.currentSource||"shared"===e.currentSource?void 0:t,onNavigate:e.onNavigate,onMove:e.onMove,onUpload:e.onUpload,onTrashItems:e.onTrashItems,onDragTargetChanged:e.onDragTargetChanged,onDragTargetCleared:e.onDragTargetCleared,showOutOfQuotaAlert:e.showOutOfQuotaAlert}))}var JC=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"xmark",svgPath:"M13.7207 2.24609C15.4297 3.90625 18.2617 3.90625 19.9219 2.24609L51.1719-29.0039L82.4219 2.24609C84.082 3.90625 86.9629 3.95508 88.623 2.24609C90.2832 0.537109 90.2832-2.24609 88.623-3.90625L57.373-35.2051L88.623-66.4551C90.2832-68.1152 90.332-70.9473 88.623-72.6074C86.9141-74.3164 84.082-74.3164 82.4219-72.6074L51.1719-41.3574L19.9219-72.6074C18.2617-74.3164 15.3809-74.3652 13.7207-72.6074C12.0605-70.8984 12.0605-68.1152 13.7207-66.4551L44.9707-35.2051L13.7207-3.90625C12.0605-2.24609 12.0117 0.585938 13.7207 2.24609Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:82.83503906250007,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 77.4356689453125 77.479248046875",width:77.4356689453125,height:77.479248046875,translateX:-12.457197265624927,translateY:73.9696044921875,baseline:73.9696044921875,capline:3.5096435546875}}})},eO="../8d1eefa70a0340800cf2bd7914287f78.png",tO="../cb4203401e4101e04d14f12b4c9966ad.png",nO="../0ada6f6cc944bec7505b99974f653d31.png",rO="../b6debf6fbc008dc9ebb2eba5d7cea2b9.png",iO="../ffa19ca68c55524ff8b3860b08de52e0.png",aO="../94b1c36c6d232e0a71b03837ed4d8099.png",oO=function(e){var t=e.extension,n=e.size;if(lO(t)){var r=cO(t),i=r.image1x,a=r.image2x;return Re.createElement("div",{className:"iwork-file-icon-overlay"},Re.createElement(Qp,{alt:"",src:i,srcSet:i+", "+a+" 2x"}))}if(uO(t)){var o=sO(t,n),s=o.image1x,c=o.image2x;return Re.createElement("div",{className:"file-icon-overlay"},Re.createElement(Qp,{alt:"",src:s,srcSet:s+", "+c+" 2x"}))}return null},sO=function(e,t){var n=e.replace(/ /g,"").toLowerCase();if(!fO(n))throw new Error("extension '"+n+"' lacks file type icon!");var r=pO[n],i=r+"2x";if(44===t){var a=r+"20pt",o=a+"2x";return{image1x:mO[a],image2x:mO[o]}}return{image1x:mO[r],image2x:mO[i]}},cO=function(e){var t=e.replace(/ /g,"").toLowerCase();if(!hO(t))throw new Error("'"+t+"' is not an iWork extension!");var n=dO[t],r=n+"2x";return{image1x:gO[n],image2x:gO[r]}},lO=function(e){return e.replace(/ /g,"").toLowerCase()in dO},uO=function(e){return e.replace(/ /g,"").toLowerCase()in pO},dO={key:"keynote-file",keynote:"keynote-file","key-tef":"keynote-file","keynote-tef":"keynote-file",kth:"keynote-file",pages:"pages-file","pages-tef":"pages-file",template:"pages-file",numbers:"numbers-file","numbers-tef":"numbers-file",nmbtemplate:"numbers-file"},hO=function(e){return e in dO},fO=function(e){return e in pO},pO={png:"image",jpeg:"image",jpg:"image",gif:"image",bmp:"image",tif:"image",tiff:"image",aac:"audio",wav:"audio",m4a:"audio",m4p:"audio",aiff:"audio",midi:"audio",wave:"audio",mp3:"audio",mp4:"video",m4v:"video",mov:"video",vcf:"vcard",vcard:"vcard",eml:"email",crt:"cert",csr:"cert",ical:"cal",ics:"cal",ifb:"cal",vpn:"vpn",doc:"msword",docx:"msword",xlam:"msexcel",xls:"msexcel",xlsx:"msexcel",ppt:"msppoint",pptx:"msppoint",rtf:"rtf",txt:"txt",csv:"csv",mobileprovision:"prov-profile"},gO={"keynote-file":eO,"keynote-file2x":tO,"numbers-file":nO,"numbers-file2x":rO,"pages-file":iO,"pages-file2x":aO},mO={image:"../14661c347468c79e79a773ff7a877d1d.png",image2x:"../905698532c1eeb3efaee2101fe0d989d.png",image20pt:"../b6bc36d7dcd4675ab1d97b63794355b1.png",image20pt2x:"../d164922fda0f69668e442794100bd95c.png",audio:"../04a38c152280397dc063e3499649393f.png",audio2x:"../d3ca5f0bbb919c868718f9e97a0e08c9.png",audio20pt:"../6f7ad7847417e55306c3147ecd3872a4.png",audio20pt2x:"../6a0f11439521d92f5d1cbed88e5566c0.png",video:"../70f689947815c987b8a2a52952ff0e6d.png",video2x:"../8706e7a200f2bc0f4d1cfb88c09079ec.png",video20pt:"../887819a6588f39961cd3663a0eff0475.png",video20pt2x:"../c1832d0e9f26e63a2a5b5f84bb31a258.png",vcard:"../9aa10476b67feb488dc19a9cfdd60e59.png",vcard2x:"../b6fc625ed8dba4eb2cfb71ac102fe2b9.png",vcard20pt:"../86b57f0cf13b99c3b4afd502e2de1ca5.png",vcard20pt2x:"../6cc8cc3f06ffbb6355f0237a3ca004ae.png",msword:"../873b4800cccfb006b16dbca3901ff99e.png",msword2x:"../a5169dcb5207c7af5ad970e4fe22b672.png",msword20pt:"../0e0a29856242598f350f5c09503d2966.png",msword20pt2x:"../d113eda74a06ddbe68212dc1e782ab09.png",msexcel:"../40d34bf265e965d28a6cd6f3fd1014b9.png",msexcel2x:"../04b5e9dfb9ee4a1e64088da702d77333.png",msexcel20pt:"../16d3722dcc5fa6ace0958135690ab5e2.png",msexcel20pt2x:"../75fab01f78dce5edfc1cf5b176ae0bfe.png",msppoint:"../091509f76142ff8d991db89403782110.png",msppoint2x:"../9b31414711da520276872727dc0f7d22.png",msppoint20pt:"../7c213e02be9949374c965799a4a82175.png",msppoint20pt2x:"../64c91005b54be5cf83d0a2700a4bd707.png",rtf:"../038f5c577c44bb81e9b243605275a976.png",rtf2x:"../80b35abdd542872023465c53ec3864d6.png",rtf20pt:"../3cd1ed430bef5728daa7fea1be1d5a45.png",rtf20pt2x:"../3dc0408178d15bfaf585588fd99d997e.png",txt:"../479899a0ee5856f236d47a9754443e97.png",txt2x:"../ed7036e6a9a03c540dccea182ab4dee8.png",txt20pt:"../cae4d2980bf5f4c6f6f9501a62da8bb0.png",txt20pt2x:"../36811af6f3d12a88d634489bc55ec8b3.png",email:"../dbfcbabe59e0b74c51ee15f6a5f19c3d.png",email2x:"../98b3c3c85312453c8e6449bf5d15e49c.png",email20pt:"../dc98dab6862dd12c85504b54a4b3dd8e.png",email20pt2x:"../8e0433d6cd6e7e35fd373b970b3d3f89.png",cert:"../e5028db23666d467e22fd0dfe0e8208d.png",cert2x:"../31924743636601c9524e43906ec9fb20.png",cert20pt:"../711dc697de55f428e37ba36e8c81a992.png",cert20pt2x:"../e5ef4da890e82a22e2f939d0782875b2.png",cal:"../08c1b8b1a150104a8ce00980a2510622.png",cal2x:"../e4f82586686bb57612b6e5d240f401c5.png",cal20pt:"../a0f0213d2a1bf838a9839d5ddca8fcba.png",cal20pt2x:"../85535dcb7eaa0dfb2418c64beb96ee07.png","prov-profile":"../4e9331741f42538b2d1e09293895f13e.png","prov-profile2x":"../1914dd15b7a7eb17a4f0ccef4b0f86c3.png","prov-profile20pt":"../8ad3283d94b81b15fd26bb6cf1a7d900.png","prov-profile20pt2x":"../59a2b12ce497fcc3fb61fc296ed7aa2d.png",vpn:"../3ac2a571a702ab85597b9fc847b36364.png",vpn2x:"../13a42887cbc00784283d2449b6d3d430.png",vpn20pt:"../04445b43ec3e67421e176c67d6b038b0.png",vpn20pt2x:"../cdaa35ff5b686f53d4fe3bb55a280ac3.png",csv:"../641fb19aec0b28eb7f231a5e60076b1c.png",csv2x:"../2c694296383fab9f468d7e9ef9195e99.png",csv20pt:"../08f93a7be8cece92382ab484f26473b2.png",csv20pt2x:"../6cc05764edbb0fd38378a6ddb1cc7afd.png"};function vO(){return vO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vO.apply(this,arguments)}var yO=function(e){var t=e.showItemActionMenu,n=e.id,r=e.hideQuickLook,i=Re.useRef(null),a="pointer-coarse"===Up();return Re.createElement(AS,{ref:i,className:Be()("preview-menu-icon","icon"),ariaLabel:Au("FilesGrid.Cell.ActionMenu.Tooltip"),showMenu:function(e){t(new Set([n]),i,e,"previewAction","quick-look",r)}},Re.createElement(VE,{className:"meatball-icon",layoutMode:"glyphBox",desiredFontSize:a?18:15}))},_O=Re.forwardRef((function(e,t){var n=e.id,r=e.hideQuickLook,i=e.openFile,a=e.downloadFile,o=(e.recoverFile,e.purgeFile,e.showItemActionMenu),s=uw(n),c=i&&Vu(s)&&!!s.extension&&lO(s.extension),l=hy(n).includes(Gu),u="pointer-coarse"===Up(),d=Re.createElement(Re.Fragment,null,c?Re.createElement(Gp,{className:"open-file",onActivate:function(){_u("previewAction","open"),i(n)}},Nu("Common.Open")):null,a?Re.createElement(Cw,{onActivate:function(){_u("previewAction","download"),a(n)},selection:new Set([n]),desiredFontSize:u?17:15}):null,Re.createElement(yO,{showItemActionMenu:o,id:n,hideQuickLook:r})),h=Re.createElement(Re.Fragment,null,a?Re.createElement(Cw,{onActivate:function(){_u("previewAction","download"),a(n)},selection:new Set([n]),desiredFontSize:u?17:15}):null,Re.createElement(yO,{showItemActionMenu:o,id:n,hideQuickLook:r}));return Re.createElement("div",{className:"quick-look-content",ref:t},Re.createElement("div",{className:"quick-look-header"},Re.createElement("div",{className:"left-toolbar"},Re.createElement(Gp,{className:"cancel",onActivate:r},Re.createElement(JC,{className:"x-mark",desiredFontSize:u?18:15,layoutMode:"glyphBox"})),Re.createElement(bO,{id:n})),Re.createElement("div",{className:"right-toolbar"},l?h:d)),Re.createElement("span",{className:"separator"}),Re.createElement("div",{className:"quick-look-image"},Re.createElement(Zb,{item:s,size:128,className:"quick-look"})))})),bO=function(e){var t=uw(e.id),n=Vu(t)&&t.extension?t.extension.toLowerCase():"",r=t.name+"."+n;return Re.createElement("div",{className:"file-title-wrapper"},n?Re.createElement(oO,{extension:n,size:44}):null,Re.createElement("div",{className:"file-title"},r))};function wO(e){var t=CO(e);return function(e,n){var r=IO(t,e,n);if(void 0!==r)return r;TO(e),TO(n);var i=e.extension,a=n.extension;return!i&&a?1:i&&!a?-1:i||a?t(i,a)||EO(t,e,n)||OO(e.id,n.id):EO(t,e,n)}}function SO(e){var t=CO(e);return function(e,n){var r=IO(t,e,n);if(void 0!==r)return r;TO(e),TO(n);var i=zu(e),a=zu(n);return i||a?!i&&a?1:i&&!a?-1:-OO(i,a)||EO(t,e,n)||OO(e.id,n.id):0}}function EO(e,t,n){return e(Yu(t),Yu(n))}function IO(e,t,n){var r="FOLDER"===t.type||"APP_LIBRARY"===t.type,i="FOLDER"===n.type||"APP_LIBRARY"===n.type;return r&&!i?-1:i&&!r?1:r&&i?EO(e,t,n):void 0}function CO(e){return Intl.Collator?new Intl.Collator(e,{numeric:!0}).compare:OO}function OO(e,t){return e<t?-1:e>t?1:0}function TO(e){if(!Vu(e))throw new Error("Sort comparators: expected file object")}var AO=function(e){for(var t=e.selection,n=Array.from(t),r=[],i=0;i<3;i++)n[i]&&r.push(Re.createElement(dw,{size:44,id:n[i],key:n[i]}));var a=n.length>1?"showcase stacked":"showcase";return Re.createElement("figure",{className:a},r)};function NO(e){var t=e.showcaseText,n=e.selection;return Re.createElement("div",{className:"move-items-showcase-bar"},Re.createElement(AO,{selection:n}),Re.createElement("div",{className:"showcase-text"},t))}function MO(e){var t=Cu(),n=function(){var e=Object(Re.useState)((function(){return Iu(Object(wu.b)())})),t=e[0],n=e[1];return Object(Re.useEffect)((function(){var e=Object(wu.e)((function(e){return n(Iu(e))}));return function(){return e()}}),[]),t}(),r=e.loadSubfolderIds,i=e.setSelectedDestinationId,a=e.selectedFolderId,o=e.folderIdToRefresh,s=e.isRootFolder,c=void 0!==s&&s,l=e.depth,u=void 0===l?0:l,d=e.selection,h=c?Hu:e.id,f=uw(h),p=Re.useReducer(zO,WO),g=p[0],m=p[1],v=Re.useMemo((function(){return nT(d,h)}),[h,d]),y=Re.useMemo((function(){return QO(d,h)}),[h,d]),_=c||h===Gu,b=!v&&!_,w=Re.useRef(!1);Re.useEffect((function(){return w.current=!0,c&&m(jO()),function(){w.current=!1}}),[c]);var S=Re.useRef(!1);Re.useEffect((function(){!1!==S.current||!g.isLoading&&o!==a||(S.current=!0,r(a).then((function(e){if(S.current=!1,!0===w.current)return e.ok?m(BO(e.value)):m(VO(e.error))})).catch((function(e){!0===w.current&&m(VO([e]))})))}),[a,g.isLoading,o,r]);var E={transform:g.isExpanded&&!g.isLoading?n?"rotate(-90deg)":"rotate(90deg)":"rotate(0deg)"},I=n?Re.createElement($C,{desiredFontSize:DO,style:E}):Re.createElement(KC,{desiredFontSize:DO,style:E}),C=KO(a,h)?" is-selected":"";return Re.createElement(Re.Fragment,null,Re.createElement("div",{className:"move-list-item"+C+(c?" root-item":"")},Re.createElement("div",{className:"title","aria-disabled":b&&!y,onClick:function(){!f||b&&!y||(i(h),m($O(u,g.isExpanded)),m(UO(!g.isExpanded||c)))},style:{paddingInlineStart:(u>=RO?RO*g.nestedMoveListItemPaddingInlineStart:u*g.nestedMoveListItemPaddingInlineStart)+"px",transition:"padding 0 400ms"}},Re.createElement("span",{className:"item-image",style:{marginInlineStart:g.nestedMoveListItemMarginInlineStart+"px"}}),Re.createElement("div",{className:"title-wrapper"},Re.createElement("span",{className:"title-text"},_&&Mu(t,"Common.Application.Title")||f&&f.name),y&&!c&&Re.createElement("div",{className:"indicators"},g.isLoading&&Re.createElement(yp,{description:"Item contents loading"}),g.hasError&&!g.isLoading&&Re.createElement(zw,{desiredFontSize:DO}),I))),Re.createElement("div",{className:"list "+(g.isExpanded?"is-expanded":"is-collapsed")},g.isExpanded&&g.data&&g.data.map((function(e){return Re.createElement(MO,{id:e,key:e,depth:u+1,selectedFolderId:a,folderIdToRefresh:o,setSelectedDestinationId:i,selection:d,loadSubfolderIds:r,isRootFolder:e===Hu})})))))}var DO=14,RO=13,LO="HIDE_ITEM",kO="SHOW_ITEM_REQUEST",xO="SHOW_ITEM_SUCCESS",FO="SHOW_ITEM_FAIL",PO="UPDATE_LIST_INDENTATION",jO=function(){return{type:kO}},UO=function(e){return e?jO():{type:LO}},BO=function(e){return{type:xO,payload:e}},VO=function(e){return{type:FO,payload:e}},WO={isExpanded:!1,isLoading:!1,hasError:!1,data:null,nestedMoveListItemMarginInlineStart:20,nestedMoveListItemPaddingInlineStart:40,isTightenedDepth:!1,isMaxDepth:!1,isNormalDepth:!0};function zO(e,t){switch(t.type){case LO:return Object.assign({},e,{isExpanded:!1});case kO:return Object.assign({},e,{isExpanded:!0,isLoading:!0,hasError:!1});case xO:return Object.assign({},e,{isLoading:!1,hasError:!1,data:t.payload});case FO:return Object.assign({},e,{isLoading:!1,hasError:!0,errors:t.payload});case PO:return Object.assign({},e,{nestedMoveListItemMarginInlineStart:t.payload.nestedMoveListItemMarginInlineStart,nestedMoveListItemPaddingInlineStart:t.payload.nestedMoveListItemPaddingInlineStart,isTightenedDepth:t.payload.isTightenedDepth,isMaxDepth:t.payload.isMaxDepth,isNormalDepth:t.payload.isNormalDepth});default:throw new Error("Unsupported action")}}var HO=0,GO=!0,$O=function(e,t){var n=20,r=40,i=!1,a=!1,o=!0;return e>=RO?(o=!1,i=!1,a=!0):e>=4&&(o=!1,i=!0,a=!1),(HO>=4||e>=4)&&(r=10,n=10),!GO&&o&&(n=20,r=40),HO=(GO=HO>e?GO&&!t:!t)&&HO>e?HO:e,{type:PO,payload:{nestedMoveListItemMarginInlineStart:n,nestedMoveListItemPaddingInlineStart:r,isTightenedDepth:i,isMaxDepth:a,isNormalDepth:o}}},KO=function(e,t){return"string"===typeof e&&"string"===typeof t&&e===t},QO=function(e,t){return e.every((function(e){return e.id!==t}))},qO=function(e){var t=e.loadSubfolderIds,n=e.moveItems,r=e.hideModal,i=e.createFolder,a=Re.useRef(e.selection).current,o=Re.useReducer(iT,rT),s=o[0],c=o[1],l=Cu(),u=xg().driveItemCache,d=Object(bd.g)((function(){return Array.from(a).map((function(e){var t=u.read(e);if(!t)throw new Error("Id is not loaded in cache");return t}))}),[a,u]),h=Re.useState(Hu),f=h[0],p=h[1],g=uw(f),m=uw(Hu),v=Re.useMemo((function(){return nT(d,f)}),[f,d]),y=Re.useMemo((function(){var e=g.name,t=1===d.length?"Single":"Plural";return!1!==v&&e&&m.name&&f&&f!==Hu?Mu(l,"MoveItems.Header.Specific."+t,{selectionName:e,rootName:m.name}):Mu(l,"MoveItems.Header.Generic."+t)}),[g,d,m,f,v,l]),_=Re.useMemo((function(){var e;return 1===d.length?null!=(e=d[0].name)?e:"":Mu(l,"MoveItems.Selection.Plural",{selectionLength:d.length})}),[d,l]),b=Re.useRef(!1);return Re.useEffect((function(){!0===s.isMovingItems&&f&&(r(),b.current||(n(d.map((function(e){return e.id})),f),b.current=!0))}),[s.isMovingItems,f,d,n,r]),Re.useEffect((function(){s.data&&(p(f),c({type:eT,payload:f}))}),[s.data,f]),Re.useEffect((function(){if(!0===s.isCreatingFolder&&g){if(!$u(g))throw new Error("Can only create directory inside a folder!");r(),i(g).then((function(e){var t=e.ok?{type:XO,payload:e.value}:{type:JO,payload:e.error};c(t)}))}}),[s.isCreatingFolder,g,r,i]),Re.createElement(Re.Fragment,null,Re.createElement("header",null,Re.createElement("div",{className:"move-card-toolbar"},Re.createElement("div",{className:"left-toolbar"},Re.createElement(Gp,{className:"cancel",onActivate:r},Mu(l,"Common.Cancel"))),Re.createElement("div",{className:"right-toolbar"},i?Re.createElement(Gp,{className:"new-folder",onActivate:function(){c({type:YO})}},Re.createElement(CI,{desiredFontSize:tT})):null,Re.createElement(Gp,{disabled:!1===v,onActivate:function(){return c({type:ZO})}},Mu(l,"Common.Move")))),Re.createElement("div",{className:"title-bar"},y),Re.createElement(NO,{showcaseText:_,selection:a})),Re.createElement("div",{className:"scrollable-content"},Re.createElement(MO,{id:Hu,isRootFolder:!0,selectedFolderId:f,folderIdToRefresh:s.folderIdToRefresh,selection:d,loadSubfolderIds:t,setSelectedDestinationId:p})))},ZO="MOVE_ITEMS",YO="CREATE_FOLDER_REQUEST",XO="CREATE_FOLDER_SUCCESS",JO="CREATE_FOLDER_FAIL",eT="ITEM_CONTENTS_CHANGE",tT=12.3,nT=function(e,t){return e.every((function(e){return Vu(e)?e.parentId!==t:!!$u(e)&&e.parentId!==t&&e.id!==t}))},rT={isMovingItems:!1,isCreatingFolder:!1,folderIdToRefresh:null,data:null,hasError:!1,headerText:null},iT=function(e,t){switch(t.type){case ZO:return Object.assign({},e,{isMovingItems:!0,folderIdToRefresh:null});case YO:return Object.assign({},e,{isCreatingFolder:!0,hasError:!1,folderIdToRefresh:null});case XO:return Object.assign({},e,{isCreatingFolder:!1,hasError:!1,folderIdToRefresh:null,data:t.payload});case JO:return Object.assign({},e,{isCreatingFolder:!1,folderWasCreated:!1,hasError:!0,folderIdToRefresh:null,data:t.payload});case eT:return Object.assign({},e,{folderIdToRefresh:t.payload});default:throw new Error("Unsupported action")}},aT=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"chevron.up.circle",svgPath:"M58.5449 14.5508C85.791 14.5508 108.35-8.05664 108.35-35.2539C108.35-62.5 85.7422-85.0586 58.4961-85.0586C31.2988-85.0586 8.74023-62.5 8.74023-35.2539C8.74023-8.05664 31.3477 14.5508 58.5449 14.5508ZM58.5449 6.25C35.498 6.25 17.0898-12.207 17.0898-35.2539C17.0898-58.3008 35.4492-76.7578 58.4961-76.7578C81.543-76.7578 100-58.3008 100.049-35.2539C100.098-12.207 81.5918 6.25 58.5449 6.25ZM34.4238-23.9258C35.8887-22.3633 38.2812-22.3633 39.6484-23.8281L58.5449-43.8477L77.4414-23.8281C78.8574-22.3633 81.25-22.3633 82.666-23.9258C84.0332-25.2441 83.9844-27.5391 82.5195-29.0527L63.3789-49.4141C60.3027-52.6367 56.7871-52.6367 53.7598-49.4141L34.5703-29.0527C33.1055-27.5391 33.0566-25.2441 34.4238-23.9258Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.46503906249995,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 99.6099853515625 99.6572265625",width:99.6099853515625,height:99.6572265625,translateX:-8.740039062500045,translateY:85.05859375,baseline:85.05859375,capline:14.5986328125}}})},oT=function(e){return Object(Re.createElement)(ty,{originalProps:e,metadata:{name:"chevron.down.circle",svgPath:"M58.5449 14.5508C85.791 14.5508 108.35-8.05664 108.35-35.2539C108.35-62.5 85.7422-85.0586 58.4961-85.0586C31.2988-85.0586 8.74023-62.5 8.74023-35.2539C8.74023-8.05664 31.3477 14.5508 58.5449 14.5508ZM58.5449 6.25C35.498 6.25 17.0898-12.207 17.0898-35.2539C17.0898-58.3008 35.4492-76.7578 58.4961-76.7578C81.543-76.7578 100-58.3008 100.049-35.2539C100.098-12.207 81.5918 6.25 58.5449 6.25ZM63.3789-19.5312L82.5195-39.8438C83.9844-41.4062 84.0332-43.6523 82.666-45.0195C81.1523-46.5332 78.8086-46.582 77.4414-45.1172L58.5449-25.0977L39.6484-45.1172C38.2324-46.582 35.8398-46.582 34.375-45.0195C33.0566-43.6035 33.1055-41.4062 34.5215-39.8438L53.7109-19.5312C56.7383-16.2598 60.3027-16.2598 63.3789-19.5312Z",layoutBox:{viewBox:"0 0 268.0201416015625 158.116943359375",width:268.0201416015625,height:158.116943359375,translateX:75.46503906249995,translateY:114.2884521484375,baseline:114.2884521484375,capline:43.8284912109375},glyphBox:{viewBox:"0 0 99.6099853515625 99.6572265625",width:99.6099853515625,height:99.6572265625,translateX:-8.740039062500045,translateY:85.05859375,baseline:85.05859375,capline:14.5986328125}}})};function sT(e){var t=e.uploadingItemIds,n=e.cancelUpload,r=e.onCardShow,i=e.onCardHide,a=xg(),o=mI(t),s=o.lifetimeIds,c=o.cancelledIdsRef,l=a.uploadProgressCache,u=Object(bd.g)((function(){var e=s.reduce((function(e,t){var n=l.get(t);if(!n)return e;var r=n.bytesCompleted,i=n.bytesTotal;return e[0]+=r,e[1]+=i,e}),[0,0]),t=e[0],n=e[1];return 0===n?0:t/n}),[l,s]),d=function(){g(),i()},h="upload-card",f=Qe(Re.createElement(kg,{caches:a},Re.createElement(vg.Provider,{value:Re.useContext(vg)},Re.createElement("ui-card",{role:"dialog","aria-labelledby":h},Re.createElement(fw,{title:Au("UploadCard.Title"),labelledById:h,inlineEndButton:Re.createElement(Gp,{className:"close-button",onActivate:d},Au("UploadCard.Button.Close"))},Re.createElement("section",{className:"upload-items",role:"list"},s.map((function(e){return Re.createElement(gI,{key:e,itemId:e,onCancelUpload:function(e){c.current.push(e),n(e)}})}))))),Re.createElement(cT,{itemCount:s.length,fractionCompleted:u,onActivate:d,isPanelOpen:!0}))),{className:"for-ui-card standard upload-card-pane"}),p=f[0],g=f[1];return Re.createElement(cT,{itemCount:s.length,fractionCompleted:u,isPanelOpen:!1,onActivate:function(){r(),p()}})}var cT=function(e){var t,n=e.itemCount,r=e.fractionCompleted,i=e.isPanelOpen,a=e.onActivate;t=nC(1===r?["UploadBar.StatusText.Completed.0","UploadBar.StatusText.Completed.1","UploadBar.StatusText.Completed.2","UploadBar.StatusText.Completed.Multiple"]:["UploadBar.StatusText.InProgress.0","UploadBar.StatusText.InProgress.1","UploadBar.StatusText.InProgress.2","UploadBar.StatusText.InProgress.Multiple"],n,{count:n});var o="upload-progress-status";return Re.createElement(Gp,{ariaHasPopup:i?void 0:"dialog",className:"upload-bar",onActivate:a},Re.createElement("div",{role:"progressbar","aria-describedby":o,"aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,className:"progress",style:{width:100*r+"%",display:r?"inline-block":"none"}}),Re.createElement("div",{className:"text-container",id:o},i?Re.createElement(oT,{className:"chevron-icon",desiredFontSize:9.2}):Re.createElement(aT,{className:"chevron-icon",desiredFontSize:9.2}),t))},lT=function(e){var t,n=e.selection,r=e.onRecoverActivate,i=e.onPurgeActivate,a=e.onRecoverAllActivate,o=e.onPurgeAllActivate,s=Cu(),c=Re.useContext(jm),l=void 0===(t=c)?"loading":!1===t.ok?"errored":"loaded",u=null!=c&&c.ok?c.value:void 0,d="loaded"===l&&(null==u?void 0:u.length)&&u.length>0;return Re.createElement("trash-footer",null,null!=n&&n.size&&null!=u&&u.length&&n.size<u.length?Re.createElement(Re.Fragment,null,Re.createElement(Gp,{variant:"block secondary",className:"recover-button",onActivate:r},Mu(s,"TrashToolbar.Button.Recover.Title")),Re.createElement(Gp,{variant:"block secondary destructive",className:"delete-button",onActivate:i},Mu(s,"TrashToolbar.Button.Delete.Title"))):Re.createElement(Re.Fragment,null,Re.createElement(Gp,{variant:"block secondary",className:"recover-all-button",disabled:!d,onActivate:a},Mu(s,"TrashToolbar.Button.Recover.All.Title")),Re.createElement(Gp,{variant:"block secondary destructive",className:"purge-all-button",disabled:!d,onActivate:o},Mu(s,"TrashToolbar.Button.Delete.All.Title"))))},uT=function(e){var t,n=Re.useRef(null),r=Re.useRef(),i=QI(n,{showSelect:e.showSelect,showView:e.showView,showSort:e.showSort,onClose:function(){return null==r.current?void 0:r.current()}})[0],a="list"===Qm()?Re.createElement($I,{layoutMode:"glyphBox"}):Re.createElement(KI,{layoutMode:"glyphBox"}),o=Km(),s=Au("SortMenu.SortBy.Date"),c=Au("SortMenu.SortBy.Size"),l=Au("SortMenu.SortBy.Name"),u=Au("SortMenu.SortBy.Kind"),d=null!=(t=e.buttonContentOverride)?t:Re.createElement(Re.Fragment,null,e.showView&&a,e.showSort&&Re.createElement("span",null,function(e){switch(e){case"DateModified":return s;case"Size":return c;case"Name":return l;case"Kind":return u;default:return""}}(o)));return Re.createElement(AS,{showMenu:function(e){r.current=e,i()},ref:n,variant:"push secondary icon",className:"view-sort-combo-menu"},d)},dT=["viewMode","showItemActionMenu"];function hT(){return hT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hT.apply(this,arguments)}function fT(e){var t=Object.assign({},e),n=Cu(),r=Re.useContext(xm),i=Qm(),a=zg();if(null==r||!r.ok)return Re.createElement(vS,{message:Mu(n,"Shared.Error.Message"),description:Mu(n,"Shared.Error.Description")});var o=r.value,s=o.hasResults,c=o.isLoading;return!s&&c||!i?Re.createElement(mS,null):Re.createElement(Re.Fragment,null,Re.createElement(IC,{currentSource:"shared",title:Nu("FilesGrid.SourceList.Source.Shared"),trailingContent:"file-picker"===a&&t.trailingContent}),Re.createElement(pT,hT({},t,{viewMode:i})))}function pT(e){var t=e.viewMode,n=e.showItemActionMenu,r=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,dT),i=Re.useState(!1),a=i[0],o=i[1],s=a?"action-menu-is-open":void 0,c=function(e,t,r,i,a,s){o(!0),n(e,t,(function(){o(!1),null==r||r()}),i,a,s)},l=Re.useRef(null),u=!(0,Sy()[0].useHasCurrentId)(),d=u?0:-1,h=Wm(),f=Re.useRef(u);Re.useEffect((function(){var e;f.current&&"main content"===(null==h?void 0:h.current)&&(null==(e=l.current)||e.focus())}),[h]);var p=xg(),g=p.directlyShareFileIdsCache,m=p.driveItemCache,v=Cu(),y=Re.useMemo((function(){return function(e,t,n){return[...vT(e,t,n),...yT(e,n)]}([...g.value],v,m)}),[g.value,v,m]),_=Re.useMemo((function(){return function(e,t,n){var r=vT(e,t,n),i=new Map;r.forEach((function(e){var t=n.read(e);if(t&&_T(t)){var r=t.owner.ownerRecordName;i.has(r)||i.set(r,[]);var a=i.get(r);null==a||a.push(e)}}));var a=yT(e,n);return i.set("BY_ME",a),Array.from(i.entries()).filter((function(e){var t=e[0],n=e[1];return t&&(null==n?void 0:n.length)})).map((function(e){var r=e[0],i=e[1],a=n.read(i[0]);return a&&_T(a)&&(r=vw(t,{givenName:a.owner.firstName,familyName:a.owner.lastName})),[r,i]}))}([...g.value],v,m)}),[g.value,m,v]);return 0===y.length?Re.createElement(vS,{message:Mu(v,"Shared.Empty.Message"),description:Mu(v,"Shared.Empty.Description")}):"list"===t?Re.createElement(gT,hT({ids:y,buckets:_,className:s,tabIndex:d,focusContainerRef:l,showItemActionMenu:c},r)):Re.createElement(mT,hT({ids:y,buckets:_,className:s,tabIndex:d,focusContainerRef:l,showItemActionMenu:c},r))}function gT(e){var t=e.className,n=e.ids,r=e.tabIndex,i=e.focusContainerRef,a=e.buckets,o=e.onItemActivated,s=e.onTrashSelection,c=e.onUserCommittedRename,l=e.onCancelUpload,u=e.showQuickLook,d=e.showItemActionMenu,h=e.renamingId,f=e.onFinishedRename,p=e.renderItemActionButton,g=e.subscribeToShareRecord,m=Re.useRef(null),v=pp(),y=xg().driveItemCache,_=Sy(),b=_[0],w=b.getSelectedItems,S=b.getCurrentId,E=b.useOnCurrentIdChangedByKeyboard,I=_[1],C=TE(n),O=Og(),T=Ig();E(Re.useCallback((function(e){ME(m.current,e)}),[]));var A=Re.useRef(null),N=iE({scrollContainerRef:A});Re.useLayoutEffect(N,[n,N]),nE(n,Re.useCallback((function(e){var t=dy(e,y);return!(null==t||!t.includes("TRASH_ROOT"))}),[y]));var M=Cu(),D=pg(),R=zg(),L="compact"===v?"two-row":"one-row",k=a.map((function(e,t){var r;if("BY_ME"===e[0])r=Mu(M,"FilesGrid.Item.Shared.Label.SharedByMe");else{var i=e[0];r=Mu(M,"FilesGrid.Item.Shared.Label.ToMe",{name:i})}return Re.createElement("table",{key:t,className:"bucket"},Re.createElement("thead",null,Re.createElement("tr",{className:"bucket-header-row"},Re.createElement("th",{className:Be()("section-header",v+"-size-class")},Re.createElement("h2",{className:Be()("section-title",v+"-size-class")},r)))),Re.createElement("tbody",null,e[1].map((function(e,t,r){return Re.createElement(CE,{key:e,layoutMode:L,id:e,nextId:r[t+1],ids:n,isVisible:!0,onItemActivated:o,onUserCommittedRename:c,onCancelUpload:l,showQuickLook:u,showItemActionMenu:d,renamingId:h,onFinishedRename:f,renderItemActionButton:p,subscribeToShareRecord:g})}))))})),x=wS(m);return Re.createElement("div",{ref:$p(m,i),className:Be()("shared",t,"list-container",x&&"focus-within",D&&"has-hover-support"),role:"grid","aria-multiselectable":"true",tabIndex:r,onKeyDown:function(e){var t=w();if("Enter"===e.key)if(T){var n=S();if(n){if("object"===typeof n)throw new Error("JSX element found in Shared ID list.");t.has(n)?I({type:"toggle",id:n}):I({type:"selectInclusively",id:n})}}else 1===(null==t?void 0:t.size)&&o(Array.from(t)[0]);else if("Backspace"===e.key)1===(null==t?void 0:t.size)&&s();else if(!O||T){var r=S();if("object"===typeof r)throw new Error("JSX element found in Shared ID list.");var i=C(r,e);i&&(I(i),e.preventDefault(),e.stopPropagation())}},onMouseDown:function(e){if(!O){var t,n,r=null==(t=(n=e.target).closest)?void 0:t.call(n,".drive-list-item"),i=m.current===document.activeElement||m.current.contains(document.activeElement);!r&&i&&I({type:"clear"})}}},Re.createElement("table",{className:"header-container"},Re.createElement("thead",null,Re.createElement("tr",{className:Be()("headings",{"file-picker":"file-picker"===R})},Re.createElement("th",{className:"col-item-preview","aria-hidden":!0}),Re.createElement("th",{className:"col-item-name"},Au("FolderContentsList.ColumnHeading.Name")),Re.createElement("th",{className:"col-item-kind"},Au("FolderContentsList.ColumnHeading.Kind")),Re.createElement("th",{className:"col-item-size"},Au("FolderContentsList.ColumnHeading.Size")),Re.createElement("th",{className:"col-item-date"},Au("FolderContentsList.ColumnHeading.Date")),Re.createElement("th",{className:"col-item-shared-count"},Nu("FolderContentsList.ColumnHeading.Shared")),Re.createElement("th",{className:"col-item-meatball"})))),Re.createElement("div",{ref:A},k))}function mT(e){var t=e.isAnimating,n=e.className,r=e.ids,i=e.tabIndex,a=e.focusContainerRef,o=e.buckets,s=e.onItemActivated,c=e.onTrashSelection,l=e.onUserCommittedRename,u=e.onCancelUpload,d=e.showQuickLook,h=e.showItemActionMenu,f=e.renamingId,p=e.onFinishedRename,g=e.renderItemActionButton,m=e.subscribeToShareRecord,v=Re.useRef(null),y=pp(),_=xg().driveItemCache,b=Re.useRef(null);eE(t,SS((function(e){var t=e.width;I(Math.max(Math.floor(t/w),1))}),b));var w=KS(y),S=Re.useState(1),E=S[0],I=S[1],C=Re.useMemo((function(){return o.reduce((function(e,t,n){for(var r=t[1],i=[],a=0;i.push(r.slice(a,a+E)),!((a+=E)>r.length-1););for(var o=i[i.length-1];o.length<E;)o.push("spacer");return e.push(i),e}),[])}),[o,E]),O=Re.useMemo((function(){return C.reduce((function(e,t){return t.forEach((function(t){var n=t.filter((function(e){return"spacer"!==e}));e[0].push(n);var r=e[0].length-1;n.forEach((function(t){e[1].set(t,r)}))})),e}),[[],new Map])}),[C]),T=O[0],A=O[1],N=Re.useRef(null),M=iE({scrollContainerRef:N});Re.useLayoutEffect(M,[r,M]);var D=Sy(),R=D[0],L=R.getSelectedItems,k=R.getCurrentId,x=R.useOnCurrentIdChangedByKeyboard,F=D[1],P=rC(r,T,A,v),j=Og(),U=Ig();x(Re.useCallback((function(e){return ME(v.current,e)}),[])),nE(r,Re.useCallback((function(e){var t=dy(e,_);return!(null==t||!t.includes("TRASH_ROOT"))}),[_]));var B=Cu(),V=wS(v),W=o.map((function(e,t){var n;if("BY_ME"===e[0])n=Mu(B,"FilesGrid.Item.Shared.Label.SharedByMe");else{var i=e[0];n=Mu(B,"FilesGrid.Item.Shared.Label.ToMe",{name:i})}return Re.createElement("div",{key:t,className:"bucket"},Re.createElement("div",{className:Be()("section-header",y+"-size-class"),ref:0===t?b:void 0},Re.createElement("h2",{className:Be()("shared-section-title",y+"-size-class")},n)),Re.createElement("table",{role:"grid"},Re.createElement("tbody",null,C[t].map((function(e,t){return Re.createElement("tr",{key:t},e.map((function(e,t){return"spacer"===e?Re.createElement("td",{key:"spinner-"+t,"aria-hidden":"true",className:"spacer",style:{width:w}}):Re.createElement(QS,{key:e,id:e,ids:r,onItemActivated:s,onUserCommittedRename:l,showQuickLook:d,showItemActionMenu:h,onCancelUpload:u,renamingId:f,onFinishedRename:p,renderItemActionButton:g,subscribeToShareRecord:m})})))})))))}));return Re.createElement("div",{ref:$p(v,a,N),role:"presentation",tabIndex:i,onMouseDown:function(e){if(!j){var t,n,r=null==(t=(n=e.target).closest)?void 0:t.call(n,'[role="gridcell"]'),i=v.current===document.activeElement||v.current.contains(document.activeElement);!r&&i&&F({type:"clear"})}},onKeyDown:function(e){var t=L();if("Enter"===e.key)if(U){var n=k();if(n){if("object"===typeof n)throw new Error("JSX element found in Shared ID list.");t.has(n)?F({type:"toggle",id:n}):F({type:"selectInclusively",id:n})}}else 1===(null==t?void 0:t.size)&&s(Array.from(t)[0]);else if("Backspace"===e.key)1===(null==t?void 0:t.size)&&c();else if(!j||U){var r=k();if("object"===typeof r)throw new Error("JSX element found in Shared ID list.");var i=P(r,e);i&&(F(i),e.preventDefault(),e.stopPropagation())}},className:Be()("shared",n,y+"-size-class","grid-container",V?"focus-within":null)},W)}function vT(e,t,n){var r=e.reduce((function(e,t){var r=n.read(t);return"TO_ME"===(null==r?void 0:r.share)&&_T(r)?(e.push(r),e):e}),[]),i=new Intl.Collator(t);return r.sort((function(e,t){var n=i.compare(e.owner.lastName,t.owner.lastName);return 0!==n?n:i.compare(e.owner.firstName,t.owner.firstName)})),r.map((function(e){return e.id}))}function yT(e,t){return e.filter((function(e){var n;return"FROM_ME"===(null==(n=t.read(e))?void 0:n.share)}))}function _T(e){var t,n;return!!(null!=e&&null!=(t=e.owner)&&t.firstName&&null!=e&&null!=(n=e.owner)&&n.lastName&&null!=e&&e.owner.ownerRecordName)}function bT(e){var t,n,r=e.resetBrowseItemLink,i=e.resetRecentsItemLink,a=e.resetItemLinkSource,o=e.browseItemLink,s=e.recentsItemLink,c=e.appName,l=e.cancelUpload,u=e.uploadingItemIds,d=e.activeUploadTransactionsCount,h=e.uploadFiles,f=e.initialSource,p=e.launchItem,g=e.clearLaunchItem,m=e.currentWorkingDirectoryId,v=e.browseFolderId,y=e.getNavBarSubtitleForWidth,_=e.navigateToFolder,b=e.openFile,w=e.onUserCommittedRename,S=e.moveItems,E=e.showOutOfQuotaAlert,I=e.createNewFolder,C=e.trashItems,O=e.emailItems,T=e.duplicateFile,A=e.downloadItems,N=e.shareItem,M=e.recoverItemsFromTrash,D=e.recoverAllFromTrash,R=e.purgeItemsFromTrash,L=e.purgeAllFromTrash,k=e.subscribeToShareRecord,x=e.leadingGridItem,F=e.renderCreateDocumentToolbarButton,P=e.makeCustomKindComparator,j=e.loadSubfolderIds,U=e.renderSelectionFooter,B=e.sidebarHeader,V=e.getIsItemSelectable,W=e.renderItemActionButton,z=e.filePickerCloseButton,H=e.telemetryInfo,G=(e.updateDriveItemInCache,e.shareFolder,Cu()),$=xg(),K=$.driveItemCache,Q=$.driveItemTransactionStatusCache,q=pp(),Z=(null==H?void 0:H.clientId,function(e){null==N||N(e)});Re.useEffect((function(){return document.body.classList.add(c),function(){document.body.classList.remove(c)}}),[c]);var Y=zg(),X=Re.useState(),J=X[0],ee=X[1],te=null!=(t=null==J?void 0:J.selection)?t:new Set,ne=Re.useState(new Map),re=ne[0],ie=ne[1],ae=Re.useRef(0),oe=Re.useState(!1),se=oe[0],ce=oe[1];function le(e){ee(e),e.currentIdChangedByKeyboard&&(ce(!0),ae.current=Date.now()+500)}function ue(e){var t=re,n=new Set(e.selection);"recents"===_e||"shared"===_e?e.selection.forEach((function(e){var t,r=K.read(e);null!=r&&r.parentId&&null!=(t=re.get(r.parentId))&&t.has(e)&&n.delete(e)})):e.selection.forEach((function(e){var t;null!=(t=re.get("recents"))&&t.has(e)&&n.delete(e)}));var r="recents"===_e||"shared"===_e?_e:m;null==t||t.set(r,n),ie(t)}var de=Re.useRef(null),he=Re.useCallback((function(e){e&&(de.current=e)}),[]),fe=Re.useCallback((function(e){if(!de.current)throw new Error("DriveBrowser: Selection action dispatched with no current dispatcher.");de.current(e)}),[]),pe="file-picker"===Y?{selection:null!=(n=function(){var e,t;return"recents"===_e?(e=new Set(re.get(_e)),re.forEach((function(t,n){n!==_e&&t.forEach((function(t){return e.add(t)}))}))):(e=new Set(re.get(m)),null==(t=re.get("recents"))||t.forEach((function(t){var n=K.read(t);(null==n?void 0:n.parentId)===m&&e.add(t)}))),e}())?n:new Set,currentIdChangedByKeyboard:!1}:void 0,ge=function(e){C(e),fe({type:"clear"})},me=function(e){M(e),fe({type:"clear"})},ve=function(e){R(e),fe({type:"clear"})},ye=Re.useState(f||"recents"),_e=ye[0],be=ye[1];Re.useEffect((function(){f&&(be(f),null==a||a())}),[f,a]);var we=Yv()[0],Se=Re.useCallback((async function(e){if("Committing"!==Q.get(e))if(Fu(e))_(e);else if(b){var t=K.read(e);if(t)if("iwork"!==Y){var n=t.extension;nS(n)||rS(n)?b(e):we({title:Mu(G,"DownloadItemAlert.Title"),description:Mu(G,"DownloadItemAlert.Description",{appName:Mu(G,"DownloadItemAlert.Description.AppName."+c)}),buttons:[{title:Mu(G,"DownloadItemAlert.DownloadFile"),action:"download"},{title:Mu(G,"DownloadItemAlert.Cancel"),action:"cancel"}],cancelAction:"cancel",onActionSelected:function(t){"download"===t&&A(new Set([e]))}})}else b(e)}}),[Y,c,K,Q,_,b,A,we,G]),Ee=function(e){"browse"!==_e&&be("browse"),e!==m&&_(e)},Ie=function(e){var t=e.loadSubfolderIds,n=e.moveItems,r=e.createFolder,i=xg(),a=Bg(),o=Rw(),s=o[0],c=o[1];return function(e){s(Re.createElement(kg,{caches:i},Re.createElement(Ug,a,Re.createElement(qO,{loadSubfolderIds:t,moveItems:function(e,t){c(),n(e,t)},selection:e,hideModal:function(){c()},createFolder:r}))),{className:"move-ui",includeCloseButton:!1})}}({loadSubfolderIds:j,moveItems:S,createFolder:void 0}),Te=Lw({enablePathLink:"recents"===_e||"shared"===_e,viewItemLocation:Ee,downloadItems:A})[0],Ae=function(e){var t=Re.useRef(e);Re.useLayoutEffect((function(){t.current=e}),[e]);var n=pp(),r=Rw(),i=r[0],a=r[1],o=Bg(),s=xg(),c="pointer-coarse"===Up(),l=Re.useRef(null);return[Re.useCallback((function(e,r){gu("visitedFilePreview");var u=s.docWsDownloadUrlsCache,d=s.driveItemCache,h=u.get(e),f=d.read(e);f&&Vu(f)&&Xb(f,null==h?void 0:h.urls)&&i(Re.createElement(kg,{caches:s},Re.createElement(Ug,o,Re.createElement(_O,vO({ref:l,id:e,hideQuickLook:a},t.current)))),{onKeyDown:function(e){var t,n;" "!==e.key||e.altKey||e.ctrlKey||e.shiftKey||null!=(t=l.current)&&t.parentElement&&(e.target===l.current||e.target===(null==(n=l.current)?void 0:n.parentElement))&&a()},className:Be()("quick-look-modal",c?"touch":null,n),animates:Oe.IN_AND_OUT,includeCloseButton:!1})}),[s,o,c,n,i,a]),a]}({downloadFile:A?function(e){return A(new Set([e]))}:void 0,openFile:b,emailFile:function(e){return O(new Set([e]))},trashFile:function(e){return ge(new Set([e]))},recoverFile:function(e){return me(new Set([e]))},purgeFile:function(e){return ve(new Set([e]))},showInfoPanel:Te,currentSource:_e,showItemActionMenu:function(){return je(...arguments)}}),Ne=Ae[0],Me=Re.useState(),De=Me[0],Le=Me[1],ke=function(){return Le(void 0)},xe=Re.useContext(Um),Fe=function(){var e=Re.useContext(Lg);return bg(e,"useReplaceLocalId","LocalIdReplacementProvider"),e}(),Pe=Re.useCallback((function(e){var t,n={title:Mu(G,"Alert.UnexpectedError.Message"),description:Mu(G,"Alert.UnexpectedError.Description"),buttons:[{title:Mu(G,"Common.Confirm"),action:"cancel"}],cancelAction:"cancel",onActionSelected:function(){}},r=null==T?void 0:T(e);if(r){var i=r.newFileTempId,a=r.newFilePermIdPromise,o=null==(t=K.read(e))?void 0:t.parentId;if(!o)throw new Error("duplicate Item: No parentId for item");null==xe||xe.add(i,o),a.then((function(e){Fe(i,e),e||we(n)}))}else we(n)}),[T,K,xe,G,Fe,we]),je=function(e){var t=xg(),n=t.driveItemCache,r=t.driveItemTransactionStatusCache,i=t.docWsDownloadUrlsCache,a=(t.shareRecordCache,Ge()),o=a[0],s=a[1],c=hy(e.currentWorkingDirectoryId),l=Bg(),u=Re.useContext(vg);bg(u,"useShowItemActionMenu","NumberFormatterContext");var d=Cu(),h=function(e,t){return Mu(d,e,t)},f=zg(),p=pp(),g=Lw({enablePathLink:"recents"===e.currentSource||"shared"===e.currentSource,viewItemLocation:e.viewItemLocation,downloadItems:e.downloadItems})[0];return function(a,m,v,y){var _=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"grid-list-item",b=arguments.length>5?arguments[5]:void 0,w=arguments.length>6?arguments[6]:void 0;if(0===a.size)throw new Error("useShowItemActionMenu must be called with at least one id.");var S,E=function(){var e=Array.from(a).map(n.read);return function(e){if(e.some((function(e){return!e})))throw new Error("useShowItemActionMenu: id wasn't found in driveItemCache")}(e),e}(),I=[fS.Open,fS.Send,fS.Download,fS.Report,fS.CopyLink],C=E.map((function(e){return e.id})).map(r.get).some((function(e){return"Prepared"!==e}));function O(t){if(t===fS.Open){var n=gS(E,"Opening");if(C)return;_u(y,"open"),null==e.onItemActivated||e.onItemActivated(n.id)}else if(t===fS.View){var r=gS(E,"Previewing");_u(y,"preview"),e.showQuickLook(r.id)}else if(t===fS.Info){var i=gS(E,"Viewing info panel for");_u(y,"details"),g(i.id)}else if(t===fS.Rename){if(C)return;var o=gS(E,"Renaming");_u(y,"rename"),e.renameItem(o.id)}else if(t===fS.Download)_u(y,"download"),e.downloadItems(a);else if(t===fS.Collaborate){if(C)return;var s=gS(E,"Sharing");"quick-look"===_&&b&&b(),_u(y,"collaborate"),e.shareItem(s.id)}else if(t===fS.Send)_u(y,"sendCopy"),e.emailItems(a);else if(t===fS.Move){if(C)return;_u(y,"move"),e.showMoveToFolderPane(a)}else if(t===fS.Duplicate){var c=gS(E,"Duplicating");_u(y,"duplicate"),e.duplicateFile(c.id)}else if(t===fS.Delete){if(C)return;"quick-look"===_&&b&&b(),_u(y,"delete"),e.trashItems(a)}else t===fS.Recover?("quick-look"===_&&b&&b(),_u(y,"recover"),e.restoreItems(a)):t===fS.Purge?("quick-look"===_&&b&&b(),_u(y,"purge"),e.purgeItems(a)):t===fS.Report&&(_u(y,"report"),e.reportItem())}o(Re.createElement(g_,{anchorRef:m,className:"item-action-menu",positioner:a_(Object.assign({},i_,{sidePreference:[...w?[w]:[],o_.inlineEndTop,o_.inlineStartTop,o_.inlineEndBottom,o_.inlineStartBottom]}))},Re.createElement(L_,{onItemSelected:function(e){var t;s(),t=e,I.includes(t)||(S=t)},onItemSelectedSync:function(e){var t;s(),t=e,I.includes(t)&&O(t)}},function(){var n,r,o,s,g,m="browse"===e.currentSource&&("TRASH_ROOT"===e.currentWorkingDirectoryId||-1!==c.indexOf("TRASH_ROOT")),v=!m&&"grid-list-item"===_,y=E.some(iS),b=!C&&1===E.length&&iS(E[0]),w="quick-look"!==_,S=E.some((function(e){return sS(e,i)})),I=1===E.length&&sS(E[0],i),O="quick-look"!==_,T=1===E.length,A=!m&&"quick-look"!==_,N=E.some(aS),M=!C&&1===E.length&&aS(E[0])&&!dS(E[0],t),D=!m,R=E.some(oS),L=!C&&E.every(oS)&&!function(e,t){return e.some((function(e){return dS(e,t)}))}(E,t),k=!m&&"quick-look"!==_,x=E.some(Vu),F=1===E.length&&Vu(E[0])&&!dS(E[0],t),P=!m&&"grid-list-item"===_,j=E.some(Vu),U=E.every(Vu),B=!m&&"regular"===p&&"middle-toolbar"!==_&&"regular-toolbar"!==_,V=E.some((function(e){return lS(e)})),W=1===E.length&&uS(E[0],t),z=(1!==E.length||E[0].share,!m&&l.isMailServiceActive&&"regular-toolbar"!==_),H=E.some(Vu),G="iwork"===f?E.every(Vu)&&1===E.length:E.every(Vu),$=!m&&"compact-toolbar"!==_&&"middle-toolbar"!==_&&"regular-toolbar"!==_,K=!dS(E[0],t)&&(!C&&"browse"===e.currentSource||1===a.size),Q=m,q=m,Z=(g=null!=(n=null==(r=l.sessionInfo)||null==(o=r.requestInfo)||null==(s=o.country)?void 0:s.toLocaleLowerCase())?n:"",new Set(["au","gb"]).has(g)),Y=E.every(cS),X={className:"icon",desiredFontSize:9.86},J=[],ee=[];if(E.length>1){var te,ne=E.length,re=E.reduce((function(e,t){return"includes-folder"===e?e:Vu(t)?e+(t.size||0):"includes-folder"}),0);if("includes-folder"===re)te=2===E.length?h("FilesGrid.Cell.ActionMenu.Action.SelectedCount.Two"):h("FilesGrid.Cell.ActionMenu.Action.SelectedCount.MoreThanTwo",{count:ne});else{var ie=Ow(re,u,d);te=2===E.length?h("FilesGrid.Cell.ActionMenu.Action.SelectedCount.WithSize.Two",{size:ie}):h("FilesGrid.Cell.ActionMenu.Action.SelectedCount.WithSize.MoreThanTwo",{size:ie,count:ne})}J.push(Re.createElement(A_,{disabled:!0,className:"header",key:"selected-header",value:"selected-header"},te))}return v&&y&&J.push(Re.createElement(A_,{key:"open",value:fS.Open,disabled:!b},Re.createElement("div",{className:"icloud-icon-container"},Re.createElement(kw,X)),h("FilesGrid.Cell.ActionMenu.Action.Open"))),w&&S&&J.push(Re.createElement(A_,{key:"View",value:fS.View,disabled:!I},Re.createElement("div",{className:"icloud-icon-container"},Re.createElement(Vw,X)),h("FilesGrid.Cell.ActionMenu.Action.Preview"))),O&&J.push(Re.createElement(A_,{key:"Info",value:fS.Info,disabled:!T},Re.createElement("div",{className:"icloud-icon-container"},Re.createElement(xw,X)),h("FilesGrid.Cell.ActionMenu.Action.GetInfo"))),J.length&&(ee.splice(ee.length,0,...J),J.length=0,ee.push(Re.createElement(M_,{key:"first-section-divider"}))),P&&j&&J.push(Re.createElement(A_,{key:"download",value:fS.Download,disabled:!U},Re.createElement("div",{className:"icloud-icon-container"},Re.createElement(Sw,X)),h("FilesGrid.Cell.ActionMenu.Action.DownloadACopy"))),J.length&&(ee.splice(ee.length,0,...J),J.length=0,ee.push(Re.createElement(M_,{key:"second-section-divider"}))),B&&V&&J.push(Re.createElement(A_,{key:"collaborate",value:fS.Collaborate,disabled:!W},Re.createElement(Re.Fragment,null,Re.createElement("div",{className:"icloud-icon-container"},Re.createElement(Pw,X)),h("FilesGrid.Cell.ActionMenu.Action.CollaborateWithOthers")))),z&&H&&J.push(Re.createElement(A_,{key:"send",value:fS.Send,disabled:!G},Re.createElement("div",{className:"icloud-icon-container"},Re.createElement(jw,X)),h("FilesGrid.Cell.ActionMenu.Action.SendACopy"))),J.length&&(ee.splice(ee.length,0,...J),J.length=0,ee.push(Re.createElement(M_,{key:"third-section-divider"}))),k&&x&&J.push(Re.createElement(A_,{key:"duplicate",value:fS.Duplicate,disabled:!F},Re.createElement("div",{className:"icloud-icon-container"},Re.createElement(Ww,X)),h("FilesGrid.Cell.ActionMenu.Action.Duplicate"))),A&&N&&J.push(Re.createElement(A_,{key:"Rename",value:fS.Rename,disabled:!M},Re.createElement("div",{className:"icloud-icon-container"},Re.createElement(Fw,X)),h("FilesGrid.Cell.ActionMenu.Action.Rename"))),D&&R&&J.push(Re.createElement(A_,{key:"Move",value:fS.Move,disabled:!L},Re.createElement("div",{className:"icloud-icon-container"},Re.createElement(pS,hS({},X,{scale:1.25}))),h("FilesGrid.Cell.ActionMenu.Action.Move"))),J.length&&(ee.splice(ee.length,0,...J),J.length=0,ee.push(Re.createElement(M_,{key:"fourth-section-divider"}))),$&&J.push(Re.createElement(A_,{className:"delete-please",key:"delete",value:fS.Delete,disabled:!K,destructive:!0},Re.createElement("div",{className:"icloud-icon-container delete"},Re.createElement(Uw,X)),h("FilesGrid.Cell.ActionMenu.Action.Delete"))),Q&&J.push(Re.createElement(A_,{key:"recover",value:fS.Recover,disabled:!1},Re.createElement("div",{className:"icloud-icon-container"},Re.createElement(Bw,X)),h("FilesGrid.Cell.ActionMenu.Action.Recover"))),q&&(J.push(Re.createElement(M_,{key:"fourth-section-divider"})),J.push(Re.createElement(A_,{key:"purge",className:"delete",value:fS.Purge,disabled:!1,destructive:!0},Re.createElement("div",{className:"icloud-icon-container delete"},Re.createElement(Uw,X)),h("FilesGrid.Cell.ActionMenu.Action.Purge")))),Z&&Y&&(J.push(Re.createElement(M_,{key:"fifth-section-divider"})),J.push(Re.createElement(A_,{key:"report",className:"delete",value:fS.Report},Re.createElement("div",{className:"icloud-icon-container"},Re.createElement(zw,X)),h("FilesGrid.Cell.ActionMenu.Action.Report")))),J.length?ee.splice(ee.length,0,...J):ee.pop(),ee}())),{animates:Oe.OUT,onRequestClose:function(e){e===Ce.ESCAPE?s({animate:!1}):e===Ce.MOUSE_UP&&s()},onClose:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){S&&(O(S),S=void 0),v()})),ariaClosePaneDescription:h("MenuPane.Button.BackdropClose"),initialFocus:"ui-menu"})}}({currentSource:_e,currentWorkingDirectoryId:m,viewItemLocation:Ee,onItemActivated:Se,downloadItems:A,shareItem:Z,duplicateFile:Pe,emailItems:O,trashItems:ge,restoreItems:me,purgeItems:ve,showQuickLook:Ne,showMoveToFolderPane:Ie,renameItem:function(e){Le(e)},reportItem:function(){Xm("http://contentreports.apple.com",{target:"_blank"})}}),Ue=Re.useState(!0),Ve=Ue[0],We=Ue[1],ze=Re.useState(!1),He=ze[0],$e=ze[1],Ke="regular"===q?Ve:He,Qe=Re.useState(!1),qe=Qe[0],Ze=Qe[1],Ye=Re.useState(!1),Xe=Ye[0],Je=Ye[1],et=Re.useRef(null);Re.useEffect((function(){et.current&&("compact"===q&&He?et.current.setAttribute("inert","true"):et.current.removeAttribute("inert"))}),[q,He]),Re.useEffect((function(){"compact"===q&&$e(!1)}),[q]);var tt=Re.useRef(null);function nt(){it(".shared[tabindex='0'], .shared [tabindex='0']")}function rt(){it("ui-content:not([inert]) .folder-contents[tabindex='0'], ui-content:not([inert]) .folder-contents [tabindex='0']")}function it(e){function t(){return tt.current.querySelector(e)}var n=t();n?n.focus({preventScroll:!0}):setTimeout((function(){var e;null==(e=t())||e.focus({preventScroll:!0})}),0)}var at=Re.useState(new Map)[0],ot=Km(),st=Re.useMemo((function(){switch(ot){case"DateModified":return SO(G);case"Kind":return P?P(G):wO(G);case"Size":return function(e){var t=CO(e);return function(e,n){var r=IO(t,e,n);if(void 0!==r)return r;TO(e),TO(n);var i=e.size||0;return(n.size||0)-i||EO(t,e,n)||OO(e.id,n.id)}}(G);default:return function(e){var t=CO(e),n=SO(e),r=wO(e);return function(e,i){return EO(t,e,i)||r(e,i)||n(e,i)||OO(e.id,i.id)}}(G)}}),[ot,G,P]),ct=Re.useState(),lt=ct[0],ut=ct[1],dt=Re.useCallback((function(e){(null==lt?void 0:lt.destinationFolderId)===e&&ut(void 0)}),[null==lt?void 0:lt.destinationFolderId]),ht=function(e){var t=e.dragTargetInfo,n=e.selectModeIsActive,r=e.selectionCount,i=Cu(),a=xg().driveItemCache,o=void 0;n&&void 0!==r&&(0===r?o=Mu(i,"NavigationBar.SelectionModeTitle.0"):1===r?o=Mu(i,"NavigationBar.SelectionModeTitle.1"):r>1&&(o=Mu(i,"NavigationBar.SelectionModeTitle.N",{number:r})));var s=null==t?void 0:t.destinationFolderId,c=Object(bd.g)((function(){return s?a.read(s):null}),[s,a]),l=void 0;if(t&&c){var u,d=t.action,h=t.destinationFolderId===Hu;switch(d){case"move":u=h?"FilesGrid.DragDrop.Status.MoveItems.ToRootContainer":"FilesGrid.DragDrop.Status.MoveItems";break;case"upload":u=h?"FilesGrid.DragDrop.Status.UploadItems.ToRootContainer":"FilesGrid.DragDrop.Status.UploadItems"}l=Mu(i,u,{destinationName:Yu(c)})}return l||o||void 0}({dragTargetInfo:lt}),ft=zS(),pt=function(e){return V?ft(e)&&V(e):ft(e)};Re.useEffect((function(){"compact"===q&&u.length&&vt(!0),0!==u.length||yt.current||vt(!1),"regular"!==q||yt.current||vt(!1)}),[u,q]);var gt=Re.useState(!1),mt=gt[0],vt=gt[1],yt=Re.useRef(!1),_t=mt?Re.createElement(sT,{uploadingItemIds:u,cancelUpload:l,onCardShow:function(){yt.current=!0},onCardHide:function(){yt.current=!1,0===u.length&&vt(!1)}}):null,bt="browse"===_e&&m!==Hu&&m!==Gu&&"file-picker"!==Y,wt=Object(bd.g)((function(){var e;return"recents"!==_e&&("TRASH_ROOT"===m||(null==(e=dy(m,K))?void 0:e.includes("TRASH_ROOT")))}),[_e,m,K]),St="compact"===q?null:Re.createElement(uT,{showSort:!0,showView:"file-picker"===Y,showSelect:!1}),Et=Re.useContext(jm),It=Cg(),Ct=Re.createElement(vy,{navigateToShared:function(){It("file-picker"===Y),be("shared"),nt(),"compact"===q&&(Ze(!0),$e(!1))},onTransitionEnd:function(){"compact"===q&&Ze(!1)},isOpen:Ke,currentWorkingDirectoryId:m,browseFolderId:v,navigateToFolder:function(e){It("file-picker"===Y),_(e),setTimeout((function(){be("browse"),rt()}),0),"compact"===q&&(Ze(!0),$e(!1))},navigateToRecents:function(){It("file-picker"===Y),be("recents"),it(".recents[tabindex='0'], .recents [tabindex='0']"),"compact"===q&&(Ze(!0),$e(!1))},source:_e,onUpload:h,onMove:S,onTrashItems:function(e){return ge(new Set(e))},showOutOfQuotaAlert:E,onDragTargetChanged:ut,onDragTargetCleared:dt,optionalHeader:B});return Re.createElement("div",{ref:tt,className:Be()("app-body",qe?"sidebar-animation":"","h-size-class-"+q,Ke?"source-list-visible":"source-list-hidden",Ve?"regular-source-list-visible":"regular-source-list-hidden",se?"active-keyboard-selection":void 0),onMouseMoveCapture:function(){ae.current<Date.now()&&ce(!1)}},"regular"===q&&Re.createElement(Re.Fragment,null,B,Ct),Re.createElement("main",{onTransitionEnd:function(e){"MAIN"===e.target.tagName&&Je(!1),Ze(!1)},ref:et},Re.createElement(tC,{currentSource:_e,currentWorkingDirectoryId:m,navigateToFolder:_,selection:te,selectionDispatch:fe,browseFolderId:v,onUpload:h,onCancelUpload:l,uploadingItemIds:u,activeUploadTransactionsCount:d,onNewFolderActivate:I,onTrashActivate:function(){return ge(te)},onEmailActivate:function(){return O(te)},onDownloadActivate:function(){return A(te)},shareItem:Z,showTrashToolbar:wt,onRecoverActivate:function(){return me(te)},onPurgeActivate:function(){return ve(te)},onRecoverAllActivate:D,onPurgeAllActivate:L,showItemActionMenu:je,sourceListIsOpen:Ke,onSourceListToggled:function(){var e="compact"===q,t=e?$e:We;if(e||Je(!0),Ke)switch(Ze(!0),t(!1),_e){case"browse":return rt();case"recents":case"shared":return nt()}else Ze(!0),t(!0),function(){var e=tt.current.querySelector("ul.source-list");null==e||e.focus({preventScroll:!0})}()},renderCreateDocumentToolbarButton:F,filePickerCloseButton:z}),"recents"===_e?Re.createElement(wy,{onSelectionStateChanged:function(e){le(e),"file-picker"===Y&&ue(e)},initialSelectionState:pe,getIsItemSelectable:pt,selectionDispatchRef:he,key:"recents"},Re.createElement(kC,{resetItemLinkSource:function(){return null==a?void 0:a()},resetRecentsItemLink:function(){return null==i?void 0:i()},recentsItemLink:s,showQuickLook:Ne,showItemActionMenu:je,onItemActivated:Se,onTrashSelection:function(){ge(te)},onCancelUpload:l,onUserCommittedRename:w,isAnimating:Xe,renamingId:De,onFinishedRename:ke,renderItemActionButton:W,subscribeToShareRecord:k,trailingContent:St})):"shared"===_e?Re.createElement(wy,{onSelectionStateChanged:function(e){le(e),"file-picker"===Y&&ue(e)},initialSelectionState:pe,getIsItemSelectable:pt,selectionDispatchRef:he,key:"shared"},Re.createElement(fT,{showQuickLook:Ne,showItemActionMenu:je,onItemActivated:Se,onTrashSelection:function(){ge(te)},onCancelUpload:l,onUserCommittedRename:w,isAnimating:Xe,renamingId:De,onFinishedRename:ke,renderItemActionButton:W,subscribeToShareRecord:k,trailingContent:St})):Re.createElement(Re.Fragment,null,Re.createElement(GC,{source:_e,id:m,navigateToFolder:_,getNavBarSubtitleForWidth:y,centerContentOverride:ht,trailingContent:St,isResizing:Xe,renderProviders:function(e){return Re.createElement(wy,{onSelectionStateChanged:function(e){le(e),ue(e)},initialSelectionState:pe,getIsItemSelectable:pt,selectionDispatchRef:he,key:"folders"},e)}},(function(e){return Re.createElement(UE,{resetItemLinkSource:function(){return null==a?void 0:a()},resetBrowseItemLink:function(){return null==r?void 0:r()},browseItemLink:o,sortComparator:st,navigateToFolder:_,fastMountMode:Xe||"transitioning"===e,key:Xe?"animating":e,folderId:m,result:Et,launchItem:p,clearLaunchItem:g,initialScrollPosition:at.get(m),onScrollPositionChange:function(e,t){at.set(e,t)},onItemActivated:Se,trashItems:ge,purgeItemsFromTrash:ve,onUserCommittedRename:w,onMove:S,onUpload:h,onCancelUpload:l,onDragTargetChanged:ut,onDragTargetCleared:dt,showOutOfQuotaAlert:E,isAnimating:Xe,leadingGridItem:x,showQuickLook:Ne,showItemActionMenu:je,renamingId:De,onFinishedRename:ke,renderItemActionButton:W,subscribeToShareRecord:k})})),bt?Re.createElement(XC,{currentSource:_e,currentWorkingDirectoryId:m,onNavigate:_,onMove:S,onUpload:h,onTrashItems:function(e){return ge(new Set(e))},onDragTargetChanged:ut,onDragTargetCleared:dt,showOutOfQuotaAlert:E}):null,wt?Re.createElement(lT,{selection:te,onRecoverActivate:function(){return me(te)},onPurgeActivate:function(){return ve(te)},onRecoverAllActivate:D,onPurgeAllActivate:L}):null)),"compact"===q&&Re.createElement(Re.Fragment,null,Ct),null==U?void 0:U(re,fe,(function(){return ie(new Map)})),_t)}var wT=["status","clientId"];function ST(e,t){Ff(e.map((function(e){return e.status,e.clientId,function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,wT)})),t)}function ET(e){var t,n=null!=(t=e.id)?t:e.drivewsid,r=Bu(n).type,i="FILE"===r||"SHARED_FILE"===r||"FILE_IN_SHARED_FOLDER"===r?qh.find(n):Rf.find(n);if(!i)throw new Error("Model does not exist for item in move items transaction. id exists: "+!!n);return i}function IT(e,t,n){t.forEach((function(t){return e.driveItemTransactionStatusCache.set(t.id,n)}))}var CT=["id","name","isInTrash","dateModified","lastOpenTime"];var OT=n(1305),TT=n(1434),AT={trace:!1,logTrace:function(e){(this.trace||window.TRACE_ALL)&&d.b.debug(this+" "+e)}},NT={mixinDependencies:[AT],registerStateEnumGroup:function(e,t,n){var r=this._segs_registeredGroups;r||(r=this._segs_registeredGroups={}),r[e.id]||(r[e.id]={stateEnumGroup:e,currentState:t,fatalErrorState:n})},fatalErrorIfNotInState:function(e){var t=this._segs_registeredGroups[e.group.id];t||Xn.b("No state enum group registered for "+e);var n,r=t.currentState,i=t.fatalErrorState||null,a=arguments.length;for(n=0;n<a;n++)if(arguments[n].contains(r))return;i&&this.setState(i);var o=yt.a(r)&&yt.a(r.fullName)?r.fullName:"[unknown state]",s=1==a?" ":" either ",c=[];for(n=0;n<a;n++)c.push(arguments[n].fullName);var l=" Cannot perform operation. Expected state "+o+" to"+s+"be: "+c.join(", ");Xn.b(l,{source:this})},setState:function(e){var t=this._segs_registeredGroups[e.group.id];t||Xn.b("No state enum group registered for "+e);var n=t.currentState;t.currentState=e,this.logTrace("changed state from <"+n.fullName+"> to <"+e.fullName+">")},getCurrentStateForStateEnumGroup:function(e){var t=this._segs_registeredGroups[e.id];return t||Xn.b("No state enum group registered for "+e.name),t.currentState},transitionFromStateToState:function(e,t){this.fatalErrorIfNotInState(e),this.setState(t)}},MT="0123456789ABCDEF";function DT(e,t){var n="";t=!!t;for(var r=0;r<=7;r++)t&&r>0&&r%2===0&&(n+=" "),n+=MT[(e&4026531840>>>4*r)>>>4*(7-r)];return n}var RT=[4278190080,4294901760,4294967040,4294967280,4294967295],LT=[24,16,8,4,0],kT=function(e,t,n,r,i){this.name=e,this.value=t,this.level=r,this.parent=n||null,this.group=i||null;var a=t<<LT[r];this.fullValue=n?n.fullValue+a:a,this.fullName=n?n.fullName+"."+e:e,this._nextSubstateValue=function(){var e=0;return function(){return e+=1}}(),i||Object.freeze(this)},xT=kT.prototype;function FT(e,t){return new kT(e,t,null,0)}xT.equals=function(e){return e.fullValue===this.fullValue},xT.substateOf=function(e){return!(this.level<=e.level)&&(this.fullValue&RT[e.level])===e.fullValue},xT.superstateOf=function(e){return!(this.level>=e.level)&&(e.fullValue&RT[this.level])===this.fullValue},xT.contains=function(e){return this.equals(e)||e.substateOf(this)},xT.createSubstate=function(e){return new kT(e,this._nextSubstateValue(),this,this.level+1,this.group)},xT.toString=function(){var e=this.group,t=e?e.name+" State":"StateEnum",n=e?"":" <"+DT(this.fullValue,!0)+">";return"["+t+": "+this.fullName+n+"]"};var PT=1,jT=function(e){this.items=[],this.name=e,this.id=PT,PT++};function UT(e,t){var n=new jT(e);t(BT(n,null));for(var r=n.items,i=r.length,a=0;a<i;a++)Object.freeze(r[a]);return Object.freeze(n),n}function BT(e,t){var n=1;return function(r,i){var a=null,o=(a=t?t.createSubstate(r):new kT(r,n,null,0,e)).fullName.replace(".","");e.items.push(a),e[o]=a,t&&(t[r]=a),n+=1,i&&i(BT(e,a))}}var VT=UT("Application Driver",(function(e){e("Inactive"),e("Activating",(function(e){e("Init"),e("WaitAppPrepared"),e("Finalize")})),e("Active",(function(e){e("Ready")})),e("Deactivating"),e("FatalError")})),WT=VT.Inactive,zT=VT.Activating,HT=VT.Active,GT=VT.Deactivating,$T=VT.FatalError,KT=oe.a.extend(AT,NT,{application:y.c({readOnly:!0}),state:y.c({readOnly:!0,get:function(){return this.getCurrentStateForStateEnumGroup(VT)}}),init:function(e){if(this.__s._$KS$init.call(this,e),!e||!e.application)throw Xn.b("Cannot create driver. Requires application");this.registerStateEnumGroup(VT,WT,$T)},activate:function(){this.transitionFromStateToState(WT,zT.Init),this.didStartInitialActivation()},applicationDidPrepareForLoad:function(){this.transitionFromStateToState(zT.WaitAppPrepared,zT.Finalize),this.didStartFinalizingActivation()},didStartInitialActivation:function(){},didFinishInitialActivation:function(){this.transitionFromStateToState(zT.Init,zT.WaitAppPrepared),this.get("application").prepareForLoad()},didStartFinalizingActivation:function(){},didFinishFinalizingActivation:function(){this.transitionFromStateToState(zT.Finalize,HT.Ready),this.get("application").didBecomeLoaded()},didStartDeactivation:function(){this.setState(GT)},didFinishDeactivation:function(){this.setState(WT)},__superMap:{_$KS$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseApplicationDriver"}}),QT=n(1306),qT=UT("Channel",(function(e){e("Closing"),e("Closed"),e("Opening"),e("Opened"),e("FatalError")})),ZT=qT.Closing,YT=qT.Closed,XT=qT.Opening,JT=qT.Opened,eA=qT.FatalError,tA=oe.a.extend(AT,NT,{window:y.c({readOnly:!0,get:function(){return this._window}}),state:y.c({readOnly:!0,get:function(){return this.getCurrentStateForStateEnumGroup(qT)}}),init:function(e){e.window||this.fatalError("Cannot open channel. Requires window");var t=e.window;delete e.window,this.__s._$XZ$init.call(this,e),this._window=t,this.registerStateEnumGroup(qT,YT,eA)},open:function(){this.transitionFromStateToState(YT,XT),this.willOpen()},close:function(){this.transitionFromStateToState(JT,ZT),this.willClose()},willOpen:function(){},didOpen:function(){this.transitionFromStateToState(XT,JT)},willClose:function(){},didClose:function(){this.transitionFromStateToState(ZT,YT)},__superMap:{_$XZ$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"RPCBaseChannel"}}),nA=tA.extend({origin:y.c({readOnly:!0}),init:function(e){this.__s._$3k$init.call(this,e),e.origin||Xn.b("Cannot create output channel. Requires origin")},sendMessage:function(e){},__superMap:{_$3k$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"RPCBaseOutputChannel"}}),rA=nA.extend({willOpen:function(){this.didOpen()},willClose:function(){this.didClose()},sendMessage:function(e){var t=this.get("window"),n=this.get("origin");A.a.get("sharedInstance").get("isIE9OrLower")&&(e=JSON.stringify(e)),t.postMessage(e,n)},staticMembers:{__QUALIFIED_CLASS_NAME__:"RPCOutputChannel"}}),iA=oe.a.extend(v.a,{cloudOSApplication:v.g(),cloudOSService:v.g({dependencies:["cloudOSApplication.cloudOSService"],readOnly:!0,strong:!0,get:Object.assign((function(){return this.getPath("cloudOSApplication.cloudOSService")||null}),{__CW__getter:function(e,t,n,r){return r.internalGetPath(this,t[0+n])||null}})}),environment:v.g(_.c("cloudOSService.environment")),authBag:v.g(_.c("cloudOSService.environment.authBag")),currentUser:v.g(_.c("cloudOSService.environment.authBag.user")),isReloading:v.g(!1)}).create(),aA={windowCount:0,windowApplications:{},openWindowApplication:function(e,t,n){var r=this._getNextWindowId();e=this._addInstanceIdToURL(e,r);var i=window.open(e,t,n);return this.windowApplications[r]={window:i},r},_addInstanceIdToURL:function(e,t){var n="&";return-1===e.indexOf("#")&&(n="#"),e+n+"instanceId="+t},_getNextWindowId:function(){return d.b.debug("WindowApplication: generating a new id"),"window_"+this.windowCount++},windowApplicationIsRegistered:function(e){return!!this.windowApplications[e]},passWindowApplicationMessage:function(e,t){var n=this.windowApplications[e];if(n){var r=QT.a(arguments);if(r=r.slice(2,r.length),n.didInitialize){var i={isCloudOSMessage:!0,methodName:t,args:r,isWindowApplicationMessage:!0};try{var a=n.window.CK.currentApplication;a?a._windowMessageWasReceived(M.a(i)):rA.create({window:n.window,origin:iA.getPath("cloudOSApplication.driver").getIOChannelOrigin()}).sendMessage(i)}catch(o){d.b.warn("postMessage: CK.WindowApplication "+e+" not properly loaded?")}}else this._registerWindowApplicationMessage(e,t,r)}else d.b.warn("Could not find a COSK.Utils.windowApplications with instanceId "+e)},windowApplicationDidInitialize:function(e){var t=this.windowApplications[e];t?t.didInitialize=!0:d.b.warn("There is no windowApplication for "+e)},passPendingWindowApplicationMessages:function(e){var t,n,r,i,a=this.windowApplications[e];if(a&&(t=a.messages))for(n=0,r=t.length;n<r;n++){var o=[e,(i=t[n]).method];this.passWindowApplicationMessage.apply(this,o.concat(i.args))}},_registerWindowApplicationMessage:function(e,t,n){var r,i=this.windowApplications[e];i&&((r=i.messages)||(r=[],i.messages=r),r.push({method:t,args:n}))},resolveInstanceIfNeeded:function(e){var t=this.windowApplications;if(!t[e])for(var n in t)if(t[n].window===e)return n;return e}},oA={windowApplicationDidInitialize:function(e){var t=aA.resolveInstanceIfNeeded(e);aA.windowApplicationDidInitialize(t)},passPendingWindowApplicationMessages:function(e){var t=aA.resolveInstanceIfNeeded(e);aA.passPendingWindowApplicationMessages(t)}},sA={windowApplicationHasInitialized:function(e,t,n){e=aA.resolveInstanceIfNeeded(e);var r=iA.getPath("cloudOSApplication.driver");aA.windowApplicationDidInitialize(e),n||aA.passWindowApplicationMessage(e,"_applicationShouldInvokeMain",r.get("cloudOSMethodNames"),r.get("cloudOSState")),aA.passPendingWindowApplicationMessages(e)},windowApplicationIsKnown:function(e){return e=aA.resolveInstanceIfNeeded(e),aA.windowApplicationIsRegistered(e)}},cA={mixinDependencies:[v.a],environment:null,showAppSwitcher:function(e){},showSpringBoard:function(){},showAccountSettings:function(){},performLogout:function(){},reload:function(){},showHelp:function(e){},recordStat:function(e,t){},recordPerfStat:function(e,t){},beginStat:function(e,t){},endStat:function(e,t){},showLocalNotification:function(e){},invokeMethodOnCloudOS:function(e){},handleApplicationCrash:function(e,t){},exit:function(e,t){},setAppBanner:function(e){},openIWorkFile:function(e){},openIWorkDocument:function(e,t,n){},getValidateToken:function(){},isReadyToTerminateDidChange:function(e){},setStartupUrl:function(e){},setStartupInfo:function(e){},requestReceived:function(e,t,n){},refreshQuotaData:yd.a,requestMeCard:yd.a,setRoute:function(e){},setAppPreferences:function(e){},setAccountPreference:function(e,t){},revalidateUser:function(){},getConformingTypes:function(e){},fetchIcon:function(e,t,n,r){},fetchBlankFolderIcon:function(e,t,n){},fetchBlankFileIcon:function(e,t,n){},sendLocalNotification:function(e,t,n,r){},didReceiveSpecialResponse:function(e,t,n){},loadCloudKitJS:function(e){},replaceCurrentApp:function(e){},fetchAppUrl:function(e,t){},didBecomeInteractive:function(e,t){}},lA=oe.a.extend(v.a,{name:y.c(),url:v.g(),status:v.g(),staticMembers:{__QUALIFIED_CLASS_NAME__:"ServiceInfo"}});function uA(e){var t,n,r=e.givenName,i=e.familyName,a=e.emailAddress,o=e.phoneNumber,s=e.nickname,c=e.companyName,l=s||r;return l&&i&&(n=qo(l)&&qo(i)?"Name.Display.NameIsCJK.FirstAndFamilyNames":"Name.Display.FirstAndFamilyNames",t=Sr.d(n,{firstName:l,familyName:i})),dA(t)||(t=dA(l)||dA(i)||dA(a)||dA(o)||dA(c)),t}function dA(e){return e&&!/^\s*$/.test(e)?e:""}function hA(e){return fA(e)||pA(e)}function fA(e){return/^([A-Z0-9\.\-\_\+])*([A-Z0-9\+\-\_])+\@[A-Z0-9]+([\-][A-Z0-9]+)*([\.][A-Z0-9\-]+){1,8}$/i.test(e)}function pA(e){return/^[0-9]{5,}$/.test(e)}function gA(e){var t=gA._phoneNumberRegex;if(!t){var n="0-9\\uff10-\\uff19\\u0660-\\u0669\\u06F0-\\u06F9\\u0966-\\u096F\\u09E6-\\u09FF\\u0E50-\\u0E59";gA._phoneNumberRegexAllDigits=new RegExp("^s*\\+?(["+n+"]+)s*$","gi"),t=gA._phoneNumberRegex=new RegExp("^s*([+\\(])?((["+n+"]+)([\\(\\)\\s\\-\\+\\.\\,\\#]{1,3}|x|ext))+(["+n+"]+)s*$","gi")}var r=gA._phoneNumberRegexAllDigits;return t.lastIndex=0,r.lastIndex=0,t.test(e)||r.test(e)}function mA(e){return e&&e.replace(/[^0-9]/g,"")}function vA(e){for(var t=0,n=e&&e.length||0;t<n;++t){var r=e[t];if(r.isPrimary)return r}}Object(Sr.b)(Object(Sr.c)(),{"AccountMenu.AccountSettings":"Account Settings","AccountMenu.SignOut":"Sign Out","Name.Display.FirstAndFamilyNames":"%{firstName} %{familyName}","Name.Display.NameIsCJK.FirstAndFamilyNames":"%{familyName}%{firstName}","Button.Help.Tooltip":"Help and Support","Toolbar.AppSwitcher.Tooltip":"Change App","Toolbar.Button.Action.UserAction":"iCloud Settings & Sign Out","HSA.SignoutDialog.Title":"Sign out of iCloud.com?","HSA.SignoutDialog.CheckboxTitle":"Remember me on this browser so I dont have to verify my identity next time.","HSA.SignoutDialog.SignoutButton":"Sign Out","Button.Cancel":"Cancel"});var yA=S.b("AppleIdEntryType",{PHONE_NUMBER:"PHONE_NUMBER",EMAIL:"EMAIL"}),_A=oe.a.extend(v.a,{staticMembers:{EMPTY_USER:null,statusCodes:{INACTIVE:0,FREE_QUALIFIED:2,FREE_NOT_QUALIFIED:3,LITE:4},__QUALIFIED_CLASS_NAME__:"User"},firstName:v.g(""),lastName:v.g(""),statusCode:v.g(),countryCode:v.g(),isChineseAccount:v.g({dependencies:["countryCode"],readOnly:!0,get:Object.assign((function(){return"CHN"===this.countryCode}),{__CW__getter:function(e,t,n,r){return"CHN"===r.internalGet(this,t[0+n])}})}),SafariBookmarksHasMigratedToCloudKit:!1,loadInfo:function(e){ad.a.pause();for(var t=Object.keys(e),n=0,r=t.length;n<r;n++){var i=t[n];this.set(i,e[i])}ad.a.resume()},isServiceActive:function(e){return!!iA.get("authBag").getServiceInfoFor(e)},displayName:v.g({dependencies:["firstName","lastName","displayablePrimaryAppleId"],readOnly:!0,get:Object.assign((function(){var e=this.get("appleIdEntries");if(!e)return uA({givenName:this.firstName,familyName:this.lastName,emailAddress:this.appleId});var t=vA(e),n=t&&t.type;return uA({givenName:this.firstName,familyName:this.lastName,emailAddress:n===yA.EMAIL.value?t.value:null,phoneNumber:n===yA.PHONE_NUMBER.value?t.formattedValue:null})}),{__CW__getter:function(e,t,n,r){var i=this.get("appleIdEntries");if(!i)return uA({givenName:r.internalGet(this,t[0+n]),familyName:r.internalGet(this,t[1+n]),emailAddress:this.appleId});var a=vA(i),o=a&&a.type;return uA({givenName:r.internalGet(this,t[0+n]),familyName:r.internalGet(this,t[1+n]),emailAddress:o===yA.EMAIL.value?a.value:null,phoneNumber:o===yA.PHONE_NUMBER.value?a.formattedValue:null})}})}),appleId:v.g({dependencies:["appleIdEntries"],set:function(e){this._appleId=e},get:Object.assign((function(){var e=this.get("appleIdEntries");if(!e)return this._appleId;var t=vA(e);return t&&(t.type===yA.PHONE_NUMBER.value?t.formattedValue:t.value)||""}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);if(!i)return this._appleId;var a=vA(i);return a&&(a.type===yA.PHONE_NUMBER.value?a.formattedValue:a.value)||""}})}),normalizedPrimaryAppleId:v.g({dependencies:["appleIdEntries","appleId"],cacheable:!0,readOnly:!0,get:Object.assign((function(){var e=this.appleIdEntries;if(!e)return this.appleId;var t=vA(e);return t&&(t.type===yA.PHONE_NUMBER.value?t.canonicalValue:t.value)||""}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);if(!i)return r.internalGet(this,t[1+n]);var a=vA(i);return a&&(a.type===yA.PHONE_NUMBER.value?a.canonicalValue:a.value)||""}})}),displayablePrimaryAppleId:v.g({dependencies:["appleIdEntries","appleId"],cacheable:!0,readOnly:!0,get:Object.assign((function(){var e=this.appleIdEntries;if(!e)return this.appleId;var t=vA(e);return t&&(t.type===yA.PHONE_NUMBER.value?t.formattedValue:t.value)||""}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);if(!i)return r.internalGet(this,t[1+n]);var a=vA(i);return a&&(a.type===yA.PHONE_NUMBER.value?a.formattedValue:a.value)||""}})}),primaryAppleIdType:v.g({dependencies:["appleIdEntries"],readOnly:!0,cacheable:!0,get:Object.assign((function(){var e=this.appleIdEntries;if(!e){var t=this.normalizedPrimaryAppleId,n=void 0;return fA(t)?n=yA.EMAIL:gA(t)&&(n=yA.PHONE_NUMBER),n}var r=vA(e);return r&&yA.getItemForValue(r.type)}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);if(!i){var a=this.normalizedPrimaryAppleId,o=void 0;return fA(a)?o=yA.EMAIL:gA(a)&&(o=yA.PHONE_NUMBER),o}var s=vA(i);return s&&yA.getItemForValue(s.type)}})}),isPrimaryAppleIdTypePhoneNumber:v.g({readOnly:!0,cacheable:!0,dependencies:["primaryAppleIdType"],get:Object.assign((function(){return this.primaryAppleIdType===yA.PHONE_NUMBER}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===yA.PHONE_NUMBER}})}),isPrimaryAppleIdTypeEmail:v.g({readOnly:!0,cacheable:!0,dependencies:["primaryAppleIdType"],get:Object.assign((function(){return this.primaryAppleIdType===yA.EMAIL}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===yA.EMAIL}})}),primaryEmail:v.g(null),appleIdAliases:v.g(null),appleIdAlias:v.g(null),iCloudAppleIdAlias:null,appleIdEntries:v.g(null),dsid:null,isMyEmailAddressOrPhoneNumber:function(e){return!!e&&(e=(e||"").toLowerCase(),!!this._appleIdEmailsLookupTable[e]||!!gA(e)&&(e=mA(e),!!this._appleIdPhoneNumbersLookupTable[e]))},_appleIdEmailsLookupTable:v.g({dependencies:["appleId","primaryEmail","appleIdAliases","appleIdEntries"],cacheable:!0,readOnly:!0,get:function(){return this._buildAppleIdLookupTable(yA.EMAIL)}}),_appleIdPhoneNumbersLookupTable:v.g({dependencies:["appleId","primaryEmail","appleIdAliases","appleIdEntries"],cacheable:!0,readOnly:!0,get:function(){return this._buildAppleIdLookupTable(yA.PHONE_NUMBER)}}),hasEmailAddress:v.g({dependencies:["_appleIdEmailsLookupTable"],cacheable:!0,readOnly:!0,get:Object.assign((function(){var e=this._appleIdEmailsLookupTable;return Object.keys(e).length>0}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return Object.keys(i).length>0}})}),_buildAppleIdLookupTable:function(e){var t,n,r={},i=this.appleIdEntries;if(i){for(t=0,n=i.length;t<n;++t){var a=i[t];e&&a.type!==e.value||(r[((a.type===yA.PHONE_NUMBER.value?a.canonicalValue:a.value)||"").toLowerCase()]=!0)}return r}if(e===yA.PHONE_NUMBER)return r;var o=this.appleId,s=this.primaryEmail,c=this.appleIdAliases;for(o&&(r[o.toLowerCase()]=!0),s&&(r[s.toLowerCase()]=!0),t=0,n=c&&c.length||0;t<n;++t){var l=c[t];l&&(r[l.toLowerCase()]=!0)}return r}});_A.EMPTY_USER=_A.create({firstName:"No",lastName:"User"});var bA=oe.a.extend(v.a,{user:v.g(Me.b(_A)),clientInfo:y.c(),processAuthBag:function(e){if(e){var t=e.hasMinimumDeviceForPhotosWeb;void 0===t&&(t=!0),this.set("hasMinimumDeviceForPhotosWeb",t);var n=this.user;n.loadInfo(e.dsInfo),n.loadInfo(e.iCloudInfo),this.set("iCloudEnvironment",e.environment),this.set("isAppleInternal",!(!e.requestInfo||!e.requestInfo.isAppleInternal)),this.set("clientInfo",e.requestInfo),this.set("hsaTrustedBrowser",e.hsaTrustedBrowser),this.set("apps",e.apps),this.loadServicesInfo(e.webservices)}},apps:v.g(null),iCloudEnvironment:null,isAppleInternal:v.g(null),hsaTrustedBrowser:v.g(null),loadServicesInfo:function(e){var t,n,r;for(n in e||Xn.b("User.loadServicesInfo: `webservices` must be supplied"),t={},e)(r=M.a(e[n])).name=n,t[n]=lA.create(r);this.set("servicesInfo",t)},getServiceInfoFor:function(e){e||d.b.warn("User.getServiceInfoFor(): `serviceName` must be specified");var t=this.get("servicesInfo");return t?t[e]:null},getServiceUrlFor:function(e,t){var n,r=this.getServiceInfoFor(e),i=null;return r?(i=r.get("url")||null)||(n=OT.a("User.getServiceUrlFor(): Could not find the URL for \u201c%{name}\u201d",{name:e})):n=OT.a("User.getServiceUrlFor(): Could not find service information for \u201c%{name}\u201d",{name:e}),n&&(t?Xn.b(n):d.b.error(n)),i},servicesInfo:v.g(),hasMinimumDeviceForPhotosWeb:v.g(!1),staticMembers:{__QUALIFIED_CLASS_NAME__:"AuthBag"}}),wA=oe.a.extend(v.a,{timeStamp:v.g((new Date).getTime()),storageUsageByMedia:v.g(),totalStorageInBytes:v.g(),commerceStorageInBytes:v.g(),usedStorageInBytes:v.g(),compStorageInBytes:v.g(),overQuota:v.g(),paidQuota:v.g(),staticMembers:{__QUALIFIED_CLASS_NAME__:"QuotaInfo"}}),SA=dc.a;SA.rulesVersion=5;var EA=v.b.extend({cloudOSEnvironmentKey:null,processCloudOSValue:function(e,t){return e},clearUserState:function(e){return e},staticMembers:{__QUALIFIED_CLASS_NAME__:"EnvironmentProperty"}}),IA=S.b("AuthenticationState",{NOT_AUTHENTICATED:0,PARTIALLY_AUTHENTICATED_HSA:1,AUTHENTICATED:2,PARTIALLY_AUTHENTICATED_MANAGED_APPLE_ID:3}),CA=oe.a.extend(v.a,{accountMenu:EA.create(),activeXFileVersion:EA.create(),authBag:EA.create({defaultValue:function(){return bA.create()},processCloudOSValue:function(e,t){return t.processAuthBag(e),t},clearUserState:function(){return bA.create()}}),clientId:EA.create(),sessionID:EA.create(),versions:EA.create(),currentlyActiveApplication:EA.create(),route:EA.create(),displayName:EA.create(),accountPreferences:EA.create(),appPreferences:EA.create(),appParameters:EA.create(),iCloudEnvironment:EA.create({cloudOSEnvironmentKey:"environment"}),hostname:EA.create(),isBeta:EA.create(),isDeveloper:EA.create(),isFuture:EA.create(),isCarry:EA.create(),isCarryUser:EA.create(),isCloudOS2:EA.create(),limitedExperienceMode:EA.create(),primaryInteractionMode:EA.create(),requestedStartupUrl:EA.create(),requestedStartupInfo:EA.create(),userAuthenticationState:EA.create(),userStatusCode:EA.create(),pushToken:EA.create(),defaultAssetHostname:EA.create(),useAdditionalTopLevelClassNamesProvidedByCloudOS:EA.create({defaultValue:!0}),sizeClass:EA.create(),visualViewport:EA.create(),isUserNotAuthenticated:v.g({readOnly:!0,dependencies:["userAuthenticationState"],get:Object.assign((function(){return this.userAuthenticationState===IA.NOT_AUTHENTICATED.value}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===IA.NOT_AUTHENTICATED.value}})}),isUserPartiallyAuthenticated:v.g({readOnly:!0,dependencies:["userAuthenticationState"],get:Object.assign((function(){return this.userAuthenticationState===IA.PARTIALLY_AUTHENTICATED_HSA.value}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===IA.PARTIALLY_AUTHENTICATED_HSA.value}})}),isUserAuthenticated:v.g({readOnly:!0,dependencies:["userAuthenticationState"],get:Object.assign((function(){return this.userAuthenticationState===IA.AUTHENTICATED.value}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===IA.AUTHENTICATED.value}})}),isLiteAccount:v.g({readOnly:!0,dependencies:["userStatusCode"],get:Object.assign((function(){return 4===this.userStatusCode}),{__CW__getter:function(e,t,n,r){return 4===r.internalGet(this,t[0+n])}})}),userIsAuthenticated:v.g({readOnly:!0,dependencies:["isUserAuthenticated"],get:Object.assign((function(){return this.get("isUserAuthenticated")}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])}})}),quotaData:EA.create({defaultValue:function(){return wA.create()},processCloudOSValue:function(e,t){return wA.create(e)},clearUserState:function(){return wA.create()}}),isUserOverQuota:v.g({readOnly:!0,dependencies:["quotaData"],get:Object.assign((function(){var e=this.quotaData;return e?e.get("overQuota"):null}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return i?i.get("overQuota"):null}})}),_environmentProperties:null,initializeClass:function(){this.__s._$1lX$initializeClass.apply(this,arguments);var e=this.getMetadataByType(EA),t=this._environmentProperties={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];n=r.cloudOSEnvironmentKey||n,r.cloudOSEnvironmentKey=n,t[n]=r}},processCloudOSEnvironment:function(e){var t=this,n=b.a.create();if(!e)return n.resolve();for(var r in e)e.hasOwnProperty(r)&&this._processCloudOSEnvironmentProperty(r,e[r]);return this._processRegionFormattingRules(e).then((function(){var r=e.additionalClassNamesForBody;r&&t._setupAdditionalClassNamesProvidedByCloudOS(r),n.resolve()})),n},_processRegionFormattingRules:function(e){var t=b.a.create(),n=e.regionFormattingRules;if(n)if(e.regionFormattingRulesVersion===SA.rulesVersion)d.b.info("RegionFormatter: registering CloudOS rules"),SA.registerRegionFormat(n),t.resolve();else{var r=n.locale,i=e.regionFormattingRulesBaseUrl,a=this._getRegionFormattingHostInfo(i);d.b.info("RegionFormatter: version mismatch - loading new rules"),SA.loadFormattingRules(a,r).then((function(){d.b.info("RegionFormatter: version mismatch - new rules loaded"),t.resolve()})).catch((function(e){Xn.b("Could not load default formatting rules (en-US)",e)}))}else t.resolve();return t},_processCloudOSEnvironmentProperty:function(e,t){var n=this._environmentProperties[e];if(n&&n.processCloudOSValue){e=n.key;var r=this.get(e);zr(this,e,n.processCloudOSValue.call(this,t,r))}},_setupAdditionalClassNamesProvidedByCloudOS:function(e){if(this.useAdditionalTopLevelClassNamesProvidedByCloudOS&&e){var t=e.split(",");document.documentElement.classList.add(t)}},_getRegionFormattingHostInfo:function(e){var t=this.defaultAssetHostname;return e||(e="https://"+t+"/locales/"),gc.create({urlString:e+SA.rulesVersion,requestProperties:{useCredentialsIfCrossOrigin:!1}})},clearUserState:function(){var e=this.getMetadataByType(EA);for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];this.set(t,n.clearUserState(this.get(t)))}},__superMap:{_$1lX$initializeClass:"initializeClass"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Environment"}}),OA=n(1413),TA=tA.extend({init:function(e){this.__s._$2x$init.call(this,e),this._allRegistedReceivers=[],this._registeredReceivers={}},addTargetActionForOrigin:function(e,t,n){var r=this._registeredReceivers[n];r||(r=this._registeredReceivers[n]=[]);var i={target:e,action:t};r.push(i),this._allRegistedReceivers.push(i)},removeTargetActionForOrigin:function(e,t,n){var r=this._registeredReceivers[n];this._removeTargetActionFromArray(e,t,r),this._removeTargetActionFromArray(e,t,this._allRegistedReceivers)},getTargetActionsForOrigin:function(e){return"*"===e?this._allRegistedReceivers:this._registeredReceivers[e]||null},dispatchMessage:function(e){var t=e.origin,n=this.getTargetActionsForOrigin(t),r=n?n.length:0,i=!1;this.logTrace("dispatching message from origin "+t);for(var a=0;a<r;a++){var o=n[a],s=o.target,c=o.action;ce.a(c)&&(c=s[c],Z.a(c)||Xn.b("Cannot dispath message. No method '"+c+"' for target",{channel:this,action:c,message:e})),this.logTrace("dispatching message to target "+s),c.call(s,e),i=!0}i||this.logTrace("No target-action pair for message")},_removeTargetActionFromArray:function(e,t,n){for(var r=n.length,i=null,a=0;a<r;a++){var o=n[a];if(o.target===e&&o.action===t){i=o;break}}i&&OA.a(i,n)},__superMap:{_$2x$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"RPCBaseInputChannel"}}),AA=oe.a.extend({data:null,origin:null,source:null,originalEvent:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"RPCMessageEvent"}}),NA=TA.extend({init:function(e){this.__s._$3v$init.call(this,e),this._receivedMessageHandler=MA.bind(this)},willOpen:function(){this.window.addEventListener("message",this._receivedMessageHandler),this.didOpen()},willClose:function(){this.window.removeEventListener("message",this._receivedMessageHandler),this.didClose()},__superMap:{_$3v$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"RPCInputChannel"}});function MA(e){var t=e.data,n=e.origin,r=e.source;if(t&&n&&r){if(ce.a(t))try{t=JSON.parse(t)}catch(a){return}var i=AA.create({data:t,origin:n,originalEvent:e});i.set("source",r),this.dispatchMessage.call(this,i)}}var DA={"https://www.icloud.com":!0,"https://beta.icloud.com":!0,"https://future.icloud.com":!0,"https://carry.icloud.com":!0,"https://www.icloud.com.cn":!0,"https://sprinkles.icloud.com":!0},RA=window,LA=VT.Activating.Init.createSubstate("WaitingForCloudOSRunMessage"),kA="didFetchStartup",xA=0,FA=1,PA=2,jA=3,UA=4,BA=KT.extend(cA,{_rpcCallbacks:Me.b(Object),initiatedCloudKitJSLoading:!1,inputChannel:y.c({readOnly:!0}),outputChannel:y.c({readOnly:!0}),cloudOSMethodNames:null,cloudOSState:null,launchReason:null,originForIO:null,environment:v.g(Me.b(CA)),init:function(e){this.__s._$2Fn$init.apply(this,arguments),window.CloudOS=sA,window.CK=oA,this._cosMessageHandlers={},this._cosPendingMessages=[];var t=this.application;this.setCloudMessageHandler("_applicationShouldInvokeMain",this,this._cosMessagePrepareApplicationForLoad),this.setCloudMessageHandler("_cloudOSStateChange",this,this._cosMessageCloudOSStateChange),this.setCloudMessageHandler("_clearUserState",this,this._cosMessageClearUserState),this.setCloudMessageHandler(kA,this,this._cloudosDidFetchStartup),this.setCloudMessageHandler("applicationWillBecomeActive",t,t.willBecomeActive),this.setCloudMessageHandler("applicationDidBecomeActive",t,t.didBecomeActive),this.setCloudMessageHandler("applicationWillSuspend",t,t.willBecomeSuspended),this.setCloudMessageHandler("applicationDidSuspend",t,t.didBecomeSuspended),this.setCloudMessageHandler("applicationShouldRefresh",t,t.shouldRefresh),this.setCloudMessageHandler("receiveMeCard",t,t.receiveMeCard),this.setCloudMessageHandler("userDidRevalidate",t,t.userDidRevalidate),this.setCloudMessageHandler("quotaDataDidChange",t,t.quotaDataDidChange),this.setCloudMessageHandler("quotaDataFailedToLoad",t,t.quotaDataFailedToLoad),this.setCloudMessageHandler("accountPreferencesDidChange",t,t.accountPreferencesDidChange),this.setCloudMessageHandler("didReceiveNotification",t,t.didReceiveNotification),this.setCloudMessageHandler("launchOptionsDidChange",t,t.launchOptionsDidChange),this.setCloudMessageHandler("willResolveCKShortGUID",t,t.willResolveCKShortGUID),this.setCloudMessageHandler("didResolveCKShortGUID",t,t.didResolveCKShortGUID),this.setCloudMessageHandler("didFailToResolveCKShortGUID",t,t.didFailToResolveCKShortGUID),this.setCloudMessageHandler("didResolveCKShortGUIDWithoutAcceptance",t,t.didResolveCKShortGUIDWithoutAcceptance),this.setCloudMessageHandler("ckShortGUIDDidChange",t,t.ckShortGUIDDidChange),this.setCloudMessageHandler("didFetchAppUrl",t,t.didFetchAppUrl),this.setCloudMessageHandler("miniSpringboardDismissed",t,t.miniSpringboardDismissed),this.setCloudMessageHandler("_sleep",t,t._sleep),this.setCloudMessageHandler("_wake",t,t._wake),this.setCloudMessageHandler("_hasReceivedFocus",t,t._hasReceivedFocus),this.setCloudMessageHandler("_mouseMove",t,t._mouseMove),this.setCloudMessageHandler("_mouseUp",t,t._mouseUp),this.setCloudMessageHandler("adjustLayout",t,t.adjustLayout)},loadInputChannelForWindow:function(e){var t=window["cosk.system.applicationDriver.loadInputChannelDelegate"];return t?(this.logTrace("using delegate to load input channel"),t(this,e)):NA.create({window:e})},loadOutputChannelForWindowWithOrigin:function(e,t){var n=window["cosk.system.applicationDriver.loadOutputChannelDelegate"];return n?(this.logTrace("using delegate to load output channel"),n(this,e,this.originForIO)):rA.create({window:e,origin:this.originForIO})},setCloudMessageHandler:function(e,t,n){this._cosMessageHandlers[e]={target:t,action:n}},didStartInitialActivation:function(){this.__s._$3Mb$didStartInitialActivation.apply(this,arguments);var e,t=this._getInputChannelWindow();for(e in DA){var n=DA[e]=this.loadInputChannelForWindow(t);n.addTargetActionForOrigin(this,"_handleIncomingCloudOSMessage",e),n.open()}this.logTrace("waiting for initial CloudOS message"),this.setState(LA)},didStartFinalizingActivation:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.__s._$3W9$didStartFinalizingActivation.apply(this,arguments);var t,n=this._cosMessageHandlers;this._cosPendingMessages.forEach((function(e){var t=e.methodName,r=e.args,i=n[t],a=i.target;i.action.apply(a,r)})),this._cosPendingMessages=[],e||(t={windowPerfStats:WA()}),this._sendCloudOSMessage("applicationIsReady",t),this.didFinishFinalizingActivation()},isReadyToTerminateDidChange:function(e){this._sendCloudOSMessage("isReadyToTerminateDidChange",e)},sendCloudOSMessage:function(e){e||(e={}),e.isCloudOSMessage||(e.isCloudOSMessage=!0),e.appName||(e.appName=this.application.name);var t=Wn.a();e.id=t;var n=this._rpcCallbacks,r=b.a.create();n[t]=r,setTimeout((function(e){var t=new Error("Timed out.");e.reject(t)}),15e3,r);var i=this.outputChannel;return i?i.sendMessage(e):d.b.warn("Could not send message.",e),r},_handleIncomingCloudOSMessage:function(e){var t=e.data;if(!this.originForIO){var n;for(n in DA)n!==e.origin?(DA[n].close(),DA[n]=!1):this._inputChannel=DA[n];this.originForIO=e.origin}if(t.isCloudOSMessage){if(!this._outputChannel){var r=this.getIOChannelOrigin(),i=this._outputChannel=this.loadOutputChannelForWindowWithOrigin(e.source,r);this.logTrace("loaded output channel"),i.open()}var a=t.methodName,o=t.args;this.logTrace("Received CloudOS message "+a),this._dispatchCloudOSMessageForMethodName(a,o)}else d.b.debug("ApplicationDriver._handleIncomingCloudOSMessage: Received message not from CloudOS, ignoring.")},_dispatchCloudOSMessageForMethodName:function(e,t){var n=this,r=t[0],i=this._rpcCallbacks,a=i[r];if(a){delete i[r],this._rpcCallbacks=i,t.shift();var o=t.shift();try{a.resolve(o)}catch(g){this.handleApplicationCrash({error:g.message||""+g},d.b.stringifyRecordedLogMessages())}}else{var s=this._cosMessageHandlers[e];if(s){var c=s.target,l=s.action,u=!!c[l],h=ce.a(l)?c[l]:l,f=function(e){n.handleApplicationCrash({error:e.message||""+e,action:l.toString(),isMethod:u},d.b.stringifyRecordedLogMessages())};try{var p=h.apply(c,t);p&&p.catch&&p.catch(f)}catch(g){f(g)}}else d.b.info(this+" No handler for CloudOS message "+e)}},_sendCloudOSMessage:function(e){this.logTrace("sending CloudOS message "+e);var t=ug.a(arguments,1),n=this._createMessageForCloudOS(e,t),r=this.outputChannel;r?r.sendMessage(n):d.b.warn("Could not send message. "+n)},_sendCloudOSMessageWithPromise:function(e){this.logTrace("sending CloudOS message with promise "+e);var t=ug.a(arguments,1),n=this._createMessageForCloudOS(e,t);return this.sendCloudOSMessage(n)},_createMessageForCloudOS:function(e,t){return{isCloudOSMessage:!0,methodName:e,appName:this.application.name,args:t,buildNumber:window.__CW_BUILD_INFO.buildNumber,masteringNumber:window.__CW_BUILD_INFO.masteringNumber}},getIOChannelOrigin:function(){return window["cosk.system.applicationDriver.ioChannelOrigin"]||this.originForIO},_getInputChannelWindow:function(){return window["cosk.system.applicationDriver.inputChannelWindow"]||RA},_cosMessagePrepareApplicationForLoad:function(e,t,n,r){var i=this;return this.fatalErrorIfNotInState(LA),this.cloudOSMethodNames=e,this.cloudOSState=t,this.launchReason=n,this.environment.processCloudOSEnvironment(t).then((function(){window.addEventListener("unload",(function(){i.appWillUnload()})),i.didFinishInitialActivation()}))},_cosMessageCloudOSStateChange:function(e){var t=this.environment;this._checkIfAppPreferencesChanged(e),t.processCloudOSEnvironment(e)},_cosMessageClearUserState:function(){this.environment.clearUserState()},_cloudosDidFetchStartup:function(e,t,n){var r=this.state,i=this.application;if(r.fullValue>=VT.Activating.Finalize.fullValue){var a=i.didFetchStartup;a&&a.apply(i,[e,t,n])}else this._cosPendingMessages.push({methodName:kA,args:[e,t,n]})},_checkIfAppPreferencesChanged:function(e){var t,n=e.appPreferences,r=this.application;if(n)for(t in n)t===r.get("name")&&r.appPreferencesDidChange()},showAppSwitcher:function(e){e||(e=VA),this._sendCloudOSMessage("showAppSwitcher",{top:e.get("top"),left:e.get("left"),width:e.get("width"),height:e.get("height")})},showSpringBoard:function(){this._sendCloudOSMessage("showSpringBoard")},showAccountSettings:function(){this._sendCloudOSMessage("showAccountSettings")},performLogout:function(){this._sendCloudOSMessage("performLogout"),this.get("application").willBecomeUnloaded()},reload:function(){this._sendCloudOSMessage("reload"),this.get("application").willBecomeUnloaded()},appWillUnload:function(){var e=d.b.stringifyRecordedLogMessages();this._sendCloudOSMessage("appWillUnload",e)},recordStat:function(e,t){var n=HA(t);this._sendCloudOSMessage("recordStat",e,n)},recordPerfStat:function(e,t){var n=HA(t);this._sendCloudOSMessage("recordPerfStat",e,n)},requestSent:function(){this._sendCloudOSMessage("requestSent")},requestReceived:function(e,t,n,r){this._sendCloudOSMessage("requestReceived",e,t,n,r)},beginStat:function(e,t){this._sendCloudOSMessage("beginStat",e,t)},endStat:function(e,t){var n=HA(t);this._sendCloudOSMessage("endStat",e,n)},invokeMethodOnCloudOS:function(e){this._sendCloudOSMessage.apply(this,arguments)},handleApplicationCrash:function(e,t){var n=iA.authBag,r=iA.currentUser,i={};i.applicationName=iA.cloudOSApplication.name,i.type="exception",i.buildNumber=__CW_BUILD_INFO.buildNumber,i.masteringNumber=__CW_BUILD_INFO.masteringNumber,i.locale=__CW_BUILD_INFO.locale,i.environment=n.get("iCloudEnvironment"),i.isFatal=!0,i.time=zA(),i.host=window.location.host,i.userAgent=navigator.userAgent+"",r&&(i.dsid=r.dsid),Object.assign(i,e),this._sendCloudOSMessage("handleApplicationCrash",i,t)},exit:function(e,t){this.get("state")!==VT.Deactivating&&(this._sendCloudOSMessage("exit",e,t),this.get("application").willBecomeUnloaded())},showHelp:function(e){var t,n=iA.currentUser.statusCode===_A.statusCodes.LITE,r=Sr.c().toLowerCase();t="ca-es"===r?"es-es/":"vi-vi"===r?"vi-vn/":"en-us"!==r?r+"/":"";var i=A.a.sharedInstance.isChrome?705:675;e||(e="welcome");var a="http://support.apple.com/"+t+"guide/"+(n?"icloud-web-only":"icloud")+"/"+e+"/";this.recordStat("helpButtonClicked"),window.open(a,"help","height="+i+",width=875,location=0,status=0,scrollbars=0")},showAccountMenu:function(e){this._sendCloudOSMessage("showAccountMenu",e)},showCreationMenu:function(){this._sendCloudOSMessage("showCreationMenu")},showStorageUsageWarning:function(e){this._sendCloudOSMessage("showStorageUsageWarning",e)},setAppBanner:function(e){var t=this.application;this._sendCloudOSMessage("setAppBanner",e,t.name)},openIWorkFile:function(e){var t=e.appName,n=this.environment.defaultAssetHostname;t=t.replace(/-tef$/,"");var r,i=e.sharingToken,a=e.zone,o=e.documentId,s=iA.currentUser.dsid;return i?r=OT.a("//%{defaultAssetHostname}/%{appName}/%{sharingToken}",{defaultAssetHostname:n,appName:t,sharingToken:i}):o&&(r=OT.a("//%{defaultAssetHostname}/%{appName}/docws:%{dsid}:%{zone}:%{docId}",{defaultAssetHostname:n,appName:t,dsid:s,zone:a,docId:o})),window.open(r,"_blank")},getValidateToken:function(){TT.get("X-APPLE-WEBAUTH-VALIDATE")},setStartupUrl:function(e){this._sendCloudOSMessage("setStartupUrl",e),this.environment.requestedStartupUrl=e},setStartupInfo:function(e){this._sendCloudOSMessage("setStartupInfo",e),this.environment.requestedStartupInfo=e},refreshQuotaData:function(){this._sendCloudOSMessage("refreshQuotaData")},fetchIcon:function(e,t,n,r){return n||(n=$r.a.sharedInstance.devicePixelRatio),this._sendCloudOSMessageWithPromise("fetchIcon",e,t,n,r)},getConformingTypes:function(e){return this._sendCloudOSMessageWithPromise("getConformingTypes",e)},fetchBlankFolderIcon:function(e,t,n){return n||(n="web"),this.fetchIcon("public.folder",e,t,n)},fetchBlankFileIcon:function(e,t,n){return n||(n="web"),this.fetchIcon("public.item",e,t,n)},requestMeCard:function(){this._sendCloudOSMessage("requestMeCard")},setRoute:function(e){this._sendCloudOSMessage("setRoute",e)},setTitle:function(e){this._sendCloudOSMessage("setTitle",e)},openIWorkDocument:function(e,t,n){var r={isCloudOSMessage:!0,methodName:"openFromSource",isWindowApplicationMessage:!0,args:{fileName:e,url:t,source:this.getPath("application.name")}},i="/iw/#open_from_source/"+n,a=aA.openWindowApplication(i,"_blank");aA.passWindowApplicationMessage(a,"openFromSource",r.args)},setAppPreferences:function(e){this._sendCloudOSMessage("setAppPreferences",e)},setAccountPreference:function(e,t){this._sendCloudOSMessage("setAccountPreference",e,t)},revalidateUser:function(){return this._sendCloudOSMessageWithPromise("revalidateUser")},didReceiveSpecialResponse:function(e,t,n){this._sendCloudOSMessage("didReceiveSpecialResponse",e,t,n)},sendLocalNotification:function(e,t,n,r){this._sendCloudOSMessage("sendLocalNotification",e,t,n,r)},loadCloudKitJS:function(e){var t=this.initiatedCloudKitJSLoading;if(!window.CloudKit&&!t){var n=e||iA.environment.versions.cloudkitjs,r="cdn.apple-cloudkit.com";iA.environment.isCarry&&(r="carry.icloud.com");var i="https://"+r+"/ck/"+n+"/cloudkit.js",a=document.createElement("script");a.setAttribute("src",i),document.head.appendChild(a),this.initiatedCloudKitJSLoading=!0}},isHostReachable:function(e){var t=al.a.create(e);return t.pathname="/blank.png",Cl.a.create({url:t}).send()},replaceCurrentApp:function(e){this._sendCloudOSMessage("replaceCurrentApp",e)},fetchAppUrl:function(e,t){this._sendCloudOSMessage("fetchAppUrl",e,t)},didBecomeInteractive:function(e,t){this._sendCloudOSMessage("didBecomeInteractive",e,t)},__superMap:{_$2Fn$init:"init",_$3Mb$didStartInitialActivation:"didStartInitialActivation",_$3W9$didStartFinalizingActivation:"didStartFinalizingActivation"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ApplicationDriver"}}),VA={top:0,left:0,width:0,height:0,get:function(e){return this[e]}};function WA(){var e={};if(window.performance&&window.performance.timing){var t=window.performance.timing,n=t.navigationStart,r=t.domainLookupStart,i=t.domainLookupEnd,a=t.connectStart,o=t.connectEnd,s=t.secureConnectionStart,c=t.fetchStart,l=t.requestStart,u=t.responseStart,d=t.responseEnd,h=t.loadEventStart,f=t.loadEventEnd,p=t.domLoading,g=t.domInteractive,m=t.domContentLoadedEventStart;e={redirectTime:c-n,appCacheTime:r-c,dnsLookupTime:i-r,tcpTime:o-a,tlsTime:s>0?o-s:0,fetchTime:d-c,requestTime:u-o,totalDocumentRequestTime:d-l,documentDownloadTime:d-u,processingTime:h-p,timeToFirstByteOfDocument:u-l,timeToLoadDOMContent:t.domContentLoadedEventEnd-m,timeBeforeUserCanInteract:g-p,totalPageLoadTime:f-n}}return e}function zA(){return new Date+"        ("+Date.now()+")"}function HA(e){var t=e||{};return t.time||(t.time=zA()),t}Error.stackTraceLimit=1/0;var GA=oe.a.extend({init:function(){this.__s._$64$init.apply(this,arguments)},error:null,handleException:function(){var e=this.get("_errorReportRequestBody");this.createModifiedErrorBodyBeforeSend&&(e=this.createModifiedErrorBodyBeforeSend(e)),iA.get("cloudOSService").handleApplicationCrash(e,d.b.stringifyRecordedLogMessages())},createModifiedErrorBodyBeforeSend:null,_errorReportRequestBody:y.c({get:function(){var e=this.get("error"),t={};return t.error=e.message||""+e,t.errorContext=de(e.context),t.stack=this._truncateStack(e.stack),t.line=this._getErrorLineNumber(e),t}}),_truncateStack:function(e){if(!e)return e;var t=(e=e.trim()).split("\n"),n=t.length;if(n<=501)return e;var r=n-400-100;return t.splice(400,r,"... "+r+" lines truncated ..."),t.join("\n")},_getErrorLineNumber:function(e){var t=e.lineNumber||e.line;if(!t)try{var n=e.stack.split("\n")[1].split(":");t=n[n.length-2]}catch(r){t="Unknown"}return t},__superMap:{_$64$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"FatalExceptionHandler"}}),$A=Fe.a.extend({bodyElement:window.document.body,action:function(){var e=$r.a.sharedInstance,t=e.osMajorVersion,n=e.osMinorVersion;if(e.isMac){if(t<10||n<14)return}else{if(!e.isiOS)return;if(t<12)return}this.bodyElement.setAttribute("apple-system-font-capable",!0)},staticMembers:{__QUALIFIED_CLASS_NAME__:"FontCapabilityInitializer"}});function KA(e,t){var n;if(!(window&&window.parent&&window===window.parent||!window.parent.postMessage))try{n=e&&e.name?e.name:window.location.pathname.match(/applications\/(.*?)\/current/)[1];var r=globalThis.__CW_BUILD_INFO,i={appName:n,buildNumber:r.buildNumber,masteringNumber:r.masteringNumber,args:t,isCloudOSMessage:!0,methodName:"recordApplicationMessage"};window.parent.postMessage(JSON.stringify(i),"*")}catch(a){}}var QA=["icloud\\.developer\\.apple","icloud"],qA="("+QA.join("|")+")\\.com.*\\/index\\.html",ZA="("+QA.join("|")+")\\.com.*\\/main\\.js",YA=new RegExp(qA),XA=new RegExp(ZA);function JA(e){var t=e.detail,n=t.message,r=t.filename,i=t.lineno,a=t.colno,o=t.error;return{error:o&&o.message?o.message:n,url:r,lineNumber:i,columnNumber:a,stack:o?o.stack:"not available",wasLoggedAt:o?o.wasLoggedToCloudOSAt:"no error obj"}}var eN=S.b("SizeClass",{COMPACT:"COMPACT",REGULAR:"REGULAR"}),tN="("+["icloud\\.developer\\.apple","icloud"].join("|")+")\\.com.*\\/main\\.js",nN=new RegExp(tN);function rN(e){var t=(e.detail.nativeEvent.reason||{}).stack;if("string"!==typeof t)return{error:"unknown"};var n=t.split("\n"),r=n.length>1?n[0]:n[0].substring(0,80),i=(n[1]||n[0]).match(/at (http.*icloud\.com.*\/main\.js):([0-9]+):([0-9]+)/);return i?{error:r,url:i[1],lineNumber:i[2],columnNumber:i[3],stack:t}:{error:r,stack:t}}var iN=UT("CloudOS Application",(function(e){e("NotLoaded"),e("Loading",(function(e){e("Init"),e("Prepare"),e("Finalize")})),e("Loaded",(function(e){e("Prepared"),e("Activating"),e("Active"),e("Suspending"),e("Suspended")})),e("Unloading"),e("FatalError")})),aN=iN.NotLoaded,oN=iN.Loading,sN=iN.Loaded,cN=iN.Unloading,lN=iN.FatalError,uN=dt.extend(AT,NT,{name:v.g({readOnly:!0}),cloudOSState:v.g({readOnly:!0,get:function(){return this.getCurrentStateForStateEnumGroup(iN)}}),driver:y.c({readOnly:!0,get:function(){var e=this._driver;return e||(e=this._driver=this.loadDriver())||Xn.b("Error loading cloud OS application driver."),e}}),cloudOSService:v.g({readOnly:!0,strong:!0,get:function(){var e=this._cloudOSService;return e||(e=this._cloudOSService=this.loadCloudOSService())||Xn.b("Error loading cloud OS service"),e}}),isBeta:y.c({readOnly:!0,get:function(){return"beta.icloud.com"===window.location.host}}),isCarry:y.c({readOnly:!0,get:function(){return"carry.icloud.com"===window.location.host}}),isFuture:y.c({readOnly:!0,get:function(){return"future.icloud.com"===window.location.host}}),errorFilter:function(e){var t=e.filename;if(!t||YA.test(t)){var n=e.error.stack;if(n){var r=n.split("\n");t=r[1]||r[0]}}return XA.test(t)},fatalErrorHandler:function(e){var t=JA(e);t.isFatal=!0,KA(this,["OnFatalError",t]);var n=e.detail.error,r=ir.a();r.exceptionHandler(n),r.exceptionWasHandled=!0},nonFatalErrorHandler:function(e){var t=JA(e);t.isFatal=!1,KA(this,["OnNonFatalError",t])},unhandledRejectionFilter:function(e){var t=e.reason;if(t){var n,r=t.stack,i=t.sourceURL;if(i)n=i;else if(r){var a=r.split("\n");n=a[1]||a[0]}return nN.test(n)}return!1},fatalUnhandledRejectionHandler:function(e){var t=rN(e);t.isFatal=!0,KA(this,["OnFatalUnhandledRejection",t])},nonFatalUnhandledRejectionHandler:function(e){var t=rN(e);t.isFatal=!1,KA(this,["OnNonFatalUnhandledRejection",t])},init:function(e){Hr(this.errorFilter,this.fatalErrorHandler.bind(this),this.nonFatalErrorHandler.bind(this)),Gr(this.unhandledRejectionFilter,this.fatalUnhandledRejectionHandler.bind(this),this.nonFatalUnhandledRejectionHandler.bind(this)),this.redirectToCloudOSIfNeeded(),e.name||Xn.b("Cannot create application. Requires a name"),this.registerStateEnumGroup(iN,aN,lN),this.__s._$19h$init.call(this,e),d.b.outputMessagePrefix=this.get("capitalizedName")+":  ",iA.set("cloudOSApplication",this),this.Initializers.push($A)},capitalizedName:v.g({dependencies:["name"],readOnly:!0,get:Object.assign((function(){var e=this.name;return e&&(e="i"!==e.charAt(0)?Wr(e):"i"+Wr(e.substring(1))),e}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return i&&(i="i"!==i.charAt(0)?Wr(i):"i"+Wr(i.substring(1))),i}})}),loadDriver:function(){var e=window["cosk.application.loadDriverDelegate"];return e?(this.logTrace("using delegate to load driver"),e(this)):BA.create({application:this})},loadCloudOSService:function(){var e=window["cosk.application.loadCloudOSServiceDelegate"];return e?(this.logTrace("using delegate to load CloudOS service"),e(this)):this.get("driver")},load:function(){this.transitionFromStateToState(aN,oN.Init),this.get("driver").activate()},prepareForLoad:function(){this.transitionFromStateToState(oN.Init,oN.Prepare)},didPrepareForLoad:function(){this.transitionFromStateToState(oN.Prepare,oN.Finalize),this.get("driver").applicationDidPrepareForLoad()},didBecomeLoaded:function(){this.transitionFromStateToState(oN.Finalize,sN.Prepared)},willBecomeActive:function(){this.fatalErrorIfNotInState(sN.Prepared,sN.Suspended),this.setState(sN.Activating)},didBecomeActive:function(){this.transitionFromStateToState(sN.Activating,sN.Active)},willBecomeSuspended:function(){this.transitionFromStateToState(sN.Active,sN.Suspending)},didBecomeSuspended:function(){this.transitionFromStateToState(sN.Suspending,sN.Suspended)},willBecomeUnloaded:function(){this.setState(cN),this.get("driver").didStartDeactivation()},didBecomeUnloaded:function(){this.transitionFromStateToState(cN,aN),this.get("driver").didFinishDeactivation()},didFetchStartup:function(e,t,n){},quotaDataDidChange:yd.a,quotaDataFailedToLoad:yd.a,receiveMeCard:yd.a,didReceiveNotification:yd.a,launchOptionsDidChange:yd.a,isReadyToTerminate:v.g(!0),setIsReadyToTerminateBlock:function(e){yt.a(e)||Xn.b("You must call setIsReadyToTerminateBlock with an identifying token.",this);var t=this._suddenTerminationBlockTokenSet;t||(t=this._suddenTerminationBlockTokenSet=new Set),t.add(e),this.isReadyToTerminate=!1},removeIsReadyToTerminateBlock:function(e){yt.a(e)||Xn.b("You must call removeIsReadyToTerminateBlock with an identifying token.",this);var t=this._suddenTerminationBlockTokenSet;t||(t=this._suddenTerminationBlockTokenSet=new Set),t.delete(e),0===t.size&&(this.isReadyToTerminate=!0)},_suddenTerminationBlockTokenSet:null,shouldRefresh:function(){},toString:function(){return"["+Ne.a(this)+": "+this._name+"]"},fatalExceptionHandlerClass:GA,handleException:function(e){this.__s._$3Fu$handleException.apply(this,arguments),this.fatalExceptionHandlerClass.create({error:e}).handleException()},_isReadyToTerminateDidChange:v.f("isReadyToTerminate",(function(e){this._isReadyToTerminate=e;var t=this.get("cloudOSService");t&&t.isReadyToTerminateDidChange(e)})),transitionFromStateToState:function(){this.__s._$3Qc$transitionFromStateToState.apply(this,arguments),this.propertyChanged("cloudOSState")},setState:function(){this.__s._$3S9$setState.apply(this,arguments),this.propertyChanged("cloudOSState")},redirectToCloudOSIfNeeded:function(){var e=window.location.pathname;if(window===window.top&&"/"!==e){var t=e.match(/\/applications\/(.*?)\//);t&&t[1]&&(window.location="https://"+window.location.hostname+"/#"+t[1])}},appPreferencesDidChange:yd.a,accountPreferencesDidChange:yd.a,userDidRevalidate:yd.a,didFetchAppUrl:yd.a,willResolveCKShortGUID:yd.a,didResolveCKShortGUID:yd.a,didFailToResolveCKShortGUID:yd.a,didResolveCKShortGUIDWithoutAcceptance:yd.a,ckShortGUIDDidChange:yd.a,miniSpringboardDismissed:yd.a,adjustLayout:function(e){this._sizeClasses=e},_sizeClasses:v.g({type:"hash",set:function(e,t){return Ld.a(t,e)?t:e}}),sizeClassHorizontal:v.g({dependencies:["_sizeClasses"],strong:!0,type:eN,readOnly:!0,get:Object.assign((function(){return eN.getItemForValue(this._sizeClasses&&this._sizeClasses.horizontal)||eN.REGULAR}),{__CW__getter:function(e,t,n,r){return eN.getItemForValue(r.internalGet(this,t[0+n])&&r.internalGet(this,t[0+n]).horizontal)||eN.REGULAR}})}),sizeClassVertical:v.g({dependencies:["_sizeClasses"],strong:!0,type:eN,readOnly:!0,get:Object.assign((function(){return eN.getItemForValue(this._sizeClasses&&this._sizeClasses.vertical)||eN.REGULAR}),{__CW__getter:function(e,t,n,r){return eN.getItemForValue(r.internalGet(this,t[0+n])&&r.internalGet(this,t[0+n]).vertical)||eN.REGULAR}})}),_sleep:yd.a,_wake:yd.a,_hasReceivedFocus:yd.a,_mouseMove:yd.a,_mouseUp:yd.a,__superMap:{_$19h$init:"init",_$3Fu$handleException:"handleException",_$3Qc$transitionFromStateToState:"transitionFromStateToState",_$3S9$setState:"setState"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Application"}}),dN=oe.a.extend({name:null,application:y.c({readOnly:!0,get:function(){var e=this._application;return e||(e=this._application=this.loadApplication()),e}}),init:function(e){this.__s._$My$init.call(this,e),iA.set("launcher",this)},loadApplication:function(){return null},launch:function(){},willLaunchApplication:function(){},didLaunchApplication:function(){},__superMap:{_$My$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseApplicationLauncher"}}),hN=dN.extend({launch:function(){var e=this.get("application");e?(this.willLaunchApplication(),e.load(),this.didLaunchApplication()):d.b.error(this+" Missing application. Cannot launch app")},staticMembers:{__QUALIFIED_CLASS_NAME__:"ApplicationLauncher"}}),fN=oe.a.extend({origin:null,cloudOSHost:null,init:function(e){this.__s._$2u$init.call(this,e),this._registeredEventListeners=[],this._messageQueue=[],this._sendingMessage=!1},addEventListener:function(e,t){this._registeredEventListeners.push(t)},removeEventListener:function(e,t){var n=this._registeredEventListeners,r=n.indexOf(t);r>=0&&n.splice(r,1)},sendMessage:function(e,t){this._messageQueue.push({methodName:e,args:t||[]}),this._trySendingNextMesssage()},_trySendingNextMesssage:function(){if(!this._sendingMessage){var e=this._messageQueue;if(0!==e.length){var t=e.shift(),n=this;this._sendingMessage=!0,setTimeout((function(){t.isCloudOSMessage=!0;for(var e=n.origin,r=n.cloudOSHost,i=n._registeredEventListeners,a=0,o=i.length;a<o;a++){var s=i[a];s&&s.call(window,{data:t,source:r,origin:e})}n._sendingMessage=!1,n._trySendingNextMesssage()}))}}},__superMap:{_$2u$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ApplicationWindowProxy"}}),pN=n(1601),gN=n(1431),mN=Ar.a.extend(gN.a,rp.b,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"cw-checkbox",children:[{type:"ELEMENT",tagname:"input",name:"controlElement",attributes:{id:{key:"id",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"inputGUID",attributes:{},attribute:"id"},type:"ATTRIBUTE"},type:"checkbox"}},{type:"ELEMENT",tagname:"label",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"label",attributes:{}}],name:"labelElement",attributes:{for:{key:"for",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"inputGUID",attributes:{},attribute:"for"},type:"ATTRIBUTE"}}}]}},className:"cw-ui-checkbox",__QUALIFIED_CLASS_NAME__:"Checkbox"},inputGUID:Object(v.g)({type:"string",defaultValue:function(){return Object(sg.a)(this)+"Input"}}),isChecked:Object(v.g)({type:"boolean",defaultValue:!1,didChange:function(e){"boolean"===typeof e?(this.controlElement.checked=e,this.controlElement.indeterminate=!1):this.controlElement.indeterminate=!0}}),defaultFocusElement:Object(_.c)("controlElement"),label:Object(v.g)(""),init:function(){this.__s._$20V$init.apply(this,arguments),this.labelElement.addEventListener("click",Object(rd.a)(this.handleLabelClickEvent,this))},dispose:function(){this.labelElement.removeEventListener("click",Object(rd.a)(this.handleLabelClickEvent,this)),this.__s._$25T$dispose.apply(this,arguments)},change:function(e){this.isChecked=this.controlElement.checked},pointerDown:function(e){var t=$r.a.sharedInstance,n=t.isiOS,r=t.osMajorVersion;(!n||r>12)&&e.preventDefault()},handleLabelClickEvent:function(e){if(e.target===this.labelElement){e.preventDefault();var t=this.controlElement;t&&t.click()}},__superMap:{_$20V$init:"init",_$25T$dispose:"dispose"}}),vN=Jf.a.extend({viewClass:pN.b.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",name:"alertIcon",classes:["alert-icon"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"h1",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"message",attributes:{}}]},{type:"ELEMENT",tagname:"p",children:[{type:"VIEWOUTLET",tagname:"view",name:"hsaTrustedBrowserCheckbox"}]}],classes:["alert-text-container"]}],classes:["alert-main-content"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"primaryButtonView"},{type:"ELEMENT",tagname:"span",classes:["divider",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"alternateButtonView",truevalue:"",falsevalue:"cw-hidden",attributes:{}}]},{type:"VIEWOUTLET",tagname:"view",name:"alternateButtonView"}]},{type:"VIEWOUTLET",tagname:"view",name:"otherButtonView"}],name:"buttonContainer",classes:["alert-button-container",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"primaryButtonView",truevalue:"has-primary-btn",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"alternateButtonView",truevalue:"has-alternate-btn",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"otherButtonView",truevalue:"has-other-btn",attributes:{}}]}],name:"alertView",classes:["cw-alert"],attributes:{role:{key:"role",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"modalDialogRole",attributes:{},attribute:"role"},type:"ATTRIBUTE"},"aria-label":{key:"aria-label",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"alertViewArialLabel",attributes:{},attribute:"aria-label"},type:"ATTRIBUTE"},tabindex:"-1"}}],name:"modalView",classes:["cw-alert-modal",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isOpen",truevalue:"is-open",falsevalue:"is-closing",attributes:{}}]}}}),view:v.g({downstreamBindings:{hsaTrustedBrowserCheckbox:"(owner).hsaTrustedBrowserCheckbox"}}),showingLogoutAlert:v.g(),hsaTrustedBrowser:v.g(),iconNames:"icon-icloud",message:Sr.d("HSA.SignoutDialog.Title"),primaryButton:{title:Sr.d("HSA.SignoutDialog.SignoutButton"),action:"logout"},alternateButton:{title:Sr.d("Button.Cancel")},hsaTrustedBrowserCheckbox:v.g({defaultValue:Me.b(mN,{label:Sr.d("HSA.SignoutDialog.CheckboxTitle"),additionalClassNames:["cw-theme","cw-checkbox","hsa-trusted-browser"]}),downstreamBindings:{isChecked:"(owner).hsaTrustedBrowser"}}),logout:function(){return!1},modalDialogDidDismiss:function(){this.__s._$dz$modalDialogDidDismiss.apply(this,arguments),this.showingLogoutAlert=!1,this.view.enableAllButtons()},__superMap:{_$dz$modalDialogDidDismiss:"modalDialogDidDismiss"},staticMembers:{__QUALIFIED_CLASS_NAME__:"LogoutAlertViewController"}}),yN=S.b("EmbeddedCloudOSHost.State",["Inactive","LoggedOut","LoggingIn","LoggedIn","LoggingOut","Validating","FetchingPreferences"]),_N=[{action:"showAccountSettings",disableWhenCurrentApp:"settings",target:"CloudOS",title:"iCloud Settings"},{action:"performLogout",target:"CloudOS",title:"Sign Out"}],bN="_cloudOSStateChange",wN=oe.a.extend(v.a,ip.a,{staticMembers:{State:yN,__QUALIFIED_CLASS_NAME__:"CloudOSHost"},state:y.c({readOnly:!0,get:function(){return this._state}}),isActive:y.c({readOnly:!0,get:function(){return this._state!==yN.Inactive}}),isLoggedOut:y.c({readOnly:!0,get:function(){return this._state===yN.LoggedOut}}),isLoggingOut:y.c({readOnly:!0,get:function(){return this._state===yN.LoggingOut}}),isLoggedIn:y.c({readOnly:!0,get:function(){return this._state===yN.LoggedIn}}),isLoggingIn:y.c({readOnly:!0,get:function(){return this._state===yN.LoggingIn}}),isFetchingPrefs:y.c({readOnly:!0,get:function(){return this._state===yN.FetchingPreferences}}),defaultAssetHostname:y.c({readOnly:!0,get:function(){var e=window.location.hostname;return"www"+e.substring(e.indexOf("."))}}),origin:y.c({set:function(e){this._origin=e||null},get:function(){var e=this._origin;return e||(e=this._origin=this.loadDefaultOrigin()),e}}),accountMenuItems:y.c({set:function(e){this._accountMenuItems=e||null},get:function(){var e=this._accountMenuItems;return e||(e=this._accountMenuItems=this.loadDefaultAccountMenuItems()),e}}),setupService:null,regionFormatProvider:null,init:function(e){this.__s._$13k$init.call(this,e),this._messageHandlers={},this._appWindowProxy=this.loadApplicationWindowProxy(),this._cloudOSWindowProxy=this.loadCloudOSWindowProxy(),this._state=yN.Inactive,this._userSession={},this.logoutAlertViewController.nextResponder=this,this.addMessageHandler("performLogout",this.performLogout.bind(this)),this.addMessageHandler("setAccountPreference",this.setAccountPreference.bind(this))},addMessageHandler:function(e,t){e&&t||SN("Invalid arguments. Cannot add message handler");var n=this._messageHandlers,r=n[e];r||(r=n[e]=[]),r.push(t)},activate:function(){this.isActive&&SN("Cannot activate. Invalid state");var e=this.origin,t=this._appWindowProxy,n=this._cloudOSWindowProxy;e||SN("Cannot activate. Host requires a valid origin"),t||SN("Cannot activate. Host requires an application window proxy object"),n||SN("Cannot activate. Host requires a CloudOS window proxy object"),this.regionFormatProvider||SN("Cannot activate. Host requires a region format provider"),n.target=this,n.action=this._handleIncomingCloudOSApplicationMessage,t.origin=e,t.cloudOSHost=n,window["cosk.system.applicationDriver.inputChannelWindow"]=t,this._state=yN.LoggedOut},loadApplicationWindowProxy:function(){return fN.create()},loadCloudOSWindowProxy:function(){return IN.create()},loadDefaultAccountMenuItems:function(){return _N},loadDefaultOrigin:function(){var e=location.host.match(/^(www|beta|carry|future)\.icloud\.com[.cn]*$/);return"https://"+(e?e[0]:this.defaultAssetHostname)},login:function(e,t){var n=this;this.isLoggedOut||SN("Cannot login. Invalid state"),e&&t||SN("Cannot login. Host requires a user name and password"),this._state=yN.LoggingIn;var r=this.setupService;return r||SN("Cannot login. Host requires a setup service"),r.login(e,t).then((function(e){return n._completeLogin(e),b.a.resolve()})).catch((function(r){n._state=yN.LoggedOut;var i=EN("Failed to log in");return i.nextError=r,i.username=e,i.password=t,b.a.reject(i)}))},_filterPreferences:function(e){for(var t=e.apps,n={accountPreferences:{},appPreferences:{}},r=function(){var e=t[i],r=e["app-id"],a=e["registry-version"];"account"===r?(e.keys.forEach((function(e){n.accountPreferences[e.name]=e.data})),n.accountPreferences.preferencesVersion=a):(n.appPreferences[r]={},e.keys.forEach((function(e){n.appPreferences[r][e.name]=e.data})),n.appPreferences[r].preferencesVersion=a)},i=0;i<t.length;i++)r();return n},_completeLogin:function(e,t){var n=this._userSession={authorizationBag:e};this._state=yN.LoggedIn;var r=this.regionFormatProvider.getFormattingRulesForLocale("en-us"),i={items:this.accountMenuItems},a=this._filterPreferences(t);this._accountPreferences=a.accountPreferences,this._appPreferences=a.appPreferences;var o={authBag:n.authorizationBag,regionFormattingRules:r,accountMenu:i,accountPreferences:a.accountPreferences,appPreferences:a.appPreferences};this._appWindowProxy.sendMessage("_applicationShouldInvokeMain",[null,o,null,null])},logout:function(){var e=this;this.isLoggedIn||this.isFetchingPrefs||SN("Cannot logout user. Invalid state"),this._state=yN.LoggingOut;var t={};iA.currentUser.hsaEnabled&&(t.trustBrowser=this.hsaTrustedBrowser);var n=this.setupService;return n||SN("Cannot login. Host requires a setup service"),n.logout(t).then((function(){e._state=yN.LoggedOut,e._userSession={};var t=e.defaultAssetHostname,n=encodeURI(window.location.href);return window.location.href="https://"+t+"/#postLoginRedirectUrl="+n,b.a.resolve()})).catch((function(t){e._state=yN.LoggedIn;var n=EN("Failed to log out");n.nextError=t;var r=self._userSession;return n.username=r.username,n.password=r.password,b.a.reject(n)}))},validate:function(){var e=this;this._state=yN.Validating;var t=this.setupService;return t||SN("Cannot validate. Host requires a setup service"),t.validate().then((function(t){return e.fetchPreferences(t),b.a.resolve()})).catch((function(t){e._state=yN.LoggedOut;var n=e.defaultAssetHostname,r=encodeURI(window.location.href),i=EN("Not logged in, redirecting to CloudOS to sign in...");return i.nextError=t,window.location.href="https://"+n+"/#postLoginRedirectUrl="+r,b.a.reject(i)}))},fetchPreferences:function(e){var t=this;this._state=yN.FetchingPreferences;var n=this.keyValueService;return n||SN("Cannot fetch preferences. Host requires a Key Value Service"),n.getPreferences(e).then((function(n){return t._completeLogin(e,n),b.a.resolve()})).catch((function(e){d.b.warn("Unable to fetch preferences"),t.logout()}))},sendMessage:function(e,t){this.isLoggedIn||SN("Cannot send message to application. Invalid state"),this._appWindowProxy.sendMessage(e,t)},sendWillBecomeActiveMessage:function(){this.sendMessage("applicationWillBecomeActive")},sendDidBecomeActiveMessage:function(){this.sendMessage("applicationDidBecomeActive")},sendQuotaDidChangeMessage:function(){this.sendMessage("quotaDataDidChange")},sendQuotaFailedToLoadMessage:function(){this.sendMessage("quotaDataFailedToLoad")},sendQuotaDataMessage:function(e){var t=[{quotaData:e}];this.sendMessage(bN,t)},_handleIncomingCloudOSApplicationMessage:function(e,t){var n=e.methodName;if("applicationIsReady"===n)return this.sendWillBecomeActiveMessage(),void this.sendDidBecomeActiveMessage();var r=this._messageHandlers[n];r?r.forEach((function(n){n.call(null,e,t)})):d.b.warn("EmbeddedCloudOSHost: Unhandled application message '"+n+"'")},showingLogoutAlert:v.g(!1),hsaTrustedBrowser:v.g(iA.bindingFor("authBag.hsaTrustedBrowser")),logoutAlertViewController:v.g({defaultValue:Me.b(vN),downstreamBindings:{showingLogoutAlert:"(owner).showingLogoutAlert",hsaTrustedBrowser:"(owner).hsaTrustedBrowser"},strong:!0}),performLogout:function(){this.isLoggedOut||this.isLoggingOut||this.showingLogoutAlert?d.b.warn("Either the user is not logged in or logout process has already started. Ignoring new logout call."):(this.logoutAlertViewController.show(),this.showingLogoutAlert=!0)},setAccountPreference:function(e){var t=this,n=this.keyValueService;if(n||SN("Cannot set Account Preference. Host requires a setup service"),e.args){var r=e.args[0],i=e.args[1];return n.setAccountPreference(r,i).then((function(e){var n=t._filterPreferences(e).accountPreferences;t._accountPreferences.preferencesVersion=n.preferencesVersion,t.sendMessage(bN,[{accountPreferences:t._accountPreferences}]),d.b.info("Successfully saved account preference")})).catch((function(e){var t=EN("Failed to set account preference");return t.nextError=e,b.a.reject(t)}))}d.b.info("No account preference to save")},__superMap:{_$13k$init:"init"}});function SN(e){Xn.b("EmbeddedCloudOSHost: "+e)}function EN(e){return new Error("EmbeddedCloudOSHost: "+e)}var IN=oe.a.extend({target:null,action:null,postMessage:function(e,t){var n=this.target;this.action.call(n,e,t)},staticMembers:{__QUALIFIED_CLASS_NAME__:"CloudOSWindowProxy"}}),CN=oe.a.extend({rules:y.c({set:function(e){this._regionFormattingRules=e},get:function(){var e=this._regionFormattingRules;return e||(e=this._regionFormattingRules=this.loadRegionFormattingRules(),this.didLoadRegionFormattingRules(e)),e}}),loadRegionFormattingRules:function(){return{locale:"en-US",date:{ca:["gregory","buddhist","chinese","coptic","dangi","ethioaa","ethiopic","generic","hebrew","indian","islamic","islamic-rgsa","islamic-tbla","islamic-umalqura","islamicc","japanese","persian","roc"],hourNo0:!0,hour12:!0,formats:[{weekday:"short",month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",pattern:"{weekday}, {month} {day}, {year}, {hour}:{minute}:{second}",pattern12:"{weekday}, {month} {day}, {year}, {hour}:{minute}:{second} {ampm}"},{weekday:"short",month:"short",day:"numeric",year:"numeric",pattern:"{weekday}, {month} {day}, {year}"},{month:"short",day:"numeric",year:"numeric",pattern:"{month} {day}, {year}"},{month:"numeric",day:"numeric",year:"numeric",pattern:"{month}/{day}/{year}"},{month:"numeric",year:"numeric",pattern:"{month}/{year}"},{month:"short",year:"numeric",pattern:"{month} {year}"},{month:"short",day:"numeric",pattern:"{month} {day}"},{month:"numeric",day:"numeric",pattern:"{month}/{day}"},{hour:"numeric",minute:"2-digit",second:"2-digit",pattern:"{hour}:{minute}:{second}",pattern12:"{hour}:{minute}:{second} {ampm}"},{hour:"numeric",minute:"2-digit",pattern:"{hour}:{minute}",pattern12:"{hour}:{minute} {ampm}"}],calendars:{buddhist:{months:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},standaloneMonths:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["BE"],short:["BE"],long:["BE"]},dayPeriods:{am:"AM",pm:"PM"}},chinese:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Mo1","Mo2","Mo3","Mo4","Mo5","Mo6","Mo7","Mo8","Mo9","Mo10","Mo11","Mo12"],long:["Month1","Month2","Month3","Month4","Month5","Month6","Month7","Month8","Month9","Month10","Month11","Month12"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Mo1","Mo2","Mo3","Mo4","Mo5","Mo6","Mo7","Mo8","Mo9","Mo10","Mo11","Mo12"],long:["Month1","Month2","Month3","Month4","Month5","Month6","Month7","Month8","Month9","Month10","Month11","Month12"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriods:{am:"AM",pm:"PM"}},coptic:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13"],short:["Tout","Baba","Hator","Kiahk","Toba","Amshir","Baramhat","Baramouda","Bashans","Paona","Epep","Mesra","Nasie"],long:["Tout","Baba","Hator","Kiahk","Toba","Amshir","Baramhat","Baramouda","Bashans","Paona","Epep","Mesra","Nasie"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13"],short:["Tout","Baba","Hator","Kiahk","Toba","Amshir","Baramhat","Baramouda","Bashans","Paona","Epep","Mesra","Nasie"],long:["Tout","Baba","Hator","Kiahk","Toba","Amshir","Baramhat","Baramouda","Bashans","Paona","Epep","Mesra","Nasie"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["ERA0","ERA1"],short:["ERA0","ERA1"],long:["ERA0","ERA1"]},dayPeriods:{am:"AM",pm:"PM"}},dangi:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Mo1","Mo2","Mo3","Mo4","Mo5","Mo6","Mo7","Mo8","Mo9","Mo10","Mo11","Mo12"],long:["Month1","Month2","Month3","Month4","Month5","Month6","Month7","Month8","Month9","Month10","Month11","Month12"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Mo1","Mo2","Mo3","Mo4","Mo5","Mo6","Mo7","Mo8","Mo9","Mo10","Mo11","Mo12"],long:["Month1","Month2","Month3","Month4","Month5","Month6","Month7","Month8","Month9","Month10","Month11","Month12"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriods:{am:"AM",pm:"PM"}},ethiopic:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13"],short:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"],long:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13"],short:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"],long:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["ERA0","ERA1"],short:["ERA0","ERA1"],long:["ERA0","ERA1"]},dayPeriods:{am:"AM",pm:"PM"}},ethioaa:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13"],short:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"],long:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13"],short:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"],long:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["ERA0"],short:["ERA0"],long:["ERA0"]},dayPeriods:{am:"AM",pm:"PM"}},generic:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],long:["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],long:["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["ERA0","ERA1"],short:["ERA0","ERA1"],long:["ERA0","ERA1"]},dayPeriods:{am:"AM",pm:"PM"}},gregory:{months:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},standaloneMonths:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["B","A","BCE","CE"],short:["BC","AD","BCE","CE"],long:["Before Christ","Anno Domini","Before Common Era","Common Era"]},dayPeriods:{am:"AM",pm:"PM"}},hebrew:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13","7"],short:["Tishri","Heshvan","Kislev","Tevet","Shevat","Adar I","Adar","Nisan","Iyar","Sivan","Tamuz","Av","Elul","Adar II"],long:["Tishri","Heshvan","Kislev","Tevet","Shevat","Adar I","Adar","Nisan","Iyar","Sivan","Tamuz","Av","Elul","Adar II"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13","7"],short:["Tishri","Heshvan","Kislev","Tevet","Shevat","Adar I","Adar","Nisan","Iyar","Sivan","Tamuz","Av","Elul","Adar II"],long:["Tishri","Heshvan","Kislev","Tevet","Shevat","Adar I","Adar","Nisan","Iyar","Sivan","Tamuz","Av","Elul","Adar II"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AM"],short:["AM"],long:["AM"]},dayPeriods:{am:"AM",pm:"PM"}},indian:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Chaitra","Vaisakha","Jyaistha","Asadha","Sravana","Bhadra","Asvina","Kartika","Agrahayana","Pausa","Magha","Phalguna"],long:["Chaitra","Vaisakha","Jyaistha","Asadha","Sravana","Bhadra","Asvina","Kartika","Agrahayana","Pausa","Magha","Phalguna"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Chaitra","Vaisakha","Jyaistha","Asadha","Sravana","Bhadra","Asvina","Kartika","Agrahayana","Pausa","Magha","Phalguna"],long:["Chaitra","Vaisakha","Jyaistha","Asadha","Sravana","Bhadra","Asvina","Kartika","Agrahayana","Pausa","Magha","Phalguna"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["Saka"],short:["Saka"],long:["Saka"]},dayPeriods:{am:"AM",pm:"PM"}},islamic:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhu\u02bbl-Q.","Dhu\u02bbl-H."],long:["Muharram","Safar","Rabi\u02bb I","Rabi\u02bb II","Jumada I","Jumada II","Rajab","Sha\u02bbban","Ramadan","Shawwal","Dhu\u02bbl-Qi\u02bbdah","Dhu\u02bbl-Hijjah"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhu\u02bbl-Q.","Dhu\u02bbl-H."],long:["Muharram","Safar","Rabi\u02bb I","Rabi\u02bb II","Jumada I","Jumada II","Rajab","Sha\u02bbban","Ramadan","Shawwal","Dhu\u02bbl-Qi\u02bbdah","Dhu\u02bbl-Hijjah"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AH"],short:["AH"],long:["AH"]},dayPeriods:{am:"AM",pm:"PM"}},islamicc:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhu\u02bbl-Q.","Dhu\u02bbl-H."],long:["Muharram","Safar","Rabi\u02bb I","Rabi\u02bb II","Jumada I","Jumada II","Rajab","Sha\u02bbban","Ramadan","Shawwal","Dhu\u02bbl-Qi\u02bbdah","Dhu\u02bbl-Hijjah"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhu\u02bbl-Q.","Dhu\u02bbl-H."],long:["Muharram","Safar","Rabi\u02bb I","Rabi\u02bb II","Jumada I","Jumada II","Rajab","Sha\u02bbban","Ramadan","Shawwal","Dhu\u02bbl-Qi\u02bbdah","Dhu\u02bbl-Hijjah"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AH"],short:["AH"],long:["AH"]},dayPeriods:{am:"AM",pm:"PM"}},"islamic-rgsa":{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhu\u02bbl-Q.","Dhu\u02bbl-H."],long:["Muharram","Safar","Rabi\u02bb I","Rabi\u02bb II","Jumada I","Jumada II","Rajab","Sha\u02bbban","Ramadan","Shawwal","Dhu\u02bbl-Qi\u02bbdah","Dhu\u02bbl-Hijjah"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhu\u02bbl-Q.","Dhu\u02bbl-H."],long:["Muharram","Safar","Rabi\u02bb I","Rabi\u02bb II","Jumada I","Jumada II","Rajab","Sha\u02bbban","Ramadan","Shawwal","Dhu\u02bbl-Qi\u02bbdah","Dhu\u02bbl-Hijjah"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AH"],short:["AH"],long:["AH"]},dayPeriods:{am:"AM",pm:"PM"}},"islamic-tbla":{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhu\u02bbl-Q.","Dhu\u02bbl-H."],long:["Muharram","Safar","Rabi\u02bb I","Rabi\u02bb II","Jumada I","Jumada II","Rajab","Sha\u02bbban","Ramadan","Shawwal","Dhu\u02bbl-Qi\u02bbdah","Dhu\u02bbl-Hijjah"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhu\u02bbl-Q.","Dhu\u02bbl-H."],long:["Muharram","Safar","Rabi\u02bb I","Rabi\u02bb II","Jumada I","Jumada II","Rajab","Sha\u02bbban","Ramadan","Shawwal","Dhu\u02bbl-Qi\u02bbdah","Dhu\u02bbl-Hijjah"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AH"],short:["AH"],long:["AH"]},dayPeriods:{am:"AM",pm:"PM"}},"islamic-umalqura":{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhu\u02bbl-Q.","Dhu\u02bbl-H."],long:["Muharram","Safar","Rabi\u02bb I","Rabi\u02bb II","Jumada I","Jumada II","Rajab","Sha\u02bbban","Ramadan","Shawwal","Dhu\u02bbl-Qi\u02bbdah","Dhu\u02bbl-Hijjah"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhu\u02bbl-Q.","Dhu\u02bbl-H."],long:["Muharram","Safar","Rabi\u02bb I","Rabi\u02bb II","Jumada I","Jumada II","Rajab","Sha\u02bbban","Ramadan","Shawwal","Dhu\u02bbl-Qi\u02bbdah","Dhu\u02bbl-Hijjah"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AH"],short:["AH"],long:["AH"]},dayPeriods:{am:"AM",pm:"PM"}},japanese:{months:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},standaloneMonths:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["Taika (645-650)","Hakuchi (650-671)","Hakuh\u014d (672-686)","Shuch\u014d (686-701)","Taih\u014d (701-704)","Keiun (704-708)","Wad\u014d (708-715)","Reiki (715-717)","Y\u014dr\u014d (717-724)","Jinki (724-729)","Tempy\u014d (729-749)","Tempy\u014d-kamp\u014d (749-749)","Tempy\u014d-sh\u014dh\u014d (749-757)","Tempy\u014d-h\u014dji (757-765)","Temph\u014d-jingo (765-767)","Jingo-keiun (767-770)","H\u014dki (770-780)","Ten-\u014d (781-782)","Enryaku (782-806)","Daid\u014d (806-810)","K\u014dnin (810-824)","Tench\u014d (824-834)","J\u014dwa (834-848)","Kaj\u014d (848-851)","Ninju (851-854)","Saiko (854-857)","Tennan (857-859)","J\u014dgan (859-877)","Genkei (877-885)","Ninna (885-889)","Kampy\u014d (889-898)","Sh\u014dtai (898-901)","Engi (901-923)","Ench\u014d (923-931)","Sh\u014dhei (931-938)","Tengy\u014d (938-947)","Tenryaku (947-957)","Tentoku (957-961)","\u014cwa (961-964)","K\u014dh\u014d (964-968)","Anna (968-970)","Tenroku (970-973)","Ten-en (973-976)","J\u014dgen (976-978)","Tengen (978-983)","Eikan (983-985)","Kanna (985-987)","Ei-en (987-989)","Eiso (989-990)","Sh\u014dryaku (990-995)","Ch\u014dtoku (995-999)","Ch\u014dh\u014d (999-1004)","Kank\u014d (1004-1012)","Ch\u014dwa (1012-1017)","Kannin (1017-1021)","Jian (1021-1024)","Manju (1024-1028)","Ch\u014dgen (1028-1037)","Ch\u014dryaku (1037-1040)","Ch\u014dky\u016b (1040-1044)","Kantoku (1044-1046)","Eish\u014d (1046-1053)","Tengi (1053-1058)","K\u014dhei (1058-1065)","Jiryaku (1065-1069)","Enky\u016b (1069-1074)","Sh\u014dho (1074-1077)","Sh\u014dryaku (1077-1081)","Eiho (1081-1084)","\u014ctoku (1084-1087)","Kanji (1087-1094)","Kaho (1094-1096)","Eich\u014d (1096-1097)","Sh\u014dtoku (1097-1099)","K\u014dwa (1099-1104)","Ch\u014dji (1104-1106)","Kash\u014d (1106-1108)","Tennin (1108-1110)","Ten-ei (1110-1113)","Eiky\u016b (1113-1118)","Gen-ei (1118-1120)","Hoan (1120-1124)","Tenji (1124-1126)","Daiji (1126-1131)","Tensh\u014d (1131-1132)","Ch\u014dsh\u014d (1132-1135)","Hoen (1135-1141)","Eiji (1141-1142)","K\u014dji (1142-1144)","Teny\u014d (1144-1145)","Ky\u016ban (1145-1151)","Ninpei (1151-1154)","Ky\u016bju (1154-1156)","Hogen (1156-1159)","Heiji (1159-1160)","Eiryaku (1160-1161)","\u014cho (1161-1163)","Ch\u014dkan (1163-1165)","Eiman (1165-1166)","Nin-an (1166-1169)","Ka\u014d (1169-1171)","Sh\u014dan (1171-1175)","Angen (1175-1177)","Jish\u014d (1177-1181)","Y\u014dwa (1181-1182)","Juei (1182-1184)","Genryuku (1184-1185)","Bunji (1185-1190)","Kenky\u016b (1190-1199)","Sh\u014dji (1199-1201)","Kennin (1201-1204)","Genky\u016b (1204-1206)","Ken-ei (1206-1207)","Sh\u014dgen (1207-1211)","Kenryaku (1211-1213)","Kenp\u014d (1213-1219)","Sh\u014dky\u016b (1219-1222)","J\u014d\u014d (1222-1224)","Gennin (1224-1225)","Karoku (1225-1227)","Antei (1227-1229)","Kanki (1229-1232)","J\u014dei (1232-1233)","Tempuku (1233-1234)","Bunryaku (1234-1235)","Katei (1235-1238)","Ryakunin (1238-1239)","En-\u014d (1239-1240)","Ninji (1240-1243)","Kangen (1243-1247)","H\u014dji (1247-1249)","Kench\u014d (1249-1256)","K\u014dgen (1256-1257)","Sh\u014dka (1257-1259)","Sh\u014dgen (1259-1260)","Bun-\u014d (1260-1261)","K\u014dch\u014d (1261-1264)","Bun-ei (1264-1275)","Kenji (1275-1278)","K\u014dan (1278-1288)","Sh\u014d\u014d (1288-1293)","Einin (1293-1299)","Sh\u014dan (1299-1302)","Kengen (1302-1303)","Kagen (1303-1306)","Tokuji (1306-1308)","Enkei (1308-1311)","\u014cch\u014d (1311-1312)","Sh\u014dwa (1312-1317)","Bunp\u014d (1317-1319)","Gen\u014d (1319-1321)","Genky\u014d (1321-1324)","Sh\u014dch\u016b (1324-1326)","Kareki (1326-1329)","Gentoku (1329-1331)","Genk\u014d (1331-1334)","Kemmu (1334-1336)","Engen (1336-1340)","K\u014dkoku (1340-1346)","Sh\u014dhei (1346-1370)","Kentoku (1370-1372)","Bunch\u0169 (1372-1375)","Tenju (1375-1379)","K\u014dryaku (1379-1381)","K\u014dwa (1381-1384)","Gench\u0169 (1384-1392)","Meitoku (1384-1387)","Kakei (1387-1389)","K\u014d\u014d (1389-1390)","Meitoku (1390-1394)","\u014cei (1394-1428)","Sh\u014dch\u014d (1428-1429)","Eiky\u014d (1429-1441)","Kakitsu (1441-1444)","Bun-an (1444-1449)","H\u014dtoku (1449-1452)","Ky\u014dtoku (1452-1455)","K\u014dsh\u014d (1455-1457)","Ch\u014droku (1457-1460)","Kansh\u014d (1460-1466)","Bunsh\u014d (1466-1467)","\u014cnin (1467-1469)","Bunmei (1469-1487)","Ch\u014dky\u014d (1487-1489)","Entoku (1489-1492)","Mei\u014d (1492-1501)","Bunki (1501-1504)","Eish\u014d (1504-1521)","Taiei (1521-1528)","Ky\u014droku (1528-1532)","Tenmon (1532-1555)","K\u014dji (1555-1558)","Eiroku (1558-1570)","Genki (1570-1573)","Tensh\u014d (1573-1592)","Bunroku (1592-1596)","Keich\u014d (1596-1615)","Genwa (1615-1624)","Kan-ei (1624-1644)","Sh\u014dho (1644-1648)","Keian (1648-1652)","Sh\u014d\u014d (1652-1655)","Meiryaku (1655-1658)","Manji (1658-1661)","Kanbun (1661-1673)","Enp\u014d (1673-1681)","Tenwa (1681-1684)","J\u014dky\u014d (1684-1688)","Genroku (1688-1704)","H\u014dei (1704-1711)","Sh\u014dtoku (1711-1716)","Ky\u014dh\u014d (1716-1736)","Genbun (1736-1741)","Kanp\u014d (1741-1744)","Enky\u014d (1744-1748)","Kan-en (1748-1751)","H\u014dryaku (1751-1764)","Meiwa (1764-1772)","An-ei (1772-1781)","Tenmei (1781-1789)","Kansei (1789-1801)","Ky\u014dwa (1801-1804)","Bunka (1804-1818)","Bunsei (1818-1830)","Tenp\u014d (1830-1844)","K\u014dka (1844-1848)","Kaei (1848-1854)","Ansei (1854-1860)","Man-en (1860-1861)","Bunky\u016b (1861-1864)","Genji (1864-1865)","Kei\u014d (1865-1868)","M","T","S","H"],short:["Taika (645-650)","Hakuchi (650-671)","Hakuh\u014d (672-686)","Shuch\u014d (686-701)","Taih\u014d (701-704)","Keiun (704-708)","Wad\u014d (708-715)","Reiki (715-717)","Y\u014dr\u014d (717-724)","Jinki (724-729)","Tempy\u014d (729-749)","Tempy\u014d-kamp\u014d (749-749)","Tempy\u014d-sh\u014dh\u014d (749-757)","Tempy\u014d-h\u014dji (757-765)","Temph\u014d-jingo (765-767)","Jingo-keiun (767-770)","H\u014dki (770-780)","Ten-\u014d (781-782)","Enryaku (782-806)","Daid\u014d (806-810)","K\u014dnin (810-824)","Tench\u014d (824-834)","J\u014dwa (834-848)","Kaj\u014d (848-851)","Ninju (851-854)","Saiko (854-857)","Tennan (857-859)","J\u014dgan (859-877)","Genkei (877-885)","Ninna (885-889)","Kampy\u014d (889-898)","Sh\u014dtai (898-901)","Engi (901-923)","Ench\u014d (923-931)","Sh\u014dhei (931-938)","Tengy\u014d (938-947)","Tenryaku (947-957)","Tentoku (957-961)","\u014cwa (961-964)","K\u014dh\u014d (964-968)","Anna (968-970)","Tenroku (970-973)","Ten-en (973-976)","J\u014dgen (976-978)","Tengen (978-983)","Eikan (983-985)","Kanna (985-987)","Ei-en (987-989)","Eiso (989-990)","Sh\u014dryaku (990-995)","Ch\u014dtoku (995-999)","Ch\u014dh\u014d (999-1004)","Kank\u014d (1004-1012)","Ch\u014dwa (1012-1017)","Kannin (1017-1021)","Jian (1021-1024)","Manju (1024-1028)","Ch\u014dgen (1028-1037)","Ch\u014dryaku (1037-1040)","Ch\u014dky\u016b (1040-1044)","Kantoku (1044-1046)","Eish\u014d (1046-1053)","Tengi (1053-1058)","K\u014dhei (1058-1065)","Jiryaku (1065-1069)","Enky\u016b (1069-1074)","Sh\u014dho (1074-1077)","Sh\u014dryaku (1077-1081)","Eiho (1081-1084)","\u014ctoku (1084-1087)","Kanji (1087-1094)","Kaho (1094-1096)","Eich\u014d (1096-1097)","Sh\u014dtoku (1097-1099)","K\u014dwa (1099-1104)","Ch\u014dji (1104-1106)","Kash\u014d (1106-1108)","Tennin (1108-1110)","Ten-ei (1110-1113)","Eiky\u016b (1113-1118)","Gen-ei (1118-1120)","Hoan (1120-1124)","Tenji (1124-1126)","Daiji (1126-1131)","Tensh\u014d (1131-1132)","Ch\u014dsh\u014d (1132-1135)","Hoen (1135-1141)","Eiji (1141-1142)","K\u014dji (1142-1144)","Teny\u014d (1144-1145)","Ky\u016ban (1145-1151)","Ninpei (1151-1154)","Ky\u016bju (1154-1156)","Hogen (1156-1159)","Heiji (1159-1160)","Eiryaku (1160-1161)","\u014cho (1161-1163)","Ch\u014dkan (1163-1165)","Eiman (1165-1166)","Nin-an (1166-1169)","Ka\u014d (1169-1171)","Sh\u014dan (1171-1175)","Angen (1175-1177)","Jish\u014d (1177-1181)","Y\u014dwa (1181-1182)","Juei (1182-1184)","Genryuku (1184-1185)","Bunji (1185-1190)","Kenky\u016b (1190-1199)","Sh\u014dji (1199-1201)","Kennin (1201-1204)","Genky\u016b (1204-1206)","Ken-ei (1206-1207)","Sh\u014dgen (1207-1211)","Kenryaku (1211-1213)","Kenp\u014d (1213-1219)","Sh\u014dky\u016b (1219-1222)","J\u014d\u014d (1222-1224)","Gennin (1224-1225)","Karoku (1225-1227)","Antei (1227-1229)","Kanki (1229-1232)","J\u014dei (1232-1233)","Tempuku (1233-1234)","Bunryaku (1234-1235)","Katei (1235-1238)","Ryakunin (1238-1239)","En-\u014d (1239-1240)","Ninji (1240-1243)","Kangen (1243-1247)","H\u014dji (1247-1249)","Kench\u014d (1249-1256)","K\u014dgen (1256-1257)","Sh\u014dka (1257-1259)","Sh\u014dgen (1259-1260)","Bun-\u014d (1260-1261)","K\u014dch\u014d (1261-1264)","Bun-ei (1264-1275)","Kenji (1275-1278)","K\u014dan (1278-1288)","Sh\u014d\u014d (1288-1293)","Einin (1293-1299)","Sh\u014dan (1299-1302)","Kengen (1302-1303)","Kagen (1303-1306)","Tokuji (1306-1308)","Enkei (1308-1311)","\u014cch\u014d (1311-1312)","Sh\u014dwa (1312-1317)","Bunp\u014d (1317-1319)","Gen\u014d (1319-1321)","Genky\u014d (1321-1324)","Sh\u014dch\u016b (1324-1326)","Kareki (1326-1329)","Gentoku (1329-1331)","Genk\u014d (1331-1334)","Kemmu (1334-1336)","Engen (1336-1340)","K\u014dkoku (1340-1346)","Sh\u014dhei (1346-1370)","Kentoku (1370-1372)","Bunch\u016b (1372-1375)","Tenju (1375-1379)","K\u014dryaku (1379-1381)","K\u014dwa (1381-1384)","Gench\u016b (1384-1392)","Meitoku (1384-1387)","Kakei (1387-1389)","K\u014d\u014d (1389-1390)","Meitoku (1390-1394)","\u014cei (1394-1428)","Sh\u014dch\u014d (1428-1429)","Eiky\u014d (1429-1441)","Kakitsu (1441-1444)","Bun-an (1444-1449)","H\u014dtoku (1449-1452)","Ky\u014dtoku (1452-1455)","K\u014dsh\u014d (1455-1457)","Ch\u014droku (1457-1460)","Kansh\u014d (1460-1466)","Bunsh\u014d (1466-1467)","\u014cnin (1467-1469)","Bunmei (1469-1487)","Ch\u014dky\u014d (1487-1489)","Entoku (1489-1492)","Mei\u014d (1492-1501)","Bunki (1501-1504)","Eish\u014d (1504-1521)","Taiei (1521-1528)","Ky\u014droku (1528-1532)","Tenmon (1532-1555)","K\u014dji (1555-1558)","Eiroku (1558-1570)","Genki (1570-1573)","Tensh\u014d (1573-1592)","Bunroku (1592-1596)","Keich\u014d (1596-1615)","Genwa (1615-1624)","Kan-ei (1624-1644)","Sh\u014dho (1644-1648)","Keian (1648-1652)","Sh\u014d\u014d (1652-1655)","Meiryaku (1655-1658)","Manji (1658-1661)","Kanbun (1661-1673)","Enp\u014d (1673-1681)","Tenwa (1681-1684)","J\u014dky\u014d (1684-1688)","Genroku (1688-1704)","H\u014dei (1704-1711)","Sh\u014dtoku (1711-1716)","Ky\u014dh\u014d (1716-1736)","Genbun (1736-1741)","Kanp\u014d (1741-1744)","Enky\u014d (1744-1748)","Kan-en (1748-1751)","H\u014dryaku (1751-1764)","Meiwa (1764-1772)","An-ei (1772-1781)","Tenmei (1781-1789)","Kansei (1789-1801)","Ky\u014dwa (1801-1804)","Bunka (1804-1818)","Bunsei (1818-1830)","Tenp\u014d (1830-1844)","K\u014dka (1844-1848)","Kaei (1848-1854)","Ansei (1854-1860)","Man-en (1860-1861)","Bunky\u016b (1861-1864)","Genji (1864-1865)","Kei\u014d (1865-1868)","Meiji","Taish\u014d","Sh\u014dwa","Heisei"],long:["Taika (645-650)","Hakuchi (650-671)","Hakuh\u014d (672-686)","Shuch\u014d (686-701)","Taih\u014d (701-704)","Keiun (704-708)","Wad\u014d (708-715)","Reiki (715-717)","Y\u014dr\u014d (717-724)","Jinki (724-729)","Tempy\u014d (729-749)","Tempy\u014d-kamp\u014d (749-749)","Tempy\u014d-sh\u014dh\u014d (749-757)","Tempy\u014d-h\u014dji (757-765)","Temph\u014d-jingo (765-767)","Jingo-keiun (767-770)","H\u014dki (770-780)","Ten-\u014d (781-782)","Enryaku (782-806)","Daid\u014d (806-810)","K\u014dnin (810-824)","Tench\u014d (824-834)","J\u014dwa (834-848)","Kaj\u014d (848-851)","Ninju (851-854)","Saiko (854-857)","Tennan (857-859)","J\u014dgan (859-877)","Genkei (877-885)","Ninna (885-889)","Kampy\u014d (889-898)","Sh\u014dtai (898-901)","Engi (901-923)","Ench\u014d (923-931)","Sh\u014dhei (931-938)","Tengy\u014d (938-947)","Tenryaku (947-957)","Tentoku (957-961)","\u014cwa (961-964)","K\u014dh\u014d (964-968)","Anna (968-970)","Tenroku (970-973)","Ten-en (973-976)","J\u014dgen (976-978)","Tengen (978-983)","Eikan (983-985)","Kanna (985-987)","Ei-en (987-989)","Eiso (989-990)","Sh\u014dryaku (990-995)","Ch\u014dtoku (995-999)","Ch\u014dh\u014d (999-1004)","Kank\u014d (1004-1012)","Ch\u014dwa (1012-1017)","Kannin (1017-1021)","Jian (1021-1024)","Manju (1024-1028)","Ch\u014dgen (1028-1037)","Ch\u014dryaku (1037-1040)","Ch\u014dky\u016b (1040-1044)","Kantoku (1044-1046)","Eish\u014d (1046-1053)","Tengi (1053-1058)","K\u014dhei (1058-1065)","Jiryaku (1065-1069)","Enky\u016b (1069-1074)","Sh\u014dho (1074-1077)","Sh\u014dryaku (1077-1081)","Eiho (1081-1084)","\u014ctoku (1084-1087)","Kanji (1087-1094)","Kaho (1094-1096)","Eich\u014d (1096-1097)","Sh\u014dtoku (1097-1099)","K\u014dwa (1099-1104)","Ch\u014dji (1104-1106)","Kash\u014d (1106-1108)","Tennin (1108-1110)","Ten-ei (1110-1113)","Eiky\u016b (1113-1118)","Gen-ei (1118-1120)","Hoan (1120-1124)","Tenji (1124-1126)","Daiji (1126-1131)","Tensh\u014d (1131-1132)","Ch\u014dsh\u014d (1132-1135)","Hoen (1135-1141)","Eiji (1141-1142)","K\u014dji (1142-1144)","Teny\u014d (1144-1145)","Ky\u016ban (1145-1151)","Ninpei (1151-1154)","Ky\u016bju (1154-1156)","Hogen (1156-1159)","Heiji (1159-1160)","Eiryaku (1160-1161)","\u014cho (1161-1163)","Ch\u014dkan (1163-1165)","Eiman (1165-1166)","Nin-an (1166-1169)","Ka\u014d (1169-1171)","Sh\u014dan (1171-1175)","Angen (1175-1177)","Jish\u014d (1177-1181)","Y\u014dwa (1181-1182)","Juei (1182-1184)","Genryuku (1184-1185)","Bunji (1185-1190)","Kenky\u016b (1190-1199)","Sh\u014dji (1199-1201)","Kennin (1201-1204)","Genky\u016b (1204-1206)","Ken-ei (1206-1207)","Sh\u014dgen (1207-1211)","Kenryaku (1211-1213)","Kenp\u014d (1213-1219)","Sh\u014dky\u016b (1219-1222)","J\u014d\u014d (1222-1224)","Gennin (1224-1225)","Karoku (1225-1227)","Antei (1227-1229)","Kanki (1229-1232)","J\u014dei (1232-1233)","Tempuku (1233-1234)","Bunryaku (1234-1235)","Katei (1235-1238)","Ryakunin (1238-1239)","En-\u014d (1239-1240)","Ninji (1240-1243)","Kangen (1243-1247)","H\u014dji (1247-1249)","Kench\u014d (1249-1256)","K\u014dgen (1256-1257)","Sh\u014dka (1257-1259)","Sh\u014dgen (1259-1260)","Bun-\u014d (1260-1261)","K\u014dch\u014d (1261-1264)","Bun-ei (1264-1275)","Kenji (1275-1278)","K\u014dan (1278-1288)","Sh\u014d\u014d (1288-1293)","Einin (1293-1299)","Sh\u014dan (1299-1302)","Kengen (1302-1303)","Kagen (1303-1306)","Tokuji (1306-1308)","Enkei (1308-1311)","\u014cch\u014d (1311-1312)","Sh\u014dwa (1312-1317)","Bunp\u014d (1317-1319)","Gen\u014d (1319-1321)","Genky\u014d (1321-1324)","Sh\u014dch\u016b (1324-1326)","Kareki (1326-1329)","Gentoku (1329-1331)","Genk\u014d (1331-1334)","Kemmu (1334-1336)","Engen (1336-1340)","K\u014dkoku (1340-1346)","Sh\u014dhei (1346-1370)","Kentoku (1370-1372)","Bunch\u016b (1372-1375)","Tenju (1375-1379)","K\u014dryaku (1379-1381)","K\u014dwa (1381-1384)","Gench\u016b (1384-1392)","Meitoku (1384-1387)","Kakei (1387-1389)","K\u014d\u014d (1389-1390)","Meitoku (1390-1394)","\u014cei (1394-1428)","Sh\u014dch\u014d (1428-1429)","Eiky\u014d (1429-1441)","Kakitsu (1441-1444)","Bun-an (1444-1449)","H\u014dtoku (1449-1452)","Ky\u014dtoku (1452-1455)","K\u014dsh\u014d (1455-1457)","Ch\u014droku (1457-1460)","Kansh\u014d (1460-1466)","Bunsh\u014d (1466-1467)","\u014cnin (1467-1469)","Bunmei (1469-1487)","Ch\u014dky\u014d (1487-1489)","Entoku (1489-1492)","Mei\u014d (1492-1501)","Bunki (1501-1504)","Eish\u014d (1504-1521)","Taiei (1521-1528)","Ky\u014droku (1528-1532)","Tenmon (1532-1555)","K\u014dji (1555-1558)","Eiroku (1558-1570)","Genki (1570-1573)","Tensh\u014d (1573-1592)","Bunroku (1592-1596)","Keich\u014d (1596-1615)","Genwa (1615-1624)","Kan-ei (1624-1644)","Sh\u014dho (1644-1648)","Keian (1648-1652)","Sh\u014d\u014d (1652-1655)","Meiryaku (1655-1658)","Manji (1658-1661)","Kanbun (1661-1673)","Enp\u014d (1673-1681)","Tenwa (1681-1684)","J\u014dky\u014d (1684-1688)","Genroku (1688-1704)","H\u014dei (1704-1711)","Sh\u014dtoku (1711-1716)","Ky\u014dh\u014d (1716-1736)","Genbun (1736-1741)","Kanp\u014d (1741-1744)","Enky\u014d (1744-1748)","Kan-en (1748-1751)","H\u014dryaku (1751-1764)","Meiwa (1764-1772)","An-ei (1772-1781)","Tenmei (1781-1789)","Kansei (1789-1801)","Ky\u014dwa (1801-1804)","Bunka (1804-1818)","Bunsei (1818-1830)","Tenp\u014d (1830-1844)","K\u014dka (1844-1848)","Kaei (1848-1854)","Ansei (1854-1860)","Man-en (1860-1861)","Bunky\u016b (1861-1864)","Genji (1864-1865)","Kei\u014d (1865-1868)","Meiji","Taish\u014d","Sh\u014dwa","Heisei"]},dayPeriods:{am:"AM",pm:"PM"}},persian:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Dey","Bahman","Esfand"],long:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Dey","Bahman","Esfand"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Dey","Bahman","Esfand"],long:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Dey","Bahman","Esfand"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AP"],short:["AP"],long:["AP"]},dayPeriods:{am:"AM",pm:"PM"}},roc:{months:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},standaloneMonths:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["Before R.O.C.","Minguo"],short:["Before R.O.C.","Minguo"],long:["Before R.O.C.","Minguo"]},dayPeriods:{am:"AM",pm:"PM"}}},defaultTimeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultDateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"}},number:{nu:["latn"],patterns:{decimal:{positivePattern:"{number}",negativePattern:"-{number}"},currency:{positivePattern:"{currency}{number}",negativePattern:"-{currency}{number}"},percent:{positivePattern:"{number}%",negativePattern:"-{number}%"}},symbols:{latn:{decimal:".",group:",",nan:"NaN",percent:"%",infinity:"\u221e",exponent:"E"}},currencies:{AUD:"A$",BRL:"R$",CAD:"CA$",CNY:"CN\xa5",EUR:"\u20ac",GBP:"\xa3",HKD:"HK$",ILS:"\u20aa",INR:"\u20b9",JPY:"\xa5",KRW:"\u20a9",MXN:"MX$",NZD:"NZ$",THB:"\u0e3f",TWD:"NT$",USD:"$",VND:"\u20ab",XAF:"FCFA",XCD:"EC$",XOF:"CFA",XPF:"CFPF"},currencyCode:"USD"}}},didLoadRegionFormattingRules:function(e){},getFormattingRulesForLocale:function(e){return this.rules},staticMembers:{__QUALIFIED_CLASS_NAME__:"MockRegionFormatProvider"}}),ON={_generateURLForPath:function(e,t){var n=this.clientBuildNumber,r=this.clientMasteringNumber,i="";return n&&(i="?clientBuildNumber="+n,r&&(i+="&clientMasteringNumber="+r)),e+t+i}},TN=oe.a.extend(ON,{clientBuildNumber:null,clientMasteringNumber:null,login:function(e,t){var n={apple_id:e,password:t,extended_login:!1},r=Cl.a.create({url:this._generateURLForPath("/setup/ws/1/login"),method:"POST",body:n,useCredentialsIfCrossOrigin:!0});return r.setHeader("Content-Type","text/plain"),r.send().then((function(){return{authorizationBag:r.response.body,sessionInfo:{}}})).catch((function(e){var t=AN("Failed login request",e);return t.request=r,t.status=r.response.status,b.a.reject(t)}))},logout:function(e){var t=this._request=Cl.a.create({url:this._generateURLForPath("/setup/ws/1/logout"),method:"POST",body:e,useCredentialsIfCrossOrigin:!0});return t.setHeader("Content-Type","text/plain"),t.send().catch((function(e){var n=AN("Failed logout request",e);return n.request=t,n.status=t.response.status,b.a.reject(n)}))},validate:function(){var e=Cl.a.create({url:this._generateURLForPath("/setup/ws/1/validate"),method:"POST",body:{},useCredentialsIfCrossOrigin:!0,shouldReportSuccess:!0,shouldReportFailure:!0});return e.send().then((function(){return e.response.body})).catch((function(t){var n=AN("Faild validate request",t);return n.request=e,n.status=e.response.status,b.a.reject(n)}))},_generateURLForPath:function(e){return this.__s._$lW$_generateURLForPath.call(this,"https://setup.icloud.com",e)},__superMap:{_$lW$_generateURLForPath:"_generateURLForPath"},staticMembers:{__QUALIFIED_CLASS_NAME__:"RuntimeSetupService"}});function AN(e,t){var n=new Error("RuntimeSetupService: "+e);return n.nextError=t,n}var NN="/json/sync",MN=oe.a.extend(ON,{clientBuildNumber:null,clientMasteringNumber:null,getPreferences:function(e){var t=this,n=e.appsOrder;n.unshift("account");var r=Cl.a.create({url:this._generateURLForPath(NN,e),method:"POST",body:this._generateBodyForPrefs(n),useCredentialsIfCrossOrigin:!0});return r.setHeader("Content-Type","text/plain"),r.send().then((function(){return r.response.body})).catch((function(e){var n=t.createError("Failed key value service request",e);return n.request=r,n.status=r.response.status,b.a.reject(n)}))},setAccountPreference:function(e,t){var n,r=this,i=iA.environment.accountPreferences,a=i.preferencesVersion,o={};return o[e]=t,i[e]=t,(n=Cl.a.create({url:this._generateURLForPath(NN),method:"POST",body:this._generateBodyForPrefs(["account"],o,a),useCredentialsIfCrossOrigin:!0})).setHeader("Content-Type","text/plain"),n.send().then((function(){return n.response.body})).catch((function(e){var t=r.createError("Failed key value service request",e);return t.request=n,t.status=n.response.status,b.a.reject(t)}))},createError:function(e,t){var n=new Error("KeyValueService: "+e);return n.nextError=t,n},_generateURLForPath:function(e,t){var n;if(n=t?t.webservices.keyvalue.url:iA.environment.authBag.servicesInfo.keyvalue.url)return this.__s._$iT$_generateURLForPath.call(this,n,e)},_generateBodyForPrefs:function(e,t,n){return{"service-id":"appleprefs",apps:e.map((function(e){var r,i={"app-id":e,"registry-version":n||""};if(t)for(r in i.keys=[],t)i.keys.push({name:r,data:t[r]});return i}))}},__superMap:{_$iT$_generateURLForPath:"_generateURLForPath"},staticMembers:{__QUALIFIED_CLASS_NAME__:"KeyValueService"}}),DN=dN.extend({launch:function(){var e=TN.create(),t=CN.create(),n=MN.create(),r=wN.create({setupService:e,regionFormatProvider:t,keyValueService:n});r.activate();var i=this.get("application");i?(this.willLaunchApplication(),i.load(),this.didLaunchApplication(),r.validate().catch((function(e){d.b.error("Failed to launch application. Embedded CloudOS host failed to log in.",e)}))):d.b.error(this+" Missing application. Cannot launch app")},staticMembers:{__QUALIFIED_CLASS_NAME__:"WindowApplicationLauncher"}}),RN=oe.a.extend({init:function(){this._attachments=[],this.__s._$5V$init.apply(this,arguments)},_windowInstanceId:null,openWindow:function(){iA.get("currentUser").isServiceActive("mail")?this._windowInstanceId=aA.openWindowApplication(this.get("_mailComposeURL"),"","width=810,height=677,status=no,toolbar=no"):Xn.b("Trying to compose email for user without active mail service")},closeWindow:function(){var e,t;this._windowInstanceId&&(e=aA.windowApplications[this._windowInstanceId])&&(t=e.window)&&t.close()},_mailComposeURL:y.c({readOnly:!0,get:function(){var e=Sr.c();Sr.a.sharedInstance.isRTL&&(e=this.getPath("COSK.globals.environment.accountPreferences.secondaryLocale")||"en-us");return"https://"+window.location.hostname+"/message/current/"+e+"/index.html#compose?willPM=true"}}),to:y.c(""),cc:y.c(""),bcc:y.c(""),subject:y.c(""),body:y.c(""),addAttachment:function(e,t,n,r){this.get("_attachments").push({fileName:e,type:t,size:n,url:r})},_attachments:null,addAttachments:function(e){this._attachments=this._attachments.concat(e)},populateFields:function(){this.get("hasValidAttachments")||Xn.b("You must supply property `type` (mime-type) for every attachment.");var e={to:this.get("to"),subject:this.get("subject"),body:this.get("body"),cc:this.get("cc"),bcc:this.get("bcc"),attachments:this._attachments,appName:iA.cloudOSApplication.capitalizedName};aA.passWindowApplicationMessage(this._windowInstanceId,"populateFields",e)},hasValidAttachments:y.c({readOnly:!0,get:function(){var e=this._attachments;if(e)for(var t=0,n=e.length;t<n;t++)if(!e[t].type)return!1;return!0}}),__superMap:{_$5V$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ComposeEmailController"}}),LN=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},kN=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},xN=function(){function e(e){this.listeners=[],this.callbackThisArg=e}return e.prototype.addListener=function(e){this.listeners.indexOf(e)<0&&this.listeners.push(e)},e.prototype.removeListener=function(e){var t=this.listeners.indexOf(e);t>=0&&this.listeners.splice(t,1)},e.prototype.dispatch=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<this.listeners.length;n++){var r=this.listeners[n];r.call.apply(r,kN([this.callbackThisArg],LN(e),!1))}},e.prototype.toJSON=function(){return this.toString()},e}(),FN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),PN=function(e){throw e},jN=function(e){function t(t,n){var r=e.call(this,t)||this;return r.message=t,r.context=n,r}return FN(t,e),t}(Error);function UN(e,t){var n=e instanceof Error?e:t?new jN(e,t):new Error(e);if(t&&!("context"in n)&&(n.context=t),PN)return PN(n);throw e}function BN(e){return"function"===typeof e}function VN(e){return null!==e&&void 0!==e}function WN(e){return"string"===typeof e}function zN(e){return null===e||"object"!==typeof e&&"function"!==typeof e}function HN(e){if(!e)return!0;if(function(e){return!!Array.isArray(e)||!!e&&"[object Arguments]"===Object.prototype.toString.call(e)}(e)||WN(e))return!e.length;if(e._isCwCollection)return!e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var GN=/[-/\\^$*+?.()|[\]{}]/g;function $N(e){return function(e,t,n){if(!e)return"";if("string"!==typeof e)try{e=e.toString()}catch(r){return""}return e.replace(t,n)}(e,GN,"\\$&")}var KN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),QN=function(){function e(t){if("string"===typeof t)t=e.parse(t);else if(t&&t.constructor===window.Location){for(var n={},r=void 0,i=void 0,a=e.components,o=0,s=a.length;o<s;o++)"query"===(i=r=a[o])&&(r="search"),n[i]=t[r];t=n}else if(t&&t.constructor!==Object)throw new sM("A URLParser object cannot be created with the data provided: "+JSON.stringify(t));for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i])}return e.parse=function(e){var t,n,r,i,a,o=e.match(qN),s={},c=this.components;if(o)for(r=0,i=c.length;r<i;r++)(t=o[r+1])&&(n=c[r],a=this.componentCleaners[n],s[n]=a?a(t):t);return s},e.parseQuery=function(e,t){var n={};if("string"!==typeof e)return n;if(""===(e=e.replace(ZN,"")))return n;t=void 0===t?this.shouldUseFormEncoding:t;for(var r=e.split("&"),i=0,a=r.length;i<a;i++){var o=r[i].split("="),s=o[0],c=o[1],l=!1;eM.test(s)&&(s=s.replace(eM,""),l=!0),c=this.parseValue(rM(c,t));var u=n[s];u?(Array.isArray(u)?u.push(c):u=[u,c],c=u):l&&(c=[c]),n[s]=c}return n},e.parseValue=function(e){if(e&&YN.test(e)){for(var t=e.split(","),n=t.length-1;n>=0;n--)t[n]=iM(t[n]);return t}return iM(e)},e.formatQuery=function(e,t){if(e&&e.constructor!==Object)return"";t=void 0===t?this.shouldUseFormEncoding:t;var n,r,i,a,o=Object.keys(e),s="";for(i=0,a=o.length;i<a;i++)r=e[n=o[i]],i>0&&(s+="&"),s+=nM(n,t),null!==r&&void 0!==r&&(s+="="+(r=nM(this.formatValue(r),t)));return i>0?"?"+s:""},e.formatValue=function(e){if(Array.isArray(e)){for(var t=e.length-1;t>=0;t--)e[t]=aM(e[t]);return e.join(",")}return aM(e)},Object.defineProperty(e.prototype,"href",{get:function(){var t,n,r,i,a,o="",s=e.components;for(n=0,r=s.length;n<r;n++)(t=this[i=s[n]])&&(o+=(a=e.componentFormatters[i])?a(t):t);return o},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"host",{get:function(){var e=this.port,t=this.hostname;return e&&(t=(t||"")+":"+e),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"origin",{get:function(){var t=this.host,n=this.protocol;return n&&(t=e.componentFormatters.protocol(n)+(t||"")),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){var e=this.query,t=this.pathname;return e&&(t=(t||"")+e),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"queryObject",{get:function(){return e.parseQuery(this.query)},set:function(t){this.query=t?e.formatQuery(t):void 0},enumerable:!1,configurable:!0}),e.prototype.isInDomain=function(e){var t=this.hostname;if(!t||""===e)return!1;var n=new RegExp("(^|\\.)"+$N(e)+"$","i");return!!t.match(n)},e.prototype.setQueryParameter=function(e,t){return this.query?(this.removeQueryParameter(e),this.appendQueryParameter(e,t)):this.appendQueryParameter(e,t)},e.prototype.appendQueryParameter=function(t,n){var r=this.query||"?";return"?"!==r&&(r+="&"),r+=nM(t,e.shouldUseFormEncoding)+(null!==n&&void 0!==n?"="+nM(e.formatValue(n),e.shouldUseFormEncoding):""),this.query=r,this},e.prototype.removeQueryParameter=function(e){var t=this.query;if(!t)return this;var n=this._regexpForQueryParameterKey(e),r=t.replace(n,""),i=r[0];return r?"?"!==i&&("&"===i&&(r=r.substr(1)),r="?"+r):r=void 0,this.query=r,this},e.prototype.getQueryParameter=function(t){var n=this.query;if(n){var r=this._regexpForQueryParameterKey(t).exec(n);if(r){var i=r[3];if(void 0!==i)return rM(i,e.shouldUseFormEncoding)}}},e.prototype._regexpForQueryParameterKey=function(t){var n=$N(t)+"|"+$N(nM(t,e.shouldUseFormEncoding));return new RegExp("(^|\\?|&)("+n+")(?:=([^&]*))?(?=&|$)","g")},e.prototype.setMultipleQueryParameters=function(e){for(var t in e)e.hasOwnProperty(t)&&this.setQueryParameter(t,e[t]);return this},e.prototype.toString=function(){return this.href},e.prototype.toJSON=function(){return""+this},e.shouldUseFormEncoding=!1,e.components=["protocol","auth","hostname","port","pathname","query","hash"],e.componentFormatters={protocol:function(e){return e+(tM[e]?"":"//")},auth:function(e){return e+"@"},port:function(e){return":"+e}},e.componentCleaners={protocol:function(e){return e.replace("//","")},auth:function(e){return e.replace("@","")}},e}(),qN=/^(.*?:\/\/)?([^:/?]*:?[^:/?]*@+)?([^:/?]*):?(\d*)?([^?#]*)?(\??[^#]*)(#?.*)?$/,ZN=/^\?/,YN=/,/,XN=/%20/g,JN=/\+/g,eM=/\[\]$/,tM={"mailto:":!0},nM=function(e,t){var n=encodeURIComponent(""+e);return t?n.replace(XN,"+"):n},rM=function(e,t){if(!e)return e;var n=decodeURIComponent(""+e);return t?n.replace(JN," "):n};function iM(e){try{return JSON.parse(e)}catch(t){return e}}function aM(e){return""+e}var oM,sM=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return KN(t,e),t}(Error),cM=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},lM=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},uM=function(){function e(e){this.isDisconnectedChanged=new xN(this),this.incomingMessage=new xN(this),this.outgoingMessage=new xN(this),this._isDisconnected=!0,this._messageHandler=null,this.autoconnect=void 0===e.autoconnect||e.autoconnect,this._messageHandler=this._defaultMessageHandler.bind(this);var t=e&&e.allowedRemoteOrigins;t&&(e.allowedRemoteOrigins=lM([],cM(t),!1)),this.allowedRemoteOrigins=e.allowedRemoteOrigins,this.remoteOrigin=e.remoteOrigin,dM(this.allowedRemoteOrigins,this.remoteOrigin),e.outgoingWindow?this.outgoingWindow=e.outgoingWindow:this.outgoingWindowDidChange()}return Object.defineProperty(e.prototype,"isDisconnected",{get:function(){return this._isDisconnected},set:function(e){this._isDisconnected=e,this.isDisconnectedChanged.dispatch()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outgoingWindow",{get:function(){return this._outgoingWindow},set:function(e){this._outgoingWindow=e,this.outgoingWindowDidChange()},enumerable:!1,configurable:!0}),e.prototype.connect=function(){var e=this;if(this.isDisconnected){this.outgoingWindow&&this.outgoingWindow.postMessage||UN(new Error("The `outgoingWindow` must be configured and support `postMessage()`"));var t=this._messageHandler;this._messageHandler=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e,a=i.allowedRemoteOrigins,o=i.remoteOrigin;dM(a,o),t.apply(void 0,lM([],cM(n),!1))},window.addEventListener("message",this._messageHandler),this.isDisconnected=!1}},e.prototype.disconnect=function(){this.isDisconnected||(window.removeEventListener("message",this._messageHandler),this.isDisconnected=!0)},e.prototype.send=function(e){this.isDisconnected&&UN(new Error("Cannot send message because the channel has not been connected."),this);var t=this.allowedRemoteOrigins,n=this.remoteOrigin;dM(t,n),this.outgoingWindow.postMessage(e,n),this.outgoingMessage.dispatch({context:e})},e.prototype._defaultMessageHandler=function(e){var t=e.originalEvent,n=(t||e).origin,r=this.outgoingWindow,i=e.source,a=r===i;try{a||(a=r.actualOutgoingWindow===i)}catch(o){a=!1}a&&function(e,t){if("*"===e||"*"===t)return!0;var n=QN.parse(e),r=QN.parse(t);if(HN(n.protocol)||HN(r.protocol)||n.protocol!==r.protocol)return!1;if(HN(n.hostname)||HN(r.hostname)||n.hostname!==r.hostname)return!1;if(e===t)return!0;var i=n.port;HN(i)&&(i="https:"===n.protocol?"443":"80");var a=r.port;return HN(a)&&(a="https:"===r.protocol?"443":"80"),i===a}(n,this.remoteOrigin)&&this.incomingMessage.dispatch({context:(t||e).data})},e.prototype.outgoingWindowDidChange=function(){this.outgoingWindow?this.autoconnect&&this.connect():this.disconnect()},e}(),dM=function(e,t){if(!t)throw new Error("Cannot leverage `SafeWindowPostMessageChannel` without a defined `remoteOrigin`.");if("*"===t)throw new Error('Cannot leverage `SafeWindowPostMessageChannel` whose `remoteOrigin` is "*".');if(!e)throw new Error("Cannot leverage `SafeWindowPostMessageChannel` without a defined `allowedRemoteOrigins` array.");if(!e.includes(t))throw new Error('Cannot leverage this `SafeWindowPostMessageChannel`, the `remoteOrigin` "'.concat(t,'" is not present in the `allowedRemoteOrigins` array.'));e.forEach((function(e){if(!hM(e))throw new Error('The value "'.concat(e,'" does not conform to the "https://" protocol, and therefore is not permitted in the `allowedRemoteOrigins` array.'))}))},hM=function(e){return e&&"https://"===e.substr(0,8)},fM=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pM=function(e){function t(t){var n=e.call(this,{allowedRemoteOrigins:t.allowedRemoteOrigins,autoconnect:t.autoconnect,remoteOrigin:t.remoteOrigin,outgoingWindow:t.outgoingWindow})||this;return n._iframeIsLoaded=new xN,n.onIframeReady=t.onIframeReady||function(){},n._iframeIsLoaded.addListener(n.outgoingWindowDidChange.bind(n)),n.iframe=t.iframe,n}return fM(t,e),Object.defineProperty(t.prototype,"iframe",{get:function(){return this._iframe},set:function(e){var t=this,n=this._iframe;if(e!==n){this._iframe=e;var r=this._iframeDidLoad;if(n&&e!==n&&(r&&n.removeEventListener("load",r),this._iframeDidLoad=void 0),e)if(this.outgoingWindow)this.onIframeReady(e);else{var i=this._iframeDidLoad=function(){t._iframeDidLoad&&e.removeEventListener("load",t._iframeDidLoad),t._iframeDidLoad=void 0,t._iframeIsLoaded.dispatch(),t.onIframeReady(e)};e.addEventListener("load",i)}this.outgoingWindowDidChange()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"outgoingWindow",{get:function(){var e,t=null===(e=this.iframe)||void 0===e?void 0:e.contentWindow;return this._lastOutgoingWindowReturnValueDependencyValue===(this._lastOutgoingWindowReturnValueDependencyValue=t)?this._lastReturnedOutgoingWindowValue:this._lastReturnedOutgoingWindowValue=t?{actualOutgoingWindow:t,postMessage:function(e,t){var n=this.actualOutgoingWindow;if(n.postMessage)return n.postMessage(e,t)}}:null},enumerable:!1,configurable:!0}),t}(uM),gM=function(e){function t(t){var n=e.call(this,{allowedRemoteOrigins:t.allowedRemoteOrigins,autoconnect:t.autoconnect,remoteOrigin:t.remoteOrigin,outgoingWindow:t.outgoingWindow})||this;return n.remoteWindow=t.remoteWindow,n}return fM(t,e),Object.defineProperty(t.prototype,"remoteWindow",{get:function(){return this._remoteWindow},set:function(e){var t=this,n=this._remoteWindow;if(window!==n){this._remoteWindow=e;var r=this._remoteWindowDidLoad;if(n&&e!==n&&r&&n.removeEventListener("load",r),e&&!this.outgoingWindow){var i=this._remoteWindowDidLoad=function(){t._remoteWindowDidLoad&&window.removeEventListener("load",t._remoteWindowDidLoad),t._remoteWindowDidLoad=void 0};window.addEventListener("load",i)}this.outgoingWindowDidChange()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"outgoingWindow",{get:function(){var e=this._remoteWindow;return this._lastOutgoingWindowReturnValueDependencyValue===(this._lastOutgoingWindowReturnValueDependencyValue=e)?this._lastReturnedOutgoingWindowValue:this._lastReturnedOutgoingWindowValue=e?{actualOutgoingWindow:e,postMessage:function(e,t){var n=this.actualOutgoingWindow;if(n.postMessage)return n.postMessage(e,t)}}:null},enumerable:!1,configurable:!0}),t}(uM),mM=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vM=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="MessagingError",t.isMessagingError=!0,t}return mM(t,e),t}(Error),yM=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_M=function(e){function t(t){var n=e.call(this,t)||this;return n.name="MessagingArgumentError",n}return yM(t,e),t}(vM);!function(e){e.NONE="NONE",e.OK="OK",e.DISCONNECTED="DISCONNECTED",e.CANCELED="CANCELED",e.BAD_REQUEST="BAD_REQUEST",e.TIMEOUT="TIMEOUT",e.ERROR="ERROR",e.UNDEFINED_ERROR_TYPE="UNDEFINED_ERROR_TYPE"}(oM||(oM={}));var bM=function(e){var t="";try{var n=e&&e.toJSON&&e.toJSON()||e;t=zN(n)?""+n:JSON.stringify(n)}catch(a){var r={};for(var i in e)r[i]=wM(e,i);t=JSON.stringify(r)}return t};function wM(e,t){var n=e[t];if(zN(n))return n;var r="";try{var i=n&&n.toJSON&&n.toJSON()||n;r=zN(i)?""+i:JSON.stringify(i)}catch(a){try{r=n+" (could not `JSON.stringify()`)"}catch(o){r="(cannot stringify value)"}}return r}var SM=function(){function e(e){void 0===e&&(e={}),this.status=e.status||oM.NONE,this.data=e.data,this.error=e.error}return Object.defineProperty(e.prototype,"isOK",{get:function(){return this.status===oM.OK},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDisconnected",{get:function(){return this.status===oM.DISCONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCanceled",{get:function(){return this.status===oM.CANCELED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTimeout",{get:function(){return this.status===oM.TIMEOUT},enumerable:!1,configurable:!0}),e.createWithOptionalData=function(t){return new e({status:oM.OK,data:t})},e.createFromError=function(t){var n,r=(n=t)?{message:n.message,type:n.type,stack:function(e){if(!e||!WN(e.stack))return null;var t=e.stack.trim().split("\n"),n=t.length;if(n>500){var r=n-500;t.splice(400,r,"\u2026 ".concat(r," lines truncated \u2026"))}return t.join("\n")}(n),lineNumber:function(e){if(!e)return null;if(e.lineNumber)return e.lineNumber;if(e.line)return e.line;if(WN(e.stack)){var t=e.stack.split("\n")[1];if(WN(t)){var n=t.split(":"),r=n[n.length-2],i=parseInt(r,10);if("number"===typeof i&&!Number.isNaN(i))return i}}return null}(n),context:bM(n.context)}:null;return r?t instanceof Error||(r.message=JSON.stringify(t),r.stack=(new Error).stack):r={message:"No error specified",stack:(new Error).stack},new e({status:EM(t),error:r})},e.deserialize=function(t){if(!t)throw new _M("[MessagingResponse] no serialized data to deserialize");var n=new e;n.status=t.status;var r=t.data;r&&(n.data=r);var i=t.error;return i&&(n.error=i),IM(n),n},e.prototype.serialize=function(){IM(this);var e={status:this.status},t=this.data;t&&(e.data=t);var n=this.error;return n&&(e.error=n),e},e}();function EM(e){return e&&e instanceof Error?e instanceof _M?oM.BAD_REQUEST:oM.ERROR:oM.UNDEFINED_ERROR_TYPE}function IM(e){var t=e.status,n=e.error;if(t===oM.NONE)throw new vM("[MessagingResponse] status was never set");if(n&&t===oM.OK)throw new vM("[MessagingResponse] error can not be set if the status is OK")}function CM(e,t){var n,r,i=Object.assign({},e),a=function(t){if(!BN(e[t]))throw new _M("Protocol method name ".concat(t," is not a Function"));i[t]=function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];try{var a=e[t].apply(e,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}(r),!1));return a?(n=a,Boolean(n&&"function"===typeof n.then)?a.then((function(e){return SM.createWithOptionalData(e).serialize()})).catch((function(e){if(e&&!e.isMessagingError)throw e;return SM.createFromError(e).serialize()})):Promise.resolve(SM.createWithOptionalData(a).serialize())):Promise.resolve(SM.createWithOptionalData().serialize())}catch(o){if(o&&"object"===typeof o&&!o.isMessagingError)throw o;return Promise.resolve(SM.createFromError(o).serialize())}}};try{for(var o=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),s=o.next();!s.done;s=o.next())a(s.value)}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}var OM,TM=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){e[e.PARSE_ERROR=-32700]="PARSE_ERROR",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.INTERNAL_ERROR=-32603]="INTERNAL_ERROR"}(OM||(OM={}));var AM,NM=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.code=n,i.name=r,i}return TM(t,e),t.prototype.toJSON=function(){return"[".concat(this.code,"] ").concat(this.name,": ").concat(this.message)},t}(Error),MM=(TM((function(e){return AM.call(this,e,OM.PARSE_ERROR,"Parse error")||this}),AM=NM),function(e){TM((function(t){return e.call(this,t,OM.INVALID_REQUEST,"Invalid request")||this}),e)}(NM),function(e){function t(t){return e.call(this,t,OM.METHOD_NOT_FOUND,"Method not found")||this}return TM(t,e),t}(NM)),DM=function(e){function t(t){return e.call(this,t,OM.INVALID_PARAMS,"Invalid params")||this}return TM(t,e),t}(NM),RM=function(e){function t(t){return e.call(this,t,OM.INTERNAL_ERROR,"Internal error")||this}return TM(t,e),t}(NM),LM=function(){function e(){this.jsonRpcVersion="2.0"}return e.prototype.generateCallMessageFor=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r={jsonrpc:this.jsonRpcVersion,id:"JsonRpcMessageFormatterV2:".concat(++kM),method:e};return t.length>0&&(r.params=t),r},e.prototype.generateNotificationMessageFor=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r={jsonrpc:this.jsonRpcVersion,method:e};return t.length>0&&(r.params=t),r},e.prototype.generateErrorMessageFor=function(e,t){var n;n=t instanceof NM?t.code:OM.INTERNAL_ERROR;var r,i=t.message,a=t.data,o={jsonrpc:this.jsonRpcVersion,id:e,error:{code:n,message:i}};return"object"===typeof(r=a)&&null!==r&&r.constructor===Object&&(o.error.data=a),o},e.prototype.generateResultMessageFor=function(e,t){return{jsonrpc:this.jsonRpcVersion,id:e,result:t}},e.prototype.toJSON=function(){return""+this},e.sharedInstance=new e,e}(),kM=0,xM=function(){function e(){this.contentType="application/json"}return e.prototype.encode=function(e){if(!WN(e))try{e=JSON.stringify(e)}catch(t){UN(new jN("Could not encode object to JSON.",{object:e,error:t}))}return e},e.prototype.decode=function(e){if(WN(e))try{e=JSON.parse(e)}catch(t){e=null}return e},e.sharedInstance=new e,e}(),FM=function(){function e(e){this.messageFormatter=LM.sharedInstance,this.serializer=xM.sharedInstance,this.channel=e,this.incomingMessageListener=this.incomingMessageListener.bind(this)}return e.prototype.addChannelListeners=function(){this.channel.incomingMessage.addListener(this.incomingMessageListener)},e.prototype.removeChannelListeners=function(){this.channel.incomingMessage.removeListener(this.incomingMessageListener)},e.prototype.incomingMessageListener=function(e){var t=this.serializer.decode(e.context);VN(t)&&this.shouldHandleMessage(t)&&this.handleMessage(t)},e.prototype.toJSON=function(){return""+this},e.prototype.destroy=function(){this.removeChannelListeners()},e}(),PM=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jM=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isDestroyed=!1,t}return PM(t,e),t.prototype.hasHandlerForProcedure=function(e){return VN(BM(e,this))},t.prototype.registerProcedure=function(e,t,n){!function(e,t,n,r){var i=r.channel,a=UM.get(i);a||(a=new Map,UM.set(i,a));var o=a.get(e);o&&UN(new Error("A handler for '".concat(e,"' was already registered on this channel")),{procedureName:e,registration:o}),a.set(e,{listener:r,target:t,handlerMethodName:n})}(e,t,n=n||e,this)},t.prototype.registerProcedures=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];Array.isArray(i)?this.registerProcedure(i[0],t,i[1]):this.registerProcedure(i,t)}},t.prototype.unregisterProcedure=function(e){var t=this.channel,n=UM.get(t);if(n){var r=n.get(e);(null===r||void 0===r?void 0:r.listener)===this&&(n.delete(e),0===n.size&&UM.delete(t))}},t.prototype.unregisterProcedures=function(e){var t=this;e.forEach((function(e){t.unregisterProcedure(e)}))},t.prototype.unregisterAllProcedures=function(){var e=UM.get(this.channel);if(e)for(var t=e.entries(),n=void 0;n=t.next().value;){var r=n[0];n[1].listener===this&&e.delete(r)}},t.prototype.shouldHandleMessage=function(e){var t=this;return(Array.isArray(e)?e:[e]).filter((function(e){return e&&VN(e.jsonrpc)&&e.jsonrpc===t.messageFormatter.jsonRpcVersion&&VN(e.method)})).length>0},t.prototype.handleMessage=function(e){var t,n=this,r=Array.isArray(e),i=r?e:[e],a=(t=function(e,t){return n.isDestroyed?zM:function(e,t){var n=e.method,r=e.params,i=void 0===r?[]:r;if(t.channel.isDisconnected)return zM;if(VN(i)&&!Array.isArray(i))throw(c=new DM(o="JSON-RPC calls in JavaScript cannot support `params` as an Object, only as an Array")).data={message:e},c;var a=BM(n,t);if(!a){if(function(e,t){var n=UM.get(t);return!!n&&!!n.get(e)}(n,t.channel))return zM;var o="A JSON-RPC registration was not found for method `".concat(n,"`.");throw(c=new MM(o)).data={message:e,listener:t},c}var s=a.target;if(!s)throw(c=new MM(o="The JSON-RPC target was not found")).data={message:e,listener:t},c;var c,l=s[a.handlerMethodName];if(!l)throw(c=new MM(o="The JSON-RPC method was not found")).data={message:e,listener:t},c;return l.call.apply(l,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([s],function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(c){i={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}(i),!1))}(e,t)},function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new Promise((function(r,i){setTimeout((function(){try{var a=t.apply(e,n);r(a)}catch(o){i(o)}}),0)}))}),o=this.messageFormatter,s=[],c={};return i.forEach((function(e){var t=e.id,r=a(e,n).then((function(e){c[t]=e!==zM?function(e,t,n){return VN(t)?e.generateResultMessageFor(t,n):{}}(o,t,e):zM})).catch((function(e){if(c[t]=VM(o,t,e),!(e instanceof NM))throw e}));s.push(r)})),Promise.all(s).then((function(){n.channel.isDisconnected||WM(n,i,c,r)}),(function(e){throw n.channel.isDisconnected||WM(n,i,c,r),e}))},t.prototype.destroy=function(){this.isDestroyed=!0,this.unregisterAllProcedures(),e.prototype.destroy.call(this)},t}(FM),UM=new Map;function BM(e,t){var n=UM.get(t.channel);if(n){var r=n.get(e);if(r&&r.listener===t)return r}return null}function VM(e,t,n){return VN(t)?e.generateErrorMessageFor(t,n):{}}function WM(e,t,n,r){var i=e.messageFormatter,a=[];if(t.forEach((function(e){var t=e.id;if(VN(t)){var r=n[t];if(r)r!==zM&&a.push(r);else{var o=new RM("The JSON-RPC call was part of a batch which failed due to a fatal error thrown by another call.");r=VM(i,t,o)}}})),a.length>0){var o=r?a:a[0];e.channel.send(e.serializer.encode(o))}}var zM=Symbol("Do not reply"),HM=function(){function e(){var e=this,t=new Promise((function(t,n){e._reject=n,e._resolve=t}));this.then=t.then.bind(t),this.catch=t.catch.bind(t),this.finally=t.finally.bind(t)}return Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return"Deferred"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolve",{get:function(){return this._resolve},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reject",{get:function(){return this._reject},enumerable:!1,configurable:!0}),e}(),GM=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$M=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},KM=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},QM=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return GM(t,e),t.prototype.callRemoteProcedure=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.channel;ZM(i,e);var a=new HM,o=(t=this.messageFormatter).generateCallMessageFor.apply(t,KM([e],$M(n),!1));return function(e,t,n){qM[t]&&qM[t][1]===n&&UN(new Error("A handler was already registered for response for message id"),{messageId:t,handler:n}),qM[t]=[e,n]}(a,o.id,this),i.send(this.serializer.encode(o)),a},t.prototype.sendNotification=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.channel;ZM(i,e);var a=(t=this.messageFormatter).generateNotificationMessageFor.apply(t,KM([e],$M(n),!1));i.send(this.serializer.encode(a))},t.prototype.shouldHandleMessage=function(e){return!!e&&VN(e.jsonrpc)&&e.jsonrpc===this.messageFormatter.jsonRpcVersion&&(VN(e.result)||VN(e.error))},t.prototype.handleMessage=function(e){var t=function(e,t){var n=qM[e];if(n&&n[1]===t)return delete qM[e],n[0]}(e.id,this);if(t){if(VN(e.result))return function(e,t){t.resolve(e.result)}(e,t),t;if(VN(e.error))return function(e,t){t.reject(e.error)}(e,t),t}},t}(FM),qM={};function ZM(e,t){e&&!e.isDisconnected||UN(new Error('Attempted to call "'.concat(t,'" without a connected channel.')),{methodName:t,sender:this})}var YM,XM=function(){function e(e,t){if(!e)throw new _M("ProtocolMetadata: no protocol name");if(!t)throw new _M("ProtocolMetadata: Invalid list of protocol methods");this.protocolName=e,this.protocolMethodNames=t}return e.prototype.isImplementedBy=function(e){var t,n;if(!e)return!1;try{for(var r=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.protocolMethodNames),i=r.next();!i.done;i=r.next())if("function"!==typeof e[i.value])return!1}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!0},e}(),JM=function(e,t){if(!t)throw new _M("ProtocolTarget: no protocol target specified");this.protocolMetadata=e,this.protocolTarget=t},eD=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},tD=function(){function e(e,t){this.channel=e,this.connectionTimeout=t||3e4}return e.prototype.setListener=function(e,t,n){if(!function(e,t){var n,r;if("object"!==typeof e)return!1;if(!t)return!1;try{for(var i=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),a=i.next();!a.done;a=i.next())if(!BN(e[a.value]))return!1}catch(o){n={error:o}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!0}(n,t))throw new _M("MessagingChannel: The specified protocol class target does not implement specified protocol methods");this._listenerProtocolTarget=new JM(new XM(e,t),n)},e.prototype.setConnection=function(e,t,n){this._connectionProtocolTarget=new JM(new XM(e,t),n)},e.prototype.start=function(){var e=this._listenerProtocolTarget,t=this._connectionProtocolTarget;if(!e&&!t)throw new _M("Messaging channel has not been configured");var n=this.channel,r=this.connectionTimeout;e&&this._configureListener(n,e),t&&this._configureConnection(n,r,t)},e.prototype.stop=function(){var e=this,t=e.connection,n=e._connectionProtocolTarget,r=e._connectionPendingPromises,i=e.listener,a=e._listenerProtocolTarget;if(i&&(a||UN(new Error("MessagingChannel listener exists without a corresponding protocol metadata")),this._unregisterListenerMethods(i,a),this.listener=void 0,this._listenerProtocolTarget=void 0),t&&(n||UN(new Error("MessagingChannel connection exists without a corresponding protocol metadata")),this.connection=void 0,this._connectionProtocolTarget=void 0,this._connectionPendingPromises=void 0,null===r||void 0===r?void 0:r.size)){var o=Array.from(r),s=new SM({status:oM.DISCONNECTED});return o.forEach((function(e){return e.resolve(s)})),Promise.allSettled(o).then((function(e){return e&&e.length||0}))}return Promise.resolve(0)},e.prototype._constructRPCMethodName=function(e,t){if(!e)throw new _M("MessagingUtils - no class name specified");if(!t)throw new _M("MessagingUtils - no method name specified");return"".concat(e,"-").concat(t)},e.prototype._createJsonRpcListener=function(e){return new jM(e)},e.prototype._createJsonRpcCaller=function(e){return new QM(e)},Object.defineProperty(e.prototype,"listener",{get:function(){return this._listener},set:function(e){e!==this._listener&&(this._listener&&this._listener.destroy(),this._listener=e,e&&e.addChannelListeners())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connection",{get:function(){return this._connection},set:function(e){this._connection&&this._connection.removeChannelListeners(),this._connection=e,e&&e.addChannelListeners()},enumerable:!1,configurable:!0}),e.prototype._configureListener=function(e,t){this.listener=this._setupJsonRpcListener(e,t)},e.prototype._configureConnection=function(e,t,n){this.connection=this._setupJsonRpcCaller(e,t,n)},e.prototype._setupJsonRpcCaller=function(e,t,n){var r,i,a=this;this._connectionPendingPromises||(this._connectionPendingPromises=new Set);var o=this._connectionPendingPromises,s=n.protocolMetadata,c=s.protocolName,l=s.protocolMethodNames,u=n.protocolTarget,d=u.constructor.name,h=this._createJsonRpcCaller(e);this.connection=h;var f=function(e){var n=p._constructRPCMethodName(c,e);u[e]=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];a.connection||UN(new Error("[".concat(d," => OUTBOUND] MessagingChannel has no connection --\x3e '").concat(c,".").concat(e,"'")));var s=new HM;o.add(s),h.callRemoteProcedure.apply(h,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([n],function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}(r),!1)).then((function(e){s.resolve(SM.deserialize(e))})).catch((function(e){s.resolve(SM.createFromError(e))}));var l=setTimeout((function(){s.resolve(new SM({status:oM.TIMEOUT}))}),t);return s.finally((function(){globalThis.clearTimeout(l),o.delete(s)})),s}},p=this;try{for(var g=eD(l),m=g.next();!m.done;m=g.next())f(m.value)}catch(v){r={error:v}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(r)throw r.error}}return h},e.prototype._setupJsonRpcListener=function(e,t){var n,r,i=t.protocolMetadata,a=i.protocolName,o=i.protocolMethodNames,s=t.protocolTarget,c=this._createJsonRpcListener(e);this.listener=c;var l=CM(s,o);try{for(var u=eD(o),d=u.next();!d.done;d=u.next()){var h=d.value,f=this._constructRPCMethodName(a,h);if(!BN(l[h]))throw new _M("Protocol method name ".concat(h," is not a Function"));c.registerProcedure(f,l,h)}}catch(p){n={error:p}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return c},e.prototype._unregisterListenerMethods=function(e,t){var n,r,i=t.protocolMetadata,a=i.protocolName,o=i.protocolMethodNames,s=CM(t.protocolTarget,o);try{for(var c=eD(o),l=c.next();!l.done;l=c.next()){var u=l.value,d=this._constructRPCMethodName(a,u);BN(s[u])||UN(new Error("Protocol method name ".concat(u," is not a Function"))),e.unregisterProcedure(d)}}catch(h){n={error:h}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}},e}(),nD=function(){function e(e){this.onReady=void 0,this.onInitialSave=void 0,this.onCancel=void 0,this.onSend=void 0,this.onRecipientsFinalize=void 0,this.onHasPCSKeys=void 0,this.onFetchPCSKeys=void 0,this.onReady=e,this.onInitialSave=function(){},this.onCancel=function(){},this.onSend=function(){},this.onRecipientsFinalize=function(){return Promise.resolve(fg.Result.failure())},this.onHasPCSKeys=function(){return Promise.resolve({isOk:!1})},this.onFetchPCSKeys=function(){return Promise.resolve({isOk:!1})}}var t=e.prototype;return t.ready=function(){this.onReady()},t.didSaveInitialDraft=function(){this.onInitialSave()},t.didCancel=function(){this.onCancel()},t.didSend=function(){this.onSend()},t.finalizeRecipients=function(e){return this.onRecipientsFinalize(e)},t.hasPCSKeys=function(e){return this.onHasPCSKeys(e)},t.fetchPCSKeys=function(e){return this.onFetchPCSKeys(e)},e}(),rD=new XM("ComposeInstructionProtocol",new Set(["startupCompose"])),iD=new XM("ComposeFeedbackProtocol",new Set(["ready","didSaveInitialDraft","didCancel","didSend","finalizeRecipients","hasPCSKeys","fetchPCSKeys"])),aD=function(){function e(e){this.channel=void 0,this.messagingChannel=void 0,this.onInitialSave=void 0,this.onCancel=void 0,this.onSend=void 0,this.onRecipientsFinalize=void 0,this.onHasPCSKeys=void 0,this.onFetchPCSKeys=void 0,this.channel=e,this.messagingChannel=new tD(e),this.onInitialSave=function(){},this.onCancel=function(){},this.onSend=function(){},this.onRecipientsFinalize=function(){return Promise.resolve(fg.Result.failure())},this.onHasPCSKeys=function(){return Promise.resolve({isOk:!1})},this.onFetchPCSKeys=function(){return Promise.resolve({isOk:!1})}}var t=e.prototype;return t.close=function(){this.messagingChannel.stop(),this.channel instanceof pM?this.channel.iframe=void 0:this.channel.remoteWindow=void 0},t.open=function(e){var t=this;return new Promise((function(n,r){e instanceof HTMLIFrameElement?t.channel.iframe=e:t.channel.remoteWindow=e,t.messagingChannel.setConnection(rD.protocolName,rD.protocolMethodNames,t);var i=new nD((function(){t.channel.isDisconnected||n(void 0)}));i.onInitialSave=t.onInitialSave,i.onCancel=t.onCancel,i.onSend=t.onSend,i.onRecipientsFinalize=t.onRecipientsFinalize,i.onHasPCSKeys=t.onHasPCSKeys,i.onFetchPCSKeys=t.onFetchPCSKeys,t.messagingChannel.setListener(iD.protocolName,iD.protocolMethodNames,i),t.messagingChannel.start()}))},e}(),oD=["ca-es","cs-cz","da-dk","de-de","el-gr","en-au","en-ca","en-gb","en-nz","en-us","es-es","es-mx","fi-fi","fr-ca","fr-fr","hi-in","hr-hr","hu-hu","id-id","it-it","ja-jp","ko-kr","ms-my","nl-nl","no-no","pl-pl","pt-br","pt-pt","ro-ro","ru-ru","sk-sk","sv-se","th-th","tr-tr","uk-ua","vi-vi","zh-cn","zh-hk","zh-tw"],sD=function(){var e=t.prototype;function t(e,t){this.getCloudOSDelegate=void 0,this.composingPreferences=void 0,this.origin=window.location.origin,this._windowsMap=new Map,this.getCloudOSDelegate=e,this.composingPreferences=t}return e.getComposeUrl=function(){var e=this,t=oD.find((function(t){return t===e.getCloudOSDelegate().locale}))||"en-us";return this.origin+"/applications/compose/current/"+t+"/index.html"},e.setComposingPreferences=function(e){this.composingPreferences=e},e.launchComposeInIframe=function(e,t){var n=this,r=document.createElement("iframe");r.src=this.getComposeUrl(),r.width="100%";var i=["allow-same-origin","allow-scripts","allow-popups","allow-popups-to-escape-sandbox","allow-downloads","allow-modals"].filter((function(e){var t;return null==(t=r.sandbox)||null==t.supports?void 0:t.supports(e)}));r.setAttribute("sandbox",i.join(" "));var a=new pM({allowedRemoteOrigins:[this.origin],autoconnect:!0,remoteOrigin:this.origin}),o=new aD(a),s=this.rpcSetup(o,t);return o.open(r).then((function(){o.startupCompose({remoteComposeData:Object.assign({},e,{enabledHooks:s}),cloudOSDelegate:n.getCloudOSDelegate(),remoteComposingPreferences:n.composingPreferences})})),r},e.launchComposeInWindow=function(e,t){var n=this,r=Object.assign({},function(e){var t=e%10,n=20+20*t,r=20+20*t+20*Math.floor(e/10);return{left:window.screenX+r,top:window.screenY+n}}(this._windowsMap.size),{width:810,height:644,resizable:"yes",scrollbars:"auto",status:"no",menubar:"no",toolbar:"no",location:"no",directories:"no"}),i=JSON.stringify(r).slice(1,-1).replace(/"/g,"").replace(/:/g,"="),a=crypto.randomUUID(),o=window.open(this.getComposeUrl(),a,i),s=function(e){var r=new gM({allowedRemoteOrigins:[n.origin],autoconnect:!0,remoteOrigin:n.origin}),i=new aD(r);n._windowsMap.set(a,i);var s=n.rpcSetup(i,t);i.open(o).then((function(){i.startupCompose({remoteComposeData:Object.assign({},e,{enabledHooks:s}),cloudOSDelegate:n.getCloudOSDelegate(),remoteComposingPreferences:n.composingPreferences})}))};return e instanceof Promise?e.then((function(e){e.ok?s(e.value):o.close()})).catch((function(){o.close()})):s(e),o},e.rpcSetup=function(e,t){var n=t.onInitialSave,r=t.onCancel,i=t.onSend,a=t.onRecipientsFinalize,o=this.getCloudOSDelegate().pcsKeyService;o&&(e.onHasPCSKeys=o.hasPCSKeys.bind(o),e.onFetchPCSKeys=o.fetchPCSKeys.bind(o));var s={};return n&&(e.onInitialSave=n,s.onInitialSave=!0),r&&(e.onCancel=r,s.onCancel=!0),i&&(e.onSend=i,s.onSend=!0),a&&(e.onRecipientsFinalize=a,s.onRecipientsFinalize=!0),s},t}();function cD(){sD.call(this,(function(){return{locale:document.documentElement.getAttribute("lang")||"en-us",authenticatedUser:iA.authBag.user.getPropertiesAsObject("appleId","brMigrated","dsid","fullName","firstName","lastName","isHideMyEmailSubscriptionActive","isICDRSDisabled","mailFlags"),webServices:Object.fromEntries(Object.entries(iA.authBag.servicesInfo).map((function(e){return[e[0],e[1].getPropertiesAsObject("status","url")]})))}}))}cD.prototype=Object.create(sD.prototype),cD.prototype.constructor=cD,Object.defineProperty(cD,"sharedInstance",{get:function(){return YM||(YM=new cD)}});var lD={getJSONAuthorizationBagForCredentials:function(e,t){}},uD={getPreferences:function(){},setPreferences:function(e,t){}},dD=oe.a.extend({authBag:y.c({set:function(e){this._authBag=e},get:function(){var e=this._authBag;return e||(e=this._authBag=this.loadAuthorizationBag(),this.didLoadAuthorizationBag(e)),e}}),loadAuthorizationBag:function(){return{isExtendedLogin:!1,webservices:{},dsInfo:{firstName:"",lastName:"",fullName:"",primaryEmail:"",appleId:"",dsid:"1",aDsID:"",primaryEmailVerified:!0,iCloudAppleIdAlias:"",appleIdAlias:"",locale:"en-us_US",hasICloudQualifyingDevice:!0,isPaidDeveloper:!1,"gilligan-invited":"true","gilligan-enabled":"true",statusCode:2,brMigrated:!1,languageCode:"en-us",locked:!1,appleIdAliases:[]},environment:"ICLOUD3",appsOrder:[],pcsServiceIdentitiesIncluded:!0,apps:{},requestInfo:{region:"CA",isAppleInternal:!0,timeZone:"PST",country:"US"},pcsEnabled:!0,version:1}},didLoadAuthorizationBag:function(e){},getJSONAuthorizationBagForCredentials:function(e,t){return this.authBag},staticMembers:{__QUALIFIED_CLASS_NAME__:"MockAuthorizationBagProvider"}}),hD=oe.a.extend({authorizationBagProvider:y.c({set:function(e){this._authBagProvider=e},get:function(){var e=this._authBagProvider;return e||(e=this._authBagProvider=this.loadAuthorizationBagProvider()),e}}),loadAuthorizationBagProvider:function(){return BR.CloudOS.MockAuthorizationBagProvider.create()},login:function(e,t){var n=this.authorizationBagProvider.getJSONAuthorizationBagForCredentials(e,t),r=b.a.create();return setTimeout((function(){r.resolve({authorizationBag:n,session:{}})})),r},logout:function(e){var t=b.a.create();return setTimeout((function(){t.resolve()})),t},staticMembers:{__QUALIFIED_CLASS_NAME__:"MockSetupService"}}),fD={getFormattingRulesForLocale:function(e){}},pD={login:function(e,t){},logout:function(e){},validate:function(e){}},gD={staticMembers:{parse:function(e){var t=this.__s._$87$parse.apply(this,arguments);return t.hostname=t.shardedHostname,delete t.shardedHostname,t},init:function(){var e=M.a(this.components),t=e.indexOf("hostname");t>=0&&(e[t]="shardedHostname"),this.components=e,this.__s._$Je$init.apply(this,arguments)},generateShardedHostname:function(e,t){return e.replace(/\-/,"-"+t+"-")},__superMap:{_$87$parse:"parse",_$Je$init:"init"}},shardedHostname:v.g({dependencies:["hostname","shardNumber"],readOnly:!0,get:Object.assign((function(){var e=this.hostname,t=this.shardNumber;return e&&t?this.constructor.generateShardedHostname(e,t):e}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]),a=r.internalGet(this,t[1+n]);return i&&a?this.constructor.generateShardedHostname(i,a):i}})}),shardNumber:v.g()},mD=al.a.extend(gD,{staticMembers:{generateShardedHostname:function(e,t){return e.replace(/cvws/,"cvws-00"+t)},__QUALIFIED_CLASS_NAME__:"ContentVendorURL"}}),vD=al.a.extend(gD,{isCOSKUrl:!0,serviceName:y.c({defaultValue:function(){var e=iA.get("cloudOSApplication"),t=e.get("primaryServiceName");return t||(t=e.name),this.configureServiceURL(t),t},set:function(e){return this.configureServiceURL(e),e}}),clientIdQueryParamKey:v.g("clientId"),includeDSID:y.c({defaultValue:!0}),init:function(e){this.__s._$W_$init.apply(this,arguments),this.setCOSQueryParameters(),this.configureServiceURL()},setCOSQueryParameters:function(){var e=globalThis.__CW_BUILD_INFO;this.setQueryParameter("clientBuildNumber",e.buildNumber),this.setQueryParameter("clientMasteringNumber",e.masteringNumber),this.setQueryParameter(this.get("clientIdQueryParamKey"),iA.getPath("environment.clientId")),this.includeDSID&&this.setQueryParameter("dsid",iA.getPath("currentUser.dsid"))},configureServiceURL:function(e){var t=e||this.serviceName;if(t){var n=iA.getPath("authBag.servicesInfo");if(!n)return d.b.warn("COSK.Network.URL: Missing servicesInfo from COSK.globals.authBag.servicesInfo");var r=iA.getPath("cloudOSApplication.name"),i=n[t];if(i){var a=i.url;if(a&&ce.a(a)){var o=al.a.create(a);this.protocol=o.protocol,this.hostname=o.hostname,this.port=o.port}}else if(t!==r)return d.b.warn("COSK.Network.URL: Invalid URL for service: "+t)}},__superMap:{_$W_$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"URL"}}),yD={shouldReportSuccess:y.c(!1),shouldReportFailure:y.c(!0),shouldReportRequest:y.c(!0),reportingPathname:y.c({defaultValue:"REDACTED"}),reportingMethod:null,_timeSent:null,send:function(){this._timeSent=window.performance.now();var e=this.__s._$ST$send.apply(this,arguments);return iA.get("cloudOSService").requestSent(),e},didComplete:function(){this.sendReport()},sendReport:function(e){var t=this.get("response");if(t){var n=this.get("url"),r=t.get("encodedBody"),i=this.get("method"),a=this.get("reportingMethod"),o=null,s=t.get("status").toString()[0],c=this.get("shouldReportSuccess"),l="5"===s||"0"===s;(this.get("shouldReportFailure")&&("4"===s||l)||c&&"2"===s)&&(o={httpMethod:a?a+" VIA "+i:i,statusCode:t.get("status"),hostname:n.get("hostname"),serviceName:n.serviceName,clientTiming:window.performance.now()-this._timeSent,uncompressedResponseSize:r?r.length:null,timedOut:this.get("state")===_l.b.TIMEDOUT,urlPath:this.get("reportingPathname")||n.get("pathname")},Object.assign(o,e)),this.get("shouldReportRequest")&&iA.get("cloudOSService").requestReceived(o,t.get("status"),n.get("href"),l?r:void 0)}},__superMap:{_$ST$send:"send"}},_D={mixinDependencies:[yD],staticMembers:{requestLoggingLevel:d.a.LOG_LEVEL_DEBUG},shouldReportFailure:y.c({get:function(e){return"boolean"===typeof e?e:421!==this.getPath("response.status")}}),URLClass:vD,specialResponseStatuses:[401,421,423,503],finalize:function(){this.__s._$Sb$finalize.apply(this,arguments);var e=this.get("response");if(e){var t=e.get("status");-1!==this.specialResponseStatuses.indexOf(t)&&this._specialResponseWasReceived()}},_specialResponseWasReceived:function(){var e=this.get("response"),t=e.get("status"),n=e.get("body"),r=JSON.stringify(n),i=n?n.retryAfter:null,a={serviceName:this.url.serviceName,timeTaken:Date.now()-this.sentAt,retryAfter:i};iA.get("cloudOSService").didReceiveSpecialResponse(t,r,a)},url:v.g({defaultValue:function(){return this.URLClass.create()}}),__superMap:{_$Sb$finalize:"finalize"}},bD=Cl.a.extend(_D,{useCredentialsIfCrossOrigin:!0,willSend:function(){this.url.isCOSKUrl&&this.url.setCOSQueryParameters()},copyKeys:Me.b(Array),copy:function(){for(var e=this.copyKeys,t=this.constructor.create(),n=0,r=e.length;n<r;n++){var i=e[n];t[i]=this[i]}return t._statusEventListeners?d.b.warn("New request has event handlers, old handlers not copied."):t._statusEventListeners=this._statusEventListeners,t},staticMembers:{__QUALIFIED_CLASS_NAME__:"Request"}}),wD=n(1590),SD=Cl.a.extend(v.a,{init:function(){if(this.__s._$IX$init.apply(this,arguments),this.get("transport")!==wD.a.get("sharedInstance"))throw new Xn.a("Attempting a file upload from an unsupported browser.",this);var e=this.uploadProgress;e.bytesTotal=this._totalSize||0,this.on(_l.b.SUCCEEDED,(function(){e.bytesTransferred=e.bytesTotal}))},method:_l.a.POST,body:Object(v.g)({set:function(e){return this.generateFormDataFromBody(e)},didChange:yd.a}),files:Object(Me.b)(Array),bodySerializer:null,shouldTrackUploadProgress:!0,formKey:"files",generateFormDataFromBody:function(e){if(!e||e instanceof FormData)return e;var t=e instanceof FileList,n=e instanceof File,r=e instanceof Blob;if(!(n||t||r))throw new Xn.a("Must provide either a File or FileList.",{fileOrFileList:e});var i=new FormData;return this._totalSize=0,t?Array.prototype.forEach.call(e,(function(e){this.appendFileToFormData(e,i)}),this):this.appendFileToFormData(e,i),i},appendFileToFormData:function(e,t){var n=this.get("formKey"),r=A.a.get("sharedInstance");!e.size&&r.get("isIE")&&r.get("majorVersion")<=10?t.append(n,""):t.append(n,e),this._totalSize+=e.size||0,this.files.push(e)},__superMap:{_$IX$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadRequest"}}),ED=SD.extend(_D,{staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadRequest"}}),ID=n(1367),CD=n(1366),OD=oe.a.extend(v.a,{target:Object(v.g)(),targetLayout:Object(v.g)(),targetIsHidden:Object(v.g)(!1),recomputeLayoutIfNecessary:yd.a,shouldMeasure:Object(v.g)(),staticMembers:{__QUALIFIED_CLASS_NAME__:"LayoutMeasurer"}}).extend({dispose:function(){this.__s._$9f$dispose.apply(this,arguments),cancelAnimationFrame(this._scheduledMeasurement)},targetLayout:Object(Me.b)(CD.a),targetIsHidden:Object(v.g)({dependencies:["target.isAttached","_targetMeasurementFailed"],readOnly:!0,get:Object.assign((function(){return!this.getPath("target.isAttached")||this._targetMeasurementFailed}),{__CW__getter:function(e,t,n,r){return!r.internalGetPath(this,t[0+n])||r.internalGet(this,t[1+n])}})}),_targetMeasurementFailed:Object(v.g)(!1),recomputeLayoutIfNecessary:Object(v.h)({inputs:["shouldMeasure"],callback:function(e){if(cancelAnimationFrame(this._scheduledMeasurement),this._targetMeasurementFailed=!1,e){var t=function(){var e=this.target,n=this.targetLayout,r=e.element;if(r){var i=r.getBoundingClientRect(),a=i.left,o=i.top,s=i.width,c=i.height;0===a&&0===o&&0===s&&0===c?this._targetMeasurementFailed=!0:(this._targetMeasurementFailed=!1,n.beginBatchSet().setIfChanged("x",a).setIfChanged("y",o).setIfChanged("width",s).setIfChanged("height",c).end())}this._scheduledMeasurement=requestAnimationFrame(t)}.bind(this);t()}}}),__superMap:{_$9f$dispose:"dispose"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DOMLayoutMeasurer"}}),TD=Object(S.b)("VerticalAlignment",(function(e){e("Top"),e("Middle"),e("Bottom")})),AD=Object(S.b)("HorizontalAlignment",(function(e){e("Left"),e("Middle"),e("Right")})),ND=n(1395),MD=Ar.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"contentView"}],name:"container",classes:["cw-popover-content"]}],classes:["cw-popover-view"],styles:{width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"width",attributes:{},unit:null,property:"width"},height:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"height",attributes:{},unit:null,property:"height"}}}},className:"cw-ui-popover-view",__QUALIFIED_CLASS_NAME__:"PopoverView"},layout:Object(v.g)(),left:Object(v.g)(Object(_.c)("layout.left")),top:Object(v.g)(Object(_.c)("layout.top")),_transformObserver:Object(v.h)("left","top",(function(e,t){this.style.translateDevicePixels(e,t)})),height:Object(v.g)(Object(_.c)("layout.height")),width:Object(v.g)(Object(_.c)("layout.width")),verticalAlignment:Object(v.g)({type:TD}),horizontalAlignment:Object(v.g)({type:AD})}),DD=Object(S.b)("ArrowPopoverAlignment",(function(e){e("TargetMiddle"),e("Follow"),e("None")})),RD=MD.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"div",name:"arrow",classes:["cw-popover-arrow",{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"arrowDirectionClass",attributes:{}}],styles:{transform:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"arrowTransformStyle",attributes:{},unit:null,property:"transform"}}}]}},className:"cw-ui-arrow-popover-view",__QUALIFIED_CLASS_NAME__:"ArrowPopoverView"},anchorLayout:Object(v.g)(),arrowLength:Object(v.g)(10),arrowWidth:Object(v.g)(10),arrowAlignment:Object(v.g)({defaultValue:DD.TargetMiddle,type:DD}),arrowLeft:Object(v.g)({readOnly:!0,dependencies:["arrowDirection","arrowLength","arrowWidth","horizontalAlignment","arrowAlignment","layout.x","layout.width","anchorLayout.x","anchorLayout.width"],get:Object.assign((function(){var e=this.arrowDirection,t=this.arrowLength,n=this.layout;if(!n)return 0;var r=n.width;if("left"===e)return-t;if("right"===e)return r;var i,a=this.arrowWidth/2,o=n.x,s=o+a,c=o+r-a;if(this.arrowAlignment===DD.Follow)switch(this.horizontalAlignment){case AD.Left:i=s;break;case AD.Right:i=c;break;case AD.Middle:default:i=o+r/2}else{var l=this.anchorLayout;if(!l)return 0;var u=l.width,d=l.x;i=(d+(d+u))/2}return i=Math.max(Math.min(i,c),s),(i-=o)-a}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]),a=r.internalGet(this,t[1+n]),o=this.layout;if(!o)return 0;var s=o.width;if("left"===i)return-a;if("right"===i)return s;var c,l=r.internalGet(this,t[2+n])/2,u=o.x,d=u+l,h=u+s-l;if(r.internalGet(this,t[4+n])===DD.Follow)switch(r.internalGet(this,t[3+n])){case AD.Left:c=d;break;case AD.Right:c=h;break;case AD.Middle:default:c=u+s/2}else{var f=this.anchorLayout;if(!f)return 0;var p=f.width,g=f.x;c=(g+(g+p))/2}return c=Math.max(Math.min(c,h),d),(c-=u)-l}})}),arrowTop:Object(v.g)({readOnly:!0,dependencies:["arrowDirection","arrowLength","arrowWidth","verticalAlignment","arrowAlignment","layout.y","layout.height","anchorLayout.y","anchorLayout.height"],get:Object.assign((function(){var e=this.arrowDirection,t=this.arrowLength,n=this.layout;if(!n)return 0;var r=n.height;if("up"===e)return-t;if("down"===e)return r;var i,a=this.arrowWidth/2,o=n.y,s=o+a,c=o+r-a;if(this.arrowAlignment===DD.Follow)switch(this.verticalAlignment){case TD.Bottom:i=s;break;case TD.Top:i=c;break;case TD.Middle:default:i=o+r/2}else{var l=this.anchorLayout;if(!l)return 0;var u=l.height,d=l.y;i=(d+(d+u))/2}return i=Math.max(Math.min(i,c),s),(i-=o)-a}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]),a=r.internalGet(this,t[1+n]),o=this.layout;if(!o)return 0;var s=o.height;if("up"===i)return-a;if("down"===i)return s;var c,l=r.internalGet(this,t[2+n])/2,u=o.y,d=u+l,h=u+s-l;if(r.internalGet(this,t[4+n])===DD.Follow)switch(r.internalGet(this,t[3+n])){case TD.Bottom:c=d;break;case TD.Top:c=h;break;case TD.Middle:default:c=u+s/2}else{var f=this.anchorLayout;if(!f)return 0;var p=f.height,g=f.y;c=(g+(g+p))/2}return c=Math.max(Math.min(c,h),d),(c-=u)-l}})}),arrowTransformStyle:Object(v.g)({dependencies:["arrowLeft","arrowTop"],readOnly:!0,get:Object.assign((function(){return"translate("+this.arrowLeft+"px, "+this.arrowTop+"px)"}),{__CW__getter:function(e,t,n,r){return"translate("+r.internalGet(this,t[0+n])+"px, "+r.internalGet(this,t[1+n])+"px)"}})}),arrowDirection:Object(v.g)({readOnly:!0,dependencies:["layout.x","layout.width","layout.y","layout.height","anchorLayout.x","anchorLayout.width","anchorLayout.y","anchorLayout.height","arrowAlignment"],get:Object.assign((function(){var e=this.getPath("anchorLayout.height"),t=this.getPath("anchorLayout.y"),n=this.getPath("anchorLayout.width"),r=this.getPath("anchorLayout.x"),i=this.getPath("layout.height"),a=this.getPath("layout.y"),o=this.getPath("layout.width"),s=this.getPath("layout.x");return this.getPath("arrowAlignment")===DD.None?"no":r+n<s?"left":r>s+o?"right":t+e<a?"up":t>a+i?"down":"left"}),{__CW__getter:function(e,t,n,r){var i=r.internalGetPath(this,t[7+n]),a=r.internalGetPath(this,t[6+n]),o=r.internalGetPath(this,t[5+n]),s=r.internalGetPath(this,t[4+n]),c=r.internalGetPath(this,t[3+n]),l=r.internalGetPath(this,t[2+n]),u=r.internalGetPath(this,t[1+n]),d=r.internalGetPath(this,t[0+n]);return r.internalGet(this,t[8+n])===DD.None?"no":s+o<d?"left":s>d+u?"right":a+i<l?"up":a>l+c?"down":"left"}})}),arrowDirectionClass:Object(v.g)({readOnly:!0,dependencies:["arrowDirection"],get:Object.assign((function(){return"cw-"+this.arrowDirection+"-arrow"}),{__CW__getter:function(e,t,n,r){return"cw-"+r.internalGet(this,t[0+n])+"-arrow"}})})}),LD=oe.a.extend(v.a,{config:Object(v.g)(),anchorLayout:Object(v.g)(Object(_.c)("config.anchorLayout")),spaceLayout:Object(v.g)(Object(_.c)("config.spaceLayout")),desiredSize:Object(v.g)({strong:!0,binding:"config.desiredSize"}),minimumSize:Object(v.g)({strong:!0,binding:"config.minimumSize"}),layout:Object(v.g)(),fit:Object(v.g)({readOnly:!0,dependencies:["layout.height","layout.width"],get:Object.assign((function(){var e=this.getPath("layout.width"),t=this.getPath("layout.height");if(!t||!e)return 0;var n=this.minimumSize.width;return t<this.minimumSize.height||e<n?0:e*t}),{__CW__getter:function(e,t,n,r){var i=r.internalGetPath(this,t[1+n]),a=r.internalGetPath(this,t[0+n]);if(!a||!i)return 0;var o=this.minimumSize.width;return a<this.minimumSize.height||i<o?0:i*a}})}),staticMembers:{__QUALIFIED_CLASS_NAME__:"PopoverLayout"}}).extend({arrowLength:Object(v.g)(Object(_.c)("config.arrowLength")),_layoutRectangle:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"OnSideLayout"}}),kD={left:"x",right:"width",top:"y",bottom:"height"},xD={left:"vertical",right:"vertical",top:"horizontal",bottom:"horizontal"},FD={left:"width",right:"x",top:"height",bottom:"y",width:"height",height:"width"},PD={left:-1,right:1,top:-1,bottom:1},jD={left:"width",right:"width",top:"height",bottom:"height"},UD={left:"y",right:"y",top:"x",bottom:"x"},BD={left:"height",right:"height",top:"width",bottom:"width"},VD={x:0,y:0,height:0,width:0},WD={vertical:TD.Top,horizontal:AD.Left},zD={vertical:TD.Bottom,horizontal:AD.Right};function HD(e){var t=kD[e],n=PD[e],r=FD[e],i=UD[e],a=BD[e],o=jD[e],s=xD[e],c=WD[s],l=zD[s];return{fit:Object(v.g)({readOnly:!0,dependencies:["layout.height","layout.width","layout."+i,"layout."+a,"anchorLayout."+i,"anchorLayout."+a,"config.isAlignmentRequired","config."+s+"Alignment"],get:Object.assign((function(){var e,t=this.__s._$rW$get.apply(this,arguments),n=$property.internalGet(this,$getArray[2+$offset]),r=$property.internalGet(this,$getArray[3+$offset]),i=$property.internalGet(this,$getArray[4+$offset]),a=$property.internalGet(this,$getArray[5+$offset]),o=$property.internalGet(this,$getArray[6+$offset]),s=$property.internalGet(this,$getArray[7+$offset]);return e=s===c?i-n:s===l?a-r:n+r/2-(i+a/2),o?0!==e&&(t=0):t-=Math.abs(e),t}),{__CW__getter:function(e,t,n,r){var i,a=this.__s._$rW$get.apply(this,arguments),o=r.internalGet(this,t[2+n]),s=r.internalGet(this,t[3+n]),u=r.internalGet(this,t[4+n]),d=r.internalGet(this,t[5+n]),h=r.internalGet(this,t[6+n]),f=r.internalGet(this,t[7+n]);return i=f===c?u-o:f===l?d-s:o+s/2-(u+d/2),h?0!==i&&(a=0):a-=Math.abs(i),a}}),__superMap:{_$rW$get:"get"}}),layoutCalculator:Object(v.h)("arrowLength","desiredSize."+o,"desiredSize."+FD[o],"anchorLayout."+t,"anchorLayout."+r,"anchorLayout."+i,"anchorLayout."+a,"spaceLayout."+t,"spaceLayout."+r,"spaceLayout."+i,"spaceLayout."+a,"config.spaceInset","config."+s+"Alignment",(function(e,o,s,u,d,h,f,p,g,m,v,y,_){"height"===t||"width"===t?(u+=d,p+=g,p-=y):"height"!==r&&"width"!==r||(d+=u,g+=p,p+=y),v+=m,f+=h;var b,w,S=u+e*n,E=S+o*n;if((E>p&&n>0||E<p&&n<0)&&(E=p),_===c)b=h,w=h+s;else if(_===l)w=f,b=f-s;else{var I=(h+f)/2,C=s/2;b=I-C,w=I+C}var O=(m+=y)-b;O>0&&(b+=O,w+=O);var T=(v-=y)-w;T<0&&(b+=T,w+=T),b<m&&(b=m),VD[t]=E,VD[r]=S,VD[i]=b,VD[a]=w,VD.width-=VD.x,VD.height-=VD.y;var A=this._layoutRectangle;A?A.beginBatchSet().set("x",VD.x).set("y",VD.y).set("height",VD.height).set("width",VD.width).end():this._layoutRectangle=A=CD.a.create(VD),this.layout=A}))}}var GD=LD.extend(HD("right"),{staticMembers:{__QUALIFIED_CLASS_NAME__:"OnRightLayout"}}),$D=LD.extend(HD("left"),{staticMembers:{__QUALIFIED_CLASS_NAME__:"OnLeftLayout"}}),KD=LD.extend(HD("top"),{staticMembers:{__QUALIFIED_CLASS_NAME__:"OnTopLayout"}}),QD=LD.extend(HD("bottom"),{staticMembers:{__QUALIFIED_CLASS_NAME__:"OnBottomLayout"}}),qD=n(1584),ZD=qD.a.extend({view:Object(v.g)({downstreamBindings:{layout:"(owner).matchedLayout.layout",anchorLayout:"(owner).anchorLayout",arrowLength:"(owner).arrowLength",arrowWidth:"(owner).arrowWidth",arrowAlignment:"(owner).arrowAlignment",verticalAlignment:"(owner).verticalAlignment",horizontalAlignment:"(owner).horizontalAlignment"}}),anchorLayoutMeasurer:Object(v.g)({strong:!0,defaultValue:Object(Me.b)(OD),downstreamBindings:{target:"(owner).anchor",shouldMeasure:"(owner)._shouldMeasure"}}),_hideOnAnchorDetach:Object(v.h)("anchorLayoutMeasurer.targetIsHidden",(function(e){e&&this.hide()})),_shouldMeasure:Object(v.g)(!1),anchor:Object(v.g)(),anchorLayout:Object(v.g)(Object(_.c)("anchorLayoutMeasurer.targetLayout")),spaceLayout:Object(v.g)(A.a.sharedInstance.window),spaceInset:Object(v.g)(10),allowedLayouts:Object(v.g)({writeDependencies:[],dependencies:["isRTL"],set:function(e){return e},get:Object.assign((function(e){return"undefined"!==typeof e?e:this.isRTL?[$D,GD,KD,QD]:[GD,$D,KD,QD]}),{__CW__getter:function(e,t,n,r){return"undefined"!==typeof e?e:r.internalGet(this,t[0+n])?[$D,GD,KD,QD]:[GD,$D,KD,QD]}})}),isRTL:Object(v.g)(Sr.a.sharedInstance.bindingFor("isRTL")),fallbackLayout:QD,arrowLength:Object(v.g)(10),arrowWidth:Object(v.g)(10),arrowAlignment:Object(v.g)({defaultValue:DD.TargetMiddle,type:DD}),verticalAlignment:Object(v.g)(TD.Middle),horizontalAlignment:Object(v.g)(AD.Middle),isAlignmentRequired:Object(v.g)(!0),resolutionStrategy:YD,shouldAutosize:Object(v.g)({type:"boolean",defaultValue:!1}),desiredSize:Object(v.g)({strong:!0,defaultValue:Object(Me.b)(ID.a,{height:100,width:50})}),minimumSize:Object(v.g)({strong:!0,defaultValue:Object(Me.b)(ID.a,{height:10,width:10})}),show:function(e){if(!this.isAttached){if(e&&(this.anchor=e),!this.anchor)throw new Xn.a("PopoverViewController#show requires an anchor view: %{popover}",{popover:this});return this._shouldMeasure=!0,this.__s._$3sz$show.apply(this,arguments)}},hide:function(){if(this.isAttached)return this._shouldMeasure=!1,this.__s._$3yx$hide.apply(this,arguments)},init:function(){this.__s._$3_2$init.apply(this,arguments),this.anchorLayout||this.anchorLayoutMeasurer.bind("target",this.bindingFor("anchor"))},willAppear:function(){return this.shouldAutosize&&this._calculateSize(),this.__s._$49N$willAppear.apply(this,arguments)},_calculateSize:function(){var e=this.getPath("view.popoverView")||this.view;if(e){var t=e.element,n=e.container;if(t&&n){var r=Object(ND.a)(t),i=Object(ND.a)(n),a=i.getInline("position"),o=r.getInline("height"),s=r.getInline("width");r.set({width:"auto",height:"auto"}),i.set("position","static");var c=n.getBoundingClientRect(),l=c.width,u=c.height;r.set({height:o,width:s}),i.set("position",a);var d=ID.a.create({width:l,height:u});this.beginBatchSet().set("minimumSize",d).set("desiredSize",d).end()}}},_reconnectAllowedLayouts:Object(v.h)("allowedLayouts",(function(e){var t=this.fitObserver;t&&t.disconnect();for(var n=Object(cg.a)(e),r=n.length,i=[],a=0;a<r;a++){var o=n[a];o=o.create({config:this}),i.push(o.bindingFor("fit")),n[a]=o}this.allowedLayoutsInstances=n,i.push(this._resolveLayouts),this.fitObserver=this.observe.apply(this,i)})),_resolveLayouts:function(){var e,t=this.resolutionStrategy.apply(this,arguments);e=null!==t?this.allowedLayoutsInstances[t]:this._fallbackLayoutInstance||(this._fallbackLayoutInstance=this.fallbackLayout.create({config:this})),this.matchedLayout=e},matchedLayout:Object(v.g)(),viewClass:RD,__superMap:{_$3sz$show:"show",_$3yx$hide:"hide",_$3_2$init:"init",_$49N$willAppear:"willAppear"},staticMembers:{__QUALIFIED_CLASS_NAME__:"PopoverViewController"}});function YD(){for(var e=arguments,t=e.length,n=0,r=null,i=0;i<t;i++){var a=e[i];a>n&&(n=a,r=i)}return r}var XD,JD=n(1602),eR=JD.a.extend({action:null,callAction:function(){this.sendEvent("accountMenuItemWasSelected",this.action)},staticMembers:{className:"cosk-ui-title-bar-account-menu-item-view",__QUALIFIED_CLASS_NAME__:"AccountMenuItemView"}}),tR=Ar.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"MULTIVIEWOUTLET",tagname:"views",name:"accountMenuItemViews"}],classes:["cosk-account-menu"]},className:"cosk-ui-title-bar-account-menu-view",__QUALIFIED_CLASS_NAME__:"AccountMenu"},desiredSize:v.g({strong:!0,defaultValue:Me.b(ID.a,{width:100,height:100})}),minimumSize:v.g({strong:!0,binding:_.c("desiredSize")}),accountMenuItemViews:Me.b(Rd.b),accountMenuItems:v.g(Me.b(Array)),_accountMenuItemsObserver:v.h("accountMenuItems",(function(e){var t=this.get("accountMenuItemViews");if(t.splice(0,t.get("length")),e){var n=e.length,r=0;for(r=0;r<n;r++)t.push(eR.create(e[r]))}})),_remeasureIfNeeded:v.h("isAttached","_accountMenuItemsObserver",(function(){if(this.get("isAttached")){this.get("style").set("width","auto").set("height","auto");var e=this.get("element"),t=this.get("desiredSize");t.set("width",e.offsetWidth),t.set("height",e.offsetHeight),this.get("style").set("width","").set("height","")}}))}),nR=zn.a.extend({viewClass:tR,accountMenuItems:v.g({dependencies:[iA.bindingFor("environment.accountMenu")],readOnly:!0,get:Object.assign((function(){var e=iA.environment.accountMenu;return e&&e.items?e.items:[]}),{__CW__getter:function(e,t,n,r){var i=r.internalGetPath(this,t[0+n]);return i&&i.items?i.items:[]}})}),createView:function(){return this.get("viewClass").create({accountMenuItems:this.bindingFor("accountMenuItems")})},accountMenuItemWasSelected:function(e){return iA.get("cloudOSService").invokeMethodOnCloudOS(e),!1},showAccountSettings:function(){var e=iA.get("cloudOSService");e.showAccountSettings.call(e)},signOut:function(){var e=iA.get("cloudOSService");e.performLogout.call(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"AccountMenuViewController"}}),rR=ZD.extend({allowedLayouts:[QD],viewClass:RD.extend({additionalClassNames:ut.a(["cosk-account-menu-popover"])}),arrowLength:26,desiredSize:_.c("contentController.view.desiredSize"),minimumSize:_.c("contentController.view.minimumSize"),createView:function(){var e=this.__s._$9l$createView.apply(this,arguments);return iR.create({popoverView:e})},accountMenuItemWasSelected:function(e){return this.hide(),!0},updateLayout:function(){this.propertyChanged("anchor")},contentController:v.g({defaultValue:function(){return nR.create()}}),modalTap:function(){this.toggle()},__superMap:{_$9l$createView:"createView"},staticMembers:{__QUALIFIED_CLASS_NAME__:"AccountMenuPopoverViewController"}}),iR=Ar.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"popoverView"}],classes:["cosk-account-menu-modal"]},className:"cosk-ui-title-bar-view-controllers-modal-view",__QUALIFIED_CLASS_NAME__:"ModalView"},layout:v.g(),anchorLayout:v.g(),arrowLength:v.g(),arrowWidth:v.g(),arrowAlignment:v.g(),horizontalAlignment:v.g(),verticalAlignment:v.g(),popoverView:v.g({downstreamBindings:{layout:"(owner).layout",anchorLayout:"(owner).anchorLayout",arrowLength:"(owner).arrowLength",arrowWidth:"(owner).arrowWidth",arrowAlignment:"(owner).arrowAlignment",horizontalAlignment:"(owner).horizontalAlignment",verticalAlignment:"(owner).verticalAlignment"}}),contentView:v.g(_.c("popoverView.contentView")),pointerDown:function(e){return this.sendEvent("modalTap"),!0}}),aR=n(1603),oR=n(1400),sR=Ar.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"svg",children:[{type:"ELEMENT",tagname:"g",children:[{type:"ELEMENT",tagname:"path",namespace:"http://www.w3.org/2000/svg",attributes:{d:"M 19.208 -2.32422 C 19.9219 -2.34082 20.5195 -2.60645 21.0674 -3.1709 L 33.502 -15.9043 C 33.9502 -16.3525 34.166 -16.8672 34.166 -17.5146 C 34.166 -18.8096 33.1367 -19.8389 31.8584 -19.8389 C 31.2275 -19.8389 30.6299 -19.5732 30.165 -19.1084 L 19.208 -7.81934 L 8.23438 -19.1084 C 7.76953 -19.5732 7.18848 -19.8389 6.54102 -19.8389 C 5.2627 -19.8389 4.2334 -18.8096 4.2334 -17.5146 C 4.2334 -16.8838 4.46582 -16.3525 4.89746 -15.9043 L 17.3486 -3.1709 C 17.9131 -2.58984 18.4941 -2.32422 19.208 -2.32422 Z"}}],namespace:"http://www.w3.org/2000/svg",attributes:{transform:"matrix(1 0 0 1 -4.2333862304687955 21.6357421875)"}}],namespace:"http://www.w3.org/2000/svg",classes:["cosk-chevron-icon"],attributes:{viewBox:"0 0 29.9332275390625 19.30755615234375",version:"1.1"}},className:"cosk-ui-title-bar-chevron-view",__QUALIFIED_CLASS_NAME__:"ChevronView"}}),cR=Object.freeze({TOP:"top",HANGING:"hanging",MIDDLE:"middle",ALPHABETIC:"alphabetic",IDEOGRAPHIC:"ideographic",BOTTOM:"bottom"}),lR=new Map,uR=new(function(){function e(){this.font=""}var t=e.prototype;return t._buildKey=function(e){return this.font+"-"+e},t.get=function(e){return lR.get(this._buildKey(e))},t.set=function(e,t){lR.set(this._buildKey(e),t)},t.has=function(e){return lR.has(this._buildKey(e))},e}());function dR(e,t){for(var n=e.length,r=n,i=3;i<n;i+=4)if(0!==e[i]){r=i/4/t;break}return r}function hR(e,t){for(var n=0,r=e.length-1;r>=0;r-=4)if(0!==e[r]){n=r/4/t;break}return n}function fR(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:cR.ALPHABETIC,i=parseFloat(XD.style.height),a=parseFloat(XD.style.width);return e.clearRect(0,0,a,i),e.fillStyle="black",e.font=t,e.textBaseline=r,e.fillText(n,a/4,i/2,a),e.getImageData(0,0,a,i).data}function pR(e,t){XD||(XD=document.createElement("canvas"));var n=function(e){var t=window.getComputedStyle(e),n={font:t.getPropertyValue("font"),lineHeight:parseFloat(t.getPropertyValue("line-height")),fontFamily:t.getPropertyValue("font-family"),fontSize:parseFloat(t.getPropertyValue("font-size")),fontStretch:t.getPropertyValue("font-stretch"),fontStyle:t.getPropertyValue("font-style"),fontVariant:t.getPropertyValue("font-variant"),fontWeight:parseInt(t.getPropertyValue("font-weight"))};if(!n.font){var r=[n.fontStyle,n.fontVariant,n.fontWeight,"100%"===n.fontStretch?"normal":n.fontStretch,n.fontSize+"px / "+n.lineHeight+"px",n.fontFamily];n.font=""+r.join(" ")}return n}(t),r=n.font,i=n.fontSize;if(uR.font=r,uR.has(e))return uR.get(e);var a=XD.getContext("2d");XD.width=i,XD.height=2*i,XD.style.width=i+"px",XD.style.height=2*i+"px";var o=uR.get(cR.ALPHABETIC);if(o||(o=function(e,t,n){var r,i,a,o=t.fontWeight,s=t.fontSize,c=t.fontFamily,l=t.lineHeight,u=o+" "+s+"px "+c;i=dR(r=fR(e,u,"N"),n);var d=hR(r,n)-i;i=dR(r=fR(e,u,"x"),n);var h=(a=hR(r,n))-i,f=l/2+d/2;return{capline:f-d,meanline:f-h,baseline:f,capHeight:d,xHeight:h,renderedBaseline:a}}(a,n,XD.width),uR.set(cR.ALPHABETIC,o)),e===cR.ALPHABETIC)return o;var s=hR(fR(a,n.fontWeight+" "+n.fontSize+"px "+n.fontFamily,"N",e),i),c=s-o.renderedBaseline,l={capline:o.capline+c,meanline:o.meanline+c,baseline:o.baseline+c,capHeight:o.capHeight,xHeight:o.xHeight,renderedBaseline:s};return uR.set(e,l),l}window.getFontMetrics=pR;var gR={mixinDependencies:[{staticMembers:{template:{type:"ELEMENT",tagname:"span",name:"iconElement"}},_iconObserver:v.h({inputs:["icon","iconStyle"],callback:function(e,t){void 0!==e&&(this.iconElement.innerHTML=e),void 0!==t&&this.iconElement.setAttribute("style",t)}}),icon:v.g(),iconStyle:v.g()}],desiredFontSize:v.g(0),layoutMode:v.g("layoutBox"),symbolMetadata:v.g(),otherSymbolProps:v.g(),_symbolMetadataObserver:v.h({inputs:["desiredFontSize","layoutMode","otherSymbolProps","symbolMetadata"],callback:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(r&&t){var i=r.svgPath,a=r[t],o=a.viewBox,s=a.height,c=a.translateX,l=a.translateY,u=a.baseline,d=a.capline,h="matrix(1 0 0 1 "+c+" "+l+")";if(e>0){var f=s*(e/(u-d));n.style="height: "+f+"px; "+(n.style||"")}n.className="",n.className+="layoutBox"===t?" layout-box":" glyph-box";var p=document.createElement("svg");for(var g in p.setAttribute("viewBox",o),p.setAttribute("version","1.1"),p.setAttribute("xmlns","http://www.w3.org/2000/svg"),n)p.setAttribute(g,n[g]);var m=document.createElement("g");m.setAttribute("transform",h);var v=document.createElement("path");v.setAttribute("d",i),m.appendChild(v),p.appendChild(m),this.icon=p.outerHTML}else this.icon=""}})},mR={"icloud.logo":{name:"icloud.logo",svgPath:"M1 3.9c0-1.4 1.2-2.6 2.6-2.6 1.4 0 2.6 1.1 2.6 2.5S5.1 6.4 3.7 6.4h-.1C2.2 6.5 1 5.3 1 3.9zm.4 5.8h4.5v22H1.4v-22zm8.8 6.9C10.2 7 15.7 1 24.1 1 31 1 36.2 5.2 37 11.5h-4.7c-.8-3.9-4.1-6.4-8.2-6.4-5.5 0-9.1 4.5-9.1 11.5s3.5 11.5 9.1 11.5c4.2 0 7.2-2.2 8.2-5.8H37c-1.2 6.2-5.9 9.9-12.9 9.9-8.5 0-13.9-6-13.9-15.6zM40.9 1.5h4.5v30.2h-4.5V1.5zm18.7 7.9c-6.4 0-10.5 4.4-10.5 11.3S53.2 32 59.6 32s10.5-4.3 10.5-11.3c0-6.9-4-11.3-10.5-11.3zm0 18.8c-3.7 0-5.9-2.8-5.9-7.6 0-4.7 2.2-7.6 5.9-7.6s5.9 2.8 5.9 7.6-2.2 7.6-5.9 7.6zm33 3.5h-4.4v-3.8h-.1c-1.3 2.6-3.5 4-6.9 4-4.8 0-7.8-3.1-7.8-8.1V9.7h4.5v13.2c0 3.3 1.6 5.1 4.7 5.1 3.3 0 5.3-2.3 5.3-5.7V9.7h4.5l.2 22zm19.8-30.2v11.8h-.1c-1.3-2.4-3.8-3.9-6.9-3.9-5.5 0-9.3 4.4-9.3 11.2s3.8 11.2 9.3 11.2c3.2 0 5.7-1.5 7-4h.1v3.7h4.4v-30h-4.5zm-5.8 26.6c-3.5 0-5.9-2.9-5.9-7.4s2.3-7.4 5.9-7.4c3.5 0 5.8 2.9 5.8 7.4.1 4.5-2.3 7.4-5.8 7.4z",layoutBox:{viewBox:"0 0 118 34",width:118,height:34,translateX:0,translateY:0,baseline:31.2,capline:1},glyphBox:{viewBox:"0 0 118 34",width:118,height:34,translateX:0,translateY:0,baseline:31.2,capline:1}},"icloud.cn.logo":{name:"icloud.cn.logo",svgPath:"M11.5,39.5v10.3h-1v-0.9H2.3v0.9h-1V39.5h4.6v-2.2h1v2.2H11.5z M2.3,43.6h3.6v-3.1H2.3V43.6z M2.3,47.9h3.6v-3.4H2.3V47.9z M7,40.4v3.1h3.6v-3.1H7z M7,47.9h3.6v-3.4H7V47.9z M26.8,41.9v1h-6.6c-1.3,2.6-2.4,4.3-3.3,5.4c2.5-0.1,5-0.3,7.4-0.7c-0.2-0.5-0.5-1-0.8-1.4c-0.3-0.5-0.6-0.9-0.9-1.4l0.8-0.5c0.6,0.9,1.2,1.9,1.7,2.7c0.5,0.8,0.9,1.6,1.3,2.4L25.6,50c-0.1-0.3-0.2-0.5-0.3-0.7c-0.1-0.3-0.3-0.5-0.4-0.7c-1.4,0.2-2.8,0.3-4.3,0.5l-4.7,0.4l-0.3-1c0.1,0,0.1,0,0.1-0.1c0-0.1,0.1-0.1,0.1-0.1c0.9-0.7,2.1-2.5,3.4-5.4h-4.6v-1L26.8,41.9L26.8,41.9z M25.6,38.1V39h-9.7v-0.9H25.6z M33.1,37.2h1.1v4.2h5.1v1h-5.1v5.8h6.2v1H28.2v-1h5L33.1,37.2L33.1,37.2z M47.9,41.9V41h-4v-2.8h4v-0.9h1v0.9h4V41h-4v0.9h5.6v0.9H42.4v-0.9C42.4,41.9,47.9,41.9,47.9,41.9z M49.1,45.2c-0.2,1.7-0.6,2.8-1.3,3.3c-0.7,0.6-2.4,1.1-5,1.3l-0.4-0.9c2.4-0.1,3.7-0.5,4.5-1.1c0.8-0.7,1.2-1.8,1.2-2.8L49.1,45.2zM52.8,47.5h-0.9v-3h-6.8v3.1h-0.9v-4.1h8.6L52.8,47.5z M47.9,39h-3v1.1h3V39z M49.4,47.4c0.9,0.3,1.8,0.5,2.7,0.8c0.8,0.3,1.6,0.6,2.4,0.9l-0.5,0.9c-1.6-0.8-3.3-1.4-5-1.9L49.4,47.4z M52,39h-3.1v1.1H52V39z M58.5,40.8c-0.1,0.7-0.2,1.4-0.4,2.1l-0.6,2l-0.9-0.3c0.3-0.6,0.5-1.3,0.6-2c0.2-0.7,0.3-1.4,0.4-2.1L58.5,40.8zM60.3,37.4v4.1c-0.1,3.7-0.9,6.5-2.6,8.3L57,49.2c1.6-1.6,2.4-4.1,2.4-7.6v-4.1L60.3,37.4z M61.3,40.9c0.3,0.5,0.5,1.1,0.8,1.7c0.3,0.6,0.5,1.1,0.7,1.8L62,44.7c-0.2-0.6-0.5-1.3-0.7-1.9c-0.2-0.6-0.5-1.1-0.8-1.6L61.3,40.9z M64.3,37.7v11.7h-0.9V37.7H64.3zM65.1,40.8l0.8,1.6c0.3,0.6,0.5,1.1,0.7,1.8l-0.8,0.4c-0.2-0.6-0.5-1.2-0.7-1.8c-0.2-0.6-0.5-1.1-0.8-1.6L65.1,40.8z M68,37.3v12.5h-0.9V37.3H68z M78.9,49.6h-2.4c-0.4,0-0.8-0.1-1.2-0.1c-0.3,0-0.6-0.1-0.9-0.2c-0.6-0.2-1.1-0.5-1.5-1c-0.2-0.2-0.3-0.3-0.5-0.3c-0.3,0-0.9,0.7-1.7,2l-0.7-0.7c0.5-0.9,1.2-1.6,2-2.2V43h-2v-1H73v5.1l0.1,0.1c0.1,0.1,0.1,0.1,0.1,0.1c0.3,0.4,0.7,0.7,1.1,0.9c0.6,0.2,1.2,0.4,1.8,0.3h4.5c0.7,0,1.2-0.1,1.6-0.1l-0.3,1h-3L78.9,49.6z M70.8,37.4c0.5,0.4,0.9,0.7,1.3,1.1c0.4,0.3,0.7,0.7,1.1,1.1l-0.7,0.7c-0.7-0.8-1.5-1.5-2.4-2.2L70.8,37.4z M82.1,41.2v0.9h-4.3c-0.4,1-0.7,1.9-1.1,2.6c-0.3,0.6-0.6,1.2-1,1.7c0.8-0.1,1.7-0.2,2.5-0.3c0.7-0.1,1.4-0.3,2-0.4c-0.2-0.4-0.3-0.8-0.5-1.1c-0.2-0.4-0.4-0.7-0.6-1.1l0.8-0.3c0.8,1.4,1.5,2.8,2,4.3L81,47.8c-0.1-0.2-0.1-0.4-0.2-0.7c-0.1-0.2-0.2-0.4-0.3-0.6c-0.9,0.2-1.8,0.4-2.7,0.5c-1,0.1-2.1,0.3-3.3,0.4l-0.3-0.9c0.6-0.2,1.4-1.7,2.5-4.3h-2.8v-0.9L82.1,41.2L82.1,41.2z M81.1,38v0.9h-6.3V38H81.1z M84.3,38.2h3.1v-0.9h0.9v0.9h3.7v-0.9h1v0.9h3.1v0.9H93v0.8h-1v-0.8h-3.7v0.8h-0.9v-0.8h-3.1V38.2z M95.7,40.5V43h-1v-1.8h-9.1V43h-0.9v-2.7L95.7,40.5L95.7,40.5z M94.9,46v3.8h-1v-0.5h-7.4v0.5h-0.9V46H94.9z M86.5,48.4h7.4v-1.7h-7.4V48.4z M86.8,42.3h6.8V45h-6.8V42.3z M92.7,44.3V43h-5v1.3H92.7z M1,3.9a2.7,2.7 0 1,0 5.4,0a2.7,2.7 0 1,0 -5.4,0z M1.4,9.7h4.5v22.2H1.4V9.7z M10,16.7C10,7.1,15.4,1,23.9,1C30.8,1,36,5.2,36.8,11.6H32c-0.8-3.8-4.2-6.6-8.3-6.4c-5.5,0-9.1,4.5-9.1,11.6s3.5,11.6,9.1,11.6c4.2,0,7.3-2.2,8.3-5.8h4.7c-1.2,6.3-6,10-12.9,10C15.4,32.4,10,26.4,10,16.7z M40.8,1.5h4.6v30.4h-4.5L40.8,1.5z M49,20.8c0-7,4.1-11.4,10.5-11.4S70,13.8,70,20.8s-4,11.4-10.5,11.4C53.1,32.2,49,27.8,49,20.8z M65.4,20.8c0-4.7-2.2-7.6-5.9-7.6s-5.9,2.8-5.9,7.6s2.2,7.6,5.9,7.6S65.4,25.7,65.4,20.8z M92.5,31.9h-4.3v-3.7h-0.1c-1.3,2.7-3.5,4-6.9,4c-4.8,0-7.8-3.1-7.8-8.3V9.7H78v13.4c0,3.3,1.6,5.2,4.7,5.2c3.3,0,5.3-2.3,5.3-5.8V9.7h4.5V31.9L92.5,31.9z M96.1,20.8c0-6.9,3.7-11.3,9.2-11.3c3.1,0,5.7,1.5,7,3.9h0.1v-12h4.5v30.4h-4.4v-3.8h-0.1c-1.3,2.6-3.8,4-7.1,4C99.8,32.1,96.1,27.6,96.1,20.8z M100.8,20.8c0,4.5,2.4,7.5,5.9,7.5c3.5,0,5.8-2.9,5.8-7.5s-2.4-7.4-5.8-7.4S100.8,16.3,100.8,20.8L100.8,20.8z",layoutBox:{viewBox:"0 0 118 50",width:118,height:50,translateX:0,translateY:0,baseline:31.5,capline:0},glyphBox:{viewBox:"0 0 118 50",width:118,height:50,translateX:0,translateY:0,baseline:31.5,capline:0}}},vR=JD.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isCNAcct",truevalue:"cn",attributes:{}}]}}},mixinDependencies:[gR],action:"showAppSwitcher",additionalClassNames:ut.a(["cosk-icloud-logo","icloud-button"]),symbolMetadata:v.g({readOnly:!0,dependencies:["isCNAcct"],get:Object.assign((function(){var e=this.isCNAcct?"icloud.cn.logo":"icloud.logo";return mR[e]}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n])?"icloud.cn.logo":"icloud.logo";return mR[i]}})}),metadata:v.g({readOnly:!0,dependencies:["symbolMetadata","layoutMode"],get:Object.assign((function(){return this.symbolMetadata[this.layoutMode]}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])[r.internalGet(this,t[1+n])]}})}),isCNAcct:v.g({readOnly:!0,type:Boolean,dependencies:[iA.bindingFor("currentUser.isChineseAccount")],get:Object.assign((function(){return iA.currentUser.isChineseAccount}),{__CW__getter:function(e,t,n,r){return r.internalGetPath(this,t[0+n])}})})}),yR=Ar.a.extend(aR.a,{staticMembers:{template:{type:"ELEMENT",tagname:"span",children:[{type:"VIEWOUTLET",tagname:"view",name:"iCloudButton"},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"appName",attributes:{signal:"appNameDidRender"}}],classes:["cosk-app-display-name",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_canSafelyKernAppName",truevalue:"kern-safe",attributes:{}}],name:"appNameButtonView",attributes:{title:{key:"title",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"appSwitcherTooltip",attributes:{},attribute:"title"},type:"ATTRIBUTE"}}},{type:"VIEWOUTLET",tagname:"view",name:"chevronView"}],classes:["cosk-app-switcher-trigger"]},className:"cosk-ui-title-bar-app-switcher-trigger-view",__QUALIFIED_CLASS_NAME__:"AppSwitcherButton"},additionalClassNames:ut.a(["large-display-text"]),iCloudButton:Me.b(vR),chevronView:v.g({dependencies:["limitedExperienceMode"],readOnly:!0,get:Object.assign((function(){if(!this.limitedExperienceMode)return sR.create()}),{__CW__getter:function(e,t,n,r){if(!r.internalGet(this,t[0+n]))return sR.create()}})}),limitedExperienceMode:v.g({readOnly:!0,get:function(){return iA.get("cloudOSService").environment.limitedExperienceMode}}),appName:v.g(),appSwitcherTooltip:v.g({get:function(){return Sr.d("Toolbar.AppSwitcher.Tooltip")}}),action:"showAppSwitcher",_canSafelyKernAppName:v.g({readOnly:!0,dependencies:["appName",Sr.a.sharedInstance.bindingFor("locale")],get:Object.assign((function(){return _R(this.appName,Sr.a.sharedInstance.locale)}),{__CW__getter:function(e,t,n,r){return _R(r.internalGet(this,t[0+n]),r.internalGet(this,t[1+n]))}})}),showAppSwitcher:function(e){if(!this.limitedExperienceMode){var t=this.getPath("parent.rect"),n=iA.get("cloudOSService"),r=CD.a.create({top:t.bottom,left:t.left+t.width/2,width:1,height:1});n.showAppSwitcher(r)}},_alignmentObserver:v.h("isAttached",(function(){this.isAttached&&function(e){var t=e.iCloudButton.element,n=t.querySelector("svg"),r=e.appNameButtonView,i=e.getPath("chevronView.element");try{var a=oR.a(e.element).height,o=e.iCloudButton.metadata,s=o.baseline-o.capline,c=oR.a(t).height,l=oR.a(n).height,u=c/o.height*s,h=(c-l)/2+u,f=a/2+u/2,p=Math.round(f-h);if(ND.a(t,{"margin-top":p,"align-self":"flex-start"}),i){var g=f-pR(cR.ALPHABETIC,r).xHeight;g++,ND.a(i,{"margin-top":g,"align-self":"flex-start"})}}catch(m){d.b.debug("iCloudLogo _alignment error",m),ND.a(e.element,{"align-items":"center"})}}(this)}))}),_R=function(){var e=kd.a("ca cs da de en es fi fr hr hu id is it ms nb nl nn pl pt ro sk sv tr".split(" ")),t=/^[a-zA-Z0-9\s-\u2013\u2014:;.,?!\xbf/\\\u2026\u203d\u201c\u201d\u2018\u2019'"()[\]\xab\xbb]*$/;return function(n,r){if(A.a.sharedInstance.isSafari)return!1;if("string"!==typeof n)return!1;if("string"===typeof r){var i=(r=r.toLowerCase()).indexOf("-"),a=-1===i?r:r.substring(0,i);if(e[a])return!0}return t.test(n)}}(),bR=Ar.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"appSwitcherTriggerView"}],classes:["cosk-app-name",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isCloudOS2",truevalue:"cloud-os2",attributes:{}}]},className:"cosk-ui-title-bar-app-name-view",__QUALIFIED_CLASS_NAME__:"AppNameView"},appName:v.g(),appSwitcherTriggerView:v.g({defaultValue:function(){return yR.create({appName:this.bindingFor("appName")})}}),isCloudOS2:v.g({readOnly:!0,get:function(){return iA.get("cloudOSService").environment.isCloudOS2}}),preferredWidth:v.g({dependencies:["appSwitcherTriggerView.isAttached","appSwitcherTriggerView.appNameDidRender"],readOnly:!0,get:Object.assign((function(){if(this.getPath("appSwitcherTriggerView.isAttached")){var e,t;t=(e=this.get("style")).getInline("width"),e.set("width","auto");var n=this.get("element").offsetWidth;return e.set("width",t),n}}),{__CW__getter:function(e,t,n,r){if(r.internalGetPath(this,t[0+n])){var i,a;a=(i=this.get("style")).getInline("width"),i.set("width","auto");var o=this.get("element").offsetWidth;return i.set("width",a),o}}})})}),wR=Ar.a.extend(aR.a,{staticMembers:{template:{type:"ELEMENT",tagname:"span",children:[{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"displayName",attributes:{}}],classes:["cosk-display-name"]},{type:"VIEWOUTLET",tagname:"view",name:"chevronView"}],classes:["cosk-user-display-name-wrapper"]},className:"cosk-ui-title-bar-display-name-view",__QUALIFIED_CLASS_NAME__:"AccountNameButton"},additionalClassNames:ut.a(["large-display-text"]),chevronView:v.g({readOnly:!0,get:function(){return sR.create()}}),displayName:v.g(),action:"toggleAccountMenu",accountMenuPopoverController:v.g({defaultValue:function(){return rR.create().retain()}}),tooltip:Sr.d("Toolbar.Button.Action.UserAction"),dispose:function(){this.get("accountMenuPopoverController").release(),this.__s._$K3$dispose.apply(this,arguments)},updateLayout:function(){this.get("accountMenuPopoverController").updateLayout()},toggleAccountMenu:function(){var e=iA.get("cloudOSService");if(e.environment.isCloudOS2){var t=this.getPath("rect"),n={x:t.x,y:t.y,height:t.height-3,width:t.width};e.showAccountMenu(n)}else this.get("accountMenuPopoverController").toggle(this)},writeNameToDOMForMeasurement:function(e){this.get("element").querySelector(".cosk-display-name").childNodes[0].data=e},__superMap:{_$K3$dispose:"dispose"}}),SR=n(1523),ER=Ar.a.extend(aR.a,{staticMembers:{template:{type:"ELEMENT",tagname:"div",classes:["cosk-help-icon"],name:"iconEl"},className:"cosk-ui-title-bar-help-view",__QUALIFIED_CLASS_NAME__:"HelpButton"},init:function(){this.__s._$6J$init.apply(this,arguments),this.iconEl.innerHTML=SR},action:"showHelp",tooltip:Sr.d("Button.Help.Tooltip"),owner:v.g(),showHelp:function(e){iA.get("cloudOSService").showHelp(this.get("helpAnchor"))},__superMap:{_$6J$init:"init"}}),IR=Ar.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"displayNameView"},{type:"ELEMENT",tagname:"span",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldShowHelpView",truevalue:"cosk-user-splitter",falsevalue:"cosk-user-margin",attributes:{}}]},{type:"VIEWOUTLET",tagname:"view",name:"helpView"}],classes:["cosk-user-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isCloudOS2",truevalue:"cloud-os2",attributes:{}}],styles:{width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"widthStyle",attributes:{},unit:null,property:"width"}}},className:"cosk-ui-title-bar-user-view",__QUALIFIED_CLASS_NAME__:"AccountView"},width:v.g("auto"),widthStyle:v.g({dependencies:["width"],readOnly:!0,get:Object.assign((function(){var e=this.width;return"auto"===e?e:e+"px"}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return"auto"===i?i:i+"px"}})}),helpAnchor:v.g(),isCloudOS2:v.g({readOnly:!0,get:function(){return iA.get("cloudOSService").environment.isCloudOS2}}),shouldShowHelpView:v.g({readOnly:!0,get:function(){return!iA.get("cloudOSService").environment.isCloudOS2}}),helpView:v.g({readOnly:!0,dependencies:["shouldShowHelpView"],get:Object.assign((function(){return this.shouldShowHelpView?this._helpView:null}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])?this._helpView:null}})}),_helpView:Me.b(ER.extend({helpAnchor:v.g(_.c("owner.helpAnchor"))})),displayName:v.g({cacheable:!0,dependencies:["widthOptions","width"],readOnly:!0,get:Object.assign((function(){var e=this.widthOptions;if(this.width,!e)return"";var t,n=e.longName,r=e.shortName;return t=qo(n.value)?n.value:r.value,this.set("_displayName",t),t}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);if(r.internalGet(this,t[1+n]),!i)return"";var a,o=i.longName,s=i.shortName;return a=qo(o.value)?o.value:s.value,this.set("_displayName",a),a}})}),displayNameView:v.g({defaultValue:function(){return wR.create({displayName:this.bindingFor("displayName")})}}),widthOptions:v.g({cacheable:!0,dependencies:["isAttached","displayNameView",iA.bindingFor("currentUser.firstName"),iA.bindingFor("currentUser.lastName")],readOnly:!0,get:Object.assign((function(){var e=this.isAttached,t=this.displayNameView,n=iA.currentUser.firstName,r=iA.currentUser.lastName;if(!e)return null;var i,a,o,s,c,l=uA({givenName:n}),u=uA({givenName:n,familyName:r}),d=this.get("element"),h=d.style;return i=d.style.width,a=this.get("_displayName")||u,o=h.position,h.width="auto",h.position="absolute",t.writeNameToDOMForMeasurement(l),s=d.offsetWidth,t.writeNameToDOMForMeasurement(u),c=d.offsetWidth,h.width=i,h.position=o,t.writeNameToDOMForMeasurement(a),{shortName:{width:s,value:l},longName:{width:c,value:u}}}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]),a=r.internalGet(this,t[1+n]),o=r.internalGetPath(this,t[2+n]),s=r.internalGetPath(this,t[3+n]);if(!i)return null;var c,l,u,d,h,f=uA({givenName:o}),p=uA({givenName:o,familyName:s}),g=this.get("element"),m=g.style;return c=g.style.width,l=this.get("_displayName")||p,u=m.position,m.width="auto",m.position="absolute",a.writeNameToDOMForMeasurement(f),d=g.offsetWidth,a.writeNameToDOMForMeasurement(p),h=g.offsetWidth,m.width=c,m.position=u,a.writeNameToDOMForMeasurement(l),{shortName:{width:d,value:f},longName:{width:h,value:p}}}})}),_displayName:null,updateLayout:function(){this.get("displayNameView").updateLayout()}}),CR="ckdatabasews",OR="ckdeviceservice",TR="default",AR=[423,424];function NR(e){return function(t,n){return function(e,t,n){if(X.a(n)&&n.kindOf(bD)||Xn.b("[cloudos-kit] Requires a request class for CK url"),MR.cachedResponse){var r=MR.cachedResponse;MR.cachedResponse=null;var i=b.a.create();return setTimeout((function(){DR(i,{url:"",response:{status:200,headers:"",encodedBody:JSON.stringify(r)},autorelease:yd.a})}),MR.cachedResponseDelay||0),i}var a=e.substr(0,7),o="http://"===a||"https:/"===a,s=t.method||"GET",c=t.headers||{},l=t.body||"",u=function(e){var t={},n=e.split("?");if(n.length>1)for(var r=n[1].split("&"),i=0;i<r.length;i++){var a=r[i].split("="),o=a[0],s=a[1];t[o]=decodeURIComponent(s)}return t}(e),d=e.split("?");d.length>1&&(e=d[0]);var h,f={method:s,headers:c,body:l,shouldReportSuccess:!0,shouldReportFailure:!0,reportingPathname:null};if(o)if(-1!==e.indexOf("/device/")){var p=al.a.create(e).path;(h=n.create(f)).setPath("url.serviceName",OR),h.setPath("url.pathname",p)}else t.credentials&&"include"===t.credentials&&(f.useCredentialsIfCrossOrigin=!0),f.url=e,h=Cl.a.create(f);else(h=n.create(f)).setPath("url.serviceName",CR),h.setPath("url.pathname",e),h.url.setQueryParameter("remapEnums",!0),h.onStatus(423,LR.bind(this,Object.keys(f))),h.onStatus(424,LR.bind(this,Object.keys(f)));h.url=xR(h.url,u),h.retain();var g=b.a.create();h.didSucceed=DR.bind(this,g),h.didFail=RR.bind(this,g);var m=MR.config;if(m){var v=m.additionalQueryParameters;v&&(h.url=xR(h.url,v))}return h.send().catch((function(e){})),g}(t,n,e)}}var MR=NR(bD);function DR(e,t){var n=t.response,r=n.headers,i={status:n.status,type:TR,headers:kR(r),url:t.url.toString(),text:function(){var e=b.a.create(),t=n.encodedBody;return e.resolve(t),e},json:function(){var e=b.a.create(),t=JSON.parse(n.encodedBody);return e.resolve(t),e}};e.resolve(i),t.autorelease()}function RR(e,t){var n=t.get("response");if(-1===AR.indexOf(n.status)){if(n&&n.status)return DR(e,t);var r=n.encodedBody,i=new TypeError(r);e.reject(i),t.autorelease()}}function LR(e,t){e.push("url"),iA.cloudOSService.revalidateUser().then((function(){d.b.info("CKRequest: Retrying request after revalidate"),t.set("copyKeys",e),t.copy().send()}))}function kR(e){for(var t={},n=e.split("\n"),r=0;r<n.length;r++)if(!(n[r].length<1)){var i=n[r].split(": "),a=i.shift(),o=i.join(":");t[a]=o}return t}function xR(e,t){for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];e.setQueryParameter(i,t[i])}return e}var FR={persistAfterLogoutSuffix:".persist",getValueFromSessionStorage:function(e){return this._getValueFromStorage("sessionStorage",e)},setValueInSessionStorage:function(e,t){return this._setValueInStorage("sessionStorage",e,t)},removeValueInSessionStorage:function(e){return this._removeValueInStorage("sessionStorage",e)},getKeysInSessionStorage:function(){return this._getKeysInStorage("sessionStorage")},clearSessionStorage:function(){return this._clearStorage("sessionStorage")},getValueFromLocalStorage:function(e,t){return this._getValueFromStorage("localStorage",e,t)},setValueInLocalStorage:function(e,t,n){return this._setValueInStorage("localStorage",e,t,n)},removeValueInLocalStorage:function(e,t){return t&&(e+=this.persistAfterLogoutSuffix),this._removeValueInStorage("localStorage",e)},getKeysInLocalStorage:function(){return this._getKeysInStorage("localStorage")},clearLocalStorage:function(){return this._clearStorage("localStorage",!0)},_getStorageObject:function(e){try{return window[e]}catch(t){d.b.warn("Could not get storage object for %@: %@",e,t)}},_getValueFromStorage:function(e,t,n){var r,i,a=null,o=this._getStorageObject(e);return o&&o.getItem&&((r=(i=iA.cloudOSApplication)?i.name:"iCloud")&&(t=r+"."+t),n&&(t+=this.persistAfterLogoutSuffix),a=o.getItem(t)),a},_setValueInStorage:function(e,t,n,r){var i,a,o=!1,s=this._getStorageObject(e);if(s&&s.setItem){(i=(a=iA.cloudOSApplication)?a.name:"iCloud")&&(t=i+"."+t),r&&(t+=this.persistAfterLogoutSuffix);try{s.setItem(t,n),o=!0}catch(c){}}return o},_getKeysInStorage:function(e){var t,n,r,i,a=[],o=this._getStorageObject(e);if(o)for(i in(n=(t=iA.cloudOSApplication)?t.name:"iCloud")&&(n+="."),r=n?n.length:0,o)0===i.indexOf(n)&&a.push(i.substring(r));return a}};function PR(e){e||Xn.b("You must specify a URL");var t,n=iA.environment;n&&(n.isBeta&&(t="beta"),n.isCarry&&(t="carry"),n.isFuture&&(t="future"));var r,i=iA.cloudOSApplication;if(i&&(i.isBeta&&(r="beta"),i.isCarry&&(r="carry"),i.isFuture&&(r="future")),t&&t!==r){if("string"===typeof e){var a=al.a.create(e);return a.appendQueryParameter("rootDomain",t),a.href}e.appendQueryParameter("rootDomain",t)}return e}var jR,UR=function(e,t){return iA.get("authBag").getServiceUrlFor(e,t)},VR=function(e,t){Storage.setValueInSessionStorage("reloadReason",e),"PROD"!==iA.environment.iCloudEnvironment&&Storage.setValueInSessionStorage("preReloadLogMessages",d.b.stringifyRecordedLogMessages()),t?window.location=t:window.location.reload(),iA.isReloading=!0},WR=uN.extend({run:function(){this.cloudOSState===iN.NotLoaded&&this.load();var e=null;try{window.opener&&window.opener.CloudOS&&(e=window.opener.CloudOS)}catch(a){d.b.debug("Cannot get the Opener window."+a.message)}var t=window.location.hash.split("instanceId=")[1];if(t){var n=window.location,r=n.hash;r=(r=r.split("&instanceId=")[0]).split("#instanceId=")[0];var i=window.history;i&&i.replaceState?i.replaceState(null,null,n.pathname+n.search+r):n.hash=r}e&&e.windowApplicationIsKnown(t||window)?(d.b.debug("COSK.WindowApplication: Asking parent CloudOS to be initialized"),e.windowApplicationHasInitialized(t||window,this.get("name"))):(d.b.debug("COSK.WindowApplication: Starting stand-alone"),d.b.debug("COSK.WindowApplication: To be implemented")),this.__s._$Zx$run.apply(this,arguments)},prepareForLoad:function(){var e="en-us";e!==Sr.c()&&(TT.set("X-APPLE-WEB-USERLOCALE",e),Storage.getValueFromSessionStorage("didRefreshToLocale")!==e?(Storage.setValueInSessionStorage("didRefreshToLocale",e),VR("prepareForLoad: Changing locale")):d.b.warn("Already attempted refresh to locale "+e)),this.__s._$rI$prepareForLoad.apply(this,arguments)},willBecomeActive:function(){},didBecomeActive:function(){},willBecomeSuspended:function(){},didBecomeSuspended:function(){},__superMap:{_$Zx$run:"run",_$rI$prepareForLoad:"prepareForLoad"},staticMembers:{__QUALIFIED_CLASS_NAME__:"WindowApplication"}}),zR=oe.a.extend(v.a,ws.a,{logo:v.g({type:String,get:function(){return tc.sharedInstance.current.domainLogo}}),current:v.g({type:Object,get:function(){return tc.sharedInstance.current}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"DomainManager"}}),HR=n(1430),GR=n(1441),$R={ok:y.c({readOnly:!0,type:Boolean,get:function(){var e=this.status||0;return 2===parseInt(e/100)}})},KR=GR.a.extend($R,{staticMembers:{__QUALIFIED_CLASS_NAME__:"AsyncResult"}});!function(e){e.PUBLIC="PUBLIC",e.PRIVATE="PRIVATE"}(jR||(jR={}));var QR,qR=jR;!function(e){e.OWNER="OWNER",e.USER="USER",e.ADMINISTRATOR="ADMINISTRATOR"}(QR||(QR={}));var ZR,YR=QR;!function(e){e.NONE="NONE",e.READ_ONLY="READ_ONLY",e.READ_WRITE="READ_WRITE",e.UNKNOWN="UNKNOWN"}(ZR||(ZR={}));var XR=ZR,JR={NATIVE_MAIL:"NATIVE_MAIL",WEB_MAIL:"WEB_MAIL",COPY_LINK:"COPY_LINK",SCHOOLWORK:"SCHOOLWORK"};Object.freeze(JR),Object(Sr.b)(Object(Sr.c)(),{"CKSharing.UnexpectedTerminationMessage":"An unexpected error occurred.","CKSharing.Busy.LoadingParticipants.Description":"Loading","CKSharing.Busy.Loading.Description":"Loading","CKSharing.Sending.Description":"Preparing","CKSharing.Dialog.Button.OK":"OK","CKSharing.Dialog.Button.Continue":"Continue","CKSharing.Dialog.Button.Cancel":"Cancel","CKSharing.Dialog.Button.Done":"Done","CKSharing.ErrorDialog.ACCESS_DENIED.Message":"Your request couldnt be completed.","CKSharing.ErrorDialog.ACCESS_DENIED.Description.CloudKit":"This account has restrictions on the people you can share with.","CKSharing.ErrorDialog.ACCESS_DENIED.Description.Keynote":"This account has restrictions on the people you can share presentations with.","CKSharing.ErrorDialog.ACCESS_DENIED.Description.Notes":"This account has restrictions on the people you can share notes with.","CKSharing.ErrorDialog.ACCESS_DENIED.Description.Numbers":"This account has restrictions on the people you can share spreadsheets with.","CKSharing.ErrorDialog.ACCESS_DENIED.Description.Pages":"This account has restrictions on the people you can share documents with.","CKSharing.ErrorDialog.ACCESS_DENIED.Description.Drive.File":"This account has restrictions on the people you can share files with.","CKSharing.ErrorDialog.ACCESS_DENIED.Description.Drive.Folder":"This account has restrictions on the people you can share folders with.","CKSharing.ErrorDialog.ACCESS_DENIED.Description.Photos":"This account has restrictions on the people you can share photos with.","CKSharing.ErrorDialog.AddingParticipants.MAIL_ADD_PARTICIPANTS_FAILED.Message":"Cannot send message.","CKSharing.ErrorDialog.AddingParticipants.MAIL_ADD_PARTICIPANTS_FAILED.Description":"One or more participants cannot be invited because of an error.","CKSharing.ErrorDialog.DESTROY.Message":"Sharing couldnt be stopped.","CKSharing.ErrorDialog.UPDATE.Message":"Share options couldnt be changed.","CKSharing.ErrorDialog.INVITE_TO_PRIVATE.VIA_EMAIL.TO_PERSON.Message":"Your invitation couldnt be sent.","CKSharing.ErrorDialog.INVITE_TO_PRIVATE.VIA_EMAIL.TO_PEOPLE.Message":"Your invitations couldnt be sent.","CKSharing.ErrorDialog.INVITE_TO_PRIVATE.VIA_UNKNOWN.Message":"People couldnt be added.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.CloudKit":"This cant be shared right now.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Keynote":"This presentation cant be shared right now.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Notes":"This note cant be shared right now.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Numbers":"This spreadsheet cant be shared right now.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Pages":"This document cant be shared right now.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Drive.File":"This file cant be shared right now.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Drive.Folder":"This folder cant be shared right now.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Photos":"These photos cant be shared right now.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Photos.Compact":"Photos Could Not Be Shared","CKSharing.ErrorDialog.SEND_LINK.Message.CloudKit":"The link cant be sent right now.","CKSharing.ErrorDialog.SEND_LINK.Message.Keynote":"The link to this presentation cant be sent right now.","CKSharing.ErrorDialog.SEND_LINK.Message.Notes":"The link to this note cant be sent right now.","CKSharing.ErrorDialog.SEND_LINK.Message.Numbers":"The link to this spreadsheet cant be sent right now.","CKSharing.ErrorDialog.SEND_LINK.Message.Pages":"The link to this document cant be sent right now.","CKSharing.ErrorDialog.SEND_LINK.Message.Drive.File":"The link to this file cant be sent right now.","CKSharing.ErrorDialog.SEND_LINK.Message.Drive.Folder":"The link to this folder cant be sent right now.","CKSharing.ErrorDialog.CONFLICT.Description":"Changes were made on another device. Please try again.","CKSharing.ErrorDialog.UNKNOWN_ERROR.Description":"There may be a problem with the server. Please try again later.","CKSharing.ErrorDialog.UNKNOWN_ERROR.Description.Compact":"Please try again later.","CKSharing.ErrorDialog.TOO_MANY_INVITEES.Message":"Youve reached the maximum number of invites.","CKSharing.ErrorDialog.TOO_MANY_INVITEES.Description":"New invitations cant be sent. Reduce the number of people youre inviting or have previously invited, then try again.","CKSharing.ErrorDialog.ADDED_ONLY_YOURSELF.Message":"You cant share to your own iCloud email address.","CKSharing.ErrorDialog.ADDED_ONLY_YOURSELF.Description":"Enter other peoples email addresses or phone numbers, then try again.","CKSharing.ErrorDialog.ADDED_ONLY_YOURSELF_EMAIL.Description":"Enter other peoples email addresses, then try again.","CKSharing.ErrorDialog.ValidateTokens.ONE_INVALID_TOKEN.NOT_IN_ORG.Message":"%{value} is not a member of your institution.","CKSharing.ErrorDialog.ValidateTokens.ONE_INVALID_TOKEN.NOT_IN_ORG.Description":"Please select a contact that belongs to your institution.","CKSharing.ErrorDialog.ValidateTokens.ONE_INVALID_TOKEN.Message":"%{value} is not a valid email address or phone number.","CKSharing.ErrorDialog.ValidateTokens.ONE_INVALID_TOKEN.OVER_SIZE.Ellipsis":"","CKSharing.ErrorDialog.ValidateTokens.ONE_INVALID_TOKEN.Description":"Please enter a valid email address or phone number, then try sharing again.","CKSharing.ErrorDialog.ValidateTokens.SOME_INVALID_TOKENS.Message":"Some email addresses or phone numbers you entered are not valid.","CKSharing.ErrorDialog.ValidateTokens.SOME_INVALID_TOKENS.Description":"Please enter valid email addresses or phone numbers, then try sharing again.","CKSharing.ErrorDialog.ValidateTokens.ALL_INVALID_TOKENS.Message":"The email addresses or phone numbers you entered are not valid.","CKSharing.ErrorDialog.ValidateTokens.ALL_INVALID_TOKENS.Description":"Please enter valid email addresses or phone numbers, then try sharing again.","CKSharing.ErrorDialog.ValidateTokens.Email.ONE_INVALID_TOKEN.Message":"%{value} is not a valid email address.","CKSharing.ErrorDialog.ValidateTokens.Email.ONE_INVALID_TOKEN.Description":"Please enter a valid email address, then try sharing again.","CKSharing.ErrorDialog.ValidateTokens.Email.SOME_INVALID_TOKENS.Message":"Some email addresses you entered are not valid.","CKSharing.ErrorDialog.ValidateTokens.Email.SOME_INVALID_TOKENS.Description":"Please enter valid email addresses, then try sharing again.","CKSharing.ErrorDialog.ValidateTokens.Email.ALL_INVALID_TOKENS.Message":"The email addresses you entered are not valid.","CKSharing.ErrorDialog.ValidateTokens.Email.ALL_INVALID_TOKENS.Description":"Please enter valid email addresses, then try sharing again.","CKSharing.ErrorDialog.OKButton.Title":"OK","CKSharing.ErrorDialog.MailComposer.LoadTimeout.Message":"Cannot open iCloud Mail.","CKSharing.ErrorDialog.MailComposer.LoadTimeout.Description":"There may be a problem with the server. Please try again later.","CKSharing.ErrorDialog.AXMGroup.UNABLE_TO_FETCH_MEMBERS.Message":"Unable to get members of %{groupName}.","CKSharing.ErrorDialog.AXMGroup.UNABLE_TO_FETCH_MEMBERS.Description":"There may be a problem with the server. Please try again later.","CKSharing.ErrorDialog.CopyLink.UNABLE_TO_ACQUIRE_LINK.Message":"This link cant be sent right now.","CKSharing.ErrorDialog.CopyLink.UNABLE_TO_ACQUIRE_LINK.Description":"Please try again later.","CKSharing.ConfirmationDialog.PublicToPrivate.Message":"Change to invite only?","CKSharing.ConfirmationDialog.PublicToPrivate.Description.CloudKit.WithTitle":"Only you will have access to %{shareTitle} until you invite people.","CKSharing.ConfirmationDialog.PublicToPrivate.Description.CloudKit.WithoutTitle":"Only you will have access until you invite people.","CKSharing.ConfirmationDialog.PublicToPrivate.Description.Drive.File":"Everyone will be removed from this file and it will be deleted from iCloudDrive on all of their devices.","CKSharing.ConfirmationDialog.PublicToPrivate.Description.Drive.Folder":"Everyone will be removed from this folder and it will be deleted from iCloudDrive on all of their devices.","CKSharing.ConfirmationDialog.PublicToPrivate.Description.Pages":"Everyone will be removed from this document and it will be deleted from iCloudDrive on all of their devices.","CKSharing.ConfirmationDialog.PublicToPrivate.Description.Keynote":"Everyone will be removed from this presentation and it will be deleted from iCloudDrive on all of their devices.","CKSharing.ConfirmationDialog.PublicToPrivate.Description.Numbers":"Everyone will be removed from this spreadsheet and it will be deleted from iCloudDrive on all of their devices.","CKSharing.ConfirmationDialog.PublicToPrivate.Description.Notes":"Everyone will be removed from this note and it will be deleted from Notes on all of their devices","CKSharing.ConfirmationDialog.StopSharing.Message.CloudKit":"Stop sharing?","CKSharing.ConfirmationDialog.StopSharing.Message.Drive.File":"Stop sharing this file?","CKSharing.ConfirmationDialog.StopSharing.Message.Drive.Folder":"Stop sharing this folder?","CKSharing.ConfirmationDialog.StopSharing.Message.Pages":"Stop sharing this document?","CKSharing.ConfirmationDialog.StopSharing.Message.Keynote":"Stop sharing this presentation?","CKSharing.ConfirmationDialog.StopSharing.Message.Numbers":"Stop sharing this spreadsheet?","CKSharing.ConfirmationDialog.StopSharing.Message.Notes":"Stop sharing this note?","CKSharing.ConfirmationDialog.StopSharing.Description.CloudKit.WithTitle":"If you stop sharing, other people will no longer have access to %{shareTitle}.","CKSharing.ConfirmationDialog.StopSharing.Description.CloudKit.WithoutTitle":"If you stop sharing, other people will no longer have access.","CKSharing.ConfirmationDialog.StopSharing.Description.Drive.File":"If you stop sharing, other people will no longer have access to this file and it will be deleted from iCloudDrive on all of their devices.","CKSharing.ConfirmationDialog.StopSharing.Description.Drive.Folder":"If you stop sharing, other people will no longer have access to this folder and it will be deleted from iCloudDrive on all of their devices.","CKSharing.ConfirmationDialog.StopSharing.Description.Pages":"If you stop sharing, other people will no longer have access to this document and it will be deleted from iCloudDrive on all of their devices.","CKSharing.ConfirmationDialog.StopSharing.Description.Keynote":"If you stop sharing, other people will no longer have access to this presentation and it will be deleted from iCloudDrive on all of their devices.","CKSharing.ConfirmationDialog.StopSharing.Description.Numbers":"If you stop sharing, other people will no longer have access to this spreadsheet and it will be deleted from iCloudDrive on all of their devices.","CKSharing.ConfirmationDialog.StopSharing.Description.Notes":"If you stop sharing, other people will no longer have access to this note and it will be deleted on all of their devices.","CKSharing.ConfirmationDialog.RemoveYourself.Message.CloudKit":"Are you sure you want to remove yourself?","CKSharing.ConfirmationDialog.RemoveYourself.Message.Drive.File":"Are you sure you want to remove yourself from this shared file?","CKSharing.ConfirmationDialog.RemoveYourself.Message.Drive.Folder":"Are you sure you want to remove yourself from this shared folder?","CKSharing.ConfirmationDialog.RemoveYourself.Message.Pages":"Are you sure you want to remove yourself from this shared document?","CKSharing.ConfirmationDialog.RemoveYourself.Message.Keynote":"Are you sure you want to remove yourself from this shared presentation?","CKSharing.ConfirmationDialog.RemoveYourself.Message.Numbers":"Are you sure you want to remove yourself from this shared spreadsheet?","CKSharing.ConfirmationDialog.RemoveYourself.Message.Notes":"Are you sure you want to remove yourself from this shared note?","CKSharing.ConfirmationDialog.RemoveYourself.Description.CloudKit.WithTitle":"This will remove you from %{shareTitle}.","CKSharing.ConfirmationDialog.RemoveYourself.Description.CloudKit.WithoutTitle":"You will no longer have access.","CKSharing.ConfirmationDialog.RemoveYourself.Description.Drive.File":"Removing yourself from this shared file will delete the document from iCloudDrive on all your devices.","CKSharing.ConfirmationDialog.RemoveYourself.Description.Drive.Folder":"Removing yourself from this shared folder will delete the document from iCloudDrive on all your devices.","CKSharing.ConfirmationDialog.RemoveYourself.Description.Pages":"Removing yourself from this shared document will delete the document from iCloudDrive on all your devices.","CKSharing.ConfirmationDialog.RemoveYourself.Description.Keynote":"Removing yourself from this shared presentation will delete the presentation from iCloudDrive on all your devices.","CKSharing.ConfirmationDialog.RemoveYourself.Description.Numbers":"Removing yourself from this shared spreadsheet will delete the spreadsheet from iCloudDrive on all your devices.","CKSharing.ConfirmationDialog.RemoveYourself.Description.Notes":"Removing yourself from this shared note will delete the note from all your devices.","CKSharing.ConfirmationDialog.RemoveFinalParticipant.Message":"Are you sure you want to remove %{name}?","CKSharing.ConfirmationDialog.RemoveFinalParticipant.Description":"Removing the only invited participant will stop sharing.","CKSharing.SummaryText.OwnerAdmin.Private.RO.WOption":"Only people you invite can view","CKSharing.SummaryText.OwnerAdmin.Private.RO.NoOption":"Only people you invite can view","CKSharing.SummaryText.OwnerAdmin.Private.RW.PreShare.AllCanAdd.WOption":"People you invite can make changes and add others","CKSharing.SummaryText.OwnerAdmin.Private.RW.PreShare.SomeCanAdd.WOption":"Some people you invite can add others","CKSharing.SummaryText.OwnerAdmin.Private.RW.PreShare.OwnerCanAdd.WOption":"Only people you invite can make changes","CKSharing.SummaryText.OwnerAdmin.Private.RW.PreShare.AllCanAdd.NoOption":"People you invite can make changes and add others","CKSharing.SummaryText.OwnerAdmin.Private.RW.PreShare.SomeCanAdd.NoOption":"Some people you invite can add others","CKSharing.SummaryText.OwnerAdmin.Private.RW.PreShare.OwnerCanAdd.NoOption":"Only people you invite can make changes","CKSharing.SummaryText.OwnerAdmin.Private.Mixed.PreShare.AllCanAdd.WOption":"Some people you invite can make changes and add others","CKSharing.SummaryText.OwnerAdmin.Private.Mixed.PreShare.SomeCanAdd.WOption":"Some people you invite can make changes and add others","CKSharing.SummaryText.OwnerAdmin.Private.Mixed.PreShare.OwnerCanAdd.WOption":"Only people you invite can open","CKSharing.SummaryText.OwnerAdmin.Private.Mixed.PreShare.AllCanAdd.NoOption":"Some people you invite can make changes and add others","CKSharing.SummaryText.OwnerAdmin.Private.Mixed.PreShare.SomeCanAdd.NoOption":"Some people you invite can make changes and add others","CKSharing.SummaryText.OwnerAdmin.Private.Mixed.PreShare.OwnerCanAdd.NoOption":"People you invite can open","CKSharing.SummaryText.OwnerAdmin.Private.RW.AllCanAdd.WOption":"Invited people can make changes and add others","CKSharing.SummaryText.OwnerAdmin.Private.RW.SomeCanAdd.WOption":"Some invited people can add others","CKSharing.SummaryText.OwnerAdmin.Private.RW.OwnerCanAdd.WOption":"Only people you invite can make changes","CKSharing.SummaryText.OwnerAdmin.Private.RW.AllCanAdd.NoOption":"Invited people can make changes and add others","CKSharing.SummaryText.OwnerAdmin.Private.RW.SomeCanAdd.NoOption":"Some invited people can add others","CKSharing.SummaryText.OwnerAdmin.Private.RW.OwnerCanAdd.NoOption":"Only people you invite can make changes","CKSharing.SummaryText.OwnerAdmin.Private.Mixed.AllCanAdd.WOption":"Some invited people can make changes and add others","CKSharing.SummaryText.OwnerAdmin.Private.Mixed.SomeCanAdd.WOption":"Some invited people can make changes and add others","CKSharing.SummaryText.OwnerAdmin.Private.Mixed.OwnerCanAdd.WOption":"Only people you invite can open","CKSharing.SummaryText.OwnerAdmin.Private.Mixed.AllCanAdd.NoOption":"Some invited people can make changes and add others","CKSharing.SummaryText.OwnerAdmin.Private.Mixed.SomeCanAdd.NoOption":"Some invited people can make changes and add others","CKSharing.SummaryText.OwnerAdmin.Private.Mixed.OwnerCanAdd.NoOption":"Only people you invite can open","CKSharing.SummaryText.OwnerAdmin.Public.RW.WOption":"Anyone with the link can make changes","CKSharing.SummaryText.OwnerAdmin.Public.RW.NoOption":"Anyone with the link can make changes","CKSharing.SummaryText.OwnerAdmin.Public.RO.WOption":"Anyone with the link can view","CKSharing.SummaryText.OwnerAdmin.Public.RO.NoOption":"Anyone with the link can view","CKSharing.SummaryText.Participant.Private.RO":"Only %{ownerName} can invite people","CKSharing.SummaryText.Participant.Private.RW":"Only invited people have access","CKSharing.SummaryText.Participant.Private.Mixed":"Only invited people have access","CKSharing.SummaryText.Participant.Public.RW":"Anyone with the link can make changes","CKSharing.SummaryText.Participant.Public.RO":"Anyone with the link can view","CKSharing.PermissionsCombo.AllowEditing":"Can make changes","CKSharing.PermissionsCombo.ViewOnly":"View only","CKSharing.PermissionsCombo.Mixed":"Mixed","CKSharing.ManageShare.Title":"People","CKSharing.ManageShare.Button.AddPeople":"Add People","CKSharing.ManageShare.Button.SendLink":"Send Link","CKSharing.ManageShare.Button.CopyLink":"Copy Link","CKSharing.ManageShare.Button.ShareOptions":"Share Options","CKSharing.ManageShare.Button.Close":"Done","CKSharing.ManageShare.Button.StopSharing":"Stop Sharing","CKSharing.ManageShare.List.Label.Owner":" (Owner)","CKSharing.ManageShare.List.Label.Me":" (Me)","CKSharing.ManageShare.ParticipantSettings.ShowContactCard":"Show Contact Card","CKSharing.ManageShare.ParticipantSettings.CopyEmail":"Copy Email","CKSharing.ManageShare.ParticipantSettings.CopyPhoneNumber":"Copy Phone Number","CKSharing.ManageShare.ParticipantSettings.CanEdit":"Can Make Changes","CKSharing.ManageShare.ParticipantSettings.ViewOnly":"View Only","CKSharing.ManageShare.ParticipantSettings.AddOthers":"Allow To Add Other People","CKSharing.ManageShare.ParticipantSettings.RemoveAccess":"Remove Access","CKSharing.ManageShare.ParticipantSettings.RemoveMe":"Remove Me","CKSharing.ManageShare.StatusText.Invited":"Invited","CKSharing.ManageShare.StatusText.ViewOnly":"View Only","CKSharing.ManageShare.Settings.AllPermissionsToggle.Label":"Set All Permissions","CKSharing.ManageShare.Settings.AllPermissionsToggle.ReadWrite":"Allow editing","CKSharing.ManageShare.Settings.AllPermissionsToggle.ReadOnly":"View only","CKSharing.InitiateShare.Title":"Add People","CKSharing.AddParticipants.Title.AddPeople":"Add People","CKSharing.AddParticipants.Title.SendLink":"Send Link","CKSharing.AddParticipants.Subtitle.MultipleTransports":"Choose how youd like to send your invitation:","CKSharing.AddParticipants.Subtitle.SingleTransport.Public.CloudKit":"Share this with others, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Public.Keynote":"Share this presentation with others, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Public.Numbers":"Share this spreadsheet with others, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Public.Pages":"Share this document with others, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Public.Drive.File":"Share this file with others, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Public.Drive.Folder":"Share this folder with others, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Private.CloudKit":"Share this with others, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Private.Keynote":"Add people to this presentation, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Private.Notes":"Add people to this note, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Private.Numbers":"Add people to this spreadsheet, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Private.Pages":"Add people to this document, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Private.Drive.File":"Add people to this file, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Private.Drive.Folder":"Add people to this folder, then send them the link.","CKSharing.AddParticipants.CurrentlyLoggedUser.NameAndAppleId":"%{displayName} (%{appleId})","CKSharing.AddParticipants.CurrentlyLoggedUser.NameOrAppleId":"%{nameOrAppleId}","CKSharing.AddParticipants.AccessLabel.Title":"Who can access:","CKSharing.AddParticipants.AllowLabel.Title":"Permission:","CKSharing.AddParticipants.InitiateShare.AdminCheckbox.Title":"Anyone can add more people","CKSharing.AddParticipants.ManageShare.AdminCheckbox.Title":"Anyone can add people","CKSharing.AddParticipants.Transports.CopyLinkButton.Title":"Copy Link","CKSharing.AddParticipants.Transports.EmailButton.Title":"Email","CKSharing.AddParticipants.Transports.SchoolworkButton.Title":"Schoolwork","CKSharing.AddParticipants.ShareSettingsDisclosureButton.Title":"Share Options","CKSharing.AddParticipants.CancelButton.Title":"Cancel","CKSharing.AddParticipants.OKButton.Share.Title":"Share","CKSharing.AddParticipants.OKButton.CopyLink.Title":"Copy Link","CKSharing.AddParticipants.InvitationsTextField.Placeholder":"Email addresses or phone numbers","CKSharing.AddParticipants.Public":"Anyone with the link","CKSharing.AddParticipants.Private":"Only people you invite","CKSharing.AddParticipants.Email.Subject.AppName":"Shared from %{appName}","CKSharing.AddParticipants.Email.Subject.ShareTitle":"%{shareTitle}","CKSharing.AddParticipants.Email.Bodyprefix.OwnerAdmin.Keynote":"Open my shared presentation:","CKSharing.AddParticipants.Email.Bodyprefix.OwnerAdmin.Notes":"Open my shared note:","CKSharing.AddParticipants.Email.Bodyprefix.OwnerAdmin.Numbers":"Open my shared spreadsheet:","CKSharing.AddParticipants.Email.Bodyprefix.OwnerAdmin.Pages":"Open my shared document:","CKSharing.AddParticipants.Email.Bodyprefix.OwnerAdmin.Drive.File":"Open my shared file:","CKSharing.AddParticipants.Email.Bodyprefix.OwnerAdmin.Drive.Folder":"Open my shared folder:","CKSharing.AddParticipants.Email.Bodyprefix.OwnerAdmin.Photos":"Open my shared photos:","CKSharing.AddParticipants.Email.Bodyprefix.Participant.Keynote":"Open this shared presentation:","CKSharing.AddParticipants.Email.Bodyprefix.Participant.Notes":"Open this shared note:","CKSharing.AddParticipants.Email.Bodyprefix.Participant.Numbers":"Open this shared spreadsheet:","CKSharing.AddParticipants.Email.Bodyprefix.Participant.Pages":"Open this shared document:","CKSharing.AddParticipants.Email.Bodyprefix.Participant.Drive.File":"Open this shared file:","CKSharing.AddParticipants.Email.Bodyprefix.Participant.Drive.Folder":"Open this shared folder:","ConfirmNativeMail.CloseButton":"Close","ConfirmNativeMail.ConfirmButton":"Open Mail","ConfirmNativeMail.Message.Keynote.Expanded":"Shared presentation is ready.","ConfirmNativeMail.Message.Notes.Expanded":"Shared note is ready.","ConfirmNativeMail.Message.Numbers.Expanded":"Shared spreadsheet is ready.","ConfirmNativeMail.Message.Pages.Expanded":"Shared document is ready.","ConfirmNativeMail.Message.Drive.File.Expanded":"Shared file is ready.","ConfirmNativeMail.Message.Drive.Folder.Expanded":"Shared folder is ready.","ConfirmNativeMail.Message.Photos.Compact":"Shared Photos are Ready","ConfirmNativeMail.Message.Photos.Expanded":"Shared photos are ready.","ConfirmNativeMail.Message.CloudKit.Expanded":"Ready to send.","ConfirmNativeMail.Description":"Open your mail client to send your iCloud link.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.Keynote":"Heres the link to your presentation.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.Notes":"Heres the link to your note.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.Numbers":"Heres the link to your spreadsheet.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.Pages":"Heres the link to your document.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.Drive.File":"Heres the link to your file.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.Drive.Folder":"Heres the link to your folder.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.Photos":"Heres the link to your shared photos.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.CloudKit":"Heres the link.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadOnly.Keynote":"Anyone with the link will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadOnly.Numbers":"Anyone with the link will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadOnly.Pages":"Anyone with the link will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadOnly.Drive.File":"Anyone with the link will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadOnly.Drive.Folder":"Anyone with the link will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadOnly.CloudKit":"Anyone with the link will be able to view.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadOnly.Notes":"Anyone with the link will be able to view.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadWrite.Keynote":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadWrite.Numbers":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadWrite.Pages":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadWrite.Drive.File":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadWrite.Drive.Folder":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadWrite.CloudKit":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadWrite.Notes":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadOnly.Keynote":"Only the people you invited will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadOnly.Notes":"Only the people you invited will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadOnly.Numbers":"Only the people you invited will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadOnly.Pages":"Only the people you invited will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadOnly.Drive.File":"Only the people you invited will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadOnly.Drive.Folder":"Only the people you invited will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadOnly.CloudKit":"Only the people you invited will be able to view.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.Mixed.Keynote":"Only people added to this presentation will have access","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.Mixed.Notes":"Only people added to this note will have access","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.Mixed.Numbers":"Only people added to this spreadsheet will have access","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.Mixed.Pages":"Only people added to this document will have access","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.Mixed.Drive.File":"Only people added to this file will have access","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.Mixed.Drive.Folder":"Only people added to this folder will have access","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.Mixed.CloudKit":"Only added people will have access","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadWrite.Keynote":"Only people added to this presentation will have access","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadWrite.Notes":"Only people added to this note will have access","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadWrite.Numbers":"Only people added to this spreadsheet will have access","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadWrite.Pages":"Only people added to this document will have access","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadWrite.Drive.File":"Only people added to this file will have access","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadWrite.Drive.Folder":"Only people added to this folder will have access","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadWrite.CloudKit":"Only added people will have access","CKSharing.AddParticipants.CopyLink.Participant.Title.Keynote":"Heres the link to this presentation.","CKSharing.AddParticipants.CopyLink.Participant.Title.Notes":"Heres the link to this note.","CKSharing.AddParticipants.CopyLink.Participant.Title.Numbers":"Heres the link to this spreadsheet.","CKSharing.AddParticipants.CopyLink.Participant.Title.Pages":"Heres the link to this document.","CKSharing.AddParticipants.CopyLink.Participant.Title.Drive.File":"Heres the link to this file.","CKSharing.AddParticipants.CopyLink.Participant.Title.Drive.Folder":"Heres the link to this folder.","CKSharing.AddParticipants.CopyLink.Participant.Title.CloudKit":"Heres the link.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadOnly.Keynote":"Anyone with the link will be able to view it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadOnly.Numbers":"Anyone with the link will be able to view it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadOnly.Pages":"Anyone with the link will be able to view it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadOnly.Drive.File":"Anyone with the link will be able to view it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadOnly.Drive.Folder":"Anyone with the link will be able to view it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadOnly.CloudKit":"Anyone with the link will be able to view.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadOnly.Notes":"Anyone with the link will be able to view.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadWrite.Keynote":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadWrite.Numbers":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadWrite.Pages":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadWrite.Drive.File":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadWrite.Drive.Folder":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadWrite.CloudKit":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadWrite.Notes":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Private.Keynote":"Only invited people will be able to access it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Private.Notes":"Only invited people will be able to access it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Private.Numbers":"Only invited people will be able to access it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Private.Pages":"Only invited people will be able to access it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Private.Drive.File":"Only invited people will be able to access it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Private.Drive.Folder":"Only invited people will be able to access it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Private.CloudKit":"Only invited people will have access.","CKSharing.AddParticipants.CopyLink.CopyButton.Title":"Copy Link","CKSharing.AddParticipants.CopyLink.CloseButton.Title":"Close","CKSharing.AddParticipants.TokenItemMenu.EditEmail":"Edit Address","CKSharing.AddParticipants.TokenItemMenu.RemoveEmail":"Remove Address","CKSharing.AddParticipants.TokenItemMenu.EditPhone":"Edit Phone Number","CKSharing.AddParticipants.TokenItemMenu.RemovePhone":"Remove Phone Number","CKSharing.AddParticipants.TokenItemMenu.EditUnknown":"Edit","CKSharing.AddParticipants.TokenItemMenu.RemoveUnknown":"Remove","CKSharing.AddParticipants.TokenItemMenu.AutocompleteItem.Title":"%{field} (%{label})","CKSharing.AddParticipants.TokenItemView.Add":"Add:","CKSharing.CopyEmailOrPhone.Title.Phone":"Phone Number","CKSharing.CopyEmailOrPhone.Title.Email":"Email Address","CKSharing.CopyEmailOrPhone.Subtitle.Phone":"Click the phone number to select it.","CKSharing.CopyEmailOrPhone.Subtitle.Email":"Click the email address to select it.","CKSharing.Offline.Title":"Youre Offline","CKSharing.Offline.Description":"Check your Internet connection.","CKSharing.RichLink.NoShareTitle":"Shared from %{appName}","CKSharing.iWork.Pages":"Pages","CKSharing.iWork.Keynote":"Keynote","CKSharing.iWork.Numbers":"Numbers","CKSharing.AXMGroup.LoadingMembers":"Loading","CKSharing.InvalidToken.GeneralReason":"Invalid Email or Phone Number.","CKSharing.InvalidToken.NotAXMContact":"You cannot share with a person outside of your institution."});var eL=Ar.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"toggleButton"},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"summaryTextWOption",attributes:{}}],classes:["summary-text",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_shouldHideDropdownSummary",truevalue:"hidden",attributes:{}}]}],classes:["options-container",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"showToggle",truevalue:"",falsevalue:"hidden",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"label",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"accessLabelString",attributes:{}}]},{type:"VIEWOUTLET",tagname:"view",name:"accessDropdown"}],classes:["row",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasAccessDropdown",truevalue:"",falsevalue:"hidden",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"label",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"allowLabelString",attributes:{}}]},{type:"VIEWOUTLET",tagname:"view",name:"permissionDropdown"}],classes:["row",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"showPermissionsDropdown",truevalue:"",falsevalue:"hidden",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div"},{type:"VIEWOUTLET",tagname:"view",name:"adminCheckbox"}],classes:["row",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"showAdminCheckbox",truevalue:"",falsevalue:"hidden",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div"},{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"additionalButton"}]}],classes:["row",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"additionalButtonIsVisible",truevalue:"",falsevalue:"hidden",attributes:{}}]}],classes:["container",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"showDropdownsContainer",truevalue:"",falsevalue:"hidden",attributes:{}}]}],classes:["share-options-dropdown",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"showShareOptionsDropdown",truevalue:"",falsevalue:"hidden",attributes:{}}]},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"summaryTextNoOption",attributes:{}}],classes:["summary-text",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_shouldHideNonDropdownSummary",truevalue:"hidden",attributes:{}}]}],classes:["access-control-section",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isExpanded",truevalue:"isExpanded",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHidden",truevalue:"hidden",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"additionalButtonIsVisible",truevalue:"has-additional-button",attributes:{}}]},__QUALIFIED_CLASS_NAME__:"AccessControlView"},toggleButton:v.g({defaultValue:Me.b(Ar.a.extend(aR.a,{staticMembers:{template:{type:"ELEMENT",tagname:"span",children:[{type:"ELEMENT",tagname:"svg",children:[{type:"ELEMENT",tagname:"path",namespace:"http://www.w3.org/2000/svg",attributes:{d:"m1.250001,1.062507l14.843682,14.875035l14.843815,-14.875035",fill:"none"}}],classes:["chevron"],namespace:"http://www.w3.org/2000/svg",attributes:{width:"12px",height:"11px",viewBox:"0 0 32 20"}},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{}}]}],classes:["options-button"]}},title:Sr.d("CKSharing.AddParticipants.ShareSettingsDisclosureButton.Title"),action:"toggleOptions"}))}),_shouldHideDropdownSummary:v.g({readOnly:!0,dependencies:["isExpanded","shouldHideAddParticipantsSummary"],get:Object.assign((function(){return this.isExpanded||this.shouldHideAddParticipantsSummary}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])||r.internalGet(this,t[1+n])}})}),_shouldHideNonDropdownSummary:v.g({readOnly:!0,dependencies:["hasDropdown","shouldHideAddParticipantsSummary"],get:Object.assign((function(){return this.hasDropdown||this.shouldHideAddParticipantsSummary}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])||r.internalGet(this,t[1+n])}})}),shouldHideAddParticipantsSummary:v.g(!1),transport:v.g(),isToggleEnabled:!0,isExpanded:v.g(!1),isDisabled:v.g(!1),loggedInUserType:v.g(!1),showShareOptionsDropdown:v.g({dependencies:["loggedInUserType","supportedAccess","supportedPermissions","transport"],readOnly:!0,get:Object.assign((function(){if(this.loggedInUserType===YR.ADMINISTRATOR)return!1;var e=this.supportedPermissions,t=this.supportedAccess,n=this.transport,r=e?e.length:0,i=t?t.length:0;return(r>1||i>1)&&n!==JR.SCHOOLWORK}),{__CW__getter:function(e,t,n,r){if(r.internalGet(this,t[0+n])===YR.ADMINISTRATOR)return!1;var i=r.internalGet(this,t[2+n]),a=r.internalGet(this,t[1+n]),o=r.internalGet(this,t[3+n]),s=i?i.length:0,c=a?a.length:0;return(s>1||c>1)&&o!==JR.SCHOOLWORK}})}),isHidden:v.g({dependencies:["isLoading"],readOnly:!0,get:Object.assign((function(){return this.isLoading}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])}})}),isLoading:v.g(!1),accessDropdownValue:v.g(),permissionDropdownValue:v.g(),supportedAccess:v.g(),supportedPermissions:v.g(),summaryTextNoOption:v.g(),summaryTextWOption:v.g(),accessLabelString:y.c(Sr.d("CKSharing.AddParticipants.AccessLabel.Title")),allowLabelString:y.c(Sr.d("CKSharing.AddParticipants.AllowLabel.Title")),hasAccessDropdown:v.g({readOnly:!0,dependencies:["supportedAccess"],get:Object.assign((function(){var e=this.supportedAccess;return!!e&&e.length>1}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return!!i&&i.length>1}})}),showPermissionsDropdown:v.g(!0),hasDropdown:v.g({readOnly:!0,dependencies:["hasAccessDropdown","showPermissionsDropdown"],get:Object.assign((function(){return this.hasAccessDropdown||this.showPermissionsDropdown}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])||r.internalGet(this,t[1+n])}})}),showToggle:v.g({readOnly:!0,dependencies:["hasAccessDropdown","showPermissionsDropdown"],get:Object.assign((function(){return this.isToggleEnabled&&this.hasAccessDropdown&&this.showPermissionsDropdown}),{__CW__getter:function(e,t,n,r){return this.isToggleEnabled&&r.internalGet(this,t[0+n])&&r.internalGet(this,t[1+n])}})}),showDropdownsContainer:v.g({readOnly:!0,dependencies:["showToggle","isExpanded","hasDropdown"],get:Object.assign((function(){return this.showToggle?this.isExpanded&&this.hasDropdown:this.hasDropdown}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])?r.internalGet(this,t[1+n])&&r.internalGet(this,t[2+n]):r.internalGet(this,t[2+n])}})}),selectViewsAreVisibleOnScreen:v.g({readOnly:!0,dependencies:["showToggle","isExpanded","isHidden"],get:Object.assign((function(){if(!this.isHidden)return!this.showToggle||this.isExpanded}),{__CW__getter:function(e,t,n,r){if(!r.internalGet(this,t[2+n]))return!r.internalGet(this,t[0+n])||r.internalGet(this,t[1+n])}})}),accessDropdown:v.g({readOnly:!0,defaultValue:Me.b(lp.extend({additionalClassNames:ut.a(["ui-select-button-container"]),value:dp.renderProperty(),isVisibleOnScreen:dp.renderProperty(),isDisabled:dp.renderProperty(),render:function(){var e=this;return this.isVisibleOnScreen?Le.a.createElement(YE,{disabled:this.isDisabled,value:this.value,ariaLabel:"Share Access Level",onStateChange:function(t){var n=t.value;e.sendEvent("setEffectiveAccess",n)}},Le.a.createElement(dI,{value:qR.PRIVATE,key:qR.PRIVATE},Sr.d("CKSharing.AddParticipants.Private")),Le.a.createElement(dI,{value:qR.PUBLIC,key:qR.PUBLIC},Sr.d("CKSharing.AddParticipants.Public"))):Le.a.createElement(Le.a.Fragment,null)}})),downstreamBindings:{value:"(owner).accessDropdownValue",isVisibleOnScreen:"(owner).selectViewsAreVisibleOnScreen",isDisabled:"(owner).isDisabled"}}),permissionDropdown:v.g({readOnly:!0,defaultValue:Me.b(lp.extend({additionalClassNames:ut.a(["ui-select-button-container"]),value:dp.renderProperty(),isVisibleOnScreen:dp.renderProperty(),isDisabled:dp.renderProperty(),render:function(){var e=this;return this.isVisibleOnScreen?Le.a.createElement(YE,{disabled:this.isDisabled,value:this.value,ariaLabel:"Share Permission",onStateChange:function(t){var n=t.value;e.sendEvent("setEffectivePermission",n)}},Le.a.createElement(dI,{value:XR.READ_WRITE,key:XR.READ_WRITE},Sr.d("CKSharing.PermissionsCombo.AllowEditing")),Le.a.createElement(dI,{value:XR.READ_ONLY,key:XR.READ_ONLY},Sr.d("CKSharing.PermissionsCombo.ViewOnly"))):Le.a.createElement(Le.a.Fragment,null)}})),downstreamBindings:{value:"(owner).permissionDropdownValue",isVisibleOnScreen:"(owner).selectViewsAreVisibleOnScreen",isDisabled:"(owner).isDisabled"}}),showAdminCheckbox:v.g({readOnly:!0,dependencies:["accessDropdownValue","permissionDropdownValue"],get:Object.assign((function(){return this.accessDropdownValue===qR.PRIVATE&&this.permissionDropdownValue===XR.READ_WRITE}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===qR.PRIVATE&&r.internalGet(this,t[1+n])===XR.READ_WRITE}})}),adminCheckboxIsChecked:v.g(),adminCheckbox:v.g({readOnly:!0,get:function(){var e=this;return mN.create({label:Sr.d("CKSharing.AddParticipants.InitiateShare.AdminCheckbox.Title"),isChecked:this.bindingFor("adminCheckboxIsChecked"),change:function(t){e.sendEvent("adminCheckBoxDidChange",t.srcElement.checked)}})}}),additionalButtonTitle:v.g(),additionalButtonIsVisible:v.g({readOnly:!0,dependencies:["additionalButtonTitle","accessDropdownValue"],get:Object.assign((function(){return!!this.additionalButtonTitle&&this.accessDropdownValue===qR.PUBLIC}),{__CW__getter:function(e,t,n,r){return!!r.internalGet(this,t[0+n])&&r.internalGet(this,t[1+n])===qR.PUBLIC}})}),additionalButton:v.g({defaultValue:Me.b(JD.a,{action:"additionalButtonWasPressed",additionalClassNames:ut.a(["sharing-additional-button"])}),downstreamBindings:{title:"(owner).additionalButtonTitle"}}),toggleOptions:function(){this.isExpanded=!this.isExpanded}}),tL={},nL={"-":!0,_:!0,".":!0," ":!0,"\t":!0},rL=/[a-zA-Z0-9]/;function iL(e,t){var n=tL[e];if(n)return n;if(!e)return"";for(var r,i,a=0,o="",s=!0;r=e[a];)t&&r===t||!t&&nL[r]?i=!0:rL.test(r)&&(i&&(r=r.toUpperCase()),s&&(r=r.toLowerCase()),o+=r,i=!1,s=!1),a++;return tL[e+(t||"")]=o,o}var aL=n(1399),oL=n(1448),sL=n(1416),cL=n(1365),lL=n(1378),uL=Ar.a.extend({supportsDragScroll:Object(y.c)(!cL.b.isTouchSupported),staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",name:"thumb",classes:["cw-scroll-indicator-thumb"]}],name:"track",classes:["cw-scroll-indicator-track"]}],classes:["cw-scroll-indicator"],styles:{display:{type:"STYLEOUTLET",bindingtype:"IFBINDING",name:"isShowing",truevalue:"block",falsevalue:"none",attributes:{},unit:null,property:"display"}},attributes:{"aria-orientation":{key:"aria-orientation",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaOrientation",attributes:{},attribute:"aria-orientation"},type:"ATTRIBUTE"}}}},className:"cw-ui-scroll-indicator-view",__QUALIFIED_CLASS_NAME__:"ScrollIndicatorView"},ariaRole:"scrollbar",eventCoordinateKey:null,thumbPositionKey:null,minThumbSize:Object(v.g)(20),minThumbOutsideSize:Object(v.g)(10),overscrollShrinkFactor:Object(v.g)(2),thickness:Object(v.g)({readOnly:!0,dependencies:["thicknessKey","element","isAttached"],get:Object.assign((function(){var e=this.thicknessKey,t=this.element;return e&&t&&this.isAttached?t.getBoundingClientRect()[e]:0}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]),a=r.internalGet(this,t[1+n]);return i&&a&&r.internalGet(this,t[2+n])?a.getBoundingClientRect()[i]:0}})}),thicknessKey:Object(v.g)(),beginMargin:Object(v.g)(6),endMargin:Object(v.g)(6),totalEndMargin:Object(v.g)({readOnly:!0,dependencies:["inset","endMargin"],get:Object.assign((function(){var e=this.inset;return this.endMargin+e}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return r.internalGet(this,t[1+n])+i}})}),size:Object(v.g)({readOnly:!0,dependencies:["scrollSize","beginMargin","totalEndMargin"],get:Object.assign((function(){return this.scrollSize-this.beginMargin-this.totalEndMargin}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])-r.internalGet(this,t[1+n])-r.internalGet(this,t[2+n])}})}),otherScrollIndicator:Object(v.g)(),inset:Object(v.g)({readOnly:!0,dependencies:["otherScrollIndicator.isShowing","otherScrollIndicator.thickness"],get:Object.assign((function(){return this.getPath("otherScrollIndicator.isShowing")?this.getPath("otherScrollIndicator.thickness"):0}),{__CW__getter:function(e,t,n,r){return r.internalGetPath(this,t[0+n])?r.internalGetPath(this,t[1+n]):0}})}),scrollMin:Object(v.g)(0),totalSize:Object(v.g)(0),scrollSize:Object(v.g)(0),scrollPosition:Object(v.g)(0),isShowing:Object(v.g)({readOnly:!0,dependencies:["scrollSize","totalSize"],get:Object.assign((function(){return this.scrollSize<this.totalSize&&this.totalSize!==1/0}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])<r.internalGet(this,t[1+n])&&r.internalGet(this,t[1+n])!==1/0}})}),relativeScrollPosition:Object(v.g)({dependencies:["scrollMin","scrollPosition"],writeDependencies:["scrollPosition"],get:Object.assign((function(){return this.scrollPosition-this.scrollMin}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[1+n])-r.internalGet(this,t[0+n])}}),set:Object.assign((function(e){this.scrollPosition=e+this.scrollMin}),{__CW__setter:function(e,t,n,r,i){n[0+r]=e+this.scrollMin}}),writeDependencySetPathMap:[!1]}),scrollProportion:Object(v.g)({readOnly:!0,dependencies:["scrollSize","totalSize"],get:Object.assign((function(){return this.scrollSize/this.totalSize}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])/r.internalGet(this,t[1+n])}})}),minThumbProportion:Object(v.g)({readOnly:!0,dependencies:["size","minThumbSize"],get:Object.assign((function(){return this.minThumbSize/this.size}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[1+n])/r.internalGet(this,t[0+n])}})}),minThumbOutsideProportion:Object(v.g)({readOnly:!0,dependencies:["size","minThumbOutsideSize"],get:Object.assign((function(){return this.minThumbOutsideSize/this.size}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[1+n])/r.internalGet(this,t[0+n])}})}),thumbProportion:Object(v.g)({readOnly:!0,dependencies:["scrollProportion","minThumbProportion"],get:Object.assign((function(){return Math.max(this.scrollProportion,this.minThumbProportion)}),{__CW__getter:function(e,t,n,r){return Math.max(r.internalGet(this,t[0+n]),r.internalGet(this,t[1+n]))}})}),sizeAdjustment:Object(v.g)({readOnly:!0,dependencies:["scrollProportion","thumbProportion"],get:Object.assign((function(){return(1-this.scrollProportion)/(1-this.thumbProportion)}),{__CW__getter:function(e,t,n,r){return(1-r.internalGet(this,t[0+n]))/(1-r.internalGet(this,t[1+n]))}})}),adjustedSize:Object(v.g)({readOnly:!0,dependencies:["totalSize","sizeAdjustment"],get:Object.assign((function(){return this.totalSize*this.sizeAdjustment}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])*r.internalGet(this,t[1+n])}})}),thumbSize:Object(v.g)({readOnly:!0,dependencies:["thumbProportion","relativeScrollPosition","minThumbOutsideProportion","scrollProportion","overscrollShrinkFactor","totalSize","scrollSize","adjustedSize"],get:Object.assign((function(){var e=this.relativeScrollPosition;if(e<0){var t=-e/this.adjustedSize;return 100*Math.max(this.minThumbOutsideProportion,this.scrollProportion-this.overscrollShrinkFactor*t)}var n=this.totalSize-this.scrollSize;if(e>n){var r=(e-n)/this.adjustedSize;return 100*Math.max(this.minThumbOutsideProportion,this.scrollProportion-this.overscrollShrinkFactor*r)}return 100*this.thumbProportion}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[1+n]);if(i<0){var a=-i/r.internalGet(this,t[7+n]);return 100*Math.max(r.internalGet(this,t[2+n]),r.internalGet(this,t[3+n])-r.internalGet(this,t[4+n])*a)}var o=r.internalGet(this,t[5+n])-r.internalGet(this,t[6+n]);if(i>o){var s=(i-o)/r.internalGet(this,t[7+n]);return 100*Math.max(r.internalGet(this,t[2+n]),r.internalGet(this,t[3+n])-r.internalGet(this,t[4+n])*s)}return 100*r.internalGet(this,t[0+n])}})}),thumbPosition:Object(v.g)({readOnly:!0,dependencies:["adjustedSize","relativeScrollPosition","scrollSize","totalSize","thumbSize"],get:Object.assign((function(){var e=this.relativeScrollPosition;return e<0?0:e>this.totalSize-this.scrollSize?100-this.thumbSize:e/this.adjustedSize*100}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[1+n]);return i<0?0:i>r.internalGet(this,t[3+n])-r.internalGet(this,t[2+n])?100-r.internalGet(this,t[4+n]):i/r.internalGet(this,t[0+n])*100}})}),_dragPointerId:null,_dragStartPixel:null,_dragStartThumbPosition:null,pointerUp:function(e){var t=e.pointerId;return!!this.hasPointerCapture(t)&&(this.releasePointerCapture(t),this._dragPointerId===t&&(this._dragPointerId=null,this._dragStartPixel=null,this._dragStartThumbPosition=null,!0))},pointerDown:function(e){if(e.pointerType===lL.b.Mouse&&0!==e.button)return!1;if(!this.supportsDragScroll)return!1;var t=this.thumb,n=e.pointerId;if(e.target===t)this._dragPointerId=n,this._dragStartPixel=e[this.eventCoordinateKey],this._dragStartThumbPosition=this.relativeScrollPosition/this.totalSize;else{var r=t.getBoundingClientRect()[this.thumbPositionKey];e[this.eventCoordinateKey]<r?this.pageUp():this.pageDown()}return this.setPointerCapture(n),!0},pointerCancel:function(e){this.pointerUp(e)},pointerMove:function(e){var t=e.pointerId;if(!this.hasPointerCapture(t))return!1;if(this._dragPointerId!==t)return!1;var n=e[this.eventCoordinateKey]-this._dragStartPixel,r=this.size;return this.scrollTo(100*(this._dragStartThumbPosition+n/r*this.sizeAdjustment)),!0}}),dL=uL.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:["vertical"]},track:{type:"ELEMENT",tagname:"ext",styles:{top:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"beginMargin",attributes:{},unit:"px",property:"top"},bottom:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"totalEndMargin",attributes:{},unit:"px",property:"bottom"}}},thumb:{type:"ELEMENT",tagname:"ext",styles:{top:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"thumbPosition",attributes:{},unit:"%",property:"top"},height:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"thumbSize",attributes:{},unit:"%",property:"height"}}}},className:"cw-ui-vertical-scroll-indicator-view",__QUALIFIED_CLASS_NAME__:"VerticalScrollIndicatorView"},eventCoordinateKey:"clientY",thumbPositionKey:"top",thicknessKey:"width",ariaOrientation:"vertical",pageUp:function(){this.parent.pageUp()},pageDown:function(){this.parent.pageDown()},scrollTo:function(e){this.parent.scrollTo(void 0,e)}}),hL=uL.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:["horizontal"]},track:{type:"ELEMENT",tagname:"ext",styles:{left:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"beginMargin",attributes:{},unit:"px",property:"left"},right:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"totalEndMargin",attributes:{},unit:"px",property:"right"}}},thumb:{type:"ELEMENT",tagname:"ext",styles:{left:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"thumbPosition",attributes:{},unit:"%",property:"left"},width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"thumbSize",attributes:{},unit:"%",property:"width"}}}},className:"cw-ui-horizontal-scroll-indicator-view",__QUALIFIED_CLASS_NAME__:"HorizontalScrollIndicatorView"},eventCoordinateKey:"clientX",thumbPositionKey:"left",thicknessKey:"height",ariaOrientation:"horizontal",pageUp:function(){this.parent.pageLeft()},pageDown:function(){this.parent.pageRight()},scrollTo:function(e){this.parent.scrollTo(e,void 0)}}),fL={staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isEnlarged",truevalue:"cw-scroll-indicator-enlarged",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isInstantlyEnlarged",truevalue:"cw-scroll-indicator-instantly-enlarged",attributes:{}}],styles:{opacity:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"_opacity",attributes:{},unit:null,property:"opacity"},visibility:{type:"STYLEOUTLET",bindingtype:"IFBINDING",name:"_isVisible",truevalue:"",falsevalue:"hidden",attributes:{},unit:null,property:"visibility"}}}}},scrollIndicatorShouldFade:Object(v.g)(!0),scrollIndicatorShouldEnlarge:Object(v.g)(!0),shouldShowScrollIndicatorIfSizeChanged:Object(v.g)(!1),fadeDelay:500,fadeTime:200,FPS:60,_opacity:0,isEnlarged:Object(v.g)(!1),_isVisible:Object(v.g)({readOnly:!0,dependencies:["_opacity"],get:Object.assign((function(){return 0!==this._opacity}),{__CW__getter:function(e,t,n,r){return 0!==r.internalGet(this,t[0+n])}})}),isBeingHovered:Object(v.g)(!1),pointerOver:function(){return this.isBeingHovered=!0,!1},pointerOut:function(){return this.isBeingHovered=!1,!1},_maintainEnlargedState:Object(v.h)("scrollIndicatorShouldEnlarge","_isVisible","isBeingHovered",(function(e,t,n){if(e){var r=!1;t&&(r=n||this.get("isEnlarged")),zr(this,"isEnlarged",r),r||(this.isInstantlyEnlarged=!1)}else zr(this,"isEnlarged",!1)})),_handleThumbProportionChange:Object(v.h)("thumbProportion",(function(){this.shouldShowScrollIndicatorIfSizeChanged&&this.renewVisibility()})),didScroll:function(e){!this.get("_isVisible")&&e&&this._boundingClientRectHitTest(e)&&(zr(this,"isBeingHovered",!0),this.scrollIndicatorShouldEnlarge&&(this.isInstantlyEnlarged=!0)),this.renewVisibility()},_boundingClientRectHitTest:function(e){var t=this.get("element").getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;return n>=0&&n<=t.width&&r>=0&&r<=t.height},_handleHoverStateChange:Object(v.h)("isBeingHovered",(function(e){this.renewVisibility()})),_handleAttachOrDetach:Object(v.h)("isAttached",(function(e){e?this.get("_isVisible")&&this.renewVisibility():this.renewVisibility()})),renewVisibility:function(){this._fadeOutAnimationTimer.stop(),this._fadeOutTimer.stop();var e=this.get("scrollIndicatorShouldFade");this.get("isAttached")?(this.set("_opacity",1),e&&!this.get("isBeingHovered")&&this._fadeOutTimer.start()):this.set("_opacity",e?0:1)},_showOrFadeOnShouldFadeChange:Object(v.h)("scrollIndicatorShouldFade",(function(){this.renewVisibility()})),_fadeOutTimer:Object(y.c)({strong:!0,defaultValue:function(){return sL.a.create({delay:this.fadeDelay,action:"beginFadeOut",target:this})}}),_fadeOutAnimationTimer:Object(y.c)({strong:!0,defaultValue:function(){return sL.a.create({delay:1e3/this.FPS,action:"fadeStep",target:this,timesToFire:this.fadeTime/1e3*this.FPS})}}),beginFadeOut:function(){return this._fadeOutAnimationTimer.start(),!0},fadeStep:function(e){return this.set("_opacity",1-e.fireCount/e.timesToFire),!0}},pL=hL.extend(fL,{staticMembers:{className:"cw-ui-fading-horizontal-scroll-indicator-view",__QUALIFIED_CLASS_NAME__:"FadingHorizontalScrollIndicatorView"}}),gL=dL.extend(fL,{staticMembers:{className:"cw-ui-fading-vertical-scroll-indicator-view",__QUALIFIED_CLASS_NAME__:"FadingVerticalScrollIndicatorView"}}),mL=n(1331),vL=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.initialTimestamp,n=void 0===t?0:t,r=e.initialPosition,i=void 0===r?0:r,a=e.initialVelocity,o=void 0===a?0:a,s=e.direction,c=void 0===s?1:s;this.initialTimestamp=n,this.initialPosition=i,this.initialVelocity=o,this.direction=c}var t=e.prototype;return t.positionAtTime=function(e){return this.initialPosition+this.direction*this.calculatePositionAtTime(e-this.initialTimestamp)},t.positionDelta=function(e,t){return this.direction*(this.calculatePositionAtTime(t-this.initialTimestamp)-this.calculatePositionAtTime(e-this.initialTimestamp))},t.velocityAtTime=function(e){return this.direction*this.calculateVelocityAtTime(e-this.initialTimestamp)},t.timeAtPosition=function(e){var t=this;return this.calculateTimeAtPosition(this.direction*(e-this.initialPosition)).map((function(e){return t.initialTimestamp+e}))},e}();function yL(e,t){return yL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yL(e,t)}var _L=.998,bL=Math.log(_L),wL=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,yL(t,n);var i=r.prototype;return i.calculatePositionAtTime=function(e){return this.initialVelocity*(Math.pow(_L,e)-1)/bL},i.calculateVelocityAtTime=function(e){return this.initialVelocity*Math.pow(_L,e)},i.calculateTimeAtPosition=function(e){if(0===e)return[0];var t=this.initialVelocity;return[Math.log(e*bL/t+1)/bL]},r}(vL);function SL(e,t){return SL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},SL(e,t)}var EL=-11.25,IL=function(e){var t,n;function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.initialOffset,i=void 0===r?0:r,a=n.initialPosition,o=void 0===a?0:a;return(t=e.call(this,Object.assign({},n,{initialPosition:o-i}))||this).initialOffset=i,t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,SL(t,n);var i=r.prototype;return i.calculatePositionAtTime=function(e){var t=1e3*this.initialVelocity;e/=1e3;var n=Math.exp(e*EL);return(this.initialOffset+t*e)*n},i.calculateVelocityAtTime=function(e){var t=1e3*this.initialVelocity,n=(e/=1e3)*EL;return Math.exp(n)*((1+n)*t+EL*this.initialOffset)/1e3},i.calculateTimeAtPosition=function(e){throw new Error("BounceAnimationg#calculateTimeAtPosition: not implemented")},r}(vL),CL=n(1377),OL=n(1376),TL=OL.b.Possible,AL=OL.b.Began,NL=OL.b.Changed,ML=OL.b.Ended,DL=OL.b.Failed,RL=OL.b.Cancelled;function*LL(e){var t=yield;if(t!==TL)throw new Error("ContinuousGestureRecognizer: state must be initialized to Possible.");if((t=yield)!==DL){if(t!==AL)throw new Error("GestureRecognizer: invalid state "+t+" for ContinuousGestureRecognizer after Possible. Must be either Began or Failed.");if(!e.shouldBegin())return DL;for(;;){if((t=yield)===RL)return;if(t===DL)return RL;if(t!==NL){if(t===ML)return;throw new Error("GestureRecognizer: invalid state "+t+" for ContinuousGestureRecognizer after Began or Changed. Must be either Changed, Cancelled, or Ended.")}}}}var kL=OL.b.Began,xL=OL.b.Changed,FL=OL.b.Ended,PL=OL.b.Failed;function jL(e){var t=e.x,n=e.y;return Math.sqrt(t*t+n*n)}var UL=OL.a.extend({_correctedStartingLocation:null,translation:Object(y.c)({get:function(){var e=this.location,t=this._correctedStartingLocation;return e&&t?{x:e.x-t.x,y:e.y-t.y}:{x:NaN,y:NaN}},set:function(e){var t=this.location,n=this._correctedStartingLocation;t&&n&&(n.x=t.x-e.x,n.y=t.y-e.y)}}),velocity:Object(y.c)({readOnly:!0,get:function(){var e={x:0,y:0},t=this._trackedPointerLocations,n=function(t){var n=t.length-1;if(0===n)return 1;var r=t.reduce((function(e,r,i){if(i===n)return e;var a=t[i+1],o=r.timestamp-a.timestamp,s=Math.min(o,100-e.elapsedTime),c=r.x-a.x,l=r.y-a.y,u=s/o;return e.x+=c*u,e.y+=l*u,e.elapsedTime+=s,e}),{x:0,y:0,elapsedTime:0}),i=r.x,a=r.y,o=r.elapsedTime,s={x:i/o,y:a/o};jL(s)>jL(e)&&(e=s)};for(var r of t.values())n(r);return e}}),location:Object(y.c)({get:function(){var e=0,t=0,n=this._trackedPointerLocations;for(var r of n.values()){var i=r[0];e+=i.x,t+=i.y}var a=n.size;return{x:e/=a,y:t/=a}}}),stateGenerator:LL,_trackedPointerLocations:Object(Me.b)(Map),_updatePointerLocation:function(e){var t=e.pointerId,n=e.clientX,r=e.clientY,i=this._trackedPointerLocations,a=performance.now(),o=i.get(t);if(o){var s=o[0];a===s.timestamp?(s.x=n,s.y=r):o.unshift({x:n,y:r,timestamp:a})}else o=[],i.set(t,o),o.unshift({x:n,y:r,timestamp:a});for(var c=a-100,l=o.length-1;l>=0;l--)if(o[l].timestamp>=c){o.splice(l+2);break}},pointerDown:function(e){if(0===this._trackedPointerLocations.size){this._updatePointerLocation(e);var t=this.location;this._correctedStartingLocation=t,this.state=kL}else{var n=this.translation;this._updatePointerLocation(e),this.translation=n,this.state=xL}},pointerMove:function(e){this._updatePointerLocation(e),this.state=xL},pointerUp:function(e){this._updatePointerLocation(e);var t=this._trackedPointerLocations;if(1===t.size)this.state=FL;else{var n=this.translation;t.delete(e.pointerId),this.translation=n,this.state=xL}},pointerCancel:function(e){this.state=PL},reset:function(){this.__s._$2ha$reset.call(this),this._trackedPointerLocations.clear(),this._correctedStartingLocation=null},__superMap:{_$2ha$reset:"reset"},staticMembers:{__QUALIFIED_CLASS_NAME__:"PanGestureRecognizer"}}),BL=OL.b.Possible,VL=OL.b.Ended,WL=OL.b.Failed,zL=Object(S.b)("ModifierKeys",(function(e){e("Shift"),e("Ctrl"),e("Option"),e("Meta"),e("Cmd"),e("Win")}));zL.Alt=zL.Option;var HL=OL.b.Ended,GL=OL.b.Failed,$L=OL.a.extend({initFromPool:function(){this.__s._$Lp$initFromPool.apply(this,arguments);var e=this.modifiers;e instanceof Set||(this.modifiers=new Set(e))},numberOfTapsRequired:1,modifiers:Object(Me.b)(Set),shouldPreventDefault:!1,targetElement:null,stateGenerator:function*(e){var t=yield;if(t!==BL)throw new Error("DiscreteGestureRecognizer: state must be initialized to Possible.");if((t=yield)!==WL&&t!==VL)throw new Error("GestureRecognizer: invalid state "+t+" for DiscreteGestureRecognizer after Possible. Must be either Ended or Failed.")},maxDelayBetweenTaps:300,maxDurationOfTaps:500,dragThreshold:100,_tapCount:0,_handlingPointerId:NaN,_lockedCursor:!1,shouldReceive:function(e){return!(!this.isModifierValid(e)||!isNaN(this._handlingPointerId))&&("click"!==e.type||0!==e.detail||A.a.sharedInstance.isIE?this.__s._$170$shouldReceive.apply(this,arguments):this.delegate.gestureRecognizerShouldReceive(this,e))},shouldRequireFailureOf:function(e){return e.instanceOf($L)&&this.modifiers.size<e.modifiers.size||this.__s._$1Fi$shouldRequireFailureOf.apply(this,arguments)},isModifierValid:function(e){var t=this.modifiers;if(t.has(zL.Shift)&&!e.shiftKey)return!1;if(t.has(zL.Ctrl)&&!e.ctrlKey)return!1;var n=$r.a.sharedInstance,r=n.isWindows;return!(n.isMac&&!t.has(zL.Ctrl)&&e.ctrlKey)&&!(t.has(zL.Option)&&!e.altKey)&&!(t.has(zL.Meta)&&!e.metaKey)&&!(t.has(zL.Cmd)&&!e.metaKey&&!r)&&!(t.has(zL.Win)&&!e.metaKey&&r)},_failTimerId:NaN,_startFailTimer:function(e){var t=this;this._failTimerId=setTimeout((function(){t.state=GL}),e)},_cancelTimer:function(){var e=this._failTimerId;isNaN(e)||(clearTimeout(e),this._failTimerId=NaN)},pointerDown:function(e){0===this._tapCount&&(this.location={x:e.clientX,y:e.clientY},this.targetElement=e.target),this._handlingPointerId=e.pointerId,this._cancelTimer(),0===this._tapCount&&(this.view.sendEvent("lockCursor",this.getPath("view.style.cursor")),this._lockedCursor=!0),this.numberOfTapsRequired>1&&this._startFailTimer(this.maxDurationOfTaps)},isEventTooFar:function(e){var t=this.location,n=t.x,r=t.y,i=e.clientX,a=e.clientY;return Math.pow(i-n,2)+Math.pow(a-r,2)>this.dragThreshold},shouldFailGesture:function(e){return this.isEventTooFar(e)},pointerMove:function(e){this.shouldFailGesture(e)&&(this.state=GL)},pointerUp:function(e){this._cancelTimer(),this.shouldFailGesture(e)?this.state=GL:(this._tapCount++,this._tapCount>=this.numberOfTapsRequired?this.state=HL:this._startFailTimer(this.maxDelayBetweenTaps)),this._handlingPointerId=NaN},pointerCancel:function(e){this.state=GL},click:function(e){this.pointerDown(e),this.pointerUp(e)},dispose:function(){this._cancelTimer(),this._lockedCursor&&this.view.sendEvent("releaseCursor"),this.__s._$2UM$dispose.call(this)},didEnterPool:function(){var e=this.constructor.prototype;this.modifiers.clear(),this.numberOfTapsRequired=e.numberOfTapsRequired,this.__s._$2cH$didEnterPool.apply(this,arguments)},reset:function(){this.__s._$2ct$reset.call(this),this._cancelTimer(),this.location=null,this._tapCount=0,this._handlingPointerId=NaN,this.targetElement=null,this._lockedCursor&&this.view.sendEvent("releaseCursor"),this._lockedCursor=!1},__superMap:{_$Lp$initFromPool:"initFromPool",_$170$shouldReceive:"shouldReceive",_$1Fi$shouldRequireFailureOf:"shouldRequireFailureOf",_$2UM$dispose:"dispose",_$2cH$didEnterPool:"didEnterPool",_$2ct$reset:"reset"},staticMembers:{__QUALIFIED_CLASS_NAME__:"TapGestureRecognizer"}}),KL=n(1380).a.extend({deltaX:Object(y.c)(0),deltaY:Object(y.c)(0),consumeX:QL("deltaX"),consumeY:QL("deltaY"),isEmpty:Object(y.c)({get:function(){return 0===this.get("deltaX")&&0===this.get("deltaY")}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ScrollEvent"}});function QL(e){return function(t){var n,r,i=this.get(e);return void 0===t?t=i:(n=t,r=i,t=Math.abs(n)<Math.abs(r)?n:r),this.set(e,i-t),t}}var qL=v.b.extend({readOnly:!0,cacheable:!1,get:function(e,t,n,r){return r.internalGet(this,t[1+n])-r.internalGet(this,t[0+n])},staticMembers:{__QUALIFIED_CLASS_NAME__:"SizeProperty"}}),ZL={mixinDependencies:[v.a,ip.a,CL.a],init:function(){var e=this.scrollGestureRecognizer=UL.create({event:"updateScroll",delegate:this});this.addGestureRecognizer(e),this.__s._$ZJ$init.apply(this,arguments)},gestureRecognizerShouldReceive:function(e,t){return(!this.hasMomentum||e===this.scrollGestureRecognizer)&&(e===this.scrollGestureRecognizer?t.pointerType===lL.b.TOUCH||t.pointerType===lL.b.PEN:this.__s._$iF$gestureRecognizerShouldReceive.apply(this,arguments))},gestureRecognizerShouldRequireFailureOf:function(e,t){return e===this.scrollGestureRecognizer?!!t.instanceOf($L)&&!(t.view!==this&&!this.element.contains(t.view.element))&&!this.hasMomentum:this.__s._$to$gestureRecognizerShouldRequireFailureOf.apply(this,arguments)},_lastTranslation:{x:0,y:0},updateScroll:function(e){var t=e.state,n=e.translation,r=this._lastTranslation,i=this.normalizedX,a=this.normalizedY;this._lastTranslation=n;var o=r.x-n.x,s=r.y-n.y,c=0;this.canScrollHorizontally&&(c=this._calculatePositionWithStretch(o,i,this.normalizedMaxX,this.width));var l=0;if(this.canScrollVertically&&(l=this._calculatePositionWithStretch(s,a,this.normalizedMaxY,this.height)),this.scrollBy(c,l),t===OL.b.Ended){this._lastTranslation={x:0,y:0};var u=e.velocity;Math.abs(u.y)<.175&&(u.y=0),Math.abs(u.x)<.175&&(u.x=0),u.y*=-1,u.x*=-1,this.beginMomentumScroll(u)}},_calculatePositionWithStretch:function(e,t,n,r){var i=t+e,a=YL(i,0,n,r),o=Math.sign(e)*Math.min(Math.abs(i-a),Math.abs(e));return e-o+o/2.5},supportsTouchScroll:Object(y.c)(cL.b.isTouchSupported),mayUseVerticalScrollingAsHorizontal:Object(y.c)(),processWheelEvent:function(e){this.mayUseVerticalScrollingAsHorizontal&&e.deltaY&&(e.deltaX+=e.deltaY,e.deltaY=0)},wheel:function(e){var t=e.deltaX,n=e.deltaY,r=t>0?this.scrollMaxX-this.width-this.scrollX:this.scrollX-this.scrollMinX,i=n>0?this.scrollMaxY-this.height-this.scrollY:this.scrollY-this.scrollMinY;if(r<=0&&i<=0)return!1;e.preventDefault();var a=this._deferredScrollEvent;a?(a.deltaX+=t,a.deltaY+=n,a.nativeEvent=e):((a=this._deferredScrollEvent=KL.create({deltaX:t,deltaY:n,nativeEvent:e})).retain(this,"retain during scroll deferral"),this._scrollRAF||(this._scrollRAF=requestAnimationFrame(Object(rd.a)(this._flushAccumulatedWheelDeltas,this))))},_flushAccumulatedWheelDeltas:function(){var e=this._deferredScrollEvent;this._cleanUpCurrentScrollAccumulation(),e&&(this.bubbleScroll(e),this.overflowX=this.overflowY=0)},_cleanUpCurrentScrollAccumulation:function(){var e=this._deferredScrollEvent;e&&(this._deferredScrollEvent=null,e.autorelease(this,"retain during scroll deferral"));var t=this._scrollRAF;t&&(this._scrollRAF=null,cancelAnimationFrame(t))},dispose:function(){this._cleanUpCurrentScrollAccumulation(),this.__s._$2lh$dispose.apply(this,arguments)},overflowX:Object(v.g)(0),overflowY:Object(v.g)(0),bubbleScroll:function(e){var t=this;for(e.deltaX=e.deltaX+this.overflowX,e.deltaY=e.deltaY+this.overflowY;!e.isEmpty;){for(;t&&!t.handleScroll;)t=t.nextResponder;if(!t)break;t.handleScroll(e),t=t.nextResponder}this.overflowX=e.deltaX,this.overflowY=e.deltaY},scrollX:Object(v.g)(0),normalizedX:Object(v.g)({readOnly:!0,dependencies:["scrollX","scrollMinX"],get:Object.assign((function(){return this.scrollX-this.scrollMinX}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])-r.internalGet(this,t[1+n])}})}),scrollY:Object(v.g)(0),normalizedY:Object(v.g)({readOnly:!0,dependencies:["scrollY","scrollMinY"],get:Object.assign((function(){return this.scrollY-this.scrollMinY}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])-r.internalGet(this,t[1+n])}})}),scrollMinX:Object(v.g)(0),scrollMaxX:Object(v.g)(0),normalizedMaxX:Object(v.g)({readOnly:!0,dependencies:["scrollMaxX","scrollMinX"],get:Object.assign((function(){return this.scrollMaxX-this.scrollMinX}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])-r.internalGet(this,t[1+n])}})}),scrollMinY:Object(v.g)(0),scrollMaxY:Object(v.g)(0),normalizedMaxY:Object(v.g)({readOnly:!0,dependencies:["scrollMaxY","scrollMinY"],get:Object.assign((function(){return this.scrollMaxY-this.scrollMinY}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])-r.internalGet(this,t[1+n])}})}),scrollHeight:Object(mL.c)(qL,{dependencies:["scrollMinY","scrollMaxY"]}),scrollWidth:Object(mL.c)(qL,{dependencies:["scrollMinX","scrollMaxX"]}),height:Object(v.g)(0),width:Object(v.g)(0),canScrollVertically:Object(v.g)({readOnly:!0,dependencies:["scrollHeight","height"],get:Object.assign((function(){return this.scrollHeight>this.height}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])>r.internalGet(this,t[1+n])}})}),canScrollHorizontally:Object(v.g)({readOnly:!0,dependencies:["scrollWidth","width"],get:Object.assign((function(){return this.scrollWidth>this.width}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])>r.internalGet(this,t[1+n])}})}),handleScroll:function(e){var t=this.scrollX,n=this.scrollY,r=e.deltaX,i=e.deltaY,a=(r>0?this.scrollMaxX-this.width:this.scrollMinX)-t,o=(i>0?this.scrollMaxY-this.height:this.scrollMinY)-n,s=e.consumeX(a),c=e.consumeY(o);this.attemptScrollByForEvent(s,c,e)},attemptScrollBy:function(e,t){this.stopMomentumScroll();var n=this._attemptScrollBy(e,t);return this.didScrollBy&&this.didScrollBy(e,t),n},attemptScrollByForEvent:function(e,t,n){n.isMomentumScroll||this.stopMomentumScroll();var r=this._attemptScrollBy(e,t);return this.didScrollBy&&this.didScrollBy(e,t,n),r},_attemptScrollBy:function(e,t){var n=this.scrollX,r=n+e;e=(r=YL(r,this.scrollMinX,this.scrollMaxX,this.width))-n;var i=this.scrollY,a=i+t;return t=(a=YL(a,this.scrollMinY,this.scrollMaxY,this.height))-i,(e||t)&&this._scrollBy(e,t),0!==e||0!==t},validateScrollPosition:function(){var e=0;if(!this._s_isValidatingScrollPosition){this._s_isValidatingScrollPosition=!0;for(var t=!1;this._attemptScrollBy(0,0);)if(t=!0,e++>10){d.b.warn("Could not validate scroll position.Minimums: "+this.scrollMinX+","+this.scrollMinY+".Maximums: "+this.scrollMaxX+","+this.scrollMaxY+".Current: "+this.scrollX+", "+this.scrollY);break}return this._s_isValidatingScrollPosition=!1,t}},scrollBy:function(e,t){this.stopMomentumScroll(),this._internalScrollBy(e,t)},_internalScrollBy:function(e,t){this.canScrollHorizontally||(e=0),this.canScrollVertically||(t=0),this._scrollBy(e,t),this.didScrollBy&&this.didScrollBy(e,t)},_scrollBy:function(e,t){e&&(this.scrollX+=e),t&&(this.scrollY+=t)},didScrollBy:null,pageUp:function(){this.attemptScrollBy(0,-this.height)},pageDown:function(){this.attemptScrollBy(0,this.height)},pageLeft:function(){this.attemptScrollBy(-this.width,0)},pageRight:function(){this.attemptScrollBy(this.width,0)},scrollTo:function(e,t){var n=0;void 0!==e&&(e/=100,n=this.scrollX,n=this.scrollWidth*e+this.scrollMinX-n);var r=0;void 0!==t&&(t/=100,r=this.scrollY,r=this.scrollHeight*t+this.scrollMinY-r),this.attemptScrollBy(n,r)},viewport:Object(v.g)({strong:!0,defaultValue:Object(Me.b)(CD.a)}),_updateViewport:Object(v.h)("viewport","scrollX","scrollY","width","height",(function(e,t,n,r,i){e.beginBatchSet().set("x",t).set("y",n).set("width",r).set("height",i).end()})),scrollToRect:function(e){var t=this.viewport,n=0;e.isLeftOf(t)?n=e.x-t.x:e.isRightOf(t)&&(n=e.right-t.right);var r=0;e.isAbove(t)?r=e.y-t.y:e.isBelow(t)&&(r=e.bottom-t.bottom),this.attemptScrollBy(n,r)},hasMomentum:Object(v.g)({readOnly:!0,get:function(){return 0!==this._momentumRAF}}),_xAnimation:null,_yAnimation:null,_previousTimestamp:NaN,_momentumRAF:0,beginMomentumScroll:function(e){var t=this._previousTimestamp=performance.now(),n=e.x,r=e.y;this.canScrollHorizontally&&(this._xAnimation=new wL({initialTimestamp:t,initialVelocity:Math.abs(n),direction:n<0?-1:1})),this.canScrollVertically&&(this._yAnimation=new wL({initialTimestamp:t,initialVelocity:Math.abs(r),direction:r<0?-1:1})),this._momentumRAF=requestAnimationFrame(Object(rd.a)(this._momentumTick,this)),this.propertyChanged("hasMomentum")},stopMomentumScroll:function(){var e=this._momentumRAF;0!==e&&(cancelAnimationFrame(e),this._momentumRAF=0,this.propertyChanged("hasMomentum"))},_getAnimationDelta:function(e,t,n,r,i,a){var o=e.positionDelta(t,n),s=r+o,c=YL(s,0,i,a),l=e.velocityAtTime(n),u=s-c;return e instanceof wL&&0!==u?[o,new IL({initialPosition:u,initialOffset:u,initialTimestamp:n,initialVelocity:l})]:Math.abs(l)<=.01?[c-s,null]:[o,e]},_momentumTick:function(){var e,t,n=this._xAnimation,r=this._yAnimation,i=this.width,a=this.height,o=this.normalizedX,s=this.normalizedY,c=this.normalizedMaxX,l=this.normalizedMaxY,u=this._previousTimestamp,d=performance.now();this._previousTimestamp=d;var h=0;if(this.canScrollHorizontally){var f=this._getAnimationDelta(n,u,d,o,c,i);h=f[0],e=f[1]}var p=0;if(this.canScrollVertically){var g=this._getAnimationDelta(r,u,d,s,l,a);p=g[0],t=g[1]}this._internalScrollBy(h,p),e||t?this._momentumRAF=requestAnimationFrame(Object(rd.a)(this._momentumTick,this)):(this._momentumRAF=0,this.propertyChanged("hasMomentum")),e&&(this._xAnimation=e),t&&(this._yAnimation=t)},__superMap:{_$ZJ$init:"init",_$iF$gestureRecognizerShouldReceive:"gestureRecognizerShouldReceive",_$to$gestureRecognizerShouldRequireFailureOf:"gestureRecognizerShouldRequireFailureOf",_$2lh$dispose:"dispose"}};function YL(e,t,n,r){var i=Math.min(e,n-r);return Math.max(i,t)}var XL={mixinDependencies:[ZL],staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",name:"verticalScrollIndicator"},{type:"VIEWOUTLET",tagname:"view",name:"horizontalScrollIndicator"}]}}},hasVerticalScrollIndicator:Object(v.g)(!0),hasHorizontalScrollIndicator:Object(v.g)(!0),horizontalScrollIndicatorClass:hL,verticalScrollIndicatorClass:dL,scrollIndicatorOptions:{},topInset:Object(v.g)(0),scrollIndicatorTopMargin:Object(v.g)(6),scrollIndicatorTotalTopMargin:Object(v.g)({dependencies:["topInset","scrollIndicatorTopMargin"],readOnly:!0,get:Object.assign((function(){return this.topInset+this.scrollIndicatorTopMargin}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])+r.internalGet(this,t[1+n])}})}),scrollIndicatorBottomMargin:Object(v.g)(6),scrollIndicatorLeftMargin:Object(v.g)(6),scrollIndicatorRightMargin:Object(v.g)(6),verticalScrollIndicator:Object(v.g)({readOnly:!0,strong:!0,dependencies:["hasVerticalScrollIndicator"],downstreamBindings:{otherScrollIndicator:"(owner).horizontalScrollIndicator",scrollMin:"(owner).scrollMinY",scrollSize:"(owner).height",totalSize:"(owner).scrollHeight",scrollPosition:"(owner).scrollY",beginMargin:"(owner).scrollIndicatorTotalTopMargin",endMargin:"(owner).scrollIndicatorBottomMargin"},get:Object.assign((function(){return this.hasVerticalScrollIndicator?this.verticalScrollIndicatorClass.create(this.scrollIndicatorOptions):null}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])?this.verticalScrollIndicatorClass.create(this.scrollIndicatorOptions):null}})}),horizontalScrollIndicator:Object(v.g)({readOnly:!0,strong:!0,dependencies:["hasHorizontalScrollIndicator"],downstreamBindings:{otherScrollIndicator:"(owner).verticalScrollIndicator",scrollMin:"(owner).scrollMinX",scrollSize:"(owner).width",totalSize:"(owner).scrollWidth",scrollPosition:"(owner).scrollX",beginMargin:"(owner).scrollIndicatorLeftMargin",endMargin:"(owner).scrollIndicatorRightMargin"},get:Object.assign((function(){return this.hasHorizontalScrollIndicator?this.horizontalScrollIndicatorClass.create(this.scrollIndicatorOptions):null}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])?this.horizontalScrollIndicatorClass.create(this.scrollIndicatorOptions):null}})})},JL={mixinDependencies:[XL],horizontalScrollIndicatorClass:pL,verticalScrollIndicatorClass:gL,scrollIndicatorsShouldFade:Object(v.g)(!0),didScrollBy:function(e,t,n){if(e||n&&n.deltaX&&this.canScrollHorizontally){var r=this.horizontalScrollIndicator;r&&r.didScroll(n)}if(t||n&&n.deltaY&&this.canScrollVertically){var i=this.verticalScrollIndicator;i&&i.didScroll(n)}},showScrollIndicators:function(){var e=this.horizontalScrollIndicator;e&&e.renewVisibility();var t=this.verticalScrollIndicator;t&&t.renewVisibility()},createScrollIndicatorOptions:function(e){var t=this.__s._$jT$createScrollIndicatorOptions.apply(this,arguments);return t.scrollIndicatorShouldFade=this.bindingFor("scrollIndicatorsShouldFade"),t},__superMap:{_$jT$createScrollIndicatorOptions:"createScrollIndicatorOptions"}},ek=n(1370),tk={mixinDependencies:[v.a],layoutContext:Object(v.g)({strong:!0,type:CD.b,defaultValue:Object(Me.b)(CD.a)})},nk=n(1385),rk={viewClass:Object(ut.a)({isFocusable:!0}),init:function(){if(this.__s._$D1$init.apply(this,arguments),!this.view.hasMixin(ZL))throw new Xn.a("KeyboardScrollViewControllerSupport cannot be used on a ViewController where the view lacks ScrollSupport.")},keyDown:function(e){var t,n=!0;switch(e.keyCode){case nk.a.SPACE:t=e.shiftKey?"scrollToPreviousPage":"scrollToNextPage";break;case nk.a.PAGEUP:t="scrollToPreviousPage";break;case nk.a.PAGEDOWN:t="scrollToNextPage";break;case nk.a.HOME:t="scrollToFirstPage";break;case nk.a.END:t="scrollToLastPage";break;default:n=!1}return n&&(this.sendEvent(t,e),e.preventDefault()),n||"function"===typeof this.__s._$Vi$keyDown&&!!this.__s._$Vi$keyDown.call(this,e)},scrollToPreviousPage:function(){this.view.pageUp()},scrollToNextPage:function(){this.view.pageDown()},scrollToFirstPage:function(){this.view.scrollTo(void 0,0)},scrollToLastPage:function(){this.view.scrollTo(void 0,100)},__superMap:{_$D1$init:"init",_$Vi$keyDown:"keyDown"}},ik=n(1320),ak=oe.a.extend(ik.a,{itemsChanges:Object(y.c)({strong:!0}),invalidateItemAt:function(e){var t=this.invalidItems;t||(t=this.invalidItems=hg.create()),t.add(e)},invalidItems:Object(y.c)({strong:!0}),sectionsChanges:Object(y.c)({strong:!0}),invalidateSectionAt:function(e){var t=this.invalidSections;t||(t=this.invalidSections=hg.create()),t.add(e)},invalidSections:Object(y.c)({strong:!0}),movedBy:Object(y.c)({strong:!0}),sizeChangedBy:Object(y.c)({strong:!0}),itemShown:Object(y.c)({strong:!0}),itemShownAt:Object(y.c)({strong:!0}),itemScrolledTo:Object(y.c)({strong:!0}),everythingChanged:!1,layoutMetricsChanged:Object(y.c)({strong:!0}),collectionChanged:!1,didEnterPool:function(){this.itemsChanges=null,this.invalidItems=null,this.sectionsChanges=null,this.invalidSections=null,this.movedBy=null,this.sizeChangedBy=null,this.itemShown=null,this.itemShownAt=null,this.itemScrolledTo=null,this.everythingChanged=!1,this.layoutMetricsChanged=null,this.collectionChanged=!1,this.__s._$cv$didEnterPool.apply(this,arguments)},toString:function(){var e="["+this.__s._$e1$toString.apply(this,arguments)+" ";return this.itemsChanges&&(e+="itemsChanges("+this.itemsChanges.lengthDelta+") "),this.invalidItems&&(e+="invalidItems("+this.invalidItems.size+") "),this.sectionsChanges&&(e+="sectionsChanges("+this.sectionsChanges.lengthDelta+") "),this.invalidSections&&(e+="invalidSections("+this.invalidSections.size+") "),this.movedBy&&(e+="movedBy("+this.movedBy.toString()+") "),this.sizeChangedBy&&(e+="sizeChangedBy("+this.sizeChangedBy.toString()+") "),this.everythingChanged&&(e+="everythingChanged "),this.layoutMetricsChanged&&(e+="layoutMetricsChanged("+this.layoutMetricsChanged.toArray().join(", ")+") "),this.collectionChanged&&(e+="collectionChanged "),this.itemShown&&(e+="itemShown "),this.itemShownAt&&(e+="itemShownAt("+this.itemShownAt.toString()+") "),e+"]"},__superMap:{_$cv$didEnterPool:"didEnterPool",_$e1$toString:"toString"},staticMembers:{__QUALIFIED_CLASS_NAME__:"InvalidationContext"}}),ok=oe.a.extend(v.a,{left:Object(v.g)(0),top:Object(v.g)(0),right:Object(v.g)(0),bottom:Object(v.g)(0),isEstimated:Object(v.g)(!1),toString:function(){var e=this.left,t=this.top,n=this.right,r=this.bottom;return this.__s._$hH$toString.call(this)+" { left: "+e+", top: "+t+", right: "+n+", bottom: "+r+" }"},__superMap:{_$hH$toString:"toString"},staticMembers:{__QUALIFIED_CLASS_NAME__:"SpaceAroundViewport"}}),sk=oe.a.extend(v.a,{collection:Object(v.g)(),layoutDelegate:Object(v.g)({strong:!0}),layoutMetrics:Object(v.g)({strong:!0}),presenter:Object(v.g)({strong:!0}),viewportWidth:Object(v.g)(1024),viewportHeight:Object(v.g)(768),horizontalOverdraw:Object(v.g)(0),verticalOverdraw:Object(v.g)(0),_updateViewportBounds:Object(v.h)("viewportWidth","viewportHeight","horizontalOverdraw","verticalOverdraw",(function(e,t,n,r){var i=this.viewportBounds;ad.a.pause(),i.x=-n,i.y=-r,i.width=e+2*n,i.height=t+2*r,ad.a.resume()})),viewportBounds:Object(v.g)({strong:!0,defaultValue:function(){return CD.a.create({x:-this.horizontalOverdraw,y:-this.verticalOverdraw})}}),spaceAroundViewport:Object(v.g)({strong:!0,defaultValue:Object(Me.b)(ok)}),visibleCells:Object(v.g)({strong:!0,defaultValue:Qd.a.create().retain(window,"shared visibleCells initial value")}),_tmp_cellsArray:Object(Me.b)(Array),showItem:function(e,t,n){var r=this.collection.handleFor(e);if(r.isValid){var i=ek.a.create(t,n);this.update(ak.create({itemShown:r,itemShownAt:i}))}else d.b.warn("LayoutController: Attempted to scroll to item not in collection",{item:e})},scrollToItem:function(e){var t=this.collection.handleFor(e);this.scrollToHandle(t)},scrollToHandle:function(e){e.isValid&&!e.wasRemoved?this.update(ak.create({itemScrolledTo:e})):d.b.warn("LayoutController: Attempted to scroll to handle not in collection",{handle:e,handlePosition:e.position,handleIsValid:e.isValid,handleWasRemoved:e.wasRemoved})},rectForItem:function(e){var t=this.visibleCells;if(0===t.length)return null;var n=this.layoutDelegate.getCellForItem(this,this.collection,t,e);return n?n.rect:void 0},_beginUpdate:function(e,t,n){if(this._isUpdating)throw new Xn.a("LayoutController cannot update while an update is already in progress.",{invalidationContext:e});if(this._isUpdating=!0,!n)throw new Xn.a("LayoutController#_beginUpdate: layoutDelegate is required",{invalidationContext:e});return n.acquireVisibleCells(this,t,e)},_finishUpdate:function(e,t,n,r,i){this.visibleCells=i,this._handleItemEnters(i),this._handleItemMoves(i),this._handleItemExits(r),r.clear(),this._isUpdating=!1,this.computeSpaceAroundViewport(e)},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ak.create({everythingChanged:!0});e.retain(this,"LayoutController#update: invalidationContext");var t=this.collection,n=this.layoutDelegate;if(n){var r=this._beginUpdate(e,t,n),i=this.visibleCells;i&&i.length>0&&n.reusePreviousVisibleCells(this,t,r,i,e),0===r.length&&n.initializeVisibleCells(this,t,r,i,e),0!==r.length&&n.completeVisibleCells(this,t,r,e),n.finalizeVisibleCells(this,t,r,e),this._finishUpdate(e,t,n,i,r),e.release(this,"LayoutController#update: invalidationContext")}else e.release(this,"LayoutController#update: invalidationContext")},_handleItemExits:function(e){var t,n,r=e.length,i=this._tmp_cellsArray;for(i.length=0,t=0;t<r;t++)(n=e.objectAt(t)).isLaidOut||i.push(n);var a=this.presenter;for(a.cellsWillExit(i),r=i.length,t=0;t<r;t++)(n=i[t]).wasLaidOut=!1,a.cellDidExit(n);a.cellsDidExit(i)},_handleItemEnters:function(e){var t,n,r=e.length,i=this._tmp_cellsArray;for(i.length=0,t=0;t<r;t++)(n=e.objectAt(t)).wasLaidOut||i.push(n);var a=this.presenter;for(a.cellsWillEnter(i),r=i.length,t=0;t<r;t++)n=i[t],a.cellDidEnter(n),n.wasLaidOut=!0;a.cellsDidEnter(i),i.length=0},_handleItemMoves:function(e){var t=this.presenter;t.cellsWillMove(e);for(var n=0,r=e.length;n<r;n++){var i=e.objectAt(n);t.cellDidMove(i)}t.cellsDidMove(e)},computeSpaceAroundViewport:function(e){var t=this.spaceAroundViewport;return ad.a.pause(),0===this.visibleCells.length?(t.left=0,t.right=0,t.top=0,t.bottom=0):(t=this.layoutDelegate.computeSpaceAroundViewport(this,e),this.spaceAroundViewport=t),ad.a.resume(),t},staticMembers:{__QUALIFIED_CLASS_NAME__:"CollectionLayoutController"}});function ck(e,t){for(var n=e+t,r=e;r<n;r++)Object(dh.f)(this.objectAt(r),this,"StrongArray: item retain")}function lk(e,t){for(var n=e+t,r=e;r<n;r++)Object(dh.d)(this.objectAt(r),this,"StrongArray: item retain")}var uk={strong:!0,init:function(){this.__s._$AM$init.apply(this,arguments),ck.call(this,0,this.length)},itemsWereInserted:function(e,t){ck.call(this,e,t),this.__s._$D3$itemsWereInserted.apply(this,arguments)},itemsWillBeRemoved:function(e,t){lk.call(this,e,t),this.__s._$F4$itemsWillBeRemoved.apply(this,arguments)},dispose:function(){lk.call(this,0,this.length),this.__s._$Gj$dispose.call(this)},__superMap:{_$AM$init:"init",_$D3$itemsWereInserted:"itemsWereInserted",_$F4$itemsWillBeRemoved:"itemsWillBeRemoved",_$Gj$dispose:"dispose"}},dk=Rd.b.extend(uk,{changesClass:Rd.c,staticMembers:{__QUALIFIED_CLASS_NAME__:"StrongObservableArray"}}),hk=Ar.a.extend(ZL,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"MULTIVIEWOUTLET",tagname:"views",name:"itemViews"}],classes:["cw-collection-view"]}},className:"cw-ui-collections-collection-view",__QUALIFIED_CLASS_NAME__:"CollectionView"},_scrollBy:function(e,t){this.sendEvent("didScroll",e,t)},itemViews:Object(v.g)({strong:!0,defaultValue:Object(Me.b)(dk)})}),fk=zn.a.extend(tk,rk,{staticMembers:{createCollection:function(e){throw new Xn.a("CollectionViewController#createCollection called on a class with no implementation.")},updateCollection:function(e,t){throw new Xn.a("CollectionViewController#updateCollection called on a class with no implementation.")},__QUALIFIED_CLASS_NAME__:"CollectionViewController"},viewClass:hk,init:function(e){var t=this.layoutMetrics,n=t,r=this.layoutDelegate.LayoutMetricsClass;Object(N.a)(t)?t=r.create(t):Object(yt.a)(t)||(t=r.create()),n!==t&&(this.layoutMetrics=t),this.__s._$2R9$init.apply(this,arguments),t=this.layoutMetrics;var i=[],a=[],o=this._previousLayoutMetrics;for(var s in t.getMetadataByType(v.b))a.push(s),o[s]=t[s],i.push("layoutMetrics."+s);this._layoutMetricsKeys=a,i.push("_updateWhenContentsChange"),this._layoutMetricsObserver=this.observe({inputs:i,notifyOnCreate:!1,callback:this._updateWhenLayoutMetricsChange})},_layoutMetricsKeys:null,_previousLayoutMetrics:Object(y.c)({strong:!0,defaultValue:Object(Me.b)(Object)}),_changedKeys:Object(y.c)({strong:!0,defaultValue:Object(Me.b)(hg)}),_layoutMetricsObserver:null,_updateWhenLayoutMetricsChange:function(){var e=this._changedKeys;e.clear();for(var t=this._layoutMetricsKeys,n=t.length,r=this._previousLayoutMetrics,i=this.layoutMetrics,a=0;a<n;a++){var o=t[a],s=i[o];s!==r[o]&&(e.add(o),r[o]=s)}0!==e.size&&this.update(ak.create({layoutMetricsChanged:e}))},viewportWidth:Object(v.g)(0),viewportHeight:Object(v.g)(0),layoutMetrics:Object(v.g)({strong:!0}),layoutController:Object(v.g)({strong:!0,defaultValue:Object(Me.b)(sk),downstreamBindings:{collection:"(owner).collection",viewportWidth:"(owner).viewportWidth",viewportHeight:"(owner).viewportHeight",layoutDelegate:"(owner).layoutDelegate",presenter:"(owner).presenter",layoutMetrics:"(owner).layoutMetrics"}}),_updateWhenContentsChange:Object(v.f)("collection.contentsDidChange","collection.handleProvider.handlesDidUpdate",(function(e){e&&this.update(ak.create({itemsChanges:e.context}))})),_updateWhenCollectionChanges:Object(v.f)("collection",(function(e){this.update(ak.create({collectionChanged:!0}))})),layoutDelegate:Object(v.g)({strong:!0}),contentSize:Object(v.g)({strong:!0,dependencies:["collection","collection.contentsDidChangeUntracked","layoutController.spaceAroundViewport"],readOnly:!0,get:Object.assign((function(){var e=this.layoutController,t=this.collection,n=this.layoutDelegate;if(e.visibleCells.length>0){var r=this.getPath("layoutController.spaceAroundViewport"),i=this.viewportWidth+r.left+r.right,a=this.viewportHeight+r.top+r.bottom;return ID.a.create(i,a)}if(t&&t.length>0){var o=n.setUpFirstCell(e,t).retain(this,"CollectionViewController#contentSize: cell"),s=o.bottom+n.spaceBelowCell(e,o),c=ID.a.create(o.width,s);return o.release(this,"CollectionViewController#contentSize: cell"),c}return ID.a.create(0,0)}),{__CW__getter:function(e,t,n,r){var i=this.layoutController,a=r.internalGet(this,t[0+n]),o=this.layoutDelegate;if(i.visibleCells.length>0){var s=r.internalGetPath(this,t[2+n]),c=this.viewportWidth+s.left+s.right,l=this.viewportHeight+s.top+s.bottom;return ID.a.create(c,l)}if(a&&a.length>0){var u=o.setUpFirstCell(i,a).retain(this,"CollectionViewController#contentSize: cell"),d=u.bottom+o.spaceBelowCell(i,u),h=ID.a.create(u.width,d);return u.release(this,"CollectionViewController#contentSize: cell"),h}return ID.a.create(0,0)}})}),presenter:Object(v.g)({strong:!0,downstreamBindings:{views:"(owner).view.itemViews",layoutMetrics:"(owner).layoutMetrics"}}),layoutContext:A.a.sharedInstance.window,_measureViewport:Object(v.h)({inputs:["isAttached","view.isAttached","layoutContext.width","layoutContext.height"],callback:function(e,t){e&&t?this.measureViewport():this.update(ak.create({everythingChanged:!0}))}}),measureViewport:function(){if(this.isAttached){var e=this.view;if(e){var t=e.element,n=1,r=1;t&&(n=t.offsetWidth,r=t.offsetHeight);var i=this.viewportWidth,a=this.viewportHeight;i===n&&a===r||(this.beginBatchSet().set("viewportWidth",n).set("viewportHeight",r).end(),n>0&&r>0&&(this._changedWhileHidden?(this.update(ak.create({everythingChanged:!0})),this._changedWhileHidden=!1):this.update(ak.create({sizeChangedBy:ID.a.create({width:n-i,height:r-a})})),this.updateScrollBounds()))}}},collection:Object(v.g)({strong:!0}),update:function(e){if(this.isViewLoaded){var t=this.viewportWidth,n=this.viewportHeight;if(0!==n&&0!==t){var r=this.view;r.height=n,r.width=t,this.layoutController.update(e)}else this._changedWhileHidden=!0}},_changedWhileHidden:!1,_update:function(){this.update(...arguments)},updateScrollBounds:Object(v.h)("layoutController.spaceAroundViewport.left","layoutController.spaceAroundViewport.top","layoutController.spaceAroundViewport.right","layoutController.spaceAroundViewport.bottom",(function(e,t,n,r){if(void 0!==e&&void 0!==n&&void 0!==t&&void 0!==r){var i=this.viewportHeight,a=-e,o=n+this.viewportWidth,s=-t,c=r+i;this.view.beginBatchSet().set("scrollMinX",a).set("scrollMaxX",o).set("scrollMinY",s).set("scrollMaxY",c).end()}})),scrollBy:function(e,t){var n=ak.create();n.movedBy=ek.a.create(e,t),this.update(n)},didScroll:function(e,t){this.scrollBy(-e,-t)},showItem:function(e,t,n){this.layoutController.showItem(e,t,n)},scrollToItem:function(e){this.layoutController.scrollToItem(e)},scrollToHandle:function(e){this.layoutController.scrollToHandle(e)},__superMap:{_$2R9$init:"init"}}),pk=n(1371),gk={selectionControllerDidDeselectItem:yd.a,selectionControllerDidSelectItem:yd.a,selectionControllerShouldSelectItem:function(e,t){return!0}},mk={mixinDependencies:[$.a,v.a],selection:Object(v.g)(Object(_.c)("selectionController.selection")),selectedItem:Object(v.g)(Object(_.c)("selectionController.selectedItem")),selectionController:Object(v.g)({strong:!0,downstreamBindings:{collection:"(owner).collection",delegate:"(owner).selectionDelegate",isEmptySelectionEnabled:"(owner).isEmptySelectionEnabled",isMultipleSelectionEnabled:"(owner).isMultipleSelectionEnabled"}}),selectionDelegate:Object(v.g)({defaultValue:Object(Me.b)(oe.a.extend(gk))}),collection:Object(mL.c)(pk.a),isSelectionEnabled:Object(v.g)({defaultValue:!0,didChange:function(e){e||(this.selection=null,this.update())}}),update:function(e){Object(dh.f)(e,this,"SelectionSupportProtocol: invalidationContext"),this.__s._$nR$update.apply(this,arguments),e&&(e.itemsChanges||e.collectionChanged||e.everythingChanged)&&this.selectionController.updateSelectionForCollectionChange(e),Object(dh.e)(e,this,"SelectionSupportProtocol: invalidationContext")},isEmptySelectionEnabled:Object(v.g)(!0),isMultipleSelectionEnabled:Object(v.g)(!0),selectItem:function(e){this.selectedItem=e},userPerformedSelectionOperation:function(e,t){if(this.isSelectionEnabled)return this.selectionController.userPerformedSelectionOperation(e,t)},isItemAtHandleSelected:function(e){return!!this.isSelectionEnabled&&this.selectionController.isItemAtHandleSelected(e)},isCellSelected:function(e){return!!this.isSelectionEnabled&&!!this.isCellSelectable(e)&&this.isItemAtHandleSelected(e.handle)},isCellSelectable:function(e){return"item"===e.cellType},selectCell:function(e,t){if(this.isSelectionEnabled){var n=this.selectionController;e?this.isCellSelectable(e)&&n.userPerformedSelectionOperation(e.handle,t):n.userPerformedSelectionOperation(null,t)}},userPerformedSelectionOperationInDirection:function(e,t){if(this.isSelectionEnabled)return this.selectionController.userPerformedSelectionOperationInDirection(e,t)},selectAll:function(){if(this.isSelectionEnabled)return this.selectionController.selectAll()},clearSelection:function(){if(this.isSelectionEnabled)return this.userPerformedSelectionOperation()},_updateWhenSelectionChanges:Object(v.f)("selectionController.selectionDidChange",(function(){this.update()})),__superMap:{_$nR$update:"update"}},vk={mixinDependencies:[CL.a],gestureRecognizerShouldActivateButton:function(e,t){var n=e.view.element,r=t.target;return n===r||n.contains(r)}},yk=OL.b.Began,_k=OL.b.Changed,bk=$L.extend({stateGenerator:LL,delegate:Object.assign({},CL.a,vk),willGestureSucceed:!1,shouldAllowMovementOutsideTarget:!1,pointerDown:function(e){this.willGestureSucceed=this._willGestureSucceed(e),this.__s._$hi$pointerDown.apply(this,arguments),this.state=yk},pointerMove:function(e){this.willGestureSucceed=this._willGestureSucceed(e),this.__s._$lJ$pointerMove.apply(this,arguments);var t=this.state;t!==yk&&t!==_k||(this.state=_k)},pointerUp:function(e){this.willGestureSucceed=this._willGestureSucceed(e),this.__s._$tC$pointerUp.apply(this,arguments)},_willGestureSucceed:function(e){return this.delegate.gestureRecognizerShouldActivateButton(this,e)},shouldFailGesture:function(e){return this.shouldAllowMovementOutsideTarget&&1===this.numberOfTapsRequired?"pointerUp"===e.cwType&&!this._willGestureSucceed(e):this.__s._$_C$shouldFailGesture.apply(this,arguments)},reset:function(){this.willGestureSucceed=!1,this.__s._$10T$reset.call(this)},didEnterPool:function(){this.shouldAllowMovementOutsideTarget=!1,this.__s._$126$didEnterPool.apply(this,arguments)},__superMap:{_$hi$pointerDown:"pointerDown",_$lJ$pointerMove:"pointerMove",_$tC$pointerUp:"pointerUp",_$_C$shouldFailGesture:"shouldFailGesture",_$10T$reset:"reset",_$126$didEnterPool:"didEnterPool"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ButtonTapGestureRecognizer"}}),wk=Qd.a.extend(uk,{staticMembers:{__QUALIFIED_CLASS_NAME__:"StrongArray"}}),Sk=n(1580),Ek=oe.a.extend(v.a,{staticMembers:{__QUALIFIED_CLASS_NAME__:"CollectionLayoutMetrics"}}),Ik=oe.a.extend(ik.a,CD.b,{initFromPool:function(e){this._owner=e,this.__s._$7n$initFromPool.call(this)},cleanup:function(){this.invalidate(),this.__s._$8t$cleanup.apply(this,arguments)},didEnterPool:function(){this._owner=null,this.wasLaidOut=!1,this.key=null,this._properties.value.readOnly||(this.value=null),this.x=-1,this.y=-1,this.width=-1,this.height=-1,this.scrollX=0,this.scrollY=0,this.__s._$HH$didEnterPool.call(this)},key:Object(y.c)(),value:Object(y.c)(),x:Object(y.c)(-1),y:Object(y.c)(-1),width:Object(y.c)(-1),height:Object(y.c)(-1),top:Object(y.c)({readOnly:!0,get:function(){return this.y}}),bottom:Object(y.c)({readOnly:!0,get:function(){return this.y+this.height}}),left:Object(y.c)({readOnly:!0,get:function(){return this.x}}),right:Object(y.c)({readOnly:!0,get:function(){return this.x+this.width}}),origin:Object(y.c)({readOnly:!0,get:function(){throw new Xn.a("CW.Cell#origin not implemented")}}),cellType:"item",toString:function(){return this.__s._$kT$toString.call(this)+"cellType: "+this.cellType+" x: "+this.x+" y: "+this.y+" width: "+this.width+" height: "+this.height},_owner:null,wasLaidOut:!1,isLaidOut:!1,isReusable:Object(y.c)({readOnly:!0,defaultValue:!0}),moveBy:function(e,t,n){this.x+=t,this.y+=n},invalidate:function(){this.size=null,this.isLaidOut=!1},size:Object(y.c)({strong:!0}),rect:Object(y.c)({get:function(){return this}}),copyTo:function(e){e.size=this.size,e.x=this.x,e.y=this.y,e.height=this.height,e.width=this.width},__superMap:{_$7n$initFromPool:"initFromPool",_$8t$cleanup:"cleanup",_$HH$didEnterPool:"didEnterPool",_$kT$toString:"toString"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CollectionCell"}}),Ck=Ik.extend({value:Object(y.c)({get:function(){return this.key.value}}),key:Object(y.c)({strong:!0}),handle:Object(y.c)({get:function(){return this.key}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ItemCell"}}),Ok={staticMembers:{LayoutMetricsClass:Ek},mixinDependencies:[$.a,v.a],setUpInitialCell:Object(mL.c)(G.a),setUpFirstCell:Object(mL.c)(G.a),setUpLastCell:Object(mL.c)(G.a),getCellForItem:Object(mL.c)(G.a),initializeVisibleCells:Object(mL.c)(G.a),completeVisibleCells:Object(mL.c)(G.a),finalizeVisibleCells:function(e,t,n,r){},setUpCellAtDistance:Object(mL.c)(G.a),computeSpaceAroundViewport:Object(mL.c)(G.a),reusePreviousVisibleCells:G.a.define(),cellClass:Object(v.g)(Ck),_cellTypesMap:Object(Me.b)(Map),_cellMapForCellType:function(e){var t=this._cellTypesMap,n=t.get(e);return n||(n=Sk.a.create(),t.set(e,n)),n},cellForHandleIfPresent:function(e,t){return void 0===t&&(t="item"),this._cellMapForCellType(t).get(e)},cellForHandle:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"item",n=this._cellMapForCellType(t),r=n.get(e);return r||((r=this.createCellFor(e,t)).key=e,r.cellType=t,n.set(e,r)),r.registerWeakReference(this,this._cellWasDisposed,r),r.retain(this,"cellForHandle: initial retain + autorelease").autorelease(this,"cellForHandle: initial retain + autorelease")},cellClassKeysByCellType:{item:"cellClass"},createCellFor:function(e,t){return this[this.cellClassKeysByCellType[t]].create(this)},_cellWasDisposed:function(e){this._cellMapForCellType(e.cellType).removeKey(e.key)}},Tk=Object(S.b)("ListPosition",(function(e){e("Top"),e("Bottom")})),Ak=Ek.extend({rowHeight:Object(v.g)(30),rowSpacing:Object(v.g)(0),topPadding:Object(v.g)(0),bottomPadding:Object(v.g)(0),initialPosition:Object(v.g)({defaultValue:Tk.Top,type:Tk}),minimumSizePosition:Object(v.g)({defaultValue:Tk.Top,type:Tk}),shouldStickAtTop:Object(v.g)(!1),shouldStickAtBottom:Object(v.g)(!1),topInset:Object(v.g)(0),hideableTopHeight:Object(v.g)(0),hideableBottomHeight:Object(v.g)(0),shouldStartHidden:Object(v.g)(!0),staticMembers:{__QUALIFIED_CLASS_NAME__:"ListLayoutMetrics"}}),Nk=ek.a.create().retain(window,"initial retain"),Mk=CD.a.create().retain(window,"initial retain"),Dk=oe.a.extend(Ok,v.a,{staticMembers:{LayoutMetricsClass:Ak,__QUALIFIED_CLASS_NAME__:"ListLayoutDelegate"},isAtEnd:null,_distancePastEnd:0,setUpInitialCell:function(e,t,n){var r=e.layoutMetrics.initialPosition;return r===Tk.Top?this.setUpFirstCell(e,t,n):r===Tk.Bottom?this.setUpLastCell(e,t,n):void 0},setUpFirstCell:function(e,t,n){if(!t)return null;var r=t.startHandle.retain(this,"setUpFirstCell");if(!r.isValid)return r.release(this,"setUpFirstCell"),null;var i=this.cellForHandle(r).retain(this,"setUpFirstCell");r.release(this,"setUpFirstCell");var a=this.topForCell(e,i),o=e.layoutMetrics;o.shouldStartHidden||(a+=o.hideableTopHeight);var s=i.isLaidOut;return this.layOutCellInDirection(e,i,1,a,1,this.leftForCell(e,i)),n&&(i.isLaidOut=s),i.autorelease(this,"setUpFirstCell")},setUpLastCell:function(e,t,n){if(!t)return null;var r=t.handleProvider.endHandle.retain(this,"setUpLastCell");if(!r.isValid)return r.release(this,"setUpLastCell"),null;var i=this.cellForHandle(r).retain(this,"setUpLastCell");r.release(this,"setUpLastCell");var a=e.viewportHeight-this.spaceBelowCell(e,i),o=e.layoutMetrics;o.shouldStartHidden||(a-=o.hideableBottomHeight);var s=i.isLaidOut;return this.layOutCellInDirection(e,i,-1,a,1,this.leftForCell(e,i)),n&&(i.isLaidOut=s),i.autorelease(this,"setUpLastCell")},_findCellForItemInDirection:function(e,t,n,r){for(n=n.next;n.isValid;){if(n.value===t)return this.cellForHandle(n).retain().autorelease();n=n.atDistance(r)}return null},_findCellForItem:function(e,t,n,r){var i=n.find((function(e){return e.handle.value===r}));if(i)return i;var a=this.topMostItem(e,n);if(a){if(i=this._findCellForItemInDirection(e,r,a.handle,-1))return i;var o=this.bottomMostItem(e,n);if(o)return this._findCellForItemInDirection(e,r,o.handle,1)}},getCellForItem:function(e,t,n,r){var i=this._findCellForItem(e,t,n,r);if(!i)return null;if(i.retain(),n.contains(i))return i;var a=this.topMostItem(e,n),o=this.topForCell(e,a)-a.y;return this.layOutCellInDirection(e,i,1,this.topForCell(e,i)-o,1,this.leftForCell(e,i)),i.autorelease()},layOutCellsInDirection:function(e,t,n,r,i){for(var a=n,o=e.viewportBounds,s=r>0,c=!1;;){var l=a;if(a=this.positionNextCell(e,l,r),!Object(yt.a)(a))return i;if(a.retain(this,"layOutCellsInDirection"),this.cellIsVisible(e,o,a))c=!0,this.isCellAnchorable(a)&&(i=!0);else if(c&&i||l.y*r>0)return a.release(this,"layOutCellsInDirection"),a.isLaidOut=!1,i;s?t.push(a):t.unshift(a),a.release(this,"layOutCellsInDirection")}},cellIsVisible:function(e,t,n){return n.intersects(t)},_visibleCells:Object(y.c)({strong:!0,defaultValue:Object(Me.b)(wk)}),_previousVisibleCells:Object(y.c)({strong:!0,defaultValue:Object(Me.b)(wk)}),acquireVisibleCells:function(e,t,n){var r=this._visibleCells.retain(this,"acquireVisibleCells: swapping visibleCells"),i=this._previousVisibleCells.retain(this,"acquireVisibleCells: swapping visibleCells");return this._visibleCells=i,this._previousVisibleCells=r,r.length=0,r.release(this,"acquireVisibleCells: swapping visibleCells"),i.release(this,"acquireVisibleCells: swapping visibleCells"),r},reusePreviousVisibleCells:function(e,t,n,r,i){for(var a=e.viewportBounds,o=r.length,s=0;s<o;s++){var c=r.objectAt(s);c.isReusable||c.invalidate()}var l=i.movedBy;l&&this.handleMovedBy(l.x,l.y,e,t,n,r);var u=i.itemShown;if(u){var d=i.itemShownAt,h=d.x,f=d.y;this.handleShowItem(u,h,f,e,t,n,r)}var p=i.itemScrolledTo;p&&this.handleScrollToItem(p,e,t,n,r);var g=i.sizeChangedBy;g&&this.handleSizeChangedBy(g.width,g.height,e,t,n,r),i.everythingChanged&&this.handleEverythingChanged(e,t,n,r,i),i.collectionChanged&&this.invalidateOtherCells(r);var m=i.itemsChanges;m&&this.handleItemsChanges(m,e,t,n,r,i);var v=i.invalidItems;v&&this.handleInvalidItems(v,e,t,n,r,i);var y=i.layoutMetricsChanged;y&&this.handleLayoutMetricsChanged(y,e,t,n,r,i);for(var _=!1,b=!1,w=0;w<o;w++){var S=r.objectAt(w);!b&&S.isReusable&&S.isLaidOut&&this.cellIsVisible(e,a,S)?(S.retain(this,"reusePreviousVisibleCells: retaining reused cells"),n.push(S),S.release(this,"reusePreviousVisibleCells: retaining reused cells"),_=!0):_?(b=!0,S.isLaidOut=!1):S.isLaidOut=!1}},handleLayoutMetricsChanged:function(e,t,n,r,i,a){var o=t.layoutMetrics;if(e.contains("rowHeight")){this.invalidateOtherCells(i);var s=this.topMostItem(t,i);s&&this.recoverLayoutFromCell(t,s)}else if(e.contains("rowSpacing")){var c=this.topMostItem(t,i);this.invalidateOtherCells(i,c)}else if(e.contains("hideableTopHeight")){if(o.shouldStartHidden&&this.isAtEnd===Tk.Top&&o.initialPosition===Tk.Top){var l=this.setUpFirstCell(t,n,!0);this.invalidateOtherCells(i,l)}}else if(e.contains("hideableBottomHeight")){if(o.shouldStartHidden&&this.isAtEnd===Tk.Bottom&&o.initialPosition===Tk.Bottom){var u=this.setUpLastCell(t,n,!0);this.invalidateOtherCells(i,u)}}else this.handleEverythingChanged(t,n,r,i,a)},recoverLayoutFromCell:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=t.handle;r.wasRemoved||r.isValid&&this.layOutCellInDirection(e,t,1,n.y,1,n.x)},handleEverythingChanged:function(e,t,n,r,i){if(this.invalidateOtherCells(r),!this.isAtEnd){var a=this.topMostValidItem(e,r);if(!a)return;a.retain(this,"handleEverythingChanged: first valid cell"),this.recoverLayoutFromCell(e,a),a.release(this,"handleEverythingChanged: first valid cell")}},handleInvalidItems:function(e,t,n,r,i,a){e.forEach((function(e){var t=this.cellForHandle(e).retain(this,"handleInvalidItems: invalid cell");t.invalidate(),t.release(this,"handleInvalidItems: invalid cell")}),this);for(var o=i.length,s=0;s<o;s++){var c=i.objectAt(s);e.contains(c.handle)&&c.invalidate()}},invalidateOtherCells:function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e.objectAt(r);i!==t&&i.invalidate()}},handleItemsChanges:function(e,t,n,r,i,a){this.handleEverythingChanged(t,n,r,i,a)},handleCollectionChanged:function(e,t,n,r,i){var a=this.setUpInitialCell(e,t);a&&(a.retain(this,"handleCollectionChanged"),n.push(a),a.release(this,"handleCollectionChanged"),this.isAtEnd=e.layoutMetrics.initialPosition,this._distancePastEnd=0)},endOffset:function(e,t,n){var r=this.isAtEnd,i=this._distancePastEnd,a=0,o=e.layoutMetrics;if(r===Tk.Top){var s=o.hideableTopHeight;i=Math.min(i,s);var c=this.topMostLaidOutItem(e,n);(a=-this._distancePastTop(e,c))>0&&!o.shouldStickAtTop?a=0:a+=i}else if(r===Tk.Bottom){var l=o.hideableBottomHeight;i=Math.min(i,l);var u=this.bottomMostLaidOutItem(e,n);(a=this._distancePastBottom(e,u))<0&&!o.shouldStickAtBottom?a=0:a-=i}return a},moveCellsBy:function(e,t,n,r){for(var i=0,a=r.length;i<a;i++){var o=r.objectAt(i);o.isLaidOut&&o.moveBy(e,t,n)}},handleMovedBy:function(e,t,n,r,i,a){this.moveCellsBy(n,e,t,a)},handleShowItem:function(e,t,n,r,i,a,o){var s=this.cellForHandleIfPresent(e);if(s){if(s.retain(this,"handleShowItem: target cell"),s.isLaidOut)return this.moveCellsBy(r,0,n-s.y,o),void s.release(this,"handleShowItem: target cell");s.release(this,"handleShowItem: target cell")}this.invalidateOtherCells(o)},handleScrollToItem:function(e,t,n,r,i){var a=this.cellForHandleIfPresent(e);if(a){if(a.retain(this,"handleScrollToItem: target cell"),a.isLaidOut){var o=this.minimumTopOffsetForCell(t,a),s=t.viewportBounds.bottom-this.minimumBottomOffsetForCell(t,a);return a.y<o?this.moveCellsBy(t,0,o-a.y,i):a.bottom>s&&this.moveCellsBy(t,0,s-a.bottom,i),void a.release(this,"handleScrollToItem: target cell")}a.release(this,"handleScrollToItem: target cell")}this.invalidateOtherCells(i)},handleSizeChangedBy:function(e,t,n,r,i,a){0!==e&&a.forEach((function(e){e.width=n.viewportWidth,e.size=null}))},initializeVisibleCells:function(e,t,n,r,i){if(i.collectionChanged)this.handleCollectionChanged(e,t,n,r,i);else{if(r.length>0&&t.startHandle.isValid)if(i.itemsChanges||i.everythingChanged){var a=this.handleNoPreviouslyValidCells(e,t,n,r,i);a.retain(this,"initializeVisibleCells: newCell"),n.push(a),a.release(this,"initializeVisibleCells: newCell")}else if(i.itemShown)this.initializeItemShown(e,t,n,i);else if(i.itemScrolledTo)this.initializeItemScrolledTo(e,t,n,r,i);else{var o=this.topMostItem(e,r);if(o){o.retain(this,"initializeVisibleCells: previous topMostItem");var s,c=e.viewportBounds,l=c.x-o.x,u=c.y-o.y,d=0;u>0?d=1:u<0?d=-1:l>0?d=1:l<0&&(d=-1),o.handle.hasHandleAtDistance(d)?s=this.setUpCellAtDistance(e,t,o,l,u):(this.recoverLayoutFromCell(e,o),s=o),s.retain(this,"initializeVisibleCells: setUpCellAtDistance"),o.release(this,"initializeVisibleCells: previous topMostItem"),s.isLaidOut&&n.push(s),s.release(this,"initializeVisibleCells: setUpCellAtDistance")}}if(0===n.length){var h=this.setUpInitialCell(e,t);if(h){var f=this.isAtEnd=e.layoutMetrics.initialPosition,p=this._distancePastEnd;f===Tk.Top?h.y+=p:f===Tk.Bottom&&(h.y-=p),h.retain(this,"initializeVisibleCells: setUpInitialCell"),n.push(h),h.release(this,"initializeVisibleCells: setUpInitialCell")}}}},initializeItemShown:function(e,t,n,r){var i=r.itemShown,a=this.cellForHandle(i).retain(this,"initializeItemShown: cell"),o=r.itemShownAt.y;void 0===o?this.layOutCellAtTop(e,a):this.layOutCellInDirection(e,a,1,o,1,this.leftForCell(e,a)),n.push(a),a.release(this,"initializeItemShown: cell")},layOutCellAtTop:function(e,t){var n=this.minimumTopOffsetForCell(e,t);this.layOutCellInDirection(e,t,1,n,1,this.leftForCell(e,t))},minimumTopOffsetForCell:function(e,t){return t.handle.hasPrevious?0:this.topForCell(e,t)},layOutCellAtBottom:function(e,t){var n=this.minimumBottomOffsetForCell(e,t);this.layOutCellInDirection(e,t,-1,e.viewportBounds.bottom-n,1,this.leftForCell(e,t))},minimumBottomOffsetForCell:function(e,t){return t.handle.hasNext?0:this.spaceBelowCell(e,t)},initializeItemScrolledTo:function(e,t,n,r,i){var a=i.itemScrolledTo,o=this.cellForHandle(a).retain(this,"initializeItemScrolledTo: cell"),s=this.topMostItem(e,r);s?this.topForCell(e,o)<=this.topForCell(e,s)?this.layOutCellAtTop(e,o):this.layOutCellAtBottom(e,o):this.layOutCellAtTop(e,o),n.push(o),o.release(this,"initializeItemScrolledTo: cell")},handleNoPreviouslyValidCells:function(e,t,n,r,i){var a,o=this.topMostItem(e,r);if(!o){var s=this.setUpInitialCell(e,t);return this.isAtEnd=e.layoutMetrics.initialPosition,this._distancePastEnd=0,s}if(e.layoutMetrics.initialPosition===Tk.Top){var c=this.topForCell(e,o)-o.y,l=this.setUpFirstCell(e,t,!0);l.y-=c,a=this.setUpCellAtDistance(e,t,l,0,c)}else{var u=this.spaceBelowCell(e,o)-(o.bottom-e.viewportHeight),d=this.setUpLastCell(e,t,!0);d.y-=u,a=this.setUpCellAtDistance(e,t,d,0,u)}return a},_distancePastBottom:function(e,t){return $r.a.sharedInstance.floorToDevicePixelRatio(e.viewportHeight)-$r.a.sharedInstance.floorToDevicePixelRatio(t.bottom+this.spaceBelowCell(e,t))},_distancePastTop:function(e,t){return $r.a.sharedInstance.floorToDevicePixelRatio(t.y-this.topForCell(e,t))},checkForMinimumSize:function(e,t){var n=this.topMostLaidOutItem(e,t),r=this._distancePastTop(e,n),i=r>=0,a=this.bottomMostLaidOutItem(e,t),o=this._distancePastBottom(e,a);if(i&&o>=0){var s=e.layoutMetrics;s.minimumSizePosition===Tk.Top?(this.isAtEnd=Tk.Top,this._distancePastEnd=r):s.minimumSizePosition===Tk.Bottom&&(this.isAtEnd=Tk.Bottom,this._distancePastEnd=o)}},completeVisibleCells:function(e,t,n,r){var i=!!n.find(this.isCellAnchorable),a=this.layOutCellsInDirection(e,n,n.objectAt(0),-1,i),o=this.layOutCellsInDirection(e,n,n.lastItem,1,i||a);if(!1!==i||!1!==a||!1!==o)if(r.movedBy||r.itemShown||r.itemScrolledTo){var s=e.layoutMetrics,c=null,l=0,u=this.topMostItem(e,n),d=this._distancePastTop(e,u),h=d>=0,f=this.bottomMostItem(e,n),p=this._distancePastBottom(e,f),g=p>=0;g&&h&&(s.minimumSizePosition===Tk.Top?g=!1:s.minimumSizePosition===Tk.Bottom&&(h=!1)),g?(c=Tk.Bottom,l=p):h&&(c=Tk.Top,l=d),this.isAtEnd=c,this._distancePastEnd=l}else{var m;for(this.checkForMinimumSize(e,n);Math.abs($r.a.sharedInstance.floorToDevicePixelRatio(m=this.endOffset(e,t,n)))>0;)this.moveCellsBy(e,0,m,n),m>0?this.layOutCellsInDirection(e,n,n.objectAt(0),-1,!0):this.layOutCellsInDirection(e,n,n.lastItem,1,!0)}},verticalScan:1/0,horizontalScan:1/0,setUpCellAtDistance:function(e,t,n,r,i){var a=this.horizontalScan,o=this.verticalScan;if(Math.abs(r)>a||Math.abs(i)>o)return this.estimateCellAtDistance(e,t,n,r,i);var s,c=isFinite(a)||isFinite(o),l=0;if(i>0)l=1;else if(i<0)l=-1;else if(r>0)l=1;else{if(!(r<0))return n.isLaidOut||this.recoverLayoutFromCell(e,n),n;l=-1}if(Nk.x=n.x+r,Nk.y=n.y+i,c){var u=e.viewportBounds;Mk.x=u.x-a,Mk.y=u.y-o,Mk.width=u.width+2*a,Mk.height=u.height+2*o}for(n.retain();null!==(s=this.positionNextCell(e,n,l));){if(s.retain(),s.containsPoint(Nk)||l<0&&s.y<=Nk.y||l>0&&s.y>=Nk.y||c&&!s.intersects(Mk))return n.release(),s.autorelease();n.release(),s.isLaidOut=!1,n=s}return l>0?this.setUpLastCell(e,t):this.setUpFirstCell(e,t)},estimateCellAtDistance:yd.a,verticalSpacingForCellTypes:function(e,t,n){return"item"===t&&"item"===n?e.layoutMetrics.rowSpacing:0},positionNextCell:function(e,t,n){var r=t.handle.atDistance(n).retain();if(!r.isValid)return r.release(),null;var i,a=this.cellForHandle(r).retain();return r.release(),i=n>0?this.verticalSpacingForCellTypes(e,t.cellType,a.cellType):this.verticalSpacingForCellTypes(e,a.cellType,t.cellType),this.positionAdjacentCell(e,t,a,n,i).autorelease()},positionAdjacentCell:function(e,t,n,r,i){var a;return t.retain(),n.retain(),a=r>0?t.bottom+i:t.y-i,t.release(),this.layOutCellInDirection(e,n,r,a,1,this.leftForCell(e,n)),n.autorelease()},layOutCellInDirection:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=this.sizeForCell(e,t),s=t.height=o.height;n>0?t.y=r:n<0&&(t.y=r-s);var c=t.width=o.width;return i>0?t.x=a:i<0&&(t.x=a-c),t.isLaidOut=!0,t},sizeForCell:function(e,t){var n=t.size;return n||(n=t.size=this[this.sizeKeyByCellType[t.cellType]](e,t)),n},estimatedSizeForCell:function(e,t){var n=this.estimatedSizeKeyByCellType;if(!n){n={};var r=this.sizeKeyByCellType;for(var i in r)n[i]="estimated"+Wr(r[i])}var a=t.size;return a||(a=t.size=this[n[t.cellType]](e,t)),a},sizeKeyByCellType:{item:"sizeForItem"},estimatedSizeKeyByCellType:null,sizeForItem:function(e,t){return ID.a.create({height:e.layoutMetrics.rowHeight,width:e.viewportWidth})},leftForCell:function(e,t){return 0},topForCell:function(e,t){for(var n=e.layoutMetrics,r=t.handle,i=-1;r.isValid;)r=r.previous,i++;return(i=Math.max(i,0))*(n.rowHeight+n.rowSpacing)+n.topPadding+n.topInset-n.hideableTopHeight},spaceBelowCell:function(e,t){for(var n=e.layoutMetrics,r=t.handle,i=-1;r.isValid;)r=r.next,i++;return(i=Math.max(i,0))*(n.rowHeight+n.rowSpacing)+n.bottomPadding-n.hideableBottomHeight},topMostItem:function(e,t){return this.topMostAnchor(e,t,this._isCellReusable)},topMostLaidOutItem:function(e,t){return this.topMostAnchor(e,t,this._isCellReusableAndLaidOut)},topMostValidItem:function(e,t){return this.topMostAnchor(e,t,this._isCellReusableAndValid)},bottomMostItem:function(e,t){return this.bottomMostAnchor(e,t,this._isCellReusable)},bottomMostLaidOutItem:function(e,t){return this.bottomMostAnchor(e,t,this._isCellReusableAndLaidOut)},bottomMostValidItem:function(e,t){return this.bottomMostAnchor(e,t,this._isCellReusableAndValid)},topMostAnchor:function(e,t,n){var r=this,i=t.find((function(e){return r.isCellPreferredAnchor(e)&&n.call(r,e)}));return i||(i=t.find((function(e){return r.isCellAnchorable(e)&&n.call(r,e)}))),i},bottomMostAnchor:function(e,t,n){var r=this,i=t.findLast((function(e){return r.isCellPreferredAnchor(e)&&n.call(r,e)}));return i||(i=t.findLast((function(e){return r.isCellAnchorable(e)&&n.call(r,e)}))),i},_isCellReusable:function(e){return e.isReusable},_isCellReusableAndLaidOut:function(e){return e.isReusable&&e.isLaidOut},_isCellReusableAndValid:function(e){var t=e.handle;return t.isValid&&!t.wasRemoved},isCellAnchorable:function(e){return"item"===e.cellType},isCellPreferredAnchor:function(e){return this.isCellAnchorable(e)},computeSpaceAroundViewport:function(e){var t=e.spaceAroundViewport,n=e.visibleCells,r=0,i=0,a=e.layoutMetrics,o=e.viewportHeight,s=a.hideableTopHeight,c=a.hideableBottomHeight,l=this.topMostItem(e,n),u=0,d=0;l&&(d=this.topForCell(e,l),u=l.y);var h=this.bottomMostItem(e,n),f=0,p=0;h&&(p=this.spaceBelowCell(e,h),f=h.bottom);var g,m,v=Math.min(o,d+p+f-u);v<o&&a.minimumSizePosition===Tk.Bottom?(g=o-v,m=o):(g=0,m=v),r=d-u+g,i=p-(m-f);var y=v+s<=o;a.minimumSizePosition===Tk.Bottom&&y||(r+=s);var _=v+c<=o;return a.minimumSizePosition===Tk.Top&&_||(i+=c),t.beginBatchSet().set("left",0).set("right",0).set("top",r).set("bottom",i).end(),t}}),Rk=Dk.extend({topForCell:function(e,t){var n=e.layoutMetrics;return t.handle.position*(n.rowHeight+n.rowSpacing)+n.topPadding+n.topInset-n.hideableTopHeight},verticalScan:1024,horizontalScan:1024,estimateCellAtDistance:function(e,t,n,r,i){var a=e.layoutMetrics,o=n.handle,s=o.position,c=Math.round(i/(a.rowHeight+a.rowSpacing))+s;c<0&&(c=0);var l=t.length;c>=l&&(c=l-1),o=o.at(c);var u=this.cellForHandle(o).retain(),d=this.topForCell(e,n)-n.y;return this.layOutCellInDirection(e,u,1,this.topForCell(e,u)-d,1,this.leftForCell(e,u)),u.autorelease()},_findCellForItem:function(e,t,n,r){var i=n.find((function(e){return e.handle.value===r}));if(i)return i.retain();var a=t.indexOf(r);if(-1===a)return null;var o=t.startHandle.at(a);return this.cellForHandle(o).retain()},spaceBelowCell:function(e,t){var n=e.layoutMetrics,r=t.handle;return(r.maximumPosition-r.position)*(n.rowHeight+n.rowSpacing)+n.bottomPadding-n.hideableBottomHeight},staticMembers:{__QUALIFIED_CLASS_NAME__:"IndexedListLayoutDelegate"}}),Lk={mixinDependencies:[$.a,v.a],layoutMetrics:Object(v.g)({strong:!0}),cellsWillEnter:function(e){},cellDidEnter:Object(mL.c)(G.a),cellsDidEnter:function(e){},cellsWillMove:function(e){},cellDidMove:Object(mL.c)(G.a),cellsDidMove:function(e){},cellsWillExit:function(e){},cellDidExit:Object(mL.c)(G.a),cellsDidExit:function(e){}},kk={mixinDependencies:[v.a],mappedViews:Object(y.c)({strong:!0,defaultValue:Object(Me.b)(wk)}),activeViews:Object(y.c)({strong:!0,defaultValue:Object(Me.b)(Qd.a)}),viewsToCells:Object(y.c)({strong:!0,defaultValue:Object(Me.b)(Map)}),cellsToViews:Object(y.c)({strong:!0,defaultValue:Object(Me.b)(Map)}),pools:Object(y.c)({strong:!0,defaultValue:Object(Me.b)(Map)}),viewForCell:function(e,t){var n=this.cellsToViews.get(e);if(!n){if(!t)return null;n=this._getViewOfClass(t),this.cellsToViews.set(e,n),this.viewsToCells.set(n,e)}return n},cellForView:function(e){return this.viewsToCells.get(e)},releaseViewForItem:function(e){var t=this.cellsToViews.get(e);if(!t)throw new Xn.a("No view for cell");this._releaseView(t,e),this._poolView(t)},releaseView:function(e){var t=this.viewsToCells.get(e);if(!e)throw new Xn.a("No cell for view");this._releaseView(e,t),this._poolView(e)},_getViewOfClass:function(e){var t,n=this.pools.get(e);return n||(n=[],this.pools.set(e,n)),n.length>0?t=n.pop():(t=this.viewForViewClass(e),this.mappedViews.push(t)),t.isPooledInDom=!1,this.activeViews.push(t),t},viewForViewClass:function(e){return e.create()},_releaseView:function(e,t){this.activeViews.remove(e),this.cellsToViews.delete(t),this.viewsToCells.delete(e)},_poolView:function(e){this.pools.get(e.constructor).push(e),e.isPooledInDom=!0}},xk=oe.a.extend(kk,Lk,{itemViewClass:Object(v.g)(Ar.a),_oldItemViewClass:null,_clearItemViewCache:Object(v.h)("itemViewClass",(function(e){var t=this._oldItemViewClass;t&&this.replaceViewsOfClass(t),this._oldItemViewClass=e})),replaceViewsOfClass:function(e){for(var t=this.activeViews,n=t.length-1;n>=0;n--){var r=t.objectAt(n);if(Object(P.a)(r,e)){var i=this.viewsToCells.get(r);this.cellDidExit(i),this.cellDidEnter(i)}}},views:Object(v.g)(),dataProperty:"content",viewClassKeysByCellType:{item:"itemViewClass"},itemViewClassForItem:function(e){var t=e.cellType,n=this.viewClassKeysByCellType[t],r=this[n];if(!r)throw new Xn.a("ItemViewPresenter: no view class for cell type/view class key combination",{cellType:t,viewClassKey:n});return r},viewForViewClass:function(e){return e.create({layoutMetrics:this.bindingFor("layoutMetrics")})},cellDidEnter:function(e){var t=this.viewForCell(e,this.itemViewClassForItem(e));this.itemViewDidEnter(t,e),t.isAttached||this.views.push(t),t.layout=e},cellDidMove:function(e){var t=this.viewForCell(e);t&&this.itemViewDidMove(t,e)},cellDidExit:function(e){var t=this.viewForCell(e);this.itemViewDidExit(t,e),this.releaseViewForItem(e)},itemViewDidEnter:function(e,t){e.set(this.dataProperty,t.value)},itemViewDidMove:function(e,t){},itemViewDidExit:function(e,t){},staticMembers:{__QUALIFIED_CLASS_NAME__:"ItemViewPresenter"}}).extend({itemViewDidMove:function(e,t){var n=e.element.style,r=t.width,i=t.height,a=t.x,o=t.y;Object(ND.b)(n,a,o),n.width=r+"px",n.height=i+"px"},itemViewDidExit:function(e){var t=e.element.style;Object(ND.b)(t,-1e4,-1e4)},staticMembers:{__QUALIFIED_CLASS_NAME__:"AbsolutelyPositionedPresenter"}}),Fk=(n(1409),n(1414),n(1597),{headerHeight:Object(v.g)(30),footerHeight:Object(v.g)(30),hasFloatingHeaders:Object(v.g)(!0),hasHeaders:Object(v.g)(!0),hasFooters:Object(v.g)(!1),sectionSpacing:Object(v.g)(0),sectionTopPadding:Object(v.g)(0),sectionBottomPadding:Object(v.g)(0),sectionHeaderPadding:Object(v.g)(0),sectionFooterPadding:Object(v.g)(0)}),Pk=(Object(ut.a)(Fk),v.a,Object(ut.a)({header:"headerCellClass",footer:"footerCellClass"}),Object(ut.a)({header:"sizeForHeader",footer:"sizeForFooter"}),Object(S.b)("Justification",(function(e){e("Left"),e("Right"),e("Center"),e("Full")}))),jk=Object(S.b)("Justification",(function(e){e("leftToRight"),e("rightToLeft")})),Uk={columnWidth:Object(v.g)(100),columnSpacing:Object(v.g)(0),direction:Object(v.g)(jk.leftToRight),justification:Object(v.g)(Pk.Left),verticalAlignment:Object(v.g)(TD.Middle),sectionLeftPadding:Object(v.g)(0),sectionRightPadding:Object(v.g)(0)};Object(ut.a)(Uk),Object(y.c)({strong:!0}),Object(y.c)({get:function(){var e=this.row,t=this.sectionY-e.y;return this.bottom-t+(e.height-this.height)}}),Object(y.c)({get:function(){var e=this.row,t=this.sectionY-e.y;return this.y-t}}),Set,Map;var Bk=Object(S.b)("SelectionOperations",(function(e){e("TOGGLE"),e("EXTEND"),e("SET"),e("ADD"),e("REMOVE")})),Vk=Object(S.b)("SelectionDirections",(function(e){e("UP"),e("DOWN"),e("LEFT"),e("RIGHT")})),Wk=oe.a.extend(v.a,$.a,{collection:Object(v.g)(),delegate:Object(v.g)(),isEmptySelectionEnabled:Object(v.g)(!0),isMultipleSelectionEnabled:Object(v.g)(!0),isRangeSelectionAlwaysAdditive:Object(v.g)(!1),pivot:Object(v.g)({strong:!0,get:function(){return this._pivot},set:function(e){return this._pivot=e}}),extendedTo:Object(v.g)({strong:!0}),userPerformedSelectionOperation:function(e,t){this._userPerformedSelectionOperation(e,t),this.notifyPublicOfSelectionChange()},notifyPublicOfSelectionChange:function(){this.propertyChanged("selection"),this.selectionDidChange()},selectionDidChange:Object(v.i)(),_userPerformedSelectionOperation:function(e,t){var n=!1;switch(t){case Bk.TOGGLE:e&&(this.isItemAtHandleSelected(e)?this._userPerformedSelectionOperation(e,Bk.REMOVE):this._userPerformedSelectionOperation(e,Bk.ADD));break;case Bk.REMOVE:(this.isEmptySelectionEnabled||this.selection.length>1)&&e&&this.deselectItemAtHandle(e);break;case Bk.ADD:if(!this.isMultipleSelectionEnabled){this._userPerformedSelectionOperation(e,Bk.SET);break}e&&this.selectItemAtHandle(e)&&(this.pivot=e);break;case Bk.EXTEND:if(this.isMultipleSelectionEnabled){if(e instanceof Object){var r=this.pivot;r instanceof Object?(this._modifyCurrentRangeForSelectionExtensionOperation(e,r),n=!0):this._userPerformedSelectionOperation(e,Bk.ADD)}break}default:e&&e.retain("BaseSelectionController: holding on during clearSelection"),this.clearSelection(),e&&(this.selectItemAtHandle(e)&&(this.pivot=e),e.release("BaseSelectionController: holding on during clearSelection"))}this.extendedTo=n?e:void 0},_modifyCurrentRangeForSelectionExtensionOperation:function(e,t){var n=this.extendedTo,r=n&&n.position+e.position+t.position>=0,i=r?n.position-t.position:void 0,a=r?e.position-t.position:void 0;r&&Math.sign(i)===Math.sign(a)?Math.abs(i)>Math.abs(a)?this.isRangeSelectionAlwaysAdditive||this.deselectRange(n,e,!1):this.selectRange(n,e):(n instanceof Object&&!this.isRangeSelectionAlwaysAdditive&&(t.retain(this,"BaseSelectionController#_userPerformedSelectionOperation: reselecting extended selection range"),this.deselectRange(t,n),this.pivot=t,t.release(this,"BaseSelectionController#_userPerformedSelectionOperation: reselecting extended selection range")),this.selectRange(t,e))},userPerformedSelectionOperationInDirection:function(e,t){var n=this.getSelectableHandleInDirection(this.pivot,e);n&&(this.userPerformedSelectionOperation(n,t),this.pivot=n)},selectAll:function(){var e=this.collection.startHandle;if(e.isValid){this.clearSelection();var t=this.getSelectableHandleInOffsetDirection(e,1);if(t instanceof Object){this._userPerformedSelectionOperation(t,Bk.SET);var n=e.end;if(n!==e){var r="selectAll";n.retain(this,r).autorelease(this,r),this._userPerformedSelectionOperation(n,Bk.EXTEND)}this.notifyPublicOfSelectionChange()}}},selection:Object(mL.c)(Vt.a),selectedItem:Object(v.g)({dependencies:["selection"],get:Object.assign((function(){var e=this.selection;if(1!==e.length)return null;for(var t of e)return t}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);if(1!==i.length)return null;for(var a of i)return a}}),set:Object.assign((function(e){var t;null===e?t=null:(t=hg.create()).add(e),this.selection=t}),{__CW__setter:function(e,t,n,r,i){var a;null===e?a=null:(a=hg.create()).add(e),n[0+r]=a}}),writeDependencySetPathMap:[!1]}),updateSelectionForCollectionChange:Object(mL.c)(G.a),clearSelection:Object(mL.c)(G.a),isItemAtHandleSelected:Object(mL.c)(G.a),selectItemAtHandle:Object(mL.c)(G.a),deselectItemAtHandle:Object(mL.c)(G.a),selectRange:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._modifyRange(e,t,this.selectItemAtHandle,n)},deselectRange:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._modifyRange(e,t,this.deselectItemAtHandle,n)},_modifyRange:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.isValid&&t.isValid){var i="BaseSelectionController#_modifyRange: iterating handle",a="BaseSelectionController#_modifyRange: end handle",o=Math.sign(t.position-e.position),s=t.retain(this,a),c=e.retain(this,i);if((c!==s||r)&&n.call(this,c),0!==o)for(;c!==s&&c.isValid;){var l=c.atDistance(o).retain(this,i);c.release(this,i),((c=l)!==s||r)&&n.call(this,c)}s.release(this,a),c.release(this,i)}},getHandleInDirection:function(e,t){var n=this._getHandleOffsetForDirection(e,t);if(0!==n)return this._getHandleAtOffsetFromHandle(e,n)},findHandleInOffsetDirection:function(e,t,n){var r="findHandleInOffsetDirection";if(0!==t){for(var i=e.retain(this,r);i.isValid;){var a=this._getHandleAtOffsetFromHandle(i,t);if(a instanceof Object&&a.retain(this,r),!0===n.call(this,i,a))return a instanceof Object&&a.release(this,r),i.autorelease(this,r);if(i.release(this,r),!(a instanceof Object))return;i=a.retain(this,r)}i.release(this,r)}},findHandleInDirection:function(e,t,n){var r=this._getHandleOffsetForDirection(e,t);return this.findHandleInOffsetDirection(e,r,n)},getLastHandleInDirection:function(e,t){return this.findHandleInDirection(e,t,(function(e,t){return!(t instanceof Object)||!t.isValid}))},getSelectableHandleInDirection:function(e,t){return this.findHandleInDirection(e,t,this.getIsItemAtHandleSelectable)},getSelectableHandleInOffsetDirection:function(e,t){return this.findHandleInOffsetDirection(e,t,this.getIsItemAtHandleSelectable)},getIsItemAtHandleSelectable:function(e){return this.delegate.selectionControllerShouldSelectItem(this,e)&&!this.isItemAtHandleSelected(e)},_getHandleOffsetForDirection:function(e,t){var n=0;switch(t){case Vk.LEFT:case Vk.UP:n=-1;break;case Vk.RIGHT:case Vk.DOWN:n=1}var r=this.owner.layoutMetrics,i=(r&&r.direction)===jk.rightToLeft,a=t===Vk.LEFT||t===Vk.RIGHT;return i&&a&&(n*=-1),n},_getHandleAtOffsetFromHandle:function(e,t){var n="getHandleInDirection";return e.atDistance(t).retain(this,n).autorelease(this,n)},staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseSelectionController"}}),zk=n(1403),Hk={mixinDependencies:[$.a],itemsInsertedAtIndex:Object(mL.c)(G.a),itemsRemovedAtIndex:Object(mL.c)(G.a)},Gk=oe.a.extend(zk.a,{init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e._firstRange,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t?t.start:NaN;this._source=e,this._range=t,this._index=n,this.__s._$9_$init.call(this)},_source:null,_range:null,_index:NaN,isValid:Object(y.c)({readOnly:!0,get:function(){return!!this._range}}),encodedValue:Object(y.c)({readOnly:!0,get:function(){return this._index}}),moveToNext:function(){var e=this._index,t=this._range;e===t.end?e=(t=this._range=t.next)?t.start:NaN:e++,this._index=e},clone:function(){return this.constructor.create(this._source,this._range,this._index)},__superMap:{_$9_$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"IndexIterator"}}),$k=oe.a.extend(zk.a,{init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e._firstRange;this._source=e,this._range=t,this.__s._$P4$init.call(this)},_source:null,_range:null,isValid:Object(y.c)({readOnly:!0,get:function(){return!!this._range}}),value:Object(y.c)({readOnly:!0,get:function(){return this.encodedValue}}),encodedValue:Object(y.c)({readOnly:!0,get:function(){return this._range}}),moveToNext:function(){this.isValid&&(this._range=this._range.next)},clone:function(){return this.constructor.create(this._source,this._range)},__superMap:{_$P4$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"IndexRangeIterator"}}),Kk=oe.a.extend(v.a,og.a,Hk,zd.a,{init:function(){this._firstRange=null,this.__s._$mx$init.apply(this,arguments)},length:Object(v.g)({cacheable:!0,get:function(){for(var e=this._firstRange,t=0;e;)t+=e.end-e.start+1,e=e.next;return t}}),iteratorClass:Object(y.c)(Gk),toArray:function(e){for(var t,n,r,i=e||[],a=this._firstRange;a;){for(n=a.start,r=a.end,t=n;t<=r;t++)i.push(t);a=a.next}return i},clear:function(){for(var e=this._firstRange,t=null;e;)t=e.next,e.next=null,e.start=e.end=-1,e=t;this._firstRange=null,this.propertyChanged("length")},add:function(e,t){var n=this.encode(e),r=void 0!==t?this.encode(t):void 0;return this.encodedAdd(n,r)},encodedAdd:function(e,t){if(void 0===t)t=e;else if(t<e){var n=[t,e];e=n[0],t=n[1]}for(var r=this._firstRange,i=null,a=0;r&&!(r.end>=e);)i=r,r=r.next;if(r&&r.start<=t){var o=Math.min(r.start,e),s=Math.max(r.end,t);a+=r.start-o,a+=s-r.end,r.start=o,r.end=s}else r=new Qk(e,t,r||null),a=t-e+1,i?i.next=r:this._firstRange=r;i&&i.end>=r.start-1&&(a-=i.end-r.start+1,i.end=r.end,i.next=r.next,r=i);var c=r;for(r=r.next;r&&r.start<=c.end+1;)c.end=Math.max(c.end,r.end),a-=Math.min(t,r.end)-Math.max(e,r.start)+1,c.next=r.next,r=r.next;return this.propertyChanged("length"),a},remove:function(e,t){return this.encodedRemove(this.encode(e),t?this.encode(t):void 0)},encodedRemove:function(e,t){if(void 0===t)t=e;else if(t<e){var n=[t,e];e=n[0],t=n[1]}for(var r=this._firstRange,i=null,a=0;r&&!(r.start>t);){if(r.end>=e)if(r.start>=e&&r.end<=t)i?i.next=r.next:this._firstRange=r.next,a+=r.end-r.start+1;else{var o,s,c=r.start,l=Math.min(r.end,e-1),u=Math.max(r.start,t+1),d=r.end,h=r.next;a+=Math.min(t,r.end)-Math.max(e,r.start)+1,l-c>=0&&(o=new Qk(c,l,h),i?i.next=o:this._firstRange=o,i=r=o),d-u>=0&&(s=new Qk(u,d,h),i?i.next=s:this._firstRange=s,i=r=s)}i=r,r=r.next}return this.propertyChanged("length"),a},contains:function(e,t){return this.encodedContains(this.encode(e),t?this.encode(t):void 0)},encodedContains:function(e,t){void 0===t&&(t=e);for(var n=this._firstRange;n;){if(n.start<=e&&n.end>=t)return!0;n=n.next}return!1},containsSome:function(e,t){throw new Xn.a("not implemented")},rangeStart:function(e){var t=this._rangeForIndex(e);return t?t.start:-1},rangeEnd:function(e){var t=this._rangeForIndex(e);return t?t.end:-1},lastIndexBefore:function(e){for(var t,n=this._firstRange,r=-1,i=e-1;n&&!(n.start>i);)t=n,n=n.next;return t&&(r=Math.min(i,t.end)),r},firstIndexAfter:function(e){for(var t=this._firstRange,n=-1,r=e+1;t&&!(t.end>=r);)t=t.next;return t&&(n=Math.max(r,t.start)),n},itemsInsertedAtIndex:function(e,t){for(var n=this._firstRange;n;)this._updateRangeForInsertion(n,e,t),n=n.next;this.remove(e,e+t-1)},itemsRemovedAtIndex:function(e,t){for(var n=this._firstRange,r=null;n;)this._updateRangeForRemoval(n,e,t),n.end>=n.start?r&&r.end>=n.start-1&&(r.end=n.end,r.next=n.next):r?r.next=n.next:this._firstRange=n.next,r=n,n=n.next;this.propertyChanged("length")},_updateRangeForInsertion:function(e,t,n){e.start>=t&&(e.start+=n),e.end>=t&&(e.end+=n)},_updateRangeForRemoval:function(e,t,n){var r=t+n-1;e.start>=t&&(e.start<=r?e.start=t:e.start-=n),e.end>=t&&(e.end<=r?e.end=t-1:e.end-=n)},_rangeForIndex:function(e){for(var t=this._firstRange;t;){if(t.start<=e&&t.end>=e)return t;t=t.next}return null},ranges:function(){return $k.create(this)},union:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r of t)for(var i of r.ranges()){var a=i.start,o=i.end;this.add(a,o)}return this},difference:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(qk,this)},clone:function(){return Kk.create().union(this)},__superMap:{_$mx$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"IndexSet"}});function Qk(e,t,n){this.start=e,this.end=t,this.next=n}function qk(e,t){for(var n=e.ranges(),r=t.ranges(),i=function(){var e=null,t=null,n=null;return function(r){if(null===e)e=r;else{var i=e.value,a=r.value;if(e.oppositeOn&&(i+=1),r.oppositeOn&&(a-=1),i<=a){var o=new Qk(i,a,null);null===t?(n=o,t=o):t.end===o.start-1?t.end=o.end:(t.next=o,t=o)}e=null}return n}}(),a=null,o=!1,s=!1;n.isValid||r.isValid;){var c=Zk(n,o),l=Zk(r,s);null===c||null!==l&&(l<c||!(l>c)&&o)?(a=i({value:l,oppositeOn:o}),s&&r.moveToNext(),s=!s):(a=i({value:c,oppositeOn:s}),o&&n.moveToNext(),o=!o)}return function(e){var t=Kk.create();return t._firstRange=e,t}(a)}function Zk(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.isValid?t?e.value.end:e.value.start:null}var Yk=hg.create(),Xk=Wk.extend({_tempIndexSet:Object(y.c)({strong:!0,defaultValue:Object(Me.b)(Kk)}),selectedIndices:Object(v.g)({dependencies:[],writeDependencies:["selectionDidChange","pivot"],get:function(){return this._selectedIndices},set:Object.assign((function(e){var t=this.delegate,n=this.collection,r=this._selectedIndices;if(!n)return this.pivot=null,this._selectedIndices=Kk.create(),void this.selectionDidChange(!0);var i=r.length;1===i?t.selectionControllerDidDeselectItem(this,n.startHandle.at(r.firstIndexAfter(-1))):i>1&&t.selectionControllerDidSelectRange(this,r),e||(e=r);var a=this.getPath("collection.length");if(!this.isEmptySelectionEnabled&&a&&0===e.length){this._selectedIndices=Kk.create();for(var o=n.startHandle;o.isValid&&!this.selectItemAtHandle(o);o=o.next);e=this._selectedIndices}else if(!this.isMultipleSelectionEnabled&&e.length>1){for(var s of(this._selectedIndices=Kk.create(),e)){var c=n.startHandle.at(s).retain(this,"IndexedSelectionController#selectedIndices: enforcing isMultipleSelectionEnabled"),l=this.selectItemAtHandle(c);if(c.release(this,"IndexedSelectionController#selectedIndices: enforcing isMultipleSelectionEnabled"),l)break}e=this._selectedIndices}else this._selectedIndices=e=t.selectionControllerShouldSelectRange(this,e),t.selectionControllerDidSelectRange(this,e);var u=this._pivot,d=u;u&&e.contains(u.position)||e.length>0&&(d=n.startHandle.at(e.lastIndexBefore(1/0))),this.pivot=d,this.selectionDidChange(!0)}),{__CW__setter:function(e,t,n,r,i){var a=this.delegate,o=this.collection,s=this._selectedIndices;if(!o)return n[1+r]=null,this._selectedIndices=Kk.create(),void this.selectionDidChange(!0);var c=s.length;1===c?a.selectionControllerDidDeselectItem(this,o.startHandle.at(s.firstIndexAfter(-1))):c>1&&a.selectionControllerDidSelectRange(this,s),e||(e=s);var l=this.getPath("collection.length");if(!this.isEmptySelectionEnabled&&l&&0===e.length){this._selectedIndices=Kk.create();for(var u=o.startHandle;u.isValid&&!this.selectItemAtHandle(u);u=u.next);e=this._selectedIndices}else if(!this.isMultipleSelectionEnabled&&e.length>1){for(var d of(this._selectedIndices=Kk.create(),e)){var h=o.startHandle.at(d).retain(this,"IndexedSelectionController#selectedIndices: enforcing isMultipleSelectionEnabled"),f=this.selectItemAtHandle(h);if(h.release(this,"IndexedSelectionController#selectedIndices: enforcing isMultipleSelectionEnabled"),f)break}e=this._selectedIndices}else this._selectedIndices=e=a.selectionControllerShouldSelectRange(this,e),a.selectionControllerDidSelectRange(this,e);var p=this._pivot,g=p;p&&e.contains(p.position)||e.length>0&&(g=o.startHandle.at(e.lastIndexBefore(1/0))),n[1+r]=g,this.selectionDidChange(!0)}}),writeDependencySetPathMap:[,!1]}),_maintainFlags:Object(v.h)({inputs:["delegate","isEmptySelectionEnabled","isMultipleSelectionEnabled"],callback:function(e){e&&(this.selectedIndices=this._selectedIndices)}}),_selectedIndices:Object(y.c)({strong:!0,defaultValue:Object(Me.b)(Kk)}),updateSelectionForCollectionChange:function(e){var t=this._selectedIndices,n=e.itemsChanges,r=!1;if(n){if(t.length>0){Yk.serializer=this.collection.serializer;for(var i=n.length,a=0;a<i;a++){var o=n[a],s=o.index;if(-1!==t.firstIndexAfter(s)&&(r=!0),o.operation===Rd.b.REMOVE)t.contains(s)&&Yk.encodedAdd(o.encodedItem),t.itemsRemovedAtIndex(s,1);else if(t.itemsInsertedAtIndex(s,1),Yk.length>0){var c=o.encodedItem;Yk.encodedContains(c)&&(t.add(s),Yk.encodedRemove(c),r=!0)}}Yk.length&&(r=!0,Yk.clear())}}else if(e.collectionChanged)t.length&&(r=!0,t.clear());else if(e.everythingChanged&&t.length){var l=this.collection.length;t.clone().forEach((function(e){e>=l&&t.remove(e)})),r=!0}0!==t.length||this.isEmptySelectionEnabled||(r=!0),r&&(this.selectedIndices=t)},selection:Object(v.g)({strong:!0,dependencies:["selectedIndices"],set:Object.assign((function(e){var t=this.collection,n=Kk.create();if(e&&t)if(e.serializer===t.serializer&&e.createIterator)for(var r=e.createIterator();r.isValid;r.moveToNext())n.add(t.encodedIndexOf(r.encodedValue));else e.forEach((function(e){n.add(t.indexOf(e))}));return this.selectedIndices=n,e}),{__CW__setter:function(e,t,n,r,i){var a=this.collection,o=Kk.create();if(e&&a)if(e.serializer===a.serializer&&e.createIterator)for(var s=e.createIterator();s.isValid;s.moveToNext())o.add(a.encodedIndexOf(s.encodedValue));else e.forEach((function(e){o.add(a.indexOf(e))}));return n[0+r]=o,e}}),get:Object.assign((function(){var e=this.collection,t=hg.create();return e&&(t.serializer=e.serializer,this.selectedIndices.forEach((function(n){t.encodedAdd(e.encodedObjectAt(n))}))),t}),{__CW__getter:function(e,t,n,r){var i=this.collection,a=hg.create();return i&&(a.serializer=i.serializer,r.internalGet(this,t[0+n]).forEach((function(e){a.encodedAdd(i.encodedObjectAt(e))}))),a}}),writeDependencySetPathMap:[!1]}),isItemAtHandleSelected:function(e){return this.selectedIndices.contains(e.position)},selectItemAtHandle:function(e){var t=this.delegate;return!!t.selectionControllerShouldSelectItem(this,e)&&(this._selectedIndices.add(e.position),this.propertyChanged("selectedIndices"),t.selectionControllerDidSelectItem(this,e),!0)},deselectItemAtHandle:function(e){var t=this._selectedIndices,n=this.collection,r=e.position,i=null;if(t.remove(r),0!==t.length){var a=this.pivot;if(e===a){var o=t.firstIndexAfter(r),s=t.lastIndexBefore(r),c=(-1===o?1/0:o-r)<(-1===s?1/0:r-s)?o:s;i=n.startHandle.at(c)}else i=a}return this.pivot=i,this.propertyChanged("selectedIndices"),this.delegate.selectionControllerDidDeselectItem(this,e),!0},clearSelection:function(){var e=this.selectedIndices;this.delegate.selectionControllerDidDeselectRange(this,e),this.selectedIndices.clear(),this.pivot=null},selectRange:function(e,t){var n=e.position,r=t.position,i=this._selectedIndices,a=this._tempIndexSet;a.clear(),a.add(n,r);var o=this.delegate.selectionControllerShouldSelectRange(this,a);i.union(o),this.delegate.selectionControllerDidSelectRange(this,o)},getSelectableHandleInDirection:function(e,t){var n;switch(t){case Vk.UP:n=-1;break;case Vk.DOWN:n=1;break;default:return null}for(var r=e.retain(this,"getSelectableHandleInDirection: selectableItem");;){var i=r.atDistance(n).retain(this,"getSelectableHandleInDirection: selectableItem");if(r.release(this,"getSelectableHandleInDirection: selectableItem"),!i.isValid)return i.release(this,"getSelectableHandleInDirection: selectableItem"),null;if(r=i,this.delegate.selectionControllerShouldSelectItem(this,r)&&!this.isItemAtHandleSelected(r))return r.autorelease(this,"getSelectableHandleInDirection: selectableItem")}},staticMembers:{__QUALIFIED_CLASS_NAME__:"IndexedSelectionController"}}),Jk={mixinDependencies:[gk],selectionControllerShouldSelectRange:function(e,t){var n=Kk.create(),r=e.collection.handleProvider;for(var i of t.ranges())for(var a=i.start,o=i.end,s=a;s<=o;s++){var c=r.at(s);this.selectionControllerShouldSelectItem(e,c)&&n.add(s)}return n},selectionControllerDidSelectRange:yd.a,selectionControllerDidDeselectRange:yd.a},ex=S.b("Direction",{EAST:0,NORTHEAST:45,NORTH:90,NORTHWEST:135,WEST:180,SOUTHWEST:225,SOUTH:270,SOUTHEAST:315}),tx={mixinDependencies:[{mixinDependencies:[$.a],collectionViewDidScroll:G.a.define()}],collectionViewDidScrollInDirection:G.a.define()},nx={staticMembers:{measurementInstance:v.g({readOnly:!0,strong:!0,get:function(){var e=this.create(),t=e.element;return t.style.visibility="hidden",document.body.appendChild(t),e}})},naturalSize:v.g({cacheable:!1,readOnly:!0,get:function(){return oR.a(this.element)}})},rx={staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",styles:{position:"absolute"}}}}},ix=Ar.a.extend(rx,nx,{staticMembers:{template:{type:"ELEMENT",tagname:"div",classes:["cw-divider-item-view"]},className:"cw-ui-divider-item-view",__QUALIFIED_CLASS_NAME__:"DividerItemView"}}),ax=n(1437),ox=Ar.a.extend(rx,{staticMembers:{template:{type:"ELEMENT",tagname:"div",classes:["cw-item-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isDisabled",truevalue:"cw-disabled",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHighlighted",truevalue:"cw-highlighted",attributes:{}}]},className:"cw-ui-item-view",__QUALIFIED_CLASS_NAME__:"ItemView"},isDisabled:v.g({type:"boolean",defaultValue:!1}),isHighlighted:v.g({type:"boolean",defaultValue:!1})}),sx=ox.extend(nx,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"div",classes:["checkmark"]},{type:"ELEMENT",tagname:"div",name:"icon",classes:["icon",{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"iconClass",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"_displayTitle",attributes:{}}],classes:["title",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"titleIsAlwaysLTR",truevalue:"is-always-ltr",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"_keySequenceSymbols",attributes:{}}],classes:["key-sequence-symbols"]}],classes:["cw-menu-item-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasCheckmark",truevalue:"has-checkmark",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_hasIconClass",truevalue:"has-icon-class",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_hasKeySequence",truevalue:"has-key-sequence",attributes:{}}]}},className:"cw-ui-menu-item-view",__QUALIFIED_CLASS_NAME__:"MenuItemView"},_displayTitle:v.g({dependencies:["title","shouldEscape"],readOnly:!0,get:Object.assign((function(){return this.shouldEscape?ax.b(this.title):this.title}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[1+n])?ax.b(r.internalGet(this,t[0+n])):r.internalGet(this,t[0+n])}})}),titleIsAlwaysLTR:v.g({type:"boolean",defaultValue:!1}),hasCheckmark:v.g({type:"boolean",defaultValue:!1}),_hasKeySequence:v.g({dependencies:["keySequence"],readOnly:!0,get:Object.assign((function(){return!!this.keySequence}),{__CW__getter:function(e,t,n,r){return!!r.internalGet(this,t[0+n])}})}),_hasIconClass:v.g({dependencies:["iconClass"],readOnly:!0,get:Object.assign((function(){return!!this.iconClass}),{__CW__getter:function(e,t,n,r){return!!r.internalGet(this,t[0+n])}})}),iconClass:v.g(),keySequence:v.g(),_keySequenceSymbols:v.g({dependencies:["keySequence"],readOnly:!0,get:Object.assign((function(){var e=this.keySequence;return e?cx(e):null}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return i?cx(i):null}})}),title:v.g(),shouldEscape:v.g({type:"boolean",defaultValue:!0})});function cx(e){var t,n,r="",i=e.modifiers,a=e.keys;if(i)for(t=0,n=i.length;t<n;t++)r+=Sr.d(lx[i[t]])||i[t];if(a)for(t=0,n=a.length;t<n;t++)r+=Sr.d(lx[a[t]])||String.fromCharCode(a[t]);return r}var lx={},ux=nk.a;lx[ux.BACKSPACE]="\u232b",lx[ux.TAB]="\u21e5",lx[ux.SPACE]="Space",lx[ux.RETURN]="\u23ce",lx[ux.ENTER]="\u23ce",lx[ux.SHIFT]="\u21e7",lx[ux.CTRL]="\u2303",lx[ux.OPTION]="\u2325",lx[ux.ESC]="\u238b",lx[ux.LEFT]="\u2190",lx[ux.UP]="\u2191",lx[ux.RIGHT]="\u2192",lx[ux.DOWN]="\u2193",lx[ux.DELETE]="\u2326",lx[ux.HOME]="Home",lx[ux.END]="End",lx[ux.PAGEUP]="Page Up",lx[ux.PAGEDOWN]="Page Down",lx[ux.INSERT]="Insert",lx[ux.CMD]="\u2318";var dx={mixinDependencies:[$.a],action:v.g()},hx=($.a,$.a,ox.extend(nx,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"div",classes:["icon",{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"iconClass",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"_displayTitle",attributes:{escape:"false"}}],classes:["title"]},{type:"ELEMENT",tagname:"div",classes:["arrow"]}],classes:["cw-submenu-item-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_hasIconClass",truevalue:"has-icon-class",attributes:{}}]}},className:"cw-ui-submenu-item-view",__QUALIFIED_CLASS_NAME__:"SubmenuItemView"},_displayTitle:v.g({dependencies:["title","shouldEscape"],readOnly:!0,get:Object.assign((function(){return this.shouldEscape?ax.b(this.title):this.title}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[1+n])?ax.b(r.internalGet(this,t[0+n])):r.internalGet(this,t[0+n])}})}),_hasIconClass:v.g({dependencies:["iconClass"],readOnly:!0,get:function(){return!!this.icon}}),iconClass:v.g(),title:v.g(),shouldEscape:v.g({type:"boolean",defaultValue:!0})})),fx={_didEnter:function(){this.__s._$5n$_didEnter.apply(this,arguments),this.view.style.set("width",this.width).set("height",this.height).translateDevicePixels(this.x,this.y)},_didUpdate:function(){this.__s._$CO$_didUpdate.apply(this,arguments),this.view.style.set("width",this.width).set("height",this.height).translateDevicePixels(this.x,this.y)},_willExit:function(){this.view.style.translate(-1e3,-1e3),this.__s._$J9$_willExit.apply(this,arguments)},__superMap:{_$5n$_didEnter:"_didEnter",_$CO$_didUpdate:"_didUpdate",_$J9$_willExit:"_willExit"}},px=Ck.extend(v.a,{item:v.g(),key:y.c({set:function(e){return this.item=e?e.value:null,e}}),itemIsObservable:y.c({readOnly:!0,dependencies:["item"],get:Object.assign((function(){return P.a(this.item,v.a)}),{__CW__getter:function(e,t,n,r){return P.a(r.internalGet(this,t[0+n]),v.a)}})}),delegate:null,isDisabled:v.g({type:"boolean",defaultValue:!1}),view:y.c({weak:!0}),viewClass:y.c({defaultValue:Ar.a}),_didEnter:function(e){e.selectedItem?this.view.isHighlighted=e.selectedItem===this.item:e.selection?this.view.isHighlighted=e.selection.contains(this.handle):this.view.isHighlighted=!1,this.delegate&&this.delegate.viewItemDidEnter?this.delegate.viewItemDidEnter(e,this):this.didEnter(e)},_didUpdate:function(e){e.selectedItem?this.view.isHighlighted=e.selectedItem===this.item:e.selection?this.view.isHighlighted=e.selection.contains(this.handle):this.view.isHighlighted=!1,this.delegate&&this.delegate.viewItemDidUpdate?this.delegate.viewItemDidUpdate(e,this):this.didUpdate(e)},_shouldHighlight:function(e){return this.delegate&&this.delegate.viewItemShouldHighlight?this.delegate.viewItemShouldHighlight(this,e):this.shouldHighlight(e)},_willExit:function(e){this.delegate&&this.delegate.viewItemDidExit?this.delegate.viewItemWillExit(e,this):this.willExit(e)},didEnter:function(e){},didUpdate:function(e){},shouldHighlight:function(e){return!this.isDisabled},willExit:function(e){},staticMembers:{__QUALIFIED_CLASS_NAME__:"_ViewItem"}}),gx=px.extend(fx,dx,{didEnter:function(e){var t=this.item,n=this.itemIsObservable,r=this.view;n?(r.bind("hasCheckmark",t.bindingFor("hasCheckmark")),r.bind("iconClass",t.bindingFor("iconClass")),r.bind("isDisabled",t.bindingFor("isDisabled")),r.bind("keySequence",t.bindingFor("keySequence")),r.bind("title",t.bindingFor("title")),r.bind("titleIsAlwaysLTR",t.bindingFor("titleIsAlwaysLTR")),r.bind("shouldEscape",t.bindingFor("shouldEscape")),this.bind("action",t.bindingFor("action")),this.bind("isDisabled",t.bindingFor("isDisabled"))):(r.hasCheckmark=t.hasCheckmark,r.iconClass=t.iconClass,r.isDisabled=t.isDisabled,r.keySequence=t.keySequence,r.title=t.title,r.titleIsAlwaysLTR=t.titleIsAlwaysLTR,r.shouldEscape=t.shouldEscape,this.action=t.action,this.isDisabled=t.isDisabled)},willExit:function(e){if(this.itemIsObservable){var t=this.view;t.unbind("hasCheckmark"),t.unbind("iconClass"),t.unbind("isDisabled"),t.unbind("keySequence"),t.unbind("title"),t.unbind("titleIsAlwaysLTR"),t.unbind("shouldEscape"),this.unbind("action"),this.unbind("isDisabled")}},viewClass:sx,staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuViewItem"}}),mx=px.extend(fx,{didEnter:function(e){var t=this.item,n=this.itemIsObservable,r=this.view;n?(r.bind("iconClass",t.bindingFor("iconClass")),r.bind("isDisabled",t.bindingFor("isDisabled")),r.bind("title",t.bindingFor("title")),r.bind("titleIsAlwaysLTR",t.bindingFor("titleIsAlwaysLTR")),r.bind("shouldEscape",t.bindingFor("shouldEscape")),this.bind("isDisabled",t.bindingFor("isDisabled"))):(r.iconClass=t.iconClass,r.isDisabled=t.isDisabled,r.title=t.title,r.titleIsAlwaysLTR=t.titleIsAlwaysLTR,r.shouldEscape=t.shouldEscape,this.isDisabled=t.isDisabled)},willExit:function(e){if(this.itemIsObservable){var t=this.view;t.unbind("iconClass"),t.unbind("isDisabled"),t.unbind("title"),t.unbind("titleIsAlwaysLTR"),t.unbind("shouldEscape"),this.unbind("isDisabled")}},viewClass:hx,staticMembers:{__QUALIFIED_CLASS_NAME__:"SubmenuViewItem"}}),vx=px.extend(fx,{customHeight:12,shouldHighlight:function(e){return!1},viewClass:ix,staticMembers:{__QUALIFIED_CLASS_NAME__:"DividerViewItem"}}),yx=n(1417),_x=Ar.a.extend(yx.a,gN.a,{staticMembers:{className:"cw-ui-repeater-button",__QUALIFIED_CLASS_NAME__:"RepeaterButton"},period:v.g({defaultValue:16.66666667,didChange:function(e){this._timer.delay=e}}),_timer:y.c({strong:!0,defaultValue:Me.b(sL.a,{action:"callAction",timesToFire:1/0})}),pointerEnter:function(e){this._timer.start()},pointerLeave:function(e){this._timer.stop()}}).extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"div",classes:["arrow"]}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"directionClassname",attributes:{}}],styles:{display:{type:"STYLEOUTLET",bindingtype:"IFBINDING",name:"isDisabled",truevalue:"none",falsevalue:"flex",attributes:{},unit:null,property:"display"}}}},className:"cw-ui-scroll-repeater-button",__QUALIFIED_CLASS_NAME__:"ScrollRepeaterButton"},action:"scrollInDirection",direction:v.g({defaultValue:ex.NORTH}),directionClassname:v.g({readOnly:!0,dependencies:["direction"],get:Object.assign((function(){return"direction-"+this.direction.value+"\xb0"}),{__CW__getter:function(e,t,n,r){return"direction-"+r.internalGet(this,t[0+n]).value+"\xb0"}})}),period:v.g({defaultValue:60})}),bx=hk.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",name:"startScrollButton"},{type:"VIEWOUTLET",tagname:"view",name:"endScrollButton"}],classes:["cw-collection-view","cw-menu-list-view"],attributes:{tabindex:"1"}},itemViews:{type:"ELEMENT",tagname:"ext",classes:["collection-content"],styles:{position:"absolute",height:"100%",width:"100%"}}},className:"cw-ui-menu-list-view",__QUALIFIED_CLASS_NAME__:"MenuListView"},delegate:v.g({defaultValue:Me.b(oe.a.extend(tx,{collectionViewDidScroll:yd.a,collectionViewDidScrollInDirection:yd.a}))}),endScrollButton:v.g({defaultValue:Me.b(_x.extend({direction:ex.SOUTH})),downstreamBindings:{isDisabled:"(owner).endScrollButtonIsDisabled"}}),endScrollButtonIsDisabled:v.g({readOnly:!0,dependencies:["canScrollVertically","height","scrollMaxY"],get:Object.assign((function(){return!this.canScrollVertically||this.scrollMaxY===this.height}),{__CW__getter:function(e,t,n,r){return!r.internalGet(this,t[0+n])||r.internalGet(this,t[2+n])===r.internalGet(this,t[1+n])}})}),startScrollButton:v.g({defaultValue:Me.b(_x.extend({direction:ex.NORTH})),downstreamBindings:{isDisabled:"(owner).startScrollButtonIsDisabled"}}),startScrollButtonIsDisabled:v.g({readOnly:!0,dependencies:["canScrollVertically","scrollHeight","scrollMaxY"],get:Object.assign((function(){return!this.canScrollVertically||this.scrollHeight===this.scrollMaxY}),{__CW__getter:function(e,t,n,r){return!r.internalGet(this,t[0+n])||r.internalGet(this,t[1+n])===r.internalGet(this,t[2+n])}})}),init:function(){this.__s._$rC$init.apply(this,arguments),this.startScrollButton.target=this,this.endScrollButton.target=this,this.scrollInDirection=wx},__superMap:{_$rC$init:"init"}}),wx=function(e){this.delegate.collectionViewDidScrollInDirection(this,e.direction)},Sx=fk.extend(tx,mk,{mixinDependencies:[CL.a,vk],_minimumWidth:v.g(20),viewItemMappedClass:v.g({defaultValue:px}),desiredSize:v.g({strong:!0,dependencies:["isAttached","collection","collection.length","shouldMeasure","viewItemMappedClass","collection.contentsDidChangeUntracked","desiredWidth","maximumWidth","_minimumWidth","layoutMetrics.rowSpacing","layoutMetrics.rowHeight","layoutMetrics.topPadding","layoutMetrics.bottomPadding","layoutDelegate","layoutController"],readOnly:!0,get:Object.assign((function(){var e=this.desiredWidth,t=0,n=this.maximumWidth,r=this._minimumWidth,i=this.layoutMetrics;i&&(t+=i.topPadding+i.bottomPadding);var a=this.collection;if(a){var o=a.length;if(i&&(t+=i.rowSpacing*o-1),this.shouldMeasure&&this.isAttached){var s=this.view.style,c=s.getInline("position"),l=s.getInline("width"),u=s.getInline("height");s.set({position:"absolute",width:globalThis.innerWidth+"px",height:globalThis.innerHeight+"px"});for(var d=a.startHandle;d.isValid;d=d.next){var h=this.layoutDelegate.cellForHandle(d,"item");e=Math.max(e,Math.ceil(this._naturalWidthForMenuItem(h))),t+=this.layoutDelegate.sizeForItem(this.layoutController,h).height}s.set({position:c,width:l,height:u})}else i&&(t+=i.rowHeight*o)}return e=Math.min(Math.max(e,r),n),ID.a.create(e,t)}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[6+n]),a=0,o=r.internalGet(this,t[7+n]),s=r.internalGet(this,t[8+n]),c=this.layoutMetrics;c&&(a+=c.topPadding+c.bottomPadding);var l=r.internalGet(this,t[1+n]);if(l){var u=l.length;if(c&&(a+=c.rowSpacing*u-1),r.internalGet(this,t[3+n])&&r.internalGet(this,t[0+n])){var d=this.view.style,h=d.getInline("position"),f=d.getInline("width"),p=d.getInline("height");d.set({position:"absolute",width:globalThis.innerWidth+"px",height:globalThis.innerHeight+"px"});for(var g=l.startHandle;g.isValid;g=g.next){var m=r.internalGet(this,t[13+n]).cellForHandle(g,"item");i=Math.max(i,Math.ceil(this._naturalWidthForMenuItem(m))),a+=r.internalGet(this,t[13+n]).sizeForItem(r.internalGet(this,t[14+n]),m).height}d.set({position:h,width:f,height:p})}else c&&(a+=c.rowHeight*u)}return i=Math.min(Math.max(i,s),o),ID.a.create(i,a)}})}),desiredWidth:v.g(0),shouldMeasure:v.g(!0),menuDelegate:v.g(),layoutDelegate:v.g({defaultValue:Me.b(Rk.extend({menuDelegate:v.g(),sizeForItem:function(e,t){return ID.a.create(t.customWidth||e.viewportWidth,t.customHeight||e.layoutMetrics.rowHeight)},createCellFor:function(e,t){if("item"!==t)return this.__s._$1k6$createCellFor.apply(this,arguments);var n=this.menuDelegate;return(n.itemIsDivider(e)?vx:n.itemIsSubmenu(e)?mx:this.cellClass).create(this)},__superMap:{_$1k6$createCellFor:"createCellFor"}})),downstreamBindings:{cellClass:"(owner).viewItemMappedClass",menuDelegate:"(owner).menuDelegate"}}),presenter:v.g({defaultValue:Me.b(xk.extend({itemViewClassForItem:function(e){return"item"!==e.cellType?this.__s._$1wY$itemViewClassForItem.apply(this,arguments):e.viewClass},cellDidExit:function(e){e._willExit(this.owner),this.__s._$1yn$cellDidExit.apply(this,arguments),e.view=null},itemViewDidEnter:function(e,t){t.view=e,this.__s._$1_y$itemViewDidEnter.apply(this,arguments),t._didEnter(this.owner)},cellDidMove:function(e){this.__s._$21d$cellDidMove.apply(this,arguments),e._didUpdate(this.owner)},viewForViewClass:function(){var e=this.__s._$23X$viewForViewClass.apply(this,arguments),t=bk.create({event:"menuWasTapped",delegate:this.owner});return e.addGestureRecognizer(t),e},__superMap:{_$1wY$itemViewClassForItem:"itemViewClassForItem",_$1yn$cellDidExit:"cellDidExit",_$1_y$itemViewDidEnter:"itemViewDidEnter",_$21d$cellDidMove:"cellDidMove",_$23X$viewForViewClass:"viewForViewClass"}}))}),maximumWidth:v.g(1/0),selectionController:Me.b(Xk),selectionDelegate:Me.b(oe.a.extend(Jk)),isMultipleSelectionEnabled:!1,isEmptySelectionEnabled:!0,viewClass:bx,_naturalWidthForMenuItem:function(e){var t,n=e.view,r=!1;return n||(n=e.viewClass.measurementInstance)&&(n.isAttached||(this.presenter.views.push(n),n.element.style.visibility="hidden"),e.view=n,e._didEnter(this),r=!0),t=n&&n.isAttached?n.naturalSize.width:0,r&&(e._willExit(this),e.view=null),t},collectionViewDidScroll:function(e,t,n){this.scrollBy(t,n)},collectionViewDidScrollInDirection:function(e,t){switch(t){case ex.NORTH:this.moveAnItemBack();break;case ex.SOUTH:this.moveAnItemForward();break;default:Xn.b("CW.UI.MenuListViewController does not support scrolling in the direction, `%{direction}`.",{direction:t})}},moveAnItemBack:function(){var e=this.layoutController.visibleCells.objectAt(0),t=this.layoutDelegate.positionNextCell(this.layoutController,e,-1);t?this.scrollBy(0,t.height):this.scrollBy(0,e.height),this.update()},moveAnItemForward:function(){var e=this.layoutController.visibleCells.lastItem,t=this.layoutDelegate.positionNextCell(this.layoutController,e,1);t?this.scrollBy(0,-t.height):this.scrollBy(0,-e.height),this.update()},selectItem:function(e){this.selectedItem=e},staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuListViewController"}}),Ex=n(1353),Ix=n(1598),Cx=n(1358),Ox=Ar.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"popoverView"}],classes:["cw-modal"]}},className:"cw-ui-modal-arrow-popover-view",__QUALIFIED_CLASS_NAME__:"ModalArrowPopoverView"},layout:Object(v.g)(),anchorLayout:Object(v.g)(),arrowLength:Object(v.g)(),arrowWidth:Object(v.g)(),arrowAlignment:Object(v.g)(),verticalAlignment:Object(v.g)(),horizontalAlignment:Object(v.g)(),contentView:Object(v.g)(),popoverView:Object(v.g)({defaultValue:Object(Me.b)(RD),type:RD,downstreamBindings:{layout:"(owner).layout",anchorLayout:"(owner).anchorLayout",arrowLength:"(owner).arrowLength",arrowWidth:"(owner).arrowWidth",contentView:"(owner).contentView",arrowAlignment:"(owner).arrowAlignment",verticalAlignment:"(owner).verticalAlignment",horizontalAlignment:"(owner).horizontalAlignment"}}),pointerDown:function(e){var t=e.targetView.element;this.popoverView.element.contains(t)?this.sendEvent("modalContentWasClicked",this):this.sendEvent("modalBackgroundWasClicked",this)}}),Tx=n(1374),Ax={menuDidDismissWithHighlightedItem:function(e,t){},shouldHighlightItem:function(e,t){var n=e.contentController.layoutDelegate.cellForHandle(t);return!n._shouldHighlight||n._shouldHighlight(this)},itemWasSelected:function(e,t){if(t.isValid){var n=t.value,r=n.action;n.isDisabled||r&&(e.sendEvent(r,n)||Tx.a(e.target,r,n))}},shouldDismissWithHighlightedItem:function(e,t){return!0},itemIsSubmenu:function(e){if(!e)return!1;var t=e.value;return!!t&&null!=t.items},itemIsDivider:function(e){return null==e.value.action}},Nx=oe.a.extend(v.a,Jk,{menuDelegate:v.g(),menu:v.g(),selectionControllerShouldSelectItem:function(e,t){var n=this.menu;return this.menuDelegate.shouldHighlightItem(n,t)},staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuSelectionDelegate"}}),Mx=ZD.extend({allowedLayouts:Me.b([QD,GD,$D,KD]),arrowLength:0,arrowWidth:0,spaceInset:20,contentController:v.g({defaultValue:function(){return Sx.create({viewItemMappedClass:this.__CW__listViewItemMappedClass,menuDelegate:this.__CW__delegate})},downstreamBindings:{collection:"(owner).listCollection",isEmptySelectionEnabled:"(owner).listIsEmptySelectionEnabled",viewItemMappedClass:"(owner).listViewItemMappedClass",selectionDelegate:"(owner)._selectionDelegate","layoutMetrics.bottomPadding":"(owner).listLayoutBottomPadding","layoutMetrics.rowHeight":"(owner).listLayoutRowHeight","layoutMetrics.rowSpacing":"(owner).listLayoutRowSpacing","layoutMetrics.topPadding":"(owner).listLayoutTopPadding",shouldMeasure:"(owner).shouldMeasure",menuDelegate:"(owner).delegate"}}),_selectionDelegate:v.g({defaultValue:Me.b(Nx),downstreamBindings:{menu:"(owner)",menuDelegate:"(owner).delegate"}}),shouldMeasure:v.g(!0),delegate:v.g({defaultValue:Me.b(oe.a.extend(Ax))}),desiredSize:v.g(_.c("contentController.desiredSize")),hasOverlay:y.c(!0),listCollection:v.g({strong:!0,defaultValue:Me.b(Rd.b)}),listIsEmptySelectionEnabled:v.g(!0),listLayoutBottomPadding:v.g({readOnly:!0,defaultValue:5}),listLayoutRowHeight:v.g({defaultValue:19}),listLayoutRowSpacing:v.g({defaultValue:0}),listLayoutTopPadding:v.g({readOnly:!0,defaultValue:5}),listViewItemMappedClass:v.g({defaultValue:gx}),target:y.c(Ex.a),_matchedLayoutObserver:v.f("matchedLayout.layout.width","matchedLayout.layout.height",(function(e,t){this.contentController.measureViewport()})),hide:function(){this._submenu&&this._submenu.hide(),this.__s._$26_$hide.apply(this,arguments)},keyDown:function(e){switch(e.which){case nk.a.DOWN:this.highlightNextItem();break;case nk.a.UP:this.highlightPreviousItem();break;case nk.a.LEFT:case nk.a.RIGHT:break;case nk.a.ENTER:this._activateWithItem(this.highlightedItem);break;default:return!1}},_activateWithItem:function(e){var t=this.listCollection,n=t.startHandle.at(-1);e&&(n=t.startHandle.at(t.indexOf(e))),this.delegate.shouldDismissWithHighlightedItem(this,e)&&(this.delegate.menuDidDismissWithHighlightedItem(this,e),this.hide()),this.delegate.itemWasSelected(this,n)},highlightNextItem:function(){var e=this.contentController,t=e.selectionController,n=this.listCollection.startHandle.at(t.selectedIndices.firstIndexAfter(-1)),r=e.selectionController.getSelectableHandleInDirection(n,Vk.DOWN);r&&(e.userPerformedSelectionOperation(r),e.scrollToItem(r.value))},highlightPreviousItem:function(){var e=this.contentController,t=e.selectionController,n=this.listCollection,r=t.selectedIndices.firstIndexAfter(-1),i=n.startHandle.at(-1===r?n.length+1:r),a=e.selectionController.getSelectableHandleInDirection(i,Vk.UP);a&&(e.userPerformedSelectionOperation(a),e.scrollToItem(a.value))},highlightedItem:v.g(_.c("contentController.selectedItem")),_flashViewItem:function(e){this._isDismissing=!0,this.highlightedItem===e&&(setTimeout(function(){this._targetViewItem=null}.bind(this)),setTimeout(function(){this._targetViewItem=e}.bind(this),100),setTimeout(function(){this._targetViewItem=null}.bind(this),200),setTimeout(function(){this.hide(),this._isDismissing=!1}.bind(this),400))},submenuDidFocus:function(){clearTimeout(this._targetingSubmenuTimeoutId),this._targetingSubmenuTimeoutId=null},_submenu:v.g(),_submenuRect:v.g({dependencies:["_submenu"],readOnly:!0,get:Object.assign((function(){return this._submenu?this._submenu.matchedLayout.layout:null}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])?r.internalGet(this,t[0+n]).matchedLayout.layout:null}})}),_lastPoint:v.g({defaultValue:Me.b(Object,{x:0,y:0})}),_currentPoint:v.g({defaultValue:Me.b(Object,{x:0,y:0})}),_isSeekingSubmenu:v.g({dependencies:["_lastPoint","_currentPoint","_submenuRect"],readOnly:!0,get:Object.assign((function(){return!!this._submenuRect&&this._isSeriesApproachingRect(this._lastPoint,this._currentPoint,this._submenuRect)}),{__CW__getter:function(e,t,n,r){return!!r.internalGet(this,t[2+n])&&this._isSeriesApproachingRect(r.internalGet(this,t[0+n]),r.internalGet(this,t[1+n]),r.internalGet(this,t[2+n]))}})}),_isSeekingSubmenuObs:v.h("_isSeekingSubmenu",(function(e){!this._isSeekingSubmenu&&this._targetingSubmenuTimeoutId&&(clearTimeout(this._targetingSubmenuTimeoutId),this._targetingSubmenuTimeoutId=null)})),_isSeriesApproachingRect:function(e,t,n){var r,i;if(r=(n.y-e.y)/(n.x-e.x),i=(n.y-t.y)/(n.x-t.x)<r){var a=n.y+n.height;r=(a-e.y)/(n.x-e.x),i=(a-t.y)/(n.x-t.x)>r}return i},isSubmenuItem:function(e){return e&&!!e.items},isDividerItem:function(e){return null==e.action&&null==e.items},_menuItemForEvent:function(e){var t=Ix.c(e),n=this.contentController.presenter.cellForView(t);if(n)return n.handle.value},pointerMove:function(e){if(this._isDismissing)return!1;if(e.clientX!==this._currentPoint.x||e.clientY!==this._currentPoint.y){var t=Cx.a.begin();t.set(this,"_lastPoint",{x:this._currentPoint.x,y:this._currentPoint.y}),t.set(this,"_currentPoint",{x:e.clientX,y:e.clientY}),t.end()}var n=this._menuItemForEvent(e),r=this.highlightedItem;n!==r&&(this.isSubmenuItem(r)&&(this._targetingSubmenuTimeoutId=setTimeout(function(){this.removeSubmenuForItem()}.bind(this),Lx),this._hadSubmenu=!0),this.highlightedItem=n)},pointerUp:function(e){if(this._isDismissing)return!1;var t=this.highlightedItem;if(t)return t===this._menuItemForEvent(e)&&(this._activateWithItem(t),!0);this._activateWithItem()},menuWasTapped:function(e){var t=e.view,n=e.state;if(this._isDismissing)return!1;if(n===OL.b.Ended){var r=this.contentController.presenter.cellForView(t);if(r){var i=r.handle.value;this._activateWithItem(i)}}},presentSubmenuForItemWithAnchor:function(e,t){var n=kx.create({allowedLayouts:[GD,$D],listCollection:e.items,parentMenu:this,target:this.target});n.show(t),this._submenu=n},removeSubmenuForItem:function(){this._submenu&&(this._submenu.hide(),this._submenu=null)},viewClass:v.g({readOnly:!0,get:function(){return this.hasOverlay?Dx:Rx}}),__superMap:{_$26_$hide:"hide"},staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuViewController"}}),Dx=Ox.extend({popoverView:ut.a({additionalClassNames:["cw-menu-view"]}),staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuOverlayPopoverView"}}),Rx=RD.extend({additionalClassNames:["cw-menu-view"],staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuPopoverView"}}),Lx=1e3,kx=Mx.extend({parentMenu:v.g(),pointerUp:function(e){if(!this._isDismissing){var t=e.targetView,n=t.viewController.item;!t.isDisabled&&n&&n.action?(this._flashItem(n),this.sendEvent.call(this.parentMenu,n.action,n)||this.sendEvent.call(this.parentMenu.target,n.action,n)):this.parentMenu.hide()}},viewClass:Rx.extend({pointerEnter:function(e){this.viewController.parentMenu&&this.viewController.parentMenu.submenuDidFocus()}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"SubmenuViewController"}}),xx=px.extend(fx,{viewClass:Ar.a.extend(nx,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"primaryLabel",attributes:{}}],classes:["primary"]},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"category",attributes:{}}],classes:["category"]},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"secondaryLabel",attributes:{}}],classes:["secondary"]}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHighlighted",truevalue:"cw-highlighted",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasBorder",truevalue:"has-border",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasCategory",truevalue:"has-category",falsevalue:"no-category",attributes:{}}]}},additionalClassNames:["autocomplete-menu-item"],isHighlighted:v.g(!1),hasBorder:v.g(!0),hasCategory:v.g({readOnly:!0,dependencies:["category"],get:Object.assign((function(){return yt.a(this.category)}),{__CW__getter:function(e,t,n,r){return yt.a(r.internalGet(this,t[0+n]))}})})}),didEnter:function(e){this.view.bind("primaryLabel",this.item.bindingFor("primaryLabel")),this.view.bind("category",this.item.bindingFor("localizedCategory")),this.view.bind("secondaryLabel",this.item.bindingFor("secondaryLabel"))},didUpdate:function(e){},willExit:function(){this.view.unbind("primaryLabel"),this.view.unbind("category"),this.view.unbind("secondaryLabel")},staticMembers:{__QUALIFIED_CLASS_NAME__:"AutocompleteMenuViewItem"}}),Fx=S.b("AutocompleteMenuLayout",{SINGLE_LINE:"SINGLE_LINE",DOUBLE_LINE:"DOUBLE_LINE"}),Px=Sx.extend({viewClass:bx.extend({mixinDependencies:[JL]}),staticMembers:{__QUALIFIED_CLASS_NAME__:"AutocompleteMenuListViewController"}}),jx=Mx.extend({contentController:v.g({defaultValue:Me.b(Px),downstreamBindings:{desiredWidth:"(owner).width"}}),layout:v.g(Fx.DOUBLE_LINE),isDoubleLineLayout:v.g({readOnly:!0,dependencies:["layout"],get:Object.assign((function(){return this.layout===Fx.DOUBLE_LINE}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===Fx.DOUBLE_LINE}})}),singleLineLayoutHeight:v.g(35),doubleLineLayoutHeight:v.g(47),listLayoutRowHeight:v.g({readOnly:!0,dependencies:["singleLineLayoutHeight","doubleLineLayoutHeight","isDoubleLineLayout"],get:Object.assign((function(){return this.isDoubleLineLayout?this.doubleLineLayoutHeight:this.singleLineLayoutHeight}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[2+n])?r.internalGet(this,t[1+n]):r.internalGet(this,t[0+n])}})}),listViewItemMappedClass:xx,additionalClassNames:v.g({readOnly:!0,dependencies:["isDoubleLineLayout"],get:Object.assign((function(){return this.isDoubleLineLayout?["cw-autocomplete-menu","double-line"]:["cw-autocomplete-menu","single-line"]}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])?["cw-autocomplete-menu","double-line"]:["cw-autocomplete-menu","single-line"]}})}),view:v.g({downstreamBindings:{additionalClassNames:"(owner).additionalClassNames"}}),listLayoutTopPadding:3,listLayoutBottomPadding:3,hasOverlay:!1,isFocusablePane:!1,listLayoutRowSpacing:0,width:v.g(0),shouldMeasure:!1,_listViewItemsDidChange:v.h("listCollection","listCollection.contentsDidChange",(function(e){if(e&&e.length>0){var t=this._mostRecentHighlightIndex;(void 0===t||t<=0)&&this.highlightNextItem()}})),_highlightedItemDidChange:v.h("highlightedItem",(function(){var e=this.highlightedItem;if(e){var t=this.listCollection;t&&(this._mostRecentHighlightIndex=t.indexOf(e))}})),staticMembers:{__QUALIFIED_CLASS_NAME__:"AutocompleteMenu"}}),Ux=n(1386),Bx=Ar.a.extend(gN.a,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"input",classes:["cw-text-field",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isFocused",truevalue:"cw-focused",attributes:{}}],attributes:{type:{key:"type",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"type",attributes:{},attribute:"type"},type:"ATTRIBUTE"},maxlength:{key:"maxlength",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"maxLength",attributes:{},attribute:"maxlength"},type:"ATTRIBUTE"},autocomplete:{key:"autocomplete",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"autocomplete",attributes:{},attribute:"autocomplete"},type:"ATTRIBUTE"},autocorrect:{key:"autocorrect",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"autocorrect",attributes:{},attribute:"autocorrect"},type:"ATTRIBUTE"},autocapitalize:{key:"autocapitalize",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"autocapitalize",attributes:{},attribute:"autocapitalize"},type:"ATTRIBUTE"},spellcheck:{key:"spellcheck",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"spellcheck",attributes:{},attribute:"spellcheck"},type:"ATTRIBUTE"},placeholder:{key:"placeholder",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"placeholder",attributes:{},attribute:"placeholder"},type:"ATTRIBUTE"},"aria-invalid":{key:"aria-invalid",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"hasInvalidValue",attributes:{},attribute:"aria-invalid"},type:"ATTRIBUTE"},id:{key:"id",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"id",attributes:{},attribute:"id"},type:"ATTRIBUTE"}}}},className:"cw-ui-views-text-field",__QUALIFIED_CLASS_NAME__:"TextField"},value:Object(v.g)(""),type:"text",placeholder:void 0,action:"submit",maxLength:null,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"default",id:null,needsDefaultTouch:!0,hasInvalidValue:!1,isEditable:Object(v.g)(!0),isFocusable:Object(v.g)({readOnly:!0,dependencies:["isDisabled"],get:Object.assign((function(){return!this.isDisabled}),{__CW__getter:function(e,t,n,r){return!r.internalGet(this,t[0+n])}})}),defaultFocusElement:Object(_.c)("element"),selection:Object(v.g)({cacheable:!1,dependencies:["element"],writeDependencies:["_selection"],get:function(){var e,t,n,r=this.controlElement,i=null;if(""===r.value?e=t=0:("selectionStart"in r&&(e=r.selectionStart),"selectionEnd"in r&&(t=r.selectionEnd)),null===e||null===t){var a=document.selection;if(a){var o=a.type;!o||"None"!==o&&"Text"!==o||(n=(i=a.createRange()).text.length,t=(e=Math.abs(i.moveStart("character",0-(r.value.length+1))))+n)}}return n=-1===e||-1===t?-1:t-e,Object.freeze({start:e,end:t,length:n,value:r.value.slice(e,t)})},set:Object.assign((function(e){this.set("_selection",e)}),{__CW__setter:function(e,t,n,r,i){n[0+r]=e}}),writeDependencySetPathMap:[!1]}),select:function(){var e=this.controlElement;e&&e.select()},isDefaultTabbingEnabled:!0,allowedCharacters:void 0,isIMEInputActive:Object(v.g)(!1),didFocus:function(){this.controlElement.focus()},didBlur:function(){this.sendEvent("didEndEditing",this)},input:function(e){this._elementValueDidChange(),this._compositionDidEnd=!1},keyDown:function(e){if(e.which===nk.a.RETURN){this.sendEvent("didEndEditing",this);var t=this.action,n=!1;return t&&(n=this.sendEvent(t,this)),this.select(),n}return!1},compositionStart:function(e){this.set("isIMEInputActive",!0)},compositionEnd:function(e){this._compositionDidEnd=!0,this.set("isIMEInputActive",!1)},_compositionDidEnd:!1,handleSelectionChange:function(e){this.propertyChanged("selection")},init:function(){this.__s._$3C3$init.apply(this,arguments);var e=this.controlElement;this.isDefaultTabbingEnabled||e.setAttribute("tabindex","-1");var t=this.placeholder;t&&e.setAttribute("aria-label",t);var n=this.allowedCharacters;if(n&&!(n instanceof RegExp))throw new Xn.a("Must use only RegExp for TextField character validation.")},_isPlaceholderShowing:Object(v.g)({dependencies:["value","isIMEInputActive"],readOnly:!0,get:Object.assign((function(){if(!this.isIMEInputActive){var e=this.value;if(!Object(yt.a)(e)||""===e)return!0}return!1}),{__CW__getter:function(e,t,n,r){if(!r.internalGet(this,t[1+n])){var i=r.internalGet(this,t[0+n]);if(!Object(yt.a)(i)||""===i)return!0}return!1}})}),_valueDidChange:Object(v.h)("value",(function(e){var t=this.controlElement;t.value!==e&&(t.value=Object(yt.a)(e)?e:"")})),_elementValueDidChange:function(){var e=this.controlElement,t=this.value,n=e.value;(this._compositionDidEnd||t!==n)&&(this.isIMEInputActive?this.value=n:this._isInputAllowed(n)?this.set("value",n):e.value=t||"")},_isInputAllowed:function(e){var t=this.allowedCharacters;return!t||!e||t.test(e)},_selectionEventElement:null,_attachmentDidChange:Object(v.f)("element","isAttached",(function(e,t){var n=this._selectionEventElement;!n||n===e&&t||(n.removeEventListener("select",this._handleSelectionChangeBound),this._selectionEventElement=null),e&&t&&(this._selectionEventElement=e,e.addEventListener("select",this._handleSelectionChangeBound))})),_handleSelectionChangeBound:Object(y.c)((function(){return this.handleSelectionChange.bind(this)})),_selection:Object(v.g)(),_selectionDidChange:Object(v.h)("_selection",(function(e){if(e){var t=this.controlElement,n=e.start,r=e.end;this.focus();var i=null;if(t.setSelectionRange)t.setSelectionRange(n,r);else{(i=t.createTextRange()).move("character",n),i.moveEnd("character",r-n);try{i.select()}catch(a){return null}}}})),_statusDidChange:Object(v.h)("isDisabled","isEditable",(function(e,t){var n=this.controlElement;e?n.setAttribute("disabled","disabled"):n.removeAttribute("disabled"),t?n.removeAttribute("readonly"):n.setAttribute("readonly","readonly")})),__superMap:{_$3C3$init:"init"}}),Vx=Bx.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"span",name:"testMeasurer",styles:{position:"absolute",left:"-1000px",top:"-1000px",visibility:"hidden","white-space":"pre"}}],styles:{width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"width",attributes:{signal:"widthDidRender"},unit:"px",property:"width"}}}},__QUALIFIED_CLASS_NAME__:"ResizingTextField"},width:v.g({readOnly:!0,dependencies:["value","isAttached"],get:Object.assign((function(){var e=this.testMeasurer;e.innerText=this.value;var t=e.offsetWidth;return e.innerText="",t}),{__CW__getter:function(e,t,n,r){var i=this.testMeasurer;i.innerText=r.internalGet(this,t[0+n]);var a=i.offsetWidth;return i.innerText="",a}})})}),Wx=Ar.a.extend(aR.a,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"svg",children:[{type:"ELEMENT",tagname:"path",namespace:"http://www.w3.org/2000/svg",attributes:{d:"M0 0 L3 3 L6 0"}}],classes:["menu-icon"],namespace:"http://www.w3.org/2000/svg",attributes:{viewBox:"0 0 6 4"}}],classes:["menu-icon-hitbox"]},__QUALIFIED_CLASS_NAME__:"TokenMenuButton"},action:"tokenMenuButtonClicked"}),zx=Ar.a.extend(aR.a,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{signal:"titleDidRender"}}],classes:["title"]}],classes:["title-wrapper"]},{type:"VIEWOUTLET",tagname:"view",name:"menuButton"}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isSelected",truevalue:"is-selected",attributes:{}}],attributes:{title:{key:"title",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"tooltip",attributes:{},attribute:"title"},type:"ATTRIBUTE"}}},className:"cw-ui-views-token-button",__QUALIFIED_CLASS_NAME__:"TokenButton"},title:v.g(),isAccepted:v.g(),tooltip:v.g(),isSelected:v.g(!1),menuButton:v.g(Me.b(Wx))}),Hx=Ar.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"tokenButton"}],classes:["button-container",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isEditing",truevalue:"is-editing",attributes:{signal:"editingDidSwitchOnButton"}}]},{type:"ELEMENT",tagname:"form",children:[{type:"VIEWOUTLET",tagname:"view",name:"tokenTextField"}],classes:["text-container",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isEditing",truevalue:"is-editing",attributes:{signal:"editingDidSwitchOnTextField"}}]},{type:"ELEMENT",tagname:"div",name:"hitDetector",classes:["hit-detector"],styles:{left:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"hitDetectorOffset",attributes:{},unit:"px",property:"left"}}}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"contentIsAlwaysLTR",truevalue:"content-is-always-ltr",attributes:{}}]},className:"cw-ui-views-token-item-view",__QUALIFIED_CLASS_NAME__:"TokenItemView"},tokenButton:v.g({defaultValue:Me.b(zx,{action:"tokenButtonWasPressed",additionalClassNames:["token-item-button"],isFocusable:!0}),downstreamBindings:{title:"(owner).value",isSelected:"(owner).isSelected"}}),tokenTextField:v.g({defaultValue:Me.b(Vx,{additionalClassNames:["token-item-textfield"]}),downstreamBindings:{value:"(owner).value",menu:"(owner).menu",delegate:"(owner).autocompleteDelegate",dataSource:"(owner).autocompleteDataSource",isDisabled:"(owner)._isTextFieldDisabled"}}),tokenMenuButtonClicked:function(){},autocompleteDelegate:v.g(),autocompleteDataSource:v.g(),didAutocomplete:function(e){if(e){var t=this.isEditing,n=this.value;this.sendEvent("createNewTokenItemBeforeCurrentToken",this,n),this.value="",t&&this.startEditing()}return!1},menu:v.g({strong:!0}),_activeElement:v.g({readOnly:!0,dependencies:["tokenButton","tokenTextField","isEditing","tokenTextField.widthDidRender","tokenButton.titleDidRender"],get:Object.assign((function(){var e;return this.isEditing?(this.tokenTextField.widthDidRender,e=this.tokenTextField.element):(this.tokenButton.titleDidRender,e=this.tokenButton.element),e}),{__CW__getter:function(e,t,n,r){var i;return r.internalGet(this,t[2+n])?(r.internalGetPath(this,t[3+n]),i=r.internalGet(this,t[1+n]).element):(r.internalGetPath(this,t[4+n]),i=r.internalGet(this,t[0+n]).element),i}})}),hitDetectorOffset:v.g({readOnly:!0,dependencies:["_activeElement","isAttached"],get:Object.assign((function(){var e=this._activeElement;return e?e.offsetWidth:0}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return i?i.offsetWidth:0}})}),value:v.g(""),isEditing:v.g(!1),isSelected:v.g(!1),contentIsAlwaysLTR:v.g(!1),selectionGroup:null,reEmptyToken:/^\s*$/,startEditing:function(){this.sendEvent("tokenStartedEditing",this),this.select(),this.isEditing=!0;var e=this.tokenTextField;e._selection={start:0,end:e.value.length}},stopEditing:function(){this.sendEvent("tokenStoppedEditing",this),this.isEditing=!1,this.focusedChild=null},select:function(e){e||this.sendEvent("clearSelection"),this.isSelected=!0,this.sendEvent("tokenSelected",this)},deselect:function(){this.isSelected=!1,this.sendEvent("tokenDeselected",this),this.blur()},_doubleClickCount:0,_resetDoubleClickCount:function(){this._doubleClickCount=0,this._doubleClickTimer.stop()},tokenButtonWasPressed:function(e){if(this._doubleClickCount++,this._doubleClickCount>1)this.startEditing(),this._resetDoubleClickCount();else{this._doubleClickTimer.start();var t=Ux.a.sharedInstance.activeKeys;if(t.contains(nk.a.SHIFT))this.sendEvent("tokenButtonWasPressedWithShift",this);else{var n,r=$r.a.sharedInstance;r.isMac&&(n=nk.a.CMD),r.isWindows&&(n=nk.a.CTRL),this.isSelected?t.contains(n)&&this.deselect():this.select(t.contains(n))}}},_doubleClickTimer:Me.b(sL.a,{delay:400,action:"_resetDoubleClickCount"}),keyDown:function(e){var t=!1,n=e.which;if(this.isEditing){var r=this.tokenTextField.selection,i=r.start,a=r.end;n===nk.a.ENTER?(this.stopEditing(),this.reEmptyToken.test(this.value)||this.sendEvent("createNewEditingTokenAfterCurrentToken",this),t=!0,e.preventDefault()):n===nk.a.BACKSPACE?(0===i&&0===a&&(e.preventDefault(),this.sendEvent("selectOrDeletePreviousToken",this)),t=!0):n===nk.a.DELETE?t=!0:n===nk.a.LEFT?0!==i&&(t=!0):n===nk.a.RIGHT&&a!==this.value.length&&(t=!0)}else n!==nk.a.BACKSPACE&&n!==nk.a.DELETE||(this.sendEvent("deleteSelectedTokens"),t=!0);return t},pointerDown:function(e){e.target===this.hitDetector&&(this.sendEvent("createNewEditingTokenAfterCurrentToken",this),e.preventDefault())},_previousIsEditing:!1,_editingObserver:v.h("isEditing","editingDidSwitchOnButton","editingDidSwitchOnTextField",(function(e){var t=this._previousIsEditing;if(this._previousIsEditing=e,e){var n=this._shouldStopEditingWhenFocusIsLost;this._shouldStopEditingWhenFocusIsLost=!1,this.tokenTextField.focus(),this._shouldStopEditingWhenFocusIsLost=n}else t&&this.reEmptyToken.test(this.value)&&this.sendEvent("deleteCurrentToken",this)})),_shouldStopEditingWhenFocusIsLost:!0,_textFieldFocusObserver:v.h("tokenTextField.isFocused",(function(e){if(!e){if(!this.isEditing)return;var t=this.menu&&this.menu.highlightedItem,n=this.tokenTextField,r=n&&n.textField;t&&r?r.autocompleteItemWasSelected(t):this._shouldStopEditingWhenFocusIsLost&&this.stopEditing()}})),_shouldParse:v.g(!0),pauseParsing:function(){this._shouldParse=!1},resumeParsing:function(){this._shouldParse=!0},_valueParsingObserver:v.h("value",(function(e){if(e&&this._shouldParse){var t=this.parseValueForTokens(e),n=t.length,r=this.isEditing;if(n>1){var i=this._shouldStopEditingWhenFocusIsLost;this._shouldStopEditingWhenFocusIsLost=!1;for(var a=0;a<n-1;a++)this.sendEvent("createNewTokenItemBeforeCurrentToken",this,t[a]);this.value=t[n-1],r&&this.startEditing(),this._shouldStopEditingWhenFocusIsLost=i}}})),_valueChangedObserver:v.h("value",(function(){this.sendEvent("tokenValueChanged")})),parseValueForTokens:function(e){return[]},_isTextFieldDisabled:v.g({readOnly:!0,dependencies:["isEditing"],get:Object.assign((function(){return!this.isEditing}),{__CW__getter:function(e,t,n,r){return!r.internalGet(this,t[0+n])}})})}),Gx=Ar.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"labelField"},{type:"ELEMENT",tagname:"div",children:[{type:"MULTIVIEWOUTLET",tagname:"views",name:"tokenViews"},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"placeholder",attributes:{}}],name:"placeholderNode",classes:["cw-placeholder",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_isPlaceholderShowing",truevalue:"show",attributes:{}}]}],name:"inputContainer",classes:["container"]},{type:"ELEMENT",tagname:"textarea",name:"clipboardArea",classes:["hidden-text","cw-input"]}],classes:["cw-tokenizedtextfield-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isFocused",truevalue:"cw-focused",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isDisabled",truevalue:"cw-disabled",attributes:{}}]},__QUALIFIED_CLASS_NAME__:"BaseTokenizedTextField"},value:v.g({readOnly:!0,dependencies:["tokenViews","tokenViews.contentsDidChange","_tokenValueChangedSignal"],writeDependencies:[],get:function(){return this.hydrateValues()}}),setValue:function(e){this.tokenViews.clear(),this._createNewTokenItemAtIndex(0,e)},hydrateValues:function(e){for(var t="",n=this.tokenViews,r=n.length,i=!1,a=0;a<r;a++){var o=n.objectAt(a);e&&!e(o)||(i&&(t+=", "),t+=o.value,i=!0)}return t},tokenItemViewClass:Hx,createHashForTokenItemView:function(){return{parseValueForTokens:this.parseValueForTokens}},lastEditedToken:v.g(),placeholder:void 0,action:"submit",maxLength:null,isDisabled:v.g(!1),isEditable:v.g(!0),isFocusable:v.g({readOnly:!0,dependencies:["isDisabled"],get:Object.assign((function(){return!this.isDisabled}),{__CW__getter:function(e,t,n,r){return!r.internalGet(this,t[0+n])}})}),defaultFocusElement:v.g({dependencies:["element"],writeDependencies:[],readOnly:!1,binding:null,get:Object.assign((function(e){return e||this.element}),{__CW__getter:function(e,t,n,r){return e||r.internalGet(this,t[0+n])}}),set:bl.a}),selection:v.g({readOnly:!0,dependencies:["_selectionDidChange"],get:function(){return this.hydrateValues((function(e){return e.isSelected}))}}),select:function(){var e=this.tokenViews,t=this.lastEditedToken;t&&t.isEditing&&t.stopEditing(),0!==e.length&&this.selectTokenRangeInclusive(e.objectAt(0),e.lastItem)},clearSelection:function(){var e=this.tokenViews,t=this.lastEditedToken;t&&t.isEditing&&t.stopEditing();var n=e.length;if(0!==n){this._shouldProcessSelectionEvents=!1;for(var r=0;r<n-1;r++){var i=e.objectAt(r);i.isSelected&&i.deselect()}this._shouldProcessSelectionEvents=!0,e.lastItem.deselect()}},parseValueForTokens:function(e){return e.split(/\s*,\s*/)},tokenViews:v.g(Me.b(Rd.b)),_isPlaceholderShowing:v.g({dependencies:["value"],readOnly:!0,get:Object.assign((function(){return!this.value}),{__CW__getter:function(e,t,n,r){return!r.internalGet(this,t[0+n])}})}),_focusObserver:v.h("isFocused","descendantHasFocus",(function(e,t){e||t||this.clearSelection()})),didFocus:function(){var e,t=this.tokenViews,n=this.lastEditedToken,r=n&&n.isEditing,i=this._activeSelectionGroupStack.length>0;r||i||!t||(e=Sr.a.sharedInstance.isRTL?0:t.length,this._createNewEditingTokenAtIndex(e))},_setSelectedTokensToHiddenTextArea:function(){var e=this.selection;if(e&&e.length>0){var t=this.clipboardArea;this.defaultFocusElement=t,t.value=e,t.select(),this.defaultFocusElement=null}},_shouldProcessSelectionEvents:!0,_activeSelectionGroupStack:Me.b(Qd.a),tokenSelected:function(e){this._updateSelectedGroupForSelectedtoken(e),this._shouldProcessSelectionEvents&&(this._selectionDidChange(),this._setSelectedTokensToHiddenTextArea())},_updateSelectedGroupForSelectedtoken:function(e){var t,n=this.tokenViews,r=n.length,i=n.indexOf(e),a=i>0?n.objectAt(i-1):null,o=i<r-1?n.objectAt(i+1):null,s=a&&a.selectionGroup,c=o&&o.selectionGroup;a&&o&&s&&c?(Qx(e.selectionGroup),e.selectionGroup=s,1===(t=s.direction)?s.endPoint=1===o.direction?c.endPoint:c.anchor:(s.anchor=1===o.direction?c.endPoint:c.anchor,s.direction=-1)):a&&s?(Qx(e.selectionGroup),e.selectionGroup=s,1===(t=s.direction)||0===t?(s.endPoint=e,s.direction=1):s.anchor=e):o&&c?(Qx(e.selectionGroup),e.selectionGroup=c,1===(t=c.direction)?c.anchor=e:(c.endPoint=e,c.direction=-1)):e.selectionGroup||(e.selectionGroup=Kx(e,e,0));var l=this._activeSelectionGroupStack;l.remove(e.selectionGroup),l.push(e.selectionGroup)},tokenDeselected:function(e){this._updateSelectedGroupForDeselectedtoken(e),this._shouldProcessSelectionEvents&&(this._selectionDidChange(),this._setSelectedTokensToHiddenTextArea())},_updateSelectedGroupForDeselectedtoken:function(e){if(e.selectionGroup){var t=this.tokenViews,n=t.length,r=t.indexOf(e),i=r>0?t.objectAt(r-1):null,a=r<n-1?t.objectAt(r+1):null,o=e.selectionGroup.direction,s=i&&i.selectionGroup,c=a&&a.selectionGroup;if(i&&a&&s&&c)if(1===o){var l=e.selectionGroup.endPoint;s.endPoint=i,c=Kx(a,l,1)}else{var u=e.selectionGroup.anchor;s.anchor=i,c=Kx(u,a,-1)}else i&&s?1===o?s.endPoint=i:s.anchor=i:a&&c?1===o?c.anchor=a:c.endPoint=a:(this._activeSelectionGroupStack.remove(e.selectionGroup),Qx(e.selectionGroup));this._setSelectionGroupDirectionToNeutralIfNeededForToken(i),this._setSelectionGroupDirectionToNeutralIfNeededForToken(a),e.selectionGroup=null}},_setSelectionGroupDirectionToNeutralIfNeededForToken:function(e){if(e){var t=e.selectionGroup;t&&t.anchor===e&&t.endPoint===e&&(t.direction=0)}},tokenButtonWasPressedWithShift:function(e){var t,n,r=this.tokenViews,i=this._activeSelectionGroupStack;if(i.length<1)n=t=r.objectAt(0);else{var a=i.lastItem;t=a.anchor,n=a.endPoint,0!==a.direction&&this.deselectTokenRangeInclusive(t,n)}this.selectTokenRangeInclusive(t,e)},deselectTokenRangeInclusive:function(e,t){this._selectionRangeHelper(e,t,(function(e){e.deselect()})),this._selectionDidChange(),this._setSelectedTokensToHiddenTextArea()},selectTokenRangeInclusive:function(e,t){this._selectionRangeHelper(e,t,(function(e){e.select(!0)})),this._selectionDidChange(),this._setSelectedTokensToHiddenTextArea()},_selectionRangeHelper:function(e,t,n){var r,i=this.tokenViews,a=i.indexOf(e),o=i.indexOf(t),s=a<o?1:-1,c=1===s?a:o,l=1===s?o:a,u=this._shouldProcessSelectionEvents;if(this._shouldProcessSelectionEvents=!1,1===s)for(r=c;r<=l;r++)n(i.objectAt(r));else for(r=l;r>=c;r--)n(i.objectAt(r));this._shouldProcessSelectionEvents=u},pointerDown:function(e){var t=this.inputContainer.children[0],n=this.inputContainer;if(e.target===t||e.target===n){for(var r,i=e.clientY,a=e.clientX,o=this.tokenViews,s=o.length,c=0;c<s;c++){var l=o.objectAt(c).rect;if(!(i>l.bottom)){if(i<l.top)break;if(a<l.left){r=Sr.a.sharedInstance.isRTL?c+1:c;break}a>l.right&&(r=Sr.a.sharedInstance.isRTL?c:c+1)}}!isFinite(r)&&s||(this._createNewEditingTokenAtIndex(r||0),e.preventDefault())}},keyDown:function(e){var t=e.which,n=function(e){var t=$r.a.sharedInstance;return t.isMac?e.metaKey:!!t.isWindows&&e.ctrlKey}(e);if(n){if(88===t)return this.deleteSelectedTokens(),!0;65===t&&this.select()}else{if(t===nk.a.LEFT||t===nk.a.RIGHT){var r=this._activeSelectionGroupStack.lastItem;if(r){var i,a=this.tokenViews,o=a.length,s=r.endPoint,c=r.direction;if(i=Sr.a.sharedInstance.isRTL?t===nk.a.RIGHT?-1:1:t===nk.a.RIGHT?1:-1,e.shiftKey){var l=a.indexOf(s)+i;if(l<0||l>=o)return!0;c===i||0===c?a.objectAt(l).select(!0):s.deselect()}else{var u;u=i===c?r.endPoint:r.anchor;var d=a.indexOf(u)+i;if((-1===i&&!s.isEditing||1===i&&s.isEditing)&&d++,d<0||d>o)return!0;this._createNewEditingTokenAtIndex(d)}}return!0}if(t===nk.a.BACKSPACE||t===nk.a.DELETE)return this.deleteSelectedTokensAndEdit(),!0;if(t===nk.a.ENTER){e.preventDefault();var h=this.findActiveToken();return h&&h.startEditing(),!0}}return!1},findActiveToken:function(){var e=this._activeSelectionGroupStack,t=e&&e.lastItem;return t&&t.endPoint},findRelativeToken:function(e,t){var n=this.tokenViews,r=n.indexOf(e);if(!(r<0))return n.objectAt(r+(t||0))},selectOrDeletePreviousToken:function(e){var t=this.findRelativeToken(e,-1);t&&(t.isSelected?this.deleteCurrentToken(t):t.select())},findTokenToEditAfterFollowingDeletion:function(){var e=this._activeSelectionGroupStack,t=e&&e.lastItem;if(t){var n=t.direction>0?t.anchor:t.endPoint;return this.findRelativeToken(n,-1)}},deleteSelectedTokensAndEdit:function(){var e=this.findTokenToEditAfterFollowingDeletion();this.deleteSelectedTokens(),e?this.createNewEditingTokenAfterCurrentToken(e):this._createNewEditingTokenAtIndex(0)},tokenStartedEditing:function(e){this.lastEditedToken=e},tokenStoppedEditing:function(e){},deletePreviousToken:function(e){var t=this.tokenViews.indexOf(e);--t>=0&&(this._deleteTokenAtIndex(t),e.startEditing())},deleteCurrentToken:function(e){var t=this.tokenViews.indexOf(e);this._deleteTokenAtIndex(t)},deleteSelectedTokens:function(){var e=this.tokenViews,t=e.length,n=this._shouldProcessSelectionEvents;this._shouldProcessSelectionEvents=!1;for(var r=t-1;r>=0;r--)e.objectAt(r).isSelected&&this._deleteTokenAtIndex(r);this._shouldProcessSelectionEvents=n},_deleteTokenAtIndex:function(e){var t=this.tokenViews,n=t.length;if(!(e<0||e>n)){var r=t.objectAt(e);r.isEditing&&r.stopEditing(),r.isSelected&&r.deselect(),t.splice(e,1)}},createNewTokenItemBeforeCurrentToken:function(e,t){var n=this.tokenViews.indexOf(e);return this._createNewTokenItemAtIndex(n,t)},_createNewTokenItemAtIndex:function(e,t){if(t){var n=this._createNewTokenItem();return this.tokenViews.insertAt(e,n),n.startEditing(),n.value=t,n.stopEditing(),n}},createNewEditingTokenAfterCurrentToken:function(e){if(!this._isCreatingToken){var t=this.tokenViews.indexOf(e);return t++,this._createNewEditingTokenAtIndex(t)}},_createNewEditingTokenAtIndex:function(e){this._isCreatingToken=!0;var t=this._createNewTokenItem();return this.tokenViews.insertAt(e,t),t.startEditing(),this._isCreatingToken=!1,t},_createNewTokenItem:function(){var e=this.tokenItemViewClass,t=this.createHashForTokenItemView();return e.create(t)},tokenValueChanged:function(){this._tokenValueChangedSignal()},_tokenValueChangedSignal:v.i(),_selectionDidChange:v.i()}),$x=[];function Kx(e,t,n){var r=$x.pop();return r||(r={}),r.anchor=e,r.endPoint=t,r.direction=n,r}function Qx(e){e&&(e.anchor=null,e.endPoint=null,e.direction=-2,$x.push(e))}var qx,Zx=S.b("LoadingStatus",{Initial:"Initial",Loading:"Loading",Completed:"Completed",Failed:"Failed"}),Yx=Gx.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",name:"spinner"}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_dataSourceFailed",truevalue:"show-error-indicator",attributes:{}}],attributes:{title:{key:"title",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"errorTitle",attributes:{},attribute:"title"},type:"ATTRIBUTE"}}}},__QUALIFIED_CLASS_NAME__:"TokenizedTextField"},errorTitle:v.g({readOnly:!0,dependencies:["_dataSourceFailed"],get:Object.assign((function(){return this._dataSourceFailed?Sr.d("ContactsAutocomplete.Error.Generic"):""}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])?Sr.d("ContactsAutocomplete.Error.Generic"):""}})}),spinner:v.g({type:oL.a,readOnly:!0,get:function(){return oL.a.create({size:20,color:window.matchMedia("(prefers-color-scheme: dark)").matches?"#ffffff":"#000000"})},downstreamBindings:{isVisible:"(owner)._dataSourceLoading"}}),autocompleteDelegate:v.g(),autocompleteDataSource:v.g(),_dataSourceFailed:v.g({readOnly:!0,dependencies:["autocompleteDataSource.loadingStatus"],get:Object.assign((function(){return this.getPath("autocompleteDataSource.loadingStatus")===Zx.Failed}),{__CW__getter:function(e,t,n,r){return r.internalGetPath(this,t[0+n])===Zx.Failed}})}),_dataSourceLoading:v.g({readOnly:!0,dependencies:["autocompleteDataSource.loadingStatus"],get:Object.assign((function(){return this.getPath("autocompleteDataSource.loadingStatus")===Zx.Loading}),{__CW__getter:function(e,t,n,r){return r.internalGetPath(this,t[0+n])===Zx.Loading}})}),menu:v.g({defaultValue:function(){return jx.create({target:this,anchor:this})},strong:!0,downstreamBindings:{listCollection:"(owner).lastEditedToken.tokenTextField._items"}}),width:v.g({readOnly:!0,dependencies:["value"],get:function(){return this.getPath("element.offsetWidth")}}),createHashForTokenItemView:function(){var e=this.__s._$wV$createHashForTokenItemView.apply(this,arguments);return Object.assign({},e,{menu:this.bindingFor("menu"),autocompleteDelegate:this.bindingFor("autocompleteDelegate"),autocompleteDataSource:this.bindingFor("autocompleteDataSource")})},__superMap:{_$wV$createHashForTokenItemView:"createHashForTokenItemView"}}),Xx=oe.a.extend({batchLoad:null,valueToKey:function(e){return e},load:function(e){var t=this,n=this._valueCache.get(e);if(n)return b.a.resolve(n);var r=this._promiseCache.get(e);if(r)return r;var i=new Promise((function(n,r){var i,a=t._queue;a.push({key:e,resolve:n,reject:r}),1===a.length&&(i=function(){return function(e){var t=e._queue;e._queue=[];var n={};t.forEach((function(e){n[e.key]=e}));var r=t.map((function(e){return e.key}));e.batchLoad(r).then((function(r){Me.b(r,Error)?t.forEach((function(t){var n=t.key,i=t.resolve;e.clear(n),i(r)})):r.forEach((function(t){var r=e.valueToKey(t),i=n[r],a=i.resolve;i.reject,a(t)}))}))}(t)},qx||(qx=b.a.resolve()),qx.then((function(){return setTimeout(i,0)})))})).then((function(n){return t._promiseCache.clear(e),t._valueCache.set(e,n),n})),a=b.a.wrapPromise(i);return this._promiseCache.set(e,a),a},loadMany:function(e){var t=this;return b.a.all(e.map((function(e){return t.load(e)})))},clear:function(e){this._valueCache.delete(e),this._promiseCache.delete(e)},_promiseCache:Me.b(Map),_valueCache:Me.b(Map),_queue:[],staticMembers:{__QUALIFIED_CLASS_NAME__:"BatchLoader"}});function Jx(e,t){if(!e)throw new Xn.a("findHandlerForOperationType must receive a type");if(t)for(var n=0,r=t.length;n<r;n++){var i=t[n],a=i.handlesType;if(a===e||!a&&Jx(e,i.nestedOperationHandlers))return i}}var eF=oe.a.extend({handlerResolver:Jx,handlesType:null,nestedOperationHandlers:null,action:function(e,t){var n=e&&e.operation;if(n){if("function"!==typeof this.handlerResolver)throw new Xn.a("OperationHandler#handlerResolver must be a function",{operationHandler:this,handlerResolver:this.handlerResolver});var r=n.type,i=this.handlerResolver(r,this.get("nestedOperationHandlers"));if(!i)throw new Xn.a("CW.Data.OperationHandler#action found no sub-handler to handle sub-operation: "+e.type+" - "+r,{subOperationType:r,operationType:e.type});return i.action(n,t)}},staticMembers:{__QUALIFIED_CLASS_NAME__:"OperationHandler"}}),tF=eF.extend(v.a,{action:function(e,t){var n=e.lookupInfoList;return n.length>0?this.createRequest({lookupInfos:n}).send().then((function(e){var t=e.body,n=t.results;if(yt.a(t)&&yt.a(n))return n}),(function(e){if(Me.b(e,GR.a)){var t=new Error;return t.originalError=e,t}throw e})):b.a.resolve([])},createRequest:function(e){var t=vD.create({serviceName:"cksharews",pathname:"/ws/v1/autocomplete/membershipInfo",queryObject:{dsid:iA.currentUser.dsid}});return bD.create({method:"POST",url:t,body:e,useCredentialsIfCrossOrigin:!0,timeout:6e4,serviceName:"cksharews"})},staticMembers:{__QUALIFIED_CLASS_NAME__:"LoadMembershipInfoHandler"}}),nF=Xx.extend(v.a,{batchLoad:function(e){return this.loadMembershipInfoHandler.action({lookupInfoList:e.map((function(e){return function(e){var t="phoneNumber:",n="email:";return e.startsWith(t)?{type:"phoneNumber",value:e.slice(12)}:e.startsWith(n)?{type:"email",value:e.slice(6)}:null}(e)}))})},loadMembershipInfoHandler:y.c(Me.b(tF)),valueToKey:function(e){var t=e.value;return e.type+":"+t},staticMembers:{__QUALIFIED_CLASS_NAME__:"MembershipInfoLoader"}}),rF=nh.extend({label:uh(),field:uh(),staticMembers:{__QUALIFIED_CLASS_NAME__:"Email"}}),iF=nh.extend({label:uh(),field:uh(),staticMembers:{__QUALIFIED_CLASS_NAME__:"Phone"}}),aF=nh.extend({height:uh(),width:uh(),x:uh(),y:uh(),staticMembers:{__QUALIFIED_CLASS_NAME__:"CropRect"}}),oF=nh.extend({crop:gh({type:aF,embedded:!0}),signature:uh(),url:uh(),staticMembers:{__QUALIFIED_CLASS_NAME__:"Photo"}}),sF=nh.extend({staticMembers:{STATES:y.c({readOnly:!0,get:function(){return S.b("STATES",{NOT_LOADED:0,META_DATA_LOADING:1,META_DATA_LOADED:2,IMAGE_DATA_LOADING:3,IMAGE_DATA_LOADED:4})}}),__QUALIFIED_CLASS_NAME__:"Contact"},contactId:uh({isPrimaryKey:!0}),firstName:uh(),lastName:uh(),middleName:uh(),nickName:uh(),managedAppleId:uh(),normalized:uh(),emailAddresses:mh({type:rF,embedded:!0}),phones:mh({type:iF,embedded:!0}),photo:gh({type:oF,embedded:!0}),loadImageData:function(){return yt.a(this.service)||Xn.b("Unable to load image data for contact without a service"),this.service.loadImageDataFor(this.contactId)},imageData:v.g(),imageDataUrl:v.g({dependencies:["imageData"],readOnly:!0,get:Object.assign((function(){if(this.imageData)return(window.URL||window.webkitURL).createObjectURL(this.imageData)}),{__CW__getter:function(e,t,n,r){if(r.internalGet(this,t[0+n]))return(window.URL||window.webkitURL).createObjectURL(r.internalGet(this,t[0+n]))}})}),service:v.g(),state:y.c({cacheable:!1,readOnly:!0,get:function(){return this.service.getStateFor(this.contactId)}})}),cF=S.b("MatchType",{EMAIL:"EMAIL",PHONE:"PHONE",GROUP:"GROUP",AXMGROUP:"AXMGROUP"}),lF=oe.a.extend(v.a,{contact:v.g({readOnly:!0,dependencies:["store","contactPrimaryKey"],get:Object.assign((function(){return this.store?this.store.getModel(this.modelClass,this.contactPrimaryKey):null}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])?r.internalGet(this,t[0+n]).getModel(this.modelClass,r.internalGet(this,t[1+n])):null}})}),modelClass:v.g({defaultValue:sF}),matchType:v.g(),matchValue:v.g(),contactPrimaryKey:v.g(),store:v.g(),staticMembers:{__QUALIFIED_CLASS_NAME__:"ContactMatch"}}),uF=xx.extend({viewClass:ut.a({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isInNetwork",truevalue:"is-in-network",attributes:{}}]}}},isInNetwork:v.g(!1)}),didEnter:function(e){this.__s._$95$didEnter.apply(this,arguments);var t=this.view;t.isInNetwork=void 0;var n,r=this.item.contactMatch,i=r.matchValue,a=r.matchType;if(a===cF.PHONE)n="phoneNumber:"+i;else{if(a!==cF.EMAIL)return;n="email:"+i}var o=this;e.membershipInfoLoader.load(n).then((function(e){if(!P.a(e,Error)){var n=e.isInNetwork,r=e.value;o.getPath("item.contactMatch.matchValue")===r&&(t.isInNetwork=n)}}))},didExit:function(e){this.__s._$am$didExit.apply(this,arguments),this.view.isInNetwork=!1},__superMap:{_$95$didEnter:"didEnter",_$am$didExit:"didExit"},staticMembers:{__QUALIFIED_CLASS_NAME__:"AutocompleteMenuViewItem"}}),dF=jx.extend({listViewItemMappedClass:uF,contentController:v.g({defaultValue:Me.b(Px.extend({membershipInfoLoader:v.g(Me.b(nF))}))}),staticMembers:{__QUALIFIED_CLASS_NAME__:"AutocompleteMenu"}});Object(Sr.b)(Object(Sr.c)(),{"ContactsAutocomplete.Error.Internal":"Internal error","ContactsAutocomplete.Error.Generic":"Couldnt load contacts because of a server error.","ContactsAutocomplete.Error.NotFound":"Couldnt load contacts because the server could not be found.","ContactsAutocomplete.SearchingProgress":"Searching for %{searchString}","ContactsAutocomplete.GroupSecondaryLabel.Multiple":"%{numberOfContacts} contacts","ContactsAutocomplete.GroupSecondaryLabel.Single":"1 contact","ContactsAutocomplete.GroupMembers":"%{emailAddresses} & %{lastEmailAddress}","ContactsAutocomplete.Recents.Delete.Title":"Remove From Recents","ContactsAutocomplete.Recents.Delete.Recipient.Text":"Are you sure you want to remove this recent recipient?","ContactsAutocomplete.Recents.Delete.Group.Text":"Are you sure you want to remove this recent group?","ContactsAutocomplete.Category.WORK":"work","ContactsAutocomplete.Category.HOME":"home","ContactsAutocomplete.Category.MOBILE":"mobile","ContactsAutocomplete.Category.MAIN":"main","ContactsAutocomplete.Category.HOMEFAX":"home fax","ContactsAutocomplete.Category.WORKFAX":"work fax","ContactsAutocomplete.Category.PAGER":"pager","ContactsAutocomplete.Category.OTHER":"other","ContactsAutocomplete.Category.CUSTOM":"custom","ContactsAutocomplete.Category.RECENTS":"recents","ContactsAutocomplete.Category.SCHOOL":"school","ContactsAutocomplete.Category.BUSINESS":"work","ContactsAutocomplete.PreviewTemplate.MatchPersonByFirstName":"%{firstAndLastNameInProperOrder}  %{contactValue}","ContactsAutocomplete.PreviewTemplate.MatchPersonByMiddleName":"%{middleName} (%{firstAndLastNameInProperOrder})  %{contactValue}","ContactsAutocomplete.PreviewTemplate.MatchPersonByLastName":"%{lastAndFirstNameInProperOrder}  %{contactValue}","ContactsAutocomplete.PreviewTemplate.MatchPersonByNickName":"%{nickName} (%{firstAndLastNameInProperOrder})  %{contactValue}","ContactsAutocomplete.PreviewTemplate.MatchPersonByCompanyName":"%{companyName} (%{firstAndLastNameInProperOrder})  %{contactValue}","ContactsAutocomplete.PreviewTemplate.MatchPersonByContact":"%{contactValue} (%{firstAndLastNameInProperOrder})","ContactsAutocomplete.PreviewTemplate.MatchPersonByNickAndLastName":"%{nickName} %{lastName}  %{contactValue}","ContactsAutocomplete.PreviewTemplate.MatchCompanyByFirstName":"%{firstAndLastNameInProperOrder} (%{company})  %{contactValue}","ContactsAutocomplete.PreviewTemplate.MatchCompanyByMiddleName":"%{middleName} (%{firstAndLastNameInProperOrder}) (%{companyName})  %{contactValue}","ContactsAutocomplete.PreviewTemplate.MatchCompanyByLastName":"%{lastAndFirstNameInProperOrder} (%{companyName})  %{contactValue}","ContactsAutocomplete.PreviewTemplate.MatchCompanyByNickName":"%{nickName} (%{firstAndLastNameInProperOrder}) (%{companyName})  %{contactValue}","ContactsAutocomplete.PreviewTemplate.MatchCompanyByCompanyName":"%{companyName} (%{firstAndLastNameInProperOrder})  %{contactValue}","ContactsAutocomplete.PreviewTemplate.MatchCompanyByContact":"%{contactValue} %{companyName} (%{firstAndLastNameInProperOrder})","ContactsAutocomplete.PreviewTemplate.MatchRecentByName":"%{matchedName}  %{emailAddress}","ContactsAutocomplete.PreviewTemplate.MatchRecentByEmailAddress":"%{matchedEmail} (%{name})","ContactsAutocomplete.Group":"Group"});var hF={mixinDependencies:[$.a],load:G.a.define(),cancel:G.a.define(),loadingStatus:pk.a.define()},fF={mixinDependencies:[$.a,hF],fetchRequiredData:mL.c(G.a),autocompleteItemsForText:mL.c(G.a)},pF=S.b("NameDisplayOrder",{FIRST_LAST:"first,last",LAST_FIRST:"last,first"});function gF(){return mF(Sr.c())?pF.LAST_FIRST:pF.FIRST_LAST}function mF(e){return"ja-jp"===e||"ko-kr"===e||"zh-cn"===e||"zh-tw"===e||"hu-hu"===e}var vF=S.b("SortOrder",{FIRST_LAST:"first,last",LAST_FIRST:"last,first"}),yF=n(1454),_F=oe.a.extend(v.a,{action:"autocompleteItemWasSelected",value:v.g(null),primaryLabel:v.g(null),category:v.g(null),localizedCategory:v.g({readOnly:!0,dependencies:["category"],get:Object.assign((function(){var e=this.category;if(!e)return null;var t="ContactsAutocomplete.Category."+e,n=Sr.d(t);return n===t?e:n}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);if(!i)return null;var a="ContactsAutocomplete.Category."+i,o=Sr.d(a);return o===a?i:o}})}),secondaryLabel:v.g(null),previewValue:v.g(null),matchChunks:null,isContactsGroup:!1,isRecentsGroup:!1,recentsGuid:null,isEnabled:!0,disableMenuFlash:!0,staticMembers:{__QUALIFIED_CLASS_NAME__:"AutocompleteItem"}}).extend({contactMatch:v.g(),matchedFields:v.g(),isAXMContact:v.g(!1),staticMembers:{__QUALIFIED_CLASS_NAME__:"AutocompleteItem"}}),bF=["firstName","phoneticFirstName","middleName","lastName","phoneticLastName","nickName","companyName","emailAddresses"],wF=["name"],SF=["address","name","names"],EF=["firstName","middleName","lastName","emailAddresses"],IF=["name","displayName"],CF=["name","email"],OF=S.b("RequestType",{CONTACTS:5,LOOKUP:6,RECENT_RECIPIENTS:8,DELETE_RECENTS:9});var TF="ContactsAutocomplete.PreviewTemplate.",AF=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return function(){return r.length?e(...r)(t(...arguments)):t(...arguments)}};function NF(e,t){return function(n){return n.replace(e,t)}}var MF=AF(NF("\u201c\u201d",""),NF(/\(\s*\)/g,""),NF(/\s+/g," ")),DF=AF(MF,NF(/"/g,'\\"'),NF(/([^,<>]*[,<>].*)( <[^<]*)$/,'"$1"$2')),RF=S.b("SearchEntityTypes",{PERSON:"PERSON",CLASS:"CLASS",GROUP:"GROUP"}),LF="SUMMARY",kF=S.b("AxmOrgType",{Education:"SCHOOL",Business:"BUSINESS"}),xF="X-ADM-OrgType",FF=S.b("AxmServerErrors",{FETCH_MEMBERS_FAILURE:"FETCH_MEMBERS_FAILURE",SEARCH_FAILURE:"SEARCH_FAILURE"}),PF={mixinDependencies:[$.a,v.a],isRecentsEnabled:pk.a.define(),isAppleIdManagedAppleId:pk.a.define(),isAXMServiceAvailable:pk.a.define(),createRequest:G.a.define(),currentEnvironment:v.b.define()},jF=oe.a.extend(PF,{isRecentsEnabled:v.g({readOnly:!0,dependencies:iA.bindingFor("authBag.servicesInfo"),get:function(){return!!iA.getPath("authBag.servicesInfo.mail")}}),isAppleIdManagedAppleId:v.g({readOnly:!0,get:function(){return iA.getPath("authBag.user.isManagedAppleID")}}),isAXMServiceAvailable:v.g({readOnly:!0,dependencies:iA.bindingFor("authBag.servicesInfo"),get:function(){return!!iA.getPath("authBag.servicesInfo.maidautocompletews")}}),createRequest:function(e,t,n){var r=n.queryObject,i=n.method,a=n.body,o=n.headers,s=n.timeout,c=n.shouldFinalizeWithResponse,l=vD.create({pathname:t,serviceName:e,queryObject:r});return bD.create({url:l,serviceName:e,method:i,body:a,headers:o,timeout:s,useCredentialsIfCrossOrigin:!0,shouldFinalizeWithResponse:c})},currentEnvironment:v.g({readOnly:!0,get:function(){return iA.getPath("authBag.iCloudEnvironment")}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"COSKDelegate"}}),UF=oe.a.extend(v.a,fF,{platformDelegate:v.g(Me.b(jF)),isRecentsEnabled:v.g({readOnly:!0,dependencies:["platformDelegate.isRecentsEnabled"],get:Object.assign((function(){return this.platformDelegate.isRecentsEnabled}),{__CW__getter:function(e,t,n,r){return r.internalGetPath(this,t[0+n])}})}),isAppleIdManagedAppleId:v.g({readOnly:!0,dependencies:["platformDelegate.isAppleIdManagedAppleId"],get:Object.assign((function(){return this.platformDelegate.isAppleIdManagedAppleId}),{__CW__getter:function(e,t,n,r){return r.internalGetPath(this,t[0+n])}})}),isAXMServiceAvailable:v.g({readOnly:!0,dependencies:["platformDelegate.isAXMServiceAvailable"],get:Object.assign((function(){return this.platformDelegate.isAXMServiceAvailable}),{__CW__getter:function(e,t,n,r){return r.internalGetPath(this,t[0+n])}})}),currentEnvironment:v.g({readOnly:!0,dependencies:["platformDelegate.currentEnvironment"],get:Object.assign((function(){return this.platformDelegate.currentEnvironment}),{__CW__getter:function(e,t,n,r){return r.internalGetPath(this,t[0+n])}})}),axmOrgType:y.c(),_axmLimitPerResponse:y.c({defaultValue:1e3}),_currentSearchPrefix:y.c({type:String}),load:function(){this.contactsDataIsLoaded||(this._axmDataCompletionStatus={},this._failedNetworkRequestCount=0,this.sendContactsRequest(),this.isRecentsEnabled&&this.sendRecentRecipientsRequest({method:"list",type:OF.RECENT_RECIPIENTS}))},cancel:function(){},loadingStatus:v.g({readOnly:!0,dependencies:["_loadingStatus"],get:Object.assign((function(){return this._loadingStatus}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])}})}),fetchRequiredData:function(e){e=e.trim();var t,n=this.isAppleIdManagedAppleId,r=this.isAXMServiceAvailable;return this._currentSearchPrefix=e,!this.hasCompleteAXMDataForSearchString(e)&&n&&r?t=this.sendAXMContactsRequest(e):(t=b.a.create()).resolve(),t},autocompleteItemsForText:function(e){e=e.trim();var t=[],n=this.dataSourcesToSearch;return 0!==n.length&&(t=this.findCompletionsInLoadedData(e,n)||[]),dk.create(t)},sendContactsRequest:function(e){this.set("contactsRequestIsOutstanding",!0),this.set("contactsRequestHasCompleted",!1),this.set("contactsDataIsLoaded",!1),null!==this._lastSyncToken&&null!==this._lastPrefToken?this.set("syncTokenInUse",!0):this.set("syncTokenInUse",!1);var t={onComplete:"contactsRequestCompleted",onSuccess:"contactsRequestSucceeded",type:OF.CONTACTS};if(this.get("syncTokenInUse")&&!0===e){var n=this.get("syncInterval");if(this._skipSyncCount<n)return this.set("contactsRequestIsOutstanding",!1),this.set("contactsRequestHasCompleted",!0),this.set("contactsDataIsLoaded",!0),void this._skipSyncCount++}var r=Sr.c();this.createContactsRequest(this._lastSyncToken,this._lastPrefToken,this._sortOrder,r,this.isPhoneNumberSupportEnabled).send().then(function(e){this.requestDidComplete(e,t)}.bind(this)).catch(function(e){this.requestDidComplete(e,t)}.bind(this)),this._skipSyncCount=0},fetchAXMGroupMembers:function(e,t,n,r,i){var a=this,o=this.createAXMGroupsRequest(e,t,r);return this.axmContactsRequestOutstanding=!0,this.axmContactsRequestHasCompleted=!1,o.send().then((function(r){return a.fetchAXMGroupMembersSucceeded(e,t,r,i,n)}),(function(e){return a.fetchAXMGroupMembersFailed(e,n)}))},fetchAXMGroupMembersSucceeded:function(e,t,n,r,i){var a=this,o=n.body,s=o.memberList,c=o.hasMore,l=o.cursor;r||(r=[]),s&&s.length>0&&(this._updateAXMContactToMatchAddressBookContact(s),this._addRecordsToStore(sF,s,"contactId"),s.forEach((function(e){var t=e.emailAddresses[0],n=a._autocompleteResultsForMatchedContact(e,{},{type:cF.EMAIL,field:t.field,label:t.label});n&&r.push(n)}))),c&&l?this.fetchAXMGroupMembers(e,t,i,l,r):(this.axmContactsRequestOutstanding=!1,this.axmContactsRequestHasCompleted=!0,i.resolve({items:r}))},fetchAXMGroupMembersFailed:function(e,t){this.axmContactsRequestOutstanding=!1,this.axmContactsRequestHasCompleted=!0,this._failedNetworkRequestCount+=1,t.resolve({error:FF.FETCH_MEMBERS_FAILURE})},contactsRequestIsOutstanding:v.g(!1),contactsRequestHasCompleted:y.c(!1),contactsDataIsLoaded:v.g(!1),axmContactsRequestOutstanding:v.g(!1),axmContactsRequestHasCompleted:v.g(!1),sendRecentRecipientsRequest:function(e){this.set("recentsRequestIsOutstanding",!0),this.set("recentsRequestHasCompleted",!1),this.set("recentsDataIsLoaded",!1);var t={onComplete:"recentRecipientsRequestCompleted",onSuccess:"recentRecipientsRequestSucceeded",type:e.type},n=new Date;this._recentsReqCount||(this._recentsReqCount=1);var r=n.getTime()+"/"+this._recentsReqCount++,i=e.method,a=e.recentsGuids;this.createRecentRecipientsRequest(r,i,a).send().then(function(e){this.requestDidComplete(e,t)}.bind(this)).catch(function(e){this.requestDidComplete(e,t)}.bind(this))},_axmDataCompletionStatus:y.c({type:Object,defaultValue:{}}),sendAXMContactsRequest:function(e){var t=this,n=[{entityType:RF.PERSON},{entityType:RF.CLASS}];return!this.currentEnvironment||"ICLOUD1"===this.currentEnvironment||"PROD"===this.currentEnvironment||n.push({entityType:RF.GROUP}),this.axmContactsRequestOutstanding=!0,this.axmContactsRequestHasCompleted=!1,this.createAXMContactsRequest(e,n).send().then((function(n){return t.axmContactsRequestSucceeded(n,e)}),(function(n){return t.axmContactsRequestFailed(n,e)})).finally((function(){t.axmContactsRequestHasCompleted=!0,t.axmContactsRequestOutstanding=!1}))},axmContactsRequestSucceeded:function(e,t){if(t!==this._currentSearchPrefix)return b.a.resolve({errorCode:"Search Text Changed"});var n;try{n=this.parseAXMContactsResponse(e)}catch(u){return b.a.resolve({errorCode:FF.SEARCH_FAILURE})}var r=n,i=r.contactsHash,a=r.classesHash,o=r.groupsHash,s={};if(i){var c=i.contacts,l=i.hasMoreData;c&&(this._dataCache.addRecords(c,"Contacts",EF),this._addRecordsToStore(sF,c,"contactId")),s.AXMContacts=!l}a&&(a.classes&&this._dataCache.addRecords(a.classes,"Groups",IF),s.AXMClasses=!a.hasMoreData),o&&(o.groups&&this._dataCache.addRecords(o.groups,"Groups",CF,!0),s.AXMGroups=!o.hasMoreData),this._axmDataCompletionStatus[t]=s},axmContactsRequestFailed:function(e,t){return this._failedNetworkRequestCount+=1,b.a.resolve({errorCode:FF.SEARCH_FAILURE})},hasCompleteAXMDataForSearchString:function(e){var t=!1;for(var n in this._axmDataCompletionStatus)if(0===e.indexOf(n)){for(var r in t=!0,this._axmDataCompletionStatus[n])t=t&&this._axmDataCompletionStatus[n][r];if(t)break}return t},recentsRequestIsOutstanding:y.c(!1),recentsRequestHasCompleted:y.c(!1),recentsDataIsLoaded:y.c(!1),allDataIsLoadedForQuery:y.c(!1),dataSourcesToSearch:y.c({type:Qd.a,get:function(){var e=["Recents","Contacts","Groups"];return this.isRecentsEnabled||e.shift(),e}}),createContactsRequest:function(e,t,n,r,i){var a={locale:r.replace(/(.*)-(.*)$/,(function(e,t,n){return t+"_"+n.toUpperCase()})),order:n.value,includePhoneNumbers:i};return null!==e&&null!==t&&(a.syncToken=e,a.prefToken=t),this.platformDelegate.createRequest("contacts","/co/addressbook",{method:_l.a.GET,queryObject:a})},createRecentRecipientsRequest:function(e,t,n){var r={jsonrpc:"2.0",id:e,method:t};return n&&(r.params={guids:[n]}),this.platformDelegate.createRequest("mail","/wm/recents",{body:r,timeout:this.INTERVAL_XHR_TIMEOUT_FOR_RECENTS_REQUEST,method:_l.a.POST,shouldFinalizeWithResponse:function(e,t,n){var r=self._redirectCountForTimeout,i=n-r,a=2===Math.floor(e.status/100)&&self.REDIRECT_RESPONSE_TEXT===e.encodedBody,o=e.status===_l.b.TIMEDOUT,s=a&&i<self.MAX_REDIRECT,c=o&&r<self.MAX_REDIRECT_FOR_TIMEOUT;if(s||c){c&&self._redirectCountForTimeout++;var l="\n                    Rejecting server response for mailws recents,\n                        Status: "+status+"\n                        ResponseText: "+e.encodedBody+"\n                        Redirect Count: "+i+"\n                        Timeout Redirect Count: "+r+"\n                ";return d.b.warn(l),t(),!1}if(a||o){var u="\n                        Giving up on retries for mailws recents,\n                            Status: "+status+"\n                            ResponseText: "+e.encodedBody+"\n                            Redirect Count: "+i+"\n                            Timeout Redirect Count: "+r+"\n                    ";d.b.warn(u)}return self._redirectCountForTimeout=0,!0},headers:{"Content-Type":"text/plain"}})},createAXMContactsRequest:function(e,t){if(t){var n=this._axmLimitPerResponse,r=[];return t.forEach((function(t){var i=t.entityType,a=t.cursor;r.push({entityType:i.value,limit:n,text:e,viewType:LF,cursor:a})})),this.platformDelegate.createRequest("maidautocompletews","/maid/v1/web/directory/search",{body:r,method:_l.a.POST,timeout:this.INTERVAL_XHR_TIMEOUT_FOR_AXMSEARCH_REQUEST,headers:{"Content-Type":"text/plain"}})}Xn.b("Cannot create AXM Contacts Request without searchEntities")},createAXMGroupsRequest:function(e,t,n){if(t===RF.CLASS.value||t===RF.GROUP.value){var r={id:e,entityType:t,viewType:LF};return n&&(r.cursor=n),this.platformDelegate.createRequest("maidautocompletews","/maid/v1/web/members/fetch/v2",{method:_l.a.POST,timeout:this.INTERVAL_XHR_TIMEOUT_FOR_AXMSEARCH_REQUEST,body:r,headers:{"Content-Type":"text/plain"}})}Xn.b("Cannot create AXM Groups Request if not a CLASS or GROUP type")},clearLoadedData:function(){this.recentsRequestIsOutstanding=!1,this.recentsRequestHasCompleted=!1,this.contactsRequestIsOutstanding=!1,this.contactsRequestHasCompleted=!1,this.addContactRequestHasCompleted=!1,this.addContactRequestHasFailed=!1,this.recentsDataIsLoaded=!1,this.contactsDataIsLoaded=!1,this.allDataIsLoadedForQuery=!1,this.axmContactsRequestOutstanding=!1,this.axmContactsRequestHasCompleted=!1,this._dataCache=null,this._lastSyncToken=null,this._lastPrefToken=null,this.dataRefreshNeeded=!0,this._axmDataCompletionStatus={}},findCompletionsInLoadedData:function(e,t){if(!this._dataCache)return[];t&&0!==t.length||Xn.b("No dataSources provided to search");var n=this._dataCache.findCompletionsInLoadedData(e,t);return this._autocompleteResultsForMatches(e,n)},isSearchable:y.c({readOnly:!0,dependencies:["contactsDataIsLoaded","recentsDataIsLoaded"],get:Object.assign((function(){return this.contactsDataIsLoaded||this.recentsDataIsLoaded}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])||r.internalGet(this,t[1+n])}})}),delegate:null,syncInterval:y.c(10),isRecentsGroupsEnabled:y.c(!0),isPhoneNumberSupportEnabled:v.g(!1),syncTokenInUse:y.c(!1),dataRefreshNeeded:y.c(!1),__dummy_prefix__:"__dummy_prefix__",_contactsStore:v.g(Me.b(Yd)),resolveRecentRecipientWithLoadedContacts:function(e,t){if(!e)return[];var n,r,i,a;if(i=e.length,a=t.length,i<1||a<1)return[];for(n=0;n<i;n++)for(r=0;r<a;r++)if(e[n].secondaryLabel===t[r].secondaryLabel){e[n].previewValue=t[r].previewValue,e[n].primaryLabel=t[r].primaryLabel,e[n].secondaryLabel=t[r].secondaryLabel,e[n].value=t[r].value,e[n].contactMatch=t[r].contactMatch,t.splice(r,1),a=t.length;break}},_autocompleteResultsForMatches:function(e,t){var n,r,i,a,o,s,c,l,u,d,h,f=[],p=[],g=[],m={},v=!0,y=this.getPath("delegate.autocompleteField");for(s in y&&(v=y.get("shouldMatchGroups")),t)if(t.hasOwnProperty(s)&&(d=t[s].rec,l=t[s].fields,d.address?h="Recents":d.contactId||d.managedAppleId?h="Contacts":(d.groupId||d.id)&&(h="Groups"),u=this._dataCache.getRecordForGuid(s)))if(c=null,"Recents"===h){if(u.isGroupMemberOnly||(c=this._autocompleteResultsForMatchedRecent(u,l),p.push(c)),!0===this.isRecentsGroupsEnabled&&(n=u.isMemberOf)&&n.length>0)for(r=n.length,o=0;o<r;o++)i=n[o].guid,a={address:u.address,rec:u,matchedFields:l},m[i]||(m[i]=[]),m[i].push(a)}else if("Contacts"===h){var _,b,w,S=Object.keys(l).length,E=u.emailAddresses,I=u.phones,C=l.emailAddresses;if(1===S&&C)for(b in C)C.hasOwnProperty(b)&&(w=C[b],_=E[b],c=this._autocompleteResultsForMatchedContact(u,l,{type:cF.EMAIL,field:_.field,label:_.label},w),f.push(c));else{for(o=(E?E.length:0)-1;o>=0;--o){_=E[o],w=C?C[o]:null;var O={type:cF.EMAIL,field:_.field,label:_.label};c=this._autocompleteResultsForMatchedContact(u,l,O,w),f.push(c)}for(o=(this.isPhoneNumberSupportEnabled&&I?I.length:0)-1;o>=0;--o){var T=I[o],A={type:cF.PHONE,field:T.field,label:T.label};c=this._autocompleteResultsForMatchedContact(u,l,A,null),f.push(c)}}}else{if(!v||"Groups"!==h)continue;c=this._autocompleteResultsForMatchedGroup(u,l),f.push(c)}for(i in m)m.hasOwnProperty(i)&&(c=this._autocompleteResultForMatchedRecentsGroup(m[i],i))&&g.push(c);return this.resolveRecentRecipientWithLoadedContacts(p,f),p.length>0&&(f=(p=this._sortRecentsResultsByTimeStamp(p)).concat(f)),g.length>0&&(g=this._sortRecentsResultsByTimeStamp(g),f=f.concat(g)),f},_autocompleteResultsForMatchedContact:function(e,t,n,r){return function(e,t,n,r,i,a){var o=n.type,s=n.label,c=n.field,l=function(e){if(e.isCompany)return e.companyName;var t=e.firstName||"",n=e.lastName||"";return t||n?uA({givenName:t,familyName:n}):void 0}(e),u=c,h=function(e,t,n,r,i){var a,o,s=e.firstName||"",c=e.lastName||"",l=e.middleName||"",u=e.nickName||"",h=e.companyName||"",f=t.firstName,p=t.lastName,g=t.nickName,m=t.middleName,v=t.companyName,y=f?f.length:0,_=p?p.length:0,b=g?g.length:0,w=m?m.length:0,S=v?v.length:0,E=n?n.length:0,I=s+" "+c;if(qo(s)&&qo(c)&&(I=""+c+s),i===pF.LAST_FIRST){var C=[c,s];s=C[0],c=C[1];var O=[p,f];f=O[0],p=O[1];var T=[_,y];y=T[0],_=T[1]}if(e.isCompany)if(S)a=TF+"MatchCompanyByCompanyName",o={companyName:v+h.substr(S),firstAndLastNameInProperOrder:I,contactValue:r};else if(y)a=TF+"MatchCompanyByFirstName",o={companyName:h,firstAndLastNameInProperOrder:f+s.substr(y)+" "+c,contactValue:r};else if(_)a=TF+"MatchCompanyByLastName",o={companyName:h,lastAndFirstNameInProperOrder:p+c.substr(_)+" "+s,contactValue:r};else if(b)a=TF+"MatchCompanyByNickName",o={nickName:g+u.substr(b),firstAndLastNameInProperOrder:I,companyName:h,contactValue:r};else if(E)a=TF+"MatchCompanyByContact",o={companyName:h,firstAndLastNameInProperOrder:I,contactValue:n+r.substr(E)};else if(w)a=TF+"MatchCompanyByMiddleName",o={middleName:m+l.substr(w),companyName:h,firstAndLastNameInProperOrder:I,contactValue:r};else{for(var A in d.b.warn("Don't know what was matched in autocomplete. This case should be handled better."),a="",o=[],t)t.hasOwnProperty(A)&&(a+="%@ ",o.push(t[A]));a+="(%@)",o.push(h)}else if(y&&y===s.length&&_)a=TF+"MatchPersonByFirstName",o={firstAndLastNameInProperOrder:f+" "+(p+c.substr(_)),contactValue:r};else if(_&&_===c.length&&y)a=TF+"MatchPersonByLastName",o={lastAndFirstNameInProperOrder:p+" "+(f+s.substr(y)),contactValue:r};else if(b&&b===u.length&&_)a=TF+"MatchPersonByNickAndLastName",o={nickName:g+u.substr(b),lastName:p+c.substr(_),contactValue:r};else if(y)a=TF+"MatchPersonByFirstName",o={firstAndLastNameInProperOrder:f+s.substr(y)+" "+c,contactValue:r};else if(_)a=TF+"MatchPersonByLastName",o={lastAndFirstNameInProperOrder:p+c.substr(_)+" "+s,contactValue:r};else if(b)a=TF+"MatchPersonByNickName",o={nickName:g+u.substr(b),firstAndLastNameInProperOrder:I,contactValue:r};else if(S)a=TF+"MatchPersonByCompanyName",o={companyName:v+h.substr(S),firstAndLastNameInProperOrder:I,contactValue:r};else if(E)a=TF+"MatchPersonByContact",o={firstAndLastNameInProperOrder:I,contactValue:n+r.substr(E)};else if(w)a=TF+"MatchPersonByMiddleName",o={middleName:m+l.substr(w),firstAndLastNameInProperOrder:I,contactValue:r};else{for(var N in d.b.warn("Don't know what was matched in autocomplete. This case should be handled better."),a="",o={},t)t.hasOwnProperty(N)&&(a+="%{"+N.toString()+"} ",o[N]=t[N]);a=a.trim()}return{previewFormat:a,previewOrdering:o}}(e,t,r,c,a),f=h.previewFormat,p=h.previewOrdering,g=function(e,t){var n=t.field;if(e.isCompany)return{valueFormat:"%{companyName} <%{contactValue}>",valueOrdering:{companyName:e.companyName||"",contactValue:n}};var r=e.firstName||"",i=e.lastName||"";return{valueFormat:qo(r)&&qo(i)?"%{lastName}%{firstName} <%{contactValue}>":"%{firstName} %{lastName} <%{contactValue}>",valueOrdering:{firstName:r,lastName:i,contactValue:n}}}(e,n),m=g.valueFormat,v=g.valueOrdering,y=MF(Sr.d(f,p)),_=DF(OT.a(m,v)),b=e.contactId,w=!!e.managedAppleId;return _F.create({primaryLabel:l,secondaryLabel:u,value:_,previewValue:y,category:s,isAXMContact:w,contactMatch:Me.b(lF,{store:i,contactPrimaryKey:b,matchType:o,matchValue:c}),matchedFields:t})}(e,t,n,r,this._contactsStore,this._nameDisplayOrder)},_autocompleteResultsForMatchedRecent:function(e,t){var n,r,i,a,o,s,c,l=e.address;Array.isArray(e.timestamps)||(e.timestamps=[]);var u=e.name;-1===u.indexOf(",")&&(u=u.replace(/^"/,"").replace(/"$/,"")),u||(u=""),n=u,r=l;var d=t.name;t.names&&(d=t.names);var h=d?d.length:0,f=t.address,p=f?f.length:0;u||(u=l,n=l),d?(i="ContactsAutocomplete.PreviewTemplate.MatchRecentByName",o={matchedName:d+this._matchedNameLabelFromMatchedNamePrefix(u,d).substr(h),emailAddress:l}):(i="ContactsAutocomplete.PreviewTemplate.MatchRecentByEmailAddress",o={matchedEmail:f+l.substr(p),name:u}),a={name:u,emailAddress:l},s=OT.a("%{name} <%{emailAddress}>",a),c=Sr.d(i,o),s=s.replace("\u201c\u201d",""),c=c.replace("\u201c\u201d",""),s=s.replace(/\(\s*\)/g,""),c=c.replace(/\(\s*\)/g,""),s=s.replace(/\s+/g," "),c=c.replace(/\s+/g," "),s=s.replace(/([^,<>]*[,<>].*)( <[^<]*)$/,'"$1"$2');var g=this._contactsStore,m=e.recentsGuid;return _F.create({primaryLabel:n,secondaryLabel:r,value:s,previewValue:c,timestamps:e.timestamps,category:Sr.d("ContactsAutocomplete.Category.RECENTS"),contactMatch:Me.b(lF,{matchType:cF.EMAIL,matchValue:l,contactPrimaryKey:m,store:g}),recentsGuid:e.recentsGuid,matchedFields:t})},_autocompleteResultForMatchedRecentsGroup:function(e,t){var n,r,i,a,o,s,c,l,u,d,h,f,p,g,m,v,y,_,b,w,S,E,I,C,O,T=[],A="",N=[],M=[],D=this._dataCache.guidToRecordMapping;if(!(n=D[t]))return null;for(Array.isArray(n.timestamps)||(n.timestamps=[]),o=e.length,c=(a=n.members).length,f=(i=e[0]).matchedFields,p=(d=i.rec).name,v=d.address,p=p.replace(/"/g,""),f.address?p=""!==p?v+" ("+p+")":v:(r=f.name?f.name:f.names,p=this._matchedNameLabelFromMatchedNamePrefix(p,r)),N.push(p),O=1;O<o;O++)d=e[O].rec,f=e[O].matchedFields,p=d.name,v=d.address,""===p&&(p=v),p=p.replace(/"/g,""),N.push(p);g=N.join(", "),s=e.map((function(e){return e.address}));var R=[];for(O=0;O<c;O++)_=(l=a[O]).name,b=l.address,A=(w=D[l.guid])&&w.names&&""!==w.names[0]?w.names[0]:""===_?b:_,-1===s.indexOf(b)&&(A=A.replace(/"/g,"").replace(/,/g,""),T.push(A)),S=[_=_.replace(/^"/,"").replace(/"$/,""),b],h=(h=(h=(h=(h=OT.a.apply("%@ <%@>",S)).replace("\u201c\u201d","")).replace(/\(\s*\)/g,"")).replace(/\s+/g," ")).replace(/([^,<>]*[,<>].*)( <[^<]*)$/,'"$1"$2').trim(),R.push(lF.create({matchType:cF.EMAIL,matchValue:b})),M.push(h);return T.length>0?(T.length>1&&(g+=", "),u=T.pop(),m=Sr.d("ContactsAutocomplete.GroupMembers",{emailAddresses:T.join(", "),lastEmailAddress:u})):(u=N.pop(),g=Sr.d("ContactsAutocomplete.GroupMembers",{emailAddresses:N.join(", "),lastEmailAddress:u}),m=""),C=E=g+m,I=M.join(", "),y=[g,m],_F.create({matchChunks:y,primaryLabel:E,secondaryLabel:void 0,value:I,previewValue:C,timestamps:d.timestamps,isRecentsGroup:!0,recentsGuid:t,contactMatch:Me.b(lF,{matchType:cF.GROUP,matchValue:R})})},_matchedNameLabelFromMatchedNamePrefix:function(e,t){t=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")}(t);var n,r,i=new RegExp(t,"i"),a=new RegExp("[\\s,]"+t,"i");if(0===e.search(i))return e;var o=e.search(a);return o>-1?(r=e.substring(0,o),n=e.substring(o+1)+" "+r):n=t+" ("+e+")",n},_autocompleteResultsForMatchedGroup:function(e,t){var n,r,i,a=this,o=t.name,s=o.length,c=e.name,l=e.displayName,u=e.id,d=e.rosterCount,h=e.contactIds,f=null,p=!1;h?n=h.length:void 0!==d?(p=!0,n=d,r=b.a.create(),i=b.a.create(),r.then((function(){a.fetchAXMGroupMembers(u,RF.CLASS.value,i,null,[])})),f=c):void 0===d&&(p=!0,r=b.a.create(),i=b.a.create(),r.then((function(){a.fetchAXMGroupMembers(u,RF.GROUP.value,i,null,[])})),f=c);var g,m=e.resolvedContacts,v=this._contactsStore;if(m){g=[];for(var y=[],_=m.length,w=0;w<_;++w){var S=m[w],E=S.firstName;E||(E="");var I,C=S.lastName;C||(C="");var O,T=S.emailAddresses;T&&(I=VF(T).field);var A,N,M,D=S.phones;if(D&&(I=VF(D).field),yt.a(I)&&""!==I)A=I,N=cF.EMAIL;else{if(!this.isPhoneNumberSupportEnabled||!yt.a(O))continue;A=O,N=cF.PHONE}M=(M=(M=(M=this._nameDisplayOrder===pF.LAST_FIRST?C+" "+E+" <"+A+">":E+" "+C+" <"+A+">").replace("\u201c\u201d","")).replace(/\(\s*\)/g,"")).replace(/\s+/g," "),y.push(M),g.push(lF.create({matchType:N,matchValue:A,contactPrimaryKey:S.contactId,store:v,matchedFields:t}))}f=y.join(", ")}var R=1===n?Sr.d("ContactsAutocomplete.GroupSecondaryLabel.Single"):Sr.d("ContactsAutocomplete.GroupSecondaryLabel.Multiple",{numberOfContacts:n});return n||(R=""),_F.create({primaryLabel:c,secondaryLabel:R,category:null!=l?l:Sr.d("ContactsAutocomplete.Group"),value:f,previewValue:o+c.substr(s)+(n?" ("+n+")":""),isContactsGroup:!0,isAXMContact:p,contactMatch:Me.b(lF,{matchType:cF.GROUP,matchValue:g}),groupResolvePromise:r,contactMatchItemsPromise:i})},init:function(){this.__s._$JNq$init.apply(this,arguments),this._dataCache=yF.DataCache.create()},_dataCache:null,_addRecordsToStore:function(e,t,n){var r=this._contactsStore;t.forEach((function(t){var i=Yd.getStoreIdForPrimaryKey(e,t[n]);r.hasDataFor(i)||r.writeData(i,t)}))},clearLoadingStatus:function(){this.isAppleIdManagedAppleId&&(this.axmContactsRequestOutstanding=!1,this.axmContactsRequestHasCompleted=!1)},_nameDisplayOrder:v.g({readOnly:!0,get:function(){return gF()}}),_sortOrder:v.g({readOnly:!0,get:function(){return mF(Sr.c())?vF.FIRST_LAST:vF.LAST_FIRST}}),_lastSyncToken:null,_lastPrefToken:null,_skipSyncCount:0,_redirectCountForTimeout:0,_redirectCount:0,MAX_REDIRECT:4,MAX_REDIRECT_FOR_TIMEOUT:1,REDIRECT_RESPONSE_TEXT:"<h1>Redirect</h1>",INTERVAL_XHR_TIMEOUT_FOR_RECENTS_REQUEST:3e4,INTERVAL_XHR_TIMEOUT_FOR_AXMSEARCH_REQUEST:5e3,requestDidComplete:function(e,t){this._requestDidComplete(e,t)},_requestDidComplete:function(e,t){var n=t.type,r=t.onComplete;r&&this[r].call(this,e,n);var i,a,o,s=!1,c=e.status,l=!1;if(200!==100*Math.floor(c/100))if(s=!0,n===OF.CONTACTS)switch(c){case 420:case 422:l=!0}else OF.RECENT_RECIPIENTS;if(i=e.encodedBody)if(0===i.indexOf("<"))s=!0,o="ContactsAutocomplete.Error.Generic";else if(l)o=i;else if("not found"===i)s=!0,o="ContactsAutocomplete.Error.NotFound";else{try{a=e.body}catch(p){s=!0}a?a.errorValue&&(o=a.message,s=!0):s=!0}else s=!0;if(n===OF.CONTACTS&&!s){var u=this.get("syncTokenInUse");a.syncToken?(this._lastSyncToken=a.syncToken,a.prefToken?this._lastPrefToken=a.prefToken:(s=!0,this._lastPrefToken=null,d.b.warn("Autocomplete contacts response error: no prefToken found."))):u&&"{}"===i||(s=!0,this._lastSyncToken=null,d.b.warn("Autocomplete  contacts response error:  no sync token found.")),!u&&this._lastSyncToken&&this._lastPrefToken&&this.sendContactsRequest()}if(s)if(l)this._lastSyncToken=null,this._lastPrefToken=null,this.sendContactsRequest();else{o||(o="ContactsAutocomplete.Error.Generic"),a&&d.b.warn(OT.a("Autocomplete server error: %{err}",{err:c}));var h=t.onError;h?this[h].call(this,e,n,o):this.requestDidError(e,n,o)}else{var f=t.onSuccess;f?this[f].call(this,a,n):this.requestDidSucceed(n)}},requestDidSucceed:function(e){},_failedNetworkRequestCount:v.g(0),requestDidError:function(e,t,n){t===OF.RECENT_RECIPIENTS?this.set("recentsDataIsLoaded",!1):this.set("contactsDataIsLoaded",!1);var r=n;if(!r)try{r=e.body}catch(i){r="ContactsAutocomplete.Error.Generic"}this._failedNetworkRequestCount+=1},recentRecipientsRequestCompleted:function(){this.set("recentsRequestIsOutstanding",!1)},recentRecipientsRequestSucceeded:function(e,t){if(this.set("recentsRequestHasCompleted",!0),t===OF.RECENT_RECIPIENTS){if(e&&e.result){this._dataCache.addRecords(e.result,"Recents",SF);var n=e.result.filter((function(e){return"CoreMail.RecentRecipient"===e.type}));this._addRecordsToStore(sF,n,"recentsGuid")}this.set("recentsDataIsLoaded",!0),this.set("allDataIsLoadedForQuery",!0)}else this.set("recentsRequestHasCompleted",!1)},contactsRequestCompleted:function(){this.set("contactsRequestIsOutstanding",!1)},contactsRequestSucceeded:function(e,t){this.set("contactsRequestHasCompleted",!0);var n=this._dataCache;e&&e.contacts&&(n.addRecords(e.contacts,"Contacts",bF),n.addRecords(e.groups,"Groups",wF),this._addRecordsToStore(sF,e.contacts,"contactId")),this.set("contactsDataIsLoaded",!0),this.set("allDataIsLoadedForQuery",!0)},parseAXMContactsResponse:function(e){var t=this;this.AXMReceipientsHasCompleted=!1;var n=e.body,r=e.headers;if(this._setAXMOrgType(r),n){var i=!1,a={};return n.forEach((function(e){var n=e.type;if(n===RF.PERSON.value){var r=e.personList,o=e.hasMoreData,s=e.cursor,c=e.totalCount;i=o,t._updateAXMContactToMatchAddressBookContact(r),a.contactsHash={contacts:r,hasMoreData:o,cursor:s,totalCount:c}}else if(n===RF.CLASS.value){var l=e.classList,u=e.hasMoreData,d=e.cursor,h=e.totalCount;i=i||u,a.classesHash={classes:l,hasMoreData:u,cursor:d,totalCount:h}}else if(n===RF.GROUP.value){var f=e.groupList,p=e.hasMoreData,g=e.cursor,m=e.totalCount;i=i||p,a.groupsHash={groups:f,hasMoreData:p,cursor:g,totalCount:m}}})),i||(this.AXMReceipientsDataIsLoaded=!0),a}},_haveDelegatePerform:function(e,t,n){var r=this.get("delegate");return!!r&&r[e](t,n)},_indexForString:function(e,t){if(0===e.length)return 0;for(var n,r,i=!1,a=0,o=e.length-1;!i&&a<=o;){n=!1;var s=e[r=Math.floor((a+o)/2)];s===t?i=!0:s<t?(a=r+1,n=!0):o=r-1}var c=r;return n&&++c,c},_updateAXMContactToMatchAddressBookContact:function(e){var t=this;e&&e.forEach((function(e){e.contactId=e.managedAppleId,e.emailAddresses=[{label:Sr.d("ContactsAutocomplete.Category."+t.axmOrgType.value),field:e.managedAppleId}]}))},_sortRecentsResultsByTimeStamp:function(e){return e.length>1&&e.sort((function(e,t){var n=e.timestamps.length,r=t.timestamps.length;if(n>r)return-1;if(n<r)return 1;e.timestamps.sort((function(e,t){return t-e})),t.timestamps.sort((function(e,t){return t-e}));var i=e.timestamps[n-1],a=t.timestamps[r-1];return i===a?0:i>a?-1:1})),e},_setAXMOrgType:function(e){if(Object(N.a)(e))e.hasOwnProperty(xF.toLowerCase())?this.axmOrgType=kF[e[xF.toLowerCase()]]:e.hasOwnProperty(xF)?this.axmOrgType=kF[e[xF]]:Xn.b("OrgType header is missing from AXM Response",{headers:e});else{var t=e.match(xF.toLowerCase()+": (.*)");t&&2===t.length||(t=e.match(xF+": (.*)"))&&2===t.length?this.axmOrgType=kF[t[1]]:Xn.b("OrgType header is missing from AXM Response",{headers:e})}},_loadingStatus:v.g(),_updateLoadingStatus:v.h("_failedNetworkRequestCount","contactsRequestIsOutstanding","contactsDataIsLoaded","axmContactsRequestOutstanding","axmContactsRequestHasCompleted",(function(e,t,n,r,i){var a,o,s=this._loadingStatus;this.isAppleIdManagedAppleId?(a=r,o=i):(a=t,o=n);var c=function(e,t,n,r){var i=Zx;return t>0?i.Failed:n?i.Loading:!n&&r?i.Completed:e===i.Completed||e===i.Failed&&!n&&!r?i.Initial:e}(s,e,a,o);this._loadingStatus=c})),__superMap:{_$JNq$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DataSource"}});function BF(e){if(!e)return 0;if("MAIN"===e)return 3;if("HOME"===e)return 3;if("WORK"===e)return 2;switch(e.toLowerCase()){case"main":return 3;case"home":return 2;case"work":return 1;default:return 0}}function VF(e){return e.reduce((function(e,t){return BF(e.label)>BF(t.label)?t:e}))}var WF={1:"us",7:"ru",20:"eg",27:"za",30:"gr",31:"nl",32:"be",33:"fr",34:"es",36:"hu",39:"it",40:"ro",41:"ch",43:"at",44:"gb",45:"dk",46:"se",47:"no",48:"pl",49:"de",51:"pe",52:"mx",53:"cu",54:"ar",55:"br",56:"cl",57:"co",58:"ve",60:"my",61:"au",62:"id",63:"ph",64:"nz",65:"sg",66:"th",81:"jp",82:"kr",84:"vn",86:"cn",90:"tr",91:"in",92:"pk",93:"af",94:"lk",95:"mm",98:"ir",211:"ss",212:"ma",213:"dz",216:"tn",218:"ly",220:"gm",221:"sn",222:"mr",223:"ml",224:"gn",225:"ci",226:"bf",227:"ne",228:"tg",229:"bj",230:"mu",231:"lr",232:"sl",233:"gh",234:"ng",235:"td",236:"cf",237:"cm",238:"cv",239:"st",240:"gq",241:"ga",242:"cg",243:"cd",244:"ao",245:"gw",246:"io",247:"ac",248:"sc",249:"sd",250:"rw",251:"et",252:"so",253:"dj",254:"ke",255:"tz",256:"ug",257:"bi",258:"mz",260:"zm",261:"mg",262:"re",263:"zw",264:"na",265:"mw",266:"ls",267:"bw",268:"sz",269:"km",290:"sh",291:"er",297:"aw",298:"fo",299:"gl",350:"gi",351:"pt",352:"lu",353:"ie",354:"is",355:"al",356:"mt",357:"cy",358:"fi",359:"bg",370:"lt",371:"lv",372:"ee",373:"md",374:"am",375:"by",376:"ad",377:"mc",378:"sm",379:"va",380:"ua",381:"rs",382:"me",383:"xk",385:"hr",386:"si",387:"ba",389:"mk",420:"cz",421:"sk",423:"li",500:"fk",501:"bz",502:"gt",503:"sv",504:"hn",505:"ni",506:"cr",507:"pa",508:"pm",509:"ht",590:"gp",591:"bo",592:"gy",593:"ec",594:"gf",595:"py",596:"mq",597:"sr",598:"uy",599:"bq",672:"aq",673:"bn",674:"nr",675:"pg",676:"to",677:"sb",678:"vu",679:"fj",680:"pw",681:"wf",682:"ck",683:"nu",685:"ws",686:"ki",687:"nc",688:"tv",689:"pf",690:"tk",691:"fm",692:"mh",800:"xt",850:"kp",852:"hk",853:"mo",855:"kh",856:"la",880:"bd",886:"tw",960:"mv",961:"lb",962:"jo",963:"sy",964:"iq",965:"kw",966:"sa",967:"ye",968:"om",970:"ps",971:"ae",972:"il",973:"bh",974:"qa",975:"bt",976:"mn",977:"np",992:"tj",993:"tm",994:"az",995:"ge",996:"kg",998:"uz"},zF={createFormattedString:function(e,t,n,r,i,a,o){if(!e||!t)return"";var s,c,l,u,d,h,f,p,g,m,v,y=!1,_=!1;h=-1!==(f=this.getIndexOfPauses(e,",;")),d=e,e=-1!==f?e.substr(0,f):e,c=yt.a(t)?t.length:0,m=e.length,p=/[a-zA-Z*#]/.exec(e),g=e.indexOf(p),s="",v=-1!==t.indexOf("c"),i&&!v&&(s+="+"===o?o+r+" ":o+" "+r+" ",i=!1,a=!1,u=!0),-1===t.indexOf("n")&&a&&(s+=n,u=!0);for(var b=0,w=0;b<c&&w<m;++b)switch(t[b]){case"#":isNaN(this.convertFullWidthDigits(e[w]))?(y&&yt.a(/[a-zA-Z*#]/.exec(e[w]))&&(s=s.replace("(",""),y=!1),s+=e[w],++w):(s+=e[w],_=!0,++w);break;case"(":y=!0,s+=t[b];break;case")":y&&(s+=t[b],y=!1);break;case" ":_&&""!==s&&(-1===g||w<=g)&&(s+=t[b]);break;case"n":n&&!u&&(i||a)&&(s+=n,a=!1,u=!0,_=!0);break;case"c":r&&!l&&i&&!u&&(s+=r,l=!0,_=!0);break;default:(-1===g||w<=g)&&(s+=t[b])}if(y){var S,E,I=t.indexOf(")")-t.indexOf("(")-1,C="";S=s.indexOf("("),E=s.length-1-S;for(var O=0;O<I-E;O++)C+=" ";s+=C,s+=")",y=!1}return i&&l&&(s="+"===o?o+s:o+" "+s),s=s.replace("()",""),(s+=h?d.substr(f):"")?s.replace(/\[\[9\]\]|\[\[8\]\]/g,""):""},getInternationalOrNationalAccessCode:function(e,t,n){var r,i,a,o,s,c,l,u,d;if(!t)return"";if(e=e.replace(" ",""),!(i=n?t.nationalAccessCode:t.internationalAccessCode))return"";a="",i=i.split(",");for(var h=0;h<i.length;++h)if(u=(s=(s=i[h])?s.replace(/"/g,""):"").length,l=(c=this.normalizeString(s)).length,-1!==(o=c.indexOf("#"))&&(c=c.substr(0,o)),e.substr(0,c.length).trim()===c){var f=-1===o?c:e.substr(0,l);yt.a(s)&&-1!==(r=s.toString().indexOf(" "))&&(f=f.substr(0,r)+" "+f.substr(r)),d=f;for(var p=0;p<u;p++)"#"===s[p]&&(d=d.substr(0,p)+"#"+d.substr(p+1));if(d===s){a=f;break}}return a},getCountryCodeFromInput:function(e,t){var n,r=WF,i=this.normalizeString(e);if((i=i.substr(t,e.length))&&0!==t&&r){i=this.convertFullWidthDigits(i);for(var a=0;a<=3&&(n=r[i.substr(0,a)],!yt.a(n));++a);return n}return null},internationalPrefixForDigits:function(e,t){if(e)return"+"===e.charAt(0)?"+":this.getInternationalOrNationalAccessCode(e,t,!1).trim()},getMatchedFormatFromFormatsArray:function(e,t,n,r,i,a,o){for(var s,c,l,u,d,h,f,p,g,m,v,y,_=r.phoneFormats,b=_.length,w=0,S=!1,E=0;E<b;E++)if(c=(s=_[E]).format,u=(e=-1!==(l=this.getIndexOfPauses(e,",;"))?e.substr(0,l):e).length,f=c?c.split("#").length-1:0,h=u<(d=s.rangeBegin.toString().length)?"":e.substr(0,d),(h=this.convertFullWidthDigits(h))>=s.rangeBegin&&h<=s.rangeEnd&&u<=f){if(S&&f>w)continue;var I=-1!==s.format.indexOf("n"),C=-1!==s.format.indexOf("c");S=!0,w=f,p=!!i,(!yt.a(g)||a&&!y&&I||p&&!m&&C||!p&&!a&&v<d||v<d&&!y||v<d&&(p&C||a&I)||y&&I&&v<d)&&(g=s,m=C,y=I,v=d)}return g},getFormattedStringUsingMatchedFormat:function(e,t,n,r,i,a,o,s){var c,l=e,u=this.getMatchedFormatFromFormatsArray(e,t,n,r,i,a,o);if(yt.a(u)&&(c=u.format),s&&(s.format=c,s.nationalAccessCode=t,s.countryCode=n),!yt.a(c)){var d=l.indexOf("x");if(-1!==d){var h=l.substring(0,d),f=l.substring(d,l.length),p=this.getFormattedStringUsingMatchedFormat(h,t,n,r,i,a,o,s);return p&&p!==h?p+" "+f:l}var g=this.getInternationalOrNationalAccessCode(l,r,!0),m=this.normalizeString(g),v=m.length;if(g&&o&&n&&"+"===o){l=l.substr(v,l.length);var y=this.getFormattedStringUsingMatchedFormat(l,"",n,r,!1,!1,"",s);if(y&&y!==l){var _=o+n+" ("+m+") "+y;return-1!==_.indexOf(") (")&&(_=_.replace(") (","")),_}return o+n+" ("+m+") "+l}return this.createFormattedString(l,c,t,n,i,a,o)||""}return this.createFormattedString(l,c,t,n,i,a,o)||""},getIndexOfPauses:function(e,t){for(var n=e.length,r=n,i=-1,a=0;a<t.length;a++)-1!==(i=e.indexOf(t[a]))&&r>i&&(r=i);return r===n?-1:r},formatEntryforDigits:function(e,t,n,r){var i,a,o,s,c,l,u=this.normalizeString(t).length,d=this.normalizeString(e),h=d.length,f=d,p=!1,g=!1;0===u&&(n=""),a=this.getInternationalOrNationalAccessCode(d,r,!0),o=this.normalizeString(a).length,a&&0!==o&&0===u&&(g=!0,f=d.substr(o,h)),l=r.numericCountryCode,s=this.getIndexOfPauses(e,",;"),t&&n&&1!==s?(f=d.substr(u+l.length,h),p=!0):p=!1;var m={};if(0===(i=this.getFormattedStringUsingMatchedFormat(f,a,l,r,p,g,t,m)).length&&p){var v=u+l.length,y=-1!==s?e.substr(0,s):e;c=y.length===v||isNaN(y[u])?e:"+"!==t?t+" "+l+" "+f:t+l+" "+f}return{formatted:i=i?i.trim():c,canonical:"+"+l+" "+((this.getFormattedStringUsingMatchedFormat(f,"","",r,p,g,"")||"").trim()||f),nationalNumber:f,prefix:t,numericCode:l,format:m.format,nationalAccessCode:m.nationalAccessCode,countryCode:m.countryCode}},normalizeString:function(e){return e?e.replace(/[^a-zA-Z0-9\uff10-\uff19\u0966-\u096f+,;@.*#'"<>[\]]/g,""):""},convertFullWidthDigits:function(e){return e.replace(/[\uff10-\uff19]/g,(function(e){switch(e){case"\uff10":return"0";case"\uff11":return"1";case"\uff12":return"2";case"\uff13":return"3";case"\uff14":return"4";case"\uff15":return"5";case"\uff16":return"6";case"\uff17":return"7";case"\uff18":return"8";case"\uff19":return"9";default:return e}}))}},HF=oe.a.extend(v.a,ws.a,{basePhoneNumberDataPath:"/phone_numbers/2/",defaultCountryCode:v.g(),format:function(e,t,n){t=t||this.defaultCountryCode;var r=this,i=t&&this._loadedFormats[t];if(t&&!i)return this.load(t).then((function(n){return r.format(e,t)}));var a=zF.normalizeString(e),o=this._getCountryCodeFromNumber(a,i)||t;return o?this.load(o).then((function(t){var a=zF.internationalPrefixForDigits(e,i),s=t.numericCountryCode,c=zF.formatEntryforDigits(e,a,o,t),l=c.formatted;l||(l=e);var u={countryCode:o,numericCountryCode:s,internationalPrefix:a,input:e,output:l,canonical:c.canonical,format:c.format,nationalPart:c.nationalNumber};return u.isValid=!!n||r.isResultValid(u),u})):b.a.resolve({countryCode:void 0,internationalPrefix:void 0,input:e,output:e,canonical:e,format:void 0,isValid:!1})},load:function(e){var t=this._loadedFormats[e];if(pt.a(t))return t;if(t)return t.failure?b.a.reject(t.error):b.a.resolve(t);var n=this.basePhoneNumberDataPath+e+".json",r=Cl.a.create({method:"GET",timeout:15e3,url:n}),i=this;return this._loadedFormats[e]=r.send().then((function(t){var n=JSON.parse(t.encodedBody.replace(/^'/,"").replace(/'\s*$/,""));return n=i._decompressFormats(n),i._loadedFormats[e]=n,n})).catch((function(t){throw i._loadedFormats[e]={failure:!0,error:t},t}))},_loadedFormats:{},_decompressFormat:function(e){var t=/^\[(\d+)](.*)$/.exec(e),n=/^\[(\d+)-(\d+)](.*)$/.exec(e);return n&&4===n.length?{rangeBegin:n[1],rangeEnd:n[2],format:n[3]}:t&&3===t.length?{rangeBegin:t[1],rangeEnd:t[1],format:t[2]}:e},_decompressFormats:function(e){for(var t=e.split("|"),n=t.slice(4),r=n.length;r--;)n[r]=this._decompressFormat(n[r]);return{countryCode:t[0],numericCountryCode:t[1],internationalAccessCode:t[2],nationalAccessCode:t[3],phoneFormats:n}},_getCountryCodeFromNumber:function(e,t){if(!e)return this.defaultCountryCode;var n=zF.internationalPrefixForDigits(e,t);return(n=n.replace(/\s+/g,""))?zF.getCountryCodeFromInput(e,n.length):this.defaultCountryCode},isResultValid:function(e){var t=e.nationalPart,n=e.format;if(!t||!n||!e.countryCode||!e.canonical)return!1;var r=(t.match(/[0-9]/g)||[]).length,i=n.match(/#+/g);if(!i||!i.length)return!1;for(var a=0,o=0,s=i.length;s--;){var c=i[s].length;o?a+=c:o=c}return r>=a+Math.max(o-2,.5*o)},staticMembers:{__QUALIFIED_CLASS_NAME__:"PhoneNumberFormatter"}}),GF=oe.a.extend({nestingPairs:{'"':'"',"'":"'","<":">","[":"]","(":")","{":"}"},escapeCharacters:{"\\":!0},delimiters:{",":!0,";":!0},tokenClasses:{},staticMembers:{valueForNode:function e(t){if("string"===typeof t)return t;for(var n=[],r=0;r<t.length;++r)n.push(e(t[r]));return n.join("")},visit:function e(t,n,r,i){if(i=i||[],"string"===typeof t)return r&&r.push(t),n(t,t,i);i.push(t);for(var a=[],o=0;o<t.length;++o)e(t[o],n,a,i);i.pop();var s=a.join("");return r&&r.push(s),n(t,s,i)},__QUALIFIED_CLASS_NAME__:"TreeTokenizer"},classifyCharacter:function(e){var t=this.tokenClasses;for(var n in t)if(t[n].test(e))return n},ascend:function(e){e&&this.currentNode.push(e),this.groupInterDelimiterContent(this.currentNode),this.terminators.pop();var t=this.parentNodes.pop();t&&(this.currentNode=t)},descend:function(e,t){this.terminators.push(t),this.parentNodes.push(this.currentNode);var n=[e];this.currentNode.push(n),this.currentNode=n},newToken:function(){var e=this.token;e&&(this.currentNode.push(e),this.token="")},groupInterDelimiterContent:function(e){for(var t=0,n=e.length-1;n>t&&e[n]===this.nestingPairs[e[t]];)++t,--n;for(var r=!1,i=n;i>=t;--i){var a=e[i];"string"===typeof a&&this.delimiters[a]&&(r=!0,n-i>1&&e.splice(i+1,n-i,e.slice(i+1,n+1)),n=i-1)}r&&n>1&&e.splice(t,n-t+1,e.slice(t,n+1))},build:function(e){var t,n,r;this.rootNode=[],this.currentNode=this.rootNode,this.parentNodes=[],this.terminators=[],this.token="";for(var i=0,a=e.length;i<a;++i){if(t=n,n=e.charAt(i),!this.escapeCharacters[t]){if(this.delimiters[n]){this.newToken(),this.currentNode.push(n);continue}if(n===this.terminators[this.terminators.length-1]){this.newToken(),this.ascend(n);continue}var o=this.nestingPairs[n];if(o){this.newToken(),this.descend(n,o);continue}}var s=this.classifyCharacter(n);s!==r&&(r=s,this.newToken()),this.token+=n}for(this.newToken();this.parentNodes.length;)this.ascend();return this.groupInterDelimiterContent(this.rootNode),this.rootNode}}),$F=nh.extend({staticMembers:{currentUserRecordName:v.g(),isCurrentUserUnauthenticated:v.g(),createFromString:function(e){return this.create(cP(e))},isValidEmailAddress:iP,splitAddressString:function e(t){if(t=(t||"").trim(),/[\r\n]+/.test(t)){for(var n=t.split(/\s*[\r\n]+\s*/),r=[],i=n&&n.length||0,a=0;a<i;++a){var o=n[a];o&&(r=r.concat(e(o)))}return r}if(!/[,;]+/.test(t))return[t];t=oP(t,nP);for(var s=rP.build(t),c=[],l="",u=s.length,d=0;d<u;++d){var h=GF.valueForNode(s[d]);if(/^[\s,;]+$/.test(h)){var f=cP(l).lookupInfo;!f||f.phoneNumber||f.emailAddress?(c.push(l.trim()),l=""):l+=h}else l+=h}return c.push(l.trim()),c},__QUALIFIED_CLASS_NAME__:"UserIdentity"},userRecordName:uh(),lookupInfo:uh(),nameComponents:uh(),givenName:v.g({dependencies:["nameComponents"],readOnly:!0,get:Object.assign((function(){var e=this.nameComponents;return e?e.givenName:null}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return i?i.givenName:null}})}),familyName:v.g({dependencies:["nameComponents"],readOnly:!0,get:Object.assign((function(){var e=this.nameComponents;return e?e.familyName:null}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return i?i.familyName:null}})}),emailAddress:v.g({dependencies:["lookupInfo"],readOnly:!0,get:Object.assign((function(){var e=this.lookupInfo;return e?e.emailAddress:null}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return i?i.emailAddress:null}})}),phoneNumber:v.g({dependencies:["lookupInfo"],readOnly:!0,get:Object.assign((function(){var e=this.lookupInfo;return e?e.phoneNumber:null}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return i?i.phoneNumber:null}})}),formattedPhoneNumber:v.g({dependencies:["phoneNumber"],readOnly:!0,get:Object.assign((function(){var e=this.phoneNumber;if(!e)return"";var t=e;/^\s*\+/.test(t)||(t="+"+t);var n=this._phoneNumberFormatterResults;if(n&&n.input===t)return n.output;var r=this;return HF.sharedInstance.format(t).then((function(e){r._phoneNumberFormatterResults=e,r.propertyChanged("formattedPhoneNumber")})).catch((function(t){return r._phoneNumberFormatterResults=null,e})),e}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);if(!i)return"";var a=i;/^\s*\+/.test(a)||(a="+"+a);var o=this._phoneNumberFormatterResults;if(o&&o.input===a)return o.output;var s=this;return HF.sharedInstance.format(a).then((function(e){s._phoneNumberFormatterResults=e,s.propertyChanged("formattedPhoneNumber")})).catch((function(e){return s._phoneNumberFormatterResults=null,i})),i}})})});function KF(e){return e&&e===$F.currentUserRecordName}$F.prototype.registerMetadata("isCurrentlyLoggedInUser",v.g({allowAtCreate:!0,readOnly:!0,dependencies:["userRecordName",$F.bindingFor("currentUserRecordName")],get:Object.assign((function(){return KF(this.userRecordName)}),{__CW__getter:function(e,t,n,r){return KF(r.internalGet(this,t[0+n]))}})}));var QF=/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,30}/gi,qF=/[a-z\u007E-\uFFFF0-9._%+-]+@[a-z\u007E-\uFFFF0-9.-]+\.[a-z\u007E-\uFFFF]{2,30}/gi,ZF=/([a-z\u007E-\uFFFF0-9._%+-]+@[a-z\u007E-\uFFFF0-9.-]+\.[a-z\u007E-\uFFFF]{2,30}\s*){2,}/gi,YF="0-9\\uff10-\\uff19\\u0660-\\u0669\\u06F0-\\u06F9\\u0966-\\u096F\\u09E6-\\u09FF\\u0E50-\\u0E59",XF="\\(\\)\\s\\-\\+\\.\\,",JF=new RegExp("([+\\(])?((["+YF+"]+)(["+XF+"]{1,3}|x|ext))+(["+YF+"]+)","gi"),eP=new RegExp("([+\\(])?(["+YF+"]+)((["+XF+"]{1,3}|x|ext)(["+YF+"a-z]+))+","gi"),tP=new RegExp("\\+?(["+YF+"]+)","gi"),nP={"<":">","(":")","{":"}","'":"'",'"':'"'},rP=GF.create();function iP(e){QF.lastIndex=0;var t=QF.exec(e);return!(!t||1!==t.length||t[0]!==e)}function aP(e,t,n,r,i,a){t.lastIndex=0;var o=t.exec(e),s=o&&o[0].trim();if(i&&s&&(s=i(s)),!s)return e;r[n]=s;var c=e.indexOf(s),l=c+s.length,u=e.substr(0,c).trim(),d=e.substr(l).trim();if(a)for(;d.charAt(0)===a[u.charAt(u.length-1)]&&d.charAt(0);)u=u.substr(0,u.length-1),d=d.substr(1);return u+d}function oP(e,t){for(e=e.trim();e.charAt(e.length-1)===t[e.charAt(0)];)e=e.substr(1,e.length-2);return e}function sP(e,t){var n=e=(e=(e=oP(e,nP)).replace(/^[,;\s]*(.*)[,;\s]*$/,"$1")).replace(/,\s*[A-Z]+$/i,""),r="",i=/^(.*)\s(\S+)\s*$/.exec(e);i&&3===i.length&&(n=i[2],r=i[1]),t.familyName=n.trim(),t.givenName=r.trim()}function cP(e){var t={nameComponents:{},lookupInfo:{}};return e=e.replace(/[\u00A0\u1680\u180e\u2000-\u2009\u200a\u200b\u202f\u205f\u3000]/g," "),ZF.lastIndex=0,ZF.test(e)?(sP(e,t.nameComponents),t):(e=function(e,t){var n=aP(e,qF,"emailAddress",t,null,nP);return iP(t.emailAddress)?n:(delete t.emailAddress,e)}(e,t.lookupInfo),t.lookupInfo.emailAddress||(e=function(e,t){function n(e){return e.replace(new RegExp("[^"+YF+"]","g"),"").length>=5?e:null}return e=aP(e,JF,"phoneNumber",t,n,nP),t.phoneNumber?e:(e=aP(e,eP,"phoneNumber",t,(function(e){return e.replace(new RegExp("[^"+YF+"]","g"),"").length+e.replace(/[^A-Za-z]/g,"").length>=5?e:null}),nP),t.phoneNumber?e:e=aP(e,tP,"phoneNumber",t,n,nP))}(e,t.lookupInfo)),sP(e,t.nameComponents),t)}function lP(e,t){var n,r;if(e||t)return!(e&&!uP(n=e.trim().charAt(0).toUpperCase()))&&(!(t&&!uP(r=t.trim().charAt(0).toUpperCase()))&&uA({givenName:n,familyName:r}).replace(/\s+/g,""))}function uP(e){return!qo(e)&&/^[a-zA-Z]*$/g.test(function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e.charAt(n);t+=tf[i]||i}return t}(e))}var dP=nh.extend({type:uh({type:String}),permission:uh(),acceptanceStatus:uh(),isOrgUser:uh({dataKey:"orgUser"}),userIdentity:gh({type:$F,embedded:!0}),isOwner:v.g({readOnly:!0,dependencies:["type"],get:Object.assign((function(){return this.type===YR.OWNER}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===YR.OWNER}})}),displayName:v.g({readOnly:!0,dependencies:["addressBookContact.firstName","addressBookContact.lastName","userIdentity","userIdentity.givenName","userIdentity.familyName","userIdentity.emailAddress","userIdentity.phoneNumber","userIdentity.formattedPhoneNumber","isMe","isOwner"],get:Object.assign((function(){var e,t,n=this.addressBookContact;n&&(e=n.firstName,t=n.lastName);var r=this.userIdentity;return r&&(!e||!t||this.isMe&&this.isOwner)&&(e=r.givenName,t=r.familyName),uA({givenName:e,familyName:t,emailAddress:r?r.emailAddress:void 0,phoneNumber:r?r.formattedPhoneNumber:void 0})}),{__CW__getter:function(e,t,n,r){var i,a,o=this.addressBookContact;o&&(i=o.firstName,a=o.lastName);var s=r.internalGet(this,t[2+n]);return s&&(!i||!a||r.internalGet(this,t[8+n])&&r.internalGet(this,t[9+n]))&&(i=s.givenName,a=s.familyName),uA({givenName:i,familyName:a,emailAddress:s?s.emailAddress:void 0,phoneNumber:s?s.formattedPhoneNumber:void 0})}})}),displayNameIsPhoneNumber:v.g({readOnly:!0,dependencies:["displayName","userIdentity.formattedPhoneNumber"],get:Object.assign((function(){return this.displayName===this.getPath("userIdentity.formattedPhoneNumber")}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===r.internalGetPath(this,t[1+n])}})}),displayNameInitials:v.g({readOnly:!0,dependencies:["addressBookContact.firstName","addressBookContact.lastName","userIdentity.givenName","userIdentity.familyName"],get:Object.assign((function(){var e=this.getPath("addressBookContact.firstName"),t=this.getPath("addressBookContact.lastName");return e&&t||(e=this.getPath("userIdentity.givenName"),t=this.getPath("userIdentity.familyName")),lP(e,t)}),{__CW__getter:function(e,t,n,r){var i=r.internalGetPath(this,t[0+n]),a=r.internalGetPath(this,t[1+n]);return i&&a||(i=r.internalGetPath(this,t[2+n]),a=r.internalGetPath(this,t[3+n])),lP(i,a)}})}),isMe:v.g({readOnly:!0,dependencies:["userIdentity.isCurrentlyLoggedInUser"],get:Object.assign((function(){return this.getPath("userIdentity.isCurrentlyLoggedInUser")}),{__CW__getter:function(e,t,n,r){return r.internalGetPath(this,t[0+n])}})}),addressBookContact:v.g(),addressBookContactDidChange:v.h("addressBookContact",(function(e){e&&e.loadImageData()})),loadAddressBookContact:function(e){var t=this,n=this.isMe,r=this.getPath("userIdentity.emailAddress"),i=this.getPath("userIdentity.phoneNumber");n?this.addressBookContact=e.getMeCard():r?e.lookUpContactByEmailAddress(r).then((function(e){return t.addressBookContact=e})):i&&e.lookUpContactByPhoneNumber(i).then((function(e){return t.addressBookContact=e}))},additionalParticipantInfo:v.g(),isInvalid:y.c(),invalidReason:y.c(),staticMembers:{__QUALIFIED_CLASS_NAME__:"Participant"}}),hP=n(1383),fP=oe.a.extend(v.a,{action:v.g(),title:v.g(),titleIsAlwaysLTR:v.g({type:"boolean"}),iconClass:v.g(),isDisabled:v.g(),keyCombo:v.g(),keySequence:v.g({dependencies:["keyCombo"],get:Object.assign((function(){return this._keySequence||hP.a.create(this.keyCombo)}),{__CW__getter:function(e,t,n,r){return this._keySequence||hP.a.create(r.internalGet(this,t[0+n]))}}),set:function(e){this._keySequence=e}}),hasCheckmark:v.g({type:"boolean"}),shouldEscape:v.g(),staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuItem"}}),pP=oe.a.extend({staticMembers:{__QUALIFIED_CLASS_NAME__:"DividerItem"}}),gP=(v.a,{mixinDependencies:[$.a],autocompleteItemWasSelected:yd.a}),mP=Bx.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",styles:{width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"width",attributes:{},unit:"px",property:"width"}}}},__QUALIFIED_CLASS_NAME__:"AutocompleteTextField"},delegate:v.g({type:gP}),dataSource:v.g({type:fF}),autocomplete:"off",autocorrect:"off",spellcheck:"false",autocapitalize:"false",width:v.g(500),didAttach:function(){var e=this.dataSource;e&&e.load()},didDetach:function(){},query:v.g(""),fullPreview:v.g(_.c("menu.highlightedItem.previewValue")),highlightedItem:v.g(_.c("menu.highlightedItem")),autocompleteItemWasSelected:function(e){var t=(this.value=e.value).length;A.a.sharedInstance.isEdge&&(this._shouldSkipNextInputEvent=!0),this.selection={start:t,end:t},this.menu&&this.menu.hide(),this.query="";var n=this.delegate;n&&n.autocompleteItemWasSelected&&n.autocompleteItemWasSelected(this,e),this.sendEvent("didAutocomplete",e)},minimumCharacters:v.g(0),backspaceDelay:800,menu:v.g(),isMenuVisible:v.g({readOnly:!0,dependencies:["_items","_items.contentsDidChange","isFocused"],get:Object.assign((function(){return this.isFocused&&this._items.length>0}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[2+n])&&r.internalGet(this,t[0+n]).length>0}})}),_isMenuVisibleDidChange:v.h("isMenuVisible",(function(e){var t=this.menu;t&&(e?(t.show(),this.sendEvent("pauseParsing")):(t.hide(),this.sendEvent("resumeParsing")))})),_timeElapsedFromBackspace:v.g({defaultValue:function(){return this.backspaceDelay}}),_isAutocompletingTextField:v.g({readOnly:!0,dependencies:["isMenuVisible","_timeElapsedFromBackspace","isFocused","isIMEInputActive"],get:Object.assign((function(){return this.isMenuVisible&&this.isFocused&&!this.isIMEInputActive&&this._timeElapsedFromBackspace>=this.backspaceDelay}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])&&r.internalGet(this,t[2+n])&&!r.internalGet(this,t[3+n])&&r.internalGet(this,t[1+n])>=this.backspaceDelay}})}),_isAutocompletingTextFieldDidChange:v.h("_isAutocompletingTextField","fullPreview",(function(e,t){if(e&&t&&t.length>0){this.value=t;var n=this.query.length,r=this.value.length;A.a.sharedInstance.isEdge&&(this._shouldSkipNextInputEvent=!0),this.selection={start:n,end:r}}})),_items:v.g({strong:!0,defaultValue:Me.b(dk)}),_queryDidChangeObserver:v.h({inputs:["query","minimumCharacters","dataSource"],callback:function(e,t,n){!n||e.length<t?this._items.clear():this.queryDidChange(e,n)}}),queryDidChange:function(e,t){var n=this;t.clearLoadingStatus(),t.fetchRequiredData(e).then((function(){var r=t.autocompleteItemsForText(e);if(e===n.query){n._items=r;var i=n.menu;i&&!i.highlightedItem&&i.highlightNextItem()}}))},_shouldSkipNextInputEvent:!1,input:function(e){if(this.__s._$1UH$input.call(this,e),this._shouldSkipNextInputEvent)this._shouldSkipNextInputEvent=!1;else{var t=this.value;this.query=t?this.value:""}},keyDown:function(e){var t=!1,n=this.isMenuVisible,r=this.highlightedItem;switch(e.which){case nk.a.DOWN:e.preventDefault(),this.menu.highlightNextItem(),t=n;break;case nk.a.UP:e.preventDefault(),this.menu.highlightPreviousItem(),t=n;break;case nk.a.LEFT:case nk.a.RIGHT:case nk.a.COMMA:r&&n&&(e.preventDefault(),this.autocompleteItemWasSelected(r),t=!0);break;case nk.a.ENTER:r&&n?(e.preventDefault(),this.autocompleteItemWasSelected(r),t=!0):n||(t=this.__s._$1sw$keyDown.apply(this,arguments));break;case nk.a.BACKSPACE:this._timeElapsedFromBackspace=0,this._backspaceCompletionTimer.restart(),t=!1;break;default:t=!1}return t},_backspaceCompletionTimer:v.g({defaultValue:function(){return sL.a.create({delay:this.backspaceDelay,target:this,action:"_recordTimeElapsedFromBackspace"})}}),_recordTimeElapsedFromBackspace:function(){this._timeElapsedFromBackspace+=this._backspaceCompletionTimer.delay},_isAttachedDidChange:v.h("isAttached",(function(e){e?this.didAttach():this.didDetach()})),__superMap:{_$1UH$input:"input",_$1sw$keyDown:"keyDown"}}),vP=Ar.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"textField"},{type:"ELEMENT",tagname:"span",name:"testMeasurer",styles:{position:"absolute",left:"-1000px",top:"-1000px",visibility:"hidden","white-space":"pre"}}],styles:{width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"width",attributes:{signal:"widthDidRender"},unit:"px",property:"width"}}},extraSpace:v.g({readOnly:!0,get:function(){var e=A.a.sharedInstance;return e.isIE||e.isEdge?5:0}}),className:"ck-sharing-resizing-autocomplete-text-field",__QUALIFIED_CLASS_NAME__:"ResizingAutocompleteTextField"},_items:v.g({strong:!0,binding:_.c("textField._items")}),isFocusable:!0,defaultFocusChild:_.c("textField"),focusAsLeaf:function(){this.focusDefault()},isFocused:v.g({readOnly:!0,dependencies:["isInFocusedBranch"],get:Object.assign((function(){return this.isInFocusedBranch}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])}})}),textField:v.g({defaultValue:Me.b(mP.extend({additionalClassNames:["token-item-textfield"]})),downstreamBindings:{value:"(owner).value",menu:"(owner).menu",delegate:"(owner).delegate",dataSource:"(owner).dataSource",isDisabled:"(owner).isDisabled",minimumCharacters:"(owner).minimumCharacters",width:"(owner).width"}}),value:v.g(),menu:v.g(),delegate:v.g(),dataSource:v.g(),isDisabled:v.g(),width:v.g({readOnly:!0,dependencies:["value","isAttached"],get:Object.assign((function(){var e=this.testMeasurer;e.textContent=this.value;var t=e.offsetWidth+this.constructor.extraSpace;return e.innerText="",t+3}),{__CW__getter:function(e,t,n,r){var i=this.testMeasurer;i.textContent=r.internalGet(this,t[0+n]);var a=i.offsetWidth+this.constructor.extraSpace;return i.innerText="",a+3}})}),minimumCharacters:v.g(1),_windowDidResize:v.h(A.a.bindingFor("sharedInstance.window.width"),"textField.isMenuVisible",(function(e,t){var n=this.menu;if(n&&t){var r=n.anchorLayoutMeasurer;r&&r.recomputeLayoutIfNecessary()}})),selection:v.g({cacheable:!1,readOnly:!0,dependencies:["textField.selection"],get:Object.assign((function(){return this.getPath("textField.selection")}),{__CW__getter:function(e,t,n,r){return r.internalGetPath(this,t[0+n])}})})}),yP=S.b("TokenItemStatus",{OK:"OK",PENDING:"PENDING",INVALID:"INVALID"}),_P=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim().toLowerCase()},bP={"\uff10":"0","\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u06f0":"0","\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u0966":"0","\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u09e6":"0","\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ff":"9","\u0e50":"0","\u0e51":"1","\u0e52":"2","\u0e53":"3","\u0e54":"4","\u0e55":"5","\u0e56":"6","\u0e57":"7","\u0e58":"8","\u0e59":"9",a:"2",b:"2",c:"2",d:"3",e:"3",f:"3",g:"4",h:"4",i:"4",j:"5",k:"5",l:"5",m:"6",n:"6",o:"6",p:"7",q:"7",r:"7",s:"7",t:"8",u:"8",v:"8",w:"9",x:"9",y:"9",z:"9"},wP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(e=(e=e.toLowerCase()).replace(/./g,(function(e){return bP[e]||e})))&&e.replace(/[^0-9+]/g,"")},SP=zx.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{signal:"titleDidRender"}}],classes:["title"]}],classes:["title-wrapper"]},{type:"VIEWOUTLET",tagname:"view",name:"menuButton"}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isSelected",truevalue:"is-selected",attributes:{}}],attributes:{title:{key:"title",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"tooltip",attributes:{},attribute:"title"},type:"ATTRIBUTE"}}},className:"cw-ui-views-token-button",__QUALIFIED_CLASS_NAME__:"TokenButtonView"},isPending:v.g(!1),isInvalid:v.g(!1),invalidReason:v.g({defaultValue:Sr.d("CKSharing.InvalidToken.GeneralReason")}),tooltip:v.g({type:String,dependencies:["isInvalid","invalidReason","isPending"],readOnly:!0,get:Object.assign((function(){var e,t=this.title,n=this.isInvalid,r=this.invalidReason;return this.isPending?e=t:n&&(e=r),e}),{__CW__getter:function(e,t,n,r){var i,a=this.title,o=r.internalGet(this,t[0+n]),s=r.internalGet(this,t[1+n]);return r.internalGet(this,t[2+n])?i=a:o&&(i=s),i}})})}),EP=Hx.extend({tokenTextField:v.g({defaultValue:Me.b(vP),downstreamBindings:{minimumCharacters:"(owner).minimumCharacters"}}),staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isInvalid",truevalue:"invalid",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isPending",truevalue:"pending",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"TokenItemView"},status:v.g(yP.OK),minimumCharacters:v.g(1),isCurrentUserManagedAppleID:v.g(!1),isAXMServiceAvailable:v.g(!1),isUserAccountMAIDAndMaidAutoCompleteServiceAvailable:v.g({readOnly:!0,dependencies:["isCurrentUserManagedAppleID","isAXMServiceAvailable"],get:Object.assign((function(){return this.isCurrentUserManagedAppleID&&this.isAXMServiceAvailable}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])&&r.internalGet(this,t[1+n])}})}),isInvalid:v.g({readOnly:!0,dependencies:["status"],get:Object.assign((function(){return this.status===yP.INVALID}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===yP.INVALID}})}),invalidReason:v.g({defaultValue:Sr.d("CKSharing.InvalidToken.GeneralReason")}),isPending:v.g({readOnly:!0,dependencies:["status"],get:Object.assign((function(){return this.status===yP.PENDING}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===yP.PENDING}})}),tokenButton:v.g({defaultValue:Me.b(SP,{action:"tokenButtonWasPressed",additionalClassNames:["token-item-button"],isFocusable:!0}),downstreamBindings:{title:"(owner).value",isSelected:"(owner).isSelected",isPending:"(owner).isPending",isInvalid:"(owner).isInvalid",invalidReason:"(owner).invalidReason"}}),autocompleteItem:v.g({strong:!0,defaultValue:null}),menuTitle:v.g({didChange:function(e){var t=this.menuItems,n=t&&t.objectAt(0);n&&(n.title=e||"")}}),hydratedValue:v.g({readOnly:!0,dependencies:["value","userIdentity"],get:Object.assign((function(){var e=this.userIdentity;if(!e)return this.value;var t=(e.givenName||"").trim(),n=(e.familyName||"").trim(),r=(e.phoneNumber||"").trim(),i=(e.emailAddress||"").trim(),a=this.formatDisplayName(e);return(t||n)&&(r||i)?a+" <"+(r||i)+">":a}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[1+n]);if(!i)return r.internalGet(this,t[0+n]);var a=(i.givenName||"").trim(),o=(i.familyName||"").trim(),s=(i.phoneNumber||"").trim(),c=(i.emailAddress||"").trim(),l=this.formatDisplayName(i);return(a||o)&&(s||c)?l+" <"+(s||c)+">":l}})}),userIdentity:v.g({strong:!0,didChange:function(e){if(e){this.value=this.formatDisplayName(e);var t=e.emailAddress,n=e.phoneNumber,r=yP.INVALID,i=this.status===yP.INVALID;t?(this.menuTitle=t,this.contentIsAlwaysLTR=!1,!i&&$F.isValidEmailAddress(t)&&(r=yP.OK)):n?(this._configureForPhoneNumber(n),i||(r=yP.PENDING)):this.menuTitle=this.value,this.status=r,this.sendEvent("tokenValueChanged")}}}),_configureForPhoneNumber:function(e){this.menuTitle=e,this.contentIsAlwaysLTR=!0;var t=this;this.formatPhoneNumber(e).then((function(e){if(t.sendEvent("phoneNumberValidationDidComplete",e.isValid),e.isValid){var n=e.canonical,r=t.userIdentity;r.lookupInfo={phoneNumber:n},t.value=t.formatDisplayName(r),t.menuTitle=n}else t.invalidReason=Sr.d("CKSharing.InvalidToken.GeneralReason");t.status!==yP.INVALID&&(t.status=e.isValid?yP.OK:yP.INVALID),t.sendEvent("tokenValueChanged")})).catch((function(e){t.status=yP.INVALID,t.sendEvent("tokenValueChanged")}))},formatDisplayName:function(e){return uA(e)},buildMenuItemsForPhoneNumber:function(){var e=this.createInitialContactMenuItems(!0);return this.addCommonMenuItems(e,"Phone"),dk.create(e)},buildMenuItemsForEmailAddress:function(){var e=this.createInitialContactMenuItems(!1);return this.addCommonMenuItems(e,"Email"),dk.create(e)},buildMenuItemsForUnknownItem:function(){var e=this.createInitialContactMenuItems();return this.addCommonMenuItems(e,"Unknown"),dk.create(e)},buildMenuItemsForPendingItem:function(){var e=[];return this.addCommonMenuItems(e,"Unknown"),dk.create(e)},addCommonMenuItems:function(e,t){this.status!==yP.PENDING&&e.push(fP.create({title:Sr.d("CKSharing.AddParticipants.TokenItemMenu.Edit"+t),target:this,action:"editItem"})),e.push(fP.create({title:Sr.d("CKSharing.AddParticipants.TokenItemMenu.Remove"+t),target:this,action:"removeItem"}))},createInitialContactMenuItems:function(e){var t=[fP.create({title:this.menuTitle,titleIsAlwaysLTR:e,action:"",isDisabled:!0,hasCheckmark:!0})],n=this.autocompleteItem,r=n&&n.contactMatch&&n.contactMatch.contact,i=r&&r.emailAddresses,a=r&&r.phones,o=this;return i&&i.forEach((function(e){o._addAutocompleteMenuItem(t,r,e)})),a&&a.forEach((function(e){o._addAutocompleteMenuItem(t,r,e,!0)})),t.push(pP.create({})),t},_addAutocompleteMenuItem:function(e,t,n,r){var i=n.field,a=n.label,o="ContactsAutocomplete.Category."+a,s=Sr.d(o);s!==o&&(a=s);var c=this.autocompleteItem;if((c.contactMatch&&c.contactMatch.matchValue)!==i){var l={nameComponents:{givenName:t.firstName,familyName:t.lastName},lookupInfo:{emailAddress:r?void 0:i,phoneNumber:r?i:void 0}},u=Sr.d("CKSharing.AddParticipants.TokenItemMenu.AutocompleteItem.Title",{field:i,label:a});e.push(fP.create({title:u,userIdentityData:l,matchType:r?cF.PHONE:cF.EMAIL,matchValue:i,target:this,action:"didSelectAutocompleteMenuItem"}))}},didSelectAutocompleteMenuItem:function(e){if(e){var t=e.userIdentityData;t&&(this.userIdentity=$F.create(t)),this.autocompleteItem.contactMatch.matchValue=e.matchValue,this.autocompleteItem.contactMatch.matchType=e.matchType}},serverCanonicalizePhoneNumber:function(e){var t={};return this.sendEvent("canonicalizePhoneNumbers",[e],t),t.value||b.a.reject()},formatPhoneNumber:function(e){var t=HF.sharedInstance;return this.serverCanonicalizePhoneNumber(e).catch((function(n){return t.format(e,void 0,!0).then((function(e){return e.isValid=!1,e}))})).then((function(n){var r=n[0]&&"+"+n[0];return t.format(r||e,void 0,!0).then((function(e){return r||(e.isValid=!1),e}))}))},displayMenu:function(e){var t=this.menuController=Mx.extend({_menuItemForEvent:function(){var e=this.__s._$7AM$_menuItemForEvent.apply(this,arguments);return yt.a(e)?e:null},__superMap:{_$7AM$_menuItemForEvent:"_menuItemForEvent"}}).create({listCollection:e,target:this,listLayoutRowHeight:27,shouldMeasure:!0,verticalAlignment:TD.Bottom,horizontalAlignment:AD.Left,allowedLayouts:[GD,$D,QD,KD],resolutionStrategy:YD,isAlignmentRequired:!1,arrowAlignment:DD.None}),n=this.tokenButton.menuButton;t.show(n)},menuController:v.g({strong:!0}),tokenMenuButtonClicked:function(){var e=this.userIdentity;e&&e.phoneNumber?this.displayMenu(this.menuItems=this.buildMenuItemsForPhoneNumber()):e&&e.emailAddress?this.displayMenu(this.menuItems=this.buildMenuItemsForEmailAddress()):this.status===yP.PENDING?this.displayMenu(this.menuItems=this.buildMenuItemsForPendingItem()):this.displayMenu(this.menuItems=this.buildMenuItemsForUnknownItem())},editItem:function(){setTimeout(this.startEditing.bind(this),0)},startEditing:function(){var e=this.userIdentity;e&&(e.emailAddress?this.value=e.emailAddress:e.phoneNumber&&(this.value=e.phoneNumber)),this.__s._$8GU$startEditing.apply(this,arguments)},updateForContactMatch:function(e,t){var n=this;if(e&&e.contactMatch){var r=e.isAXMContact,i=e.contactMatch,a=i.matchType,o=i.matchValue,s=i.contact;!this.isUserAccountMAIDAndMaidAutoCompleteServiceAvailable||this.isUserAccountMAIDAndMaidAutoCompleteServiceAvailable&&r?this.status=yP.OK:(this.status=yP.INVALID,this.invalidReason=Sr.d("CKSharing.InvalidToken.NotAXMContact"));var c=a.value;if(e.contactMatchItemsPromise)return this.autocompleteItem=e,this.status=yP.PENDING,e.contactMatchItemsPromise.then((function(e){var r=e.items,i=e.error;if(r){var a=r.pop();r.forEach((function(e){n.sendEvent("createNewTokenItemFromAutocompleteItemBeforeCurrentToken",n,e)})),n.updateForContactMatch(a),t&&t()}else i&&(n.sendEvent("showAXMFetchMembersAlert",n._axmGroupName),n.removeItem());n._axmGroupName=void 0})),this._axmGroupName=this.value,this.value=Sr.d("CKSharing.AXMGroup.LoadingMembers"),void this.stopEditing();if("GROUP"===c){for(var l=o.length-1,u=0,d=l;u<d;++u)this.sendEvent("createNewTokenItemFromAutocompleteItemBeforeCurrentToken",this,{contactMatch:o[u]});return this.updateForContactMatch({contactMatch:o[l]}),void(t&&t())}var h="",f="";s&&(h=s.firstName,f=s.lastName);var p=e.contactMatch.contact;h=p&&p.firstName||"",f=p&&p.lastName||"","EMAIL"!==c||$F.isValidEmailAddress(o)||(h||f||(h=o),o=void 0),this.userIdentity=$F.create({nameComponents:{givenName:h,familyName:f},lookupInfo:{emailAddress:"EMAIL"===c?o:void 0,phoneNumber:"PHONE"===c?o:void 0}}),this.autocompleteItem=e,t&&t()}},didAutocomplete:function(e){this._isInDidAutocomplete=!0,this._resolveAXMGroupIfRequired(e),this.updateForContactMatch(e,this.postTokenUpdationCallback.bind(this))},postTokenUpdationCallback:function(){this.sendEvent("createNewEditingTokenAfterCurrentToken",this),this.stopEditing(),this._isInDidAutocomplete=!1},removeItem:function(){this.sendEvent("deleteCurrentToken",this)},shouldUpdateUserIdentity:function(e){var t=this.userIdentity;return!t||!e||!t.familyName&&!t.givenName||!t.emailAddress&&!t.phoneNumber||_P(t.emailAddress)!==_P(e.emailAddress)||wP(t.phoneNumber)!==wP(e.phoneNumber)},tokenStoppedEditing:function(){var e=(this.value||"").trim();if(!this.isEditing||this._isInDidAutocomplete||!e)return!1;var t=$F.createFromString(e);return this.shouldUpdateUserIdentity(t)?(this.userIdentity=t,this.autocompleteItem=null):this.value=this.formatDisplayName(this.userIdentity),this.isUserAccountMAIDAndMaidAutoCompleteServiceAvailable&&!this.autocompleteItem&&this.status!==yP.INVALID&&(this.status=yP.INVALID,this.invalidReason=Sr.d("CKSharing.InvalidToken.NotAXMContact")),!1},keyDown:function(e){var t=e.which,n=this.value+",",r=this.parseValueForTokens(n),i=this.__s._$BTq$keyDown.call(this,e);return!i&&this.isEditing&&t===nk.a.COMMA&&r.length>1&&(this.stopEditing(),this.reEmptyToken.test(n)||this.sendEvent("createNewEditingTokenAfterCurrentToken",this),e.preventDefault(),i=!0),i},_resolveAXMGroupIfRequired:function(e){e.groupResolvePromise&&e.groupResolvePromise.resolve()},__superMap:{_$8GU$startEditing:"startEditing",_$BTq$keyDown:"keyDown"}}),IP=oe.a.extend({init:function(e){this.requestOptions=e,this.__s._$3Q$init.call(this)},send:function(){var e=this.requestOptions,t=e.url;return(e.shouldFinalizeWithResponse?zl:Hl)(t,e).then((function(e){return e.json().then((function(t){var n=e.status,r=e._encodedBody,i=e.headers,a=GR.a.create({status:n,encodedBody:r,headers:i});return e.ok?a:b.a.reject(a)}))}))},__superMap:{_$3Q$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CoskBridgeRequest"}}),CP=Yx.extend({CustomAutocompleteDataSourceClass:v.g(),CustomLoadMembershipInfoHandlerClass:v.g(),hostedByCloudOSOne:v.g(!0),tokenItemViewClass:EP,isCurrentUserManagedAppleID:v.g(),isAXMServiceAvailable:v.g(),menu:v.g({dependencies:["CustomLoadMembershipInfoHandlerClass","hostedByCloudOSOne"],readOnly:!0,get:Object.assign((function(){var e=dF.extend({_menuItemForEvent:function(){var e=this.__s._$nb$_menuItemForEvent.apply(this,arguments);return yt.a(e)?e:null},__superMap:{_$nb$_menuItemForEvent:"_menuItemForEvent"}}).create({target:this,anchor:this,layout:Fx.DOUBLE_LINE,allowedLayouts:[QD],width:this.bindingFor("width")}),t=this.CustomLoadMembershipInfoHandlerClass;if(t)e.contentController.membershipInfoLoader.loadMembershipInfoHandler=t.create();else if(!this.hostedByCloudOSOne){var n=e.contentController.membershipInfoLoader,r=n.loadMembershipInfoHandler.constructor;n.loadMembershipInfoHandler=r.extend({createRequest:function(e){var t={method:"POST",body:e,timeout:6e4,useCredentialsIfCrossOrigin:!0,url:ac("cksharews","ws/v1/autocomplete/membershipInfo")};return IP.create(t)}}).create()}return e}),{__CW__getter:function(e,t,n,r){var i=dF.extend({_menuItemForEvent:function(){var e=this.__s._$nb$_menuItemForEvent.apply(this,arguments);return yt.a(e)?e:null},__superMap:{_$nb$_menuItemForEvent:"_menuItemForEvent"}}).create({target:this,anchor:this,layout:Fx.DOUBLE_LINE,allowedLayouts:[QD],width:this.bindingFor("width")}),a=r.internalGet(this,t[0+n]);if(a)i.contentController.membershipInfoLoader.loadMembershipInfoHandler=a.create();else if(!r.internalGet(this,t[1+n])){var o=i.contentController.membershipInfoLoader,s=o.loadMembershipInfoHandler.constructor;o.loadMembershipInfoHandler=s.extend({createRequest:function(e){var t={method:"POST",body:e,timeout:6e4,useCredentialsIfCrossOrigin:!0,url:ac("cksharews","ws/v1/autocomplete/membershipInfo")};return IP.create(t)}}).create()}return i}})}),autocompleteDataSource:v.g({dependencies:["CustomAutocompleteDataSourceClass","hostedByCloudOSOne"],readOnly:!0,get:Object.assign((function(){var e=this.CustomAutocompleteDataSourceClass,t=this.hostedByCloudOSOne;if(e)return e.create();if("boolean"===typeof t){var n=UF;return t?n.create({isPhoneNumberSupportEnabled:!0}):n.extend({isPhoneNumberSupportEnabled:!0,platformDelegate:Me.b(OP,{isAppleIdManagedAppleId:this.bindingFor("isCurrentUserManagedAppleID"),isAXMServiceAvailable:this.bindingFor("isAXMServiceAvailable")})}).create()}}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]),a=r.internalGet(this,t[1+n]);if(i)return i.create();if("boolean"===typeof a){var o=UF;return a?o.create({isPhoneNumberSupportEnabled:!0}):o.extend({isPhoneNumberSupportEnabled:!0,platformDelegate:Me.b(OP,{isAppleIdManagedAppleId:this.bindingFor("isCurrentUserManagedAppleID"),isAXMServiceAvailable:this.bindingFor("isAXMServiceAvailable")})}).create()}}})}),staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:["add-participants-tokenizedtextfield-view"]}},__QUALIFIED_CLASS_NAME__:"AutocompleteTokenizedTextField"},labelField:v.g({defaultValue:Me.b(Ar.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"toFieldText",attributes:{}}],name:"toField",classes:["to-field"]}}})),downstreamBindings:{toFieldText:"(owner).toFieldText"}}),toFieldText:v.g(Sr.d("CKSharing.AddParticipants.TokenItemView.Add")),invitees:v.g({readOnly:!0,dependencies:["tokenViews","tokenViews.contentsDidChange","_tokenValueChangedSignal"],get:Object.assign((function(){var e=[],t=this.tokenViews;return t&&t.forEach((function(t){t.userIdentity&&t.value&&e.push(dP.create({userIdentity:t.userIdentity,isInvalid:t.isInvalid,invalidReason:t.invalidReason}))})),e}),{__CW__getter:function(e,t,n,r){var i=[],a=r.internalGet(this,t[0+n]);return a&&a.forEach((function(e){e.userIdentity&&e.value&&i.push(dP.create({userIdentity:e.userIdentity,isInvalid:e.isInvalid,invalidReason:e.invalidReason}))})),i}})}),hasPendingTokens:v.g({readOnly:!0,dependencies:["tokenViews","tokenViews.contentsDidChange","_tokenValueChangedSignal"],get:Object.assign((function(){var e=this.tokenViews;return e&&e.some((function(e){return e.isPending}))}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return i&&i.some((function(e){return e.isPending}))}})}),hasInvalidTokens:v.g({readOnly:!0,dependencies:["tokenViews","tokenViews.contentsDidChange","_tokenValueChangedSignal"],get:Object.assign((function(){var e=this.tokenViews;return e&&e.some((function(e){return e.isInvalid}))}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return i&&i.some((function(e){return e.isInvalid}))}})}),hasAtLeastOneValidToken:v.g({readOnly:!0,dependencies:["tokenViews","tokenViews.contentsDidChange","_tokenValueChangedSignal"],get:Object.assign((function(){var e=this.tokenViews;return e&&e.some((function(e){return e.userIdentity&&!e.isInvalid}))}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return i&&i.some((function(e){return e.userIdentity&&!e.isInvalid}))}})}),parseValueForTokens:function(e){return $F.splitAddressString(e)},createNewTokenItemFromAutocompleteItemBeforeCurrentToken:function(e,t){this.createNewTokenItemBeforeCurrentToken(e,"PLACEHOLDER").updateForContactMatch(t)},logService:v.g(),phoneNumberValidationDidComplete:function(e){var t=this.logService;t&&t.recordStat("PhoneNumberValidation"+(e?"Succeeded":"Failed"))},autocompleteItemWasSelected:function(e){var t=ol.a(this,"lastEditedToken.tokenTextField.textField");t&&"function"===typeof t.autocompleteItemWasSelected&&t.autocompleteItemWasSelected(e)},_createNewEditingTokenAtIndex:function(e){var t=this.lastEditedToken;t&&t.isEditing&&t.stopEditing(),this.__s._$3_o$_createNewEditingTokenAtIndex.call(this,e)},_createNewTokenItem:function(){var e=this.__s._$43c$_createNewTokenItem.call(this);return e.isCurrentUserManagedAppleID=this.isCurrentUserManagedAppleID,e.isAXMServiceAvailable=this.isAXMServiceAvailable,e},hydrateValues:function(e){var t=[];return this.tokenViews.forEach((function(n){e&&!e(n)||t.push(n.hydratedValue)})),t.join(", ")},__superMap:{_$3_o$_createNewEditingTokenAtIndex:"_createNewEditingTokenAtIndex",_$43c$_createNewTokenItem:"_createNewTokenItem"}}),OP=oe.a.extend(PF,{isRecentsEnabled:v.g({get:function(){return ic("mail")}}),isAppleIdManagedAppleId:v.g(!1),isAXMServiceAvailable:v.g(!1),createRequest:function(e,t,n){var r=n.queryObject,i=al.a.create({hostname:ac(e),pathname:t.slice(1),queryObject:r});return IP.create(Object.assign({url:i,useCredentialsIfCrossOrigin:!0},n))},currentEnvironment:v.g({get:function(){var e,t,n,r;return(null==(e=il)||null==(t=e.application)||null==(n=t.hostInfo)||null==(r=n.cloudOSState)?void 0:r.environment)||null}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"COSK2AutocompleteDataSourceDelegate"}}),TP=Ar.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"header",children:[{type:"ELEMENT",tagname:"h1",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{}}]},{type:"ELEMENT",tagname:"h2",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"subtitle",attributes:{}}]}]},__QUALIFIED_CLASS_NAME__:"AddParticipantsHeaderView"},title:v.g({type:String}),subtitle:v.g({type:String})}),AP=lp.extend({isVisible:dp.renderProperty(!1),description:dp.renderProperty(),render:function(){return this.isVisible?Le.a.createElement("div",{className:"spinner-container"},Le.a.createElement(yp,{description:this.description})):null},staticMembers:{__QUALIFIED_CLASS_NAME__:"BusyView"}}),NP=Ar.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"h1",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{}}]},{type:"ELEMENT",tagname:"h2",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"description",attributes:{}}]}],classes:["offline-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isVisible",truevalue:"",falsevalue:"hidden",attributes:{}}]},className:"ck-sharing-offline-view",__QUALIFIED_CLASS_NAME__:"OfflineView"},title:Sr.d("CKSharing.Offline.Title"),description:Sr.d("CKSharing.Offline.Description"),isVisible:v.g(!1)}),MP=Ar.a.extend({supportedTransports:v.g(),shareItemType:v.g(),transportItemsForDisplay:v.g({readOnly:!0,dependencies:["supportedTransports"],get:Object.assign((function(){var e=(this.supportedTransports||[]).map((function(e){var t=JR[e],n=Wr(iL((t===JR.WEB_MAIL||t===JR.NATIVE_MAIL?"EMAIL":t).toLowerCase())),r="CKSharing.AddParticipants.Transports."+n+"Button.Title",i=aL.a(n).toLowerCase();return{title:Sr.d(r),value:t,classNames:[i]}}));return Qd.a.create(e)}),{__CW__getter:function(e,t,n,r){var i=(r.internalGet(this,t[0+n])||[]).map((function(e){var t=JR[e],n=Wr(iL((t===JR.WEB_MAIL||t===JR.NATIVE_MAIL?"EMAIL":t).toLowerCase())),r="CKSharing.AddParticipants.Transports."+n+"Button.Title",i=aL.a(n).toLowerCase();return{title:Sr.d(r),value:t,classNames:[i]}}));return Qd.a.create(i)}})}),shouldShowParticipantsEntry:v.g({dependencies:["transport","accessDropdownValue"],readOnly:!0,get:Object.assign((function(){var e=this.transport;return this.accessDropdownValue===qR.PRIVATE&&(e===JR.COPY_LINK||e===JR.NATIVE_MAIL)}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return r.internalGet(this,t[1+n])===qR.PRIVATE&&(i===JR.COPY_LINK||i===JR.NATIVE_MAIL)}})}),invitees:v.g(_.c("invitationsTextField.invitees")),logService:v.g(),CustomLoadMembershipInfoHandlerClass:v.g(),CustomAutocompleteDataSourceClass:v.g(),sharePopoverIsActive:v.g(),clearInvitationsTextField:function(e){var t=this.invitationsTextField;t&&t.setValue()},invitationsTextField:v.g({defaultValue:Me.b(CP.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isVisible",truevalue:"",falsevalue:"hidden",attributes:{signal:"isVisibleDidRender"}}]}}},placeholder:Sr.d("CKSharing.AddParticipants.InvitationsTextField.Placeholder")})),downstreamBindings:{isVisible:"(owner).shouldShowParticipantsEntry",CustomLoadMembershipInfoHandlerClass:"(owner).CustomLoadMembershipInfoHandlerClass",logService:"(owner).logService",CustomAutocompleteDataSourceClass:"(owner).CustomAutocompleteDataSourceClass",hostedByCloudOSOne:"(owner).hostedByCloudOSOne",isCurrentUserManagedAppleID:"(owner).isCurrentUserManagedAppleID",isAXMServiceAvailable:"(owner).isAXMServiceAvailable"}}),loggedInUserIdentity:v.g(),isCurrentUserManagedAppleID:v.g({dependencies:["loggedInUserIdentity"],readOnly:!0,get:Object.assign((function(){return!!this.loggedInUserIdentity&&this.loggedInUserIdentity.isManagedAppleID}),{__CW__getter:function(e,t,n,r){return!!r.internalGet(this,t[0+n])&&r.internalGet(this,t[0+n]).isManagedAppleID}})}),isAXMServiceAvailable:v.g(),title:v.g(),subtitle:v.g(null),subtitleString:v.g({readOnly:!0,dependencies:["subtitle","shareItemType","supportedTransports","accessDropdownValue"],get:Object.assign((function(){var e=this.supportedTransports,t=this.subtitle;if(e&&e.length>0){if(null===t){var n="CKSharing.AddParticipants.Subtitle.";return 1===e.length?(n+="SingleTransport.",n+=qR.PUBLIC===this.accessDropdownValue?"Public.":"Private.",n+=this.shareItemType):n+="MultipleTransports",Sr.d(n)}return t}return""}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[2+n]),a=r.internalGet(this,t[0+n]);if(i&&i.length>0){if(null===a){var o="CKSharing.AddParticipants.Subtitle.";return 1===i.length?(o+="SingleTransport.",o+=qR.PUBLIC===r.internalGet(this,t[3+n])?"Public.":"Private.",o+=r.internalGet(this,t[1+n])):o+="MultipleTransports",Sr.d(o)}return a}return""}})}),headerView:v.g({defaultValue:Me.b(TP),downstreamBindings:{title:"(owner).title",subtitle:"(owner).subtitleString"}}),busyDescription:v.g(Sr.d("CKSharing.Busy.Loading.Description")),isLoading:v.g(!1),busyView:v.g({readOnly:!0,get:function(){return AP.create({description:Sr.d("CKSharing.Busy.LoadingParticipants.Description")})},downstreamBindings:{isVisible:"(owner).isLoading"}}),shouldShowSendingSpinner:v.g({defaultValue:!1,type:Boolean}),isOffline:v.g(A.a.sharedInstance.bindingFor("isOffline")),offlineView:v.g({readOnly:!0,get:function(){return NP.create()},downstreamBindings:{isVisible:"(owner).isOffline"}}),accessDropdownValue:v.g(),permissionDropdownValue:v.g(),adminCheckboxIsChecked:v.g(),summaryTextNoOption:v.g(),summaryTextWOption:v.g(),shouldShowUserName:v.g(),loggedInUserInfo:v.g(),transport:v.g(),isSavingShare:v.g(!1),showPermissionsDropdown:v.g(!0),primaryInteractionMode:v.g(),shareButtonTitle:v.g(),supportedAccess:v.g(),supportedPermissions:v.g(),hostedByCloudOSOne:v.g(!0),loggedInUserType:v.g(),staticMembers:{__QUALIFIED_CLASS_NAME__:"AddParticipantsViewBase"}}),DP=JD.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHidden",truevalue:"hidden",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"CancelButton"},ariaLabel:Sr.d("CKSharing.AddParticipants.CancelButton.Title"),title:Sr.d("CKSharing.AddParticipants.CancelButton.Title"),action:"didCancelAddParticipant",keyEquivalent:nk.a.ESC,additionalClassNames:ut.a(["cancel-button"])}),RP={TOUCH_PRIMARY:18,MOUSE_PRIMARY:24};Object.freeze(RP);var LP=JD.a.extend({triggerButtonAction:function(){var e=document.createElement("a");e.target="_top",e.href=this.link,e.click(),this.__s._$4Q$triggerButtonAction.apply(this,arguments)},link:void 0,__superMap:{_$4Q$triggerButtonAction:"triggerButtonAction"},staticMembers:{__QUALIFIED_CLASS_NAME__:"AnchorButton"}}),kP=Ar.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"footer",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"spinnerView"},{type:"VIEWOUTLET",tagname:"view",name:"cancelButton"},{type:"ELEMENT",tagname:"span",classes:["divider"]},{type:"VIEWOUTLET",tagname:"view",name:"shareButton"},{type:"VIEWOUTLET",tagname:"view",name:"doneButton"}],classes:["button-container"],name:"buttonContainer"},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"username",attributes:{}}]}],classes:["username",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"usernameIsHidden",truevalue:"",falsevalue:"hidden",attributes:{}}]}]},__QUALIFIED_CLASS_NAME__:"AddParticipantsFooterViewForMouse"},spinnerView:v.g({downstreamBindings:{isVisible:"(owner).shouldShowSendingSpinner"},defaultValue:Me.b(oL.a.extend({primaryInteractionMode:v.g(),size:RP.MOUSE_PRIMARY}))}),shareButtonTitle:v.g({type:String}),shareButtonIsHidden:v.g({defaultValue:!1,type:Boolean}),shareButtonIsDisabled:v.g({defaultValue:!0,type:Boolean}),cancelButtonIsDisabled:v.g({defaultValue:!0,type:Boolean}),cancelButtonIsHidden:v.g({defaultValue:!1,type:Boolean}),doneButtonIsHidden:v.g({defaultValue:!1,type:Boolean}),username:v.g({type:String}),usernameIsHidden:v.g({defaultValue:!1,type:Boolean}),shouldShowSendingSpinner:v.g({defaultValue:!1,type:Boolean}),mailToLink:v.g(),sendShareButton:v.g({defaultValue:Me.b(JD.a.extend({ariaLabel:Sr.d("CKSharing.AddParticipants.OKButton.Share.Title"),action:"sendShare",staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHidden",truevalue:"hidden",attributes:{}}]}}},additionalClassNames:ut.a(["primary"])})),downstreamBindings:{isHidden:"(owner).shareButtonIsHidden",isDisabled:"(owner).shareButtonIsDisabled",title:"(owner).shareButtonTitle"}}),mailToButton:v.g({readOnly:!0,dependencies:["mailToLink"],get:Object.assign((function(){var e=this;return LP.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHidden",truevalue:"hidden",attributes:{}}]}}},ariaLabel:Sr.d("CKSharing.AddParticipants.OKButton.Share.Title"),action:"mailToLinkClicked",additionalClassNames:ut.a(["primary"])}).create({link:this.mailToLink,target:{mailToLinkClicked:function(){return e.sendEvent("didCompleteSendMessage")}},isDisabled:this.bindingFor("shareButtonIsDisabled"),isHidden:this.bindingFor("shareButtonIsHidden"),title:this.bindingFor("shareButtonTitle")})}),{__CW__getter:function(e,t,n,r){var i=this;return LP.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHidden",truevalue:"hidden",attributes:{}}]}}},ariaLabel:Sr.d("CKSharing.AddParticipants.OKButton.Share.Title"),action:"mailToLinkClicked",additionalClassNames:ut.a(["primary"])}).create({link:r.internalGet(this,t[0+n]),target:{mailToLinkClicked:function(){return i.sendEvent("didCompleteSendMessage")}},isDisabled:this.bindingFor("shareButtonIsDisabled"),isHidden:this.bindingFor("shareButtonIsHidden"),title:this.bindingFor("shareButtonTitle")})}})}),transport:v.g(),shareButton:v.g({readOnly:!0,dependencies:["mailToLink","transport"],get:Object.assign((function(){var e=this.mailToLink,t=this.transport;return Nt.a(e)||t!==JR.NATIVE_MAIL?this.sendShareButton:this.mailToButton}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]),a=r.internalGet(this,t[1+n]);return Nt.a(i)||a!==JR.NATIVE_MAIL?this.sendShareButton:this.mailToButton}})}),doneButton:v.g({defaultValue:Me.b(JD.a.extend({ariaLabel:Sr.d("CKSharing.Dialog.Button.Done"),title:Sr.d("CKSharing.Dialog.Button.Done"),action:"didCancelAddParticipant",isVisible:v.g(),staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isVisible",truevalue:"",falsevalue:"hidden",attributes:{}}]}}}})),downstreamBindings:{isVisible:"(owner).doneButtonIsHidden"}}),cancelButton:v.g({defaultValue:Me.b(DP),downstreamBindings:{isHidden:"(owner).cancelButtonIsHidden",isDisabled:"(owner).cancelButtonIsDisabled"}})}),xP=JD.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isOn",truevalue:"cw-on",attributes:{}}],attributes:{"aria-pressed":{key:"aria-pressed",value:{type:"ATTRIBUTEOUTLET",bindingtype:"IFBINDING",name:"ariaPressed",truevalue:"true",falsevalue:"false",attributes:{},attribute:"aria-pressed"},type:"ATTRIBUTE"}}}},className:"cw-ui-views-controls-toggle-button",__QUALIFIED_CLASS_NAME__:"ToggleButton"},isOn:Object(v.g)(!1),wasActivated:function(){this.set("isOn",!this.get("isOn"))},ariaPressed:Object(_.c)("isOn")}),FP=Ar.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"MULTIVIEWOUTLET",tagname:"views",name:"_buttons"}],classes:["cw-segmented-control",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isDisabled",truevalue:"disabled",attributes:{}}]}},className:"cw-ui-views-controls-segmented",__QUALIFIED_CLASS_NAME__:"Segmented"},ariaRole:Object(v.g)("tablist"),value:Object(v.g)(),isDisabled:Object(v.g)({defaultValue:!1,type:"boolean"}),segments:Object(v.g)({get:function(e){return e},set:function(e){return Qd.a.create(e)}}),buttonClass:xP,_buttons:Object(v.g)(Object(Me.b)(Rd.b)),buttonAriaRole:Object(v.g)("tab"),_redraw:Object(v.h)("element","segments",(function(e,t){var n=this.get("_buttons");if(e&&n){if(n.beginBatchedChanges(),n.clear(),t)for(var r=t.get("length"),i=this.get("value"),a=0,o=r;a<o;a++){var s=t.objectAt(a),c=this.buttonClass.create({additionalClassNames:Object(ut.a)(s.classNames||[]),title:s.title,value:s.value,icon:s.icon,isDisabled:this.bindingFor("isDisabled"),target:this,action:"didToggle",tooltip:s.tooltip,isOn:s.value===i,ariaRole:this.bindingFor("buttonAriaRole")}),l=c.get("element").classList;0===a?l.add("cw-first"):a===r-1&&l.add("cw-last"),n.push(c)}n.endBatchedChanges()}})),_updateButtonStates:Object(v.h)("value",(function(e){var t,n=this.get("_buttons");if(n)for(var r=0,i=n.get("length");r<i;r++)(t=n.objectAt(r)).set("isOn",t.get("value")===e),t.get("element").setAttribute("aria-selected",t.get("isOn"))})),didToggle:function(e){e&&this.set("value",e.get("value"))}}),PP=oe.a.extend({computeConstraintWidthForItem:function(e){Xn.b("ConstraintBasedEvenLayoutManager#computeConstraintWidthForItem must be implemented")},computeOuterWidthForItem:function(e){Xn.b("ConstraintBasedEvenLayoutManager#computeOuterWidthForItem must be implemented")},resetLayout:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t].style;r.marginLeft="",r.marginRight=""}},layoutItems:function(e){this.resetLayout(e);var t=this._determineMaxSpaceBetweenConstrainingElements(e);this._applyMaxSpaceBetweenConstrainingElements(e,t),this._ensureCentering(e)},_determineMaxSpaceBetweenConstrainingElements:function(e){for(var t=0,n=e.map(this.computeOuterWidthForItem.bind(this)),r=e.map(this.computeConstraintWidthForItem.bind(this)),i=1,a=e.length;i<a;i++){var o=n[i-1],s=(n[i]+o)/2-(r[i-1]+r[i])/2;t=Math.max(s,t)}return t},_applyMaxSpaceBetweenConstrainingElements:function(e,t){for(var n=e.map(this.computeOuterWidthForItem.bind(this)),r=e.map(this.computeConstraintWidthForItem.bind(this)),i=1,a=e.length;i<a;i++){var o=n[i-1],s=n[i],c=t-(o-r[i-1])/2-(s-r[i])/2;e[i].style.marginLeft=c+"px"}},_ensureCentering:function(e){if(e.length>1){var t=e[0],n=Math.max((this.computeOuterWidthForItem(t)-this.computeConstraintWidthForItem(t))/2,0),r=e[e.length-1],i=n-Math.max((this.computeOuterWidthForItem(r)-this.computeConstraintWidthForItem(r))/2,0);i>0?r.style.marginRight=i+"px":t.style.marginLeft=-i+"px"}},staticMembers:{__QUALIFIED_CLASS_NAME__:"ConstraintBasedEvenLayoutManager"}}).extend({computeConstraintWidthForItem:function(e){var t=globalThis.getComputedStyle(e,"::before").width;return Math.ceil(parseFloat(t))},computeOuterWidthForItem:function(e){return e.clientWidth},staticMembers:{__QUALIFIED_CLASS_NAME__:"TransportsLayoutManager"}}),jP=FP.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHidden",truevalue:"hidden",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"TransportsSegmentedView"},additionalClassNames:ut.a(["ck-sharing-transports-view"]),isHidden:v.g({readOnly:!0,dependencies:["isLoading","segments"],get:Object.assign((function(){var e=this.segments;return this.isLoading||!e||e.length<=1}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[1+n]);return r.internalGet(this,t[0+n])||!i||i.length<=1}})}),isLoading:v.g(),buttonsObserver:v.h("_buttons","_buttons.contentsDidChange",(function(e,t){var n=this;if(e&&t){var r=this._buttonAttachmentObservers,i=this._buttons,a=this._layoutManager;t.context.forEach((function(t){var o=t.operation,s=t.index,c=e.objectAt(s);if(o===Rd.b.INSERT){var l=c.observe("isAttached",(function(){var e=i.map((function(e){return e.element})).toArray();a.layoutItems(e),n.transportsSegmentedViewDidLayoutButtons(n)}));r.set(c,l)}else if(o===Rd.b.REMOVE){var u=t.encodedItem,d=r.get(u);void 0!==d&&d.disconnect(),r.delete(u)}}))}})),init:function(){this._layoutManager=PP.create(),this._buttonAttachmentObservers=new Map,this.__s._$tP$init.apply(this,arguments)},_layoutManager:y.c({readOnly:!0,type:PP}),_buttonAttachmentObservers:y.c({readOnly:!0,type:Map}),transportsSegmentedViewDidLayoutButtons:v.i(),__superMap:{_$tP$init:"init"}}),UP=MP.extend({init:function(e,t){this.shouldHideAddParticipantsSummary=e,this.__s._$Cp$init.call(this,t)},shouldHideAddParticipantsSummary:v.g(!1),staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"headerView"},{type:"VIEWOUTLET",tagname:"view",name:"busyView"},{type:"VIEWOUTLET",tagname:"view",name:"offlineView"},{type:"VIEWOUTLET",tagname:"view",name:"transportsView"},{type:"VIEWOUTLET",tagname:"view",name:"invitationsTextField"},{type:"VIEWOUTLET",tagname:"view",name:"accessControlsSection"},{type:"VIEWOUTLET",tagname:"view",name:"footerView"}],classes:["workflow-screen","add-participants-view","sharing-dialog",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isOffline",truevalue:"is-offline",attributes:{}}]},__QUALIFIED_CLASS_NAME__:"AddParticipantsViewForMouse"},transportsView:v.g({defaultValue:Me.b(jP),readOnly:!0,downstreamBindings:{isLoading:"(owner).isLoading",value:"(owner).transport",segments:"(owner).transportItemsForDisplay",isDisabled:"(owner).isSavingShare"}}),accessControlsSection:v.g({readOnly:!0,defaultValue:Me.b(eL.extend({isToggleEnabled:!1})),downstreamBindings:{shouldHideAddParticipantsSummary:"(owner).shouldHideAddParticipantsSummary",isDisabled:"(owner).isSavingShare",accessDropdownValue:"(owner).accessDropdownValue",permissionDropdownValue:"(owner).permissionDropdownValue",adminCheckboxIsChecked:"(owner).adminCheckboxIsChecked",isLoading:"(owner).isLoading",showPermissionsDropdown:"(owner).showPermissionsDropdown",supportedAccess:"(owner).supportedAccess",supportedPermissions:"(owner).supportedPermissions",summaryTextNoOption:"(owner).summaryTextNoOption",summaryTextWOption:"(owner).summaryTextWOption",loggedInUserType:"(owner).loggedInUserType",transport:"(owner).transport"}}),shareButtonIsDisabled:v.g({dependencies:["transport","accessDropdownValue","isSavingShare","isLoading","sharePopoverIsActive","invitationsTextField.value","invitationsTextField.hasAtLeastOneValidToken","invitationsTextField.hasPendingTokens"],readOnly:!0,get:Object.assign((function(){if(this.isSavingShare||this.isLoading||this.sharePopoverIsActive)return!0;var e=[JR.COPY_LINK,JR.NATIVE_MAIL];if(this.accessDropdownValue!==qR.PRIVATE||!e.includes(this.transport))return!1;var t=this.invitationsTextField;return!!t&&(!t.value||!!t.hasPendingTokens||!t.hasAtLeastOneValidToken)}),{__CW__getter:function(e,t,n,r){if(r.internalGet(this,t[2+n])||r.internalGet(this,t[3+n])||r.internalGet(this,t[4+n]))return!0;var i=[JR.COPY_LINK,JR.NATIVE_MAIL];if(r.internalGet(this,t[1+n])!==qR.PRIVATE||!i.includes(r.internalGet(this,t[0+n])))return!1;var a=this.invitationsTextField;return!!a&&(!a.value||!!a.hasPendingTokens||!a.hasAtLeastOneValidToken)}})}),isCancelButtonDisabled:v.g({dependencies:["isSavingShare","sharePopoverIsActive"],readOnly:!0,get:Object.assign((function(){return this.isSavingShare||this.sharePopoverIsActive}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])||r.internalGet(this,t[1+n])}})}),username:v.g({readOnly:!0,dependencies:["loggedInUserInfo"],get:Object.assign((function(e){var t=this.loggedInUserInfo;if(t){var n=t.displayName,r=t.appleId;if(n&&r)return Sr.d("CKSharing.AddParticipants.CurrentlyLoggedUser.NameAndAppleId",{displayName:n,appleId:r});if(n||r)return Sr.d("CKSharing.AddParticipants.CurrentlyLoggedUser.NameOrAppleId",{nameOrAppleId:n||r})}return""}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);if(i){var a=i.displayName,o=i.appleId;if(a&&o)return Sr.d("CKSharing.AddParticipants.CurrentlyLoggedUser.NameAndAppleId",{displayName:a,appleId:o});if(a||o)return Sr.d("CKSharing.AddParticipants.CurrentlyLoggedUser.NameOrAppleId",{nameOrAppleId:a||o})}return""}})}),footerView:v.g({defaultValue:Me.b(kP),downstreamBindings:{shareButtonTitle:"(owner).shareButtonTitle",shareButtonIsHidden:"(owner).isOffline",shareButtonIsDisabled:"(owner).shareButtonIsDisabled",doneButtonIsHidden:"(owner).isOffline",username:"(owner).username",usernameIsHidden:"(owner).shouldShowUserName",cancelButtonIsDisabled:"(owner).isCancelButtonDisabled",cancelButtonIsHidden:"(owner).isOffline",shouldShowSendingSpinner:"(owner).shouldShowSendingSpinner",transport:"(owner).transport"}}),_updateLayout:v.h({inputs:["isAttached","transport","transportsView.transportsSegmentedViewDidLayoutButtons","shouldShowParticipantsEntry"],callback:function(e,t,n){if(e){var r=this.element,i=this.invitationsTextField;if(void 0!==ol.a(n,"context")){var a=r.style,o=i.element.style;a.maxWidth="",o.maxWidth="0px";var s=r.clientWidth;"number"===typeof s&&0!==s&&(a.maxWidth=s+"px"),o.maxWidth=""}this.sendEvent("contentDidResize"),t===JR.COPY_LINK&&i&&i.focus()}}}),__superMap:{_$Cp$init:"init"}}),BP=Ar.a.extend({staticMembers:{template:{type:"MULTIVIEWOUTLET",tagname:"views",name:"buttons",attributes:{tagName:"footer"}},__QUALIFIED_CLASS_NAME__:"AddParticipantsFooterViewForTouch"},transportItemsForDisplay:v.g(),shouldTransportButtonsBeDisabled:v.g(),buttons:v.g({readOnly:!0,dependencies:["transportItemsForDisplay","mailToLink"],get:Object.assign((function(){var e=this,t=Rd.b.create(),n=this.transportItemsForDisplay;if(n&&n.length>0){for(var r=0,i=n.length;r<i;r++){var a=n.objectAt(r),o=void 0;if(a.value!==JR.NATIVE_MAIL||Nt.a(this.mailToLink))o=JD.a.create({additionalClassNames:ut.a([a.value.toLowerCase()]),title:a.title,action:"setTransportAndSendShare",isDisabled:_.c("parent.shouldTransportButtonsBeDisabled"),context:a.value});else{var s=this.mailToLink;o=LP.create({link:s,additionalClassNames:ut.a([a.value.toLowerCase()]),title:Sr.d("ConfirmNativeMail.ConfirmButton"),action:"notificationDidComplete",target:{notificationDidComplete:function(){return e.sendEvent("didCompleteSendMessage")}},isDisabled:_.c("parent.shouldTransportButtonsBeDisabled")})}t.push(o)}t.push(DP.create())}return t}),{__CW__getter:function(e,t,n,r){var i=this,a=Rd.b.create(),o=r.internalGet(this,t[0+n]);if(o&&o.length>0){for(var s=0,c=o.length;s<c;s++){var l=o.objectAt(s),u=void 0;if(l.value!==JR.NATIVE_MAIL||Nt.a(r.internalGet(this,t[1+n])))u=JD.a.create({additionalClassNames:ut.a([l.value.toLowerCase()]),title:l.title,action:"setTransportAndSendShare",isDisabled:_.c("parent.shouldTransportButtonsBeDisabled"),context:l.value});else{var d=r.internalGet(this,t[1+n]);u=LP.create({link:d,additionalClassNames:ut.a([l.value.toLowerCase()]),title:Sr.d("ConfirmNativeMail.ConfirmButton"),action:"notificationDidComplete",target:{notificationDidComplete:function(){return i.sendEvent("didCompleteSendMessage")}},isDisabled:_.c("parent.shouldTransportButtonsBeDisabled")})}a.push(u)}a.push(DP.create())}return a}})}),mailToLink:v.g()}),VP=MP.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"headerView"},{type:"VIEWOUTLET",tagname:"view",name:"busyView"},{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"sendingSpinnerView"},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"spinnerLabel",attributes:{}}]}],classes:["sending-spinner-wrapper"]},{type:"VIEWOUTLET",tagname:"view",name:"offlineView"},{type:"VIEWOUTLET",tagname:"view",name:"footerView"}],classes:["workflow-screen","add-participants-view","sharing-dialog",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isOffline",truevalue:"is-offline",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldShowSendingSpinner",truevalue:"is-sending-share",attributes:{}}]},__QUALIFIED_CLASS_NAME__:"AddParticipantsViewForTouch"},sendingSpinnerView:v.g({downstreamBindings:{isVisible:"(owner).shouldShowSendingSpinner"},defaultValue:Me.b(oL.a.extend({additionalClassNames:["sending-spinner"],primaryInteractionMode:v.g(),size:RP.TOUCH_PRIMARY}))}),spinnerLabel:v.g(Sr.d("CKSharing.Sending.Description")),shouldTransportButtonsBeDisabled:v.g({readOnly:!0,dependencies:["isLoading","isSavingShare"],get:Object.assign((function(){return this.isLoading||this.isSavingShare}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])||r.internalGet(this,t[1+n])}})}),footerView:v.g({defaultValue:Me.b(BP),downstreamBindings:{transportItemsForDisplay:"(owner).transportItemsForDisplay",shouldTransportButtonsBeDisabled:"(owner).shouldTransportButtonsBeDisabled"}})});function WP(e,t){return e&&e.kindOf&&e.kindOf(t)}var zP={mixinDependencies:[K],name:"PCSKeyServiceFromChildProtocol",version:"0.0.1",fetchPCSKeys:G.a.define(),hasPCSKeys:G.a.define()},HP={mixinDependencies:[K],name:"PCSKeyServiceToChildProtocol",version:"0.0.1",didHavePCSKeys:G.a.define(),didFetchPCSKeys:G.a.define(),failedToFetchPCSKeys:G.a.define()},GP=oe.a.extend({mixinDependencies:[ws.a,zP,HP,Cc],init:function(){this.__s._$SI$init.call(this),this.configureBidirectionalMessagingChannel(HP,this,zP)},fetchPCSKeys:function(e){var t=this._fetchPromise;return t||(t=this._fetchPromise=b.a.create(),this.remoteProxy.fetchPCSKeys(e)),t},hasPCSKeys:function(e){var t=this._hasPCSKeysPromise;return t||(t=this._hasPCSKeysPromise=b.a.create(),this.remoteProxy.hasPCSKeys(e)),t},didFetchPCSKeys:function(e){this._fetchPromise.resolve(Oc.okResult(e)),this._fetchPromise=null},failedToFetchPCSKeys:function(e){this._fetchPromise.resolve(Oc.failedResult(e)),this._fetchPromise=null},didHavePCSKeys:function(e,t){this._hasPCSKeysPromise.resolve(t?Oc.okResult(e):Oc.failedResult(e)),this._hasPCSKeysPromise=null},_fetchPromise:y.c({type:b.a}),__superMap:{_$SI$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"PCSKeyServiceConnection"}});function $P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KP(r.key),r)}}function KP(e){var t=function(e){if("object"!==typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===typeof t?t:String(t)}function QP(e,t){return QP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},QP(e,t)}var qP=function(e){var t,n,r,i;function a(){return e.call(this,(function(){return{locale:lr.application.hostInfo.locale,authenticatedUser:yl.defaultInstance.user.getPropertiesAsObject("appleId","brMigrated","dsid","fullName","firstName","lastName","isHideMyEmailSubscriptionActive","isICDRSDisabled","mailFlags"),webServices:Object.fromEntries(sc.sharedInstance.configurationProvider.webServices.entries()),pcsKeyService:GP.sharedInstance}}))||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,QP(t,n),r=a,i=[{key:"sharedInstance",get:function(){var e;return null!=(e=a._sharedInstance)?e:a._sharedInstance=new a}}],null&&$P(r.prototype,null),i&&$P(r,i),Object.defineProperty(r,"prototype",{writable:!1}),a}(sD);qP._sharedInstance=void 0;var ZP=GR.a.extend({blob:null,body:y.c({get:function(){return this.blob}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ImageDataResponse"}}),YP=wD.a.extend({prepare:function(){var e=this.__s._$35$prepare.apply(this,arguments);return e.responseType="blob",e},createResponse:function(e){return ZP.create({status:e?e.status:0,blob:e?e.response:null,headers:e?e.getAllResponseHeaders():null})},__superMap:{_$35$prepare:"prepare"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ImageDataTransport"}}),XP=eF.extend(v.a,{handlesType:Od.READ.LOAD,service:y.c(),action:function(e,t){var n=this.service;yt.a(n)||Xn.b("Unable to perform LoadImageOperationHandler action without a service");var r=e.contact;if(!r.photo)return b.a.resolve(r);var i=this.createRequest.bind(this);function a(e){if(200===e.status)return r.imageData=e.blob,r;throw new Error("Bad server response trying to load photo for contact")}return function(){var e=i(r.photo.url);return n.processor.enqueue((function(){return e.send()}))}().then(a).catch(a)},createRequest:function(e){return this.service.createRequest(null,null,{url:e,transport:YP.sharedInstance})},staticMembers:{__QUALIFIED_CLASS_NAME__:"LoadImageOperationHandler"}}),JP=oe.a.extend({init:function(e){this.message=e,this.__s._$2T$init.call(this)},message:y.c(),__superMap:{_$2T$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Error"}}),ej=JP.extend({staticMembers:{__QUALIFIED_CLASS_NAME__:"ServerTokenError"}}),tj=JP.extend({staticMembers:{__QUALIFIED_CLASS_NAME__:"ServerError"}}),nj=eF.extend(v.a,{handlesType:Od.READ.LIST,service:y.c(),action:function(e,t){var n=e.locale,r=e.sortOrder,i=e.includePhoneNumbers,a=e.includePhotos,o=this,s=function(){var e=o._lastSyncToken,t=o._lastPrefToken;return null!==o._lastSyncToken&&null!==o._lastPrefToken?o._syncTokenInUse=!0:o._syncTokenInUse=!1,o.createRequest(e,t,r,n,i,a).send()},c=function n(r){if(P.a(r,tj))throw new Error("Unexpected server error trying to load contacts data.");if(P.a(r,ej))return o._lastSyncToken=null,o._lastPrefToken=null,s().then(o.handleCompletion).then(n);if(r){var i=r.syncToken,a=r.prefToken;return i&&a?(o._lastSyncToken=i,o._lastPrefToken=a):!i&&a?(o._lastSyncToken=null,o._lastPrefToken=null,d.b.error("Autocomplete contacts response error:  no sync token found.")):i&&!a&&(o._lastSyncToken=null,o._lastPrefToken=null,d.b.errror("Autocomplete contacts response error: no prefToken found.")),!o._syncTokenInUse&&o._lastSyncToken&&o._lastPrefToken&&o.service.processor.enqueue((function(){return o.action(e,t)})),b.a.resolve(r.contacts)}},l=o.service;return s().then(o.handleCompletion).then(c).then((function(e){return yt.a(e)?l.processContactRecords(e):b.a.resolve()})).catch(o.handleCompletion).then(c)},createRequest:function(e,t,n,r,i,a){var o={locale:r.replace(/(.*)-(.*)$/,(function(e,t,n){return t+"_"+n.toUpperCase()})),order:n.value,includePhoneNumbers:i,includePhotos:a};return null!==e&&null!==t&&(o.syncToken=e,o.prefToken=t),this.service.createRequest("contacts","/co/addressbook",{queryObject:o})},handleCompletion:function(e){var t=e.status,n=100*Math.floor(t/100),r=e.encodedBody;if(200===n){if(r){if(0===r.indexOf("<"))return tj.create("Error.Generic");if("not found"===r)return tj.create("Error.NotFound");var i=e.body;return i?i.errorValue?tj.create(i.errorValue):i:tj.create("Error.Generic")}return tj.create("No encoded body in response")}switch(t){case 420:case 422:return ej.create(r);default:return tj.create(r)}},_syncTokenInUse:v.g(null),_lastSyncToken:v.g(null),_lastPrefToken:v.g(null),staticMembers:{__QUALIFIED_CLASS_NAME__:"LoadOperationHandler"}}),rj={"\uff10":"0","\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9",a:"2",b:"2",c:"2",d:"3",e:"3",f:"3",g:"4",h:"4",i:"4",j:"5",k:"5",l:"5",m:"6",n:"6",o:"6",p:"7",q:"7",r:"7",s:"7",t:"8",u:"8",v:"8",w:"9",x:"9",y:"9",z:"9"},ij=oe.a.extend($.a,{staticMembers:{dequeuedErrorMessage:"Action dequeued from `%{processorClassName}` queue",canceledErrorMessage:"Action canceled from `%{processorClassName}` while active",__QUALIFIED_CLASS_NAME__:"BaseProcessor"},processAction:G.a.define(),maxConcurrentActions:Object(y.c)({defaultValue:5,set:function(e){var t=this._maxConcurrentActions;return void 0!==t&&e>t&&(this.needsProcessing=!0),e}}),enqueue:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=this.preprocessActionData?this.preprocessActionData(...n):n;var i=b.a.create();return this.enqueueActionData(e,this._queue),this._actionDataToPromiseMap.set(e,i),this._promiseToActionDataMap.set(i,e),this.needsProcessing=!0,i},preprocessActionData:null,enqueueActionData:function(e,t){t.push(e)},dequeue:function(e,t){var n=this._queue,r=this._promiseToActionDataMap.get(e);return-1!==n.indexOf(r)&&(t=void 0!==t?t:this.payloadForDequeue(r),e.reject(t),this._clearQueuedAction(r,e),!0)},cancel:function(e,t){if(this.dequeue(e,t))return!0;var n=this._promiseToActionDataMap.get(e);return this._active.indexOf(n)>-1&&(t=void 0!==t?t:this.payloadForCancel(n),e.reject(t),this._clearActiveAction(n,e),this.needsProcessing=!0,!0)},payloadForDequeue:function(e){return new Xn.a(this.constructor.dequeuedErrorMessage,{processorClassName:Object(Ne.a)(this),processor:this,action:e})},payloadForCancel:function(e){return new Xn.a(this.constructor.canceledErrorMessage,{processorClassName:Object(Ne.a)(this),processor:this,action:e})},clearQueue:function(e){for(var t=this._queue,n=this._actionDataToPromiseMap,r=this._promiseToActionDataMap,i=0,a=t.length;i<a;i++){var o=t[i];e=void 0!==e?e:this.payloadForDequeue(o);var s=n.get(o);s.reject(e),n.delete(o),r.delete(s)}t.length=0},abort:function(e){this.clearQueue(e);for(var t=this._active,n=this._actionDataToPromiseMap,r=this._promiseToActionDataMap,i=0,a=t.length;i<a;i++){var o=t[i];e=void 0!==e?e:this.payloadForCancel(o);var s=n.get(o);s.reject(e),n.delete(o),r.delete(s)}t.length=0},needsProcessing:Object(y.c)({defaultValue:!1,set:function(e){return e?this._processingTimer.start():this._processingTimer.stop(),e}}),process:function(e,t){this.willProcess(e,t);for(var n=this._shouldSpreadActionData,r=0;this.shouldContinueProcessing(e,r,t);){var i=e[r];if(this.shouldProcessAction(i,e,t)){e.splice(r,1),t.push(i);var a;a=n&&i?this.processAction(...i):this.processAction(i),this.completeAction(i,a),this.didProcessAction(i,e,t)}else r+=1}this.didProcess(e,t)},willProcess:yd.a,shouldContinueProcessing:function(e,t,n){return e.length>t&&n.length<this.maxConcurrentActions},shouldProcessAction:function(e,t,n){return!0},completeAction:function(e,t){"object"===typeof t&&"function"===typeof t.then?t.then(this._resolveAction.bind(this,e),this._rejectAction.bind(this,e)):setTimeout(this._resolveAction.bind(this,e,t),0)},didProcessAction:yd.a,didProcess:yd.a,init:function(){this.__s._$84C$init.apply(this,arguments),null===this._shouldSpreadActionData&&(this._shouldSpreadActionData=!this.preprocessActionData)},_shouldSpreadActionData:null,_queue:Object(Me.b)(Array),_active:Object(Me.b)(Array),_promiseToActionDataMap:Object(Me.b)(Map),_actionDataToPromiseMap:Object(Me.b)(Map),_resolveAction:function(e,t){var n=this._actionDataToPromiseMap.get(e);this._clearActiveAction(e,n),this.needsProcessing=!0,n.resolve(t)},_rejectAction:function(e,t){var n=this._actionDataToPromiseMap.get(e);this._clearActiveAction(e,n),this.needsProcessing=!0,n.reject(t)},_clearQueuedAction:function(e,t){var n=this._queue,r=n.indexOf(e);n.splice(r,1),this._actionDataToPromiseMap.delete(e),this._promiseToActionDataMap.delete(t)},_clearActiveAction:function(e,t){var n=this._active,r=n.indexOf(e);n.splice(r,1),this._actionDataToPromiseMap.delete(e),this._promiseToActionDataMap.delete(t)},_processingTimer:Object(Me.b)(sL.a,{delay:0,timesToFire:1,action:"_reprocess"}),_reprocess:function(){this.process(this._queue,this._active),this.needsProcessing=!1},__superMap:{_$84C$init:"init"}}),aj=ij.extend({processAction:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e(...n)},staticMembers:{__QUALIFIED_CLASS_NAME__:"Processor"}}),oj=oe.a.extend(v.a,ws.a,{createRequest:function(e,t,n){var r;return r=n.url?n.url:vD.create({pathname:t,serviceName:e,queryObject:n.queryObject}),bD.create({url:r,transport:n.transport,useCredentialsIfCrossOrigin:!0})},getContactFor:function(e){var t=sF.find(e,this._store);return yt.a(t)&&!yt.a(t.service)&&(t.service=this),t},lookUpContactByEmailAddress:function(e){return this.loadAllMetadata().then(function(){var t=this._contactsIndexedByEmailAddress[e];return yt.a(t)&&1===t.length?this.getContactFor(t.toArray()[0]):null}.bind(this))},lookUpContactByPhoneNumber:function(e){return this.loadAllMetadata().then(function(){var t=this._contactsIndexedByPhoneNumber[e];return yt.a(t)&&1===t.length?this.getContactFor(t.toArray()[0]):null}.bind(this))},loadMetadataFor:function(e){var t=this.getContactFor(e);return this.loadAllMetadata().then((function(){return t}))},loadImageDataFor:function(e){var t=this,n=sF.STATES,r=this.getContactFor(e);if(this.getStateFor(e).value>=n.IMAGE_DATA_LOADING.value)return this._imageDataLoadingPromises[e];this.setImageLoadingFor(e);var i=this,a=this.processor.enqueue((function(){return t.loadImageOperationHandler.action({contact:r})})).then((function(){i.setImageLoadedFor(e)})).catch((function(e){d.b.warn("Unable to load image data for contactId: "+r.contactId,e)}));return this._imageDataLoadingPromises[e]=a,a},loadAllMetadata:function(){var e=this;return yt.a(this._metadataPromise)||(this._metadataPromise=this.processor.enqueue((function(){return e.loadOperationHandler.action({locale:Sr.c(),sortOrder:e._sortOrder,includePhoneNumbers:!0,includePhotos:!0})}))),this._metadataPromise.catch((function(e){d.b.warn("Unable to load contacts metadata.",e)}))},getStateFor:function(e){var t=this._imageLoadingStates[e],n=this._isMetadataLoaded;return n||e===this._meCardId?!n&&e!==this._meCardId||yt.a(t)?yt.a(t)?t:null:sF.STATES.META_DATA_LOADED:sF.STATES.NOT_LOADED},setImageLoadingFor:function(e){var t=sF.STATES;this.getStateFor(e).value<t.META_DATA_LOADED.value&&Xn.b("Unable to set image to loading state without loading metadata for contactId=%{id}",{id:e}),this._imageLoadingStates[e]=t.IMAGE_DATA_LOADING},setImageLoadedFor:function(e){var t=sF.STATES;this.getStateFor(e).value<t.IMAGE_DATA_LOADING.value&&Xn.b("Unable to set image to loaded state without loading metadata for contactId=%{id}",{id:e}),this._imageLoadingStates[e]=t.IMAGE_DATA_LOADED},processContactRecords:function(e){e=e.filter((function(e){var t=e.emailAddresses,n=e.phones;return t&&Array.isArray(t)||n&&Array.isArray(n)}));for(var t=0,n=e.length;t<n;t++){var r=e[t],i=r.emailAddresses,a=r.phones;i&&(r.emailAddresses=i.filter((function(e){return yt.a(e.field)}))),a&&(r.phones=a.filter((function(e){return yt.a(e.field)})))}return this.loadData(e)},loadData:function(e){return b.a.invokeFunction(function(){this._isMetadataLoaded=!0;for(var t=this._store,n=0,r=e.length;n<r;n++){var i=e[n],a=i.contactId,o=i.emailAddresses,s=i.phones,c=this;o&&o.forEach((function(e){var t=e.field,n=c._contactsIndexedByEmailAddress,r=n[t];yt.a(r)?r.add(a):n[t]=hg.create([a])})),s&&s.forEach((function(e){var t,n=(t=(t=((t=e.field)||"").toLowerCase()).replace(/./g,(function(e){return rj[e]||e})))&&t.replace(/[^0-9+]/g,""),r=c._contactsIndexedByPhoneNumber,i=r[n];yt.a(i)?i.add(a):r[n]=hg.create([a])}));var l=Yd.getStoreIdForPrimaryKey(sF,a);t.hasDataFor(l)||t.writeData(l,i)}}.bind(this))},loadMeCard:function(e){var t=this._meCardId;e.contactId=t;var n=this._store,r=Yd.getStoreIdForPrimaryKey(sF,t);n.writeData(r,e)},getMeCard:function(){var e=this._meCardId,t=this.getContactFor(e);return yt.a(t)?t:(this._store.writeData(e,{}),this.getContactFor(e))},loadOperationHandler:v.g({defaultValue:function(){return nj.create({service:this})}}),loadImageOperationHandler:v.g({defaultValue:function(){return XP.create({service:this})}}),processor:Me.b(aj),_store:Me.b(Yd),_contactsIndexedByEmailAddress:Me.b(hg),_contactsIndexedByPhoneNumber:Me.b(hg),_imageLoadingStates:Me.b(Object),_imageDataLoadingPromises:Me.b(Object),_metadataPromise:null,_isMetadataLoaded:v.g(!1),_sortOrder:v.g({readOnly:!0,get:function(){return gF()}}),_meCardId:"MECARD",staticMembers:{__QUALIFIED_CLASS_NAME__:"ContactsService"}}),sj={TOUCH:"TOUCH",MOUSE:"MOUSE"};Object.freeze(sj);var cj,lj=oj.extend({createRequest:function(e,t,n){var r,i=n.queryObject;return r=n.url||al.a.create({hostname:ac(e),pathname:t.slice(1),queryObject:i}),IP.create(Object.assign({},n,{url:r,useCredentialsIfCrossOrigin:!0}))},staticMembers:{__QUALIFIED_CLASS_NAME__:"Cosk2ContactsService"}}),uj=sj.MOUSE,dj=[XR.READ_WRITE,XR.READ_ONLY],hj=[qR.PRIVATE,qR.PUBLIC],fj=[JR.COPY_LINK],pj={keynote:"Keynote",notes:"Notes",numbers:"Numbers",pages:"Pages",iclouddrive:"Drive.File",share:"CloudKit",photos:"Photos"},gj=oe.a.extend(v.a,{staticMembers:{fromJSON:function(e){return yj.call(this,e)},__QUALIFIED_CLASS_NAME__:"Settings"},appName:v.g(),addParticipantsPaneTitle:v.g({defaultValue:Sr.d("CKSharing.AddParticipants.Title.AddPeople")}),initiateSharePaneTitle:v.g({defaultValue:Sr.d("CKSharing.InitiateShare.Title")}),initiateSharePaneSubtitle:v.g({defaultValue:null}),shouldHideAddParticipantsSummary:v.g(!1),manageSharePaneTitle:v.g({defaultValue:Sr.d("CKSharing.ManageShare.Title")}),recordHasShare:v.g(!1),useAnonymousPublicAccess:v.g(!1),sendLinkPaneTitle:v.g({defaultValue:Sr.d("CKSharing.AddParticipants.Title.SendLink")}),shareUrlNamespace:v.g("share"),shareItemType:v.g({readOnly:!0,dependencies:["shareUrlNamespace"],get:Object.assign((function(){var e=this.configurableShareItemType;if(yt.a(e))return e;var t=this.shareUrlNamespace,n=pj[t];return void 0===n&&Xn.b("Unknown shareUrlNamespace %{type}",{type:t}),n}),{__CW__getter:function(e,t,n,r){var i=this.configurableShareItemType;if(yt.a(i))return i;var a=r.internalGet(this,t[0+n]),o=pj[a];return void 0===o&&Xn.b("Unknown shareUrlNamespace %{type}",{type:a}),o}})}),configurableShareItemType:null,CustomLoadMembershipInfoHandlerClass:v.g(),CustomAutocompleteDataSourceClass:v.g(),additionalButtonTitle:v.g(),additionalButtonWasPressed:null,canonicalizePhoneNumberRequestGenerationFunction:null,contactsService:v.g({get:function(){return this.hostedByCloudOSOne?oj.sharedInstance:lj.sharedInstance}}),defaultAccess:v.g({readOnly:!0,dependencies:["supportedAccess"],get:Object.assign((function(e){return e||this.supportedAccess[0]}),{__CW__getter:function(e,t,n,r){return e||r.internalGet(this,t[0+n])[0]}})}),defaultPermission:v.g({readOnly:!0,dependencies:["supportedPermissions"],get:Object.assign((function(e){return e||this.supportedPermissions[0]}),{__CW__getter:function(e,t,n,r){return e||r.internalGet(this,t[0+n])[0]}})}),logService:v.g(),loggedInUserIdentity:v.g(),isAXMServiceAvailable:v.g(),notificationService:v.g(),didUpdateRootRecord:null,provideLinkRecord:function(){return b.a.resolve(eu.okResult(null))},didUpdateLinkRecord:null,provideLatestLinkRecordAfterConflict:null,provideBodyForTransport:function(e,t){return b.a.resolve(void 0)},provideSubjectForMail:function(){return b.a.resolve(void 0)},provideLatestRootRecordAfterUpdateConflict:null,shareRecordFields:v.g(Me.b(Object)),proposedShareRecordName:v.g(),shareThumbnail:v.g({didChange:function(e){e&&(this.shareRecordFields["cloudkit.thumbnailImageData"]={value:e})}}),maxNumberOfInvitees:v.g(100),shareTitle:v.g({get:function(e){return e},set:function(e){if(e){var t={Pages:"pages",Numbers:"numbers",Keynote:"key"}[this.shareItemType];if(t){var n=RegExp("\\."+t+"$","g");e=e.replace(n,""),this.shareType=t}return e}},didChange:function(e){e&&(this.shareRecordFields["cloudkit.title"]={value:e})}}),shareType:v.g({didChange:function(e){e&&(this.shareRecordFields["cloudkit.type"]={value:e})}}),shareUrl:v.g(),shareUrlDescription:v.g(),sharingUIIsReady:null,supportedAccess:v.g({defaultValue:Me.b(hj)}),supportedPermissions:v.g({defaultValue:Me.b(dj)}),supportedTransports:v.g({defaultValue:Me.b(fj)}),supportsNativeMail:v.g(!1),isAuthenticated:v.g(!0),isChinaAuthUser:y.c(!1),hostedByCloudOSOne:v.g(!0),willUpdateShareRecord:null,didUpdateShareRecord:null,primaryInteractionMode:v.g(uj),database:null,supportsAccess:function(e){return this.supportedAccess&&-1!==this.supportedAccess.indexOf(e)},supportsPermission:function(e){return this.supportedPermissions&&-1!==this.supportedPermissions.indexOf(e)},supportsTransport:function(e){return this.supportedTransports&&-1!==this.supportedTransports.indexOf(e)},mailComposeService:v.g({get:function(e){return e||(this.hostedByCloudOSOne?cD.sharedInstance:qP.sharedInstance)}})}),mj=["supportedAccess","supportedPermissions","sharingUIIsReady","additionalButtonWasPressed","recordHasShare","shareRecordFields","provideRootRecordForUpdate","provideLatestRootRecordAfterUpdateConflict","provideLinkRecord","didUpdateLinkRecord","provideLatestLinkRecordAfterConflict","didUpdateRootRecord","willUpdateShareRecord","didUpdateShareRecord","provideBodyForTransport","supportsSchoolwork","provideSubjectForMail","database","isChinaAuthUser","hostedByCloudOSOne","supportsNativeMail","supportedTransports","notificationService","loggedInUserIdentity","logService","mailComposeService"],vj=["appName","additionalButtonTitle","configurableShareItemType","initiateSharePaneSubtitle","initiateSharePaneTitle","shareUrl","shareUrlNamespace","shareUrlDescription","primaryInteractionMode","shareTitle","shareType","shareThumbnail"];function yj(e){var t=this.create();return N.a(e)&&(mj.forEach((function(n){void 0!==e[n]&&(t[n]=e[n])})),vj.forEach((function(n){ce.a(e[n])&&(t[n]=e[n])}))),t}!function(e){e.UNKNOWN="UNKNOWN",e.PENDING="PENDING",e.ACCEPTED="ACCEPTED"}(cj||(cj={}));var _j=cj,bj=nh.extend({created:uh(),fields:uh(),modified:uh(),recordChangeTag:uh({type:String}),recordName:uh({type:String}),recordType:uh({type:String}),staticMembers:{__QUALIFIED_CLASS_NAME__:"CKRecord"}}).extend({staticMembers:{processDataHashThroughModel:function(e){return this.create(e).getDataHash()},__QUALIFIED_CLASS_NAME__:"Share"},currentUserParticipant:gh({embedded:!0,type:dP}),forRecord:uh(),pluginFields:uh(),publicPermission:uh(),anonymousPublicAccess:uh(),recordType:uh({readOnly:!0}),share:uh(),displayedHostname:uh({type:String}),deleted:uh({type:Boolean}),shortGUID:uh({type:String}),participants:mh({embedded:!0,type:dP}),owner:gh({embedded:!0,type:dP}),effectiveAccess:v.g({dependencies:["publicPermission"],readOnly:!0,get:Object.assign((function(){return this.publicPermission===XR.NONE?qR.PRIVATE:qR.PUBLIC}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===XR.NONE?qR.PRIVATE:qR.PUBLIC}})}),effectivePermission:v.g({dependencies:["publicPermission","participants","participants.contentsDidChange","participantPermissionChanged","_fallbackPermission"],readOnly:!0,get:Object.assign((function(){if(this.publicPermission===XR.NONE){var e=this.participants,t=this._fallbackPermission;return 1===e.length&&t?t:wj(e)}return this.publicPermission}),{__CW__getter:function(e,t,n,r){if(r.internalGet(this,t[0+n])===XR.NONE){var i=r.internalGet(this,t[1+n]),a=r.internalGet(this,t[4+n]);return 1===i.length&&a?a:wj(i)}return r.internalGet(this,t[0+n])}})}),commonParticipantsType:v.g({dependencies:["participantTypesChanged","participants","participants.contentsDidChange"],readOnly:!0,get:Object.assign((function(){if(0!==this.participants.length)return this.participants.every((function(e){return e.type===YR.OWNER}))?YR.OWNER:this.participants.every((function(e){var t=e.type;return t===YR.ADMINISTRATOR||t===YR.OWNER}))?YR.ADMINISTRATOR:this.participants.every((function(e){var t=e.type;return t===YR.USER||t===YR.OWNER}))?YR.USER:void 0}),{__CW__getter:function(e,t,n,r){if(0!==r.internalGet(this,t[1+n]).length)return r.internalGet(this,t[1+n]).every((function(e){return e.type===YR.OWNER}))?YR.OWNER:r.internalGet(this,t[1+n]).every((function(e){var t=e.type;return t===YR.ADMINISTRATOR||t===YR.OWNER}))?YR.ADMINISTRATOR:r.internalGet(this,t[1+n]).every((function(e){var t=e.type;return t===YR.USER||t===YR.OWNER}))?YR.USER:void 0}})}),_fallbackPermission:v.g(null),isPublic:v.g({cacheable:!1,dependencies:["effectiveAccess"],readOnly:!0,get:Object.assign((function(){return this.effectiveAccess===qR.PUBLIC}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===qR.PUBLIC}})}),isPrivate:v.g({cacheable:!1,dependencies:["effectiveAccess"],readOnly:!0,get:Object.assign((function(){return this.effectiveAccess===qR.PRIVATE}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===qR.PRIVATE}})}),loggedInUserType:v.g({dependencies:["participants","participants.contentsDidChange","owner","recordName",$F.bindingFor("currentUserRecordName")],readOnly:!0,get:Object.assign((function(){if(this.recordName){var e=this._getCurrentUserParticipant();return e?e.type:YR.OWNER}return YR.OWNER}),{__CW__getter:function(e,t,n,r){if(r.internalGet(this,t[3+n])){var i=this._getCurrentUserParticipant();return i?i.type:YR.OWNER}return YR.OWNER}})}),loggedInUserCanEditShare:v.g({dependencies:["participants","participants.contentsDidChange","owner","recordName",$F.bindingFor("currentUserRecordName")],readOnly:!0,get:Object.assign((function(){var e;if(this.recordName){var t=this._getCurrentUserParticipant();if(t){var n=t.type;e=n===YR.OWNER||n===YR.ADMINISTRATOR}else e=!0}else e=!0;return e}),{__CW__getter:function(e,t,n,r){var i;if(r.internalGet(this,t[3+n])){var a=this._getCurrentUserParticipant();if(a){var o=a.type;i=o===YR.OWNER||o===YR.ADMINISTRATOR}else i=!0}else i=!0;return i}})}),participantPermissionChanged:v.i(),participantTypesChanged:v.i(),assignFieldUpdates:function(e){var t=this.fields;if(t)for(var n=Object.keys(e),r=0,i=n.length;r<i;r++){var a=n[r],o=t[a],s=e[a];o&&o.value===s.value||(t[a]=s)}else this.fields=e},findEquivalentParticipant:function(e){var t=this.participants;if(e&&t){if(t.indexOf(e)>=0)return e;for(var n=_P(e.userIdentity.lookupInfo.emailAddress),r=wP(e.userIdentity.lookupInfo.phoneNumber),i=t&&t.length||0;i--;){var a=t.objectAt(i);if(n&&_P(a.userIdentity.lookupInfo.emailAddress)===n)return a;if(r&&wP(a.userIdentity.lookupInfo.phoneNumber)===r)return a}}},addParticipantsIgnoringDupes:function(e,t,n){if(e){var r=this,i=this.participants,a=[];return e.forEach((function(e){var o=r.findEquivalentParticipant(e);if(yt.a(o)){var s=o.permission;t&&t!==s&&(o.permission=t,a.push({type:"MODIFY",subject:o,details:{permission:s}}));var c=o.type;n&&n!==c&&(o.type=n,a.push({type:"MODIFY",subject:o,details:{type:c}}))}else{var l=dP.create(e.getDataHash());t&&(l.permission=t),n&&(l.type=n),i.push(l),a.push({type:"INSERT",subject:e,details:{index:i.length-1}})}})),t&&this.participantPermissionChanged(),a}},removeEquivalentParticipants:function(e){for(var t=this.participants,n=0,r=e&&e.length||0;n<r;++n){var i=this.findEquivalentParticipant(e[n]);t.remove(i)}},setEffectiveAccess:function(e,t){if(e===qR.PRIVATE)this.publicPermission=XR.NONE;else{var n=this.effectivePermission;n&&n!==XR.UNKNOWN||(n=t),this.publicPermission=n;for(var r=this.participants,i=r.length-1;i>=0;i--){var a=r.objectAt(i);a.isOwner||(a.acceptanceStatus!==_j.ACCEPTED?r.remove(a):a.permission=n)}}},setEffectivePermission:function(e){this.effectiveAccess===qR.PUBLIC?this.publicPermission=e:this.setValueOnParticipants("permission",e)},setTypesOnParticipants:function(e){for(var t=this.participants,n=void 0===t?[]:t,r=0,i=n.length;r<i;++r){var a=n.objectAt(r);if(!a.isOwner){if(e===YR.ADMINISTRATOR&&a.permission===XR.READ_ONLY)continue;a.type=e}}},setValueOnParticipants:function(e,t){for(var n=this.participants||[],r=0,i=n.length;r<i;++r){var a=n.objectAt(r);a.isOwner||(a[e]=t)}"permission"===e&&(this._fallbackPermission=t,n.length>1&&this.participantPermissionChanged())},toSanitizedJSON:function(){var e=this.toJSON();return delete e.currentUserParticipant,e},_getCurrentUserParticipant:function(){var e,t,n,r,i=this.participants;for(e=0,t=i.length;e<t;++e)if((n=i.objectAt(e)).getPath("userIdentity.isCurrentlyLoggedInUser")){r=n;break}return r}});function wj(e){for(var t,n=0,r=e.length;n<r;++n){var i=e.objectAt(n);if(!i.isOwner){if(t&&t!==i.permission){t=XR.UNKNOWN;break}t=i.permission}}return t}function Sj(e,t,n,r){if(void 0===e||null===e)return"";var i=e.loggedInUserCanEditShare,a=e.isPublic,o=e.commonParticipantsType,s=e.owner,c=e.effectivePermission,l=s&&s.displayName,u=n||c,d=i&&!1===a&&(u===XR.READ_WRITE||u===XR.UNKNOWN),h=["CKSharing","SummaryText",i?"OwnerAdmin":"Participant",a?"Public":"Private",u===XR.READ_WRITE&&"RW",u===XR.READ_ONLY&&"RO",u===XR.UNKNOWN&&"Mixed",d&&void 0===o&&"PreShare",d&&!1===r&&"OwnerCanAdd",d&&!0===r&&"AllCanAdd",d&&null===r&&"SomeCanAdd",i&&t].filter(Boolean).join(".");return Sr.d(h,{ownerName:l})}function Ej(e,t){return t.indexOf(e)<0?t[0]:e}function Ij(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Cj(e,t)}function Cj(e,t){return Cj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Cj(e,t)}var Oj=globalThis.Error,Tj=function(e,t){this.name="CKSharing.Error",this.message=e||"",this.context=t,this.stack=(new Oj).stack};(Tj.prototype=Object.create(Oj.prototype)).constructor=Tj;var Aj=function(e){function t(t,n,r){var i;return(i=e.call(this,t,r)||this).response=n,i.errors=n&&n.errors||[],i}return Ij(t,e),t}(Tj);function Nj(e){var t=e;if(!(e instanceof Tj)){var n=e||{},r={message:n.message,errors:[n],hasErrors:!0};throw new Aj("CloudKit request failed",r)}throw t}function Mj(e){if(e.hasErrors)throw new Aj("Received CloudKit errors in response",e);return e}var Dj,Rj=function(e){function t(){return e.apply(this,arguments)||this}return Ij(t,e),t}(Tj);function Lj(e){var t=e;if(!(e instanceof Tj)){var n={message:(e||{}).message};t=new Rj("Customer error encountered",n)}throw t}function kj(e){return e.serverErrorCode||e.ckErrorCode}!function(e){e.ACCESS_DENIED="ACCESS_DENIED",e.ATOMIC_ERROR="ATOMIC_ERROR",e.AUTH_PERSIST_ERROR="AUTH_PERSIST_ERROR",e.AUTHENTICATION_FAILED="AUTHENTICATION_FAILED",e.AUTHENTICATION_REQUIRED="AUTHENTICATION_REQUIRED",e.BAD_REQUEST="BAD_REQUEST",e.CONFIGURATION_ERROR="CONFIGURATION_ERROR",e.CONFLICT="CONFLICT",e.EXISTS="EXISTS",e.INTERNAL_ERROR="INTERNAL_ERROR",e.INVALID_ARGUMENTS="INVALID_ARGUMENTS",e.NETWORK_ERROR="NETWORK_ERROR",e.NOT_FOUND="NOT_FOUND",e.QUOTA_EXCEEDED="QUOTA_EXCEEDED",e.SERVICE_UNAVAILABLE="SERVICE_UNAVAILABLE",e.SHARE_UI_TIMEOUT="SHARE_UI_TIMEOUT",e.SIGN_IN_FAILED="SIGN_IN_FAILED",e.THROTTLED="THROTTLED",e.TRY_AGAIN_LATER="TRY_AGAIN_LATER",e.UNEXPECTED_SERVER_RESPONSE="UNEXPECTED_SERVER_RESPONSE",e.UNIQUE_FIELD_ERROR="UNIQUE_FIELD_ERROR",e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.VALIDATING_REFERENCE_ERROR="VALIDATING_REFERENCE_ERROR",e.ZONE_BUSY="ZONE_BUSY",e.ZONE_NOT_FOUND="ZONE_NOT_FOUND",e.ATOMIC_FAILURE="ATOMIC_FAILURE",e.MANAGED_APPLE_ID_RESTRICTED="MANAGED_APPLE_ID_RESTRICTED",e.OP_LOCK_FAILURE="OP_LOCK_FAILURE"}(Dj||(Dj={}));var xj=Dj;function Fj(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(i){if(!(i.isCKError||i instanceof Rj))throw i;var a,o=Object.assign({},r,{locNamespace:"CKSharing.ErrorDialog",interactionMode:e.interactionMode}),s=kj(i),c=e.operationType,l=i.ckErrorCode;if("POLL_SHARE"!==c){switch(s){case xj.ACCESS_DENIED:case xj.MANAGED_APPLE_ID_RESTRICTED:a=xj.ACCESS_DENIED,o.descriptionLocSuffix="Description."+e.appName;break;case xj.AUTHENTICATION_FAILED:case xj.AUTHENTICATION_REQUIRED:throw i;case xj.CONFLICT:case xj.OP_LOCK_FAILURE:case xj.NOT_FOUND:a=c,"INVITE_TO_PUBLIC"!==c&&"SEND_LINK"!==c||(o.messageLocSuffix="Message."+e.appName),o.descriptionKey=xj.CONFLICT;break;case xj.ZONE_NOT_FOUND:a=e.operationType,o.descriptionKey=xj.NOT_FOUND,o.descriptionLocSuffix="Description."+e.appName;break;default:if(a=e.operationType,"INVITE_TO_PUBLIC"!==c&&"SEND_LINK"!==c||(o.messageLocSuffix="Message."+e.appName),o.descriptionKey=xj.UNKNOWN_ERROR,n){var u,d=i.isCKError?" response from the server.":" response from the customer";u={name:i.name,message:i.message,ckErrorCode:l,operationType:c},n.recordStat("CloudKit Sharing Framework: Unhandled "+l+d,u)}}t&&t.error(a,o)}}}function Pj(e){return P.a(e,uN)}function jj(e){return P.a(e,il)}var Uj={removeIsReadyToTerminateBlock:function(e){var t=dt.application;Pj(t)?t.removeIsReadyToTerminateBlock(e):jj(t)&&t.parentProxy.isReadyToTerminateDidChange(!0)},setIsReadyToTerminateBlock:function(e){var t=dt.application;Pj(t)?t.setIsReadyToTerminateBlock(e):jj(t)&&t.parentProxy.isReadyToTerminateDidChange(!1)}},Bj=S.b("ShareState",{NONE:0,NEW:1,NEW_SAVING:2,LOADING:3,LOADED:4,LOADED_DIRTY:5,LOADED_SAVING:6,DESTROYING:7,DESTROYED:8}),Vj=S.b("OperationType",{INITIATE_SHARE:"CREATE",ADD_PARTICIPANTS:"ADD_PEOPLE_TO",MANAGE_SHARE:"UPDATE"}),Wj={mixinDependencies:[$.a],ioService:v.g({strong:!0}),isLoading:v.g({dependencies:["state"],readOnly:!0,get:Object.assign((function(){return this.state===Bj.LOADING}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===Bj.LOADING}})}),isDestroying:v.g({dependencies:["state"],readOnly:!0,get:Object.assign((function(){return this.state===Bj.DESTROYING}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===Bj.DESTROYING}})}),isSavingShare:v.g({dependencies:["state"],readOnly:!0,get:Object.assign((function(){return this.state===Bj.NEW_SAVING||this.state===Bj.LOADED_SAVING}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===Bj.NEW_SAVING||r.internalGet(this,t[0+n])===Bj.LOADED_SAVING}})}),cacheingProvideRootRecordFunction:null,setUp:G.a.define(),settings:v.g({type:gj}),share:v.g(null),state:v.g({dependencies:["_state"],readOnly:!0,get:Object.assign((function(){return this._state}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])}})}),_state:v.g({defaultValue:Bj.NONE}),permissionValueForAddingParticipants:v.g(),participantsCanAddOthers:v.g(),typeValueForAddingParticipants:v.g({readOnly:!0,dependencies:["share","share.isPrivate","share.loggedInUserType","permissionValueForAddingParticipants","participantsCanAddOthers"],get:Object.assign((function(){return this.share&&this.share.isPrivate&&this.permissionValueForAddingParticipants===XR.READ_WRITE&&this.share.loggedInUserType===YR.OWNER&&!0===this.participantsCanAddOthers?YR.ADMINISTRATOR:YR.USER}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])&&r.internalGetPath(this,t[1+n])&&r.internalGet(this,t[3+n])===XR.READ_WRITE&&r.internalGetPath(this,t[2+n])===YR.OWNER&&!0===r.internalGet(this,t[4+n])?YR.ADMINISTRATOR:YR.USER}})}),summaryTextWOption:v.g({readOnly:!0,dependencies:["permissionValueForAddingParticipants","participantsCanAddOthers","settings.defaultPermission","share","share.loggedInUserCanEditShare","share.isPublic","share.effectivePermission","share.owner","share.owner.displayName"],get:Object.assign((function(){return Sj(this.share,"WOption",this._computePermissionForSummaryText(),this.participantsCanAddOthers)}),{__CW__getter:function(e,t,n,r){return Sj(r.internalGet(this,t[3+n]),"WOption",this._computePermissionForSummaryText(),r.internalGet(this,t[1+n]))}})}),summaryTextNoOption:v.g({readOnly:!0,dependencies:["permissionValueForAddingParticipants","participantsCanAddOthers","settings.defaultPermission","share","share.loggedInUserCanEditShare","share.isPublic","share.effectivePermission","share.owner","share.owner.displayName"],get:Object.assign((function(){return Sj(this.share,"NoOption",this._computePermissionForSummaryText(),this.participantsCanAddOthers)}),{__CW__getter:function(e,t,n,r){return Sj(r.internalGet(this,t[3+n]),"NoOption",this._computePermissionForSummaryText(),r.internalGet(this,t[1+n]))}})}),_computePermissionForSummaryText:function(){var e=this.permissionValueForAddingParticipants,t=this.share,n=t&&t.effectivePermission;e&&n!==XR.UNKNOWN||(e=n);var r=this.settings;return e||r&&r.defaultPermission},_loadShareFromDataHash:function(e){var t=M.a(e);if(t&&t.currentUserParticipant){var n=t.currentUserParticipant.userIdentity.userRecordName;$F.currentUserRecordName=n}WP(this.share,bj)?(this.share.replaceData(t),this.propertyChanged("share"),this.share.participants.forEach((function(e){e.propertyChanged("userIdentity")}))):(this.share=bj.create(t),function(e){var t=e.participants;t&&t.forEach((function(e){e.propertyChanged("userIdentity")}));var n=e.owner;n&&n.propertyChanged("userIdentity");var r=e.currentUserParticipant;r&&r.propertyChanged("userIdentity")}(this.share))}},zj=zn.a.extend(Wj,Uj,{operationType:y.c(),transport:v.g(),cancelOnUnrecoverableError:function(e){var t=e.error;this.sendEvent("cancel",t)},_createShare:async function(e){this.setIsReadyToTerminateBlock("_createShare");var t=this.share,n=this.settings,r=this.cacheingProvideRootRecordFunction,i=this.ioService,a=Fj({operationType:"INVITE_TO_"+(t.isPublic?"PUBLIC":"PRIVATE.VIA_UNKNOWN"),appName:n.shareItemType,interactionMode:n.primaryInteractionMode},n.notificationService,n.logService);this._state=Bj.NEW_SAVING;var o=await async function(){var e,o={didUpdateRootRecord:n.didUpdateRootRecord,provideRootRecordForUpdate:r,provideLatestRootRecordAfterUpdateConflict:n.provideLatestRootRecordAfterUpdateConflict};try{e=await r()}catch(s){a(s)}return null===t.shortGUID?i.createShortGUID(e,o):fg.Result.success(e)}();o.ok?t.forRecord=o.value:a(o.error);var s={didUpdateRootRecord:n.didUpdateRootRecord,provideRootRecordForUpdate:r,provideLatestRootRecordAfterUpdateConflict:n.provideLatestRootRecordAfterUpdateConflict,didUpdateShareRecord:n.didUpdateShareRecord},c=await i.createShare(t.getDataHash(),s);if(c.ok)return this._state=Bj.LOADED,this._loadShareFromDataHash(c.value),this.share;a(c.error),this.removeIsReadyToTerminateBlock("_createShare")},validateInviteesToAddToShare:function(e,t){return!this.checkAndDisplayErrorForInvalidInvitees(e,t)&&(this.checkIfAllInviteesAreCurrentUser(e)?(t&&(n="ADDED_ONLY_YOURSELF_EMAIL"),this.settings.notificationService.error("ADDED_ONLY_YOURSELF",{locNamespace:"CKSharing.ErrorDialog",descriptionKey:n}),!1):!this.checkIfTooManyInvitees(this.share,e)||(this.settings.notificationService.error("TOO_MANY_INVITEES",{locNamespace:"CKSharing.ErrorDialog"}),!1));var n},checkIfTooManyInvitees:function(e,t){if(!e||e.isPublic)return!1;var n=e.participants,r=(n.length||0)-1;r+=t&&t.length||0;var i={};n.forEach((function(e){var t=e.userIdentity;i[t.emailAddress||t.phoneNumber]=!0}));var a=0;t&&t.forEach((function(e){var t=e.userIdentity;i[t.emailAddress||t.phoneNumber]?++a:i[t.emailAddress||t.phoneNumber]=!0}));var o=this.settings.maxNumberOfInvitees;return r-a>o},checkAndDisplayErrorForInvalidInvitees:function(e,t){var n,r,i=e.length,a=0;return e&&e.forEach((function(e){var i=e.userIdentity,o=e.isInvalid;(!i||!i.emailAddress&&t||!i.emailAddress&&!i.phoneNumber||o)&&(++a,n||(n=e.displayName),r||(r=e.invalidReason))})),this.displayInvalidInviteesAlert(a,i,n,r,t)},displayInvalidInviteesAlert:function(e,t,n,r,i){if(!e)return!1;var a="ALL_INVALID_TOKENS",o={locNamespace:"CKSharing.ErrorDialog.ValidateTokens"+(i?".Email":"")};if(1===e){if(a="ONE_INVALID_TOKEN",r===Sr.d("CKSharing.InvalidToken.NotAXMContact")&&(a="ONE_INVALID_TOKEN.NOT_IN_ORG"),n.length>69){var s=n.length,c=n.substr(0,34),l=n.substr(s-34,34);n=c+Sr.d("CKSharing.ErrorDialog.ValidateTokens.ONE_INVALID_TOKEN.OVER_SIZE.Ellipsis")+l}o.messageFormatValues={value:n}}else e!==t&&(a="SOME_INVALID_TOKENS");return this.settings.notificationService.error(a,o),!0},checkIfAllInviteesAreCurrentUser:function(e){return!!(e&&e.length&&e.every)&&e.every(this.checkIfInviteeIsCurrentUser.bind(this))},checkIfInviteeIsCurrentUser:function(e){var t=this.settings.loggedInUserIdentity.appleId,n=_P(e.userIdentity.emailAddress),r=wP(e.userIdentity.phoneNumber);return n&&n===t||r&&r===t},saveShare:async function(e){var t,n=this.share,r=this.operationType;if(r&&(r===Vj.INITIATE_SHARE?t="InitiatingNewShare":r===Vj.ADD_PARTICIPANTS&&(t="AddingParticipantsToShare"),t)){var i=this.settings,a=this.transport;a.value&&(a=a.value),i.logService.recordStat(t,{appName:i.appName,transport:a})}return null==n.recordName?this._createShare(e):this.updateShare(e)},setUp:async function(){var e=this,t=this.settings,n=this.share;if(n){this._state=Bj.LOADED;var r=t.shareRecordFields;return r&&n.assignFieldUpdates(r),this.permissionValueForAddingParticipants||(this.permissionValueForAddingParticipants=Ej(n.effectivePermission,t.supportedPermissions)),this.sendEvent("sharingUIIsReady"),b.a.resolve()}this.setIsReadyToTerminateBlock("setUp"),this._state=Bj.LOADING;var i=this.ioService,a=await async function(){try{var t;try{t=await e.cacheingProvideRootRecordFunction()}catch(n){e.sendEvent("cancel",n)}return t.share&&t.share.recordName?Promise.resolve(fg.Result.success(t)):i.fetchDataRecord(t.recordName)}catch(n){return Promise.resolve(fg.Result.failure(n))}}();if(!a.ok||!a.value.share||!a.value.share.recordName)throw this.removeIsReadyToTerminateBlock("setUp"),new Error("Record does not contain share information.");var o=await this.ioService.fetchShareRecord(a.value.share.recordName);if(o.ok){this._state=Bj.LOADED,this._loadShareFromDataHash(o.value);var s=t.shareRecordFields;s&&this.share.assignFieldUpdates(s),this.permissionValueForAddingParticipants=Ej(this.share.effectivePermission,t.supportedPermissions),this.sendEvent("sharingUIIsReady")}else this.sendEvent("cancel",o.error);this.removeIsReadyToTerminateBlock("setUp")},updateShare:async function(e){this.setIsReadyToTerminateBlock("updateShare");var t=this.share,n=this.settings,r=this.ioService,i={didUpdateRootRecord:n.didUpdateRootRecord,willUpdateShareRecord:n.willUpdateShareRecord,didUpdateShareRecord:n.didUpdateShareRecord};this._state=Bj.LOADED_SAVING;var a=Fj({operationType:"UPDATE",appName:n.shareItemType,interactionMode:n.primaryInteractionMode},n.notificationService,n.logService);this.retain(this,"this - updateShare");var o=await r.updateShare(t&&t.getDataHash(),i);if(o.ok)return this._loadShareFromDataHash(o.value),this.sendEvent("shareWasUpdated",o.value,!0),this.isDestroying||(this._state=Bj.LOADED),this.share;e||a(o.error),this.removeIsReadyToTerminateBlock("updateShare"),this.release.bind(this,this,"this - updateShare")},staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseShareViewController"}});function Hj(e,t){var n=e.shortGUID,r=t&&t.shareUrl;if(Nt.a(r)){var i=e.displayedHostname||(!0===t.isChinaAuthUser?"www.icloud.com.cn":"www.icloud.com"),a=t&&t.shareUrlNamespace||"share";r="https://"+i+"/"+encodeURIComponent(a)}var o=/%\{shortGUID\}/.test(r),s=r.indexOf("#")>=0;if(o)r=OT.a(r,{shortGUID:n});else{var c=r.length-1,l=r.charAt(c);r+="#"===l||"/"===l?n:"/"+n}var u=t&&t.shareUrlDescription;if(!Nt.a(u)&&!s){var d=encodeURIComponent(u);r+="#"+(d=(d=d.replace(/_/g,"%5F")).replace(/%20/g,"_"))}return r}var Gj={pages:"CKSharing.iWork.Pages",keynote:"CKSharing.iWork.Keynote",numbers:"CKSharing.iWork.Numbers"};function $j(e,t){var n=function(e,t,n,r,i,a){var o;o=n,n=(o=ax.b(o))&&o.length>0?o:null,e=ax.a(e);var s,c=(r=ax.b(r)).toLowerCase();if(r=c in Gj?Sr.d(Gj[c]):r,i)i=ax.a(i);else switch(a){case"pages":i="https://www.icloud.com/mail_resources/app_icons/pages@2x.png";break;case"numbers":i="https://www.icloud.com/mail_resources/app_icons/numbers@2x.png";break;case"keynote":i="https://www.icloud.com/mail_resources/app_icons/keynote@2x.png";break;case"notes":i="https://www.icloud.com/mail_resources/app_icons/notes@2x.png";break;default:i="https://www.icloud.com/mail_resources/app_icons/icloud@2x.png"}s=n?'<div style="color:var(--theme-color-labelPrimary);font-weight:500;text-align:left;text-overflow:ellipsis;font-size:12px;word-wrap:break-word;overflow:hidden;"><a rel="nofollow" href="'+e+'" style="text-decoration: none;color:var(--theme-color-labelPrimary);" draggable="false"><font>'+n+'</font></a></div><div style="color:var(--theme-color-labelSecondary);font-weight:400;text-align:left;text-overflow:ellipsis;font-size:11px;word-wrap:break-word;overflow:hidden;"><a rel="nofollow" href="'+e+'" style="text-decoration: none;color:var(--theme-color-labelSecondary);" draggable="false"><font>'+r+"</font></a></div>":'<div style="color:var(--theme-color-labelPrimary);font-weight:500;text-align:left;text-overflow:ellipsis;font-size:12px;word-wrap:break-word;overflow:hidden;"><a rel="nofollow" href="'+e+'" style="text-decoration: none;color:var(--theme-color-labelPrimary);" draggable="false"><font>'+Sr.d("CKSharing.RichLink.NoShareTitle",{appName:r})+"</font></a></div>";var l=Sr.a.sharedInstance.isRTL?"rtl":"ltr";return'<div dir="'+l+'"><div>'+t+'</div><a contenteditable="false" style="border-radius:5px;display:block;text-decoration:none;font-family:-apple-system, Helvetica, Arial, sans-serif;overflow:hidden;width:300px;" rel="nofollow" href="'+e+'" dir="'+l+'" role="button" draggable="false" width="300"><table style="table-layout:fixed;border-collapse:collapse;width:300px;background-color:var(--theme-color-gray5);font-family:-apple-system, Helvetica, Arial, sans-serif;" cellpadding="0" cellspacing="0" border="0" width="300"><tbody><tr><td vertical-align="center"><table bgcolor="var(--theme-color-gray5)" cellpadding="0" cellspacing="0" width="300" style="font-family:-apple-system, Helvetica, Arial, sans-serif;table-layout:fixed;background-color:var(--theme-color-gray5);"><tbody><tr><td style="padding:9px 0px 9px 9px;" width="30"><a rel="nofollow" href="'+e+'" draggable="false"><img src="'+i+'" draggable="false" style="pointer-events:none !important;display:inline-block;width:30px;height:30px;vertical-align:middle;" width="30" height="30"></a></td><td style="padding:8px 0px 8px 0px;"><div style="max-width:100%;margin:0px 16px 0px 8px;overflow:hidden;">'+s+"</div></td></tr></tbody></table></td></tr></tbody></table></a></div>"}(Hj(t,e),Kj(e,t),e.shareTitle,e.appName,null,e.shareUrlNamespace);return'<div dir="'+(Sr.a.sharedInstance.isRTL?"rtl":"ltr")+'"><br><br></div>'+n}function Kj(e,t){var n=e.shareItemType,r="";if("CloudKit"!==n){var i=["CKSharing.AddParticipants.Email.Bodyprefix"];i.push(t.loggedInUserCanEditShare?"OwnerAdmin":"Participant"),i.push(n),r=Sr.d(i.join("."))}return r}function Qj(e){var t=e.shareTitle;return t?Sr.d("CKSharing.AddParticipants.Email.Subject.ShareTitle",{shareTitle:t}):Sr.d("CKSharing.AddParticipants.Email.Subject.AppName",{appName:e.appName})}var qj={mixinDependencies:[$.a,Wj],invitees:v.g(),transport:v.g(),sendShare:G.a.define()},Zj=zj.extend(qj,{preselectedTransport:v.g(),operationType:Vj.ADD_PARTICIPANTS,invitees:v.g(_.c("view.invitees")),transport:v.g({dependencies:["settings.supportedTransports","preselectedTransport"],writeDependencies:[],get:Object.assign((function(e){if(e)return e;var t=JR.SCHOOLWORK,n=JR.NATIVE_MAIL,r=JR.WEB_MAIL,i=JR.COPY_LINK,a=hg.create(this.settings.supportedTransports),o=a.has(t)?t:a.has(n)?n:a.has(r)?r:i,s=this.preselectedTransport;return s?(a.has(s)||Xn.b("An unsupported transport was provided for preselectedTransport. Use `CKSharing.Service.getSupportedTransports()` to know which transports can be chosen from."),s):o}),{__CW__getter:function(e,t,n,r){if(e)return e;var i=JR.SCHOOLWORK,a=JR.NATIVE_MAIL,o=JR.WEB_MAIL,s=JR.COPY_LINK,c=hg.create(r.internalGetPath(this,t[0+n])),l=c.has(i)?i:c.has(a)?a:c.has(o)?o:s,u=r.internalGet(this,t[1+n]);return u?(c.has(u)||Xn.b("An unsupported transport was provided for preselectedTransport. Use `CKSharing.Service.getSupportedTransports()` to know which transports can be chosen from."),u):l}})}),sharePopoverIsActive:v.g(),showPermissionsDropdown:v.g({readOnly:!0,dependencies:["settings.supportedPermissions","share.isPublic"],get:Object.assign((function(){var e=this.settings.supportedPermissions;return!!(e&&e.length>1)&&!this.share.isPublic}),{__CW__getter:function(e,t,n,r){var i=r.internalGetPath(this,t[0+n]);return!!(i&&i.length>1)&&!r.internalGetPath(this,t[1+n])}})}),shouldShowSendingSpinner:v.g({defaultValue:!1}),shouldShowUserName:v.g({readOnly:!0,dependencies:["share.loggedInUserCanEditShare","share.effectiveAccess"],get:Object.assign((function(){return this.share.loggedInUserCanEditShare&&this.share.effectiveAccess===qR.PRIVATE}),{__CW__getter:function(e,t,n,r){return r.internalGetPath(this,t[0+n])&&r.internalGetPath(this,t[1+n])===qR.PRIVATE}})}),createView:function(){var e=this.settings,t=e.primaryInteractionMode,n=e.shouldHideAddParticipantsSummary;return t===sj.TOUCH?VP.create():UP.create(n)},adminCheckBoxDidChange:function(e){this.participantsCanAddOthers=e},participantsCanAddOthers:v.g({dependencies:["share","share.participants","share.participants.contentsDidChange","share.commonParticipantsType"],get:Object.assign((function(e){if("boolean"===typeof e||null===e)return e;if(!this.share||0===this.share.participants.length)return!0;switch(this.share.commonParticipantsType){case YR.OWNER:case YR.ADMINISTRATOR:return!0;default:return!1}}),{__CW__getter:function(e,t,n,r){if("boolean"===typeof e||null===e)return e;if(!r.internalGet(this,t[0+n])||0===r.internalGetPath(this,t[1+n]).length)return!0;switch(r.internalGetPath(this,t[3+n])){case YR.OWNER:case YR.ADMINISTRATOR:return!0;default:return!1}}}),writeDependencies:[],set:function(e){return e}}),view:v.g({downstreamBindings:{accessDropdownValue:"(owner).share.effectiveAccess",isLoading:"(owner).isLoading",isSavingShare:"(owner).isSavingShare",CustomLoadMembershipInfoHandlerClass:"(owner).settings.CustomLoadMembershipInfoHandlerClass",CustomAutocompleteDataSourceClass:"(owner).settings.CustomAutocompleteDataSourceClass",logService:"(owner).settings.logService",permissionDropdownValue:"(owner).permissionValueForAddingParticipants",adminCheckboxIsChecked:"(owner).participantsCanAddOthers",summaryTextNoOption:"(owner).summaryTextNoOption",summaryTextWOption:"(owner).summaryTextWOption",showPermissionsDropdown:"(owner).showPermissionsDropdown",supportedPermissions:"(owner).settings.supportedPermissions",supportedTransports:"(owner).settings.supportedTransports",transport:"(owner).transport",loggedInUserInfo:"(owner).loggedInUserInfo",title:"(owner).shareSpecificPaneTitle",shareButtonTitle:"(owner).shareSpecificShareButtonTitle",shouldShowUserName:"(owner).shouldShowUserName",sharePopoverIsActive:"(owner).sharePopoverIsActive",primaryInteractionMode:"(owner).settings.primaryInteractionMode",shouldShowSendingSpinner:"(owner).shouldShowSendingSpinner",shareItemType:"(owner).settings.shareItemType",hostedByCloudOSOne:"(owner).settings.hostedByCloudOSOne",loggedInUserIdentity:"(owner).settings.loggedInUserIdentity",loggedInUserType:"(owner).share.loggedInUserType",isAXMServiceAvailable:"(owner).settings.isAXMServiceAvailable"}}),shareSpecificPaneTitle:v.g({readOnly:!0,dependencies:["share","share.isPublic","settings","settings.sendLinkPaneTitle","settings.addParticipantsPaneTitle"],get:Object.assign((function(){var e=this.share,t=this.settings;return t&&e?e.isPublic?t.sendLinkPaneTitle:t.addParticipantsPaneTitle:""}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]),a=r.internalGet(this,t[2+n]);return a&&i?i.isPublic?a.sendLinkPaneTitle:a.addParticipantsPaneTitle:""}})}),shareSpecificShareButtonTitle:v.g({readOnly:!0,dependencies:["share","share.isPublic"],get:Object.assign((function(){var e=this.share;return Vj.INITIATE_SHARE!==this.operationType&&e&&e.isPublic?Sr.d("CKSharing.Dialog.Button.Continue"):Sr.d("CKSharing.AddParticipants.OKButton.Share.Title")}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return Vj.INITIATE_SHARE!==this.operationType&&i&&i.isPublic?Sr.d("CKSharing.Dialog.Button.Continue"):Sr.d("CKSharing.AddParticipants.OKButton.Share.Title")}})}),loggedInUserInfo:v.g({readOnly:!0,dependencies:["settings.loggedInUserIdentity"],get:Object.assign((function(){var e=this.getPath("settings.loggedInUserIdentity");if(e){var t,n=e.givenName,r=e.familyName;return(n||r)&&(t=uA({givenName:n,familyName:r})),{displayName:t,appleId:e.appleId}}}),{__CW__getter:function(e,t,n,r){var i=r.internalGetPath(this,t[0+n]);if(i){var a,o=i.givenName,s=i.familyName;return(o||s)&&(a=uA({givenName:o,familyName:s})),{displayName:a,appleId:i.appleId}}}})}),toggleSpinner:function(){this.shouldShowSendingSpinner=!this.shouldShowSendingSpinner},sendShare:function(e){var t,n=this,r=this._state;switch(this.toggleSpinner(),this.transport){case JR.WEB_MAIL:this.sendEvent("shareByWebMail"),t=b.a.resolve();break;case JR.SCHOOLWORK:this.sendEvent("shareBySchoolwork"),t=b.a.resolve();break;case JR.NATIVE_MAIL:t=this.awaitPendingTokenValidations().then((function(e){return e.ok?n.shareByNativeMail(e):b.a.resolve(e)}));break;case JR.COPY_LINK:t=this.awaitPendingTokenValidations().then((function(e){return e.ok?n.shareByCopyingLink():b.a.resolve(e)}));break;default:throw new Error("Unrecognized transport for AddParticipantsViewController: "+this.transport,{viewController:this,transport:this.transport})}return t.finally((function(){n._state=r,n.toggleSpinner()})).then((function(e){return e&&e.ok&&n.transport===JR.NATIVE_MAIL&&n.sendEvent("didCompleteSendMessage"),e}))},setTransportAndSendShare:function(e){this.transport=e,this.sendShare()},shareByNativeMail:function(e){var t=this,n=this.share,r=this.invitees,i="INVITE_TO_";n.isPrivate?i+="PRIVATE.VIA_EMAIL."+(1===r.length?"TO_PERSON":"TO_PEOPLE"):i+="PUBLIC";var a=this.settings,o={operationType:i,appName:a.shareItemType,interactionMode:a.primaryInteractionMode};return this._state=Bj.LOADED_SAVING,n.isPrivate&&n.addParticipantsIgnoringDupes(r,this.permissionValueForAddingParticipants,this.typeValueForAddingParticipants),this.saveShare(!0).then((function(e){return function(e,t,n){var r=Hj(t,e),i=JR.NATIVE_MAIL;return e.provideBodyForTransport(i,r).then((function(e){return{share:t,unencodedBody:e}})).then((function(t){var n=t.newShare;return void 0!==t.unencodedBody?t:function(e,t){var n=Kj(e,t)+"\n"+Hj(t,e);return b.a.resolve(n)}(e,n).then((function(e){return{newShare:n,unencodedBody:e}}))})).then((function(t){var n=t.unencodedBody;return e.provideSubjectForMail().then((function(e){return{unencodedBody:n,customSubject:e}}))})).then((function(t){var r=t.customSubject,i=t.unencodedBody;return void 0===r&&(r=Qj(e)),"mailto:"+n.filter((function(e){return yt.a(e.userIdentity.emailAddress)})).map((function(e){return e.displayName+"<"+e.userIdentity.emailAddress+">"})).join(",")+"?subject="+r+"&body="+encodeURIComponent(i)}))}(a,e,r)})).then((function(r){var i=a.shareItemType,o=yt.a(HR.a)?a.primaryInteractionMode===sj.TOUCH?HR.a.ACTION_SHEET:HR.a.ALERT:void 0,s=b.a.create(),c={notificationDidComplete:function(){t.sendEvent("softShow"),s.resolve()}};return a.notificationService.info("ConfirmNativeMail",{interactionMode:a.primaryInteractionMode,messageLocSuffix:"Message."+i,descriptionLocSuffix:"Description",primaryButtonConfig:LP.create({link:r,additionalClassNames:ut.a(["alert-button-container"]),title:Sr.d("ConfirmNativeMail.ConfirmButton"),action:"notificationDidComplete",target:c}),alternateButtonConfig:{title:Sr.d("ConfirmNativeMail.CloseButton"),action:"notificationDidComplete",target:c},alertStyle:o}),t.sendEvent("softHide"),t.sendEvent("didUpdateShareRecord",n,!0),s.then((function(){return e}))})).catch(Fj(o,a.notificationService,a.logService)).finally((function(){t._state=Bj.LOADED}))},shareByCopyingLink:function(){var e=this,t=this.settings,n=t.shareItemType,r={operationType:"INVITE_TO_"+(this.share.isPublic?"PUBLIC":"PRIVATE.VIA_UNKNOWN"),appName:n,interactionMode:t.primaryInteractionMode};return this._state=Bj.LOADED_SAVING,this.saveShare(!0).then((function(t){return e.sendEvent("didShareByCopyingLink"),t})).catch(Fj(r,t.notificationService,t.logService)).finally((function(){e._state=Bj.LOADED}))},saveShare:function(e){var t=this,n=this.invitees,r=this.share,i=this.permissionValueForAddingParticipants,a=null;return r.isPrivate&&(a=r.addParticipantsIgnoringDupes(n,i,this.typeValueForAddingParticipants)),this.isShareSignificantlyDirty(r,this.ioService.mostRecentShareDataHashFromServer)?this.__s._$65G$saveShare.call(this,e).catch((function(e){var n=ol.a(t.share,"participants");throw yt.a(a)&&yt.a(n)&&(n.beginBatchedChanges(),a.reverse().forEach((function(e){if("MODIFY"===e.type){var t=e.details.permission;e.subject.permission=t}else if("INSERT"===e.type){var r=e.details.index;n.removeAt(r)}})),n.endBatchedChanges()),e})):b.a.resolve(r)},awaitPendingTokenValidations:function(){var e=this,t=this.share,n=this.getPath("view.invitationsTextField");return t.isPublic||this.validateInviteesToAddToShare(n.invitees)?this.waitForAutocompleteHasPendingTokensToClear(n).catch((function(t){return e.showPendingValidationFailAlert(),KR.create({status:400})})).then((function(){return n.hasInvalidTokens?(e.showPendingValidationFailAlert(),KR.create({status:400})):KR.create({status:200})})):b.a.resolve(KR.create({status:400}))},setEffectivePermission:function(e){this.permissionValueForAddingParticipants=e},waitForAutocompleteHasPendingTokensToClear:function(e){if(!e.hasPendingTokens)return b.a.resolve();var t=b.a.create(),n=e.observe("hasPendingTokens",(function(e){e||(t.resolve(),n&&n.disconnect())}));return t},showPendingValidationFailAlert:function(){var e,t=this.getPath("view.invitationsTextField").tokenViews,n=t&&t.length||0,r=0;return t&&t.forEach((function(t){t.isInvalid&&(++r,e=t.value)})),this.displayInvalidInviteesAlert(r,n,e)},isShareSignificantlyDirty:function(e,t){var n=e.owner&&e.owner.isMe?null:["fields"];return xd(t,e.getDataHash(),n)},__superMap:{_$65G$saveShare:"saveShare"},staticMembers:{__QUALIFIED_CLASS_NAME__:"AddParticipantsViewController"}});function Yj(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i={lookupInfos:e.map((function(e){return{phoneNumber:e=wP(e)}}))};return n=t?t(i):function(e){var t={method:"POST",body:e,useCredentialsIfCrossOrigin:!0,timeout:6e4};if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var n=vD.create({serviceName:"cksharews",pathname:"/ws/v1/autocomplete/canonicalizePhoneNumbers"});return t.url=n,bD.create(t)}var r=ac("cksharews","ws/v1/autocomplete/canonicalizePhoneNumbers");return t.url=r,IP.create(t)}(i,r),n.send().then((function(e){var t=e.body&&e.body.results;if(!t||!t.map)throw new Error("Server response to canonicalizePhoneNumbers returned data in an invalid format");return t.map((function(e){return e.canonicalized}))}))}var Xj=Ar.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"header",children:[{type:"ELEMENT",tagname:"h1",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{}}]},{type:"ELEMENT",tagname:"h2",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"subtitle",attributes:{}}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldHideSubtitle",truevalue:"hidden",attributes:{}}]}]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"url",attributes:{}}],classes:["copy-url",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"valueIsAlwaysLTR",truevalue:"is-always-ltr",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldHideCopyLinkButton",truevalue:"expanded-access",attributes:{}}],name:"urlTextElement",attributes:{tabindex:"0"}}],classes:["copy-url-container"]},{type:"ELEMENT",tagname:"footer",children:[{type:"ELEMENT",tagname:"span",children:[{type:"VIEWOUTLET",tagname:"view",name:"closeButton"},{type:"ELEMENT",tagname:"span",classes:["divider",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldHideCopyLinkButton",truevalue:"hidden",attributes:{}}]},{type:"VIEWOUTLET",tagname:"view",name:"copyLinkButton"}],classes:["button-container"]}]}],classes:["workflow-screen","copy-link-view","sharing-dialog"]},className:"ck-sharing-copy-link-view",__QUALIFIED_CLASS_NAME__:"CopyLinkView"},isFocusable:!0,url:v.g(),title:v.g(),subtitle:v.g(),shouldHideSubtitle:v.g({readOnly:!0,dependencies:["subtitle"],get:Object.assign((function(){return Nt.a(this.subtitle)}),{__CW__getter:function(e,t,n,r){return Nt.a(r.internalGet(this,t[0+n]))}})}),valueIsAlwaysLTR:v.g(),shouldHideCopyLinkButton:v.g(),selectURL:function(){var e=this.urlTextElement,t=document.createRange();t.selectNodeContents(e);var n=globalThis.getSelection();n.removeAllRanges(),n.addRange(t),e.focus()},pointerDown:function(e){e.target===this.urlTextElement&&(this.sendEvent("selectURL",this),this.shouldHideCopyLinkButton||e.preventDefault())},copyLinkButton:v.g({downstreamBindings:{url:"(owner).url",shouldHideCopyLinkButton:"(owner).shouldHideCopyLinkButton"},defaultValue:Me.b(JD.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldHideCopyLinkButton",truevalue:"hidden",attributes:{}}]}}},additionalClassNames:ut.a(["primary"])},{title:Sr.d("CKSharing.ManageShare.Button.CopyLink"),action:"copyLinkAction",url:v.g(),contextKeys:["context"],shouldHideCopyLinkButton:v.g()}))}),closeButton:Me.b(JD.a.extend({additionalClassNames:ut.a(["close"])}),{title:Sr.d("CKSharing.AddParticipants.CopyLink.CloseButton.Title"),keyEquivalent:[nk.a.ESC,nk.a.RETURN],action:"close"})});function Jj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;try{navigator.clipboard.writeText(e)}catch(a){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,n=document.createElement("textarea");n.contentEditable=!0,n.style.fontSize="20px",n.readOnly=!0;var r=n.style;return r.position="absolute",r.left="-10000px",n.value=e,t.appendChild(n),n}(e,t),r=document.createRange();r.selectNodeContents(n);var i=globalThis.getSelection();i.removeAllRanges(),i.addRange(r),n.focus(),n.setSelectionRange(0,n.value.length);try{document.execCommand("copy")}catch(o){}n.blur(),t.removeChild(n)}}function eU(){return"function"===typeof document.queryCommandSupported&&document.queryCommandSupported("copy")||navigator.clipboard.writeText}function tU(e,t){return t.map(e).find((function(e,n){return e!==t[n]}))}var nU=zn.a.extend({viewClass:Xj,view:v.g({downstreamBindings:{subtitle:"(owner).subtitle",title:"(owner).title",url:"(owner).url",shouldHideCopyLinkButton:"(owner).shouldHideCopyLinkButton"}}),permission:v.g(),_effectivePermission:v.g({dependencies:["permission","share.effectivePermission"],readOnly:!0,get:Object.assign((function(e){return function(e){for(var t=e.length,n=0;n<t;n++){var r=e[n];if(r)return r}}([this.permission,this.getPath("share.effectivePermission"),this.getPath("settings.defaultPermission")])}),{__CW__getter:function(e,t,n,r){return function(e){for(var t=e.length,n=0;n<t;n++){var r=e[n];if(r)return r}}([r.internalGet(this,t[0+n]),r.internalGetPath(this,t[1+n]),this.getPath("settings.defaultPermission")])}})}),share:v.g(),settings:v.g(),subtitle:v.g({dependencies:["share.effectiveAccess","share.loggedInUserCanEditShare","share.owner","share.owner.displayName","_effectivePermission","settings.shareItemType"],readOnly:!0,get:Object.assign((function(){if("Photos"!==this.settings.shareItemType){var e=["CKSharing.AddParticipants.CopyLink"],t=this.share,n=this.settings,r=t.effectiveAccess,i=this._effectivePermission,a=this.share.loggedInUserCanEditShare;switch(e.push(a?"OwnerAdmin":"Participant"),e.push("Subtitle"),r){case qR.PUBLIC:e.push("Public");break;case qR.PRIVATE:e.push("Private");break;default:Xn.b("Unknown CKSharing.ACCESS type %{type}",{type:r})}if(a||t.isPublic)switch(i){case XR.READ_ONLY:e.push("ReadOnly");break;case XR.READ_WRITE:e.push("ReadWrite");break;case XR.UNKNOWN:e.push("Mixed");break;default:Xn.b("Unknown CKSharing.PERMISSIONS type %{type}",{type:i})}return e.push(n.shareItemType),a?Sr.d(e.join(".")):Sr.d(e.join("."),{ownerDisplayName:t.owner.displayName})}}),{__CW__getter:function(e,t,n,r){if("Photos"!==r.internalGetPath(this,t[5+n])){var i=["CKSharing.AddParticipants.CopyLink"],a=this.share,o=this.settings,s=a.effectiveAccess,c=r.internalGet(this,t[4+n]),l=r.internalGetPath(this,t[1+n]);switch(i.push(l?"OwnerAdmin":"Participant"),i.push("Subtitle"),s){case qR.PUBLIC:i.push("Public");break;case qR.PRIVATE:i.push("Private");break;default:Xn.b("Unknown CKSharing.ACCESS type %{type}",{type:s})}if(l||a.isPublic)switch(c){case XR.READ_ONLY:i.push("ReadOnly");break;case XR.READ_WRITE:i.push("ReadWrite");break;case XR.UNKNOWN:i.push("Mixed");break;default:Xn.b("Unknown CKSharing.PERMISSIONS type %{type}",{type:c})}return i.push(o.shareItemType),l?Sr.d(i.join(".")):Sr.d(i.join("."),{ownerDisplayName:a.owner.displayName})}}})}),title:v.g({dependencies:["settings.shareItemType","share.loggedInUserCanEditShare"],readOnly:!0,get:Object.assign((function(){var e="CKSharing.AddParticipants.CopyLink",t=this.getPath("share.loggedInUserCanEditShare")?"OwnerAdmin":"Participant",n="Title",r=this.getPath("settings.primaryInteractionMode")===sj.TOUCH?"Compact":"Expanded",i=this.getPath("settings.shareItemType"),a=[e,t,n,i,r].join("."),o=[e,t,n,i].join(".");return tU(Sr.d,[a,o])}),{__CW__getter:function(e,t,n,r){var i="CKSharing.AddParticipants.CopyLink",a=r.internalGetPath(this,t[1+n])?"OwnerAdmin":"Participant",o="Title",s=this.getPath("settings.primaryInteractionMode")===sj.TOUCH?"Compact":"Expanded",c=r.internalGetPath(this,t[0+n]),l=[i,a,o,c,s].join("."),u=[i,a,o,c].join(".");return tU(Sr.d,[l,u])}})}),url:v.g({dependencies:["share","settings"],readOnly:!0,get:Object.assign((function(){return Hj(this.share,this.settings)}),{__CW__getter:function(e,t,n,r){return Hj(r.internalGet(this,t[0+n]),r.internalGet(this,t[1+n]))}})}),shouldHideCopyLinkButton:v.g({dependencies:["url"],readOnly:!0,get:function(){return!eU()}}),didAttach:function(){this.__s._$1o3$didAttach.apply(this,arguments),this.view.selectURL(),this.sendEvent("contentDidResize")},copyLinkAction:function(e){return Jj(e.url),this.close()},close:function(){this.blur(),this.sendEvent("didCompleteCopyLink")},__superMap:{_$1o3$didAttach:"didAttach"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CopyLinkViewController"}}),rU=Ar.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"iframe",attributes:{src:{key:"src",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"src",attributes:{},attribute:"src"},type:"ATTRIBUTE"}}},className:"ck-sharing-iframe-view",__QUALIFIED_CLASS_NAME__:"IframeView"}}),iU=Ar.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"loadingView"}],name:"loadingViewWrapper",classes:["loading-wrapper"]}],name:"rootView",classes:["mail-compose-view"]},className:"ck-sharing-mail-compose-view",__QUALIFIED_CLASS_NAME__:"MailComposeView"},loadingView:Me.b(oL.a),iframeView:Me.b(rU,{additionalClassNames:ut.a(["hidden"])})}),aU={mixinDependencies:[$.a,Wj],composeMail:G.a.define()},oU=zj.extend(aU,{transport:JR.WEB_MAIL,viewClass:iU,originatorSharingWorkflowVC:y.c(),animationDuration:y.c(250),iframe:y.c(),composeMail:function(e){var t=this,n=e.appName;if(!n)throw new Error("Cannot compose email: appName not specified.");this.iframe&&this.iframe.remove(),this.iframe=this.settings.mailComposeService.launchComposeInIframe({subject:e.subject,body:e.body,appName:n,disableSaveDraft:!0},{onSend:function(){t._sendMessageSuccessful()},onCancel:function(){t._closeIframeHandler()},onRecipientsFinalize:async function(e){var n=e.to,r=e.cc;try{return"success"===await t.addParticipantsHandler({to:null!=n?n:[],cc:null!=r?r:[]})?fg.Result.success(void 0):fg.Result.failure(void 0)}catch(i){return fg.Result.failure(void 0)}}}),this.iframe.classList.add("hidden"),this.iframe.addEventListener("load",(function(){clearTimeout(t._loadTimer),t.iframe.classList.remove("hidden"),t.view.loadingViewWrapper.classList.add("hidden"),t.view.loadingView.isVisible=!1,t.originatorSharingWorkflowVC.sendEvent("contentDidResize")})),this.view.rootView.append(this.iframe)},cancelOnUnrecoverableError:function(e){var t=e.error;this.originatorSharingWorkflowVC.sendEvent("cancel",t)},createParticipantsFromEmailEntries:function(e){ce.a(e)&&(e=e.split(","));var t=this.permissionValueForAddingParticipants;return e.filter((function(e){return!Nt.a(e)})).map((function(e){return dP.create({permission:t,userIdentity:$F.createFromString(e.trim())})}),this)},willAttach:function(){this._loadTimer=setTimeout(function(){var e="MailComposer.LoadTimeout",t={keyEquivalent:nk.a.RETURN,title:Sr.d("CKSharing.ErrorDialog.OKButton.Title"),target:this,action:"_closeIframeHandler",error:e};this.settings.notificationService.error(e,{locNamespace:"CKSharing.ErrorDialog",primaryButtonConfig:t})}.bind(this),6e4)},_closeIframeHandler:function(){this.sendEvent("didCancelSendMessage")},addParticipantsHandler:function(e){var t=this.share;if(t.isPublic&&t.owner&&!t.owner.isMe)return b.a.resolve("success");var n,r=this.permissionValueForAddingParticipants,i=this.createParticipantsFromEmailEntries(e.to),a=this.createParticipantsFromEmailEntries(e.cc),o=i.concat(a);if(t.isPrivate){if(!this.validateInviteesToAddToShare(o,!0)){var s=new Error("Add participants failed");return s.code=-1,b.a.resolve(s)}t.addParticipantsIgnoringDupes(o,r,this.typeValueForAddingParticipants),n="INVITE_TO_PRIVATE.VIA_EMAIL."+(1===o.length?"TO_PERSON":"TO_PEOPLE")}else{if(this.checkAndDisplayErrorForInvalidInvitees(o,!0)){var c=new Error("Add participants failed");return c.code=-1,b.a.resolve(c)}n="INVITE_TO_PUBLIC"}if(xd(bj.processDataHashThroughModel(this.ioService.mostRecentShareDataHashFromServer),t.getDataHash())){var l=this.settings,u={operationType:n,appName:l.shareItemType,interactionMode:l.primaryInteractionMode},d=this,h=l.notificationService;return this.saveShare(!0).then((function(e){return d.sendEvent("didUpdateShareRecord",e,!0),"success"})).catch(Fj(u,h,l.logService)).catch((function(e){h.error("AddingParticipants.MAIL_ADD_PARTICIPANTS_FAILED",{locNamespace:"CKSharing.ErrorDialog",primaryButtonConfig:{keyEquivalent:[nk.a.ESC,nk.a.RETURN],title:Sr.d("CKSharing.ErrorDialog.OKButton.Title"),target:d,action:"cancelOnUnrecoverableError",error:e}});var t=new Error("Add participants failed");return t.code=-1,t}))}return b.a.resolve("success")},_sendMessageSuccessful:function(){this.sendEvent("didCompleteSendMessage")},_loadTimer:void 0,staticMembers:{__QUALIFIED_CLASS_NAME__:"MailComposeViewController"}}),sU={up:0,down:1};Object.freeze(sU);var cU=Ar.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"modalBackground"},{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"contentView"}],name:"contentWrapper",classes:["popup-content"]}],classes:["cw-popup-view","cksharing-popup-view"]},__QUALIFIED_CLASS_NAME__:"PopupView"},shouldShowModalBackground:v.g(!0),modalBackground:v.g({dependencies:["shouldShowModalBackground"],writeDependencies:[],defaultValue:Me.b(Ar.a,{additionalClassNames:ut.a(["modal-background"])}),get:Object.assign((function(e){return this.shouldShowModalBackground?e:null}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])?e:null}}),set:function(e){return e}}),isFocusable:!0}).extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",name:"uilessSpinnerView"}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isTouchInteractionStyle",truevalue:"ck-sharing-touch-style",falsevalue:"ck-sharing-mouse-style",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"WorkflowPopupView"},additionalClassNames:ut.a(["workflow-popup-view"]),isTouchInteractionStyle:v.g({dependencies:["primaryInteractionMode"],readOnly:!0,get:Object.assign((function(){return this.primaryInteractionMode===sj.TOUCH}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===sj.TOUCH}})}),primaryInteractionMode:v.g({readOnly:!0,defaultValue:sj.MOUSE,get:function(e){return e||sj.MOUSE}}),uilessSpinnerView:v.g({readOnly:!0,strong:!0,dependencies:["uilessSpinnerNeedLevel"],get:Object.assign((function(){return this.uilessSpinnerNeedLevel?oL.a.create({size:36,color:"white"}):void 0}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])?oL.a.create({size:36,color:"white"}):void 0}})}),uilessSpinnerNeedLevel:v.g(0)}),lU=qD.a.extend({delegate:null,viewClass:cU,view:v.g({downstreamBindings:{primaryInteractionMode:"(owner).contentController.settings.primaryInteractionMode"}}),softHide:function(){this.view.element.style.display="none"},softShow:function(){this.view.element.style.display=""},dragOver:function(e){e.preventDefault()},defaultFocusChild:_.c("contentController"),showViewController:function(e){this.contentController=e,this._appendedContentController=e},_appendedContentControllerDidChange:v.h("_appendedContentController.isAttached",(function(e){e&&this.sendEvent("contentDidResize")})),workflowDesiresUilessSpinner:function(){this.view.uilessSpinnerNeedLevel++},workflowNoLongerDesiresUilessSpinner:function(){this.view.uilessSpinnerNeedLevel=Math.max(0,this.view.uilessSpinnerNeedLevel-1)},staticMembers:{__QUALIFIED_CLASS_NAME__:"WorkflowPopupViewController"}}),uU=lU.extend({viewClass:ut.a({additionalClassNames:ut.a(["schoolwork-compose"])}),didCompleteSchoolwork:function(){this.delegate.didCompleteSchoolwork(),this.animateOffScreen(sU.up)},didCancelSchoolwork:function(){this.delegate.didCancelSchoolwork(),this.animateOffScreen(sU.down)},animateOffScreen:function(e){var t=this.getPath("view.element"),n=t.classList;n?(e===sU.up?n.add("is-completing"):n.add("is-canceling"),t.addEventListener("transitionend",this.hide.bind(this))):this.hide()},staticMembers:{__QUALIFIED_CLASS_NAME__:"SchoolworkComposePopupViewController"}}),dU=zn.a.extend({viewClass:Ar.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"hosted-schoolwork-view"}],classes:["schoolwork-share-view"]}}}),schoolworkHostedApplicationViewController:Er.b({viewOutlet:"hosted-schoolwork-view"}),settings:v.g(),becomeActive:function(){return this.schoolworkHostedApplicationViewController.becomeActive()},staticMembers:{__QUALIFIED_CLASS_NAME__:"SchoolworkComposeViewController"}}),hU=n(1456),fU=n(1457),pU=n(1458),gU=n(1586),mU=n(1607),vU=zn.a.extend(pU.a,gU.a,{viewClass:mU.a,view:v.g({downstreamBindings:{isActive:"(owner).isActive"}}),iframeView:v.g(_.c("view")),staticMembers:{__QUALIFIED_CLASS_NAME__:"HostedApplicationViewController"}}),yU=oe.a.extend(v.a,hU.a,fU.a,{staticMembers:{__QUALIFIED_CLASS_NAME__:"SchoolworkHost"}}),_U={USER_CANCELLED:"USER_CANCELLED"};Object.freeze(_U);var bU,wU=vU.extend({init:function(e,t,n){this.processInfo={record:t,zoneId:e.toHash().zoneID},this.__s._$AH$init.call(this,n),this.userInfo.webBag=iA.cloudOSService.cloudOSState},host:v.g(Me.b(yU)),url:v.g({readOnly:!0,get:function(){var e=globalThis.location.hostname,t=Sr.c();Sr.a.sharedInstance.isRTL&&(t=this.getPath("COSK.globals.environment.accountPreferences.secondaryLocale")||"en-us");return PR("https://"+e+"/applications/schoolwork/current/"+t+"/index.html#/activity-share")}}),didEnd:function(e,t){this.__s._$Vb$didEnd.apply(this,arguments),e===_U.USER_CANCELLED?this.sendEvent("didCancelSchoolwork"):this.sendEvent("didCompleteSchoolwork")},__superMap:{_$AH$init:"init",_$Vb$didEnd:"didEnd"},staticMembers:{__QUALIFIED_CLASS_NAME__:"SchoolworkHostedApplicationViewController"}}),SU=zn.a.extend({viewClass:Xj,view:v.g({downstreamBindings:{subtitle:"(owner).subtitle",title:"(owner).title",url:"(owner).value",valueIsAlwaysLTR:"(owner).valueIsAlwaysLTR"}}),title:v.g(),subtitle:v.g(),value:v.g(),valueIsAlwaysLTR:v.g(),didAttach:function(){this.__s._$EL$didAttach.apply(this,arguments),this.view.selectURL(),this.sendEvent("contentDidResize")},close:function(){this.sendEvent("didCompleteCopyText")},__superMap:{_$EL$didAttach:"didAttach"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CopyTextViewController"}}),EU=Ar.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"activeView"}],classes:["workflow-view"]},className:"ck-sharing-workflow-view",__QUALIFIED_CLASS_NAME__:"WorkflowView"}}),IU=n(1449),CU=n.n(IU),OU=n(1450),TU=n.n(OU);!function(e){e.ADD="ADD",e.REMOVE="REMOVE",e.UPDATE="UPDATE",e.UPDATE_AND_REMOVE="UPDATE_AND_REMOVE"}(bU||(bU={}));var AU,NU=bU;!function(e){e.LEFT="LEFT",e.RIGHT="RIGHT",e.BOTH="BOTH"}(AU||(AU={}));var MU,DU=AU,RU=Symbol("MERGE_FAILED_RESULT"),LU=function(){function e(){}return e.prototype.valueForChange=function(e,t){if(e.type!==NU.REMOVE){var n=e.direction;if(n===DU.RIGHT)return e.rightValue;if(n===DU.LEFT)return e.leftValue;var r=e.baseValue,i=e.leftValue,a=e.rightValue;if("object"===typeof r&&e.type===NU.UPDATE){var o=t?t+"."+e.key:e.key;return WU(r,i,a,this,o)}return TU()(i,a)?i:RU}},e}(),kU=function(e,t){var n,r,i;if(e===t||!e&&!t)return!1;if(e&&!t)r=Object.keys(e);else if(!e&&t)i=Object.keys(t);else{var a,o,s,c,l,u={};for(a in r=[],n=[],e)o=Object.prototype.hasOwnProperty.call(e,a),s=e[a],c=Object.prototype.hasOwnProperty.call(t,a),l=t[a],!c&&o||void 0===l&&void 0!==s?r.push(a):TU()(s,l)||n.push(a),u[a]=!0;for(a in i=[],t)u[a]||i.push(a)}return!!(i&&0!==i.length||r&&0!==r.length||n&&0!==n.length)&&{updated:n||[],removed:r||[],added:i||[]}},xU=CU()({proto:!0}),FU={baseValue:null,direction:DU.BOTH,key:null,type:NU.ADD};function PU(e,t,n,r,i,a,o,s,c){for(var l=a.added,u=l.length,d=0;d<u;d++){var h=l[d];if(o){if(o.updated.indexOf(h)>=0||o.removed.indexOf(h)>=0)return!1;var f=o.added,p=f.indexOf(h);p>=0&&f.splice(p,1)}var g=BU(NU.ADD,r,e,t,n,h);if(r.valueForChangeInChangeSets)s[h]=g;else{var m=r.valueForChange(g,c);if(m===RU)return!1;var v=xU(m);Array.isArray(i)?i.push(v):i[h]=v}}return!0}function jU(e,t,n,r,i,a,o,s,c){for(var l=a.removed,u=l.length,d=0;d<u;d++){var h=l[d];if(o){if(o.added.indexOf(h)>=0)return!1;var f=o.removed,p=f.indexOf(h);p>=0&&f.splice(p,1)}var g=BU(NU.REMOVE,r,e,t,n,h);if(r.valueForChangeInChangeSets)s[h]=g;else{var m=r.valueForChange(g,c);if(m===RU)return!1;void 0===m?Array.isArray(i)?i.pop():delete i[h]:i[h]=xU(m)}}return!0}function UU(e,t,n,r,i,a,o,s,c){for(var l=a.updated,u=l.length,d=0;d<u;d++){var h=l[d],f=!1;if(o){if(o.added.indexOf(h)>=0)return!1;var p=o.removed,g=p.indexOf(h);g>=0&&(p.splice(g,1),f=!0);var m=o.updated,v=m.indexOf(h);v>=0&&m.splice(v,1)}var y=BU(f?NU.UPDATE_AND_REMOVE:NU.UPDATE,r,e,t,n,h);if(r.valueForChangeInChangeSets)s[h]=y;else{var _=r.valueForChange(y,c);if(_===RU)return!1;void 0===_?Array.isArray(i)?i.pop():delete i[h]:i[h]=xU(_)}}return!0}function BU(e,t,n,r,i,a){var o,s,c,l=n[a],u=r[a],d=i[a];return e===NU.ADD?(o=void 0!==u,s=void 0!==d):e===NU.REMOVE?(o=void 0===u||void 0,s=void 0===d||void 0):e===NU.UPDATE?(o=!TU()(l,u),s=!TU()(l,d)):o=s=!0,t.valueForChangeInChangeSets?c={baseValue:l,direction:o&&s?DU.BOTH:o?DU.LEFT:DU.RIGHT,key:a,type:e}:((c=FU).baseValue=l,c.direction=o&&s?DU.BOTH:o?DU.LEFT:DU.RIGHT,c.key=a,c.type=e),c.leftValue=u,c.rightValue=d,c}function VU(e,t,n,r,i,a,o){for(var s=Object.keys(n),c=s.length-1;c>=0;c--){var l=n[s[c]],u=e.valueForChangeInChangeSets(l,r,i,a,o);if(u===RU)return!1;var d=l.key,h=l.type;Array.isArray(t)?h===NU.ADD?t.push(u):h===NU.REMOVE||h===NU.UPDATE_AND_REMOVE&&void 0===u?t.pop():t[d]=u:h===NU.REMOVE||h===NU.UPDATE_AND_REMOVE&&void 0===u?delete t[d]:t[d]=u}return!0}var WU=function(e,t,n,r,i){r||(r=MU)||(r=MU=new LU);var a,o,s,c=kU(e,t),l=kU(e,n),u=r.valueForChangeInChangeSets;u&&(a={},o={},s={});var d=xU(e),h=!1;return function(e,t,n,r,i,a,o,s,c){var l=!0;return a&&(l=UU(e,t,n,r,i,a,o,s,c)),l&&o&&(l=UU(e,t,n,r,i,o,a,s,c)),l}(e,t,n,r,d,c,l,a,i)&&function(e,t,n,r,i,a,o,s,c){var l=!0;return a&&(l=jU(e,t,n,r,i,a,o,s,c)),l&&o&&(l=jU(e,t,n,r,i,o,a,s,c)),l}(e,t,n,r,d,c,l,o,i)&&(h=function(e,t,n,r,i,a,o,s,c){var l=!0;return a&&(l=PU(e,t,n,r,i,a,o,s,c)),l&&o&&(l=PU(e,t,n,r,i,o,a,s,c)),l}(e,t,n,r,d,c,l,s,i)),h&&u&&(h=function(e,t,n,r,i,a){var o=!1;return VU(e,t,n,n,r,i,a)&&VU(e,t,r,n,r,i,a)&&(o=VU(e,t,i,n,r,i,a)),o}(r,d,a,o,s,i)),h?d:RU};function zU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HU(r.key),r)}}function HU(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}var GU=0,$U=function(e,t){this.method=e,this.argsForMethod=t,this.identifier=GU++},KU=function(){function e(){this.taskOrder=[],this.tasks={},this.lastPromise=Promise.resolve(fg.Result.success(void 0))}var t,n,r=e.prototype;return r.clear=function(){var e=this;this.taskOrder.forEach((function(t){delete e.tasks[t]}))},r.enqueue=function(e){var t=this,n=new $U(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]),r=n.identifier;this.tasks[r]=n,this.taskOrder.push(r);var i=this.lastPromise.catch((function(){})).then((function(){t.currentTask=void 0;var e=t.taskOrder.shift();if(void 0!==e){var n=t.tasks[e];return n?(delete t.tasks[e],t.currentTask=n,n.method.apply(t,n.argsForMethod)):fg.Result.failure("Cancelled")}return fg.Result.success(void 0)}));return this.lastPromise=i,i},r.forEach=function(e){var t=this;this.taskOrder.forEach((function(n,r){e(t.tasks[n],r)}))},r.some=function(e){var t=this;return this.taskOrder.some((function(n,r){return e(t.tasks[n],r)}))},t=e,(n=[{key:"size",get:function(){return this.taskOrder.length}}])&&zU(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),QU=KU;function qU(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ZU(e,t)}function ZU(e,t){return ZU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ZU(e,t)}var YU=CU()({proto:!0}),XU=function(e){function t(){return e.apply(this,arguments)||this}return qU(t,e),t.prototype.valueForChange=function(t){var n=t.leftValue,r=t.rightValue,i=t.baseValue,a=t.direction,o=t.key;if(a===DU.BOTH){if("participants"===o)return function(e,t,n){var r=e.length,i={addedValues:[],updatedIndices:[],updatedValues:[],removedIndices:[]},a={addedValues:[],updatedIndices:[],updatedValues:[],removedIndices:[]},o=0,s=YU(t),c=YU(n);do{rB(i,o,e,s),rB(a,o,e,c),o++}while(o<r);var l,u=i.addedValues,d=i.removedIndices,h=i.updatedIndices,f=a.addedValues,p=a.removedIndices,g=a.updatedIndices;for(l=h.length-1;l>=0;l--)if(g.indexOf(h[l])>=0)return RU;if(u.length>0&&f.length>0||u.length>0&&p.length>0||d.length>0&&f.length>0)return RU;if(d.length>0&&p.length>0)for(l=d.length-1;l>=0;l--)if(!(p.indexOf(d[l])>=0))return RU;return function(e,t,n){var r=YU(e);tB(r,t.updatedIndices,t.updatedValues),tB(r,n.updatedIndices,n.updatedValues);for(var i=Array.from(new Set(t.removedIndices.concat(n.removedIndices))).sort(),a=i.length-1;a>=0;a--)r.splice(i[a],1);return eB(r,t.addedValues),eB(r,n.addedValues),r}(e,i,a)}(i,n,r);if("fields"===o&&n&&r)return WU(i,n,r,new JU)}return e.prototype.valueForChange.call(this,t)},t}(LU),JU=function(e){function t(){return e.apply(this,arguments)||this}return qU(t,e),t.prototype.valueForChange=function(t){var n=t.leftValue,r=t.rightValue;return t.direction!==DU.BOTH?e.prototype.valueForChange.call(this,t):!n||!r||n.value!==r.value||n.type&&r.type&&n.type!==r.type?RU:n},t}(LU);function eB(e,t){for(var n=t.length-1;n>=0;n--){var r=t[n];e.push(YU(r))}}function tB(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r],a=n[r];e[i]=YU(a)}}function nB(e,t){for(var n=0,r=t.length,i=e.userIdentity.lookupInfo;n<r;n++){var a=t[n];if(TU()(a.userIdentity.lookupInfo,i))return t.splice(n,1),!1}return!0}function rB(e,t,n,r){for(var i=n[t],a=YU(n),o=i?i.userIdentity.lookupInfo:null,s=!1,c=r.length-1;c>=0;c--){var l=r[c];!s&&TU()(o,l.userIdentity.lookupInfo)?(TU()(i,l)||(e.updatedIndices.push(t),e.updatedValues.push(l)),s=!0,r.splice(c,1)):nB(l,a)&&(e.addedValues.push(l),r.splice(c,1))}s||e.removedIndices.push(t)}var iB,aB=XU;!function(e){e.NONE="NONE",e.STARTING="STARTING",e.RUNNING="RUNNING",e.SHUTTING_DOWN="SHUTTING_DOWN"}(iB||(iB={}));var oB=iB;function sB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cB(r.key),r)}}function cB(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}var lB=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.operationRecord=e,this.operationOptions=t}var t,n;return t=e,(n=[{key:"body",get:function(){return this.operationRecord}}])&&sB(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),uB=lB;function dB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hB(r.key),r)}}function hB(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}var fB=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.operationRecord=e,this.operationOptions=t}var t,n;return t=e,(n=[{key:"body",get:function(){var e=this.operationRecord;return{recordName:e.recordName,recordChangeTag:e.recordChangeTag,createShortGUID:!0}}}])&&dB(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),pB=fB,gB=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.operationRecord=e,this.originalRecord=t,this.operationOptions=n};function mB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vB(r.key),r)}}function vB(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}function yB(e,t){return yB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yB(e,t)}var _B=function(e){var t,n,r,i;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,yB(t,n),r=a,(i=[{key:"body",get:function(){return{recordName:this.operationRecord.recordName}}}])&&mB(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),a}(gB),bB=_B;function wB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SB(r.key),r)}}function SB(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}var EB=function(){function e(e){this.recordName=e}var t,n;return t=e,(n=[{key:"body",get:function(){return this.recordName}}])&&wB(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function IB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CB(r.key),r)}}function CB(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}var OB=CU()({proto:!0}),TB=function(){function e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.operationRecord=e,this.dataRecord=t,this.operationOptions=n}var t,n;return t=e,(n=[{key:"operationForDeleteShareRecord",get:function(){return new bB(this.operationRecord,OB(this.operationRecord),this.operationOptions)}},{key:"operationForFetchDataRecord",get:function(){return new EB(this.dataRecord.recordName)}},{key:"operationForCreateShareRecord",get:function(){return new uB({publicPermission:XR.NONE,forRecord:OB(this.dataRecord),fields:this.operationRecord.fields,participants:this.operationRecord.participants,recordType:"cloudkit.share"},this.operationOptions)}}])&&IB(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),AB=TB;function NB(e,t){return NB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},NB(e,t)}var MB=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,NB(t,n),r}(EB),DB=MB;function RB(e){var t={},n={};return e&&e.filter((function(e){var r=e.userIdentity&&e.userIdentity.lookupInfo;if(!r)return!0;var i=_P(r.emailAddress);if(i){if(t[i])return!1;t[i]=!0}var a=r.phoneNumber;if(a){if(n[a])return!1;n[a]=!0}return!0}))}function LB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kB(r.key),r)}}function kB(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}function xB(e,t){return xB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xB(e,t)}var FB=CU()({proto:!0}),PB=function(e){var t,n,r,i;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,xB(t,n),r=a,(i=[{key:"body",get:function(){var e=FB(this.operationRecord);e.publicPermission===XR.NONE&&(e.participants=RB(e.participants));var t=e.participants;return t&&t.forEach((function(e){var t=e&&e.userIdentity,n=t&&t.lookupInfo,r=n&&n.phoneNumber;r&&(e.userIdentity.lookupInfo.phoneNumber=wP(r))})),delete e.created,delete e.modified,delete e.currentUserParticipant,e}}])&&LB(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),a}(gB),jB=PB;function UB(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,BB(e,t)}function BB(e,t){return BB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},BB(e,t)}var VB=globalThis.Error,WB=function(e,t){this.name="CKSharing.Error",this.message=e||"",this.context=t,this.stack=(new VB).stack};(WB.prototype=Object.create(VB.prototype)).constructor=WB;var zB=function(e){function t(t,n,r){var i;return(i=e.call(this,t,r)||this).response=n,i.errors=n&&n.errors||[],i}return UB(t,e),t}(WB);function HB(e){var t=e;if(!(e instanceof WB)){var n=e||{},r={message:n.message,errors:[n],hasErrors:!0};throw new zB("CloudKit request failed",r)}throw t}function GB(e){if(e.hasErrors)throw new zB("Received CloudKit errors in response",e);return e}var $B=function(e){function t(){return e.apply(this,arguments)||this}return UB(t,e),t}(WB);function KB(e){var t=e;if(!(e instanceof WB)){var n={message:(e||{}).message};t=new $B("Customer error encountered",n)}throw t}var QB=0,qB=new Map,ZB=new Map,YB=function(e,t){var n=function(e,t){var n=t.ownerRecordName?"::"+t.ownerRecordName:"";return e.containerIdentifier+"::"+e.databaseScope+"::"+t.zoneName+n}(e,t),r=ZB.get(n);if(r)return r;var i=nV.bind(null,e,t);return ZB.set(n,i),i},XB=new Map,JB=function(e,t,n){return e.containerIdentifier+"::"+e.databaseScope+"::"+t.zoneName+"::"+n},eV=function(e,t,n,r){return XB.set(JB(e,t,n),r)},tV=function(e,t,n){return XB.get(JB(e,t,n))};function nV(e,t,n){return e.fetchRecords(n,{zoneID:t}).catch(HB).then(GB).catch((function(e){return e})).then((function(n){return!(n.response&&n.response.hasErrors)&&n.records&&n.records.forEach((function(n){return eV(e,t,n.recordName,n)})),n}))}var rV=!1,iV=function e(){if(!0!==rV){rV=!0;var t=function(){return 0!==qB.size};setTimeout((function(){!0===t()?function(){var e=new Map;for(var t of qB){var n=t[0],r=t[1],i=YB(r.database,r.zoneIDHash);e.has(i)?e.get(i).push([n,r]):e.set(i,[[n,r]])}var a=[],o=function(){var e=s[0],t=s[1],n=t.map((function(e){return e[0],{recordName:e[1].shareRecordName}})),r=new Map(t.map((function(e){e[0];var t=e[1];return[t.shareRecordName,tV(t.database,t.zoneIDHash,t.shareRecordName)]}))),i=e(n).then((function(e){var n,i;return e.response&&e.response.hasErrors||!e.records?null:(n=e.records,i=t,n.map((function(e,t){return[e,i[t]]}))).filter((function(e){var t=e[0],n=r.get(t.recordName);return!!n&&n.recordChangeTag!==t.recordChangeTag}))}));a.push(i)};for(var s of e)o();return Promise.all(a).then((function(e){return e.filter((function(e){return null!==e})).reduce((function(e,t){return[...e,...t]}),[])}))}().then((function(n){n.forEach((function(e){var t=e[0],n=e[1],r=n[0],i=n[1];qB.has(r)&&i.delegate.shareWasUpdated(t)})),rV=!1,!0===t()&&e()})):rV=!1}),23e3)}},aV=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},oV=CU()({proto:!0}),sV=function(){function e(e,t,n){this.processor=new QU,this.mergeDelegate=new aB,this.state=oB.NONE,this.localShareDataHash=void 0,this.mostRecentShareDataHashFromServer=null,this.mostRecentOriginalShareDataHash=null,this.database=e,this.zoneID=t,this.settings=n}var t=e.prototype;return t.start=function(){return aV(this,void 0,void 0,(function*(){return this.state=oB.STARTING,Promise.resolve(fg.Result.success(void 0))}))},t.shutdown=function(){return aV(this,void 0,void 0,(function*(){return this.state=oB.SHUTTING_DOWN,this.processor.lastPromise}))},t.reset=function(){this.processor.clear();var e=this.localShareDataHash,t=this.mostRecentShareDataHashFromServer;e&&t&&(this.localShareDataHash=oV(t),this.mostRecentOriginalShareDataHash=null)},t.createShare=function(e,t){return aV(this,void 0,void 0,(function*(){this.verifyServiceState(this.state);var n=new uB(e,t);return this.processor.enqueue(vV,[this,n])}))},t.createShortGUID=function(e,t){return aV(this,void 0,void 0,(function*(){var n=e.shortGUID;if("string"===typeof n&&""!==n)return Promise.resolve(fg.Result.success(e));var r=new pB(e,t);try{var i=wV(yield hV(this,r));return fg.Result.success(i)}catch(a){return fg.Result.failure(a)}}))},t.convertToPrivateShare=function(e,t,n){return aV(this,void 0,void 0,(function*(){this.verifyServiceState(this.state);var r=new AB(e,t,n);return this.mostRecentOriginalShareDataHash=this.localShareDataHash,this.processor.enqueue(mV,[this,r])}))},t.fetchDataRecord=function(e){return aV(this,void 0,void 0,(function*(){this.verifyServiceState(this.state);var t=new EB(e);return this.processor.enqueue(_V,[this,t])}))},t.fetchShareRecord=function(e){return aV(this,void 0,void 0,(function*(){this.verifyServiceState(this.state);var t=new DB(e),n=yield this.processor.enqueue(_V,[this,t]);return n.ok&&(this.localShareDataHash=oV(n.value),this.mostRecentShareDataHashFromServer=oV(n.value)),n}))},t.startWatchingShareRecord=function(e,t){return function(e,t,n,r){var i=function(e){var t=QB++;return qB.set(t,e),iV(),t}({shareRecordName:n,database:e,zoneIDHash:t,delegate:r}),a=tV(e,t,n);return[i,a?Promise.resolve(fg.Result.success(a)):YB(e,t)(n).then((function(e){return e.response&&e.response.hasErrors||!e.records?fg.Result.failure(void 0):fg.Result.success(e.records[0])}))]}(this.database,this.zoneID,e,t)},t.stopWatchingShareRecord=function(e){return t=e,qB.delete(t);var t},t.updateShare=function(e,t){return aV(this,void 0,void 0,(function*(){this.verifyServiceState(this.state),this.localShareDataHash=e,this.mostRecentOriginalShareDataHash||console.log("== FORKING");var n=this.mostRecentOriginalShareDataHash||this.mostRecentShareDataHashFromServer,r=oV(n),i=new jB(e,r,t);return this.mostRecentOriginalShareDataHash=this.localShareDataHash,this.processor.enqueue(bV,[this,i])}))},t.unforkIfAppropriate=function(e){this.processor.some((function(e){var t=e.argsForMethod[1].constructor;return t===jB||t===AB}))||(console.log("== UNFORKING"),this.localShareDataHash=oV(e),this.mostRecentOriginalShareDataHash=null)},t.deleteShare=function(e,t){return aV(this,void 0,void 0,(function*(){this.verifyServiceState(this.state);var n=this.mostRecentOriginalShareDataHash||this.mostRecentShareDataHashFromServer,r=oV(n),i=new bB(e,r,t);return this.processor.enqueue(yV,[this,i])}))},t.verifyServiceState=function(e){if(e===oB.NONE)throw new Error("SharingIOService has not been started up yet and may not be used");if(e===oB.SHUTTING_DOWN)throw new Error("SharingIOService is being shut down and may not be used")},e}();function cV(e,t){return aV(this,void 0,void 0,(function*(){if(function(e){var t=e.constructor;return(t===uB||t===jB||t===bB)&&"function"===typeof e.operationOptions.didUpdateShareRecord}(t)){var n=wV(e);return yield t.operationOptions.didUpdateShareRecord(n),e}return Promise.resolve(e)}))}function lV(e,t){return aV(this,void 0,void 0,(function*(){if(function(e){var t=e.constructor;return(t===pB||t===uB||t===bB)&&"function"===typeof e.operationOptions.didUpdateRootRecord}(t)){var n=t.constructor===pB?wV(e):null;return yield t.operationOptions.didUpdateRootRecord(n),e}return Promise.resolve(e)}))}function uV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return aV(this,void 0,void 0,(function*(){return e.database.deleteRecords(t.body.recordName,{zoneID:e.zoneID}).catch(HB).then(GB).then((function(e){return cV(e,t)})).then((function(e){return lV(e,t)})).catch(fV(e,t,n))}))}function dV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return aV(this,void 0,void 0,(function*(){return e.database.fetchRecords(t.body,{zoneID:e.zoneID}).catch(HB).then(GB).catch(fV(e,t,n))}))}function hV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return aV(this,void 0,void 0,(function*(){var r=t.operationOptions,i=r.provideRootRecordForUpdate,a=r.willUpdateShareRecord,o=t.constructor;return(o!==uB&&o!==pB||!i?o===jB&&a?a(t.operationRecord):Promise.resolve():o===uB?i(t.operationRecord.forRecord).catch(KB).then((function(e){var n=t,r=n.operationRecord,i=n.operationOptions;t=new uB(Object.assign(Object.assign({},r),{forRecord:e}),i)})):i(t.operationRecord).catch(KB).then((function(e){var n=t.operationOptions;t=new pB(e,n)}))).then((function(){if(o===pB){var r=t.operationRecord,i=r.shortGUID;if("string"===typeof i&&""!==i)return{hasErrors:!1,errors:[],records:[r],isRecordsResponse:!0}}return e.database.saveRecords(t.body,{zoneID:e.zoneID}).catch(HB).then(GB).then((function(e){return cV(e,t)})).then((function(e){return lV(e,t)})).catch(fV(e,t,n))}))}))}function fV(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_V,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:gV;return function(o){return aV(n,void 0,void 0,(function*(){var n,s,c=o.errors;if(c)for(var l,u=t.constructor,d=c.length,h=function*(){var o,l=c[f],h=(o=l).serverErrorCode||o.ckErrorCode,p=!1,g=null;switch(h){case xj.ATOMIC_ERROR:case xj.ATOMIC_FAILURE:f===d-1&&(p=!0);break;case xj.ACCESS_DENIED:case xj.MANAGED_APPLE_ID_RESTRICTED:p=!0;break;case xj.TRY_AGAIN_LATER:case xj.THROTTLED:case xj.ZONE_BUSY:if(null==r&&(r=0),r<5){var m=1e3*Math.exp(r),v=r+1;g=new Promise((function(e){setTimeout((function(){e(v)}),m)})).then((function(n){return a(e,t,n)}))}else p=!0;break;case xj.CONFLICT:case xj.OP_LOCK_FAILURE:var y=null==r?0:r;if(0===y&&(null===(n=e.settings)||void 0===n||n.logService.recordStat("EncounteredCKConflictOrOPLock",{appName:null===(s=e.settings)||void 0===s?void 0:s.appName,message:h+"-"+u.name})),++y>3){p=!0;break}if(u===uB||u===pB){var _=t.operationOptions.provideLatestRootRecordAfterUpdateConflict;if(_){var b=u===uB?t.operationRecord.forRecord:t.operationRecord;g=_(b).catch(KB).then((function(n){if(n&&n.recordChangeTag===b.recordChangeTag)throw e.reset(),l;var r;if(u===uB){var i=t.operationRecord,o=t.operationOptions;r=new uB(Object.assign(Object.assign({},i),{forRecord:n}),o)}else{var s=t.operationOptions;r=new pB(n,s)}return a(e,r,y)}))}else p=!0}else{var w=new DB(t.operationRecord.recordName);g=i(e,w).then((function(n){if(n.ok){var r=n.value;e.mostRecentShareDataHashFromServer=oV(r);var i,o=WU(t.originalRecord,t.operationRecord,r,e.mergeDelegate);if(o===RU)throw e.reset(),l;return e.mostRecentOriginalShareDataHash=o,i=u===jB?new jB(o,r,t.operationOptions):new bB(o,r,t.operationOptions),a(e,i,y)}throw n.error}))}break;default:p=!0}if(null!==g)return{v:g};if(p)throw e.reset(),l},f=0;f<d;f++)if(l=yield*h())return l.v;throw o}))}}function pV(e,t){e.mostRecentShareDataHashFromServer=oV(t),e.processor.forEach((function(n){var r=n.argsForMethod[1],i=r.constructor;if(i===DB)r.recordName=t.recordName;else if(i===bB)r.operationRecord=oV(t);else if(i===AB)r.shareRecordDataHash=oV(t);else if(i===jB){var a=WU(r.originalRecord,r.operationRecord,t,e.mergeDelegate);a===RU||(r.operationRecord=a,r.originalRecord=t,t=a)}}))}function gV(e,t,n){return aV(this,void 0,void 0,(function*(){switch(t.constructor){case uB:case pB:case jB:return hV(e,t,n);case bB:return uV(e,t,n);case EB:case DB:return dV(e,t,n);default:throw new Error("Attempted to re-run an unknown operation type: "+t)}}))}function mV(e,t){return aV(this,void 0,void 0,(function*(){var n=yield yV(e,t.operationForDeleteShareRecord);if(n.ok){var r=n.value;if(void 0===r){var i=yield _V(e,t.operationForFetchDataRecord);return i.ok?(t.dataRecord.recordChangeTag=i.value.recordChangeTag,vV(e,t.operationForCreateShareRecord)):i}return pV(e,r),fg.Result.success(e.localShareDataHash)}return n}))}function vV(e,t){return aV(this,void 0,void 0,(function*(){try{var n=wV(yield hV(e,t));return e.localShareDataHash=oV(n),pV(e,n),e.unforkIfAppropriate(n),fg.Result.success(n)}catch(r){return fg.Result.failure(r)}}))}function yV(e,t){return aV(this,void 0,void 0,(function*(){try{var n=wV(yield uV(e,t));return n.deleted?(e.mostRecentShareDataHashFromServer=null,fg.Result.success(void 0)):(e.mostRecentShareDataHashFromServer=oV(n),e.localShareDataHash=oV(n),fg.Result.success(e.localShareDataHash))}catch(r){return fg.Result.failure(r)}}))}function _V(e,t){return aV(this,void 0,void 0,(function*(){try{var n=wV(yield dV(e,t));return fg.Result.success(n)}catch(r){return fg.Result.failure(r)}}))}function bV(e,t){return aV(this,void 0,void 0,(function*(){try{var n=wV(yield hV(e,t));return pV(e,n),e.unforkIfAppropriate(n),fg.Result.success(e.localShareDataHash)}catch(r){return fg.Result.failure(r)}}))}function wV(e){if(!e.isRecordsResponse||e.records.length<1)throw new Error("Unexpected records response");return e.records[0]}var SV=zn.a.extend(Uj,{permissionValueForAddingParticipants:v.g(),ioService:v.g({strong:!0}),cacheingProvideRootRecordFunction:null,share:v.g(),settings:v.g({type:gj}),state:y.c({readOnly:!0,get:function(){return this._promise.promiseState}}),showViewController:function(e){this.activeViewController=e},start:function(e){throw new Error("start not overriden")},complete:function(){this.didComplete()},didComplete:function(){var e=M.a(this.ioService.mostRecentShareDataHashFromServer);e&&delete e.currentUserParticipant,this._promise.resolve({share:e})},showCopyTextViewController:function(e,t,n,r){var i=SU.create({title:e,subtitle:t,value:n,valueIsAlwaysLTR:r,viewClass:ut.a({additionalClassNames:ut.a(["workflow-view"])})}),a=lU.extend({didCompleteCopyText:function(){this.hide()}}).create();a.showViewController(i),a.show()},cancel:function(e){this._promise.reject(e)},sharingUIIsReady:function(){var e,t=dt.application;t&&(e=t.getPath("topFocusablePane.contentController.view.element"));var n=yt.a(e)?[e.getBoundingClientRect()]:void 0;return EV(this.settings,"sharingUIIsReady",n)},additionalButtonWasPressed:function(){return EV(this.settings,"additionalButtonWasPressed",arguments)},viewClass:EU,activeViewController:Er.a.define({viewOutlet:"activeView"}),init:function(e,t,n,r){if(!e||!(e instanceof sV))throw new Error("Dependency missing: CKSharing.WorkflowViewController.create() requires an instance of `SharingIOService` as the first argument.");if(!t||"function"!==typeof t)throw new Error("Dependency missing: CKSharing.WorkflowViewController.create() requires a cacheingProvideRootRecordFunction function of type `() -> Promise<CKSharing.CKRecord>` as the second argument");if(!n||!n.constructor.kindOf||!n.constructor.kindOf(gj))throw new Error("Dependency missing: CKSharing.WorkflowViewController.create() requires a `CKSharing.Settings` object as the third argument.");this.ioService=e,this.cacheingProvideRootRecordFunction=t,this.settings=n,this.__s._$2P7$init.call(this,r)},_promise:v.g({defaultValue:Me.b(b.a)}),__superMap:{_$2P7$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"WorkflowViewController"}}),EV=function(e,t,n){var r=e&&e[t];if(!Z.a(r))return!1;r.apply(r,n)},IV=lU.extend({viewClass:ut.a({additionalClassNames:ut.a(["mail-compose"])}),didCompleteSendMessage:function(){this.beginAnimateOffScreen(sU.up,this.delegate.didCompleteSendMessage.bind(this.delegate))},didCancelSendMessage:function(){this.delegate.didCancelSendMessage(),this.beginAnimateOffScreen(sU.down)},beginAnimateOffScreen:function(e,t){var n=this.getPath("view.element"),r=n.classList;r?(e===sU.up?r.add("is-sending"):r.add("is-canceling"),n.addEventListener("transitionend",this.endAnimateOffScreen.bind(this,t))):this.endAnimateOffScreen(t)},endAnimateOffScreen:function(e){e&&e(),this.hide()},staticMembers:{__QUALIFIED_CLASS_NAME__:"MailComposePopupViewController"}}),CV=SV.extend({preselectedTransport:v.g(),addParticipantsViewController:v.g({strong:!0,get:function(){return Zj.create({ioService:this.bindingFor("ioService"),cacheingProvideRootRecordFunction:this.cacheingProvideRootRecordFunction,settings:this.bindingFor("settings"),share:this.bindingFor("share"),sharePopoverIsActive:this.bindingFor("sharePopoverIsActive"),permissionValueForAddingParticipants:this.bindingFor("permissionValueForAddingParticipants"),preselectedTransport:this.bindingFor("preselectedTransport")})}}),copyLinkViewController:v.g({strong:!0,get:function(){return nU.create({settings:this.settings,share:this.share,permission:this.bindingFor("permissionValueForAddingParticipants")})}}),mailComposeViewController:v.g({strong:!0,get:function(){return oU.create({ioService:this.bindingFor("ioService"),cacheingProvideRootRecordFunction:this.cacheingProvideRootRecordFunction,settings:this.bindingFor("settings"),share:this.bindingFor("share"),permissionValueForAddingParticipants:this.bindingFor("permissionValueForAddingParticipants"),participantsCanAddOthers:this.bindingFor("addParticipantsViewController.participantsCanAddOthers"),originatorSharingWorkflowVC:this})}}),generateSchoolworkViewController:function(e,t){var n=wU.create(e,t);return dU.create({schoolworkHostedApplicationViewController:n})},sharePopoverIsActive:v.g(),start:function(){var e=this,t=JR.COPY_LINK,n=this.settings,r=n.supportedTransports,i=1===r.length&&r[0]===t,a=this.share;return a&&a.isPublic&&i?this.showCopyLinkViewController():this.showAddUI(),n.logService.recordStat("StartedAddParticipantsWorkflow",{appName:n.appName}),this.ioService.start().then((function(){return e._promise}))},didCompleteCopyLink:function(){this.didComplete()},didCancelAddParticipant:function(){this.didComplete()},didCancelSendMessage:function(){this.sharePopoverIsActive=!1},didShareByCopyingLink:function(){this.showCopyLinkViewController(),this.sendEvent("didUpdateShareRecord",this.share,!0)},didCompleteSendMessage:function(){this.sharePopoverIsActive=!1,this.didComplete()},didCompleteSchoolwork:function(){this.sharePopoverIsActive=!1,this.didComplete()},didCancelSchoolwork:function(){this.sharePopoverIsActive=!1,this.didComplete()},shareByWebMail:async function(){var e=this;if(this.sharePopoverIsActive=!0,this.share.shortGUID)return this.showComposeMailViewController().then((function(){return e.share}));var t=this.settings,n={provideRootRecordForUpdate:this.cacheingProvideRootRecordFunction,provideLatestRootRecordAfterUpdateConflict:t.provideLatestRootRecordAfterUpdateConflict,didUpdateRootRecord:t.didUpdateRootRecord};this.setIsReadyToTerminateBlock("shareByWebMail");var r,i=Fj({operationType:"INVITE_TO_PUBLIC",appName:t.shareItemType,interactionMode:t.primaryInteractionMode},t.notificationService,t.logService);try{r=await this.cacheingProvideRootRecordFunction()}catch(o){i(o)}var a=await this.ioService.createShortGUID(r,n);if(a.ok)return this.share.shortGUID=a.value.shortGUID,this.showComposeMailViewController().then((function(){return e.share}));i(a.error),this.removeIsReadyToTerminateBlock("shareByWebMail")},shareBySchoolwork:function(){this.sharePopoverIsActive=!0,this.showSchoolworkViewController()},createComposeWindowConfiguration:function(){var e=this.settings,t=this.share,n=Hj(t,e),r=JR.WEB_MAIL;return e.provideBodyForTransport(r,n).then((function(n){var r=n;return void 0===r&&(r=$j(e,t)),e.provideSubjectForMail().then((function(t){var n=t;return void 0===n&&(n=Qj(e)),{subject:n,body:r,appName:e.appName}}))}))},showAddUI:function(){var e=this.addParticipantsViewController;this.showViewController(e),e.setUp()},showComposeMailViewController:function(){var e=this;return this.createComposeWindowConfiguration(this.share).then((function(t){var n=e.mailComposeViewController;n.setUp(),n.composeMail(t);var r=e.previousViewController=e.activeViewController;r&&(n.operationType=r.operationType);var i=IV.create({delegate:e});i.showViewController(n);var a=dt.application;a&&a.presentViewController(i)}))},showCopyLinkViewController:function(){var e=this.copyLinkViewController;this.showViewController(e)},showSchoolworkViewController:function(){var e=this;this.cacheingProvideRootRecordFunction().then((function(t){var n=e.ioService.zoneID,r=e.generateSchoolworkViewController(n,t);r.becomeActive().catch((function(e){throw e}));var i=uU.create({contentController:r,delegate:e});i.showViewController(r);var a=dt.application;a&&a.presentViewController(i)}))},canonicalizePhoneNumbers:function(e,t){var n=this.settings;t.value=Yj(e,n.canonicalizePhoneNumberRequestGenerationFunction,n.hostedByCloudOSOne)},staticMembers:{__QUALIFIED_CLASS_NAME__:"AddParticipantsWorkflowViewController"}});function OV(e){return!(!e.share||!e.share.recordName)}var TV,AV=Zj,NV=CV.extend({addParticipantsViewControllerClass:AV,isWaitingForFirstUI:!1,setUpAddParticipantsController:function(){this.preselectedTransport||Xn.b("AddParticipantsInSingleStepWorkflowViewController requires, but lacks, a preselectedTransport.");var e=this.addParticipantsViewController;e.nextResponder=this,e.setUp()},start:function(){var e=this;this.setUpAddParticipantsController(),this.isWaitingForFirstUI=!0,this.sendEvent("workflowDesiresUilessSpinner");var t=this.settings;return t.logService.recordStat("StartedAddParticipantsInSingleStepWorkflow",{appName:t.appName}),this.ioService.start().then((function(){return e._promise}))},sharingUIIsReady:function(){var e=this.__s._$nX$sharingUIIsReady.apply(this,arguments);return this.addParticipantsViewController.sendShare(),e},showViewController:function(e){return e&&this.isWaitingForFirstUI&&(this.isWaitingForFirstUI=!1,this.sendEvent("workflowNoLongerDesiresUilessSpinner")),this.__s._$yC$showViewController.apply(this,arguments)},__superMap:{_$nX$sharingUIIsReady:"sharingUIIsReady",_$yC$showViewController:"showViewController"},staticMembers:{__QUALIFIED_CLASS_NAME__:"AddParticipantsInSingleStepWorkflowViewController"}}),MV=Ar.a.extend({additionalClassNames:["cw-list-item-view"],content:Object(v.g)(),layout:Object(v.g)(),layoutMetrics:Object(v.g)(),staticMembers:{className:"cw-ui-collections-list-item-view",__QUALIFIED_CLASS_NAME__:"ListItemView"}}),DV=fk.extend({viewClass:Object(ut.a)({additionalClassNames:Object(ut.a)(["cw-list-view"]),mixinDependencies:[XL]}),view:Object(v.g)({downstreamBindings:{topInset:"(owner).layoutMetrics.topInset"}}),layoutDelegate:Object(Me.b)(Rk),collection:Object(v.g)(),presenter:Object(v.g)({defaultValue:Object(Me.b)(xk.extend({itemViewDidMove:function(e,t){var n=e.element.style,r=t.width,i=t.height,a=t.x,o=t.y;Object(ND.b)(n,a,o),n.width=r===this.owner.viewportWidth?"100%":r+"px",n.height=i+"px"}})),downstreamBindings:{itemViewClass:"(owner).itemViewClass"}}),itemViewClass:Object(v.g)({readOnly:!0,defaultValue:MV}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ListViewController"}}),RV={keyDown:function(e){var t=($r.a.sharedInstance.isWindows?e.ctrlKey:e.metaKey)&&e.keyCode===nk.a.A;return t&&(this.sendEvent("selectAll"),e.preventDefault()),t||"function"===typeof this.__s._$A1$keyDown&&!!this.__s._$A1$keyDown.call(this,e)},__superMap:{_$A1$keyDown:"keyDown"}},LV={selectionDirectionByKeyCode:(TV={},TV[nk.a.UP]=Vk.UP,TV[nk.a.DOWN]=Vk.DOWN,TV),keyDown:function(e){var t=this.selectionDirectionByKeyCode[e.keyCode],n=t instanceof Object;return n&&(this.selectInDirection(t,e),e.preventDefault()),n||"function"===typeof this.__s._$E1$keyDown&&!!this.__s._$E1$keyDown.call(this,e)},selectInDirection:function(e,t){var n=this.collection;if(n&&n.length){var r=this._findFromHandleForDirectionalSelectionAction(),i=this._findToHandleAndSelectionModeForDirectionalSelectionAction(e,t,r),a=i.toHandle,o=i.selMode,s=a instanceof Object&&a.isValid?a:r;if(s instanceof Object){this.userPerformedSelectionOperation(s,o);var c=s.isValid&&!s.wasRemoved?s:n.handleProvider.startHandle.atDistance(Math.min(n.length-1,s.position||0));c.isValid&&this.scrollToHandle(c);var l=this.layoutDelegate.cellForHandleIfPresent(c);if(l instanceof Object&&this.presenter.viewForCell){var u=this.presenter.viewForCell(l);u&&u.focus()}}}},_findFromHandleForDirectionalSelectionAction:function(){var e=this.collection,t=this.selectionController,n=t.pivot,r=t.extendedTo,i=r instanceof Object&&!r.wasRemoved?r:n;return i instanceof Object&&!i.wasRemoved||(i=e.startHandle),i},_findToHandleAndSelectionModeForDirectionalSelectionAction:function(e,t,n){var r,i=this.selectionController,a=i.pivot,o=Bk.SET;if(0===i.selection.length)r=n;else if(t.altKey)r=i.getLastHandleInDirection(n,e),t.shiftKey&&(o=Bk.EXTEND);else if(r=i.getHandleInDirection(n,e),t.shiftKey&&(o=Bk.EXTEND,r instanceof Object&&i.isItemAtHandleSelected(r)&&!(Math.min(a.position,n.position)<=r.position&&r.position<=Math.max(a.position,n.position)))){var s=i.getSelectableHandleInDirection(r,e);s instanceof Object&&(r=s)}return{toHandle:r,selMode:o}},__superMap:{_$E1$keyDown:"keyDown"}},kV=OL.b.Ended,xV={itemViewDidMove:function(e,t){this.__s._$Gn$itemViewDidMove.apply(this,arguments);var n=this.owner.isCellSelected(t);if(e.isSelected=n,n&&e.parent.isFocused){var r=this.owner.selectionController,i=r.extendedTo,a=r.pivot,o=i instanceof Object?i:a;t.handle===o&&e.focus()}},itemViewDidExit:function(e,t){this.__s._$QM$itemViewDidExit.apply(this,arguments),e.isInFocusedBranch&&(e.blur(),e.parent.focus())},viewForViewClass:function(e){var t=this.__s._$TA$viewForViewClass.apply(this,arguments),n=e.hasMixin(CL.a)?t:this.owner,r=t.singleTapGestureRecognizer=bk.create({event:"selectView",delegate:n});t.addGestureRecognizer(r);var i=t.extendGestureRecognizer=bk.create({modifiers:[zL.Shift],event:"extendSelectView",delegate:n});t.addGestureRecognizer(i);var a=t.toggleGestureRecognizer=bk.create({modifiers:[$r.a.sharedInstance.isWindows?zL.Ctrl:zL.Cmd],event:"toggleSelectView",delegate:n});return t.addGestureRecognizer(a),t},__superMap:{_$Gn$itemViewDidMove:"itemViewDidMove",_$QM$itemViewDidExit:"itemViewDidExit",_$TA$viewForViewClass:"viewForViewClass"}},FV={mixinDependencies:[mk,CL.a,vk,RV,LV],viewClass:Object(ut.a)({isFocusable:!0,init:function(){this.__s._$12d$init.apply(this,arguments);var e=this.clearSelectionTapGestureRecognizer=$L.create({event:"clearSelection",delegate:this});this.addGestureRecognizer(e)},__superMap:{_$12d$init:"init"}}),selectView:function(e){var t=e.state,n=e.view;if(t===kV){var r=this.presenter.cellForView(n);r&&"item"===r.cellType&&this.sendEvent("userSelectionRequest",{view:n,operation:Bk.SET})}},extendSelectView:function(e){var t=e.state,n=e.view;if(t===kV){var r=this.presenter.cellForView(n);r&&"item"===r.cellType&&this.sendEvent("userSelectionRequest",{view:n,operation:Bk.EXTEND})}},toggleSelectView:function(e){var t=e.state,n=e.view;if(t===kV){var r=this.presenter.cellForView(n);r&&"item"===r.cellType&&this.sendEvent("userSelectionRequest",{view:n,operation:Bk.TOGGLE})}},gestureRecognizerShouldReceive:function(e,t){if(e.instanceOf(bk)){var n=this.presenter.cellForView(e.view);return!!n&&"item"===n.cellType}return this.__s._$1bd$gestureRecognizerShouldReceive.apply(this,arguments)},userSelectionRequest:function(e){if(e){var t=e.view,n=e.operation,r=this.presenter.cellForView(t);this.selectCell(r,n)}},presenter:Object(ut.a)(xV),selectionController:Object(v.g)({defaultValue:Object(Me.b)(Xk),downstreamBindings:{collection:"(owner).collection",isMultipleSelectionEnabled:"(owner).isMultipleSelectionEnabled",isEmptySelectionEnabled:"(owner).isEmptySelectionEnabled"}}),selectionDelegate:Object(Me.b)(oe.a.extend(Jk)),selectItem:function(e,t){if(this.isSelectionEnabled){var n=this.collection.indexOf(e);this.selectItemAtIndex(n,t)}},selectItemAtIndex:function(e,t){if(this.isSelectionEnabled){var n=this.collection.startHandle.at(e);this.userPerformedSelectionOperation(n,t)}},__superMap:{_$1bd$gestureRecognizerShouldReceive:"gestureRecognizerShouldReceive"}};function PV(e,t,n,r,i,a){var o=i?void 0:Rd.b.create(),s=e.userIdentity,c=r===YR.OWNER||r===YR.ADMINISTRATOR,l=null;if(s&&(l=s.emailAddress||s.formattedPhoneNumber),l){if(i)return!0;var u=l===s.formattedPhoneNumber;o.push({title:l,titleIsAlwaysLTR:u,action:"",isDisabled:!0})}s&&(s.phoneNumber||s.emailAddress)&&o.push({title:Sr.d("CKSharing.ManageShare.ParticipantSettings."+(s.phoneNumber?"CopyPhoneNumber":"CopyEmail")),action:"copySelectedParticipantAddress"});var d=XR.READ_WRITE,h=XR.READ_ONLY;if(r===YR.OWNER&&n&&!e.isMe&&!e.isOwner&&!e.isOrgUser&&!t&&n){if(i)return!0;jV(o),o.push({title:Sr.d("CKSharing.ManageShare.ParticipantSettings.CanEdit"),action:"setSelectedParticipantPermissionsToReadWrite",hasCheckmark:e.permission===d},{title:Sr.d("CKSharing.ManageShare.ParticipantSettings.ViewOnly"),action:"setSelectedParticipantPermissionsToReadOnly",hasCheckmark:e.permission===h})}if(r===YR.OWNER&&!e.isOwner&&!t&&e.permission===XR.READ_WRITE){jV(o);var f={title:Sr.d("CKSharing.ManageShare.ParticipantSettings.AddOthers"),action:e.type===YR.ADMINISTRATOR?"setSelectedParticipantTypeToUser":"setSelectedParticipantTypeToAdministrator",hasCheckmark:e.type===YR.ADMINISTRATOR};o.push(f)}if(a&&!$F.isCurrentUserUnauthenticated&&!e.isOwner&&!e.isOrgUser&&(c||e.isMe)&&(e.isMe||!t)){if(i)return!0;jV(o);var p={action:"removeSelectedParticipant"};e.isMe?p.title=Sr.d("CKSharing.ManageShare.ParticipantSettings.RemoveMe"):t||(p.title=Sr.d("CKSharing.ManageShare.ParticipantSettings.RemoveAccess")),o.push(p)}return!i&&o}function jV(e){e.length>0&&e.push({})}var UV=n(1453),BV=Ar.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"figure",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"img",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"photoUrl",truevalue:"photo",attributes:{}}],name:"image",styles:{transform:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"inlineTransform",attributes:{},unit:null,property:"transform"}},attributes:{src:{key:"src",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"photoUrl",attributes:{},attribute:"src"},type:"ATTRIBUTE"}}},{type:"VIEWOUTLET",tagname:"view",name:"silhouette"}],classes:["image-container"],name:"imageContainer"}],classes:["participant-icon-view",{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"state",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldAnimate",truevalue:"should-animate",attributes:{}}],attributes:{"data-title":{key:"data-title",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"displayNameInitials",attributes:{},attribute:"data-title"},type:"ATTRIBUTE"}}},className:"ck-sharing-participant-icon-view",__QUALIFIED_CLASS_NAME__:"ParticipantIconView"},photoUrl:v.g(),cropRect:v.g(),displayNameInitials:v.g(),silhouette:v.g({readOnly:!0,strong:!0,dependencies:["state"],get:Object.assign((function(){if("has-silhouette"===this.state)return VV.create()}),{__CW__getter:function(e,t,n,r){if("has-silhouette"===r.internalGet(this,t[0+n]))return VV.create()}})}),shouldAnimate:v.g(!1),inlineTransform:v.g({readOnly:!0,dependencies:["scale","offsetX","offsetY"],get:Object.assign((function(){var e=[];return e.push("translateY(-100%) translateY(36px)"),e.push("scale("+this.scale+")"),Sr.a.sharedInstance.isRTL?e.push("translate("+-this.offsetX+"px, "+this.offsetY+"px)"):e.push("translate("+this.offsetX+"px, "+this.offsetY+"px)"),e.join(" ")}),{__CW__getter:function(e,t,n,r){var i=[];return i.push("translateY(-100%) translateY(36px)"),i.push("scale("+r.internalGet(this,t[0+n])+")"),Sr.a.sharedInstance.isRTL?i.push("translate("+-r.internalGet(this,t[1+n])+"px, "+r.internalGet(this,t[2+n])+"px)"):i.push("translate("+r.internalGet(this,t[1+n])+"px, "+r.internalGet(this,t[2+n])+"px)"),i.join(" ")}})}),init:function(){var e=this;this.__s._$ig$init.apply(this,arguments),this.image.addEventListener("load",(function(t){e.onload(t)}))},onload:function(e){this.propertyChanged("scale")},scale:v.g({readOnly:!0,dependencies:["photoUrl","cropRect.width"],get:Object.assign((function(){var e=this.getPath("cropRect.width")||this.image.naturalWidth;return yt.a(this.photoUrl)?36/e:1}),{__CW__getter:function(e,t,n,r){var i=r.internalGetPath(this,t[1+n])||this.image.naturalWidth;return yt.a(r.internalGet(this,t[0+n]))?36/i:1}})}),offsetX:v.g({readOnly:!0,dependencies:["photoUrl","cropRect.x"],get:Object.assign((function(){var e=this.getPath("cropRect.x");return yt.a(this.photoUrl)&&yt.a(e)?-1*e:0}),{__CW__getter:function(e,t,n,r){var i=r.internalGetPath(this,t[1+n]);return yt.a(r.internalGet(this,t[0+n]))&&yt.a(i)?-1*i:0}})}),offsetY:v.g({readOnly:!0,dependencies:["photoUrl","cropRect.y"],get:Object.assign((function(){var e=this.getPath("cropRect.y");return yt.a(this.photoUrl)&&yt.a(e)?e:0}),{__CW__getter:function(e,t,n,r){var i=r.internalGetPath(this,t[1+n]);return yt.a(r.internalGet(this,t[0+n]))&&yt.a(i)?i:0}})}),state:v.g({readOnly:!0,dependencies:["photoUrl","displayNameInitials"],get:Object.assign((function(){return this.photoUrl?"has-icon":this.displayNameInitials?"has-initials":"has-silhouette"}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])?"has-icon":r.internalGet(this,t[1+n])?"has-initials":"has-silhouette"}})}),__superMap:{_$ig$init:"init"}}),VV=Ar.a.extend({mixinDependencies:[gR],desiredFontSize:v.g(25),layoutMode:v.g("glyphBox"),additionalClassNames:ut.a(["silhouette-svg"]),symbolMetadata:v.g({readOnly:!0,get:function(){return UV}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"SilhouetteSVG"}}),WV=MV.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"iconView"},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"span",children:[{type:"ELEMENT",tagname:"h1",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"name",attributes:{}}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"displayNameIsPhoneNumber",truevalue:"is-phone-number",attributes:{}}]},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"listLabel",attributes:{}}]}]},{type:"ELEMENT",tagname:"p",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"statusText",attributes:{}}]}],classes:["title-area"]},{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"participantSettingsButton"},{type:"VIEWOUTLET",tagname:"view",name:"badge"}],classes:["item-controls"]}],classes:["container"]}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasAcceptedShare",truevalue:"accepted",attributes:{}}],attributes:{"aria-disabled":{key:"aria-disabled",value:{type:"ATTRIBUTEOUTLET",bindingtype:"IFBINDING",name:"isDisabled",truevalue:"true",falsevalue:"false",attributes:{},attribute:"aria-disabled"},type:"ATTRIBUTE"}}},className:"ck-sharing-manage-share-list-item-view",__QUALIFIED_CLASS_NAME__:"ManageShareListItemView"},delegate:null,isDisabled:v.g(!1),name:v.g(_.c("content.displayName")),displayNameIsPhoneNumber:v.g(_.c("content.displayNameIsPhoneNumber")),hasAcceptedShare:v.g({readOnly:!0,dependencies:["content.acceptanceStatus"],get:Object.assign((function(){return this.getPath("content.acceptanceStatus")===_j.ACCEPTED}),{__CW__getter:function(e,t,n,r){return r.internalGetPath(this,t[0+n])===_j.ACCEPTED}})}),isViewOnly:v.g({readOnly:!0,dependencies:["content.permission"],get:Object.assign((function(){return this.getPath("content.permission")===XR.READ_ONLY}),{__CW__getter:function(e,t,n,r){return r.internalGetPath(this,t[0+n])===XR.READ_ONLY}})}),iconView:v.g({downstreamBindings:{displayNameInitials:"(owner).content.displayNameInitials",photoUrl:"(owner).content.addressBookContact.imageDataUrl",cropRect:"(owner).content.addressBookContact.photo.crop"},defaultValue:Me.b(BV)}),listLabel:v.g({readOnly:!0,dependencies:["content.isOwner","content.isMe"],get:Object.assign((function(){return this.getPath("content.isOwner")?Sr.d("CKSharing.ManageShare.List.Label.Owner"):this.getPath("content.isMe")?Sr.d("CKSharing.ManageShare.List.Label.Me"):void 0}),{__CW__getter:function(e,t,n,r){return r.internalGetPath(this,t[0+n])?Sr.d("CKSharing.ManageShare.List.Label.Owner"):r.internalGetPath(this,t[1+n])?Sr.d("CKSharing.ManageShare.List.Label.Me"):void 0}})}),pointerOver:function(){this.sendEvent("setShouldShowParticipantSettingsButtonOnListItem",this)},shouldShowParticipantSettingsButton:v.g(),participantSettingsButton:v.g({readOnly:!0,dependencies:["isDisabled"],get:Object.assign((function(){return this.isDisabled?null:zV.create(this.delegate,{context:this})}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])?null:zV.create(this.delegate,{context:this})}}),downstreamBindings:{shouldShow:"(owner).shouldShowParticipantSettingsButton"}}),statusText:v.g({readOnly:!0,dependencies:["hasAcceptedShare","isViewOnly"],get:Object.assign((function(){return this.hasAcceptedShare?this.isViewOnly?Sr.d("CKSharing.ManageShare.StatusText.ViewOnly"):null:Sr.d("CKSharing.ManageShare.StatusText.Invited")}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])?r.internalGet(this,t[1+n])?Sr.d("CKSharing.ManageShare.StatusText.ViewOnly"):null:Sr.d("CKSharing.ManageShare.StatusText.Invited")}})})}),zV=lp.extend({init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.delegate=e,this.__s._$1EK$init.call(this,t),this.getMenuItems=this.getMenuItems.bind(this),this.menuWillShow=this.menuWillShow.bind(this),this.menuWillHide=this.menuWillHide.bind(this),this.menuItemSelected=this.menuItemSelected.bind(this)},delegate:null,context:y.c(),shouldShow:dp.renderProperty(),menuWillShow:function(){this._invokeDelegate("participantSettingsMenuWillShow")},menuWillHide:function(){this._invokeDelegate("participantSettingsMenuWillHide")},menuItemSelected:function(e,t){this._invokeDelegate(e,t)},getMenuItems:function(){return function(e){var t=[["title","children"],["action","value"],["isDisabled","disabled"],["hasCheckmark","checked"]],n=!1;return e.map((function(e,r){if(function(e){return!e.title}(e))return Le.a.createElement(M_,{key:r});var i=t.reduce((function(t,n){var r,i=n[0],a=n[1],o=e[i];return Object.assign({},t,((r={})[a]=o,r))}),{key:r});return"hasCheckmark"in e&&(i.checkable=!0,n||(i.initialHighlighted=n=!0)),Le.a.createElement(A_,Object.assign({},i))}))}(this._invokeDelegate("getParticipantSettingsMenuItemsForItem")||[])},_invokeDelegate:function(e){var t=ol.a(this,"delegate"),n=ol.a(t,e);if("function"===typeof n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return n.call(t,this.context,...i)}},render:function(){return Le.a.createElement(HV,{shouldShow:this.shouldShow,getMenuItems:this.getMenuItems,menuWillShow:this.menuWillShow,menuWillHide:this.menuWillHide,menuItemSelected:this.menuItemSelected})},__superMap:{_$1EK$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"WrappedParticipantSettingsButton"}});function HV(e){var t,n,r=Object(Re.useRef)(null),i=Object(Re.useRef)(null),a=Object(Re.useState)(!1),o=a[0],s=a[1],c=e.shouldShow,l=e.getMenuItems,u=e.menuWillShow,d=e.menuWillHide,h=e.menuItemSelected,f=(t=Le.a.createElement(GV,{buttonRef:r},Le.a.createElement(L_,{ref:i,onItemSelected:function(){m()&&(d(),g())},onItemSelectedSync:function(e){m()&&h(e,ol.a(i,"current"))}},l())),n={animate:Oe.NONE,onClose:function(){m()&&s(!1)}},console.log("NOTICE: usePane will soon change its default PaneType to PaneType.Base. If you want an easily dismissible pane, please change to using the `useDismissiblePane` hook."),qe(t,(null===n||void 0===n?void 0:n.paneType)||at.Dismissible,n)),p=f[0],g=f[1],m=am(),v=["menu-affordance-container"];return o&&v.push("open"),c||v.push("hidden"),Le.a.createElement(Gp,{onActivate:function(){m()&&(u(),s(!0),p())},className:v.join(" "),ref:r},Le.a.createElement("svg",{className:"menu-affordance",width:"15",height:"15",viewBox:"0 0 30 30"},Le.a.createElement("ellipse",{className:"background",ry:"15",rx:"15",cy:"15",cx:"15"}),Le.a.createElement("ellipse",{className:"dot",ry:"3",rx:"3",cy:"15",cx:"7"}),Le.a.createElement("ellipse",{className:"dot",ry:"3",rx:"3",cy:"15",cx:"15"}),Le.a.createElement("ellipse",{className:"dot",ry:"3",rx:"3",cy:"15",cx:"23"})))}function GV(e){var t=e.buttonRef;return Le.a.createElement(g_,{className:"cksharing-leftright-popover",anchorRef:t,positioner:a_(Object.assign({},i_,{sidePreference:[o_.right,o_.left]}))},e.children)}function $V(e,t){var n=KV(e),r=KV(t);return n<r?-1:n>r?1:uf(e.displayName,t.displayName)}function KV(e){if(e.isOrgUser)return 1;if(e.isMe)return 2;if(e.isOwner)return 3;var t=e.additionalParticipantInfo;return t&&t.isOnline?4:e.acceptanceStatus===_j.ACCEPTED?5:6}var QV=DV.extend(FV,{shareIsPublic:v.g(),settings:v.g(),participants:v.g(),shareSupportsMultiplePermissions:v.g({readOnly:!0,dependencies:["settings.supportedPermissions"],get:function(){return this.getPath("settings.supportedPermissions.length")>1}}),sortedParticipantList:v.g({strong:!0,readOnly:!0,dependencies:["participants","participants.contentsDidChange","shareIsPublic","shareSupportsMultiplePermissions","loggedInUserCanEditShare"],get:Object.assign((function(e){return Rd.b.from(this.participants).sort($V)}),{__CW__getter:function(e,t,n,r){return Rd.b.from(r.internalGet(this,t[0+n])).sort($V)}})}),collection:v.g(_.c("sortedParticipantList")),isShareStateUnknown:v.g({defaultValue:!1,didChange:function(e){e||this.measureViewport()}}),itemViewClass:WV,layoutMetrics:{rowHeight:56,rowSpacing:1},loggedInUserType:v.g(),loggedInUserCanEditShare:v.g(),allowRemoveMeMenuOption:!0,_lastMenuContext:v.g(),view:v.g({downstreamBindings:{isHidden:"(owner).isShareStateUnknown"}}),viewClass:ut.a({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHidden",truevalue:"hidden",attributes:{}}]}}},mixinDependencies:[JL],scrollIndicatorTopMargin:2,scrollIndicatorBottomMargin:2,isHidden:v.g(!1)}),setShouldShowParticipantSettingsButtonOnListItem:function(e){var t=function(e,t,n,r){return PV(e,t,n,r,!0,!(arguments.length>4&&void 0!==arguments[4])||arguments[4])}(e.content,this.shareIsPublic,this.shareSupportsMultiplePermissions,this.loggedInUserCanEditShare,this.allowRemoveMeMenuOption);e.shouldShowParticipantSettingsButton=t},participantSettingsMenuWillShow:function(e){yt.a(e)&&(this.selectedParticipant=e.content),this.sendEvent("participantsMenuWillShow")},participantSettingsMenuWillHide:function(){this.sendEvent("participantsMenuWillHide")},getParticipantSettingsMenuItemsForItem:function(e){var t=this.shareIsPublic,n=this.shareSupportsMultiplePermissions,r=this.loggedInUserType;return yt.a(e)?function(e,t,n,r){return PV(e,t,n,r,!1,!(arguments.length>4&&void 0!==arguments[4])||arguments[4])}(e.content,t,n,r,this.allowRemoveMeMenuOption):[]},presenter:v.g({get:function(){return xk.extend({settings:v.g(),delegate:null,itemViewDidEnter:function(e){this.__s._$1oF$itemViewDidEnter.apply(this,arguments),e.retain(),setTimeout((function(){e.iconView.shouldAnimate=!0,e.release()}),100)},itemViewDidMove:function(e,t){this.__s._$1z9$itemViewDidMove.apply(this,arguments),e[this.dataProperty]=t.handle.value},itemViewDidExit:function(e){e.iconView.shouldAnimate=!1,this.__s._$21_$itemViewDidExit.apply(this,arguments)},viewForViewClass:function(e){return e.create({delegate:this.delegate})},shouldLoadContacts:v.g(!0),cellsDidMove:function(e){if(this.__s._$2Bb$cellsDidMove.apply(this,arguments),e&&this.shouldLoadContacts){var t=e.objectAt(0);if(t){for(var n=e.length,r=Math.floor(n/2),i=t.handle.previous,a=this.settings.contactsService,o=0,s=r;o<s&&i.isValid;o++)qV(i.value,a),i=i.previous;for(var c=0;c<n;c++)qV(e.objectAt(c).getPath("handle.value"),a);for(var l=e.objectAt(n-1).handle.next,u=0,d=r;u<d&&l.isValid;u++)qV(l.value,a),l=l.next}}},__superMap:{_$1oF$itemViewDidEnter:"itemViewDidEnter",_$1z9$itemViewDidMove:"itemViewDidMove",_$21_$itemViewDidExit:"itemViewDidExit",_$2Bb$cellsDidMove:"cellsDidMove"}}).create({delegate:this})},downstreamBindings:{itemViewClass:"(owner).itemViewClass",shouldLoadContacts:"(owner).settings.isAuthenticated",settings:"(owner).settings"}}),selectedParticipant:v.g(),setSelectedParticipantPermissionsToReadWrite:function(){return this.selectedParticipant.permission=XR.READ_WRITE,this.sendEvent("participantPermissionDidChange",this.selectedParticipant)},setSelectedParticipantPermissionsToReadOnly:function(){return this.selectedParticipant.permission=XR.READ_ONLY,this.selectedParticipant.type=YR.USER,this.sendEvent("participantPermissionAndTypeDidChange",this.selectedParticipant)},setSelectedParticipantTypeToUser:function(){return this.selectedParticipant.type=YR.USER,this.sendEvent("participantTypeDidChange",this.selectedParticipant)},setSelectedParticipantTypeToAdministrator:function(){return this.selectedParticipant.type=YR.ADMINISTRATOR,this.sendEvent("participantTypeDidChange",this.selectedParticipant)},removeSelectedParticipant:function(){return this.sendEvent("confirmRemoveParticipant",this.selectedParticipant)},showSelectedParticipantContactCard:function(){},copySelectedParticipantAddress:function(e,t){var n=this.selectedParticipant,r=n&&n.userIdentity;if(r){var i,a=yt.a(r.phoneNumber);if(i=a?r.formattedPhoneNumber:r.emailAddress,eU())Jj(i,t);else{var o=a?"Phone":"Email",s=Sr.d("CKSharing.CopyEmailOrPhone.Title."+o),c=Sr.d("CKSharing.CopyEmailOrPhone.Subtitle."+o);this.sendEvent("showCopyTextViewController",s,c,i,a)}}},staticMembers:{__QUALIFIED_CLASS_NAME__:"ManageShareListViewController"}});function qV(e,t){var n=e.userIdentity,r=n&&(n.emailAddress||n.phoneNumber);yt.a(r)&&t&&e.loadAddressBookContact(t)}var ZV=Ar.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"toggleButton"},{type:"ELEMENT",tagname:"label",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"summaryTextWOption",attributes:{}}],classes:["summary-text",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isExpanded",truevalue:"hidden",attributes:{}}]}],classes:["container",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasNoDropdowns",truevalue:"hidden",attributes:{}}]},{type:"ELEMENT",tagname:"p",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"summaryTextNoOption",attributes:{}}],classes:["summary-text",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasNoDropdowns",truevalue:"",falsevalue:"hidden",attributes:{}}]},{type:"ELEMENT",tagname:"section",children:[{type:"VIEWOUTLET",tagname:"view",name:"permissionsView"},{type:"ELEMENT",tagname:"menu",children:[{type:"VIEWOUTLET",tagname:"view",name:"stopSharingButton"},{type:"ELEMENT",tagname:"span",classes:["divider",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldHideCopyLinkButton",truevalue:"hidden",attributes:{}}]},{type:"VIEWOUTLET",tagname:"view",name:"copyLinkButton"}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldHideCopyLinkAndStopSharing",truevalue:"hidden",attributes:{}}]}]}],classes:["options-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isExpanded",truevalue:"isExpanded",attributes:{signal:"viewDidRender"}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHidden",truevalue:"hidden",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasNoDropdowns",truevalue:"has-no-dropdowns",attributes:{}}]},className:"ck-sharing-manage-share-options-view",__QUALIFIED_CLASS_NAME__:"ManageShareOptionsView"},summaryTextNoOption:v.g(),summaryTextWOption:v.g(),shouldShowShareOptions:v.g(!0),isCopyLinkDisabled:v.g(!1),isLoadingCopyLink:v.g(!1),isStopSharingDisabled:v.g(!1),isExpanded:v.g(!1),expansionRenderDidEnd:v.i(),_expansionManagement:v.h("isAttached","viewDidRender",(function(e,t){e&&t&&this.expansionRenderDidEnd()})),isHidden:v.g({dependencies:["isShareStateUnknown","shouldShowShareOptions"],readOnly:!0,get:Object.assign((function(){return this.isShareStateUnknown||!this.shouldShowShareOptions}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])||!r.internalGet(this,t[1+n])}})}),isShareStateUnknown:v.g(!1),shouldHideAccessDropdown:v.g(!1),shouldHidePermissionDropdown:v.g(!1),hasNoDropdowns:v.g(),shouldHideCopyLinkAndStopSharing:v.g(),toggleButton:v.g({defaultValue:Me.b(Ar.a.extend(aR.a,{staticMembers:{template:{type:"ELEMENT",tagname:"span",children:[{type:"ELEMENT",tagname:"svg",children:[{type:"ELEMENT",tagname:"path",namespace:"http://www.w3.org/2000/svg",attributes:{d:"m1.250001,1.062507l14.843682,14.875035l14.843815,-14.875035",fill:"none"}}],classes:["chevron"],namespace:"http://www.w3.org/2000/svg",attributes:{width:"12px",height:"11px",viewBox:"0 0 32 20"}},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{}}]}],classes:["options-button"]}},title:Sr.d("CKSharing.ManageShare.Button.ShareOptions"),action:"toggleOptions"}))}),shouldHideCopyLinkButton:v.g(),copyLinkButton:v.g({defaultValue:Me.b(Ar.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"spinnerView"},{type:"VIEWOUTLET",tagname:"view",name:"buttonView"}],classes:["copy-link-option",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldHideCopyLinkButton",truevalue:"hidden",attributes:{}}]}},buttonView:v.g({defaultValue:Me.b(JD.a.extend({title:Sr.d("CKSharing.ManageShare.Button.CopyLink"),action:"showCopyLink",shouldHideCopyLinkButton:v.g()})),downstreamBindings:{isDisabled:"(owner).isDisabled"}}),spinnerView:v.g({defaultValue:Me.b(oL.a,{size:20}),downstreamBindings:{isVisible:"(owner).isLoading"}}),isDisabled:v.g(),isLoading:v.g(),shouldHideCopyLinkButton:v.g()})),downstreamBindings:{isDisabled:"(owner).isCopyLinkDisabled",isLoading:"(owner).isLoadingCopyLink",shouldHideCopyLinkButton:"(owner).shouldHideCopyLinkButton"}}),stopSharingButton:v.g({defaultValue:Me.b(JD.a.extend({title:Sr.d("CKSharing.ManageShare.Button.StopSharing"),additionalClassNames:["warning"],action:"confirmStopSharing"})),downstreamBindings:{isDisabled:"(owner).isStopSharingDisabled"}})}),YV=Ar.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",classes:["checkbox-icon"]}],classes:["checkbox"]},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"optionLabel",attributes:{}}],classes:["text"]}],classes:["option-label",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isSelected",truevalue:"selected",falsevalue:"",attributes:{}}]},className:"select-option-item-view",__QUALIFIED_CLASS_NAME__:"SelectOptionItemView"},id:v.g(),pointerUp:function(e){this.sendEvent("didSelectOption",{optionItem:this,event:e}),e.preventDefault()}}),XV=Ar.a.extend(gN.a,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"selectionText",attributes:{}}],classes:["label"]},{type:"ELEMENT",tagname:"div",classes:["separator"]},{type:"ELEMENT",tagname:"div",classes:["chevron"]}],name:"selectDiv",classes:["select-box"]},{type:"ELEMENT",tagname:"div",name:"modalDiv",classes:["modal"]},{type:"ELEMENT",tagname:"div",children:[{type:"MULTIVIEWOUTLET",tagname:"views",name:"_optionsViews"}],name:"optionsDiv",classes:["options",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"showOptionsForMeasuring",truevalue:"shown-for-measuring",attributes:{}}]}],classes:["select-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isOptionsVisible",truevalue:"open",attributes:{}}]},className:"ck-sharing-select-view",__QUALIFIED_CLASS_NAME__:"SelectView"},action:null,value:v.g({}),_isAttachedDidChange:v.h("isAttached",(function(e){e&&this.propertyChanged("selectionText")})),_windowSize:v.g(A.a.sharedInstance.window),_windowSizeDidChange:v.h("_windowSize.width","_windowSize.height",(function(){this.isAttached&&this.hideModalAndOptions()})),selectionText:v.g({dependencies:["value","options"],readOnly:!0,get:Object.assign((function(){var e,t=this.value,n=this.options;if(n)for(var r=n.length,i=0;i<r;i++){var a=n.objectAt(i);a.value===t&&(e=a.label)}return e||(e="--"),e}),{__CW__getter:function(e,t,n,r){var i,a=r.internalGet(this,t[0+n]),o=r.internalGet(this,t[1+n]);if(o)for(var s=o.length,c=0;c<s;c++){var l=o.objectAt(c);l.value===a&&(i=l.label)}return i||(i="--"),i}})}),options:v.g(Me.b(Rd.b)),_redraw:v.h("element","options","options.contentsDidChange","value",(function(e,t,n){if(e&&t){var r=this._optionsViews,i=t.length;r.beginBatchedChanges(),r.clear();for(var a=0,o=i;a<o;a++){var s=t.objectAt(a),c=!1;s.value===this.value&&(c=!0);var l=YV.create({optionLabel:s.label,id:s.value,isSelected:c});r.push(l)}r.endBatchedChanges(),this.positionOptionsView()}})),isVisibleOnScreen:v.g(),showOptionsForMeasuring:v.g(),isVisibleOnScreenObserver:v.h("isVisibleOnScreen",(function(e){var t=this;e&&setTimeout((function(){if(t.showOptionsForMeasuring=!0,t.optionsDiv.getElementsByClassName("text")[0].clientWidth>0)t._setWidthOfSelectViewBasedOnContents();else{var e=sL.a.create({delay:100,timesToFire:1/0,callAction:function(){this.optionsDiv.getElementsByClassName("text")[0].clientWidth>0&&(this._setWidthOfSelectViewBasedOnContents(),e.stop())}.bind(t)});e.start()}}),0)})),_setWidthOfSelectViewBasedOnContents:function(){this.showOptionsForMeasuring=!0;for(var e,t=[],n=this.optionsDiv.getElementsByClassName("text"),r=0,i=n.length;r<i;r++)e=n[r].clientWidth+53,t.push(e);this.showOptionsForMeasuring=!1;var a=Math.max.apply(Math,t);ND.a(this.element,{width:a})},_downPoint:null,pointerDown:function(e){if(!this.isDisabled){if(this.options.length>0)for(var t=!1,n=e.target;!t&&n;)n===this.modalDiv?(this.hideModalAndOptions(),t=!0):n===this.selectDiv?(t=!0,this.showModalAndOptions(),this._downPoint={x:e.clientX,y:e.clientY}):n=n.parentNode;e.preventDefault()}},didSelectOption:function(e,t){var n=this._downPoint,r=e.event;if(!n||n.x!==r.clientX||n.y!==r.clientY){var i=this.value,a=e.optionItem.id;if(a!==i){var o=this.action;Nt.a(o)?this.value=a:this.sendEvent(o,a)}this.hideModalAndOptions()}},isOptionsVisible:v.g(),showModalAndOptions:function(){this.isOptionsVisible=!0,this.positionOptionsView()},hideModalAndOptions:function(){this.isOptionsVisible=!1},positionOptionsView:function(){var e=this.selectDiv,t=this.optionsDiv,n=e.getBoundingClientRect(),r={},i=e.clientHeight,a=this.options,o=a.length;"rtl"===globalThis.document.dir?(r.left="auto",r.right=globalThis.innerWidth-n.right-24+"px"):r.left=n.left-24+"px",r["min-width"]=e.clientWidth+"px";for(var s=-1,c=0;c<o;c++)if(a.objectAt(c).value==this.value){s=c;break}for(var l=this._optionsViews,u=l.length,d=0;d<u;d++){var h=l.objectAt(d);ND.a(h.element,{height:i})}var f=1+n.top;-1!==s&&(f-=s*i),r.top=f+"px",r.height=o*i+"px",ND.a(t,r)}}),JV=Ar.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"label",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"accessLabelString",attributes:{}}]},{type:"VIEWOUTLET",tagname:"view",name:"accessSelectView"}],classes:["row",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldHideAccessDropdown",truevalue:"hidden",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"label",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"permissionLabelString",attributes:{}}]},{type:"VIEWOUTLET",tagname:"view",name:"permissionSelectView"}],classes:["row",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldHidePermissionDropdown",truevalue:"hidden",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div"},{type:"VIEWOUTLET",tagname:"view",name:"adminCheckbox"}],classes:["row",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"showAdminCheckbox",truevalue:"",falsevalue:"hidden",attributes:{}}]}],classes:["container"]}],classes:["access-control-section",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isVisible",truevalue:"",falsevalue:"hidden",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasNoDropdowns",truevalue:"has-no-dropdowns",attributes:{}}]},className:"ck-sharing-manage-share-permissions-view",__QUALIFIED_CLASS_NAME__:"ManageSharePermissionsView"},isVisible:v.g(),hasNoDropdowns:v.g(),accessDropdownValue:v.g(),shouldHideAccessDropdown:v.g(),accessLabelString:y.c(Sr.d("CKSharing.AddParticipants.AccessLabel.Title")),accessOptions:v.g(),accessSelectView:v.g({defaultValue:Me.b(XV,{action:"setEffectiveAccess",ariaLabel:"Share Access Level"}),downstreamBindings:{options:"(owner).accessOptions",value:"(owner).accessDropdownValue",isVisibleOnScreen:"(owner).isVisible"}}),permissionDropdownValue:v.g(),shouldHidePermissionDropdown:v.g(),permissionLabelString:y.c(Sr.d("CKSharing.AddParticipants.AllowLabel.Title")),permissionOptions:v.g(),permissionSelectView:v.g({defaultValue:Me.b(XV,{action:"setEffectivePermission",ariaLabel:"Share Permission"}),downstreamBindings:{value:"(owner).permissionDropdownValue",options:"(owner).permissionOptions",isVisibleOnScreen:"(owner).isVisible"}}),showAdminCheckbox:v.g({readOnly:!0,dependencies:["accessDropdownValue","permissionDropdownValue"],get:Object.assign((function(){return this.accessDropdownValue===qR.PRIVATE&&(this.permissionDropdownValue===XR.READ_WRITE||this.permissionDropdownValue===XR.UNKNOWN)}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===qR.PRIVATE&&(r.internalGet(this,t[1+n])===XR.READ_WRITE||r.internalGet(this,t[1+n])===XR.UNKNOWN)}})}),adminCheckboxIsChecked:v.g(),adminCheckbox:v.g({readOnly:!0,get:function(){var e=this;return mN.create({label:Sr.d("CKSharing.AddParticipants.ManageShare.AdminCheckbox.Title"),isChecked:this.bindingFor("adminCheckboxIsChecked"),change:function(t){e.sendEvent("adminCheckBoxDidChange",t.srcElement.checked)}})}})}),eW=zn.a.extend({viewClass:JV,view:v.g({downstreamBindings:{accessDropdownValue:"(owner).share.effectiveAccess",accessOptions:"(owner).accessOptions",hasNoDropdowns:"(owner).hasNoDropdowns",isVisible:"(owner).optionsIsExpanded",permissionDropdownValue:"(owner).permissionDropdownValue",adminCheckboxIsChecked:"(owner).participantsCanAddOthers",permissionOptions:"(owner).permissionOptions",shouldHideAccessDropdown:"(owner).shouldHideAccessDropdown",shouldHidePermissionDropdown:"(owner).shouldHidePermissionDropdown"}}),settings:v.g(),permissionValueForAddingParticipants:v.g(),participantsCanAddOthers:v.g(),share:v.g(),shouldHideAccessDropdown:v.g(),shouldHidePermissionDropdown:v.g(),optionsIsExpanded:v.g(),hasNoDropdowns:v.g(),accessOptions:v.g({dependencies:["share.effectiveAccess","settings","settings.supportedAccess"],readOnly:!0,get:Object.assign((function(){if(this.settings){var e=[],t=qR.PRIVATE,n=qR.PUBLIC,r=this.share.effectiveAccess;return this.settings.supportsAccess(t)?e.push({value:t,label:Sr.d("CKSharing.AddParticipants.Private")}):r===t&&e.push({value:t,label:Sr.d("CKSharing.AddParticipants.Private"),isDisabled:!0}),this.settings.supportsAccess(n)?e.push({value:n,label:Sr.d("CKSharing.AddParticipants.Public")}):r===n&&e.push({value:n,label:Sr.d("CKSharing.AddParticipants.Public"),isDisabled:!0}),Rd.b.create(e)}}),{__CW__getter:function(e,t,n,r){if(r.internalGet(this,t[1+n])){var i=[],a=qR.PRIVATE,o=qR.PUBLIC,s=r.internalGetPath(this,t[0+n]);return r.internalGet(this,t[1+n]).supportsAccess(a)?i.push({value:a,label:Sr.d("CKSharing.AddParticipants.Private")}):s===a&&i.push({value:a,label:Sr.d("CKSharing.AddParticipants.Private"),isDisabled:!0}),r.internalGet(this,t[1+n]).supportsAccess(o)?i.push({value:o,label:Sr.d("CKSharing.AddParticipants.Public")}):s===o&&i.push({value:o,label:Sr.d("CKSharing.AddParticipants.Public"),isDisabled:!0}),Rd.b.create(i)}}})}),permissionDropdownValue:v.g({dependencies:["share.effectivePermission","permissionValueForAddingParticipants"],readOnly:!0,get:Object.assign((function(){if(this.share){var e=this.share.effectivePermission;return void 0===e?this.permissionValueForAddingParticipants:e}return this.permissionValueForAddingParticipants}),{__CW__getter:function(e,t,n,r){if(this.share){var i=r.internalGetPath(this,t[0+n]);return void 0===i?r.internalGet(this,t[1+n]):i}return r.internalGet(this,t[1+n])}})}),permissionOptions:v.g({dependencies:["share.effectivePermission","settings","settings.supportedPermissions"],readOnly:!0,get:Object.assign((function(){var e=this.settings;if(e){var t=[],n=XR.READ_ONLY,r=XR.READ_WRITE,i=this.share.effectivePermission;return e.supportsPermission(r)?t.push({value:r,label:Sr.d("CKSharing.PermissionsCombo.AllowEditing")}):i===r&&t.push({value:r,label:Sr.d("CKSharing.PermissionsCombo.AllowEditing"),isDisabled:!0}),e.supportsPermission(n)?t.push({value:n,label:Sr.d("CKSharing.PermissionsCombo.ViewOnly")}):i===n&&t.push({value:n,label:Sr.d("CKSharing.PermissionsCombo.ViewOnly"),isDisabled:!0}),i===XR.UNKNOWN&&t.push({value:XR.UNKNOWN,label:Sr.d("CKSharing.PermissionsCombo.Mixed"),isDisabled:!0}),Rd.b.create(t)}}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[1+n]);if(i){var a=[],o=XR.READ_ONLY,s=XR.READ_WRITE,c=r.internalGetPath(this,t[0+n]);return i.supportsPermission(s)?a.push({value:s,label:Sr.d("CKSharing.PermissionsCombo.AllowEditing")}):c===s&&a.push({value:s,label:Sr.d("CKSharing.PermissionsCombo.AllowEditing"),isDisabled:!0}),i.supportsPermission(o)?a.push({value:o,label:Sr.d("CKSharing.PermissionsCombo.ViewOnly")}):c===o&&a.push({value:o,label:Sr.d("CKSharing.PermissionsCombo.ViewOnly"),isDisabled:!0}),c===XR.UNKNOWN&&a.push({value:XR.UNKNOWN,label:Sr.d("CKSharing.PermissionsCombo.Mixed"),isDisabled:!0}),Rd.b.create(a)}}})}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ManageSharePermissionsViewController"}}),tW=zn.a.extend({isCopyLinkDisabled:v.g(!1),isStopSharingDisabled:v.g(!1),isCreatingShortGUID:v.g(!1),permissionValueForAddingParticipants:v.g(),participantsCanAddOthers:v.g(),viewClass:ZV,view:v.g({downstreamBindings:{hasNoDropdowns:"(owner).hasNoDropdowns",isCopyLinkDisabled:"(owner).isCopyLinkDisabled",isLoadingCopyLink:"(owner).isCreatingShortGUID",isStopSharingDisabled:"(owner).isStopSharingDisabled",isExpanded:"(owner).isExpanded",isShareStateUnknown:"(owner).isShareStateUnknown",shouldHideCopyLinkAndStopSharing:"(owner).shouldHideCopyLinkAndStopSharing",shouldHideCopyLinkButton:"(owner).shouldHideCopyLinkButton",shouldShowShareOptions:"(owner).shouldShowShareOptions",summaryTextNoOption:"(owner).summaryTextNoOption",summaryTextWOption:"(owner).summaryTextWOption"}}),permissionsViewController:Er.a.define({viewOutlet:"permissionsView",defaultValue:Me.b(eW),downstreamBindings:{hasNoDropdowns:"(owner).hasNoDropdowns",optionsIsExpanded:"(owner).isExpanded",settings:"(owner).settings",share:"(owner).share",shouldHideAccessDropdown:"(owner).shouldHideAccessDropdown",shouldHidePermissionDropdown:"(owner).shouldHidePermissionDropdown",participantsCanAddOthers:"(owner).participantsCanAddOthers",permissionValueForAddingParticipants:"(owner).permissionValueForAddingParticipants"}}),shouldShowShareOptions:v.g({dependencies:["share.loggedInUserType"],readOnly:!0,get:Object.assign((function(){return this.getPath("share.loggedInUserType")===YR.OWNER}),{__CW__getter:function(e,t,n,r){return r.internalGetPath(this,t[0+n])===YR.OWNER}})}),settings:v.g(),share:v.g(),isShareStateUnknown:v.g(!1),summaryTextWOption:v.g(),summaryTextNoOption:v.g(),shouldHideCopyLinkButton:v.g({dependencies:["share.isPublic"],readOnly:!0,get:Object.assign((function(){return!!this.getPath("share.isPublic")}),{__CW__getter:function(e,t,n,r){return!!r.internalGetPath(this,t[0+n])}})}),isExpanded:v.g(!1),toggleOptions:function(){this.isExpanded=!this.isExpanded},shouldHideAccessDropdown:v.g({readOnly:!0,dependencies:["settings.supportedAccess"],get:Object.assign((function(){var e=this.getPath("settings.supportedAccess");return e&&e.length<2}),{__CW__getter:function(e,t,n,r){var i=r.internalGetPath(this,t[0+n]);return i&&i.length<2}})}),shouldHidePermissionDropdown:v.g({readOnly:!0,dependencies:["settings.supportedPermissions"],get:Object.assign((function(){var e=this.getPath("settings.supportedPermissions");return e&&e.length<2}),{__CW__getter:function(e,t,n,r){var i=r.internalGetPath(this,t[0+n]);return i&&i.length<2}})}),hasNoDropdowns:v.g({readOnly:!0,dependencies:["shouldHideAccessDropdown","shouldHidePermissionDropdown"],get:Object.assign((function(){return this.shouldHideAccessDropdown&&this.shouldHidePermissionDropdown}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])&&r.internalGet(this,t[1+n])}})}),shouldHideCopyLinkAndStopSharing:v.g({readOnly:!0,dependencies:["hasNoDropdowns","isExpanded","shouldShowShareOptions","share","share.effectiveAccess","share.participants","share.participants.contentsDidChange"],get:Object.assign((function(){var e=this.share;return!(this.shouldShowShareOptions&&(this.isExpanded||this.hasNoDropdowns))||null!=e&&e.effectiveAccess===qR.PRIVATE&&1===e.participants.length}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[3+n]);return!(r.internalGet(this,t[2+n])&&(r.internalGet(this,t[1+n])||r.internalGet(this,t[0+n])))||null!=i&&i.effectiveAccess===qR.PRIVATE&&1===i.participants.length}})}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ManageShareOptionsViewController"}}),nW=Ar.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"headerView"},{type:"VIEWOUTLET",tagname:"view",name:"busyView"},{type:"VIEWOUTLET",tagname:"view",name:"offlineView"},{type:"VIEWOUTLET",tagname:"view",name:"contentView"},{type:"VIEWOUTLET",tagname:"view",name:"optionsView"},{type:"ELEMENT",tagname:"footer",children:[{type:"VIEWOUTLET",tagname:"view",name:"doneButton"},{type:"VIEWOUTLET",tagname:"view",name:"actionButton"}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isShareStateUnknown",truevalue:"hidden",attributes:{}}]}],classes:["manage-share-view","sharing-dialog",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isOffline",truevalue:"is-offline",attributes:{}}]},className:"ck-sharing-manage-share-view",__QUALIFIED_CLASS_NAME__:"ManageShareView"},headerView:v.g({defaultValue:Me.b(Ar.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"header",children:[{type:"ELEMENT",tagname:"h1",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{escape:"false"}}]},{type:"ELEMENT",tagname:"h2",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"summaryTextNoOption",attributes:{}}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldShowSubtitle",truevalue:"hidden",attributes:{}}]}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isShareStateUnknown",truevalue:"hidden",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldShowSubtitle",truevalue:"",falsevalue:"has-summary-text",attributes:{}}]}},title:v.g(),shouldShowSubtitle:v.g(),summaryTextNoOption:v.g()})),downstreamBindings:{isShareStateUnknown:"(owner).isShareStateUnknown",shouldShowSubtitle:"(owner).shouldShowSubtitle",title:"(owner).title",summaryTextNoOption:"(owner).summaryTextNoOption"}}),title:v.g(),isCopyLinkDisabled:v.g(!1),isLoadingCopyLink:v.g(!1),share:v.g(),shouldShowSubtitle:v.g({readOnly:!0,dependencies:["share.loggedInUserCanEditShare"],get:Object.assign((function(){return this.getPath("share.loggedInUserCanEditShare")}),{__CW__getter:function(e,t,n,r){return r.internalGetPath(this,t[0+n])}})}),summaryTextWOption:v.g(),summaryTextNoOption:v.g(),actionButton:v.g({readOnly:!0,dependencies:["isLoading","isOffline","share.isPublic","share.loggedInUserCanEditShare"],get:Object.assign((function(){return this.isLoading||this.isOffline?null:this.getPath("share.isPublic")?this.sendLinkButton:this.getPath("share.loggedInUserCanEditShare")?this.addPeopleButton:this.copyLinkButton}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])||r.internalGet(this,t[1+n])?null:r.internalGetPath(this,t[2+n])?this.sendLinkButton:r.internalGetPath(this,t[3+n])?this.addPeopleButton:this.copyLinkButton}})}),addPeopleButton:v.g({readOnly:!0,get:function(){return JD.a.create({action:"goToAddParticipantsUI",title:Sr.d("CKSharing.ManageShare.Button.AddPeople")})}}),sendLinkButton:v.g({readOnly:!0,get:function(){return JD.a.create({action:"sendLink",title:Sr.d("CKSharing.ManageShare.Button.SendLink")})}}),copyLinkButton:v.g({readOnly:!0,get:function(){return JD.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",name:"spinnerView"}],styles:{display:"flex"}}}},isLoading:v.g(!1),spinnerView:v.g({get:function(){return oL.a.create({size:20})},downstreamBindings:{isVisible:"(owner).isLoading"}})}).create({action:"showCopyLink",title:Sr.d("CKSharing.ManageShare.Button.CopyLink")})},downstreamBindings:{isDisabled:"(owner).isCopyLinkDisabled",isLoading:"(owner).isLoadingCopyLink"}}),doneButton:v.g({defaultValue:Me.b(JD.a.extend({title:Sr.d("CKSharing.ManageShare.Button.Close"),action:"complete",keyEquivalent:nk.a.ESC,additionalClassNames:ut.a(["primary"])})),downstreamBindings:{isDisabled:"(owner).isDoneButtonDisabled"}}),busyView:v.g({readOnly:!0,get:function(){return AP.create({description:Sr.d("CKSharing.Busy.LoadingParticipants.Description")})},downstreamBindings:{isVisible:"(owner).isShareStateUnknown"}}),busyDescription:v.g(Sr.d("CKSharing.Busy.LoadingParticipants.Description")),isLoading:v.g(!1),isShareStateUnknown:v.g(!1),isTearingDown:v.g(!1),isDoneButtonDisabled:v.g({readOnly:!0,dependencies:["isLoading","isTearingDown"],get:Object.assign((function(){return this.isLoading||this.isTearingDown}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])||r.internalGet(this,t[1+n])}})}),offlineView:v.g({readOnly:!0,get:function(){return NP.create()},downstreamBindings:{isVisible:"(owner).isOffline"}}),isOffline:v.g(A.a.sharedInstance.bindingFor("isOffline"))}),rW={mixinDependencies:[$.a,Wj],stopSharing:G.a.define(),removeParticipant:G.a.define()},iW=zj.extend(rW,{viewClass:nW,view:v.g({downstreamBindings:{isCopyLinkDisabled:"(owner).isCopyLinkDisabled",isLoadingCopyLink:"(owner).isCreatingShortGUID",isShareStateUnknown:"(owner).isShareStateUnknown",isTearingDown:"(owner).isTearingDown",share:"(owner).share",title:"(owner).settings.manageSharePaneTitle",summaryTextWOption:"(owner).summaryTextWOption",summaryTextNoOption:"(owner).summaryTextNoOption"}}),contentViewController:Er.a.define({viewOutlet:"contentView",defaultValue:Me.b(QV),downstreamBindings:{isShareStateUnknown:"(owner).isShareStateUnknown",shareIsPublic:"(owner).share.isPublic",settings:"(owner).settings",participants:"(owner).share.participants",loggedInUserType:"(owner).share.loggedInUserType",loggedInUserCanEditShare:"(owner).share.loggedInUserCanEditShare"}}),isTearingDown:v.g(!1),isCopyLinkDisabled:v.g({dependencies:["share","share.effectiveAccess","share.participants","share.effectivePermission","settings.appName","isCreatingShortGUID"],readOnly:!0,get:Object.assign((function(){if(this.isCreatingShortGUID)return!0;var e=!1,t=this.share;if(t){var n=this.getPath("settings.appName"),r=["Pages","Numbers","Keynote"].indexOf(n)>-1,i=1===t.participants.length&&t.effectiveAccess===qR.PRIVATE;(void 0===t.effectivePermission||r&&i)&&(e=!0)}else e=!0;return e}),{__CW__getter:function(e,t,n,r){if(r.internalGet(this,t[5+n]))return!0;var i=!1,a=r.internalGet(this,t[0+n]);if(a){var o=r.internalGetPath(this,t[4+n]),s=["Pages","Numbers","Keynote"].indexOf(o)>-1,c=1===a.participants.length&&a.effectiveAccess===qR.PRIVATE;(void 0===a.effectivePermission||s&&c)&&(i=!0)}else i=!0;return i}})}),isCreatingShortGUID:v.g(!1),isStopSharingDisabled:v.g({dependencies:["share","share.effectiveAccess","share.participants","share.participants.contentsDidChange","state"],readOnly:!0,get:Object.assign((function(){var e=this.share;return this.state===Bj.DESTROYING||e&&e.effectiveAccess===qR.PRIVATE&&1===e.participants.length}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return r.internalGet(this,t[4+n])===Bj.DESTROYING||i&&i.effectiveAccess===qR.PRIVATE&&1===i.participants.length}})}),isShareStateUnknown:v.g({dependencies:["isDestroying","isLoading"],readOnly:!0,get:Object.assign((function(){return this.isDestroying||this.isLoading}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])||r.internalGet(this,t[1+n])}})}),optionsViewController:Er.a.define({viewOutlet:"optionsView",defaultValue:Me.b(tW),downstreamBindings:{share:"(owner).share",settings:"(owner).settings",isCopyLinkDisabled:"(owner).isCopyLinkDisabled",isStopSharingDisabled:"(owner).isStopSharingDisabled",isShareStateUnknown:"(owner).isShareStateUnknown",summaryTextWOption:"(owner).summaryTextWOption",summaryTextNoOption:"(owner).summaryTextNoOption",permissionValueForAddingParticipants:"(owner).permissionValueForAddingParticipants",participantsCanAddOthers:"(owner).participantsCanAddOthers",isCreatingShortGUID:"(owner).isCreatingShortGUID"}}),_generateConfirmationStrings:function(e){var t,n,r="CKSharing.ConfirmationDialog."+e+".",i=this.settings,a=i.shareItemType,o=i.shareTitle;t=Sr.d(r+"Message."+a);var s=r+"Description."+a;return"CloudKit"===a?o?(s+=".WithTitle",n=Sr.d(s,{shareTitle:o})):(s+=".WithoutTitle",n=Sr.d(s)):n=Sr.d(s),{message:t,description:n}},confirmStopSharing:function(){var e=this._generateConfirmationStrings("StopSharing");Jf.a.show({iconNames:"ck-sharing-icon",message:e.message,description:e.description,primaryButton:{title:Sr.d("CKSharing.Dialog.Button.OK"),target:this,action:"stopSharing"},alternateButton:{title:Sr.d("CKSharing.Dialog.Button.Cancel")}})},stopSharing:async function(){var e=this.settings,t=this.share;this._state=Bj.DESTROYING;var n=Fj({operationType:"DESTROY",appName:e.shareItemType,interactionMode:e.primaryInteractionMode},e.notificationService,e.logService),r=t.getDataHash(),i={didUpdateRootRecord:e.didUpdateRootRecord,didUpdateShareRecord:e.didUpdateShareRecord},a=await this.ioService.deleteShare(r,i);if(a.ok)return this._loadShareFromDataHash(a.value),this._state=Bj.DESTROYED,this.sendEvent("shareWasDeleted",this.share,!0),a.value;this._state=Bj.LOADED,n(a.error)},confirmRemoveParticipant:function(e){var t=void 0;e.isMe?t=this._generateConfirmationStrings("RemoveYourself"):this.getPath("share.loggedInUserCanEditShare")?2===this.getPath("share.participants.length")?t={message:Sr.d("CKSharing.ConfirmationDialog.RemoveFinalParticipant.Message",{name:e.displayName}),description:Sr.d("CKSharing.ConfirmationDialog.RemoveFinalParticipant.Description")}:this.removeParticipant(e):Xn.b("Should not have attempted to remove participants from share for user"),t&&Jf.a.show({iconNames:"ck-sharing-icon",message:t.message,description:t.description,primaryButton:{title:Sr.d("CKSharing.Dialog.Button.OK"),target:this,action:"userDidConfirmParticipantRemoval",participant:e},alternateButton:{title:Sr.d("CKSharing.Dialog.Button.Cancel")}})},confirmSetEffectiveAccessToPrivate:function(){var e,t="CKSharing.ConfirmationDialog.PublicToPrivate.Description.",n=this.settings.shareItemType,r=this.settings.shareTitle;t+=n,"CloudKit"===n?r?(t+=".WithTitle",e=Sr.d(t,{shareTitle:r})):(t+=".WithoutTitle",e=Sr.d(t)):e=Sr.d(t),Jf.a.show({iconNames:"ck-sharing-icon",message:Sr.d("CKSharing.ConfirmationDialog.PublicToPrivate.Message"),description:e,primaryButton:{title:Sr.d("CKSharing.Dialog.Button.OK"),target:this,action:"_setEffectiveAccessToPrivate"},alternateButton:{title:Sr.d("CKSharing.Dialog.Button.Cancel")}})},setEffectiveAccess:function(e){var t=this.share.effectiveAccess,n=qR.PRIVATE;t===qR.PUBLIC&&e===n?this.confirmSetEffectiveAccessToPrivate():(this.share.setEffectiveAccess(e,this.settings.defaultPermission),this.updateShare())},setEffectivePermission:function(e){var t=this.share;t.setEffectivePermission(e),this.permissionValueForAddingParticipants=e,t.effectivePermission&&this.updateShare()},userDidConfirmParticipantRemoval:function(e){this.removeParticipant(e.participant)},removeParticipant:async function(e){var t=this.share;if(!e.isMe){var n=t.findEquivalentParticipant(e);return t.participants.remove(n),this.permissionValueForAddingParticipants=Ej(t.effectivePermission,this.settings.supportedPermissions),this.updateShare()}var r=this.settings,i=Fj({operationType:"DESTROY",appName:r.shareItemType,interactionMode:r.primaryInteractionMode},r.notificationService,r.logService),a={didUpdateRootRecord:r.didUpdateRootRecord,didUpdateShareRecord:r.didUpdateShareRecord},o=t.getDataHash(),s=await this.ioService.deleteShare(o,a);if(s.ok)return this._loadShareFromDataHash(s.value),this._state=Bj.DESTROYED,this.sendEvent("itemIsNoLongerSharedWithMe",this.share,!0),this.share;this._state=Bj.LOADED,i(s.error)},participantPermissionDidChange:function(e){var t=this.share;return t.participantPermissionChanged(),this.permissionValueForAddingParticipants=Ej(t.effectivePermission,this.settings.supportedPermissions),this.updateShare()},participantTypeDidChange:function(e){var t=this;return this.retain(this,"this - participantTypeDidChange"),this.updateShare().finally((function(e){t.share&&t.share.participantTypesChanged(),t.release.bind(t,t,"this - participantTypeDidChange")}))},participantPermissionAndTypeDidChange:function(e){return b.a.all([this.participantPermissionDidChange(e),this.participantTypeDidChange(e)])},adminCheckBoxDidChange:function(e){var t=this,n=e?YR.ADMINISTRATOR:YR.USER;return this.share?(this.share.setTypesOnParticipants(n),this.retain(this,"this - adminCheckBoxDidChange"),this.updateShare().finally((function(e){t.share&&t.share.participantTypesChanged(),t.release.bind(t,t,"this - adminCheckBoxDidChange")}))):b.a.resolve()},participantsCanAddOthers:v.g({readOnly:!0,dependencies:["share","share.commonParticipantsType","share.participantTypesChanged"],get:Object.assign((function(){if(!this.share)return!1;switch(this.share.commonParticipantsType){case YR.OWNER:case YR.ADMINISTRATOR:return!0;case YR.USER:return!1;default:return null}}),{__CW__getter:function(e,t,n,r){if(!r.internalGet(this,t[0+n]))return!1;switch(r.internalGetPath(this,t[1+n])){case YR.OWNER:case YR.ADMINISTRATOR:return!0;case YR.USER:return!1;default:return null}}})}),_setEffectiveAccessToPrivate:async function(){this.setIsReadyToTerminateBlock("_setEffectiveAccessToPrivate");var e=this.share,t=this.settings,n=this.cacheingProvideRootRecordFunction;e.setEffectiveAccess(qR.PRIVATE,t.defaultAccess);for(var r=e.participants||[],i=r.length-1;i>=0;i--)r.objectAt(i).isOwner||r.removeAt(i);this._state=Bj.LOADED_SAVING;var a,o={didUpdateRootRecord:t.didUpdateRootRecord,didUpdateShareRecord:t.didUpdateShareRecord,provideRootRecordForUpdate:n,provideLatestRootRecordAfterUpdateConflict:t.provideLatestRootRecordAfterUpdateConflict},s=Fj({operationType:"UPDATE",appName:t.shareItemType,interactionMode:t.primaryInteractionMode},t.notificationService,t.logService);try{a=await n()}catch(u){s(u)}var c,l=await this.ioService.convertToPrivateShare(e.getDataHash(),a,o);return l.ok?(this._loadShareFromDataHash(l.value),this.sendEvent("shareWasUpdated",this.share,!0),c=l.value):s(l.error),this.isDestroying||(this._state=Bj.LOADED),this.removeIsReadyToTerminateBlock("_setEffectiveAccessToPrivate"),c},goToAddParticipantsUI:function(){var e=this.share;if(!e||e.isPublic)return!1;var t=(e&&e.participants&&e.participants.length||0)-1,n=this.settings.maxNumberOfInvitees;return!!(n&&t>=n)&&(this.displayCKSharingErrorDialog("AddingParticipants.TOO_MANY_INVITEES"),!0)},_loadAddressBookForOwner:v.h("share.owner","settings","settings.contactsService",(function(e,t){e&&t&&t.contactsService&&e.loadAddressBookContact(t.contactsService)})),staticMembers:{__QUALIFIED_CLASS_NAME__:"ManageShareViewController"}}),aW=function(){function e(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;this.processBatch=void 0,this.delayMs=void 0,this.maxBatchSize=void 0,this.pending=[],this.timeoutId=void 0,this.flushInternal=function(){n.timeoutId=void 0,n.pending.length&&(n.processBatch(n.pending.splice(0,Math.min(n.pending.length,n.maxBatchSize))),n.pending.length&&(n.timeoutId=setTimeout(n.flushInternal,n.delayMs)))},this.processBatch=e,this.delayMs=t,this.maxBatchSize=r}var t=e.prototype;return t.request=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new Promise((function(t){void 0===e.timeoutId?(e.processBatch([{args:n,resolve:t}]),e.timeoutId=setTimeout(e.flushInternal,e.delayMs)):e.pending.push({args:n,resolve:t})}))},t.flush=function(){clearTimeout(this.timeoutId),this.flushInternal()},e}(),oW=function(e,t,n,r){var i=uW({shareRecordName:n,database:e,zoneIDHash:t,delegate:r}),a=_W(e,t,n),o=a?Promise.resolve(fg.Result.success(a)):function(e,t){var n=fW(e,t),r=gW.get(n);if(r)return r;var i=new aW((function(n){var r=Array.from(new Set(n.map((function(e){return e.args[0]})))[Symbol.iterator]()).map((function(e){return{recordName:e}}));bW(e,t,r).then((function(e){if(e.response&&e.response.hasErrors||!e.records)n.forEach((function(e){(0,e.resolve)({response:{hasErrors:!0}})}));else{var t=new Map(e.records.map((function(e){return[e.recordName,e]})));n.forEach((function(n){var r=n.args[0],i=n.resolve;t.has(r)?i(Object.assign({},e,{records:[t.get(r)]})):i({response:{hasErrors:!0}})}))}}))}),100,200);return gW.set(n,i),i}(e,t).request(n).then((function(e){return e.response&&e.response.hasErrors||!e.records?fg.Result.failure():fg.Result.success(e.records[0])}));return[i,o]},sW=function(e){return dW(e)},cW=0,lW=new Map,uW=function(e){var t=cW++;return lW.set(t,e),EW(),t},dW=function(e){return lW.delete(e)},hW=new Map,fW=function(e,t){var n=t.ownerRecordName?"::"+t.ownerRecordName:"";return e.containerIdentifier+"::"+e.databaseScope+"::"+t.zoneName+n},pW=function(e,t){var n=fW(e,t),r=hW.get(n);if(r)return r;var i=bW.bind(null,e,t);return hW.set(n,i),i},gW=new Map,mW=new Map,vW=function(e,t,n){return e.containerIdentifier+"::"+e.databaseScope+"::"+t.zoneName+"::"+n},yW=function(e,t,n,r){return mW.set(vW(e,t,n),r)},_W=function(e,t,n){return mW.get(vW(e,t,n))};function bW(e,t,n){return e.fetchRecords(n,{zoneID:t}).catch(Nj).then(Mj).catch((function(e){return e})).then((function(n){return!(n.response&&n.response.hasErrors)&&n.records&&n.records.forEach((function(n){return yW(e,t,n.recordName,n)})),n}))}var wW,SW=!1,EW=function e(){if(!0!==SW){SW=!0;var t=function(){return 0!==lW.size};setTimeout((function(){!0===t()?function(){var e=new Map;for(var t of lW){var n=t[0],r=t[1],i=pW(r.database,r.zoneIDHash);e.has(i)?e.get(i).push([n,r]):e.set(i,[[n,r]])}var a=[],o=function(){var e=s[0],t=s[1],n=t.map((function(e){return e[0],{recordName:e[1].shareRecordName}})),r=new Map(t.map((function(e){e[0];var t=e[1];return[t.shareRecordName,_W(t.database,t.zoneIDHash,t.shareRecordName)]}))),i=e(n).then((function(e){var n,i;return e.response&&e.response.hasErrors||!e.records?null:(n=e.records,i=t,n.map((function(e,t){return[e,i[t]]}))).filter((function(e,t){var n=e[0],i=(e[1],r.get(n.recordName));return!!i&&i.recordChangeTag!==n.recordChangeTag}))}));a.push(i)};for(var s of e)o();return Promise.all(a).then((function(e){return e.filter((function(e){return null!==e})).reduce((function(e,t){return[...e,...t]}),[])}))}().then((function(n){n.forEach((function(e){var t=e[0],n=e[1],r=n[0],i=n[1];lW.has(r)&&i.delegate.shareWasUpdated(t)})),SW=!1,!0===t()&&e()})):SW=!1}),23e3)}},IW=SV.extend({watchHandle:null,stopWatchingForChanges:function(){sW(this.watchHandle)},startWatchingForChanges:function(){this.stopWatchingForChanges();var e=this.share;if(e){var t=this.ioService,n=oW(t.database,t.zoneID,e.recordName,this);this.watchHandle=n[0]}},shareWasUpdated:function(e){var t=this.share.getDataHash();yt.a(t)&&t.recordChangeTag===e.recordChangeTag||(this.share.replaceData(e),this.share.participants.forEach((function(e){e.propertyChanged("userIdentity")})),"function"===typeof this.settings.didUpdateShareRecord&&this.settings.didUpdateShareRecord(e))},participantsMenuWillShow:function(){this.isAttached&&this.stopWatchingForChanges()},participantsMenuWillHide:function(){this.isAttached&&this.startWatchingForChanges()},copyLinkViewControllerClass:y.c({readOnly:!0,defaultValue:nU}),manageShareViewController:v.g({strong:!0,get:function(){return iW.create({cacheingProvideRootRecordFunction:this.cacheingProvideRootRecordFunction})},downstreamBindings:{ioService:"(owner).ioService",settings:"(owner).settings",share:"(owner).share",permissionValueForAddingParticipants:"(owner).permissionValueForAddingParticipants"}}),complete:function(){var e=this;this.manageShareViewController.isTearingDown=!0;var t=this.share;t&&t.isPrivate&&1===t.participants.length?(this.manageShareViewController.stopSharing(),this.ioService.shutdown()):this.ioService.shutdown().finally((function(){e.didComplete()}))},didComplete:function(){this.stopWatchingForChanges(),this.__s._$1UH$didComplete.apply(this,arguments)},cancel:function(){this.stopWatchingForChanges(),this.__s._$1Vh$cancel.apply(this,arguments)},start:function(){var e=this;this.showListUI().then((function(){e.isDisposed||e.startWatchingForChanges()})).catch((function(t){e.cancel(t)}));var t=this.settings;return t.logService.recordStat("StartedManageShareWorkflow",{appName:t.appName}),this.ioService.start().then((function(){return e._promise}))},showListUI:function(){var e=this.manageShareViewController;return this.showViewController(e),e.setUp()},goToAddParticipantsUI:function(){var e=this,t=this.activeViewController,n=CV.create(this.ioService,this.cacheingProvideRootRecordFunction,this.settings,{share:this.bindingFor("share"),permissionValueForAddingParticipants:this.permissionValueForAddingParticipants});n.start().then((function(){e.showViewController(t)})).catch((function(t){e.cancel(t)})),this.showViewController(n)},didCompleteCopyLink:function(){this.didComplete()},showCopyLink:async function(){var e=this.settings,t=this.share,n=this.ioService,r=e.provideLinkRecord,i=e.notificationService;this.manageShareViewController.isCreatingShortGUID=!0;var a=await r(),o=await CW(a,e,n);if(o.ok){var s=o.value?bj.create(Object.assign({},t.getDataHash(),{shortGUID:o.value})):null,c=this.createBoundCopyLinkViewController(s);this.showViewController(c)}else i.error("UNABLE_TO_ACQUIRE_LINK",{locNamespace:"CKSharing.ErrorDialog.CopyLink"});this.manageShareViewController.isCreatingShortGUID=!1},sendLink:function(){var e=this.getPath("settings.supportedTransports");e&&e.length>1?this.goToAddParticipantsUI():this.showCopyLink()},itemIsNoLongerSharedWithMe:function(e,t){this.nextResponder&&this.nextResponder.sendEvent("itemIsNoLongerSharedWithMe",e,t),this.didComplete()},shareWasDeleted:function(e,t){this.share=e,this.nextResponder&&this.nextResponder.sendEvent("shareWasDeleted",e,t),this.didComplete()},createBoundCopyLinkViewController:function(e){var t=e||this.bindingFor("share"),n=this.bindingFor("settings");return this.copyLinkViewControllerClass.create({settings:n,share:t})},__superMap:{_$1UH$didComplete:"didComplete",_$1Vh$cancel:"cancel"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ManageShareWorkflowViewController"}}),CW=async function(e,t,n){var r=e.ok,i=e.data,a=ol.a(i,"shortGUID"),o=!r,s=!yt.a(i),c=yt.a(a),l=o?e:s?fg.Result.success(null):c?fg.Result.success(a):await async function(){var e=await n.createShortGUID(i,{didUpdateRootRecord:t.didUpdateLinkRecord,provideLatestRootRecordAfterUpdateConflict:t.provideLatestLinkRecordAfterConflict});return e.ok?e.value.shortGUID?fg.Result.success(e.value.shortGUID):fg.Result.failure():fg.Result.failure(e.error)}();return Promise.resolve(l)},OW={mixinDependencies:[$.a],info:G.a.define(),warn:G.a.define(),error:G.a.define()},TW={},AW=oe.a.extend(OW,{info:function(e,t){NW(e,t,"ck-sharing-icon")},warn:function(e,t){NW(e,t,"ck-sharing-warn-icon")},error:function(e,t){NW(e,t,"ck-sharing-error-icon")},staticMembers:{__QUALIFIED_CLASS_NAME__:"UserNotificationService"}});function NW(e,t,n){var r=yt.a(t)?t:TW,i=r.locNamespace?r.locNamespace+".":"",a=r.interactionMode===sj.TOUCH?"Compact":"Expanded",o=function(e,t){return Sr.d(t,e)},s=tU(o.bind(null,r.messageFormatValues),[i+e+"."+(r.messageLocSuffix||"Message")+"."+a,i+e+"."+(r.messageLocSuffix||"Message")]),c=tU(o.bind(null,r.descriptionFormatValues),[i+(r.descriptionKey||e)+"."+(r.descriptionLocSuffix||"Description")+"."+a,i+(r.descriptionKey||e)+"."+(r.descriptionLocSuffix||"Description")]);void 0===c&&(c=null);var l=r.primaryButtonConfig,u=r.alternateButtonConfig;l||u||(l={keyEquivalent:[nk.a.ESC,nk.a.RETURN],title:Sr.d("CKSharing.ErrorDialog.OKButton.Title")});var d=Jf.a.create({iconNames:n,message:s,description:c,primaryButton:l,alternateButton:u,alertStyle:r.alertStyle});d._appendedContentController=d.contentController,dt.application.presentViewController(d)}function MW(e,t){if(e){var n=(e=e.view||e).element||e;if(n){var r=n.view&&t(n.view);if(r)return r;for(var i=n.firstChild;i;i=i.nextSibling)if(r=MW(i,t))return r}}}function DW(e){var t=MW(e,(function(e){if(e.isFocusable)return e}));if(t){t.focus();var n=t.element;n&&n.focus&&n.focus()}}function RW(e){return(wW||xW())[e]}var LW,kW,xW=function(){var e;return(e={})[JR.NATIVE_MAIL]={transportValue:JR.NATIVE_MAIL,displayName:Sr.d("CKSharing.AddParticipants.Transports.EmailButton.Title"),iconMouse2x:n(1511),iconMouse1x:n(1512),iconTouch3x:n(1513),iconTouch2x:n(1514),iconTouch1x:n(1515),bestIconSizeMouse:74,bestIconSizeTouch:32},e[JR.WEB_MAIL]={transportValue:JR.WEB_MAIL,displayName:Sr.d("CKSharing.AddParticipants.Transports.EmailButton.Title"),iconMouse2x:n(1511),iconMouse1x:n(1512),iconTouch3x:n(1513),iconTouch2x:n(1514),iconTouch1x:n(1515),bestIconSizeMouse:74,bestIconSizeTouch:32},e[JR.SCHOOLWORK]={transportValue:JR.SCHOOLWORK,displayName:Sr.d("CKSharing.AddParticipants.Transports.SchoolworkButton.Title"),iconMouse2x:n(1516),iconMouse1x:n(1517),iconTouch3x:void 0,iconTouch2x:void 0,iconTouch1x:void 0,bestIconSizeMouse:74,bestIconSizeTouch:32},e[JR.COPY_LINK]={transportValue:JR.COPY_LINK,displayName:Sr.d("CKSharing.AddParticipants.Transports.CopyLinkButton.Title"),iconMouse2x:n(1518),iconMouse1x:n(1519),iconTouch3x:n(1520),iconTouch2x:n(1521),iconTouch1x:n(1522),bestIconSizeMouse:74,bestIconSizeTouch:32},wW=e};!function(e){e.STARTUP_PENDING="STARTUP_PENDING",e.STARTUP_RESOLVED="STARTUP_RESOLVED",e.STARTUP_REJECTED="STARTUP_REJECTED",e.SHUTDOWN_PENDING="SHUTDOWN_PENDING",e.SHUTDOWN_REJECTED="SHUTDOWN_REJECTED",e.IDLE="IDLE",e.RUNNING="RUNNING",e.SHUTDOWN="SHUTDOWN",e.CREATE_SHARE_PENDING="CREATE_SHARE_PENDING",e.CREATE_SHARE_RESOLVED="CREATE_SHARE_RESOLVED",e.CREATE_SHARE_REJECTED="CREATE_SHARE_REJECTED",e.FETCH_SHARE_PENDING="FETCH_SHARE_PENDING",e.FETCH_SHARE_RESOLVED="FETCH_SHARE_RESOLVED",e.FETCH_SHARE_REJECTED="FETCH_SHARE_REJECTED",e.SAVE_SHARE_PENDING="SAVE_SHARE_PENDING",e.SAVE_SHARE_RESOLVED="SAVE_SHARE_RESOLVED",e.SAVE_SHARE_REJECTED="SAVE_SHARE_REJECTED",e.DELETE_SHARE_PENDING="DELETE_SHARE_PENDING",e.DELETE_SHARE_RESOLVED="DELETE_SHARE_RESOLVED",e.DELETE_SHARE_REJECTED="DELETE_SHARE_REJECTED",e.CREATE_SHORT_GUID_PENDING="CREATE_SHORT_GUID_PENDING",e.CREATE_SHORT_GUID_RESOLVED="CREATE_SHORT_GUID_RESOLVED",e.CREATE_SHORT_GUID_REJECTED="CREATE_SHORT_GUID_REJECTED"}(LW||(LW={})),function(e){e.RETURN_TO_RUNNING="RETURN_TO_RUNNING",e.STARTUP="STARTUP",e.RESOLVE_STARTUP="RESOLVE_STARTUP",e.REJECT_STARTUP="REJECT_STARTUP",e.SHUTDOWN="SHUTDOWN",e.RESOLVE_SHUTDOWN="RESOLVE_SHUTDOWN",e.REJECT_SHUTDOWN="REJECT_SHUTDOWN",e.CREATE_SHARE="CREATE_SHARE",e.RESOLVE_CREATE_SHARE="RESOLVE_CREATE_SHARE",e.REJECT_CREATE_SHARE="REJECT_CREATE_SHARE",e.FETCH_SHARE="FETCH_SHARE",e.RESOLVE_FETCH_SHARE="RESOLVE_FETCH_SHARE",e.REJECT_FETCH_SHARE="REJECT_FETCH_SHARE",e.SAVE_SHARE="SAVE_SHARE",e.RESOLVE_SAVE_SHARE="RESOLVE_SAVE_SHARE",e.REJECT_SAVE_SHARE="REJECT_SAVE_SHARE",e.CREATE_SHORT_GUID="CREATE_SHORT_GUID",e.RESOLVE_CREATE_SHORT_GUID="RESOLVE_CREATE_SHORT_GUID",e.REJECT_CREATE_SHORT_GUID="REJECT_CREATE_SHORT_GUID",e.ADD_PARTICIPANTS="ADD_PARTICIPANTS",e.SET_PARTICIPANTS_PERMISSION="SET_PARTICIPANTS_PERMISSION",e.SET_PARTICIPANTS_ACCESS="SET_PARTICIPANTS_ACCESS",e.SET_PARTICIPANTS_TYPE="SET_PARTICIPANTS_TYPE"}(kW||(kW={}));var FW,PW={forRecord:void 0,publicPermission:XR.NONE,recordType:"cloudkit.share",participants:[],fields:{}},jW={status:LW.IDLE,share:PW,knownShareServerState:void 0,asyncEffect:void 0,error:void 0,selectedAccessValue:qR.PRIVATE,selectedPermissionValue:XR.READ_WRITE,selectedTypeValue:YR.ADMINISTRATOR};!function(e){e.INITIATE_SHARE="INITIATE_SHARE",e.MANAGE_SHARE="MANAGE_SHARE"}(FW||(FW={}));function UW(e){return e===XR.NONE?qR.PRIVATE:qR.PUBLIC}function BW(e){return UW(e)===qR.PUBLIC}function VW(e,t,n){if(e!==XR.NONE)return e;if(1===t.length)return n;var r;for(var i of t)if(i.type!==YR.OWNER){if(r&&r!==i.permission){r=XR.UNKNOWN;break}r=i.permission}return void 0===r?n:r}function WW(e){if(e.recordName){var t=e.participants.find((function(t){var n="userRecordName"in t.userIdentity&&t.userIdentity.userRecordName,r="currentUserParticipant"in e&&e.currentUserParticipant&&e.currentUserParticipant.userIdentity.userRecordName;return n&&r&&n===r}));return t?t.type:YR.OWNER}return YR.OWNER}function zW(e,t,n,r){var i=BW(e.publicPermission),a=WW(Object.assign(Object.assign({},e),{participants:t})),o=!i&&n===XR.READ_WRITE&&a===YR.OWNER,s=i?n:e.publicPermission,c=i?e.participants:t.map((function(e){return Object.assign(Object.assign({},e),{permission:n,type:o?r:e.type})}));return Object.assign(Object.assign({},e),{publicPermission:s,participants:RB(c)})}var HW=function(e){return function(t,n){switch(n.type){case kW.STARTUP:return t.status===LW.STARTUP_PENDING?t:{status:LW.STARTUP_PENDING,share:t.share,knownShareServerState:t.knownShareServerState,error:void 0,asyncEffect:function(){return e.start()},selectedAccessValue:t.selectedAccessValue,selectedPermissionValue:t.selectedPermissionValue,selectedTypeValue:t.selectedTypeValue};case kW.RESOLVE_STARTUP:return{status:LW.STARTUP_RESOLVED,share:t.share,knownShareServerState:t.knownShareServerState,error:void 0,asyncEffect:void 0,selectedAccessValue:t.selectedAccessValue,selectedPermissionValue:t.selectedPermissionValue,selectedTypeValue:t.selectedTypeValue};case kW.REJECT_STARTUP:return{status:LW.STARTUP_REJECTED,share:t.share,knownShareServerState:t.knownShareServerState,error:void 0,asyncEffect:void 0,selectedAccessValue:t.selectedAccessValue,selectedPermissionValue:t.selectedPermissionValue,selectedTypeValue:t.selectedTypeValue};case kW.SHUTDOWN:return t.status===LW.SHUTDOWN_PENDING?t:{status:LW.SHUTDOWN_PENDING,share:t.share,knownShareServerState:t.knownShareServerState,error:void 0,asyncEffect:function(){return e.shutdown()},selectedAccessValue:t.selectedAccessValue,selectedPermissionValue:t.selectedPermissionValue,selectedTypeValue:t.selectedTypeValue};case kW.RESOLVE_SHUTDOWN:return{status:LW.SHUTDOWN,share:t.share,knownShareServerState:t.knownShareServerState,error:void 0,asyncEffect:void 0,selectedAccessValue:t.selectedAccessValue,selectedPermissionValue:t.selectedPermissionValue,selectedTypeValue:t.selectedTypeValue};case kW.REJECT_SHUTDOWN:return{status:LW.SHUTDOWN_REJECTED,share:t.share,knownShareServerState:t.knownShareServerState,error:void 0,asyncEffect:void 0,selectedAccessValue:t.selectedAccessValue,selectedPermissionValue:t.selectedPermissionValue,selectedTypeValue:t.selectedTypeValue};case kW.CREATE_SHARE:return t.status===LW.CREATE_SHARE_PENDING?t:{status:LW.CREATE_SHARE_PENDING,share:t.share,knownShareServerState:t.knownShareServerState,error:void 0,asyncEffect:function(){return function(e,t,n){return r=this,i=void 0,o=function*(){var r,i=Object.assign({},t);if(r=yield n.provideRootRecordForUpdate(),!i.shortGUID){var a=yield e.createShortGUID(r,n);if(!a.ok)return a;r=a.value,i.shortGUID=a.value.shortGUID}return i.forRecord=r,e.createShare(i,n)},new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{c(o.next(e))}catch(n){t(n)}}function s(e){try{c(o.throw(e))}catch(n){t(n)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof a?r:new a((function(e){e(r)}))).then(n,s)}c((o=o.apply(r,i||[])).next())}));var r,i,a,o}(e,t.share,n.options)},selectedAccessValue:t.selectedAccessValue,selectedPermissionValue:t.selectedPermissionValue,selectedTypeValue:t.selectedTypeValue};case kW.RESOLVE_CREATE_SHARE:return{status:LW.CREATE_SHARE_RESOLVED,share:n.payload,knownShareServerState:n.payload,error:void 0,asyncEffect:void 0,selectedAccessValue:t.selectedAccessValue,selectedPermissionValue:t.selectedPermissionValue,selectedTypeValue:t.selectedTypeValue};case kW.REJECT_CREATE_SHARE:return{status:LW.CREATE_SHARE_REJECTED,share:t.share,knownShareServerState:t.knownShareServerState,error:n.error,asyncEffect:void 0,selectedAccessValue:t.selectedAccessValue,selectedPermissionValue:t.selectedPermissionValue,selectedTypeValue:t.selectedTypeValue};case kW.FETCH_SHARE:return t.status===LW.FETCH_SHARE_PENDING?t:{status:LW.FETCH_SHARE_PENDING,share:t.share,knownShareServerState:t.knownShareServerState,error:void 0,asyncEffect:function(){return e.fetchShareRecord(n.recordName)},selectedAccessValue:t.selectedAccessValue,selectedPermissionValue:t.selectedPermissionValue,selectedTypeValue:t.selectedTypeValue};case kW.RESOLVE_FETCH_SHARE:return{status:LW.FETCH_SHARE_RESOLVED,share:n.payload,knownShareServerState:n.payload,error:void 0,asyncEffect:void 0,selectedAccessValue:t.selectedAccessValue,selectedPermissionValue:t.selectedPermissionValue,selectedTypeValue:t.selectedTypeValue};case kW.REJECT_FETCH_SHARE:return{status:LW.FETCH_SHARE_REJECTED,share:t.share,knownShareServerState:t.knownShareServerState,error:n.error,asyncEffect:void 0,selectedAccessValue:t.selectedAccessValue,selectedPermissionValue:t.selectedPermissionValue,selectedTypeValue:t.selectedTypeValue};case kW.RESOLVE_SAVE_SHARE:return t.status===LW.SAVE_SHARE_RESOLVED?t:{status:LW.SAVE_SHARE_RESOLVED,share:n.payload,knownShareServerState:n.payload,error:void 0,asyncEffect:void 0,selectedAccessValue:t.selectedAccessValue,selectedPermissionValue:t.selectedPermissionValue,selectedTypeValue:t.selectedTypeValue};case kW.REJECT_SAVE_SHARE:return{status:LW.SAVE_SHARE_REJECTED,share:t.knownShareServerState,knownShareServerState:t.knownShareServerState,error:n.error,asyncEffect:void 0,selectedAccessValue:t.selectedAccessValue,selectedPermissionValue:t.selectedPermissionValue,selectedTypeValue:t.selectedTypeValue};case kW.CREATE_SHORT_GUID:return t.status===LW.CREATE_SHORT_GUID_PENDING?t:{status:LW.CREATE_SHORT_GUID_PENDING,share:t.share,knownShareServerState:t.knownShareServerState,error:void 0,asyncEffect:function(){return function(e,t){return n=this,r=void 0,a=function*(){var n;return n=yield t.provideRootRecordForUpdate(),e.createShortGUID(n,t)},new((i=void 0)||(i=Promise))((function(e,t){function o(e){try{c(a.next(e))}catch(n){t(n)}}function s(e){try{c(a.throw(e))}catch(n){t(n)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(o,s)}c((a=a.apply(n,r||[])).next())}));var n,r,i,a}(e,n.options)},selectedAccessValue:t.selectedAccessValue,selectedPermissionValue:t.selectedPermissionValue,selectedTypeValue:t.selectedTypeValue};case kW.RESOLVE_CREATE_SHORT_GUID:var r=Object.assign(Object.assign({},t.share),{shortGUID:n.payload.shortGUID});return{status:LW.CREATE_SHORT_GUID_RESOLVED,share:r,knownShareServerState:n.payload,error:void 0,asyncEffect:void 0,selectedAccessValue:t.selectedAccessValue,selectedPermissionValue:t.selectedPermissionValue,selectedTypeValue:t.selectedTypeValue};case kW.REJECT_CREATE_SHORT_GUID:return{status:LW.CREATE_SHORT_GUID_REJECTED,share:t.share,knownShareServerState:t.knownShareServerState,error:n.error,asyncEffect:void 0,selectedAccessValue:t.selectedAccessValue,selectedPermissionValue:t.selectedPermissionValue,selectedTypeValue:t.selectedTypeValue};case kW.ADD_PARTICIPANTS:var i;if(BW(t.share.publicPermission))i=t.share;else{var a=n.invitees.map((function(e){return{userIdentity:e.userIdentity,permission:t.selectedPermissionValue,type:t.selectedTypeValue}}));i=zW(t.share,a,t.selectedPermissionValue,t.selectedTypeValue)}return{status:LW.RUNNING,share:i,knownShareServerState:t.knownShareServerState,error:void 0,asyncEffect:void 0,selectedAccessValue:t.selectedAccessValue,selectedPermissionValue:t.selectedPermissionValue,selectedTypeValue:t.selectedTypeValue};case kW.SET_PARTICIPANTS_ACCESS:var o=function(e,t,n){if(t===qR.PRIVATE)return Object.assign(Object.assign({},e),{publicPermission:XR.NONE});var r=VW(e.publicPermission,e.participants,n),i=e.participants.reduce((function(e,t){return"acceptanceStatus"in t&&t.acceptanceStatus===_j.ACCEPTED&&(t.type!==YR.OWNER&&(t.permission=r),e.push(t)),e}),[]);return Object.assign(Object.assign({},e),{publicPermission:r,participants:i})}(t.share,n.access,t.selectedPermissionValue);return{status:LW.RUNNING,share:o,knownShareServerState:t.knownShareServerState,error:void 0,asyncEffect:void 0,selectedAccessValue:n.access,selectedPermissionValue:t.selectedPermissionValue,selectedTypeValue:t.selectedTypeValue};case kW.SET_PARTICIPANTS_PERMISSION:var s=zW(t.share,t.share.participants,n.permission,t.selectedTypeValue);return{status:LW.RUNNING,share:s,knownShareServerState:t.knownShareServerState,error:void 0,asyncEffect:void 0,selectedAccessValue:t.selectedAccessValue,selectedPermissionValue:n.permission,selectedTypeValue:t.selectedTypeValue};case kW.SET_PARTICIPANTS_TYPE:var c=zW(t.share,t.share.participants,t.selectedPermissionValue,n.participantType);return{status:LW.RUNNING,share:c,knownShareServerState:t.knownShareServerState,error:void 0,asyncEffect:void 0,selectedAccessValue:t.selectedAccessValue,selectedPermissionValue:t.selectedPermissionValue,selectedTypeValue:n.participantType};case kW.RETURN_TO_RUNNING:return{status:LW.RUNNING,share:t.share,knownShareServerState:t.knownShareServerState,error:void 0,asyncEffect:void 0,selectedAccessValue:t.selectedAccessValue,selectedPermissionValue:t.selectedPermissionValue,selectedTypeValue:t.selectedTypeValue};default:throw new Error("Unsupported action: "+n.type)}}};function GW(e,t){var n=am(),r=Object(Re.useReducer)(e,t),i=r[0],a=r[1],o=i.status,s=i.asyncEffect;return Object(Re.useEffect)((function(){(function(e){switch(e){case LW.CREATE_SHARE_PENDING:case LW.FETCH_SHARE_PENDING:case LW.SAVE_SHARE_PENDING:case LW.DELETE_SHARE_PENDING:case LW.STARTUP_PENDING:case LW.SHUTDOWN_PENDING:case LW.CREATE_SHORT_GUID_PENDING:return!0;default:return!1}})(o)&&function(e,t,n,r){var i,a,o,s;i=void 0,a=void 0,s=function*(){switch(e){case LW.STARTUP_PENDING:try{var i=yield t();if(!0!==r())return;!0===i.ok?n({type:kW.RESOLVE_STARTUP}):!1===i.ok&&n({type:kW.REJECT_STARTUP})}catch(u){if(!0!==r())return;n({type:kW.REJECT_STARTUP})}break;case LW.SHUTDOWN_PENDING:try{var a=yield t();if(!0!==r())return;!0===a.ok?n({type:kW.RESOLVE_SHUTDOWN}):!1===a.ok&&n({type:kW.REJECT_SHUTDOWN})}catch(u){if(!0!==r())return;n({type:kW.REJECT_SHUTDOWN})}break;case LW.FETCH_SHARE_PENDING:try{var o=yield t();if(!0!==r())return;!0===o.ok?n({type:kW.RESOLVE_FETCH_SHARE,payload:o.value}):!1===o.ok&&n({type:kW.REJECT_FETCH_SHARE,error:o.error})}catch(u){if(!0!==r())return;n({type:kW.REJECT_FETCH_SHARE,error:u})}break;case LW.CREATE_SHARE_PENDING:try{var s=yield t();if(!0!==r())return;!0===s.ok?n({type:kW.RESOLVE_CREATE_SHARE,payload:s.value}):!1===s.ok&&n({type:kW.REJECT_CREATE_SHARE,error:s.error})}catch(u){if(!0!==r())return;n({type:kW.REJECT_CREATE_SHARE,error:u})}break;case LW.SAVE_SHARE_PENDING:try{var c=yield t();if(!0!==r())return;!0===c.ok?n({type:kW.RESOLVE_SAVE_SHARE,payload:c.value}):!1===c.ok&&n({type:kW.REJECT_SAVE_SHARE,error:c.error})}catch(u){if(!0!==r())return;n({type:kW.REJECT_SAVE_SHARE,error:u})}break;case LW.CREATE_SHORT_GUID_PENDING:try{var l=yield t();if(!0!==r())return;!0===l.ok?n({type:kW.RESOLVE_CREATE_SHORT_GUID,payload:l.value}):!1===l.ok&&n({type:kW.REJECT_CREATE_SHORT_GUID,error:l.error})}catch(u){if(!0!==r())return;n({type:kW.REJECT_CREATE_SHORT_GUID,error:u})}}},new((o=void 0)||(o=Promise))((function(e,t){function n(e){try{c(s.next(e))}catch(n){t(n)}}function r(e){try{c(s.throw(e))}catch(n){t(n)}}function c(t){var i;t.done?e(t.value):(i=t.value,i instanceof o?i:new o((function(e){e(i)}))).then(n,r)}c((s=s.apply(i,a||[])).next())}))}(o,s,a,n)}),[o,s,a,n]),Object(Re.useEffect)((function(){(function(e){switch(e){case LW.CREATE_SHARE_RESOLVED:case LW.FETCH_SHARE_RESOLVED:case LW.SAVE_SHARE_RESOLVED:case LW.DELETE_SHARE_RESOLVED:case LW.STARTUP_RESOLVED:case LW.CREATE_SHORT_GUID_RESOLVED:case LW.SHUTDOWN:case LW.RUNNING:case LW.IDLE:return!0;default:return!1}})(o)&&function(e,t){switch(e){case LW.STARTUP_RESOLVED:case LW.CREATE_SHARE_RESOLVED:case LW.FETCH_SHARE_RESOLVED:case LW.SAVE_SHARE_RESOLVED:case LW.DELETE_SHARE_RESOLVED:t({type:kW.RETURN_TO_RUNNING})}}(o,a)}),[o,a]),[i,a]}var $W=Object(Re.createContext)(void 0);function KW(){var e=Object(Re.useContext)($W);if(void 0===e)throw new Error("`useManageShareStateDispatch` must be used within a `ManageCurrentShareStateProvider`");return e}var QW,qW,ZW=Object(Re.createContext)(void 0);function YW(){var e=Object(Re.useContext)(ZW);if(void 0===e)throw new Error("`useManageShareState` must be used within a `ManageCurrentShareStateProvider`");return e}function XW(e){var t=e.value,n=t.sharingIOService,r=t.initialShareState,i=void 0===r?jW:r,a=e.children,o=GW(HW(n),i),s=o[0],c=o[1];return Le.a.createElement(ZW.Provider,{value:s},Le.a.createElement($W.Provider,{value:c},a))}!function(e){e.WEB_MAIL="WEB_MAIL",e.COPY_LINK="COPY_LINK"}(QW||(QW={})),function(e){e.TOUCH="TOUCH",e.MOUSE="MOUSE"}(qW||(qW={}));var JW=Object(Re.createContext)(void 0);function ez(e){var t=e.value,n=e.children;return Le.a.createElement(JW.Provider,{value:{settings:t}},n)}function tz(){var e=Object(Re.useContext)(JW);if(void 0===e)throw new Error("`useSettings` must be used within a `SettingsProvider`");return e.settings}var nz=n(1479),rz=n.n(nz),iz=n(1510),az=n.n(iz),oz=n(1493),sz=n.n(oz);Object(wu.a)(Object(wu.b)(),{"CKSharing.UnexpectedTerminationMessage":"An unexpected error occurred.","CKSharing.Busy.LoadingParticipants.Description":"Loading","CKSharing.Busy.Loading.Description":"Loading","CKSharing.Sending.Description":"Preparing","CKSharing.Dialog.Button.OK":"OK","CKSharing.Dialog.Button.Continue":"Continue","CKSharing.Dialog.Button.Cancel":"Cancel","CKSharing.Dialog.Button.Done":"Done","CKSharing.ErrorDialog.ACCESS_DENIED.Message":"Your request couldnt be completed.","CKSharing.ErrorDialog.ACCESS_DENIED.Description.CloudKit":"This account has restrictions on the people you can share with.","CKSharing.ErrorDialog.ACCESS_DENIED.Description.Keynote":"This account has restrictions on the people you can share presentations with.","CKSharing.ErrorDialog.ACCESS_DENIED.Description.Notes":"This account has restrictions on the people you can share notes with.","CKSharing.ErrorDialog.ACCESS_DENIED.Description.Numbers":"This account has restrictions on the people you can share spreadsheets with.","CKSharing.ErrorDialog.ACCESS_DENIED.Description.Pages":"This account has restrictions on the people you can share documents with.","CKSharing.ErrorDialog.ACCESS_DENIED.Description.Drive.File":"This account has restrictions on the people you can share files with.","CKSharing.ErrorDialog.ACCESS_DENIED.Description.Drive.Folder":"This account has restrictions on the people you can share folders with.","CKSharing.ErrorDialog.ACCESS_DENIED.Description.Photos":"This account has restrictions on the people you can share photos with.","CKSharing.ErrorDialog.AddingParticipants.MAIL_ADD_PARTICIPANTS_FAILED.Message":"Cannot send message.","CKSharing.ErrorDialog.AddingParticipants.MAIL_ADD_PARTICIPANTS_FAILED.Description":"One or more participants cannot be invited because of an error.","CKSharing.ErrorDialog.DESTROY.Message":"Sharing couldnt be stopped.","CKSharing.ErrorDialog.UPDATE.Message":"Share options couldnt be changed.","CKSharing.ErrorDialog.INVITE_TO_PRIVATE.VIA_EMAIL.TO_PERSON.Message":"Your invitation couldnt be sent.","CKSharing.ErrorDialog.INVITE_TO_PRIVATE.VIA_EMAIL.TO_PEOPLE.Message":"Your invitations couldnt be sent.","CKSharing.ErrorDialog.INVITE_TO_PRIVATE.VIA_UNKNOWN.Message":"People couldnt be added.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.CloudKit":"This cant be shared right now.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Keynote":"This presentation cant be shared right now.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Notes":"This note cant be shared right now.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Numbers":"This spreadsheet cant be shared right now.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Pages":"This document cant be shared right now.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Drive.File":"This file cant be shared right now.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Drive.Folder":"This folder cant be shared right now.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Photos":"These photos cant be shared right now.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Photos.Compact":"Photos Could Not Be Shared","CKSharing.ErrorDialog.SEND_LINK.Message.CloudKit":"The link cant be sent right now.","CKSharing.ErrorDialog.SEND_LINK.Message.Keynote":"The link to this presentation cant be sent right now.","CKSharing.ErrorDialog.SEND_LINK.Message.Notes":"The link to this note cant be sent right now.","CKSharing.ErrorDialog.SEND_LINK.Message.Numbers":"The link to this spreadsheet cant be sent right now.","CKSharing.ErrorDialog.SEND_LINK.Message.Pages":"The link to this document cant be sent right now.","CKSharing.ErrorDialog.SEND_LINK.Message.Drive.File":"The link to this file cant be sent right now.","CKSharing.ErrorDialog.SEND_LINK.Message.Drive.Folder":"The link to this folder cant be sent right now.","CKSharing.ErrorDialog.CONFLICT.Description":"Changes were made on another device. Please try again.","CKSharing.ErrorDialog.UNKNOWN_ERROR.Description":"There may be a problem with the server. Please try again later.","CKSharing.ErrorDialog.UNKNOWN_ERROR.Description.Compact":"Please try again later.","CKSharing.ErrorDialog.TOO_MANY_INVITEES.Message":"Youve reached the maximum number of invites.","CKSharing.ErrorDialog.TOO_MANY_INVITEES.Description":"New invitations cant be sent. Reduce the number of people youre inviting or have previously invited, then try again.","CKSharing.ErrorDialog.ADDED_ONLY_YOURSELF.Message":"You cant share to your own iCloud email address.","CKSharing.ErrorDialog.ADDED_ONLY_YOURSELF.Description":"Enter other peoples email addresses or phone numbers, then try again.","CKSharing.ErrorDialog.ADDED_ONLY_YOURSELF_EMAIL.Description":"Enter other peoples email addresses, then try again.","CKSharing.ErrorDialog.ValidateTokens.ONE_INVALID_TOKEN.NOT_IN_ORG.Message":"%{value} is not a member of your institution.","CKSharing.ErrorDialog.ValidateTokens.ONE_INVALID_TOKEN.NOT_IN_ORG.Description":"Please select a contact that belongs to your institution.","CKSharing.ErrorDialog.ValidateTokens.ONE_INVALID_TOKEN.Message":"%{value} is not a valid email address or phone number.","CKSharing.ErrorDialog.ValidateTokens.ONE_INVALID_TOKEN.OVER_SIZE.Ellipsis":"","CKSharing.ErrorDialog.ValidateTokens.ONE_INVALID_TOKEN.Description":"Please enter a valid email address or phone number, then try sharing again.","CKSharing.ErrorDialog.ValidateTokens.SOME_INVALID_TOKENS.Message":"Some email addresses or phone numbers you entered are not valid.","CKSharing.ErrorDialog.ValidateTokens.SOME_INVALID_TOKENS.Description":"Please enter valid email addresses or phone numbers, then try sharing again.","CKSharing.ErrorDialog.ValidateTokens.ALL_INVALID_TOKENS.Message":"The email addresses or phone numbers you entered are not valid.","CKSharing.ErrorDialog.ValidateTokens.ALL_INVALID_TOKENS.Description":"Please enter valid email addresses or phone numbers, then try sharing again.","CKSharing.ErrorDialog.ValidateTokens.Email.ONE_INVALID_TOKEN.Message":"%{value} is not a valid email address.","CKSharing.ErrorDialog.ValidateTokens.Email.ONE_INVALID_TOKEN.Description":"Please enter a valid email address, then try sharing again.","CKSharing.ErrorDialog.ValidateTokens.Email.SOME_INVALID_TOKENS.Message":"Some email addresses you entered are not valid.","CKSharing.ErrorDialog.ValidateTokens.Email.SOME_INVALID_TOKENS.Description":"Please enter valid email addresses, then try sharing again.","CKSharing.ErrorDialog.ValidateTokens.Email.ALL_INVALID_TOKENS.Message":"The email addresses you entered are not valid.","CKSharing.ErrorDialog.ValidateTokens.Email.ALL_INVALID_TOKENS.Description":"Please enter valid email addresses, then try sharing again.","CKSharing.ErrorDialog.OKButton.Title":"OK","CKSharing.ErrorDialog.MailComposer.LoadTimeout.Message":"Cannot open iCloud Mail.","CKSharing.ErrorDialog.MailComposer.LoadTimeout.Description":"There may be a problem with the server. Please try again later.","CKSharing.ErrorDialog.AXMGroup.UNABLE_TO_FETCH_MEMBERS.Message":"Unable to get members of %{groupName}.","CKSharing.ErrorDialog.AXMGroup.UNABLE_TO_FETCH_MEMBERS.Description":"There may be a problem with the server. Please try again later.","CKSharing.ErrorDialog.CopyLink.UNABLE_TO_ACQUIRE_LINK.Message":"This link cant be sent right now.","CKSharing.ErrorDialog.CopyLink.UNABLE_TO_ACQUIRE_LINK.Description":"Please try again later.","CKSharing.ConfirmationDialog.PublicToPrivate.Message":"Change to invite only?","CKSharing.ConfirmationDialog.PublicToPrivate.Description.CloudKit.WithTitle":"Only you will have access to %{shareTitle} until you invite people.","CKSharing.ConfirmationDialog.PublicToPrivate.Description.CloudKit.WithoutTitle":"Only you will have access until you invite people.","CKSharing.ConfirmationDialog.PublicToPrivate.Description.Drive.File":"Everyone will be removed from this file and it will be deleted from iCloudDrive on all of their devices.","CKSharing.ConfirmationDialog.PublicToPrivate.Description.Drive.Folder":"Everyone will be removed from this folder and it will be deleted from iCloudDrive on all of their devices.","CKSharing.ConfirmationDialog.PublicToPrivate.Description.Pages":"Everyone will be removed from this document and it will be deleted from iCloudDrive on all of their devices.","CKSharing.ConfirmationDialog.PublicToPrivate.Description.Keynote":"Everyone will be removed from this presentation and it will be deleted from iCloudDrive on all of their devices.","CKSharing.ConfirmationDialog.PublicToPrivate.Description.Numbers":"Everyone will be removed from this spreadsheet and it will be deleted from iCloudDrive on all of their devices.","CKSharing.ConfirmationDialog.PublicToPrivate.Description.Notes":"Everyone will be removed from this note and it will be deleted from Notes on all of their devices","CKSharing.ConfirmationDialog.StopSharing.Message.CloudKit":"Stop sharing?","CKSharing.ConfirmationDialog.StopSharing.Message.Drive.File":"Stop sharing this file?","CKSharing.ConfirmationDialog.StopSharing.Message.Drive.Folder":"Stop sharing this folder?","CKSharing.ConfirmationDialog.StopSharing.Message.Pages":"Stop sharing this document?","CKSharing.ConfirmationDialog.StopSharing.Message.Keynote":"Stop sharing this presentation?","CKSharing.ConfirmationDialog.StopSharing.Message.Numbers":"Stop sharing this spreadsheet?","CKSharing.ConfirmationDialog.StopSharing.Message.Notes":"Stop sharing this note?","CKSharing.ConfirmationDialog.StopSharing.Description.CloudKit.WithTitle":"If you stop sharing, other people will no longer have access to %{shareTitle}.","CKSharing.ConfirmationDialog.StopSharing.Description.CloudKit.WithoutTitle":"If you stop sharing, other people will no longer have access.","CKSharing.ConfirmationDialog.StopSharing.Description.Drive.File":"If you stop sharing, other people will no longer have access to this file and it will be deleted from iCloudDrive on all of their devices.","CKSharing.ConfirmationDialog.StopSharing.Description.Drive.Folder":"If you stop sharing, other people will no longer have access to this folder and it will be deleted from iCloudDrive on all of their devices.","CKSharing.ConfirmationDialog.StopSharing.Description.Pages":"If you stop sharing, other people will no longer have access to this document and it will be deleted from iCloudDrive on all of their devices.","CKSharing.ConfirmationDialog.StopSharing.Description.Keynote":"If you stop sharing, other people will no longer have access to this presentation and it will be deleted from iCloudDrive on all of their devices.","CKSharing.ConfirmationDialog.StopSharing.Description.Numbers":"If you stop sharing, other people will no longer have access to this spreadsheet and it will be deleted from iCloudDrive on all of their devices.","CKSharing.ConfirmationDialog.StopSharing.Description.Notes":"If you stop sharing, other people will no longer have access to this note and it will be deleted on all of their devices.","CKSharing.ConfirmationDialog.RemoveYourself.Message.CloudKit":"Are you sure you want to remove yourself?","CKSharing.ConfirmationDialog.RemoveYourself.Message.Drive.File":"Are you sure you want to remove yourself from this shared file?","CKSharing.ConfirmationDialog.RemoveYourself.Message.Drive.Folder":"Are you sure you want to remove yourself from this shared folder?","CKSharing.ConfirmationDialog.RemoveYourself.Message.Pages":"Are you sure you want to remove yourself from this shared document?","CKSharing.ConfirmationDialog.RemoveYourself.Message.Keynote":"Are you sure you want to remove yourself from this shared presentation?","CKSharing.ConfirmationDialog.RemoveYourself.Message.Numbers":"Are you sure you want to remove yourself from this shared spreadsheet?","CKSharing.ConfirmationDialog.RemoveYourself.Message.Notes":"Are you sure you want to remove yourself from this shared note?","CKSharing.ConfirmationDialog.RemoveYourself.Description.CloudKit.WithTitle":"This will remove you from %{shareTitle}.","CKSharing.ConfirmationDialog.RemoveYourself.Description.CloudKit.WithoutTitle":"You will no longer have access.","CKSharing.ConfirmationDialog.RemoveYourself.Description.Drive.File":"Removing yourself from this shared file will delete the document from iCloudDrive on all your devices.","CKSharing.ConfirmationDialog.RemoveYourself.Description.Drive.Folder":"Removing yourself from this shared folder will delete the document from iCloudDrive on all your devices.","CKSharing.ConfirmationDialog.RemoveYourself.Description.Pages":"Removing yourself from this shared document will delete the document from iCloudDrive on all your devices.","CKSharing.ConfirmationDialog.RemoveYourself.Description.Keynote":"Removing yourself from this shared presentation will delete the presentation from iCloudDrive on all your devices.","CKSharing.ConfirmationDialog.RemoveYourself.Description.Numbers":"Removing yourself from this shared spreadsheet will delete the spreadsheet from iCloudDrive on all your devices.","CKSharing.ConfirmationDialog.RemoveYourself.Description.Notes":"Removing yourself from this shared note will delete the note from all your devices.","CKSharing.ConfirmationDialog.RemoveFinalParticipant.Message":"Are you sure you want to remove %{name}?","CKSharing.ConfirmationDialog.RemoveFinalParticipant.Description":"Removing the only invited participant will stop sharing.","CKSharing.SummaryText.OwnerAdmin.Private.RO.WOption":"Only people you invite can view","CKSharing.SummaryText.OwnerAdmin.Private.RO.NoOption":"Only people you invite can view","CKSharing.SummaryText.OwnerAdmin.Private.RW.PreShare.AllCanAdd.WOption":"People you invite can make changes and add others","CKSharing.SummaryText.OwnerAdmin.Private.RW.PreShare.SomeCanAdd.WOption":"Some people you invite can add others","CKSharing.SummaryText.OwnerAdmin.Private.RW.PreShare.OwnerCanAdd.WOption":"Only people you invite can make changes","CKSharing.SummaryText.OwnerAdmin.Private.RW.PreShare.AllCanAdd.NoOption":"People you invite can make changes and add others","CKSharing.SummaryText.OwnerAdmin.Private.RW.PreShare.SomeCanAdd.NoOption":"Some people you invite can add others","CKSharing.SummaryText.OwnerAdmin.Private.RW.PreShare.OwnerCanAdd.NoOption":"Only people you invite can make changes","CKSharing.SummaryText.OwnerAdmin.Private.Mixed.PreShare.AllCanAdd.WOption":"Some people you invite can make changes and add others","CKSharing.SummaryText.OwnerAdmin.Private.Mixed.PreShare.SomeCanAdd.WOption":"Some people you invite can make changes and add others","CKSharing.SummaryText.OwnerAdmin.Private.Mixed.PreShare.OwnerCanAdd.WOption":"Only people you invite can open","CKSharing.SummaryText.OwnerAdmin.Private.Mixed.PreShare.AllCanAdd.NoOption":"Some people you invite can make changes and add others","CKSharing.SummaryText.OwnerAdmin.Private.Mixed.PreShare.SomeCanAdd.NoOption":"Some people you invite can make changes and add others","CKSharing.SummaryText.OwnerAdmin.Private.Mixed.PreShare.OwnerCanAdd.NoOption":"People you invite can open","CKSharing.SummaryText.OwnerAdmin.Private.RW.AllCanAdd.WOption":"Invited people can make changes and add others","CKSharing.SummaryText.OwnerAdmin.Private.RW.SomeCanAdd.WOption":"Some invited people can add others","CKSharing.SummaryText.OwnerAdmin.Private.RW.OwnerCanAdd.WOption":"Only people you invite can make changes","CKSharing.SummaryText.OwnerAdmin.Private.RW.AllCanAdd.NoOption":"Invited people can make changes and add others","CKSharing.SummaryText.OwnerAdmin.Private.RW.SomeCanAdd.NoOption":"Some invited people can add others","CKSharing.SummaryText.OwnerAdmin.Private.RW.OwnerCanAdd.NoOption":"Only people you invite can make changes","CKSharing.SummaryText.OwnerAdmin.Private.Mixed.AllCanAdd.WOption":"Some invited people can make changes and add others","CKSharing.SummaryText.OwnerAdmin.Private.Mixed.SomeCanAdd.WOption":"Some invited people can make changes and add others","CKSharing.SummaryText.OwnerAdmin.Private.Mixed.OwnerCanAdd.WOption":"Only people you invite can open","CKSharing.SummaryText.OwnerAdmin.Private.Mixed.AllCanAdd.NoOption":"Some invited people can make changes and add others","CKSharing.SummaryText.OwnerAdmin.Private.Mixed.SomeCanAdd.NoOption":"Some invited people can make changes and add others","CKSharing.SummaryText.OwnerAdmin.Private.Mixed.OwnerCanAdd.NoOption":"Only people you invite can open","CKSharing.SummaryText.OwnerAdmin.Public.RW.WOption":"Anyone with the link can make changes","CKSharing.SummaryText.OwnerAdmin.Public.RW.NoOption":"Anyone with the link can make changes","CKSharing.SummaryText.OwnerAdmin.Public.RO.WOption":"Anyone with the link can view","CKSharing.SummaryText.OwnerAdmin.Public.RO.NoOption":"Anyone with the link can view","CKSharing.SummaryText.Participant.Private.RO":"Only %{ownerName} can invite people","CKSharing.SummaryText.Participant.Private.RW":"Only invited people have access","CKSharing.SummaryText.Participant.Private.Mixed":"Only invited people have access","CKSharing.SummaryText.Participant.Public.RW":"Anyone with the link can make changes","CKSharing.SummaryText.Participant.Public.RO":"Anyone with the link can view","CKSharing.PermissionsCombo.AllowEditing":"Can make changes","CKSharing.PermissionsCombo.ViewOnly":"View only","CKSharing.PermissionsCombo.Mixed":"Mixed","CKSharing.ManageShare.Title":"People","CKSharing.ManageShare.Button.AddPeople":"Add People","CKSharing.ManageShare.Button.SendLink":"Send Link","CKSharing.ManageShare.Button.CopyLink":"Copy Link","CKSharing.ManageShare.Button.ShareOptions":"Share Options","CKSharing.ManageShare.Button.Close":"Done","CKSharing.ManageShare.Button.StopSharing":"Stop Sharing","CKSharing.ManageShare.List.Label.Owner":" (Owner)","CKSharing.ManageShare.List.Label.Me":" (Me)","CKSharing.ManageShare.ParticipantSettings.ShowContactCard":"Show Contact Card","CKSharing.ManageShare.ParticipantSettings.CopyEmail":"Copy Email","CKSharing.ManageShare.ParticipantSettings.CopyPhoneNumber":"Copy Phone Number","CKSharing.ManageShare.ParticipantSettings.CanEdit":"Can Make Changes","CKSharing.ManageShare.ParticipantSettings.ViewOnly":"View Only","CKSharing.ManageShare.ParticipantSettings.AddOthers":"Allow To Add Other People","CKSharing.ManageShare.ParticipantSettings.RemoveAccess":"Remove Access","CKSharing.ManageShare.ParticipantSettings.RemoveMe":"Remove Me","CKSharing.ManageShare.StatusText.Invited":"Invited","CKSharing.ManageShare.StatusText.ViewOnly":"View Only","CKSharing.ManageShare.Settings.AllPermissionsToggle.Label":"Set All Permissions","CKSharing.ManageShare.Settings.AllPermissionsToggle.ReadWrite":"Allow editing","CKSharing.ManageShare.Settings.AllPermissionsToggle.ReadOnly":"View only","CKSharing.InitiateShare.Title":"Add People","CKSharing.AddParticipants.Title.AddPeople":"Add People","CKSharing.AddParticipants.Title.SendLink":"Send Link","CKSharing.AddParticipants.Subtitle.MultipleTransports":"Choose how youd like to send your invitation:","CKSharing.AddParticipants.Subtitle.SingleTransport.Public.CloudKit":"Share this with others, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Public.Keynote":"Share this presentation with others, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Public.Numbers":"Share this spreadsheet with others, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Public.Pages":"Share this document with others, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Public.Drive.File":"Share this file with others, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Public.Drive.Folder":"Share this folder with others, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Private.CloudKit":"Share this with others, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Private.Keynote":"Add people to this presentation, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Private.Notes":"Add people to this note, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Private.Numbers":"Add people to this spreadsheet, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Private.Pages":"Add people to this document, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Private.Drive.File":"Add people to this file, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Private.Drive.Folder":"Add people to this folder, then send them the link.","CKSharing.AddParticipants.CurrentlyLoggedUser.NameAndAppleId":"%{displayName} (%{appleId})","CKSharing.AddParticipants.CurrentlyLoggedUser.NameOrAppleId":"%{nameOrAppleId}","CKSharing.AddParticipants.AccessLabel.Title":"Who can access:","CKSharing.AddParticipants.AllowLabel.Title":"Permission:","CKSharing.AddParticipants.InitiateShare.AdminCheckbox.Title":"Anyone can add more people","CKSharing.AddParticipants.ManageShare.AdminCheckbox.Title":"Anyone can add people","CKSharing.AddParticipants.Transports.CopyLinkButton.Title":"Copy Link","CKSharing.AddParticipants.Transports.EmailButton.Title":"Email","CKSharing.AddParticipants.Transports.SchoolworkButton.Title":"Schoolwork","CKSharing.AddParticipants.ShareSettingsDisclosureButton.Title":"Share Options","CKSharing.AddParticipants.CancelButton.Title":"Cancel","CKSharing.AddParticipants.OKButton.Share.Title":"Share","CKSharing.AddParticipants.OKButton.CopyLink.Title":"Copy Link","CKSharing.AddParticipants.InvitationsTextField.Placeholder":"Email addresses or phone numbers","CKSharing.AddParticipants.Public":"Anyone with the link","CKSharing.AddParticipants.Private":"Only people you invite","CKSharing.AddParticipants.Email.Subject.AppName":"Shared from %{appName}","CKSharing.AddParticipants.Email.Subject.ShareTitle":"%{shareTitle}","CKSharing.AddParticipants.Email.Bodyprefix.OwnerAdmin.Keynote":"Open my shared presentation:","CKSharing.AddParticipants.Email.Bodyprefix.OwnerAdmin.Notes":"Open my shared note:","CKSharing.AddParticipants.Email.Bodyprefix.OwnerAdmin.Numbers":"Open my shared spreadsheet:","CKSharing.AddParticipants.Email.Bodyprefix.OwnerAdmin.Pages":"Open my shared document:","CKSharing.AddParticipants.Email.Bodyprefix.OwnerAdmin.Drive.File":"Open my shared file:","CKSharing.AddParticipants.Email.Bodyprefix.OwnerAdmin.Drive.Folder":"Open my shared folder:","CKSharing.AddParticipants.Email.Bodyprefix.OwnerAdmin.Photos":"Open my shared photos:","CKSharing.AddParticipants.Email.Bodyprefix.Participant.Keynote":"Open this shared presentation:","CKSharing.AddParticipants.Email.Bodyprefix.Participant.Notes":"Open this shared note:","CKSharing.AddParticipants.Email.Bodyprefix.Participant.Numbers":"Open this shared spreadsheet:","CKSharing.AddParticipants.Email.Bodyprefix.Participant.Pages":"Open this shared document:","CKSharing.AddParticipants.Email.Bodyprefix.Participant.Drive.File":"Open this shared file:","CKSharing.AddParticipants.Email.Bodyprefix.Participant.Drive.Folder":"Open this shared folder:","ConfirmNativeMail.CloseButton":"Close","ConfirmNativeMail.ConfirmButton":"Open Mail","ConfirmNativeMail.Message.Keynote.Expanded":"Shared presentation is ready.","ConfirmNativeMail.Message.Notes.Expanded":"Shared note is ready.","ConfirmNativeMail.Message.Numbers.Expanded":"Shared spreadsheet is ready.","ConfirmNativeMail.Message.Pages.Expanded":"Shared document is ready.","ConfirmNativeMail.Message.Drive.File.Expanded":"Shared file is ready.","ConfirmNativeMail.Message.Drive.Folder.Expanded":"Shared folder is ready.","ConfirmNativeMail.Message.Photos.Compact":"Shared Photos are Ready","ConfirmNativeMail.Message.Photos.Expanded":"Shared photos are ready.","ConfirmNativeMail.Message.CloudKit.Expanded":"Ready to send.","ConfirmNativeMail.Description":"Open your mail client to send your iCloud link.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.Keynote":"Heres the link to your presentation.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.Notes":"Heres the link to your note.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.Numbers":"Heres the link to your spreadsheet.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.Pages":"Heres the link to your document.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.Drive.File":"Heres the link to your file.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.Drive.Folder":"Heres the link to your folder.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.Photos":"Heres the link to your shared photos.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.CloudKit":"Heres the link.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadOnly.Keynote":"Anyone with the link will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadOnly.Numbers":"Anyone with the link will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadOnly.Pages":"Anyone with the link will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadOnly.Drive.File":"Anyone with the link will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadOnly.Drive.Folder":"Anyone with the link will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadOnly.CloudKit":"Anyone with the link will be able to view.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadOnly.Notes":"Anyone with the link will be able to view.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadWrite.Keynote":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadWrite.Numbers":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadWrite.Pages":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadWrite.Drive.File":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadWrite.Drive.Folder":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadWrite.CloudKit":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadWrite.Notes":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadOnly.Keynote":"Only the people you invited will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadOnly.Notes":"Only the people you invited will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadOnly.Numbers":"Only the people you invited will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadOnly.Pages":"Only the people you invited will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadOnly.Drive.File":"Only the people you invited will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadOnly.Drive.Folder":"Only the people you invited will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadOnly.CloudKit":"Only the people you invited will be able to view.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.Mixed.Keynote":"Only people added to this presentation will have access","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.Mixed.Notes":"Only people added to this note will have access","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.Mixed.Numbers":"Only people added to this spreadsheet will have access","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.Mixed.Pages":"Only people added to this document will have access","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.Mixed.Drive.File":"Only people added to this file will have access","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.Mixed.Drive.Folder":"Only people added to this folder will have access","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.Mixed.CloudKit":"Only added people will have access","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadWrite.Keynote":"Only people added to this presentation will have access","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadWrite.Notes":"Only people added to this note will have access","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadWrite.Numbers":"Only people added to this spreadsheet will have access","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadWrite.Pages":"Only people added to this document will have access","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadWrite.Drive.File":"Only people added to this file will have access","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadWrite.Drive.Folder":"Only people added to this folder will have access","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadWrite.CloudKit":"Only added people will have access","CKSharing.AddParticipants.CopyLink.Participant.Title.Keynote":"Heres the link to this presentation.","CKSharing.AddParticipants.CopyLink.Participant.Title.Notes":"Heres the link to this note.","CKSharing.AddParticipants.CopyLink.Participant.Title.Numbers":"Heres the link to this spreadsheet.","CKSharing.AddParticipants.CopyLink.Participant.Title.Pages":"Heres the link to this document.","CKSharing.AddParticipants.CopyLink.Participant.Title.Drive.File":"Heres the link to this file.","CKSharing.AddParticipants.CopyLink.Participant.Title.Drive.Folder":"Heres the link to this folder.","CKSharing.AddParticipants.CopyLink.Participant.Title.CloudKit":"Heres the link.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadOnly.Keynote":"Anyone with the link will be able to view it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadOnly.Numbers":"Anyone with the link will be able to view it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadOnly.Pages":"Anyone with the link will be able to view it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadOnly.Drive.File":"Anyone with the link will be able to view it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadOnly.Drive.Folder":"Anyone with the link will be able to view it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadOnly.CloudKit":"Anyone with the link will be able to view.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadOnly.Notes":"Anyone with the link will be able to view.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadWrite.Keynote":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadWrite.Numbers":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadWrite.Pages":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadWrite.Drive.File":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadWrite.Drive.Folder":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadWrite.CloudKit":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadWrite.Notes":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Private.Keynote":"Only invited people will be able to access it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Private.Notes":"Only invited people will be able to access it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Private.Numbers":"Only invited people will be able to access it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Private.Pages":"Only invited people will be able to access it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Private.Drive.File":"Only invited people will be able to access it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Private.Drive.Folder":"Only invited people will be able to access it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Private.CloudKit":"Only invited people will have access.","CKSharing.AddParticipants.CopyLink.CopyButton.Title":"Copy Link","CKSharing.AddParticipants.CopyLink.CloseButton.Title":"Close","CKSharing.AddParticipants.TokenItemMenu.EditEmail":"Edit Address","CKSharing.AddParticipants.TokenItemMenu.RemoveEmail":"Remove Address","CKSharing.AddParticipants.TokenItemMenu.EditPhone":"Edit Phone Number","CKSharing.AddParticipants.TokenItemMenu.RemovePhone":"Remove Phone Number","CKSharing.AddParticipants.TokenItemMenu.EditUnknown":"Edit","CKSharing.AddParticipants.TokenItemMenu.RemoveUnknown":"Remove","CKSharing.AddParticipants.TokenItemMenu.AutocompleteItem.Title":"%{field} (%{label})","CKSharing.AddParticipants.TokenItemView.Add":"Add:","CKSharing.CopyEmailOrPhone.Title.Phone":"Phone Number","CKSharing.CopyEmailOrPhone.Title.Email":"Email Address","CKSharing.CopyEmailOrPhone.Subtitle.Phone":"Click the phone number to select it.","CKSharing.CopyEmailOrPhone.Subtitle.Email":"Click the email address to select it.","CKSharing.Offline.Title":"Youre Offline","CKSharing.Offline.Description":"Check your Internet connection.","CKSharing.RichLink.NoShareTitle":"Shared from %{appName}","CKSharing.iWork.Pages":"Pages","CKSharing.iWork.Keynote":"Keynote","CKSharing.iWork.Numbers":"Numbers","CKSharing.AXMGroup.LoadingMembers":"Loading","CKSharing.InvalidToken.GeneralReason":"Invalid Email or Phone Number.","CKSharing.InvalidToken.NotAXMContact":"You cannot share with a person outside of your institution."});var cz=Object(wu.c)();function lz(e){var t=QW[e],n=t===QW.WEB_MAIL?"EMAIL":t,r=sz()(rz()(n.toLowerCase())),i="CKSharing.AddParticipants.Transports."+r+"Button.Title",a=az()(r).toLowerCase();return{title:cz(i),value:t,key:t,classNames:[a]}}var uz,dz={"\uff10":"0","\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u06f0":"0","\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u0966":"0","\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u09e6":"0","\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ff":"9","\u0e50":"0","\u0e51":"1","\u0e52":"2","\u0e53":"3","\u0e54":"4","\u0e55":"5","\u0e56":"6","\u0e57":"7","\u0e58":"8","\u0e59":"9",a:"2",b:"2",c:"2",d:"3",e:"3",f:"3",g:"4",h:"4",i:"4",j:"5",k:"5",l:"5",m:"6",n:"6",o:"6",p:"7",q:"7",r:"7",s:"7",t:"8",u:"8",v:"8",w:"9",x:"9",y:"9",z:"9"};function hz(e,t){var n=t.isPublicShare,r=t.loggedInUserIdentity,i=t.maxNumberOfInvitees,a=t.isEmailFlow,o=t.locale;if(mz(e))return{messageKey:uz.ALL_INVALID_TOKENS,options:{locNamespace:"CKSharing.ErrorDialog.ValidateTokens"+(a?".Email":"")}};if(vz(e)){var s=fz(o,e.find(pz));return{messageKey:uz.ONE_INVALID_TOKEN_NOT_IN_ORG,options:{locNamespace:"CKSharing.ErrorDialog.ValidateTokens"+(a?".Email":""),messageFormatValues:{value:s}}}}if(yz(e)){var c=fz(o,e.find(pz));return{messageKey:uz.ONE_INVALID_TOKEN,options:{locNamespace:"CKSharing.ErrorDialog.ValidateTokens"+(a?".Email":""),messageFormatValues:{value:c}}}}return _z(e)?{messageKey:uz.SOME_INVALID_TOKENS,options:{locNamespace:"CKSharing.ErrorDialog.ValidateTokens"+(a?".Email":"")}}:bz(e,r)?{messageKey:uz.ADDED_ONLY_YOURSELF,options:{locNamespace:"CKSharing.ErrorDialog"}}:wz(e,n,i)?{messageKey:uz.TOO_MANY_INVITEES,options:{locNamespace:"CKSharing.ErrorDialog"}}:{messageKey:""}}function fz(e,t){var n=t.userIdentity,r=n.nameComponents,i=r.givenName,a=r.familyName,o=n.lookupInfo,s=vw(e,{givenName:i,familyName:a,emailAddress:o.emailAddress,phoneNumber:o.phoneNumber})||"";if(s.length>69){var c=s.length,l=s.substr(0,34),u=s.substr(c-34,34);s=""+l+cz("CKSharing.ErrorDialog.ValidateTokens.ONE_INVALID_TOKEN.OVER_SIZE.Ellipsis")+u}return s}function pz(e){return e.isInvalid||!(e.userIdentity.lookupInfo.emailAddress||e.userIdentity.lookupInfo.phoneNumber)}function gz(e){return e.isPending}function mz(e){return!!e.length&&!yz(e)&&e.every(pz)}function vz(e){return!!e.length&&yz(e)&&e.find(pz).invalidReason===cz("CKSharing.InvalidToken.NotAXMContact")}function yz(e){return!!e.length&&1===e.filter(pz).length}function _z(e){return!!e.length&&e.some(pz)}function bz(e,t){return!!e.length&&e.every((function(e){var n=t.appleId,r=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim().toLowerCase()}(e.userIdentity.lookupInfo.emailAddress),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(e=(e=e.toLowerCase()).replace(/./g,(function(e){return dz[e]||e})))&&e.replace(/[^0-9+]/g,"")}(e.userIdentity.lookupInfo.phoneNumber);return r&&r===n||i&&i===n}))}function wz(e,t,n){if(t)return!1;if(!e.length)return!1;var r=e.reduce((function(e,t){var n=t.userIdentity.lookupInfo;return n.emailAddress&&(e[n.emailAddress]=!0),n.phoneNumber&&(e[n.phoneNumber]=!0),e}),{});return Object.keys(r).length>n}function Sz(){var e=Object(Re.useState)((function(){return window.navigator.onLine})),t=e[0],n=e[1];return Object(Re.useEffect)((function(){var e=function(){return n(window.navigator.onLine)};return window.addEventListener("online",e),window.addEventListener("offline",e),function(){window.removeEventListener("online",e),window.removeEventListener("offline",e)}}),[]),t}function Ez(e){var t,n=e.operationType,r=YW(),i=r.share,a=r.selectedAccessValue,o=tz(),s=Sz();t=n===FW.INITIATE_SHARE?o.initiateSharePaneTitle:i&&o?BW(i.publicPermission)?o.sendLinkPaneTitle:o.addParticipantsPaneTitle:"";var c,l=o.supportedTransports,u=o.shareItemType;if(l&&l.length)if(o.initiateSharePaneSubtitle)c=o.initiateSharePaneSubtitle;else{var d=["CKSharing.AddParticipants.Subtitle",1===l.length&&"SingleTransport",1===l.length&&(a===qR.PUBLIC?"Public":"Private"),1===l.length&&u,1!==l.length&&"MultipleTransports"].filter(Boolean).join(".");c=cz(d)}else c="";return Le.a.createElement("header",{className:"add-participants-header-view"},Le.a.createElement("h1",null,t),s&&Le.a.createElement("h2",null,c))}!function(e){e.VALID="VALID",e.ALL_INVALID_TOKENS="ALL_INVALID_TOKENS",e.ONE_INVALID_TOKEN_NOT_IN_ORG="ONE_INVALID_TOKEN.NOT_IN_ORG",e.ONE_INVALID_TOKEN="ONE_INVALID_TOKEN",e.SOME_INVALID_TOKENS="SOME_INVALID_TOKENS",e.TOO_MANY_INVITEES="TOO_MANY_INVITEES",e.ADDED_ONLY_YOURSELF="ADDED_ONLY_YOURSELF"}(uz||(uz={}));var Iz=Ou();function Cz(){var e=Iz("CKSharing.Offline.Title"),t=Iz("CKSharing.Offline.Description");return Le.a.createElement("div",{className:"ck-sharing-offline-view"},Le.a.createElement("div",{className:"offline-view"},Le.a.createElement("h1",null,e),Le.a.createElement("h2",null,t)))}function Oz(e){return!!e.loggedInUserIdentity&&e.loggedInUserIdentity.isManagedAppleID}function Tz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Az(r.key),r)}}function Az(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}function Nz(e,t){return Nz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nz(e,t)}var Mz=function(e){var t,n;function r(){var t;return(t=e.apply(this,arguments)||this).routeInboundMessage=function(e){!function(e,t){for(var n of t){var r=n[0],i=n[1];if(r(e))return i(e)}}(e,[[Dz(Ep),function(e){var n=e.payload;return t.onLabelId(n)}],[Dz(Ip),function(){return t.onActivationStart()}],[Dz(Cp),function(){return t.onActivationEnd()}],[Dz(Op),function(){return t.onActivationComplete()}],[Dz(Tp),function(){return t.onActivationCancel()}]])},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Nz(t,n);var i,a,o,s=r.prototype;return s.componentDidMount=function(){this.subscribe(this.props.id)},s.componentDidUpdate=function(e,t){var n=e.id,r=this.props.id;n!==r&&(this.unsubscribe(n),this.subscribe(r))},s.componentWillUnmount=function(){this.unsubscribe(this.props.id)},s.subscribe=function(e){e&&this.messageTransmitter.registerComponent(e,this.routeInboundMessage)},s.unsubscribe=function(e){e&&this.messageTransmitter.unregisterComponent(e,this.routeInboundMessage)},s.onActivationStart=function(){},s.onActivationEnd=function(){},s.onActivationComplete=function(){},s.onActivationCancel=function(){},i=r,o=[{key:"messageTransmitter",get:function(){return Lp.messageTransmitter}}],(a=[{key:"messageTransmitter",get:function(){return r.messageTransmitter}}])&&Tz(i.prototype,a),o&&Tz(i,o),Object.defineProperty(i,"prototype",{writable:!1}),r}(Re.Component);function Dz(e){return function(t){return t instanceof e}}function Rz(e,t){var n=t.controlledKey,r=t.uncontrolledKey;if(void 0===e[n])return!1;if(void 0===e[r])return!0;throw new TypeError("You provided conflicting props `"+n+"` and `"+r+"` to the same component. You may only provide one.")}function Lz(e,t,n){t.forEach((function(t){return function(e,t,n,r){var i,a,o;"boolean"===typeof n?(i=n,a=r):a=void 0!==(o=n)&&"function"===typeof o.warn?n:r;var s=a||window.console,c=Rz(e,t),l=t.controlledKey,u=t.uncontrolledKey,d=t.callbackKeys,h=d.some((function(t){return void 0!==e[t]})),f="You provided a `"+l+"` prop to a component without an associated change handler. This will render a read-only component. If the component should be mutable use `"+u+"`. Otherwise, provide one of the handlers (`"+d.join(", ")+"`)";void 0!==i&&(f+=", or flag the prop as read-only (see class docs)"),f+=".",!c||h||i||s.warn(f)}(e,t,e.disabled,n)}))}function kz(e,t,n){var r=Object.assign({},t);return n.forEach((function(t){if(Rz(e,t)){var n=t.controlledKey;r[n]=e[n]}})),r}function xz(e,t,n){for(var r=[],i=n.length,a=0;a<i;a++){var o=n[a];e[o]!==t[o]&&r.push(o)}return r}function Fz(e,t){return Fz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fz(e,t)}var Pz=Re.forwardRef((function(e,t){return Re.createElement(Uz,Object.assign({innerRef:t},e))}));Pz.displayName="UIToggleButton";var jz,Uz=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).onActivate=async function(){var e=await async function(e,t,n){for(var r=t.length,i=[],a=0;a<r;a++){var o=t[a];Rz(e.props,o)||i.push(o)}return new Promise((function(r,a){var o=t.map((function(e){return e.controlledKey}));if(i.length>0){var s,c;e.setState((function(e,r){c=kz(r,e,t),s=Object.assign({},c,n(c));var a=Object.assign({},e);return i.forEach((function(e){var t=e.controlledKey;a[t]=s[t]})),a}),(function(){var e=xz(c,s,o);r({state:s,changedKeys:e})}))}else{var l=e.state,u=e.props,d=kz(u,l,t),h=Object.assign({},d,n(d)),f=xz(d,h,o);r({state:h,changedKeys:f})}}))}(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),Bz,(function(e,t){return{checked:!e.checked}}));!function(e,t){var n=t.onStateChange,r=e.state,i=e.changedKeys;n&&i.length>0&&n(r,i)}(e,n.props)},Lz(t,Bz),n.state=function(e,t,n){var r={};return n.forEach((function(n){if(!Rz(e,n)){var i=n.controlledKey,a=n.uncontrolledKey,o=e[a];r[i]=void 0!==o?o:t[i]}})),r}(t,{checked:!1},Bz),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Fz(t,n);var i=r.prototype;return i.render=function(){var e=this.props,t=this.state;Lz(e,Bz);var n=kz(e,t,Bz),r=n.checked,i=n.labelId,a=e.ariaLabel,o=e.ariaDescribedBy,s=e.children,c=e.variant,l=e.disabled,u=e.id,d=e.innerRef,h=e.style,f=e.className,p=e.tabIndex,g=e.tooltip,m=jp(Object.assign({disabled:l,className:f},e.hasOwnProperty("tabIndex")?{tabIndex:p}:{},{onActivate:this.onActivate,variant:c||"push standard"}));return Re.createElement("ui-toggle-button",Object.assign({},m,{id:u,style:h,title:g,ref:d,role:"button","aria-pressed":r,"aria-label":a,"aria-labelledby":a?void 0:i,"aria-describedby":o}),s)},i.onLabelId=function(e){this.setState({labelId:e})},i.onActivationComplete=function(){!0!==this.props.disabled&&this.onActivate()},r}(Mz),Bz=[{controlledKey:"checked",uncontrolledKey:"defaultChecked",callbackKeys:["onStateChange"]}];function Vz(){var e=tz().loggedInUserIdentity,t=Cu(),n=e.givenName,r=e.familyName,i=e.appleId,a=vw(t,{givenName:n,familyName:r});return a&&i?cz("CKSharing.AddParticipants.CurrentlyLoggedUser.NameAndAppleId",{displayName:a,appleId:i}):a||i?cz("CKSharing.AddParticipants.CurrentlyLoggedUser.NameOrAppleId",{nameOrAppleId:a||i}):""}function Wz(e){var t=WW(e);return t===YR.OWNER||t===YR.ADMINISTRATOR}function zz(){var e=YW().selectedAccessValue,t=KW(),n=Iz("CKSharing.AddParticipants.AccessLabel.Title"),r=Iz("CKSharing.AddParticipants.Private"),i=Iz("CKSharing.AddParticipants.Public");return Le.a.createElement("div",{className:"row"},Le.a.createElement(Lp,{htmlFor:"access-select-button"},n),Le.a.createElement("div",{className:"ui-select-button-container"},Le.a.createElement(YE,{id:"access-select-button",defaultValue:e,onStateChange:function(e){var n=e.value;t({type:kW.SET_PARTICIPANTS_ACCESS,access:n})}},Le.a.createElement(dI,{value:qR.PRIVATE},r),Le.a.createElement(dI,{value:qR.PUBLIC},i))))}function Hz(){var e=YW().selectedPermissionValue,t=KW(),n=Iz("CKSharing.AddParticipants.AllowLabel.Title"),r=Iz("CKSharing.PermissionsCombo.AllowEditing"),i=Iz("CKSharing.PermissionsCombo.ViewOnly");return Le.a.createElement("div",{className:"row"},Le.a.createElement(Lp,{htmlFor:"permission-select-button"},n),Le.a.createElement("div",{className:"ui-select-button-container"},Le.a.createElement(YE,{id:"permission-select-button",defaultValue:e,onStateChange:function(e){var n=e.value;t({type:kW.SET_PARTICIPANTS_PERMISSION,permission:n})}},Le.a.createElement(dI,{value:XR.READ_WRITE},r),Le.a.createElement(dI,{value:XR.READ_ONLY},i))))}!function(e){e.WITH_OPTION="WOption",e.NO_OPTION="NoOption"}(jz||(jz={}));var Gz=["styles"];function $z(){return $z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$z.apply(this,arguments)}var Kz=function(e){var t=e.styles,n=void 0===t?{}:t,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Gz);return Le.a.createElement("svg",$z({className:n.icon||"icon",viewBox:"0 0 17.8 17.8"},r),Le.a.createElement("g",{transform:"translate(0 -.002) scale(1.11244)"},Le.a.createElement("path",{className:n["checkmark-fill"]||"checkmark-fill",d:"M7.029 12.257c-.301 0-.541-.117-.774-.428l-2.188-2.7a.973.973 0 01-.208-.572c0-.404.305-.724.7-.724.248 0 .445.079.656.369l1.776 2.302 3.733-6.019c.168-.273.395-.411.629-.411.38 0 .739.26.739.676 0 .195-.114.402-.219.577L7.76 11.829c-.177.291-.427.428-.731.428z",fill:"#fff"}),Le.a.createElement("path",{className:n["checkmark-square-fill"]||"checkmark-square-fill",d:"M10.231 0c2.006 0 2.734.209 3.467.601a4.089 4.089 0 011.701 1.701c.392.733.601 1.46.601 3.467v4.462c0 2.006-.209 2.734-.601 3.467a4.089 4.089 0 01-1.701 1.701c-.733.392-1.46.601-3.467.601H5.77c-2.006 0-2.734-.209-3.467-.601a4.089 4.089 0 01-1.701-1.701C.209 12.965 0 12.238 0 10.23V5.77c0-2.006.209-2.734.601-3.467A4.089 4.089 0 012.302.601C3.035.209 3.762 0 5.77 0h4.462zm1.102 4.137c-.235 0-.46.139-.626.4l-3.71 5.962-1.765-2.277c-.217-.287-.409-.365-.652-.365-.4 0-.704.321-.704.712 0 .2.078.391.209.565l2.181 2.677c.226.304.47.426.765.426.295 0 .547-.14.73-.426l4.085-6.431c.113-.183.217-.383.217-.574 0-.408-.356-.67-.73-.67z"}),Le.a.createElement("path",{className:n["minus-fill"]||"minus-fill",d:"M4.366 8.855c-.525 0-.887-.301-.887-.838-.001-.552.341-.864.887-.864h7.272c.547 0 .887.312.887.864 0 .537-.362.838-.887.838H4.366z",fill:"#fff"}),Le.a.createElement("path",{className:n["minus-square-fill"]||"minus-square-fill",d:"M10.231 0c2.006 0 2.734.209 3.467.601a4.089 4.089 0 011.701 1.701c.392.733.601 1.46.601 3.467v4.462c0 2.006-.209 2.734-.601 3.467a4.089 4.089 0 01-1.701 1.701c-.733.392-1.46.601-3.467.601H5.77c-2.006 0-2.734-.209-3.467-.601a4.089 4.089 0 01-1.701-1.701C.209 12.965 0 12.238 0 10.23V5.77c0-2.006.209-2.734.601-3.467A4.089 4.089 0 012.302.601C3.035.209 3.762 0 5.77 0h4.462zm1.419 7.15h-7.3a.85.85 0 100 1.7h7.3a.85.85 0 000-1.7z"}),Le.a.createElement("rect",{className:n.square||"square",x:".625",y:".625",width:"14.75",height:"14.75",rx:"4.5"})))},Qz=Re.forwardRef((function(e,t){var n=e.checked,r=e.defaultChecked,i=e.children,a=e.variant,o=e.inputId,s=e.id,c=e.name,l=e.form,u=e.value,d=e.disabled,h=e.required,f=e.onStateChange,p=e.style,g=e.tabIndex,m=e.tooltip,v=e.className,y=e.onInvalid,_=e.ariaLabel,b=e.indeterminate;null!=n&&null==f&&console.warn("You provided a 'checked' prop to a component without an associated change handler. This will render a read-only component. If the component should be mutable use 'defaultChecked'. Otherwise, provide an 'onStateChange' handler.");var w=Re.useRef(null),S=Re.useState(r||!1),E=S[0],I=S[1];Re.useLayoutEffect((function(){I(w.current.checked)})),Re.useLayoutEffect((function(){var e=w.current;e&&void 0!==b&&(e.indeterminate=b)}),[b]);var C=Re.useState(!1),O=C[0],T=C[1],A=function(){!0!==d&&T(!0)},N=function(){!0!==d&&T(!1)},M=function(){!0!==d&&w.current.click()},D=function(){!0!==d&&T(!1)},R=xp(s,{onActivationStart:A,onActivationEnd:N,onActivationComplete:M,onActivationCancel:D}),L=Hp(),k=jp(Object.assign({active:O,disabled:d,className:Be()(L,Bv,v,a||"standard",{labelled:i,"contains-icon":O_(i)})},e.hasOwnProperty("tabIndex")?{tabIndex:g}:{},{onActivate:M,onActivationStart:A,onActivationEnd:N,onActivationCancel:D,variant:a}));return Re.createElement("ui-checkbox",Object.assign({},k,{id:s,style:p,title:m,role:"checkbox","aria-label":_,"aria-labelledby":_?void 0:R,"aria-required":h,"aria-checked":b?"mixed":E,ref:t}),Re.createElement("input",{ref:w,id:o,type:"checkbox",checked:n,defaultChecked:r,"aria-hidden":!0,name:c,value:u||"on",disabled:d,required:h,form:l,tabIndex:-1,onInvalid:y,onChange:function(e){var t=e.target.checked;I(t),f&&f({checked:t,indeterminate:!1},["checked"])}}),e.checkboxAsset||Re.createElement(Kz,null),Re.createElement("label",null,i))}));function qz(){var e=YW().selectedTypeValue,t=KW(),n=Iz("CKSharing.AddParticipants.InitiateShare.AdminCheckbox.Title");return Le.a.createElement("div",{className:"row"},Le.a.createElement("div",null),Le.a.createElement("div",null,Le.a.createElement("div",{className:"checkbox-container"},Le.a.createElement(Qz,{id:"participant-type-checkbox",checked:e===YR.ADMINISTRATOR,onStateChange:function(e){var n=e.checked;t({type:kW.SET_PARTICIPANTS_TYPE,participantType:n?YR.ADMINISTRATOR:YR.USER})}}),Le.a.createElement(Lp,{htmlFor:"participant-type-checkbox"},n))))}function Zz(e){var t=e.operationType,n=YW(),r=n.share,i=n.selectedAccessValue,a=n.selectedPermissionValue,o=n.selectedTypeValue,s=tz(),c=t===FW.INITIATE_SHARE,l=Object(Re.useState)((function(){return!1===c})),u=l[0],d=l[1],h=Iz("CKSharing.AddParticipants.ShareSettingsDisclosureButton.Title"),f=WW(r)!==YR.ADMINISTRATOR&&(s.supportedPermissions.length>1||s.supportedAccess.length>1),p=t===FW.INITIATE_SHARE?s.supportedPermissions.length>1:s.supportedPermissions.length>1&&!BW(r.publicPermission),g=s.supportedAccess.length>1,m=i===qR.PRIVATE&&a===XR.READ_WRITE,v=p||g,y=c&&p&&g,_=y?u&&v:v,b="boolean"===typeof s.shouldHideAddParticipantsSummary&&!0===s.shouldHideAddParticipantsSummary,w=u||b,S=v||b,E=function(e,t,n,r){var i=YW(),a=i.share,o=i.selectedPermissionValue,s=Vz(),c=BW(a.publicPermission),l=VW(a.publicPermission,a.participants,o),u=function(e){var t=e.loggedInUserCanEditShare,n=e.isPublic,r=e.permission,i=e.operationType,a=e.participantsCanAddOthers,o=e.suffix,s=t&&!1===n&&(r===XR.READ_WRITE||r===XR.UNKNOWN);return["CKSharing","SummaryText",t?"OwnerAdmin":"Participant",n?"Public":"Private",r===XR.READ_WRITE&&"RW",r===XR.READ_ONLY&&"RO",r===XR.UNKNOWN&&"Mixed",s&&i&&i===FW.INITIATE_SHARE&&"PreShare",s&&!1===a&&"OwnerCanAdd",s&&!0===a&&"AllCanAdd",s&&null===a&&"SomeCanAdd",t&&o].filter(Boolean).join(".")}({loggedInUserCanEditShare:Wz(a),isPublic:c,permission:n||l,operationType:e,participantsCanAddOthers:r,suffix:t});return Iz(u,s?{ownerName:s}:void 0)}(t,v?jz.WITH_OPTION:jz.NO_OPTION,VW(r.publicPermission,r.participants,a)===XR.UNKNOWN?XR.UNKNOWN:a,o===YR.ADMINISTRATOR);return Le.a.createElement("div",{className:Be()({"access-control-section":!0,isExpanded:u})},f&&Le.a.createElement("div",{className:"share-options-dropdown"},y&&Le.a.createElement("div",{className:"options-container"},Le.a.createElement(Pz,{variant:"options-button",checked:u,onStateChange:function(e){var t=e.checked;return d(t||!1)}},Le.a.createElement("svg",{className:"chevron",width:"12px",height:"11px",viewBox:"0 0 32 20"},Le.a.createElement("path",{d:"m1.250001,1.062507l14.843682,14.875035l14.843815,-14.875035",fill:"none"})),Le.a.createElement("span",null,h)),!w&&Le.a.createElement("span",{className:"summary-text"},E)),_&&Le.a.createElement("div",{className:"container"},g&&Le.a.createElement(zz,null),p&&Le.a.createElement(Hz,null),m&&Le.a.createElement(qz,null))),!S&&Le.a.createElement("span",{className:"summary-text"},E))}function Yz(e){var t=e.operationType,n=e.onCancel,r=e.onSubmit,i=e.sharingIsDisabled,a=YW(),o=a.status,s=a.share,c=Sz(),l=Iz("CKSharing.AddParticipants.CancelButton.Title"),u=Iz("CKSharing.AddParticipants.OKButton.Share.Title"),d=Iz("CKSharing.Dialog.Button.Done"),h=Vz(),f=o===LW.CREATE_SHARE_PENDING||o===LW.SAVE_SHARE_PENDING,p=t===FW.INITIATE_SHARE||Wz(s)&&UW(s.publicPermission)===qR.PRIVATE,g=void 0!==i&&i||f,m=f;return Le.a.createElement("footer",null,Le.a.createElement("div",{className:"button-container"},c&&Le.a.createElement(Le.a.Fragment,null,Le.a.createElement(Gp,{className:"cw-button icloud-mouse",variant:"push secondary",disabled:m,onActivate:n},Le.a.createElement("span",{className:"title"},l)),Le.a.createElement("span",{className:"divider"}),Le.a.createElement(Gp,{className:"cw-button icloud-mouse",variant:"push primary",disabled:g,onActivate:r},Le.a.createElement("span",{className:"title"},u))),!c&&Le.a.createElement(Gp,{className:"cw-button icloud-mouse",variant:"push primary",onActivate:n},Le.a.createElement("span",{className:"title"},d))),f&&Le.a.createElement(yp,{description:"Saving share"}),p&&Le.a.createElement("div",{className:"username"},Le.a.createElement("span",null,h)))}var Xz=Le.a.forwardRef((function(e,t){var n=e.parent,r=e.view,i=Object(Re.useRef)(n);if(i.current!==n)throw new Error("CoreWebViewComponent: once populated, parent prop may not be changed.");var a=Object(Re.useRef)(null);return Object(Re.useLayoutEffect)((function(){if(r){var e=r.element;return e&&a.current.appendChild(e),r.parent=i.current,function(){r.isDisposed||(r.parent=null),e&&e.parentElement&&e.parentElement.removeChild(e)}}}),[r]),Le.a.createElement("div",{ref:$p(t,a)})})),Jz=function(e,t){e.isReceivingReactProps=!0;var n=e.beginBatchSet();for(var r in t)n.setIfChanged(r,t[r]);n.end(),e.isReceivingReactProps=!1};function eH(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(WP(e,zn.a))throw new Error("wrapCWView received a ViewController, did you mean to use wrapCWViewController instead?");if(!WP(e,Ar.a))throw new Error("wrapCWView requires a View");return Le.a.forwardRef((function(n,r){var i=Object(Re.useState)(null),a=i[0],o=i[1],s=n.retainMessage||"useStrongState";Object(Re.useLayoutEffect)((function(){var n=e.create();return t&&n.retain(void 0,s),o(n),function(){t&&n.release(void 0,s)}}),[]);var c=Object(Re.useContext)(je);if(c.isPaneContext)throw new Error("A component returned by wrapCWView was used in a React pane with no CW ancestor. Wrap your ui-components pane in `<CoreWebPaneWrapper>`, or reach out to the Web Platform team for more help.");return Object(Re.useLayoutEffect)((function(){if(a){var e=Object.assign({},n);delete e.retainMessage,Jz(a,e)}}),[n,a]),Le.a.createElement(Xz,{ref:r,parent:c.viewParent,view:a})}))}var tH=eH(CP.extend({inviteesDidChange:null,canonicalizePhoneNumbers:function(e,t){t.value=Yj(e,this.canonicalizePhoneNumberRequestGenerationFunction,this.hostedByCloudOSOne)},_inviteesDidChange:v.h({inputs:["tokenViews","tokenViews.contentsDidChange","_tokenValueChangedSignal"],callback:function(){if("function"===typeof this.inviteesDidChange&&this.tokenViews){var e=[];for(var t of this.tokenViews)t.userIdentity&&t.value&&e.push({userIdentity:t.userIdentity,isInvalid:t.isInvalid,invalidReason:t.invalidReason,isPending:t.isPending});this.inviteesDidChange(e)}}})}));function nH(e){var t=Iz("CKSharing.AddParticipants.InvitationsTextField.Placeholder");return Le.a.createElement(tH,Object.assign({placeholder:t,inviteesDidChange:e.onTokensChanged},e))}var rH,iH=eH(jP.extend({setSelectedTransport:null,didToggle:function(e){"function"===typeof this.setSelectedTransport&&this.setSelectedTransport(e.value)},staticMembers:{__QUALIFIED_CLASS_NAME__:"CWTransportsSegmentedView"}}));function aH(e){var t=e.setSelectedTransport,n=e.value,r=e.segments,i=e.isLoading,a=e.isDisabled;return Le.a.createElement(iH,{setSelectedTransport:t,value:n,segments:r,isLoading:i,isDisabled:a})}function oH(e){var t=e.operationType,n=e.isBusy,r=e.selectedTransport,i=e.setSelectedTransport,a=e.invitees,o=e.setInvitees,s=e.onCancel,c=e.onEnd,l=YW(),u=l.share,d=l.status,h=tz(),f=Sz(),p=d===LW.STARTUP_PENDING||d===LW.SHUTDOWN_PENDING,g=d===LW.CREATE_SHARE_PENDING||d===LW.SAVE_SHARE_PENDING,m=h.supportedTransports.map(lz),v=r===QW.COPY_LINK&&UW(u.publicPermission)===qR.PRIVATE,y=r&&m.length>1,_=v&&(n||!a.length||a.every(pz)||a.some(gz));return Le.a.createElement("div",{className:"workflow-screen add-participants-view sharing-dialog"},Le.a.createElement(Ez,{operationType:t}),p&&Le.a.createElement(yp,{description:"Loading"}),!f&&Le.a.createElement(Cz,null),f&&!p&&Le.a.createElement(Le.a.Fragment,null,y&&Le.a.createElement(aH,{setSelectedTransport:i,value:r,segments:m,isDisabled:g,isLoading:!1}),v&&Le.a.createElement(nH,{onTokensChanged:o,CustomLoadMembershipInfoHandlerClass:h.CustomLoadMembershipInfoHandlerClass,logService:h.logService,CustomAutocompleteDataSourceClass:h.CustomAutocompleteDataSourceClass,hostedByCloudOSOne:h.hostedByCloudOSOne,canonicalizePhoneNumberRequestGenerationFunction:h.canonicalizePhoneNumberRequestGenerationFunction,isCurrentUserManagedAppleID:Oz(h),isAXMServiceAvailable:h.isAXMServiceAvailable,isVisible:!0}),Le.a.createElement(Zz,{operationType:t})),Le.a.createElement(Yz,{operationType:t,sharingIsDisabled:_,onCancel:s,onSubmit:c}))}function sH(e){var t,n=e.onMessageSend,r=e.onCancel,i=e.children,a=e.className,o=Object(Re.useState)(rH.IDLE),s=o[0],c=o[1];switch(s){case rH.UP_PENDING:t="is-sending";break;case rH.DOWN_PENDING:t="is-canceling"}var l=Object(Re.useRef)(null),u=Object(Re.useCallback)((function(){switch(s){case rH.UP_PENDING:c(rH.UP_FINISHED);break;case rH.DOWN_PENDING:c(rH.DOWN_FINISHED)}}),[s]);Object(Re.useEffect)((function(){l&&l.current&&l.current.parentElement&&l.current.parentElement.addEventListener("transitionend",u)}),[u]),Object(Re.useEffect)((function(){switch(s){case rH.UP_FINISHED:n();break;case rH.DOWN_FINISHED:r()}}),[s,r,n]);var d=Qe(Le.a.createElement("div",{role:"dialog",className:"popup-content",ref:l},i({onMessageSend:function(){c(rH.UP_PENDING)},onCancel:function(){c(rH.DOWN_PENDING)}})),{animates:Oe.NONE,className:Be()("cksharing-popup-view","ck-sharing-mouse-style","workflow-popup-view","mail-compose",t,a)}),h=d[0],f=d[1];return Object(Re.useEffect)((function(){return h(),function(){return f()}}),[f,h]),Le.a.createElement(Le.a.Fragment,null)}function cH(e){if(WP(e,Ar.a))throw new Error("wrapCWViewController received a View, did you mean to use wrapCWView instead?");if(!WP(e,zn.a))throw new Error("wrapCWViewController requires a ViewController");return Le.a.forwardRef((function(t,n){var r=Object(Re.useState)(null),i=r[0],a=r[1],o=Object(Re.useContext)(je);if(!o)throw new Error("WrappedCWViewController: Not supported outside of a CoreWebParentContext provider.");Object(Re.useLayoutEffect)((function(){var t=e.create();a(t)}),[]),Object(Re.useLayoutEffect)((function(){i&&Jz(i,t)}),[i,t]),Object(Re.useLayoutEffect)((function(){if(i){var e=i.parent,t=o.viewControllerParent;return o.isPaneContext&&null===e?o.application.addPane(i,!0):e!==t&&(i.willMoveToParentViewController(t),e&&e.removeChildViewController(i),t.addChildViewController(i),i.didMoveToParentViewController(t)),function(){i.retain(),o.isPaneContext?o.application.removePane(i):(i.willMoveToParentViewController(null),(e=i.parent)&&!e.isDisposed?e.removeChildViewController(i):i.parent=i.focusParent=null,i.didMoveToParentViewController(null)),i.release()}}}),[i,o.isPaneContext,o.application,o.viewControllerParent]);var s=i?i.view:null;return Le.a.createElement(Xz,{ref:n,parent:o.viewParent,view:s})}))}!function(e){e.IDLE="IDLE",e.UP_PENDING="UP_PENDING",e.UP_FINISHED="UP_FINISHED",e.DOWN_PENDING="DOWN_PENDING",e.DOWN_FINISHED="DOWN_FINISHED"}(rH||(rH={}));function lH(e,t){return n=this,r=void 0,a=function*(){var n,r,i=function(e,t){var n=t.shareUrl;if(!n){var r="displayedHostname"in e?e.displayedHostname:!0===t.isChinaAuthUser?"www.icloud.com.cn":"www.icloud.com",i=t.shareUrlNamespace||"share";n="https://"+r+"/"+encodeURIComponent(i)}var a=/%\{shortGUID\}/.test(n),o=n.indexOf("#")>=0,s=e.shortGUID;if(a)n=n.replace(/%\{(.*?)\}/g,s);else{var c=n.length-1,l=n.charAt(c);n+="#"===l||"/"===l?s:"/"+s}var u=t.shareUrlDescription;if(u&&!o){var d=encodeURIComponent(u);n+="#"+(d=(d=d.replace(/_/g,"%5F")).replace(/%20/g,"_"))}return n}(e,t),a=QW.WEB_MAIL;try{n=(yield t.provideBodyForTransport(a,i))||$j(t,e)}catch(o){n=$j(t,e)}try{r=(yield t.provideSubjectForMail())||Qj(t)}catch(o){r=Qj(t)}return{subject:r,body:n,appName:t.appName}},new((i=void 0)||(i=Promise))((function(e,t){function o(e){try{c(a.next(e))}catch(n){t(n)}}function s(e){try{c(a.throw(e))}catch(n){t(n)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(o,s)}c((a=a.apply(n,r||[])).next())}));var n,r,i,a}var uH=cH(oU.extend({addParticipantsHandler:null,onCancel:null,onEnd:null,onMessageSend:null,originatorSharingWorkflowVC:{sendEvent:function(){}},composeConfig:v.g({didChange:function(e){e&&this.composeMail(e)}}),_closeIframeHandler:function(){this.__s._$Qt$_closeIframeHandler.apply(this,arguments),this.onCancel()},_sendMessageSuccessful:function(){this.__s._$SP$_sendMessageSuccessful.apply(this,arguments),this.onMessageSend()},__superMap:{_$Qt$_closeIframeHandler:"_closeIframeHandler",_$SP$_sendMessageSuccessful:"_sendMessageSuccessful"}}));function dH(e){var t=this,n=e.onCancel,r=e.onEnd,i=e.onMessageSend,a=e.setInvitees,o=e.promise,s=e.share,c=e.settings,l=Object(Re.useState)(),u=l[0],d=l[1];return Object(Re.useEffect)((function(){var e,n,r,i;c&&s&&s.shortGUID&&(u||(e=t,n=void 0,i=function*(){var e=yield lH(s,c);d(e)},new((r=void 0)||(r=Promise))((function(t,a){function o(e){try{c(i.next(e))}catch(t){a(t)}}function s(e){try{c(i.throw(e))}catch(t){a(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}c((i=i.apply(e,n||[])).next())}))))}),[c,s,s.shortGUID,u]),Le.a.createElement(uH,{composeConfig:u,addParticipantsHandler:function(e){var t=[...e.to,...e.cc].map((function(e){return{userIdentity:$F.createFromString(e).getDataHash(),isInvalid:!1,isPending:!1}}));return a(t),r(),o},onCancel:n,onEnd:r,onMessageSend:i,settings:c})}function hH(e){var t=e.operationType,n=e.promise,r=e.selectedTransport,i=e.setSelectedTransport,a=e.setInvitees,o=e.onMessageSend,s=e.onCancel,c=e.onEnd,l=YW(),u=l.share,d=l.status,h=tz(),f=Sz(),p=d===LW.STARTUP_PENDING||d===LW.SHUTDOWN_PENDING,g=d===LW.CREATE_SHARE_PENDING||d===LW.SAVE_SHARE_PENDING,m=h.supportedTransports.map(lz),v=r&&m.length>1;return Le.a.createElement("div",{className:"workflow-screen add-participants-view sharing-dialog"},Le.a.createElement(Ez,{operationType:t}),p&&Le.a.createElement(yp,{description:"Loading"}),!f&&Le.a.createElement(Cz,null),f&&!p&&Le.a.createElement(Le.a.Fragment,null,v&&Le.a.createElement(aH,{setSelectedTransport:i,value:r,segments:m,isDisabled:g,isLoading:!1}),Le.a.createElement(sH,{onMessageSend:o,onCancel:s},(function(e){var t=e.onMessageSend,r=e.onCancel;return Le.a.createElement(dH,{onMessageSend:t,onCancel:r,setInvitees:a,onEnd:c,promise:n,share:u,settings:h})})),Le.a.createElement(Zz,{operationType:t})),Le.a.createElement(Yz,{operationType:t,onCancel:s,onSubmit:c}))}function fH(e){var t=e.onEnd,n=e.onCancel,r=YW(),i=r.share,a=r.selectedPermissionValue,o=tz(),s=Object(Re.useMemo)((function(){return bj.create(i)}),[i]),c=cH(nU.extend({share:v.g(s),settings:v.g(o),permission:v.g(a),didCompleteCopyLink:t,close:n,staticMembers:{__QUALIFIED_CLASS_NAME__:"CWCopyLink"}}));return Le.a.createElement(c,null)}var pH,gH,mH=cH(zn.a.extend({children:Object(v.g)(),viewClass:lp.extend({children:Object(dp.renderProperty)(),render:function(){return Le.a.createElement(Le.a.Fragment,null,this.children)}}),createView:function(){return this.viewClass.create({isRootView:this.isRootViewController,children:this.bindingFor("children")})}}));function vH(e,t){return Re.createElement("div",{className:Be()({large:t})},e)}function yH(e){var t=e.hidePane,n=e.messageKey,r=e.options,i=e.iconNames,a=function(e,t){var n=t.locNamespace?t.locNamespace+".":"",r="TOUCH"===t.interactionMode?"Compact":"Expanded",i=function(e){return cz(e).includes(e)},a=""+n+e+"."+(t.messageLocSuffix||"Message")+"."+r,o=cz(a,t.messageFormatValues),s=""+n+e+"."+(t.messageLocSuffix||"Message"),c=cz(s,t.messageFormatValues),l=i(a)?i(s)?"":c:o,u=""+n+(t.descriptionKey||e)+"."+(t.descriptionLocSuffix||"Description")+"."+r,d=cz(u,t.messageFormatValues),h=""+n+(t.descriptionKey||e)+"."+(t.descriptionLocSuffix||"Description"),f=cz(h,t.messageFormatValues);return{message:l,description:i(u)?i(h)?"":f:d}}(n,r),o=a.message,s=a.description,c=eH(pN.a);return Le.a.createElement(mH,null,Le.a.createElement(c,{message:o,description:s,iconNames:i,buttonViews:Rd.b.create([JD.a.create(Object.assign(Object.assign({},r.primaryButtonConfig),{additionalClassNames:ut.a(["primary"]),keyEquivalent:[nk.a.ESC,nk.a.RETURN],title:cz("CKSharing.ErrorDialog.OKButton.Title"),triggerButtonAction:function(){t()}}))])}))}Re.forwardRef((function(e,t){var n,r,i=e.children,a=e.className,o=e.id,s=e.mode,c=e.style,l=e.variant,u=e.singleButtonAlignment,d=void 0===u?"center":u,h=e.largeButtonSize,f=void 0!==h&&h,p=Re.useRef(null),g=function(e,t){return Re.Children.map(e,(function(e,n){var r=e.props.variant;return r||(r=0===n?"primary":"secondary"),Re.cloneElement(e,{variant:r,className:Be()(e.props.className,"block",{large:t})})}))}($v(i,"UIOverlayActions"),f),m=g[0],v=g.length>1?g[1]:null,y=g.length>2,_=y?g[2]:null,b=Re.useState(!1),w=b[0],S=b[1];"compact"===s||w?(n=Re.createElement("ui-overlay-actions-stack",null,m,v,_),r=Re.createElement("ui-overlay-actions-stack",null,Re.createElement("div",null,m.props.children),Re.createElement("div",null,null===v||void 0===v?void 0:v.props.children),Re.createElement("div",null,null===_||void 0===_?void 0:_.props.children))):y?(n=Re.createElement(Re.Fragment,null,_,Re.createElement("div",{className:"inline-end-buttons"},v,m)),r=Re.createElement(Re.Fragment,null,vH(null===_||void 0===_?void 0:_.props.children,f),Re.createElement("div",{className:"inline-end-buttons"},vH(null===v||void 0===v?void 0:v.props.children,f),vH(null===m||void 0===m?void 0:m.props.children,f)))):(n=Re.createElement(Re.Fragment,null,v,m),r=Re.createElement(Re.Fragment,null,v&&vH(null===v||void 0===v?void 0:v.props.children,f),vH(null===m||void 0===m?void 0:m.props.children,f))),Re.useLayoutEffect((function(){S(Zv(p))}),[p]);var E=1===g.length;return Re.createElement("ui-overlay-actions",{class:Be()(l||"standard",a,s,d,{"contains-tertiary-button":y,"single-button":E,"should-stack":w}),id:o,ref:$p(t,p),style:c},n,Re.createElement("div",{className:"buttons-measurer","aria-hidden":"true"},r))})).displayName="UIOverlayActions",function(e){e.IDLE="IDLE",e.ADD_PARTICIPANTS_PANE="ADD_PARTICIPANTS_PANE",e.MAIL_COMPOSE_PANE="MAIL_COMPOSE_PANE",e.COPY_LINK_PANE="COPY_LINK_PANE",e.SAVING_SHARE_FOR_COPY_LINK="SAVING_SHARE_FOR_COPY_LINK",e.SAVING_SHARE_FOR_MAIL_COMPOSE="SAVING_SHARE_FOR_MAIL_COMPOSE",e.VALIDATING_SHARE_FOR_COPY_LINK="VALIDATING_SHARE_FOR_COPY_LINK",e.VALIDATING_SHARE_FOR_MAIL_COMPOSE="VALIDATING_SHARE_FOR_MAIL_COMPOSE",e.SENDING_MAIL="SENDING_MAIL",e.WORKFLOW_ENDED="WORKFLOW_ENDED"}(pH||(pH={})),function(e){e.START_WORKFLOW="START_WORKFLOW",e.SET_SELECTED_TRANSPORT="SET_SELECTED_TRANSPORT",e.ADD_INVITEES="ADD_INVITEES",e.SAVE_SHARE_SUCCEEDED="SAVE_SHARE_SUCCEEDED",e.SAVE_SHARE_FAILED="SAVE_SHARE_FAILED",e.VALIDATE_SHARE_SUCCEEDED="VALIDATE_SHARE_SUCCEEDED",e.VALIDATE_SHARE_FAILED="VALIDATE_SHARE_FAILED",e.MAIL_SEND_SUCCESSFUL="MAIL_SEND_SUCCESSFUL",e.MAIL_SEND_FAILED="MAIL_SEND_FAILED",e.CANCEL="CANCEL",e.SUBMIT="SUBMIT"}(gH||(gH={}));var _H=function(e,t){var n=e.status,r=e.selectedTransport,i=e.invitees;switch(t.type){case gH.START_WORKFLOW:return{status:pH.ADD_PARTICIPANTS_PANE,selectedTransport:r,invitees:i};case gH.SET_SELECTED_TRANSPORT:return{status:n,selectedTransport:t.transport,invitees:[]};case gH.ADD_INVITEES:return{status:n,selectedTransport:r,invitees:t.invitees};case gH.MAIL_SEND_SUCCESSFUL:return{status:pH.WORKFLOW_ENDED,selectedTransport:r,invitees:i};case gH.MAIL_SEND_FAILED:return{status:pH.ADD_PARTICIPANTS_PANE,selectedTransport:r,invitees:i};case gH.SAVE_SHARE_SUCCEEDED:switch(r){case QW.WEB_MAIL:switch(t.isPublicShare){case!0:return{status:pH.MAIL_COMPOSE_PANE,selectedTransport:r,invitees:i};case!1:return{status:pH.SENDING_MAIL,selectedTransport:r,invitees:i}}break;case QW.COPY_LINK:return{status:pH.COPY_LINK_PANE,selectedTransport:r,invitees:i}}break;case gH.SAVE_SHARE_FAILED:return{status:pH.ADD_PARTICIPANTS_PANE,selectedTransport:r,invitees:i};case gH.VALIDATE_SHARE_SUCCEEDED:switch(r){case QW.WEB_MAIL:switch(t.isPublicShare){case!0:return{status:pH.SENDING_MAIL,selectedTransport:r,invitees:i};case!1:return{status:pH.SAVING_SHARE_FOR_MAIL_COMPOSE,selectedTransport:r,invitees:i}}break;case QW.COPY_LINK:return{status:pH.SAVING_SHARE_FOR_COPY_LINK,selectedTransport:r,invitees:i}}break;case gH.VALIDATE_SHARE_FAILED:switch(r){case QW.WEB_MAIL:return{status:pH.MAIL_COMPOSE_PANE,selectedTransport:r,invitees:i};case QW.COPY_LINK:return{status:pH.ADD_PARTICIPANTS_PANE,selectedTransport:r,invitees:i}}break;case gH.CANCEL:switch(n){case pH.ADD_PARTICIPANTS_PANE:return{status:pH.WORKFLOW_ENDED,selectedTransport:r,invitees:i};case pH.MAIL_COMPOSE_PANE:case pH.SAVING_SHARE_FOR_MAIL_COMPOSE:case pH.VALIDATING_SHARE_FOR_MAIL_COMPOSE:case pH.SENDING_MAIL:switch(t.isPublicShare){case!0:return{status:pH.WORKFLOW_ENDED,selectedTransport:r,invitees:i};case!1:return{status:pH.ADD_PARTICIPANTS_PANE,selectedTransport:r,invitees:i}}break;case pH.COPY_LINK_PANE:return{status:pH.WORKFLOW_ENDED,selectedTransport:r,invitees:i};case pH.IDLE:case pH.SAVING_SHARE_FOR_COPY_LINK:case pH.VALIDATING_SHARE_FOR_COPY_LINK:case pH.WORKFLOW_ENDED:return{status:n,selectedTransport:r,invitees:i}}break;case gH.SUBMIT:switch(n){case pH.ADD_PARTICIPANTS_PANE:switch(r){case QW.WEB_MAIL:switch(t.isPublicShare){case!0:return{status:pH.SAVING_SHARE_FOR_MAIL_COMPOSE,selectedTransport:r,invitees:i};case!1:return{status:pH.MAIL_COMPOSE_PANE,selectedTransport:r,invitees:i}}break;case QW.COPY_LINK:return{status:pH.VALIDATING_SHARE_FOR_COPY_LINK,selectedTransport:r,invitees:i}}break;case pH.MAIL_COMPOSE_PANE:return{status:pH.VALIDATING_SHARE_FOR_MAIL_COMPOSE,selectedTransport:r,invitees:i};case pH.COPY_LINK_PANE:return{status:pH.WORKFLOW_ENDED,selectedTransport:r,invitees:i};case pH.IDLE:case pH.SAVING_SHARE_FOR_COPY_LINK:case pH.SAVING_SHARE_FOR_MAIL_COMPOSE:case pH.VALIDATING_SHARE_FOR_COPY_LINK:case pH.VALIDATING_SHARE_FOR_MAIL_COMPOSE:case pH.SENDING_MAIL:case pH.WORKFLOW_ENDED:return{status:n,selectedTransport:r,invitees:i}}break;default:throw new Error("Unsupported action: "+t.type)}},bH=function(){var e,t,n=new Promise((function(n,r){return e=n,t=r}));return n.resolve=e,n.reject=t,n};function wH(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:SH,r=Object(Re.useState)(void 0),i=r[0],a=r[1],o=Object(Re.useRef)(null);Object(Re.useEffect)((function(){var r,a;void 0!==i&&n(i.value,e)||(null===(r=o.current)||void 0===r||r.call(o),o.current=null!==(a=t(null===i||void 0===i?void 0:i.value))&&void 0!==a?a:null)}),[t,n,i,e]),Object(Re.useEffect)((function(){return function(){var e;null===(e=o.current)||void 0===e||e.call(o)}}),[]),Object(Re.useEffect)((function(){a({value:e})}),[e])}function SH(e,t){return e===t}function EH(e){var t=e.operationType,n=e.renderNotificationPane,r=e.cacheingProvideRootRecordFunction,i=YW(),a=i.status,o=i.share,s=i.error,c=i.selectedAccessValue,l=KW(),u=tz(),d=Object(Re.useReducer)(_H,{status:pH.IDLE,selectedTransport:u.supportedTransports[0],invitees:[]}),h=d[0],f=d[1],p=h.status,g=h.invitees,m=h.selectedTransport,v=Object(Re.useState)((function(){return new bH})),y=v[0],_=v[1],b=function(){y.resolve("success")},w=function(){var e=new Error("Add participants failed");e.code=-1,y.resolve(e),_(new bH)},S=Cu(),E=function(e){var t=$e(at.Modal),n=t[0],r=t[1];return Object(Re.useMemo)((function(){return{info:function(t,i){return n(e({hidePane:function(){i&&"function"===typeof i.onHidePane&&i.onHidePane(),r()},messageKey:t,options:i,iconNames:"ck-sharing-icon"}),{animates:Oe.NONE,className:"cksharing-popup-view ck-sharing-mouse-style workflow-popup-view"})},warn:function(t,i){return n(e({hidePane:function(){i&&"function"===typeof i.onHidePane&&i.onHidePane(),r()},messageKey:t,options:i,iconNames:"ck-sharing-warn-icon"}),{animates:Oe.NONE,className:"cksharing-popup-view ck-sharing-mouse-style workflow-popup-view"})},error:function(t,i){return n(e({hidePane:function(){i&&"function"===typeof i.onHidePane&&i.onHidePane(),r()},messageKey:t,options:i,iconNames:"ck-sharing-error-icon"}),{animates:Oe.NONE,className:"cksharing-popup-view ck-sharing-mouse-style workflow-popup-view"})}}}),[e,n,r])}(n),I=BW(o.publicPermission),C=function(){return l({type:kW.RETURN_TO_RUNNING})};return wH(p,(function(){var e;switch(p){case pH.MAIL_COMPOSE_PANE:if(o.shortGUID&&""!==o.shortGUID)return;var n={provideRootRecordForUpdate:r,provideLatestRootRecordAfterUpdateConflict:u.provideLatestRootRecordAfterUpdateConflict,didUpdateRootRecord:u.didUpdateRootRecord};l({type:kW.CREATE_SHORT_GUID,options:n});break;case pH.VALIDATING_SHARE_FOR_COPY_LINK:c(g)?(function(e){var t=hz(e,{isPublicShare:I,loggedInUserIdentity:u.loggedInUserIdentity,maxNumberOfInvitees:u.maxNumberOfInvitees,isEmailFlow:!1,locale:S}),n=t.messageKey,r=t.options,i=Object.assign(Object.assign({},r),{onHidePane:C});E.error(n,i)}(g),f({type:gH.VALIDATE_SHARE_FAILED})):(I||l({type:kW.ADD_PARTICIPANTS,invitees:g}),f({type:gH.VALIDATE_SHARE_SUCCEEDED,isPublicShare:I}));break;case pH.VALIDATING_SHARE_FOR_MAIL_COMPOSE:var i="owner"in o&&o.owner.userIdentity.userRecordName,a="currentUserParticipant"in o&&(null===(e=o.currentUserParticipant)||void 0===e?void 0:e.userIdentity.userRecordName);!I||"string"===typeof i&&"string"===typeof a&&i===a?c(g)?(function(e){var t=hz(e,{isPublicShare:I,loggedInUserIdentity:u.loggedInUserIdentity,maxNumberOfInvitees:u.maxNumberOfInvitees,isEmailFlow:!0,locale:S}),n=t.messageKey,r=t.options,i=Object.assign(Object.assign({},r),{onHidePane:C});E.error(n,i)}(g),w(),f({type:gH.VALIDATE_SHARE_FAILED})):(I||l({type:kW.ADD_PARTICIPANTS,invitees:g}),f({type:gH.VALIDATE_SHARE_SUCCEEDED,isPublicShare:I})):(b(),f({type:gH.CANCEL,isPublicShare:I}));break;case pH.SAVING_SHARE_FOR_COPY_LINK:case pH.SAVING_SHARE_FOR_MAIL_COMPOSE:!function(){var e=t===FW.INITIATE_SHARE?"InitiatingNewShare":t===FW.MANAGE_SHARE?"AddingParticipantsToShare":null;e&&u.logService.recordStat(e,{appName:u.appName,transport:m})}();var s={provideRootRecordForUpdate:r,didUpdateRootRecord:u.didUpdateRootRecord,provideLatestRootRecordAfterUpdateConflict:u.provideLatestRootRecordAfterUpdateConflict,didUpdateShareRecord:u.didUpdateShareRecord};l({type:kW.CREATE_SHARE,options:s});break;case pH.SENDING_MAIL:b();break;case pH.WORKFLOW_ENDED:I&&m===QW.WEB_MAIL&&b()}function c(e){return function(e,t){var n=t.isPublicShare,r=t.loggedInUserIdentity,i=t.maxNumberOfInvitees;return!!mz(e)||!!vz(e)||!!yz(e)||!!_z(e)||!!bz(e,r)||!!wz(e,n,i)}(e,{isPublicShare:I,loggedInUserIdentity:u.loggedInUserIdentity,maxNumberOfInvitees:u.maxNumberOfInvitees})}})),wH(a,(function(){switch(a){case LW.STARTUP_RESOLVED:f({type:gH.START_WORKFLOW});break;case LW.CREATE_SHARE_RESOLVED:f({type:gH.SAVE_SHARE_SUCCEEDED,isPublicShare:I});break;case LW.CREATE_SHARE_REJECTED:m===QW.COPY_LINK?(e=s,Fj({operationType:"INVITE_TO_"+(I?"PUBLIC":"PRIVATE.VIA_UNKNOWN"),appName:u.shareItemType,interactionMode:u.primaryInteractionMode},E,u.logService,{onHidePane:C})(e)):m===QW.WEB_MAIL&&function(e){var t=Fj({operationType:I?"INVITE_TO_PUBLIC":"INVITE_TO_PRIVATE.VIA_EMAIL."+(1===g.length?"TO_PERSON":"TO_PEOPLE"),appName:u.shareItemType,interactionMode:u.primaryInteractionMode},E,u.logService,{onHidePane:C});try{t(e)}catch(n){E.error("AddingParticipants.MAIL_ADD_PARTICIPANTS_FAILED",{locNamespace:"CKSharing.ErrorDialog",primaryButtonConfig:{keyEquivalent:[27,13],title:cz("CKSharing.ErrorDialog.OKButton.Title"),error:n},onHidePane:C}),w()}}(s),f({type:gH.SAVE_SHARE_FAILED});break;case LW.CREATE_SHORT_GUID_REJECTED:!function(e){Fj({operationType:"INVITE_TO_PUBLIC",appName:u.shareItemType,interactionMode:u.primaryInteractionMode},E,u.logService,{onHidePane:C})(e)}(s)}var e})),wH(c,(function(){c===qR.PUBLIC&&f({type:gH.ADD_INVITEES,invitees:[]})})),[Object.assign(Object.assign({},h),{mailComposePromise:y}),f]}function IH(e){var t=e.cacheingProvideRootRecordFunction,n=e.onStart,r=e.onEnd,i=FW.INITIATE_SHARE,a=YW(),o=a.status,s=a.share,c=KW(),l=tz(),u=EH({operationType:i,renderNotificationPane:function(e){return Le.a.createElement(yH,Object.assign({},e))},cacheingProvideRootRecordFunction:t}),d=u[0],h=d.status,f=d.invitees,p=d.selectedTransport,g=d.mailComposePromise,m=u[1],v=BW(s.publicPermission);wH(void 0,(function(){return n(),l.logService.recordStat("StartedInitiateShareWorkflow",{appName:l.appName}),c({type:kW.STARTUP}),function(){return c({type:kW.SHUTDOWN})}})),wH(h,(function(){h===pH.WORKFLOW_ENDED&&c({type:kW.SHUTDOWN})})),wH(o,(function(){switch(o){case LW.SHUTDOWN_REJECTED:r(void 0);break;case LW.SHUTDOWN:r(s)}}));var y=Object(Re.useCallback)((function(){return m({type:gH.CANCEL,isPublicShare:v})}),[v,m]),_=Object(Re.useCallback)((function(){return m({type:gH.SUBMIT,isPublicShare:v})}),[v,m]),b=function(){return m({type:gH.MAIL_SEND_SUCCESSFUL})},w=function(e){return m({type:gH.ADD_INVITEES,invitees:e})},S=function(e){return m({type:gH.SET_SELECTED_TRANSPORT,transport:e})},E=h===pH.SAVING_SHARE_FOR_COPY_LINK||h===pH.SAVING_SHARE_FOR_MAIL_COMPOSE||h===pH.VALIDATING_SHARE_FOR_COPY_LINK||h===pH.VALIDATING_SHARE_FOR_MAIL_COMPOSE;switch(h){case pH.ADD_PARTICIPANTS_PANE:case pH.VALIDATING_SHARE_FOR_COPY_LINK:case pH.SAVING_SHARE_FOR_COPY_LINK:return Le.a.createElement(oH,{operationType:i,isBusy:E,selectedTransport:p,setSelectedTransport:S,invitees:f,setInvitees:w,onCancel:y,onEnd:_});case pH.MAIL_COMPOSE_PANE:case pH.VALIDATING_SHARE_FOR_MAIL_COMPOSE:case pH.SENDING_MAIL:return Le.a.createElement(hH,{operationType:i,promise:g,selectedTransport:p,setSelectedTransport:S,setInvitees:w,onMessageSend:b,onCancel:y,onEnd:_});case pH.SAVING_SHARE_FOR_MAIL_COMPOSE:return v?Le.a.createElement(oH,{operationType:i,isBusy:E,selectedTransport:p,setSelectedTransport:S,invitees:f,setInvitees:w,onCancel:y,onEnd:_}):Le.a.createElement(hH,{operationType:i,promise:g,selectedTransport:p,setSelectedTransport:S,setInvitees:w,onMessageSend:b,onCancel:y,onEnd:_});case pH.COPY_LINK_PANE:return Le.a.createElement(fH,{onCancel:y,onEnd:_});case pH.IDLE:case pH.WORKFLOW_ENDED:return Le.a.createElement(Le.a.Fragment,null);default:throw new Error("Unsupported UI state: "+h)}}var CH,OH=zn.a.extend({init:function(e,t,n,r){this.ioService=e,this.cacheingProvideRootRecordFunction=t,this.settings=n,this.__s._$Hz$init.call(this,r)},ioService:v.g(),settings:v.g(),cacheingProvideRootRecordFunction:null,createView:function(){return this.viewClass.create({ioService:this.ioService,settings:this.settings,cacheingProvideRootRecordFunction:this.cacheingProvideRootRecordFunction.bind(this),onStart:this.start.bind(this),onEnd:this.end.bind(this)})},_promise:y.c(Me.b(b.a)),start:function(){return this._promise},end:function(e){return this._promise.resolve({share:e})},viewClass:lp.extend({ioService:dp.renderProperty(),settings:dp.renderProperty(),cacheingProvideRootRecordFunction:null,onStart:null,onEnd:null,render:function(){return Le.a.createElement(We,null,Le.a.createElement(XW,{value:{sharingIOService:this.ioService,initialShareState:(e=this.settings,{status:LW.IDLE,share:{recordType:"cloudkit.share",participants:[],publicPermission:e.supportedAccess[0]===qR.PUBLIC?e.supportedPermissions[0]:XR.NONE,fields:e.shareRecordFields,recordName:void 0,anonymousPublicAccess:!!e.useAnonymousPublicAccess},knownShareServerState:void 0,error:void 0,asyncEffect:void 0,selectedAccessValue:e.defaultAccess,selectedPermissionValue:e.defaultPermission,selectedTypeValue:YR.ADMINISTRATOR})}},Le.a.createElement(ez,{value:this.settings},Le.a.createElement("div",{className:"workflow-view"},Le.a.createElement(IH,{cacheingProvideRootRecordFunction:this.cacheingProvideRootRecordFunction,onStart:this.onStart,onEnd:this.onEnd})))));var e}}),__superMap:{_$Hz$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"InitiateShareWorkflowReactWrapper"}});!function(e){e.PUBLIC="PUBLIC",e.PRIVATE="PRIVATE",e.SHARED="SHARED"}(CH||(CH={}));var TH=CH,AH={initiateShare:xH.bind(void 0,OH),addParticipants:xH.bind(void 0,CV),addParticipantsInSingleStep:xH.bind(void 0,NV),manageShare:xH.bind(void 0,IW),createWorkflow:MH.bind(void 0),presentWorkflow:kH.bind(void 0),unshare:function(e,t,n,r,i){var a=NH(e,t,n).retain(),o=FH(r);return a.start().then((function(){o().then((function(e){return(OV(e)?b.a.resolve(fg.Result.success(e)):a.fetchDataRecord(e.recordName)).then((function(e){if(!e.ok)throw e.error;if(OV(e.value))return a.deleteShare(e.value.share)}))}))}))},getSupportedTransportsForSettings:function(e){return LH(e).retain().autorelease().supportedTransports.map(RW)},startWatchingShareRecord:function(e,t,n,r,i){var a=e[t===TH.PRIVATE?"privateCloudDatabase":"sharedCloudDatabase"];return oW(a,n,r,i)},stopWatchingShareRecord:function(e){return sW(e)}};function NH(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=ol.a(r,"database"),a=t===TH.PRIVATE?"privateCloudDatabase":"sharedCloudDatabase",o=yt.a(i)?i:e[a];return new sV(o,n,r)}function MH(e,t,n,r,i,a,o){var s=LH(a),c=FH(i);return e.create(NH(t,n,r,s),c,s,o)}var DH=function(e){var t={};if(e){var n=ol.a(i,"globals.environment.authBag.servicesInfo");yt.a(n)&&(t=n)}else{var r=sc.sharedInstance.webServices;yt.a(r)&&(t=r)}return t},RH=function(e,t){if(t){if(yt.a(e.mail))return!0}else if(e.get("mail"))return!0;return!1};function LH(e){var t,n=t=P.a(e,gj)?e:gj.fromJSON(e||{}),r=n.loggedInUserIdentity,i=n.logService,a=n.notificationService,o=n.supportedTransports,s=n.supportedAccess,c=n.supportsNativeMail,l=n.hostedByCloudOSOne,u=n.isChinaAuthUser,d=r;if(r||(d=l?iA.currentUser:yl.defaultInstance.user,t.loggedInUserIdentity={givenName:d.firstName,familyName:d.lastName,appleId:d.appleId,isManagedAppleID:d.isManagedAppleID}),i||(i=l?iA.cloudOSService:Pc.create(),t.logService=i),a||(t.notificationService=AW.create()),!u)if(l)t.isChinaAuthUser=window.location.origin.endsWith(".com.cn");else if(tc)t.isChinaAuthUser=tc.isDomainCN;else if(zR&&!tc){var h=zR.sharedInstance.current.countryCode;t.isChinaAuthUser=h&&"CHN"===h}var f=DH(l);if(RH(f,l)?o.unshift(JR.WEB_MAIL):c&&o.unshift(JR.NATIVE_MAIL),t.isAXMServiceAvailable=!yt.a(f.maidautocompletews),t.isChinaAuthUser||yt.a(d)&&d.get("isManagedAppleID")){var p=s.indexOf(qR.PUBLIC);p>-1&&s.splice(p,1)}return t}function kH(e){var t=lU.create();t.showViewController(e),t.show();var n=QT.a(arguments,0,1),r=e.start.apply(e,n);return DW(t),r.finally((function(){t.hide()}))}function xH(e,t,n,r,i,a,o){return kH(MH.apply(void 0,arguments))}function FH(e){var t=null;return function(n){return e(n||t).then((function(e){return t=e,e})).catch(Lj)}}function PH(e,t){if(e.isSharedDirectlyOrIndirectly&&e.sharedFolderFromHierarchy){var n=t(e.sharedFolderFromHierarchy).startWatchingShareRecord();if(n.ok)return n.data[0]}}var jH,UH=S.b("OpenFileErrorItemType",["RequestedItemWasDeletedError","RequestedItemWasUnshared","EmailAttachmentError","GenericOpenItemError"]),BH=oe.a.extend({init:function(e,t){this.item=e,this.__s._$4y$init.call(this,t)},item:null,__superMap:{_$4y$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ErrorDetails"}}),VH=oe.a.extend({init:function(e,t,n){this.type=e,this.details=t,this.__s._$Ce$init.call(this,n)},type:y.c({type:j.a}),details:y.c({type:BH,defaultValue:null}),__superMap:{_$Ce$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ErrorItem"}});function WH(e){var t;return(null!=(t=jH)?t:jH=new Intl.NumberFormat(Object(wu.b)())).format(e)}Object(Sr.b)(Object(Sr.c)(),{"Date.Era.AD.Abbreviated":"AD","Date.Era.AD.Full":"Anno Domini","Date.Era.AD.Letter":"A","Date.Era.BC.Abbreviated":"BC","Date.Era.BC.Full":"Before Christ","Date.Era.BC.Letter":"B","Date.Quarter.Q1.Abbreviated":"Q1","Date.Quarter.Q1.Full":"1st quarter","Date.Quarter.StandAlone.Q1.Abbreviated":"Q1","Date.Quarter.StandAlone.Q1.Full":"1st Quarter","Date.Quarter.Q2.Abbreviated":"Q2","Date.Quarter.Q2.Full":"2nd quarter","Date.Quarter.StandAlone.Q2.Abbreviated":"Q2","Date.Quarter.StandAlone.Q2.Full":"2nd Quarter","Date.Quarter.Q3.Abbreviated":"Q3","Date.Quarter.Q3.Full":"3rd quarter","Date.Quarter.StandAlone.Q3.Abbreviated":"Q3","Date.Quarter.StandAlone.Q3.Full":"3rd Quarter","Date.Quarter.Q4.Abbreviated":"Q4","Date.Quarter.Q4.Full":"4th quarter","Date.Quarter.StandAlone.Q4.Abbreviated":"Q4","Date.Quarter.StandAlone.Q4.Full":"4th Quarter","Date.Month.January.Abbreviated":"Jan","Date.Month.January.Full":"January","Date.Month.January.Letter":"J","Date.Month.StandAlone.January.Abbreviated":"Jan","Date.Month.StandAlone.January.Full":"January","Date.Month.StandAlone.January.Letter":"J","Date.Month.Prepositional.January.Abbreviated":"Jan","Date.Month.Prepositional.January.Full":"January","Date.Month.Prepositional.January.Letter":"J","Date.Month.February.Abbreviated":"Feb","Date.Month.February.Full":"February","Date.Month.February.Letter":"F","Date.Month.StandAlone.February.Abbreviated":"Feb","Date.Month.StandAlone.February.Full":"February","Date.Month.StandAlone.February.Letter":"F","Date.Month.Prepositional.February.Abbreviated":"Feb","Date.Month.Prepositional.February.Full":"February","Date.Month.Prepositional.February.Letter":"F","Date.Month.March.Abbreviated":"Mar","Date.Month.March.Full":"March","Date.Month.March.Letter":"M","Date.Month.StandAlone.March.Abbreviated":"Mar","Date.Month.StandAlone.March.Full":"March","Date.Month.StandAlone.March.Letter":"M","Date.Month.Prepositional.March.Abbreviated":"Mar","Date.Month.Prepositional.March.Full":"March","Date.Month.Prepositional.March.Letter":"M","Date.Month.April.Abbreviated":"Apr","Date.Month.April.Full":"April","Date.Month.April.Letter":"A","Date.Month.StandAlone.April.Abbreviated":"Apr","Date.Month.StandAlone.April.Full":"April","Date.Month.StandAlone.April.Letter":"A","Date.Month.Prepositional.April.Abbreviated":"Apr","Date.Month.Prepositional.April.Full":"April","Date.Month.Prepositional.April.Letter":"A","Date.Month.May.Abbreviated":"May","Date.Month.May.Full":"May","Date.Month.May.Letter":"M","Date.Month.StandAlone.May.Abbreviated":"May","Date.Month.StandAlone.May.Full":"May","Date.Month.StandAlone.May.Letter":"M","Date.Month.Prepositional.May.Abbreviated":"May","Date.Month.Prepositional.May.Full":"May","Date.Month.Prepositional.May.Letter":"M","Date.Month.June.Abbreviated":"Jun","Date.Month.June.Full":"June","Date.Month.June.Letter":"J","Date.Month.StandAlone.June.Abbreviated":"Jun","Date.Month.StandAlone.June.Full":"June","Date.Month.StandAlone.June.Letter":"J","Date.Month.Prepositional.June.Abbreviated":"Jun","Date.Month.Prepositional.June.Full":"June","Date.Month.Prepositional.June.Letter":"J","Date.Month.July.Abbreviated":"Jul","Date.Month.July.Full":"July","Date.Month.July.Letter":"J","Date.Month.StandAlone.July.Abbreviated":"Jul","Date.Month.StandAlone.July.Full":"July","Date.Month.StandAlone.July.Letter":"J","Date.Month.Prepositional.July.Abbreviated":"Jul","Date.Month.Prepositional.July.Full":"July","Date.Month.Prepositional.July.Letter":"J","Date.Month.August.Abbreviated":"Aug","Date.Month.August.Full":"August","Date.Month.August.Letter":"A","Date.Month.StandAlone.August.Abbreviated":"Aug","Date.Month.StandAlone.August.Full":"August","Date.Month.StandAlone.August.Letter":"A","Date.Month.Prepositional.August.Abbreviated":"Aug","Date.Month.Prepositional.August.Full":"August","Date.Month.Prepositional.August.Letter":"A","Date.Month.September.Abbreviated":"Sep","Date.Month.September.Full":"September","Date.Month.September.Letter":"S","Date.Month.StandAlone.September.Abbreviated":"Sep","Date.Month.StandAlone.September.Full":"September","Date.Month.StandAlone.September.Letter":"S","Date.Month.Prepositional.September.Abbreviated":"Sep","Date.Month.Prepositional.September.Full":"September","Date.Month.Prepositional.September.Letter":"S","Date.Month.October.Abbreviated":"Oct","Date.Month.October.Full":"October","Date.Month.October.Letter":"O","Date.Month.StandAlone.October.Abbreviated":"Oct","Date.Month.StandAlone.October.Full":"October","Date.Month.StandAlone.October.Letter":"O","Date.Month.Prepositional.October.Abbreviated":"Oct","Date.Month.Prepositional.October.Full":"October","Date.Month.Prepositional.October.Letter":"O","Date.Month.November.Abbreviated":"Nov","Date.Month.November.Full":"November","Date.Month.November.Letter":"N","Date.Month.StandAlone.November.Abbreviated":"Nov","Date.Month.StandAlone.November.Full":"November","Date.Month.StandAlone.November.Letter":"N","Date.Month.Prepositional.November.Abbreviated":"Nov","Date.Month.Prepositional.November.Full":"November","Date.Month.Prepositional.November.Letter":"N","Date.Month.December.Abbreviated":"Dec","Date.Month.December.Full":"December","Date.Month.December.Letter":"D","Date.Month.StandAlone.December.Abbreviated":"Dec","Date.Month.StandAlone.December.Full":"December","Date.Month.StandAlone.December.Letter":"D","Date.Month.Prepositional.December.Abbreviated":"Dec","Date.Month.Prepositional.December.Full":"December","Date.Month.Prepositional.December.Letter":"D","Date.Day.Monday.Abbreviated":"Mon","Date.Day.Monday.Full":"Monday","Date.Day.Monday.Letter":"M","Date.Day.StandAlone.Monday.Abbreviated":"Mon","Date.Day.StandAlone.Monday.Full":"Monday","Date.Day.StandAlone.Monday.Letter":"M","Date.Day.Tuesday.Abbreviated":"Tue","Date.Day.Tuesday.Full":"Tuesday","Date.Day.Tuesday.Letter":"T","Date.Day.StandAlone.Tuesday.Abbreviated":"Tue","Date.Day.StandAlone.Tuesday.Full":"Tuesday","Date.Day.StandAlone.Tuesday.Letter":"T","Date.Day.Wednesday.Abbreviated":"Wed","Date.Day.Wednesday.Full":"Wednesday","Date.Day.Wednesday.Letter":"W","Date.Day.StandAlone.Wednesday.Abbreviated":"Wed","Date.Day.StandAlone.Wednesday.Full":"Wednesday","Date.Day.StandAlone.Wednesday.Letter":"W","Date.Day.Thursday.Abbreviated":"Thu","Date.Day.Thursday.Full":"Thursday","Date.Day.Thursday.Letter":"R","Date.Day.StandAlone.Thursday.Abbreviated":"Thu","Date.Day.StandAlone.Thursday.Full":"Thursday","Date.Day.StandAlone.Thursday.Letter":"R","Date.Day.Friday.Abbreviated":"Fri","Date.Day.Friday.Full":"Friday","Date.Day.Friday.Letter":"F","Date.Day.StandAlone.Friday.Abbreviated":"Fri","Date.Day.StandAlone.Friday.Full":"Friday","Date.Day.StandAlone.Friday.Letter":"F","Date.Day.Saturday.Abbreviated":"Sat","Date.Day.Saturday.Full":"Saturday","Date.Day.Saturday.Letter":"S","Date.Day.StandAlone.Saturday.Abbreviated":"Sat","Date.Day.StandAlone.Saturday.Full":"Saturday","Date.Day.StandAlone.Saturday.Letter":"S","Date.Day.Sunday.Abbreviated":"Sun","Date.Day.Sunday.Full":"Sunday","Date.Day.Sunday.Letter":"S","Date.Day.StandAlone.Sunday.Abbreviated":"Sun","Date.Day.StandAlone.Sunday.Full":"Sunday","Date.Day.StandAlone.Sunday.Letter":"S","Date.Period.AM":"AM","Date.Period.PM":"PM","ReorderableSimpleListViewController.CancelledMove":"Cancelled move","ReorderableSimpleListViewController.GrabbedItem.MovedUp":"Moved above %{itemTitle}","ReorderableSimpleListViewController.GrabbedItem.MovedDown":"Moved below %{itemTitle}","ReorderableSimpleListViewController.ItemDropped":"Moved %{itemTitle} to position %{positionNumber}","AXGrabToggleButton.AriaLabel.Ungrabbed":"Reorder %{title}","AXGrabToggleButton.AriaLabel.Grabbed":"Use arrow keys to move. Press Return or Enter to commit or Escape to cancel."});var zH=function e(t,n){if(!t)throw new Xn.a("No date passed to date formatter.");if(!t.getFullYear)throw new TypeError("Object passed to date formatter was not a date!");if(isNaN(t.getTime()))throw new Xn.a("Invalid date passed to date formatter");if(!n)throw new Xn.a("No formatting string passed to date formatter.",{date:t});for(var r=n.length,i=n[0],a=1;a<r;a++)if(n[a]!==i)throw new Xn.a("Invalid format string for a date; all characters must be the same.",{format:n,date:t});var o=e[i];if("function"!==typeof o)throw new Xn.a("Formatter not supported for date.",{formatterKey:i,date:t});return o(t,r)};zH.G=function(e,t){var n="Date.Era.";if(n+=e.getFullYear()>=0?"AD":"BC",t<=3)return Object(Sr.d)(n+".Abbreviated");if(4===t)return Object(Sr.d)(n+".Full");if(5===t)return Object(Sr.d)(n+".Letter");throw new Xn.a("Invalid era format: Expected at most 5 digits.")},zH.Y=zH.y=function(e,t){var n=e.getFullYear();1===t&&(t=String(n).length);for(var r=Math.abs(n).toString();r.length<t;)r="0"+r;return r.substr(r.length-t)},zH.u=function(e,t){var n=e.getFullYear();1===t&&(t=String(n).length);for(var r=e.getFullYear()<0,i=Math.abs(n).toString();i.length<t;)i="0"+i;return(r?"-":"")+i.substr(i.length-t)},zH.Q=function(e,t,n){var r=e.getMonth(),i=Math.floor(r/3)+1,a="Date.Quarter."+(n?"StandAlone.":"")+"Q"+i;if(1===t)return""+i;if(2===t)return"0"+i;if(3===t)return Object(Sr.d)(a+".Abbreviated");if(4===t)return Object(Sr.d)(a+".Full");throw new Xn.a("Unrecognized number of characters for quarter")},zH.q=function(e,t){return zH.Q(e,t,!0)},zH.ENGLISH_MONTH_NAMES=["January","February","March","April","May","June","July","August","September","October","November","December"],zH.M=function(e,t,n){var r=e.getMonth(),i=""+(r+1),a="Date.Month."+(n||"")+zH.ENGLISH_MONTH_NAMES[r];if(1===t)return i;if(2===t)return i.length<2&&(i="0"+i),i;if(3===t)return Object(Sr.d)(a+".Abbreviated");if(4===t)return Object(Sr.d)(a+".Full");if(5===t)return Object(Sr.d)(a+".Letter");throw new Xn.a("The # of Ms or Ls must be 1 to 5.")},zH.L=function(e,t){return zH.M(e,t,"StandAlone.")},zH.P=function(e,t){return zH.M(e,t,"Prepositional.")},zH.d=function(e,t){var n=""+e.getDate();return t>n.length&&(n="0"+n),n},zH.D=function(e,t){for(var n=new Date(e.getFullYear(),0,1).getTime(),r=e.getTime()-n,i=""+(Math.floor(r/864e5)+1);i.length<t;)i="0"+i;return i},zH.ENGLISH_DAY_NAMES=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],zH.E=function(e,t){return t<3&&(t=3),zH.e(e,t)},zH.e=function(e,t,n){var r=e.getDay(),i=""+(r+1),a="Date.Day."+(n?"StandAlone.":"")+zH.ENGLISH_DAY_NAMES[r];if(1===t)return i;if(2===t)return"0"+i;if(3===t)return Object(Sr.d)(a+".Abbreviated");if(4===t)return Object(Sr.d)(a+".Full");if(5===t)return Object(Sr.d)(a+".Letter");throw new Xn.a("The number of `e`s, `c`s, or `E`s in date format string must be 1 to 5.",{count:t})},zH.c=function(e,t){return zH.e(e,t,!0)},zH.a=function(e,t){if(1!==t)throw new Xn.a("`a` can only be included in a date format string once.");var n="Date.Period."+(e.getHours()>11?"PM":"AM");return Object(Sr.d)(n)},zH._h=function(e,t,n,r){var i=e.getHours();n||(i%=12),r&&(n?0===i&&(i=24):0===i&&(i=12));var a=""+i;return a.length<t&&(a="0"+a),a},zH.h=function(e,t){return zH._h(e,t,!1,1)},zH.H=function(e,t){return zH._h(e,t,!0,0)},zH.K=function(e,t){return zH._h(e,t,!1,0)},zH.k=function(e,t){return zH._h(e,t,!0,1)},zH.m=function(e,t){for(var n=""+e.getMinutes();n.length<t;)n="0"+n;return n},zH.s=function(e,t){for(var n=""+e.getSeconds();n.length<t;)n="0"+n;return n},zH.S=function(e,t){for(var n=e.getMilliseconds()/1e3,r=Math.pow(10,t),i=""+(n=Math.round(n*r));i.length<t;)i="0"+i;return i},zH.A=function(e,t){for(var n=new Date(e.getFullYear(),e.getMonth(),e.getDay()).getTime(),r=""+(e.getTime()-n);r.length<t;)r="0"+r;return r};var HH=new Map,GH=function(e,t){return $H(e,t),function(){QH(e,t)}},$H=function(e,t){var n=qh.find(e)||Rf.find(e);if(null!=n&&n.isSharedDirectlyOrIndirectly){var r=HH.get(e);if(r)r.subscriptions.add(t);else{var i,a=qH(n),o=null==n||null==(i=n.ckRecordHash)?void 0:i.share;if(o){var s=n.zoneIDHash,c={subscriptions:new Set([t])};HH.set(e,c);var l=AH.startWatchingShareRecord(a.container,a.dbScope,s,o.recordName,{shareWasUpdated:function(t){KH(e,n,t)}}),u=l[0],d=l[1];return c.watchId=u,d.then((function(t){t.ok&&KH(e,n,t.value)})),u}}}},KH=function(e,t,n){var r=HH.get(e);if(r){var i=r.subscriptions;ZH(t,n,i)}},QH=function(e,t){var n=HH.get(e);if(n){var r=n.watchId,i=n.subscriptions;i.delete(t),0===i.size&&void 0!==r&&(AH.stopWatchingShareRecord(r),HH.delete(e))}},qH=function(e){var t=rg.getDefaultContainer(),n=TH;return{container:t,dbScope:(e.share||wh.BY_ME)===wh.BY_ME?n.PRIVATE:n.SHARED}},ZH=function(e,t,n){var r=YH(t),i=XH(t);r||i?(e.share=null,i&&(e.shareID=void 0),n.forEach((function(e){return e(void 0)}))):JH(e,t)?(e.share=wh.BY_ME,n.forEach((function(e){return e(t)}))):n.forEach((function(e){return e(t)}))},YH=function(e){var t=null==e?void 0:e.participants;return(null==e?void 0:e.publicPermission)===XR.NONE&&t&&1===t.length&&"OWNER"===t[0].type},XH=function(e){return e&&e.deleted},JH=function(e,t){return t.share&&!e.share};Object(Sr.b)(Object(Sr.c)(),{"DriveUI.Alert.UpgradeInstructions":"Upgrade Instructions","DriveUI.Alert.CannotRenameItem.NoExtension.Message":"The name %{name} is already taken.","DriveUI.Alert.CannotRenameItem.Description":"Please choose a different name.","DriveUI.Alert.CannotRenameItem.Group.Message":"%{count} items could not be renamed because their names are already taken.","DriveUI.Alert.CannotRenameItem.Group.Description":"Please choose different names.","DriveUI.Alert.InvalidName.File.Message":"The name %{fileNameWithExtension} cant be used.","DriveUI.Alert.InvalidName.Folder.Message":"The name %{name} cant be used.","DriveUI.Alert.InvalidName.Description":"Try using a name with fewer characters, or with no punctuation marks.","DriveUI.Alert.EmptyName.File.Message":"The name %{fileNameWithExtension} is invalid.","DriveUI.Alert.EmptyName.Folder.Message":"The name %{name} is invalid.","DriveUI.Alert.EmptyName.Description":"Please choose a different name.","DriveUI.Alert.HiddenName.File.Message":"The name of your file shouldnt begin with a . (dot).","DriveUI.Alert.HiddenName.Folder.Message":"The name of your folder shouldnt begin with a . (dot).","DriveUI.Alert.HiddenName.Description":"Please choose a different name.","DriveUI.Alert.TransactionError.CreateFolder.Message":"There was a problem creating folder %{name}.","DriveUI.Alert.TransactionError.CreateFolder.Description":"Try creating the folder again later.","DriveUI.Alert.TransactionError.RenameItem.File.Message":"There was a problem renaming file %{name}.","DriveUI.Alert.TransactionError.RenameItem.File.Description":"Try renaming the file again later.","DriveUI.Alert.TransactionError.RenameItem.Folder.Message":"There was a problem renaming folder %{name}.","DriveUI.Alert.TransactionError.RenameItem.Folder.Description":"Try renaming the folder again later.","DriveUI.Alert.TransactionError.DeleteItems.Single.Message":"There was a problem deleting %{name}.","DriveUI.Alert.TransactionError.DeleteItems.Single.File.Description":"Try deleting the file again later.","DriveUI.Alert.TransactionError.DeleteItems.Single.Folder.Description":"Try deleting the folder again later.","DriveUI.Alert.TransactionError.DeleteItems.Single.AppLibrary.Description":"Try deleting the app library again later.","DriveUI.Alert.TransactionError.MovingItems.Single.Message":"There was a problem moving %{name} to %{folder}.","DriveUI.Alert.TransactionError.MovingItems.Single.File.Description":"Try moving the file again later.","DriveUI.Alert.TransactionError.MovingItems.Single.Folder.Description":"Try moving the folder again later.","DriveUI.Alert.TransactionError.RecoverItem.Message":"There was a problem recovering %{name}.","DriveUI.Alert.TransactionError.RecoverItem.File.Description":"Try recovering the file again later.","DriveUI.Alert.TransactionError.RecoverItem.Folder.Description":"Try recovering the folder again later.","DriveUI.Alert.TransactionError.RecoverItems.Message":"%{count} items could not be recovered.","DriveUI.Alert.TransactionError.RecoverItems.Description":"These items could not be recovered due to an unexpected error. Try again later.","DriveUI.Alert.TransactionError.Group.CreateFolders.Message":"%{count} folders could not be created","DriveUI.Alert.TransactionError.Group.CreateFolders.Description":"These folders could not be created due to an unexpected error. Try again later.","DriveUI.Alert.TransactionError.Group.RenameItems.Message":"%{count} items could not be renamed","DriveUI.Alert.TransactionError.Group.RenameItems.Description":"These items could not be renamed due to an unexpected error. Try again later.","DriveUI.Alert.TransactionError.Group.DeleteItems.Message":"%{count} items could not be deleted","DriveUI.Alert.TransactionError.Group.DeleteItems.Description":"These items could not be deleted due to an unexpected error. Try again later.","DriveUI.Alert.TransactionError.Group.MoveItems.Generic.Message":"%{count} items could not be moved","DriveUI.Alert.TransactionError.Group.MoveItems.Generic.Description":"These items could not be moved due to an unexpected error. Try again later.","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.Default":"Unexpected error. Please try again later.","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemDeleted.File":"File was deleted.","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemDeleted.Folder":"Folder was deleted.","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemDeleted.AppLibrary":"Application library was deleted.","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemMoved.File":"File was moved.","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemMoved.Folder":"Folder was moved.","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemModified.File":"File was modified.","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemModified.Folder":"Folder was modified.","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.DestinationDeleted":"Destination folder %{folder} was deleted.","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.OutOfQuota":"Not enough free space.","DriveUI.Alert.Download.Single.Generic.Title":"%{fileName} couldnt be downloaded.","DriveUI.Alert.Download.Single.Generic.Subtitle":"Try downloading the file again later.","DriveUI.Alert.Download.Single.Deleted.Title":"%{fileName} couldnt be downloaded.","DriveUI.Alert.Download.Single.Deleted.Subtitle":"This file has been deleted and is no longer available.","DriveUI.Alert.Download.Multiple.Generic.Title":"%{fileCount} files couldnt be downloaded.","DriveUI.Alert.Download.Multiple.Generic.Subtitle":"Try downloading the files again later.","DriveUI.Alert.Download.Multiple.Deleted.Title":"%{fileCount} files couldnt be downloaded.","DriveUI.Alert.Download.Multiple.Deleted.Subtitle":"These files have been deleted and are no longer available.","DriveUI.Alert.Download.Multiple.Mixed.Title":"%{fileCount} files couldnt be downloaded.","DriveUI.Alert.Download.Multiple.Mixed.Subtitle":"Try downloading the files again later.","DriveUI.Alert.Download.Multiple.ItemDetails.Generic.Subtitle":"There was a problem downloading this file.\nTry again later.","DriveUI.Alert.Download.Multiple.ItemDetails.Deleted.Subtitle":"This file has been deleted and is no longer available.","DriveUI.Alert.Upload.AccessDenied.Title":"Cannot upload file.","DriveUI.Alert.Upload.AccessDenied.Message":"Make sure you have permission to read the file.","DriveUI.Alert.Upload.BadFileTypeForAppLibrary.Title":"Cannot upload this type of file to this App Library.","DriveUI.Alert.Upload.BadFileTypeForAppLibrary.Message":"Only files that can be opened by %{appName} can be uploaded here.","DriveUI.Alert.Upload.BrowserNotSupported.Title":"Uploading is not supported by this browser.","DriveUI.Alert.Upload.BrowserNotSupported.Description":"Update your web browser to upload files to iCloudDrive.","DriveUI.Alert.Upload.HiddenFile.Title":"There was a problem uploading %{fileName}.","DriveUI.Alert.Upload.HiddenFile.Description":"Invalid filename.","DriveUI.Alert.Upload.UnsupportedExtension.Title":"%{fileName} is of an unsupported filename or file type","DriveUI.Alert.Upload.UnsupportedExtension.Description":"Certain filenames and file types are not currently supported on iCloudDrive on iCloud.com","DriveUI.Alert.Upload.UnsupportedExtension.DetailedDescription":"Unable to upload this filename or file type","DriveUI.Alert.Upload.SizeTooBig.Title":"%{fileName} is too big to upload.","DriveUI.Alert.Upload.SizeTooBig.Description":"iCloudDrive on iCloud.com currently limits uploads to a maximum of 10 GB.","DriveUI.Alert.Upload.SizeTooBig.DetailedDescription":"This file is too big to upload.","DriveUI.Alert.Upload.SizeTooSmall.Title":"There was a problem uploading %{fileName}.","DriveUI.Alert.Upload.SizeTooSmall.Description":"It is not possible to upload zero byte files to iCloudDrive.","DriveUI.Alert.Upload.SizeTooSmall.DetailedDescription":"There was a problem uploading the file.","DriveUI.Alert.Upload.Package.Title":"This type of file must be compressed before it can be uploaded.","DriveUI.Alert.Upload.Package.Description":"Compress the file on your computer and upload the resulting .zip file.","DriveUI.Alert.Upload.SelectionContainsFolder.Title":"Uploading folders to iCloudDrive is not supported.","DriveUI.Alert.Upload.SelectionContainsFolder.Description":"Only files can be uploaded using your web browser.","DriveUI.Alert.Upload.Package.Title.Pages":"Pages documents must be compressed and renamed before they can be uploaded with this browser.","DriveUI.Alert.Upload.Package.Title.Keynote":"Keynote presentations must be compressed and renamed before they can be uploaded with this browser.","DriveUI.Alert.Upload.Package.Title.Numbers":"Numbers spreadsheets must be compressed and renamed before they can be uploaded with this browser.","DriveUI.Alert.Upload.Package.Description.Pages":"To use this file with Pages, the name of the compressed file must end with .pages.zip.","DriveUI.Alert.Upload.Package.Description.Keynote":"To use this file with Keynote, the name of the compressed file must end with .%{extension}.zip.","DriveUI.Alert.Upload.Package.Description.Numbers":"To use this file with Numbers, the name of the compressed file must end with .numbers.zip","DriveUI.Alert.Upload.OutOfQuota.Title":"Not enough free space to upload %{fileName}.","DriveUI.Alert.Upload.OutOfQuota.Description":"Delete files from iCloudDrive or upgrade your storage plan.","DriveUI.Alert.Upload.Coalesced.HiddenFile.Title":"Your upload was cancelled because it contained items with invalid filenames.","DriveUI.Alert.Upload.Coalesced.HiddenFile.Description":"To upload these items, make sure the filename does not begin with a . (dot).","DriveUI.Alert.Upload.Coalesced.UnsupportedExtension.Title":"%{fileName} is of an unsupported filename or file type.","DriveUI.Alert.Upload.Coalesced.UnsupportedExtension.Description":"Certain filenames and file types are not currently supported on iCloudDrive on iCloud.com","DriveUI.Alert.Upload.Coalesced.SizeTooBig.Title":"%{fileCount} files are too big to upload.","DriveUI.Alert.Upload.Coalesced.SizeTooBig.Description":"iCloudDrive on iCloud.com currently limits uploads to a maximum of 10 GB.","DriveUI.Alert.Upload.Coalesced.SizeTooSmall.Title":"%{fileCount} files are empty.","DriveUI.Alert.Upload.Coalesced.SizeTooSmall.Description":"iCloudDrive on iCloud.com limits zero byte files from being uploaded","DriveUI.Alert.Upload.Coalesced.NotCompressed.Title":"%{fileCount} files were not uploaded because they must be compressed.","DriveUI.Alert.Upload.Coalesced.NotCompressed.Description":"Compress each file on your computer and upload the resulting .zip files.","DriveUI.Alert.Upload.Coalesced.BadFileTypeForAppLibrary.Title":"Cannot upload %{num} files because they cant be opened by %{appName}.","DriveUI.Alert.Upload.Coalesced.BadFileTypeForAppLibrary.Description":"Only files that can be opened by %{appName} can be uploaded to this app library.","DriveUI.Alert.Upload.Coalesced.OutOfQuota.Title":"%{fileCount} files cant be uploaded because there isnt enough free space.","DriveUI.Alert.Upload.Coalesced.OutOfQuota.Description":"Delete files from iCloudDrive or upgrade your storage plan.","DriveUI.Alert.Upload.Coalesced.Default.Title":"%{fileCount} files had errors and could not be uploaded.","DriveUI.Alert.Upload.Coalesced.Default.Description":"These files could not be uploaded for the reasons listed below.","DriveUI.Alert.Upload.Coalesced.Unknown.Title":"%{fileCount} files had errors and could not be uploaded.","DriveUI.Alert.Upload.Coalesced.Unknown.Description":"Try uploading the files again later.","DriveUI.Alert.Upload.Default.Title":"%{fileName} couldnt be uploaded.","DriveUI.Alert.Upload.Default.Description":"Try uploading the file again later.","DriveUI.Alert.Purge.Message.File.Single":"Are you sure you want to delete %{name}?","DriveUI.Alert.Purge.Message.File.Multiple":"Are you sure you want to delete these %{count} files?","DriveUI.Alert.Purge.Message.Folder.Single":"Are you sure you want to delete %{name}?","DriveUI.Alert.Purge.Message.Folder.Multiple":"Are you sure you want to delete these %{count} folders?","DriveUI.Alert.Purge.Message.Mix":"Are you sure you want to delete these %{count} items?","DriveUI.Alert.Purge.Description.File.Single":"This file will be immediately deleted from iCloudDrive and all your iCloud devices.","DriveUI.Alert.Purge.Description.File.Multiple":"They will be immediately deleted from iCloudDrive and all your iCloud devices.","DriveUI.Alert.Purge.Description.Folder.Single":"This folder will be immediately deleted from iCloudDrive and all your iCloud devices.","DriveUI.Alert.Purge.Description.Folder.Multiple":"They will be immediately deleted from iCloudDrive and all your iCloud devices.","DriveUI.Alert.Purge.Description.Mix":"They will be immediately deleted from iCloudDrive and all your iCloud devices.","DriveUI.Alert.Share.Folder.Message.SharedByMe":"Are you sure you want to share this folder?","DriveUI.Alert.Share.Folder.Description.Single.Item.SharedByMe":"This folder includes an item that is already shared. If you share this folder, only people you add to it will be able to access items inside it.","DriveUI.Alert.Share.Folder.Description.Multiple.Item.SharedByMe":"This folder includes items that are already shared. If you share this folder, only people you add to it will be able to access items inside it.","DriveUI.Alert.Purge.Message.InSharedFolder.File.Single":"Are you sure you want to delete this shared file?","DriveUI.Alert.Purge.Message.InSharedFolder.File.Multiple":"Are you sure you want to delete these shared files?","DriveUI.Alert.Purge.Message.InSharedFolder.Folder.Single":"Are you sure you want to delete this shared folder?","DriveUI.Alert.Purge.Message.InSharedFolder.Folder.Multiple":"Are you sure you want to delete these shared folders?","DriveUI.Alert.Purge.Message.InSharedFolder.Document.Single":"Are you sure you want to delete this shared document?","DriveUI.Alert.Purge.Message.InSharedFolder.Document.Multiple":"Are you sure you want to delete these shared documents?","DriveUI.Alert.Purge.Message.InSharedFolder.Spreadsheet.Single":"Are you sure you want to delete this shared spreadsheet?","DriveUI.Alert.Purge.Message.InSharedFolder.Spreadsheet.Multiple":"Are you sure you want to delete these shared spreadsheets?","DriveUI.Alert.Purge.Message.InSharedFolder.Presentation.Single":"Are you sure you want to delete this shared presentation?","DriveUI.Alert.Purge.Message.InSharedFolder.Presentation.Multiple":"Are you sure you want to delete these shared presentations?","DriveUI.Alert.Purge.Message.InSharedFolder.Mix":"Are you sure you want to delete these shared items?","DriveUI.Alert.Purge.Description.InSharedFolder.File.Single":"If you delete this file, other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Purge.Description.InSharedFolder.File.Multiple":"If you delete these files, other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Purge.Description.InSharedFolder.Folder.Single":"If you delete this folder, other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Purge.Description.InSharedFolder.Folder.Multiple":"If you delete these folders, other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Purge.Description.InSharedFolder.Document.Single":"If you delete this document, other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Purge.Description.InSharedFolder.Document.Multiple":"If you delete these documents, other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Purge.Description.InSharedFolder.Spreadsheet.Single":"If you delete this spreadsheet, other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Purge.Description.InSharedFolder.Spreadsheet.Multiple":"If you delete these spreadsheets, other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Purge.Description.InSharedFolder.Presentation.Single":"If you delete this presentation, other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Purge.Description.InSharedFolder.Presentation.Multiple":"If you delete these presentations, other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Purge.Description.InSharedFolder.Mix":"If you delete these items, other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Delete.Message.File.Single":"Are you sure you want to delete this shared file?","DriveUI.Alert.Delete.Message.File.Plural.Shared.Single":"One of these files is shared. Are you sure you want to delete these %{count} files?","DriveUI.Alert.Delete.Message.File.Plural.Shared.Plural":"Some of these files are shared. Are you sure you want to delete these %{count} files?","DriveUI.Alert.Delete.Message.File.Plural.Shared.All":"Are you sure you want to delete these shared files?","DriveUI.Alert.Delete.Message.Shared.Folder.Single":"Are you sure you want to delete this shared folder?","DriveUI.Alert.Delete.Message.Shared.Folder.Plural":"Are you sure you want to delete these shared folders?","DriveUI.Alert.Delete.Message.SharedAndRegularFolder.Shared.Plural":"Some of these folders are shared. Are you sure you want to delete these %{count} folders?","DriveUI.Alert.Delete.Message.Folder.Single.Shared.Single":"One of the items in this folder is shared. Are you sure you want to delete %{folderName}?","DriveUI.Alert.Delete.Message.Folder.Single.Shared.Plural":"Some of the items in this folder are shared. Are you sure you want to delete %{folderName}?","DriveUI.Alert.Delete.Message.Folder.Single.Shared.Maybe":"Some items in this folder may be shared. Are you sure you want to delete %{folderName}?","DriveUI.Alert.Delete.Message.Folder.Plural.Shared.Single":"One of the items in these folders is shared. Are you sure you want to delete these %{count} folders?","DriveUI.Alert.Delete.Message.Folder.Plural.Shared.Plural":"Some of the items in these folders are shared. Are you sure you want to delete these %{count} folders?","DriveUI.Alert.Delete.Message.Folder.Plural.Shared.Maybe":"Some items in these folders may be shared. Are you sure you want to delete these  %{count} folders?","DriveUI.Alert.Delete.Message.FileFolder.Single.Shared.Single":"One of the items in the folder is shared. Are you sure you want to delete %{folderName}?","DriveUI.Alert.Delete.Message.FileFolder.Single.Shared.Plural":"Some of the items in the folder are shared. Are you sure you want to delete %{folderName}?","DriveUI.Alert.Delete.Message.FileFolder.Single.Shared.Maybe":"Some items in the folder may be shared. Are you sure you want to delete these %{count} items?","DriveUI.Alert.Delete.Message.FileFolder.Plural.Shared.Single":"One of the items in the folders is shared. Are you sure you want to delete these %{count} items?","DriveUI.Alert.Delete.Message.FileFolder.Plural.Shared.Plural":"Some of the items in the folders are shared. Are you sure you want to delete these %{count} items?","DriveUI.Alert.Delete.Message.FileFolder.Plural.Shared.Maybe":"Some items in the folders may be shared. Are you sure you want to delete these %{count} items?","DriveUI.Alert.Delete.Message.FileFolder.Any.Shared.Single":"One of these items is shared. Are you sure you want to delete these %{count} items?","DriveUI.Alert.Delete.Message.FileFolder.Any.Shared.Plural":"Some of these items are shared. Are you sure you want to delete these %{count} items?","DriveUI.Alert.Delete.Message.FileFolder.All.Shared.Plural":"Are you sure you want to delete these shared items?","DriveUI.Alert.Delete.Message.Desktop":"Delete the Desktop folder?","DriveUI.Alert.Delete.Message.Desktop.File.Single":"Delete the Desktop folder and one other file?","DriveUI.Alert.Delete.Message.Desktop.File.Plural":"Delete the Desktop folder and %{count} other files?","DriveUI.Alert.Delete.Message.Desktop.Folder.Single":"Delete the Desktop folder and one other folder?","DriveUI.Alert.Delete.Message.Desktop.Folder.Plural":"Delete the Desktop folder and %{count} other folders?","DriveUI.Alert.Delete.Message.Desktop.Mix":"Delete the Desktop folder and %{count} other items?","DriveUI.Alert.Delete.Message.Documents":"Delete the Documents folder?","DriveUI.Alert.Delete.Message.Documents.File.Single":"Delete the Documents folder and one other file?","DriveUI.Alert.Delete.Message.Documents.File.Plural":"Delete the Documents folder and %{count} other files?","DriveUI.Alert.Delete.Message.Documents.Folder.Single":"Delete the Documents folder and one other folder?","DriveUI.Alert.Delete.Message.Documents.Folder.Plural":"Delete the Documents folder and %{count} other folders?","DriveUI.Alert.Delete.Message.Documents.Mix":"Delete the Documents folder and %{count} other items?","DriveUI.Alert.Delete.Message.DesktopDocuments":"Delete the Desktop and Documents folders?","DriveUI.Alert.Delete.Message.DesktopDocuments.File.Single":"Delete the Desktop and Documents folders and one other file?","DriveUI.Alert.Delete.Message.DesktopDocuments.File.Plural":"Delete the Desktop and Documents folders and %{count} other files?","DriveUI.Alert.Delete.Message.DesktopDocuments.Folder.Single":"Delete the Desktop and Documents folders and one other folder?","DriveUI.Alert.Delete.Message.DesktopDocuments.Folder.Plural":"Delete the Desktop and Documents folders and %{count} other folders?","DriveUI.Alert.Delete.Message.DesktopDocuments.Mix":"Delete the Desktop and Documents folders and %{count} other items?","DriveUI.Alert.Delete.Message.AppLibrary.Any.Item.Single":"Are you sure you want to delete %{appLibraryName}?","DriveUI.Alert.Delete.Message.AppLibrary.Any.Item.Plural":"Are you sure you want to delete these %{count} items?","DriveUI.Alert.Delete.Description.Desktop":"This folder may be needed by a Mac storing its Desktop folder on iCloudDrive.","DriveUI.Alert.Delete.Description.Documents":"This folder may be needed by a Mac storing its Documents folder on iCloudDrive.","DriveUI.Alert.Delete.Description.DesktopDocuments":"These folders may be needed by a Mac storing its Desktop and Documents folders on iCloudDrive.","DriveUI.Alert.Delete.Description.AppLibrary.Single":"The App Library will be immediately deleted from iCloudDrive and all your iCloud devices.","DriveUI.Alert.Delete.Description.AppLibrary.Plural":"The App Libraries will be immediately deleted from iCloudDrive and all your iCloud devices.","DriveUI.Alert.Delete.Description.ShareByMe.Single":"Participants will no longer have access to %{fileName}.","DriveUI.Alert.Delete.Description.ShareByMe.Plural":"Participants will no longer have access to the %{count} items shared by you.","DriveUI.Alert.Delete.Description.ShareByMe.Maybe":"Participants will no longer have access to any items shared by you.","DriveUI.Alert.Delete.Description.ShareToMe.Single":"%{itemName} will be removed from all of your devices. To regain access, use the link you were invited with.","DriveUI.Alert.Delete.Description.ShareToMe.Plural":"The %{count} items shared to you will be removed from all of your devices. To regain access, use the links you were invited with.","DriveUI.Alert.Delete.Description.ShareToMe.Maybe":"Any items shared to you will be removed from all of your devices. To regain access, use the links you were invited with.","DriveUI.Alert.Move.Description.SharedByMe.Single.First":"One of these items is shared.","DriveUI.Alert.Move.Description.SharedByMe.Multiple.First":"Some of these items are shared.","DriveUI.Alert.Move.Description.SharedByMe.Single.Second":"If you move it, only people added to the shared folder %{destinationFolderName} will be able to access it.","DriveUI.Alert.Move.Description.SharedByMe.Multiple.Second":"If you move them, only people added to the shared folder %{destinationFolderName} will be able to access them.","DriveUI.Alert.Move.Description.SharedToMe.Single":"One of these items is shared with you.","DriveUI.Alert.Move.Description.SharedToMe.Multiple":"Some of these items are shared with you.","DriveUI.Alert.Move.Description.SharedToMe.Generic":"Items shared with you cant be moved to shared folders.","DriveUI.Alert.Move.Message.File.SharedByMe.Single":"Are you sure you want to move this shared file?","DriveUI.Alert.Move.Message.File.SharedByMe.Multiple":"Are you sure you want to move these shared files?","DriveUI.Alert.Move.Message.Document.SharedByMe.Single":"Are you sure you want to move this shared document?","DriveUI.Alert.Move.Message.Document.SharedByMe.Multiple":"Are you sure you want to move these shared documents?","DriveUI.Alert.Move.Message.Presentation.SharedByMe.Single":"Are you sure you want to move this shared presentation?","DriveUI.Alert.Move.Message.Presentation.SharedByMe.Multiple":"Are you sure you want to move these shared presentations?","DriveUI.Alert.Move.Message.Spreadsheet.SharedByMe.Single":"Are you sure you want to move this shared spreadsheet?","DriveUI.Alert.Move.Message.Spreadsheet.SharedByMe.Multiple":"Are you sure you want to move these shared spreadsheets?","DriveUI.Alert.Move.Message.Folder.SharedByMe.Single":"Are you sure you want to move this shared folder?","DriveUI.Alert.Move.Message.Folder.SharedByMe.Multiple":"Are you sure you want to move these shared folders?","DriveUI.Alert.Move.Message.Item.SharedByMe.Multiple":"Are you sure you want to move these shared items?","DriveUI.Alert.Move.Description.SharedToMe":"Items shared with you cant be moved to shared folders.","DriveUI.Alert.Move.Message.File.SharedToMe.Single":"This shared file cant be moved.","DriveUI.Alert.Move.Message.File.SharedToMe.Multiple":"These shared files cant be moved.","DriveUI.Alert.Move.Message.Document.SharedToMe.Single":"This shared document cant be moved.","DriveUI.Alert.Move.Message.Document.SharedToMe.Multiple":"These shared documents cant be moved.","DriveUI.Alert.Move.Message.Presentation.SharedToMe.Single":"This shared presentation cant be moved.","DriveUI.Alert.Move.Message.Presentation.SharedToMe.Multiple":"These shared presentations cant be moved.","DriveUI.Alert.Move.Message.Spreadsheet.SharedToMe.Single":"This shared spreadsheet cant be moved.","DriveUI.Alert.Move.Message.Spreadsheet.SharedToMe.Multiple":"These shared spreadsheets cant be moved.","DriveUI.Alert.Move.Message.Folder.SharedToMe.Single":"This shared folder cant be moved.","DriveUI.Alert.Move.Message.Folder.SharedToMe.Multiple":"These shared folders cant be moved.","DriveUI.Alert.Move.Message.Item.SharedToMe.Multiple":"These shared items cant be moved.","DriveUI.Alert.Delete.Message.InSharedFolder.OneTimeOnly":"Deleted shared items are moved to your RecentlyDeleted folder, and other people will no longer have access to them.","DriveUI.Alert.Delete.Description.InSharedFolder.OneTimeOnly":"You can recover or remove from RecentlyDeleted within 30 days.","DriveUI.Alert.Delete.Message.Document.Single":"Are you sure you want to delete this shared document?","DriveUI.Alert.Delete.Message.Spreadsheet.Single":"Are you sure you want to delete this shared spreadsheet?","DriveUI.Alert.Delete.Message.Presentation.Single":"Are you sure you want to delete this shared presentation?","DriveUI.Alert.Delete.Message.SharedAndRegularFolder.Shared.Single":"One of these folders is shared. Are you sure you want to delete these %{count} folders?","DriveUI.Alert.Delete.Description.ShareByMe.File.Single":"If you delete this file, other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Delete.Description.SomeSharedByMe.Single":"If you delete %{itemName}, other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Delete.Description.ShareByMe.Document.Single":"If you delete this document, other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Delete.Description.ShareByMe.Spreadsheet.Single":"If you delete this spreadsheet, other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Delete.Description.ShareByMe.Presentation.Single":"If you delete this presentation, other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Delete.Description.ShareByMe.Folder.Single":"If you delete this folder, other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Delete.Description.ShareToMe.Single.File":"It will be deleted from iCloud Drive on all of your devices. To rejoin this shared file, use the link you were invited with.","DriveUI.Alert.Delete.Description.ShareToMe.Single.Document":"It will be deleted from iCloud Drive on all of your devices. To rejoin this shared document, use the link you were invited with.","DriveUI.Alert.Delete.Description.ShareToMe.Single.Spreadsheet":"It will be deleted from iCloud Drive on all of your devices. To rejoin this shared spreadsheet, use the link you were invited with.","DriveUI.Alert.Delete.Description.ShareToMe.Single.Presentation":"It will be deleted from iCloud Drive on all of your devices. To rejoin this shared presentation, use the link you were invited with.","DriveUI.Alert.Delete.Description.ShareToMe.Single.Folder":"It will be deleted from iCloud Drive on all of your devices. To rejoin this shared folder, use the link you were invited with.","DriveUI.Alert.Delete.Description.ShareToMe.SingleOfMany.File":"%{itemName} will be deleted from iCloud Drive on all of your devices. To rejoin this shared file, use the link you were invited with.","DriveUI.Alert.Delete.Description.ShareToMe.SingleOfMany.Document":"%{itemName} will be deleted from iCloud Drive on all of your devices. To rejoin this shared document, use the link you were invited with.","DriveUI.Alert.Delete.Description.ShareToMe.SingleOfMany.Spreadsheet":"%{itemName} will be deleted from iCloud Drive on all of your devices. To rejoin this shared spreadsheet, use the link you were invited with.","DriveUI.Alert.Delete.Description.ShareToMe.SingleOfMany.Presentation":"%{itemName} will be deleted from iCloud Drive on all of your devices. To rejoin this shared presentation, use the link you were invited with.","DriveUI.Alert.Delete.Description.ShareToMe.SingleOfMany.Folder":"%{itemName} will be deleted from iCloud Drive on all of your devices. To rejoin this shared folder, use the link you were invited with.","DriveUI.Alert.Delete.Message.Document.Plural.Shared.All":"Are you sure you want to delete these shared documents?","DriveUI.Alert.Delete.Message.Spreadsheet.Plural.Shared.All":"Are you sure you want to delete these shared spreadsheets?","DriveUI.Alert.Delete.Message.Presentation.Plural.Shared.All":"Are you sure you want to delete these shared presentations?","DriveUI.Alert.Delete.Message.Folder.Plural.Shared.All":"Are you sure you want to delete these shared folders?","DriveUI.Alert.Delete.Description.ShareByMe.File.Plural":"If you delete these files, other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Delete.Description.ShareByMe.File.SomeOfMany":"If you delete these files, other people will no longer have access to the %{shareCount} files shared by you and they will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Delete.Description.ShareByMe.Mix.SomeOfMany":"If you delete these items, other people will no longer have access to the %{shareCount} items shared by you and they will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Delete.Description.ShareByMe.Document.Plural":"If you delete these documents, other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Delete.Description.ShareByMe.Spreadsheet.Plural":"If you delete these spreadsheets, other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Delete.Description.ShareByMe.Presentation.Plural":"If you delete these presentations, other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Delete.Description.ShareByMe.Folder.Plural":"If you delete these folders, other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Delete.Description.ShareByMe.Folder.SomeOfMany":"If you delete these folders, other people will no longer have access to the %{shareCount} folders shared by you and they will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Delete.Description.ShareByMe.Mix.Plural":"If you delete these items, other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Delete.Description.ShareToMe.AllOfMany.File":"They will be deleted from iCloud Drive on all of your devices. To rejoin these shared files, use the links you were invited with.","DriveUI.Alert.Delete.Description.ShareToMe.SomeOfMany.File":"The %{shareCount} files shared with you will be deleted from iCloud Drive on all of your devices. To rejoin these shared files, use the links you were invited with.","DriveUI.Alert.Delete.Description.ShareToMe.SomeOfMany.Mix":"The %{shareCount} items shared with you will be deleted from iCloud Drive on all of your devices. To rejoin these shared files, use the links you were invited with.","DriveUI.Alert.Delete.Description.ShareToMe.AllOfMany.Document":"They will be deleted from iCloud Drive on all of your devices. To rejoin these shared documents, use the links you were invited with.","DriveUI.Alert.Delete.Description.ShareToMe.AllOfMany.Spreadsheet":"They will be deleted from iCloud Drive on all of your devices. To rejoin these shared spreadsheets, use the links you were invited with.","DriveUI.Alert.Delete.Description.ShareToMe.AllOfMany.Presentation":"They will be deleted from iCloud Drive on all of your devices. To rejoin these shared presentations, use the links you were invited with.","DriveUI.Alert.Delete.Description.ShareToMe.AllOfMany.Folder":"They will be deleted from iCloud Drive on all of your devices. To rejoin these shared folders, use the links you were invited with.","DriveUI.Alert.Delete.Description.ShareToMe.SomeOfMany.Folder":"If you delete these folders, other people will no longer have access to the %{shareCount} folders shared by you and they will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Delete.Description.ShareToMe.AllOfMany.Mix":"They will be deleted from iCloud Drive on all of your devices. To rejoin these shared items, use the links  you were invited with.","DriveUI.Alert.Delete.Description.ShareByMeToMe.OnlyFiles":"If you delete these files, other people will no longer have access to the files you shared with them, and the files shared with you will be deleted from iCloud Drive on all of your devices.","DriveUI.Alert.Delete.Description.ShareByMeToMe.FilesAndMixed":"If you delete these items, other people will no longer have access to the files you shared with them, and the files shared with you will be deleted from iCloud Drive on all of your devices.","DriveUI.Alert.Delete.Description.ShareByMeToMe.OnlyFolders":"If you delete these folders, other people will no longer have access to the folders you shared with them, and the folders shared with you will be deleted from iCloud Drive on all of your devices.","DriveUI.Alert.Delete.Description.ShareByMeToMe.FoldersAndMixed":"If you delete these items, other people will no longer have access to the folders you shared with them, and the folders shared with you will be deleted from iCloud Drive on all of your devices.","DriveUI.Alert.Delete.Description.ShareByMeToMe.Mixed":"If you delete these items, other people will no longer have access to the items you shared with them, and the items shared with you will be deleted from iCloud Drive on all your devices.","DriveUI.Alert.Move.Message.File.SharedToMe.SomeOfMany":"One or more shared files cant be moved.","DriveUI.Alert.Move.Description.Item.SharedToMe.OneOfMany":"One of these items is shared with you. Items shared with you cant be moved to shared folders.","DriveUI.Alert.Move.Message.Spreadsheet.SharedToMe.SomeOfMany":"One or more shared spreadsheets cant be moved.","DriveUI.Alert.Move.Message.Document.SharedToMe.SomeOfMany":"One or more shared documents cant be moved.","DriveUI.Alert.Move.Message.Presentation.SharedToMe.SomeOfMany":"One or more shared presentations cant be moved.","DriveUI.Alert.Move.Message.Folder.SharedToMe.SomeOfMany":"One or more shared folders cant be moved.","DriveUI.Alert.Move.Description.Item.SharedToMe.SomeOfMany":"Some of these items are shared with you. Items shared with you cant be moved to shared folders.","DriveUI.Alert.Move.Message.Item.SharedToMe.SomeOfMany":"One or more shared items cant be moved.","DriveUI.Alert.Move.Message.SharedByMe.SomeOfMany":"Are you sure you want to move these items?","DriveUI.Alert.Move.Description.SharedByMe.SomeOfMany":"Some of these items are shared. If you move them, only people added to the shared folder %{destinationFolderName} will be able to access them.","DriveUI.Alert.Move.Description.SharedByMe.OneOfMany":"One of these items is shared. If you move it, only people added to the shared folder %{destinationFolderName} will be able to access it.","DriveUI.Alert.Move.Message.AmbiguousFolder.Single":"Are you sure you want to move this folder?","DriveUI.Alert.Move.Description.AmbiguousFolder.Single":"This folder may contain shared items. If you move them, only people added to the shared folder %{destinationFolderName} will be able to access them.","DriveUI.Alert.Move.Description.AmbiguousFolder.SomeOfMany":"One or more folders may contain shared items. If you move them, only people added to the shared folder %{destinationFolderName} will be able to access them.","DriveUI.Alert.Move.Message.AmbiguousFolder.Multiple":"Are you sure you want to move these folders?","DriveUI.Alert.Move.Out.Message.File.SharedByMe.Single":"Are you sure you want to move this shared file?","DriveUI.Alert.Move.Out.Message.Spreadsheet.SharedByMe.Single":"Are you sure you want to move this shared spreadsheet?","DriveUI.Alert.Move.Out.Message.Document.SharedByMe.Single":"Are you sure you want to move this shared document?","DriveUI.Alert.Move.Out.Message.Presentation.SharedByMe.Single":"Are you sure you want to move this shared presentation?","DriveUI.Alert.Move.Out.Message.Folder.SharedByMe.Single":"Are you sure you want to move this shared folder?","DriveUI.Alert.Move.Out.Message.File.SharedByMe.Multiple":"Are you sure you want to move these shared files?","DriveUI.Alert.Move.Out.Message.Spreadsheet.SharedByMe.Multiple":"Are you sure you want to move these shared spreadsheets?","DriveUI.Alert.Move.Out.Message.Document.SharedByMe.Multiple":"Are you sure you want to move these shared documents?","DriveUI.Alert.Move.Out.Message.Presentation.SharedByMe.Multiple":"Are you sure you want to move these shared presentations?","DriveUI.Alert.Move.Out.Message.Folder.SharedByMe.Multiple":"Are you sure you want to move these shared folders?","DriveUI.Alert.Move.Out.Message.Item.SharedByMe.Multiple":"Are you sure you want to move these shared items?","DriveUI.Alert.Move.Out.Description.File.SharedByMe.Single":"Moving this file to %{destinationFolderName} will stop it from being shared on iCloud. Other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Move.Out.Description.Spreadsheet.SharedByMe.Single":"Moving this spreadsheet to %{destinationFolderName} will stop it from being shared on iCloud. Other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Move.Out.Description.Document.SharedByMe.Single":"Moving this document to %{destinationFolderName} will stop it from being shared on iCloud. Other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Move.Out.Description.Presentation.SharedByMe.Single":"Moving this presentation to %{destinationFolderName} will stop it from being shared on iCloud. Other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Move.Out.Description.Folder.SharedByMe.Single":"Moving this folder to %{destinationFolderName} will stop it from being shared on iCloud. Other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Move.Out.Description.File.SharedByMe.Multiple":"Moving these files to %{destinationFolderName} will stop them from being shared on iCloud. Other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Move.Out.Description.Spreadsheet.SharedByMe.Multiple":"Moving these spreadsheets to %{destinationFolderName} will stop them from being shared on iCloud. Other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Move.Out.Description.Document.SharedByMe.Multiple":"Moving these documents to %{destinationFolderName} will stop them from being shared on iCloud. Other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Move.Out.Description.Presentation.SharedByMe.Multiple":"Moving these presentations to %{destinationFolderName} will stop them from being shared on iCloud. Other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Move.Out.Description.Folder.SharedByMe.Multiple":"Moving these folders to %{destinationFolderName} will stop them from being shared on iCloud. Other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Move.Out.Description.Item.SharedByMe.Multiple":"Moving these items to %{destinationFolderName} will stop them from being shared on iCloud. Other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Move.Out.Message.File.SharedToMe.Single":"Are you sure you want to move this shared file?","DriveUI.Alert.Move.Out.Message.Spreadsheet.SharedToMe.Single":"Are you sure you want to move this shared spreadsheet?","DriveUI.Alert.Move.Out.Message.Document.SharedToMe.Single":"Are you sure you want to move this shared document?","DriveUI.Alert.Move.Out.Message.Presentation.SharedToMe.Single":"Are you sure you want to move this shared presentation?","DriveUI.Alert.Move.Out.Message.Folder.SharedToMe.Single":"Are you sure you want to move this shared folder?","DriveUI.Alert.Move.Out.Message.File.SharedToMe.Multiple":"Are you sure you want to move these shared files?","DriveUI.Alert.Move.Out.Message.Spreadsheet.SharedToMe.Multiple":"Are you sure you want to move these shared spreadsheets?","DriveUI.Alert.Move.Out.Message.Document.SharedToMe.Multiple":"Are you sure you want to move these shared documents?","DriveUI.Alert.Move.Out.Message.Presentation.SharedToMe.Multiple":"Are you sure you want to move these shared presentations?","DriveUI.Alert.Move.Out.Message.Folder.SharedToMe.Multiple":"Are you sure you want to move these shared folders?","DriveUI.Alert.Move.Out.Message.Item.SharedToMe.Multiple":"Are you sure you want to move these shared items?","DriveUI.Alert.Move.Out.Description.File.SharedToMe.Single":"Moving this file to %{destinationFolderName} will stop it from being shared on iCloud. Other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Move.Out.Description.Spreadsheet.SharedToMe.Single":"Moving this spreadsheet to %{destinationFolderName} will stop it from being shared on iCloud. Other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Move.Out.Description.Document.SharedToMe.Single":"Moving this document to %{destinationFolderName} will stop it from being shared on iCloud. Other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Move.Out.Description.Presentation.SharedToMe.Single":"Moving this presentation to %{destinationFolderName} will stop it from being shared on iCloud. Other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Move.Out.Description.Folder.SharedToMe.Single":"Moving this folder to %{destinationFolderName} will stop it from being shared on iCloud. Other people will no longer have access to it and it will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Move.Out.Description.File.SharedToMe.Multiple":"Moving these files to %{destinationFolderName} will stop them from being shared on iCloud. Other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Move.Out.Description.Spreadsheet.SharedToMe.Multiple":"Moving these spreadsheets to %{destinationFolderName} will stop them from being shared on iCloud. Other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Move.Out.Description.Document.SharedToMe.Multiple":"Moving these documents to %{destinationFolderName} will stop them from being shared on iCloud. Other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Move.Out.Description.Presentation.SharedToMe.Multiple":"Moving these presentations to %{destinationFolderName} will stop them from being shared on iCloud. Other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Move.Out.Description.Folder.SharedToMe.Multiple":"Moving these folders to %{destinationFolderName} will stop them from being shared on iCloud. Other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Move.Out.Description.Item.SharedToMe.Multiple":"Moving these items to %{destinationFolderName} will stop them from being shared on iCloud. Other people will no longer have access to them and they will be deleted from iCloud Drive on all of their devices.","DriveUI.Alert.Open.Message.IWorkInSharedFolder":"This document cant be opened.","DriveUI.Alert.Open.Description.IWorkInSharedFolder":"Pages, Keynote, and Numbers documents in shared folders are not yet available on the web."});var eG=S.b("BRKit.RunState",(function(e){e("Pending"),e("Running"),e("Cancelled"),e("Completed",(function(e){e("Failed"),e("Succeeded")}))})),tG=oe.a.extend(v.a,{runState:y.c({readOnly:!0,get:function(){return this._taskRunState}}),isCancellable:y.c({readOnly:!0,get:function(){return function(e){var t=e.runState;return t!==eG.Cancelled&&t!==eG.Completed&&e.shouldAllowCancel()}(this)}}),cancelled:v.i(),init:function(){this.__s._$8e$init.apply(this,arguments),Object.defineProperties(this,{_taskRunState:{value:eG.Pending,writable:!0},_isCancellingRun:{value:!1,writable:!0}})},run:function(e){var t=this;if(this._taskRunState!==eG.Pending)throw new Error(this.fail("Invalid state. Cannot run."));return this._taskRunState=eG.Running,this.startRun(e).then((function(e){if(!e)throw new Error(t.fail("Task resolved with undefined asyncResult."));var n=e.data;return e.ok?t.finishRunWithSuccess(n):e.cancelled?t.finishCancellingRun(n):t.finishRunWithFailure(n),e}))},cancel:function(e){if(!this.get("isCancellable"))throw new Error(this.fail("Cannot cancel task. Not allowed."));var t=this._taskRunState;this._isCancellingRun=!0,this._taskRunState=eG.Cancelled,t===eG.Pending&&(this.finishCancellingRun(),this.cancelled(eu.cancelledResult()))},fail:function(e){return this.constructor.name+" failed: "+e},shouldAllowCancel:function(){return!1},startRun:function(){return b.a.resolve(eu.okResult())},finishRunWithSuccess:function(e){this._taskRunState=eG.Completed.Succeeded},finishRunWithFailure:function(e){this._taskRunState=eG.Completed.Failed},finishCancellingRun:function(e,t){if(t&&!0===t.force)this._taskRunState=eG.Cancelled,this._isCancellingRun=!0;else if(!this._isCancellingRun)throw new Error(this.fail("Cannot finish cancelling. Invalid call."));this._isCancellingRun=!1},__superMap:{_$8e$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Task"}}),nG=_d.extend({folders:y.c(),run:function(e){var t=this.folders.map((function(e){return{drivewsid:e.id}}));return e.post("retrieveSharedItemDetailsInFolders",t,5e3)},staticMembers:{__QUALIFIED_CLASS_NAME__:"RetrieveSharedItemDetailsInFoldersQuery"}}),rG=tG.extend({init:function(e,t){Object.defineProperty(this,"_folders",{value:e}),this.__s._$GT$init.call(this,t)},startRun:function(e){var t=this._folders;return nG.create({folders:t}).run(e).then((function(e){return e.ok?eu.okResult(function(e){var t=[],n=[],r=0,i=0,a=!1;return e&&(e.forEach((function(e){r+=e.sharedToMeFileCount,i+=e.sharedFromMeFileCount,e.items.forEach((function(e){wh.getItemForValue(e.share)===wh.TO_ME&&t.push(e.name),wh.getItemForValue(e.share)===wh.BY_ME&&n.push(e.name)}))})),a=!0),{sharedToMeCountInFolder:r,sharedByMeCountInFolder:i,sharedToMeNamesInFolder:t,sharedByMeNamesInFolder:n,finished:a}}(e.data)):e}))},__superMap:{_$GT$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DetermineSharedDescendantsTask"}});function iG(e){return e.map(aG)[0]}function aG(e){return e.isSharedToMe?"SharedToMe":e.isSharedByMe?"SharedByMe":void 0}function oG(e,t){var n=!1,r=[];return Object.entries(t).forEach((function(e){var t=e[0];e[1]>0&&r.push(t)})),("Combined"===e||r.length>1)&&(n=!0),n}var sG="DriveUI.Alert.Purge.";function cG(e){var t=0,n=0,r=0,i=0,a=0,o=0,s=0,c=0,l=0,u=0,d=0,h=0,f=!1,p=[],g=[],m=[],v=[],y=[],_={},b={};e.forEach((function(e){if(e.isFolder){var w=e;if(i+=1,w.isSharedByMe||(d+=w.sharedByMeCount),w.isSharedToMe||(h+=w.sharedToMeCount),yt.a(w.sharedByMeCount)&&yt.a(w.sharedToMeCount)||(f=!0),m.push(w),w.isSystemFolder)o+=1,y.push(e.sanitizedName);else if(w.isAppLibrary)a+=1,v.push(e.name);else if(w.isSharedToMe){r+=1,s+=1,g.push(w.name);var S=_.folder||0;_.folder=S+1}else if(w.isSharedByMe){n+=1,s+=1,p.push(w.name);var E=b.folder||0;b.folder=E+1}f||yt.a(w.sharedToMeCount)&&yt.a(w.sharedByMeCount)||(f=!0)}else{if(t+=1,e.isSharedToMe){r+=1,g.push(e.name);var I=e.extension;if("numbers"===I||"pages"===I||"keynote"===I){var C=_[I]||0;_[I]=C+1}}else if(e.isSharedByMe){n+=1,p.push(e.name);var O=e.extension;if("numbers"===O||"pages"===O||"keynote"===O){var T=b[O]||0;b[O]=T+1}}var A=e.extension;if(PI(A))switch(A){case"pages":c+=1;break;case"key":case"keynote":u+=1;break;case"numbers":l+=1}}}));var w=null;return t>0&&i>0?w="Mix":t>0?w="File":i>0&&(w="Folder"),{fileCount:t,sharedByMeCount:n,sharedToMeCount:r,folderCount:i,appLibraryCount:a,systemFolderCount:o,sharedByMeNames:p,sharedToMeNames:g,folders:m,appLibraryNames:v,systemFolderNames:y,composition:w,totalSharedFolderCount:s,fileExtensionTypeHash:{pages:c,numbers:l,keynote:u,folder:i},subSharedByMeCount:d,subSharedToMeCount:h,sharedToMeExtensionsCount:_,sharedByMeExtensionsCount:b,selectionContainsAmbiguousItems:f}}var lG="DriveUI.Alert.Delete.Description.";function uG(e,t,n,r){var i=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},c=[];if(arguments.length>4&&void 0!==arguments[4]&&!arguments[4]||!i||!a||!(e>0&&n&&n.length||t>0&&r&&r.length))return[Sr.d("DriveUI.Alert.Delete.Description.ShareByMe.Maybe"),Sr.d("DriveUI.Alert.Delete.Description.ShareToMe.Maybe")];var l=("number"!==typeof s.unknown||0===s.unknown)&&("number"!==typeof o.unknown||0===o.unknown);if(e>0&&0===t){var u=1===e?"Single":l&&e!==a?"SomeOfMany":"Plural";if(l&&a!==e&&1===e)c.push(Sr.d(lG+"SomeSharedByMe.Single",{itemName:n[0]}));else{var d=i.pages===a,h=i.keynote===a,f=i.numbers===a,p=i.folder===a,g=0!==i.folder&&i.folder<a,m=l?e>=1&&(d||f||h)&&a>e?"File.":d?"Document.":h?"Presentation.":f?"Spreadsheet.":p?"Folder.":g?"Mix.":"File.":"",v=Sr.d(lG+"ShareByMe."+m+u,{fileName:n[0],count:e,shareCount:e});c.push(v)}}else if(t>0&&0===e){var y=1===t?1===o.unknown?"Single":a>1?"SingleOfMany":"Single":t>1?"number"===typeof o.unknown&&0!==o.unknown||a!==t?"SomeOfMany":"AllOfMany":"Plural",_=i.pages===a,b=i.keynote===a,w=i.numbers===a,S=i.folder===a,E="number"===typeof i.folder&&i.folder>0&&i.folder<a,I="number"!==typeof o.unknown||0===o.unknown,C=I&&"number"===typeof o.pages&&0!==o.pages&&o.pages===t,O=I&&"number"===typeof o.keynote&&0!==o.keynote&&o.keynote===t,T=I&&"number"===typeof o.numbers&&0!==o.numbers&&o.numbers===t,A=I&&"number"===typeof o.folder&&0!==o.folder&&o.folder===t,N=y+(1===t?I?C?".Document":O?".Presentation":T?".Spreadsheet":A?".Folder":".File":"":I?t>=1&&(_||w||b)&&a>t?".File":_?".Document":b?".Presentation":w?".Spreadsheet":S?".Folder":E?".Mix":".File":".Mix"),M=Sr.d(lG+"ShareToMe."+N,{itemName:r[0],count:t,shareCount:t});c.push(M)}else{var D=i.folder===a,R=void 0===i.folder||0===i.folder,L=s.folder+o.folder===e+t,k=(0===s.folder||void 0===s.folder)&&(0===o.folder||void 0===s.folder),x=l?D?"OnlyFolders":R?"OnlyFiles":k?"FilesAndMixed":L?"FoldersAndMixed":"Mixed":"Mixed";c.push(Sr.d(lG+"ShareByMeToMe."+x))}return c}var dG="DriveUI.Alert.Delete.Message",hG="DriveUI.Alert.Purge.Message.InSharedFolder",fG="DriveUI.Alert.Purge.Description.InSharedFolder",pG="DriveUI.Alert.Delete.Message.Folder";function gG(e,t,n){return!0===e.some((function(e){return!e.sharedToMeCount&&0!==e.sharedToMeCount||!e.sharedByMeCount&&0!==e.sharedByMeCount}))?(n||rG.create(e)).run(t):function(e){var t=0,n=0;for(var r of e)n+=r.sharedToMeCount,t+=r.sharedByMeCount;return b.a.resolve(eu.okResult({sharedByMeCountInFolder:t,sharedToMeCountInFolder:n,finished:!0}))}(e)}var mG="DriveUI.Alert.Delete.Message.Shared.Folder",vG="DriveUI.Alert.Delete.Message.SharedAndRegularFolder",yG="DriveUI.Alert.Delete.Message.FileFolder",_G=function(e,t,n,r,i,a,o,s){return function(c){var l=c.ok,u=c.data,d=u.sharedByMeCountInFolder,h=u.sharedToMeCountInFolder,f=u.sharedByMeNamesInFolder,p=u.sharedToMeNamesInFolder,g=u.finished,m=!l||!g,v=d+h;if(!1===m&&0===v)return null;var y=function(e){return 1===e?"Single":"Plural"},_=[e,y(n),"Shared",m?"Maybe":y(v)].join(".");return{message:Sr.d(_,{count:t+n,folderName:r[0]&&r[0].name}),description:uG(d,h,f,p,g,a,i,Object.assign({},o,{unknown:h}),Object.assign({},s,{unknown:d})).join("\n\n")}}},bG="DriveUI.Alert.Move.Message",wG="DriveUI.Alert.Move.Description";function SG(e,t){var n=e.sharedFolderFromHierarchy;if(n&&t.currentWorkingDirectory.sharedFolderFromHierarchy===n){var r=null==n?void 0:n.parent,i=r&&r.parent?r:t.fileSystem.driveRootFolder;i&&t.changeDirectory(i)}}function EG(e,t,n,r){var i=e.data[0].details,a=i.isSourceFolderSharedToMe,o=i.conflictType;a&&"ItemUnshared"===o&&SG(t,n);for(var s=0;s<e.data.length;s++)Df.isItemExpired(e.data[s].details.item)||r.raiseAlertForErrorItem(e.data[s])}var IG=!1;function CG(e,t,n){var r=Array.from(e.reduce((function(e,t){var n=t.parent;if(!n)throw new Error("Can not move parent-less item <REDACTED> to trash!");return e.add(n),e}),new Set));if(1!==r.length)throw new Error("performMoveItemsToTrash only handles 1 parent folder!");var i=r[0];if(0!==e.size){e.forEach((function(e){Ed.set(e.id,"Committing")}));var a=e.clone(),o=i.sharedFolderFromHierarchy,s="hasShownDeleteItemInsideSharedFolderAsOwnerWarning",c=IG||!0===function(e){var t=dt.application.applicationName,n=Xc.getPreferences(t);return n?n[e]:void 0}(s),l=!c&&!0===(null==o?void 0:o.isSharedByMe);return function(e,t,n,r){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=cG(e),o=a.fileCount,s=a.sharedByMeCount,c=a.sharedToMeCount,l=a.folderCount,u=a.appLibraryCount,d=a.systemFolderCount,h=a.sharedByMeNames,f=a.sharedToMeNames,p=a.folders,g=a.appLibraryNames,m=a.systemFolderNames,v=a.totalSharedFolderCount,y=a.fileExtensionTypeHash,_=a.selectionContainsAmbiguousItems,w=a.sharedToMeExtensionsCount,S=a.sharedByMeExtensionsCount,E=e.size,I=c+s,C=null;if(d>0)C=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=r.sort().join(""),o="DriveUI.Alert.Delete.Message."+a,s=null,c=t-n;if(0===c&&0===e)s=Sr.d(o);else if(0===c&&e>0){var l=".File."+(1===e?"Single":"Plural");s=Sr.d(o+l,{count:e})}else if(c>0&&0===e){var u=".Folder."+(1===c?"Single":"Plural");s=Sr.d(o+u,{count:c})}else c>0&&e>0&&(s=Sr.d(o+".Mix",{count:e+c}));var d=[Sr.d(lG+a)];if(i){var h=uG(0,0,[],[],!1)[0];d.push(h)}var f=d.join("\n\n");return b.a.resolve({message:s,description:f})}(o,l,d,m,_);else if(u>0)C=function(e,t,n,r){var i=e+t,a=1===i?"Single":"Plural",o=Sr.d("DriveUI.Alert.Delete.Message.AppLibrary.Any.Item."+a,{appLibraryName:r[0],count:i}),s=1===n?"Single":"Plural",c=[Sr.d("DriveUI.Alert.Delete.Description.AppLibrary."+s),uG(0,0,[],[],!1)[0]].join("\n\n");return b.a.resolve({message:o,description:c})}(o,l,u,g);else{if(null!=n&&n.isSharedByMe&&!i)return b.a.resolve({message:Sr.d("DriveUI.Alert.Delete.Message.InSharedFolder.OneTimeOnly"),description:Sr.d("DriveUI.Alert.Delete.Description.InSharedFolder.OneTimeOnly")});if(o>0&&0===l)return function(e,t,n,r,i,a,o,s,c){if(a){var l,u,d="",h=function(e,t){var n=e.pages,r=e.numbers,i=e.keynote,a=".Mixed";return t===t-(n+r+i)?a=".File":n===t?a=".Document":r===t?a=".Spreadsheet":i===t&&(a=".Presentation"),a}(o,s);return".Mixed"===h?d+=".Mix":(d+=h,d+=1===e?".Single":".Multiple"),u=Sr.d(hG+d),l=Sr.d(fG+d),b.a.resolve({message:u,description:l})}var f=t+n;if(0===f)return b.a.resolve(void 0);var p="";1===e?p+=".Single":(p+=".Plural.Shared.",p+=f===e?"All":1===f?"Single":"Plural");var g=o.pages===s,m=o.numbers===s,v=o.keynote===s,y=f>=1&&e>f?".File":g?".Document":m?".Spreadsheet":v?".Presentation":".File",_=Sr.d(dG+y+p,{count:e}),w=uG(t,n,r,i,!0,o,s,c).join("\n\n");return b.a.resolve({message:_,description:w})}(o,s,c,h,f,n,y,E,w);if(0===o&&l>0)C=0===I?function(e,t,n,r,i,a,o,s){return gG(t,i,n).then(_G(pG,0,e,t,r,a,o,s))}(l,p,r,E,t,y,w,S):function(e,t,n,r,i,a,o){var s,c,l,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{};if(a)l=".Folder",l+=1===e?".Single":".Multiple",s=Sr.d(hG+l),c=Sr.d(fG+l);else{var h,f=t+n;if(0===f)return b.a.resolve();e===f?(h=mG,l=1===f?".Single":".Plural",c=uG(t,n,r,i,!0,{folder:e},e,u,d).join("\n\n")):(h=vG,l=".Shared",l+=n+t===1?".Single":".Plural",c=uG(t,n,r,i,!o,{folder:e},e,u,d).join("\n\n")),s=Sr.d(h+l,{count:e})}return b.a.resolve({message:s,description:c})}(l,s,c,h,f,n,_,w,S);else{if(!(o>0&&l>0))throw new Error("Delete Alert: Both file count and folder count is 0!");C=function(e,t,n,r,i,a,o,s,c,l,u,d,h){var f=!(arguments.length>13&&void 0!==arguments[13])||arguments[13],p=arguments.length>14&&void 0!==arguments[14]?arguments[14]:{},g=arguments.length>15&&void 0!==arguments[15]?arguments[15]:{},m=n+r,v=null;if(m>=1){var y=1===m?"Single":"Plural";v=Sr.d(yG+".Any.Shared."+y,{count:e+t});var _=uG(n,r,a,o,!f,h,u,p,g).join("\n\n");if(e+t!==m)t===s&&(_=uG(n,r,a,o,!0,h,u,p,g).join("\n\n"),1===m&&(v=Sr.d(yG+".Any.Shared.Single",{count:e+t})));else if(l){var w=".Mix";v=Sr.d(hG+w),_=Sr.d(fG+w)}else v=Sr.d(yG+".All.Shared.Plural",{count:e+t});return b.a.resolve({message:v,description:_})}return gG(i,d,c).then(_G(yG,e,t,i,u,h,p,g))}(o,l,s,c,p,h,f,v,r,n,E,t,y,_,w,S)}}return C}(new Set(a.toArray()),t.fileSystem.driveWebService,o||void 0,void 0,c).then((function(e){e?Jf.a.show({iconNames:"iclouddrive",message:e.message,description:e.description,alternateButton:{title:Sr.d("DriveUI.FilesGrid.Default.Delete"),ariaLabel:Sr.d("DriveUI.FilesGrid.Default.Delete"),action:"handleAlternateButton",isAlternate:!0,isDestructive:!0},primaryButton:{title:Sr.d("DriveUI.Common.Cancel"),action:"handlePrimaryButton",isPrimary:!0},handleAlternateButton:function(){l&&(IG=!0,function(e){var t,n=dt.application.applicationName;Xc.setPreferences(n,((t={})[e]=!0,t))}(s)),OG(a,i,t,n)},handlePrimaryButton:function(){a.forEach((function(e){Ed.set(e.id,"Prepared")}))}}):OG(a,i,t,n)}))}t.fileSystem.loggingService.recordStat("PerformMoveSelectedItemsToTrashActionCalledWithEmptySelection",{class:"BRApp.FilesGridViewController",function:"performMoveSelectedItemsToTrashAction()",selectionCount:0})}function OG(e,t,n,r){var i=[],a=[];e.forEach((function(e){e.isAppLibrary||e.isSharedToMe?a.push(e):i.push(e)}));var o=[];i.length>0&&o.push(n.moveItemsToTrash(i)),a.length>0&&o.push(n.tombstoneItems(a)),Promise.all(o).then((function(e){e.forEach((function(e){e.failed&&EG(e,t,n,r)}))}))}var TG=S.b("DownloadErrorItemType",["GenericDownloadError","RequestedItemWasDeletedError"]);function AG(e){return function(e){return Object.assign({dateCreated:"2017-01-02T18:03:07Z",docwsid:Bu(e.id).docwsid,zone:Bu(e.id).zone,name:"Backup",etag:"8aua",type:"FOLDER",assetQuota:1814585,fileCount:10,shareCount:0,shareAliasCount:0,directChildrenCount:2,numberOfItems:2,parentId:Hu},e)}(e)}function NG(e,t){return NG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},NG(e,t)}var MG,DG,RG=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,NG(t,n),r.prototype.scheduleTask=function(e,t){var n=new Promise((function(t){e.listen("cancelled",(function(e){t(e.context)}))}));return Promise.race([n,this.add((function(){return e.runState===eG.Pending?e.run(t):Promise.resolve(eu.cancelledResult())}))])},r}(function(){function e(){this.latest=Promise.resolve()}return e.prototype.add=async function(e){await this.latest;var t=e();return this.latest=t,t},e}()),LG=new RG,kG=0;function xG(){return kG++}!function(e){e.CreateFolder="CreateFolder",e.DeleteItems="DeleteItems",e.DuplicateItems="DuplicateItems",e.MoveItems="MoveItems",e.MoveItemsToTrash="MoveItemsToTrash",e.MoveItemsFromTrash="MoveItemsFromTrash",e.PurgeRecentlyDeletedItems="PurgeRecentlyDeletedItems",e.PutItemsBackFromTrash="PutItemsBackFromTrash",e.RenameItem="RenameItem",e.UploadItem="UploadItem",e.RetrieveSharedItemDetailsInFolders="RetrieveSharedItemDetailsInFolders"}(MG||(MG={})),function(e){e.None="None",e.DestinationInvalid="DestinationInvalid",e.DestinationDeleted="DestinationDeleted",e.ItemUnshared="ItemUnshared",e.ItemMoved="ItemMoved",e.ItemModified="ItemModified",e.ItemDeleted="ItemDeleted",e.OutOfQuota="OutOfQuota",e.Unknown="Unknown"}(DG||(DG={}));var FG=S.b("TransactionCommitErrorItemType",["MoveItemError","MoveItemToAppLibraryError","DeleteItemError","DuplicateItemError","CreateFolderError","RenameItemError","UploadItemError","PutItemBackFromTrashError"]),PG={OK:"OK",DestinationInvalid:"DESTINATION_ID_INVALID",DestinationDeleted:"DESTINATION_ID_DELETED",ItemDeleted:"ID_DELETED",ItemNotDeleted:"ID_NOT_DELETED",ItemUnshared:"ID_INVALID",ItemModified:"ETAG_CONFLICT",Unknown:"UNKNOWN",FatalError:"FATAL_ERROR",Forbidden:"FORBIDDEN",Cancelled:"CANCELLED",UnshareError:"UNSHARE_ERROR",QuotaExceeded:"QUOTA_EXCEEDED"},jG=S.b("BRApp.NativeFileUploadErrorType",["DestinationDeleted","Unknown","OutOfQuota","FatalError"]),UG=BH.extend({init:function(e,t,n,r){this.conflictType=t,this.transactionType=n,this.__s._$F1$init.call(this,e,r)},conflictType:y.c({defaultValue:null}),transactionType:y.c({defaultValue:null}),destinationFolder:y.c({type:"string",defaultValue:null}),__superMap:{_$F1$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"TransactionCommitErrorDetails"}}),BG=VH.extend({type:y.c({type:FG}),details:y.c({type:UG}),staticMembers:{__QUALIFIED_CLASS_NAME__:"TransactionCommitErrorItem"}}),VG=function(e){var t=e.type,n=KG[t];if(n){var r=function(e,t){return e.commitInfo.uncommittedInfoItems.map((function(n){return t.createErrorItem(e,n)}))}(e,n);return r}throw new Error("No alert generator found for transaction type: "+t)},WG=oe.a.extend({errorItemType:null,createErrorItem:function(e,t){return BG.create(this.errorItemType,this.getDetails(e,t))},getDetails:function(e,t){var n=this.getTransactionItem(e,t),r=this.getConflictType(e,t),i=e.destinationFolder,a=e._sourceFolder,o=this.getDestinationFolderName(e),s=this.getSourceFolderName(e),c=this.isFolderSharedToMe(i),l=this.isFolderSharedToMe(a);return UG.create(n,r,e.type,{destinationFolder:o,sourceFolderName:s,isDestinationFolderSharedToMe:c,isSourceFolderSharedToMe:l})},getTransactionItem:function(e,t){return e.item?e.item:t.getTransactionItem()},getConflictType:function(e,t){var n;switch(t.status){case PG.DestinationInvalid:case PG.DestinationDeleted:n=DG.DestinationDeleted;break;case PG.ItemUnshared:n=DG.ItemUnshared;break;case PG.ItemDeleted:n=DG.ItemDeleted;break;case PG.ItemModified:n=t.hasTransactionItemMoved()?DG.ItemMoved:DG.ItemModified;break;default:n=DG.Unknown}return n},getDestinationFolderName:function(e){var t=e.destinationFolder||null;return t?t.fullName:null},getSourceFolderName:function(e){var t=e._sourceFolder||null;return t?t.fullName:null},isFolderSharedToMe:function(e){return!!yt.a(e)&&e.isSharedToMe&&e.sharedFolderFromHierarchy},staticMembers:{__QUALIFIED_CLASS_NAME__:"ErrorItemGenerator"}}),zG=WG.extend({errorItemType:FG.CreateFolderError,getTransactionItem:function(e,t){return e.stagedFolder},staticMembers:{__QUALIFIED_CLASS_NAME__:"CreateFolderErrorItemGenerator"}}),HG=WG.extend({errorItemType:FG.UploadItemError,getDetails:function(e,t){var n=this.__s._$1fj$getDetails.call(this,e,t);return n.nativeFile=e.nativeFile,n},getTransactionItem:function(e,t){return e.stagedFile},getConflictType:function(e,t){var n;switch(e.commitInfo.fatalError.type){case jG.OutOfQuota:n=DG.OutOfQuota;break;case jG.DestinationDeleted:n=DG.DestinationDeleted;break;default:n=this.__s._$1sf$getConflictType.call(this,e,t)}return n},__superMap:{_$1fj$getDetails:"getDetails",_$1sf$getConflictType:"getConflictType"},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadFileErrorItemGenerator"}}),GG=WG.extend({errorItemType:null,createErrorItem:function(e,t){var n=FG.MoveItemError;return e.destinationFolder.isAppLibrary?n=FG.MoveItemToAppLibraryError:e.destinationFolder.isTrashRoot&&(n=FG.DeleteItemError),BG.create(n,this.getDetails(e,t))},staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemErrorItemGenerator"}}),$G=WG.extend({errorItemType:FG.DuplicateItemError,getTransactionItem:function(e,t){return e.getStagedFileById(t.itemID)},getConflictType:function(e,t){return DG.Unknown},getDestinationFolderName:function(e){return""},staticMembers:{__QUALIFIED_CLASS_NAME__:"DuplicateItemErrorItemGenerator"}}),KG={};function QG(e,t){for(var n=[],r=[],i=e.length,a=0;a<i;a++){var o=e[a];t(o)?n.push(o):r.push(o)}return[n,r]}KG[MG.DeleteItems]=WG.create({errorItemType:FG.DeleteItemError}),KG[MG.RenameItem]=WG.create({errorItemType:FG.RenameItemError}),KG[MG.PurgeRecentlyDeletedItems]=WG.create({errorItemType:FG.DeleteItemError}),KG[MG.PutItemsBackFromTrash]=WG.create({errorItemType:FG.PutItemBackFromTrashError}),KG[MG.CreateFolder]=zG.create(),KG[MG.UploadItem]=HG.create(),KG[MG.MoveItemsToTrash]=GG.create(),KG[MG.MoveItems]=GG.create(),KG[MG.DuplicateItems]=$G.create();var qG=["id"];function ZG(e){var t=e.id,n=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,qG);return Object.assign({},n,{drivewsid:t,status:"FATAL_ERROR"})}function YG(e){var t=e.etag,n=e.clientId;return Object.assign({},XG(e),{etag:t,clientId:n})}function XG(e){var t;return{drivewsid:e.id,shareID:"TO_ME"===e.share&&null!=(t=e.shareID)?t:void 0}}var JG=function(e){return{clientId:e.clientId,name:e.name}},e$=function(e){return{drivewsid:e.id,etag:e.etag}},t$=function(e){var t=Object.assign({},e$(e),{name:e.name});return"FILE"===e.type&&(t.extension=e.extension),t};function n$(e,t){return[[...e[0],...t[0]],[...e[1],...t[1]]]}async function r$(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=dE(t,n.driveItemCache),o={destinationDrivewsId:t.id,folders:e.map(JG)};a&&(o.shareID=a);var s=await r.post("createFolders",o);if(s.failed)return[[],e.map(ZG)];var c=QG(s.data.folders,(function(e){return"OK"===e.status})),l=c[0],u=c[1];if(0===u.length||0===i)return[l,u];var d=e.reduce((function(e,t){return e[t.id]=t,e}),{}),h=QG(u,(function(e){return"ETAG_CONFLICT"===e.status&&d[e.drivewsid].parentId===e.parentId})),f=h[0],p=h[1];if(0===f.length)return[l,u];var g=f.map((function(e){return Object.assign({},d[e.drivewsid],{etag:e.etag,clientId:e.clientId})}));return n$([l,p],await r$(g,t,n,r,i-1))}var i$=function(){function e(e,t,n,r,i,a){var o=e.loggingService;this.stagedFolder=void 0,this.destinationFolderInCache=void 0,this.transactionDescription=void 0,this.destinationFolderInLocalStore=void 0,this.loggingService=void 0,this.driveItemCaches=void 0,this.driveWebService=void 0,this.delegate=void 0,this.loggingService=o,this.delegate=t,this.driveItemCaches=i,this.driveWebService=a,this.destinationFolderInCache=a$(i.driveItemCache.read(n)),this.destinationFolderInLocalStore=function(e){var t=Rf.find(e);if(!t)throw new Error("Can not prepare, missing destination folder");return t.prepareForTransaction(),t}(n),IT(i,[this.destinationFolderInCache],"Prepared"),this.stagedFolder=function(e,t,n){var r=Rf.createPlaceholder();return Object.assign(r,{name:t,type:xh.FOLDER.value,parentId:e.id,fileSystem:n}),e.content.addItem(r),r}(this.destinationFolderInLocalStore,r,t),this.transactionDescription="Create folder transaction #"+xG(),t._newTransactionDidBegin(this.transactionDescription),IT(i,[this.destinationFolderInCache,this.stagedFolder],"Staged")}return e.prototype.createFolderCommit=async function(){var e=this;if(!this.destinationFolderInCache)throw new Error("Failed to find destination folder in cache");if(!this.destinationFolderInLocalStore)throw new Error("Failed to find destination folder in local store");if(!this.stagedFolder)throw new Error("Failed to find new folder in local store");if(!this.transactionDescription)throw new Error("Failed to find transaction description");IT(this.driveItemCaches,[this.stagedFolder],"Committing");var t,n,r=Object.assign({},AG({id:"FOLDER::com.apple.CloudDocs::12D9D9AD-0D96-4159-8E41-6486FF3324E2",parentId:Hu}),{name:this.stagedFolder.name,clientId:this.stagedFolder.id}),i=await LG.add((function(){return r$([r],e.destinationFolderInCache,e.driveItemCaches,e.driveWebService)})),a=i[0],o=i[1],s=function(e,t,n,r){var i={};return t.length>0&&n.content.removeItem(r),e.forEach((function(e){var t=wd.driveItemCache.read(e.clientId);t&&IT(wd,[t],"Prepared"),Rf.replacePrimaryKeyInStore(e.clientId,e.drivewsid),i[e.clientId]=e.drivewsid})),n.finalizeForTransaction(),i}(a,o,this.destinationFolderInLocalStore,this.stagedFolder);return ST(a,this.loggingService),a.length>0&&(t=this.destinationFolderInLocalStore,n=this.stagedFolder,t.content.updateItem(n)),IT(this.driveItemCaches,[this.destinationFolderInCache,this.stagedFolder],"Prepared"),this.delegate._newTransactionDidFinalize(this.transactionDescription),o.length>0?eu.failedResult(function(e,t,n){return VG({type:MG.CreateFolder,commitInfo:{uncommittedInfoItems:e.map((function(e){return{status:e.status,getTransactionItem:function(){return t},hasTransactionItemMoved:function(){return!1}}}))},stagedFolder:t,_sourceFolder:n,destinationFolder:n})}(o,this.stagedFolder,this.destinationFolderInLocalStore)):eu.okResult(s)},e}(),a$=function(e){if(!e)throw new Error("createFolder: attempted to read an item ID that wasn't found in the cache.");if("FILE"===e.type)throw new Error("createFolder: can't find correct place to create folder");return e};function o$(e,t){if(!(e&&Array.isArray(e)&&e.length>=1&&e[0].constructor.kindOf(VH)))throw e;e.forEach((function(e){return t.raiseAlertForErrorItem(e)}))}async function s$(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=e.map(t$),a=0;a<i.length;a++){var o=dE(e[a],t.driveItemCache);o&&(i[a].shareID=o)}var s={items:i},c=await n.post("renameItems",s);if(!0===c.failed)return[[],e.map(ZG)];var l=QG(c.data.items,(function(e){return"OK"===e.status})),u=l[0],d=l[1];if(0===d.length||0===r)return[u,d];var h=e.reduce((function(e,t){return e[t.id]=t,e}),{}),f=QG(d,(function(e){return"ETAG_CONFLICT"===e.status&&h[e.drivewsid].parentId===e.parentId})),p=f[0],g=f[1];if(0===p.length)return[u,d];var m=p.map((function(e){return Object.assign({},h[e.drivewsid],{etag:e.etag})}));return n$([u,g],await s$(m,t,n,r-1))}var c$=function(e){var t=e.itemModel,n=e.parentFolderModel;n&&n.content.updateItem(t)};async function l$(e,t,n,r,i,a){var o=e.loggingService,s=u$(i.driveItemCache.read(n)),c=s.name,l=function(e){var t=e.parentId;if(!t)throw new Error("Can not prepare, missing parentId");var n=Rf.find(t);if(!n)throw new Error("Can not prepare, missing parent");return n.prepareForTransaction(),{itemModel:ET(e),parentFolderModel:n}}(s);IT(i,[s],"Prepared"),c$(l);var u="Rename item transaction #"+xG();t._newTransactionDidBegin(u),l.itemModel.name=r;var d=Object.assign({},s,{name:r});l.parentFolderModel.content.updateItem(l.itemModel),IT(i,[s],"Staged"),c$(l),IT(i,[s],"Committing"),c$(l);var h=await LG.add((function(){return s$([d],i,a)})),f=h[0],p=h[1];return ST(f,o),function(e,t,n){var r=t.itemModel,i=t.parentFolderModel;e.length>0&&(r.name=n,i.content.updateItem(r)),i.finalizeForTransaction()}(p,l,c),IT(i,[s],"Prepared"),c$(l),t._newTransactionDidFinalize(u),p.length>0?(o&&function(e,t){var n=e.itemModel;t.recordStat("DriveWSRenameItemCommitTaskFailed",{op:"rename",isChainedToParent:!0===n.isChainedToParent,isSharedByMe:!0===n.isSharedByMe,isSharedDirectly:!0===n.isSharedDirectly,isSharedIndirectly:!0===n.isSharedIndirectly,isSharedToMe:!0===n.isSharedToMe})}(l,o),eu.failedResult(function(e,t){return VG({type:MG.RenameItem,commitInfo:{uncommittedInfoItems:e.map((function(e){return{status:e.status,getTransactionItem:function(){return t.itemModel},hasTransactionItemMoved:function(){return!1}}}))},_sourceFolder:t.parentFolderModel,destinationFolder:t.parentFolderModel})}(p,l))):eu.okResult()}var u$=function(e){if(!e)throw new Error("renameItem: attempted to read an item ID that wasn't found in the cache.");if("APP_LIBRARY"===e.type)throw new Error("renameItem: attempted to rename app library");return e};function d$(e){var t=e.item,n=e.name,r=e.session,i=e.fileSystem,a=e.raiseAlertService,o=e.itemWillBeRenamed;if(t.name!==n){var s=r.validateRenameItem(t,n);return!1===s?(o(),void l$(i,i,t.id,n,wd,i.driveWebService).then((function(e){e.failed&&o$(e.data,a)}))):void o$([s],a)}}Object(wu.a)(Object(wu.b)(),{"BR.Application.Title":"Drive"}),Object(wu.a)(Object(wu.b)(),{"DR.Delete":"Delete","DR.Cancel":"Cancel","DR.Name":"Name","DR.DateDeleted":"Date Deleted","DR.Size":"Size","DR.SortBy.Name":"Sort by Name","DR.SortBy.Date":"Sort by Date","DR.SortBy.Size":"Sort by Size","DR.SortBy.DateDeleted":"Sort by Date Deleted","DR.Status.Loading":"Searching for recoverable files","DR.ProgressText.Singular":"1 file found","DR.ProgressText.Plural":"%{numberOfFiles} files found","DR.Header.Title":"Restore Files","DR.Header.Description":"Choose the files you would like to restore to iCloudDrive.","DR.RestoreDocument":"Restore","DR.SelectAll":"Select All","DR.DaysRemaining.One":"1 day remaining","DR.DaysRemaining.MoreThanOne":"%{days} days remaining","DR.RecoverableCell.DateTimeSeparator":"","DR.Disclaimer.MainMessage":"Files show the days remaining before deletion. After that time, they will be permanently deleted.","DR.Disclaimer.SecondaryMessage":"Not seeing something you expected? Starting with iOS11 and macOSHighSierra, supporting applications will put deleted files into RecentlyDeleted. You can restore these files from <a href=\"https://www.icloud.com/#iclouddrive\" target=\"_top\" rel=\"noopener\">iCloud Drive</a> or from your device.","DR.Empty.Message":"No files to restore.","DR.Error.Loading.Message":"There was a problem loading restorable files.","DR.Error.Loading.Description":"Please try again later.","DR.Status.DeleteComplete.Single":"Deleted File","DR.Status.DeleteComplete.Multiple":"Deleted %{count} Files","DR.Status.Deleting.Single":"Deleting File","DR.Status.Deleting.Multiple":"Deleting %{count} Files","DR.Error.Deleting.Single.Message":"There was a problem deleting %{name}.","DR.Error.Deleting.Single.Description":"Try deleting the file again later.","DR.Error.Deleting.Group.Message":"%{count} files could not be deleted.","DR.Error.Deleting.Group.Description":"Try deleting the files again later.","DR.Status.RestoreComplete.Single":"Restored File","DR.Status.RestoreComplete.Multiple":"Restored %{count} Files","DR.Status.Restoring.Single":"Restoring File","DR.Status.Restoring.Multiple":"Restoring %{count} Files","DR.Error.Restoring.Single.Message":"There was a problem restoring %{name}.","DR.Error.Restoring.Single.Description":"Try restoring the file again later.","DR.Error.Restoring.Group.Message":"%{count} files could not be restored.","DR.Error.Restoring.Group.Description":"Try restoring the files again later.","DR.Error.Restoring.MixedErrors.Group.Description":"These files could not be restored for the reasons listed below.","DR.Error.Restoring.QuotaExceeded.Single.Message":"Not enough space to restore %{name}.","DR.Error.Restoring.QuotaExceeded.Single.Description":"Delete files from iCloudDrive or upgrade your storage plan.","DR.Error.Restoring.QuotaExceeded.Group.Message":"Not enough space to restore %{count} files.","DR.Error.Restoring.QuotaExceeded.Group.Description":"Delete files from iCloudDrive or upgrade your storage plan.","DR.Alert.DeleteSelectedItems.Single.Message":"Are you sure you want to permanently delete %{name}?","DR.Alert.DeleteSelectedItems.Single.Description":"Deleting this file means you will no longer be able to restore it back into iCloudDrive.","DR.Alert.DeleteSelectedItems.Multiple.Message":"Are you sure you want to permanently delete these %{count} files?","DR.Alert.DeleteSelectedItems.Multiple.Description":"Deleting these files means you will no longer be able to restore them back into iCloudDrive."});var h$={logBadUndefinedInput:uu,logBadReplacementKey:uu,logMissingLocKey:uu},f$=Ou(h$);Object(wu.c)(h$);var p$=n(1464);Object(Sr.b)(Object(Sr.c)(),{"DriveUI.Sharing.Folder.ShowSharedFolder":"Show Shared Folder","DriveUI.Sharing.Folder.Summary.Participant.Within":"This folder is in the shared folder %{rootName}.","DriveUI.Sharing.File.Summary.Participant.Within":"This file is in the shared folder %{rootName}.","DriveUI.Sharing.Folder.Summary.Owner.Within":"This folder is in the shared folder %{rootName}. Go to the folders share options to add people or change editing permissions.","DriveUI.Sharing.File.Summary.Owner.Within":"This file is in the shared folder %{rootName}. Go to the folders share options to add people or change editing permissions.","DriveUI.Sharing.Folder.Summary.Administrator.Within":"This folder is in the shared folder %{rootName}. Go to the folders share options to add people.","DriveUI.Sharing.File.Summary.Administrator.Within":"This file is in the shared folder %{rootName}. Go to the folders share options to add people.","DriveUI.Sharing.Header.Subtitle.SharedWithin":"Shared within %{folderName}"}),Object(Sr.b)(Object(Sr.c)(),{"DriveUI.FilesGrid.Default.Share":"Share Anyway","DriveUI.FilesGrid.Default.Delete":"Delete","DriveUI.FilesGrid.Default.FolderName.NotNumbered":"Untitled Folder","DriveUI.FilesGrid.Default.FolderName.NotNumbered.LowerCase":"untitled folder","DriveUI.FilesGrid.Default.FolderName.Numbered":"Untitled Folder %{number}","DriveUI.FilesGrid.Panel.FileInfo.Header":"Info","DriveUI.FilesGrid.Panel.FileInfo.InfoSection.Header":"Information","DriveUI.FilesGrid.Panel.FileInfo.Label.SharedBy":"Shared by","DriveUI.FilesGrid.Panel.FileInfo.Label.Kind":"Kind","DriveUI.FilesGrid.Panel.FileInfo.Label.Size":"Size","DriveUI.FilesGrid.Panel.FileInfo.Label.Where":"Where","DriveUI.FilesGrid.Panel.FileInfo.Label.Created":"Created","DriveUI.FilesGrid.Panel.FileInfo.Label.Modified":"Modified","DriveUI.FilesGrid.Item.Shared.Me":"Me","DriveUI.FilesGrid.Item.Shared.Label.SharedByMe":"Shared by Me","DriveUI.FilesGrid.Item.Shared.Label.SharedToMe":"Shared by %{name}","DriveUI.FilesGrid.Item.Shared.Label.SharedWithOne":"Shared with %{name}","DriveUI.FilesGrid.Item.Shared.Label.SharedWithTwo":"Shared with %{firstName} and %{secondName}","DriveUI.FilesGrid.Item.Shared.Label.SharedWithOneAndOther":"Shared with %{name} and 1 other","DriveUI.FilesGrid.Item.Shared.Label.SharedWithOneAndOthers":"Shared with %{name} and %{number} others","DriveUI.FilesGrid.Item.Shared.Label.SharedWithMany":"Shared with %{initNames}, and %{finalName}","DriveUI.FilesGrid.Item.Shared.Label.SharedWithManyAndOther":"Shared with %{names}, and 1 other","DriveUI.FilesGrid.Item.Shared.Label.SharedWithManyAndOthers":"Shared with %{names}, and %{number} others","DriveUI.FilesGrid.Item.Shared.Label.SharedWithSeparator":", ","DriveUI.FilesGrid.Item.TimeRemaining.Minute.Zero":"0 minutes","DriveUI.FilesGrid.Item.TimeRemaining.Minute.One":"1 minute","DriveUI.FilesGrid.Item.TimeRemaining.Minute.Plural":"%{count} minutes","DriveUI.FilesGrid.Item.TimeRemaining.Hour.One":"1 hour","DriveUI.FilesGrid.Item.TimeRemaining.Hour.Plural":"%{count} hours","DriveUI.FilesGrid.Item.TimeRemaining.Day.One":"1 day","DriveUI.FilesGrid.Item.TimeRemaining.Day.Plural":"%{count} days","DriveUI.FilesGrid.Item.Kind.ApplicationLibrary":"Application Library","DriveUI.FilesGrid.Item.Kind.Folder":"Folder","DriveUI.FilesGrid.Item.Kind.File":"File","DriveUI.FilesGrid.Item.Kind.FileWithExtension":"%{ext} File","DriveUI.FilesGrid.Item.Info.DateTime.Format":"%{date:M}/%{date:d}/%{date:yyyy}, %{date:h}:%{date:mm} %{date:a}","DriveUI.FilesGrid.Item.Activation.ScreenreaderHint":"Press to select item","DriveUI.FilesGrid.Item.Checkbox.ScreenreaderLabel":"Select %{fileName}","DriveUI.FilesGrid.Item.FileLink.ScreenreaderLabel":"%{fileName} (opens in new tab)","DriveUI.FilesGrid.Item.FolderButton.ScreenreaderLabel":"Open %{fileName}","DriveUI.FilesGrid.ItemGrid.ScreenreaderLabel":"Files","DriveUI.FilesGrid.ItemGrid.Selection.Zero.ScreenreaderLabel":"No items selected.","DriveUI.FilesGrid.ItemGrid.Selection.One.ScreenreaderLabel":"1 item selected.","DriveUI.FilesGrid.ItemGrid.Selection.Two.ScreenreaderLabel":"2 items selected.","DriveUI.FilesGrid.ItemGrid.Selection.Few.ScreenreaderLabel":"%{selectionSize} items selected.","DriveUI.FilesGrid.ItemGrid.Selection.Many.ScreenreaderLabel":"%{selectionSize} items selected.","DriveUI.FilesGrid.ItemGrid.Selection.Other.ScreenreaderLabel":"%{selectionSize} items selected.","DriveUI.FilesGrid.Cell.Info.LastModified":"Last modified %{date}","DriveUI.FilesGrid.Cell.Info.Tooltip":"Get Info","DriveUI.FilesGrid.Cell.Cancel.Tooltip":"Cancel upload","DriveUI.FilesGrid.Cell.Upload.Progress.Uploading":"Uploading","DriveUI.FilesGrid.Cell.ActionMenu.Tooltip":"Actions","DriveUI.FilesGrid.Cell.ActionMenu.Action.Open.File":"Open File","DriveUI.FilesGrid.Cell.ActionMenu.Action.Open.Folder":"Open Folder","DriveUI.FilesGrid.Cell.ActionMenu.Action.Open.iWork.PagesFile":"Open Document","DriveUI.FilesGrid.Cell.ActionMenu.Action.Open.iWork.NumbersFile":"Open Spreadsheet","DriveUI.FilesGrid.Cell.ActionMenu.Action.Open.iWork.KeynoteFile":"Open Presentation","DriveUI.FilesGrid.Cell.ActionMenu.Action.Duplicate.File":"Duplicate File","DriveUI.FilesGrid.Cell.ActionMenu.Action.Duplicate.iWork.PagesFile":"Duplicate Document","DriveUI.FilesGrid.Cell.ActionMenu.Action.Duplicate.iWork.NumbersFile":"Duplicate Spreadsheet","DriveUI.FilesGrid.Cell.ActionMenu.Action.Duplicate.iWork.KeynoteFile":"Duplicate Presentation","DriveUI.FilesGrid.Cell.ActionMenu.Action.Info.File":"File Info","DriveUI.FilesGrid.Cell.ActionMenu.Action.Info.Folder":"Folder Info","DriveUI.FilesGrid.Cell.ActionMenu.Action.Info.iWork.PagesFile":"Document Info","DriveUI.FilesGrid.Cell.ActionMenu.Action.Info.iWork.NumbersFile":"Spreadsheet Info","DriveUI.FilesGrid.Cell.ActionMenu.Action.Info.iWork.KeynoteFile":"Presentation Info","DriveUI.FilesGrid.Cell.ActionMenu.Action.DownloadACopy":"Download a Copy","DriveUI.FilesGrid.Cell.ActionMenu.Action.SendACopy":"Send a Copy","DriveUI.FilesGrid.Cell.ActionMenu.Action.CollaborateWithOthers":"Collaborate with Others","DriveUI.FilesGrid.Cell.ActionMenu.Action.Delete.File":"Delete File","DriveUI.FilesGrid.Cell.ActionMenu.Action.Delete.Folder":"Delete Folder","DriveUI.FilesGrid.Cell.ActionMenu.Action.Delete.iWork.PagesFile":"Delete Document","DriveUI.FilesGrid.Cell.ActionMenu.Action.Delete.iWork.NumbersFile":"Delete Spreadsheet","DriveUI.FilesGrid.Cell.ActionMenu.Action.Delete.iWork.KeynoteFile":"Delete Presentation","DriveUI.FilesGrid.EmptyDrive.Title":"Your iCloudDrive is empty.","DriveUI.FilesGrid.EmptyDrive.Subtitle":"You can upload files by dragging them here\nor by using an iCloudDrive enabled app.","DriveUI.FilesGrid.EmptyFolder.Title":"This folder is empty","DriveUI.FilesGrid.EmptyFolder.Subtitle":"You can upload files by dragging them here.","DriveUI.FilesGrid.EmptyTrash.Title":"No items","DriveUI.FilesGrid.File.Type.aac":"AAC audio","DriveUI.FilesGrid.File.Type.abbu":"Contacts Archive File","DriveUI.FilesGrid.File.Type.ai":"Adobe Illustrator Document","DriveUI.FilesGrid.File.Type.aiff":"AIFF-C Audio","DriveUI.FilesGrid.File.Type.apk":"Android Application","DriveUI.FilesGrid.File.Type.app":"Application","DriveUI.FilesGrid.File.Type.avi":"AVI movie","DriveUI.FilesGrid.File.Type.band":"GarageBand Project","DriveUI.FilesGrid.File.Type.bat":"Batch File","DriveUI.FilesGrid.File.Type.bin":"MacBinary archive","DriveUI.FilesGrid.File.Type.blend":"Blend File","DriveUI.FilesGrid.File.Type.bmp":"Windows bitmap image","DriveUI.FilesGrid.File.Type.c":"C source code","DriveUI.FilesGrid.File.Type.c4d":"Cinema 4D File","DriveUI.FilesGrid.File.Type.class":"Java class","DriveUI.FilesGrid.File.Type.cpp":"C++ source code","DriveUI.FilesGrid.File.Type.css":"Cascading Style Sheet","DriveUI.FilesGrid.File.Type.cer":"Certificate","DriveUI.FilesGrid.File.Type.csv":"comma-separated values","DriveUI.FilesGrid.File.Type.dae":"Collada ","DriveUI.FilesGrid.File.Type.dmg":"Disk Image","DriveUI.FilesGrid.File.Type.dng":"Adobe raw image","DriveUI.FilesGrid.File.Type.doc":"Microsoft Word 97-2004 document","DriveUI.FilesGrid.File.Type.docx":"Office Open XML word processing document","DriveUI.FilesGrid.File.Type.dxf":"AutoCAD DXF File","DriveUI.FilesGrid.File.Type.eps":"Encapsulated PostScript","DriveUI.FilesGrid.File.Type.exe":"Microsoft Windows application","DriveUI.FilesGrid.File.Type.fbx":"Filmbox File","DriveUI.FilesGrid.File.Type.gif":"Graphics Interchange Format","DriveUI.FilesGrid.File.Type.gz":"GZip archive","DriveUI.FilesGrid.File.Type.h":"C header code","DriveUI.FilesGrid.File.Type.hqx":"BinHex archive","DriveUI.FilesGrid.File.Type.htm":"HTML text","DriveUI.FilesGrid.File.Type.epub":"Electronic Publication (EPUB)","DriveUI.FilesGrid.File.Type.ibooks":"Electronic Publication (AppleBooks)","DriveUI.FilesGrid.File.Type.icns":"Apple icon image","DriveUI.FilesGrid.File.Type.ico":"Windows icon image","DriveUI.FilesGrid.File.Type.ics":"ICS File","DriveUI.FilesGrid.File.Type.indd":"Adobe InDesign Document","DriveUI.FilesGrid.File.Type.ipa":"iOS App","DriveUI.FilesGrid.File.Type.iso":"ISO Disk Image","DriveUI.FilesGrid.File.Type.java":"Java source code","DriveUI.FilesGrid.File.Type.jpg":"JPEG image","DriveUI.FilesGrid.File.Type.js":"JavaScript","DriveUI.FilesGrid.File.Type.key":"Keynote Presentation","DriveUI.FilesGrid.File.Type.keychain":"keychain","DriveUI.FilesGrid.File.Type.log":"Log File","DriveUI.FilesGrid.File.Type.m":"Objective-C source code","DriveUI.FilesGrid.File.Type.m3u":"M3U Playlist","DriveUI.FilesGrid.File.Type.m4a":"Apple MPEG-4 audio","DriveUI.FilesGrid.File.Type.m4p":"protected MPEG-4 audo","DriveUI.FilesGrid.File.Type.m4r":"Ringtone","DriveUI.FilesGrid.File.Type.m4v":"Apple MPEG-4 movie","DriveUI.FilesGrid.File.Type.mid":"Midi audio","DriveUI.FilesGrid.File.Type.qt":"QuickTime movie","DriveUI.FilesGrid.File.Type.mp3":"MP3 Audio","DriveUI.FilesGrid.File.Type.mp4":"MPEG-4 movie","DriveUI.FilesGrid.File.Type.mpeg":"MPEG movie","DriveUI.FilesGrid.File.Type.numbers":"Numbers Spreadsheet","DriveUI.FilesGrid.File.Type.obj":"Wavefront 3D Object File","DriveUI.FilesGrid.File.Type.otf":"PostScript OpenType font","DriveUI.FilesGrid.File.Type.pages":"Pages Document","DriveUI.FilesGrid.File.Type.pdf":"Portable Document Format (PDF)","DriveUI.FilesGrid.File.Type.perl":"Perl script","DriveUI.FilesGrid.File.Type.pkg":"Installer package archive ","DriveUI.FilesGrid.File.Type.png":"PNG image","DriveUI.FilesGrid.File.Type.pps":"Microsoft PowerPoint 97-2004 slide show","DriveUI.FilesGrid.File.Type.ppsx":"Office Open XML slide show","DriveUI.FilesGrid.File.Type.ppt":"Microsoft PowerPoint 97-2004 presentation","DriveUI.FilesGrid.File.Type.pptx":"Office Open XML presentation","DriveUI.FilesGrid.File.Type.ps":"PostScript","DriveUI.FilesGrid.File.Type.psd":"Adobe Photoshop document","DriveUI.FilesGrid.File.Type.py":"Python script","DriveUI.FilesGrid.File.Type.rar":"RAR archive","DriveUI.FilesGrid.File.Type.rtf":"Rich Text File","DriveUI.FilesGrid.File.Type.safariextz":"Safari extension","DriveUI.FilesGrid.File.Type.scpt":"Script","DriveUI.FilesGrid.File.Type.sh":"shell script","DriveUI.FilesGrid.File.Type.stl":"Stereolithography File","DriveUI.FilesGrid.File.Type.svg":"scalable vector graphics (SVG)","DriveUI.FilesGrid.File.Type.swift":"Swift File","DriveUI.FilesGrid.File.Type.tar":"tar archive","DriveUI.FilesGrid.File.Type.tiff":"TIFF image","DriveUI.FilesGrid.File.Type.ttf":"TrueType OpenType font","DriveUI.FilesGrid.File.Type.txt":"Text","DriveUI.FilesGrid.File.Type.vcf":"Electronic business card","DriveUI.FilesGrid.File.Type.wave":"Waveform audio","DriveUI.FilesGrid.File.Type.wma":"Windows media audio","DriveUI.FilesGrid.File.Type.wmv":"Windows media","DriveUI.FilesGrid.File.Type.xcodeproj":"Xcode Project","DriveUI.FilesGrid.File.Type.xhtml":"XHTML","DriveUI.FilesGrid.File.Type.xlam":"Microsoft Excel add-in","DriveUI.FilesGrid.File.Type.xls":"Microsoft Excel 97-2004 worksheet","DriveUI.FilesGrid.File.Type.xlsx":"Office Open XML spreadsheet","DriveUI.FilesGrid.File.Type.xml":"XML text","DriveUI.FilesGrid.File.Type.zip":"ZIP archive","DriveUI.FilesGrid.Error.Loading.FolderContent.Title":"There was a problem loading\nthe content of this folder.","DriveUI.FilesGrid.Error.Loading.FolderContent.Subtitle":"Try opening the folder again later.","DriveUI.FilesGrid.Error.Email.AttachmentTooLarge.Title":"%{fileName} cant be emailed.","DriveUI.FilesGrid.Error.Email.AttachmentTooLarge.Subtitle":"This file exceeds the maximum allowed size for attachments (%{maxFileSizeInMB} MB).","DriveUI.FilesGrid.Error.Email.AttachmentsTooLarge.Title":"Your selection cant be emailed.","DriveUI.FilesGrid.Error.Email.AttachmentsTooLarge.Subtitle":"Your selection exceeds the maximum allowed total size for attachments (%{maxFileSizeInMB} MB)","DriveUI.FilesGrid.Error.ShareFile.Generic.Message":"Could not share %{fileName}.","DriveUI.FilesGrid.Error.ShareFolder.Generic.Message":"Could not share %{folderName}.","DriveUI.FilesGrid.Error.ShareFile.Generic.Description":"There was an error sharing this file. Please try again later.","DriveUI.FilesGrid.Error.ShareFolder.Generic.Description":"There was an error sharing this folder. Please try again later.","DriveUI.FilesGrid.Error.ShareFile.UnsharedToMe.Message":"%{fileName} is no longer available.","DriveUI.FilesGrid.Error.ShareFile.UnsharedToMe.Description":"The owner stopped sharing, or you no longer have permission to continue viewing.","DriveUI.FilesGrid.Error.SharedFolder.UnsharedToMe.Message":"%{folderName} is no longer available.","DriveUI.FilesGrid.Error.SharedFolder.UnsharedToMe.Description":"The owner stopped sharing, or you no longer have permission to continue viewing.","DriveUI.FilesGrid.Error.ShareFolder.Message.SharedToMe":"This folder cant be shared.","DriveUI.FilesGrid.Error.ShareFolder.Description.SharedToMe":"You cant share folders that contain items shared with you.","DriveUI.FilesGrid.Error.OpenFile.Single.Generic.Title":"%{fileName} couldnt be opened.","DriveUI.FilesGrid.Error.OpenFile.Single.Attachment.Title":"%{fileName} couldnt be emailed.","DriveUI.FilesGrid.Error.OpenFile.Multiple.Attachment.Title":"%{fileCount} files couldnt be emailed.","DriveUI.FilesGrid.Error.OpenFile.Multiple.Generic.Title":"%{fileCount} files couldnt be opened.","DriveUI.FilesGrid.Error.OpenFile.Single.Generic.Subtitle":"Try opening the file again later.","DriveUI.FilesGrid.Error.OpenFile.Single.Deleted.Subtitle":"This file has been deleted and is no longer available.","DriveUI.FilesGrid.Error.OpenFile.Single.Unshared.Subtitle":"The owner stopped sharing, or you no longer have permission to continue viewing.","DriveUI.FilesGrid.Error.OpenFile.Single.Attachment.Subtitle":"Try emailing the file again later.","DriveUI.FilesGrid.Error.OpenFile.Multiple.Attachment.Subtitle":"Try emailing these files again later.","DriveUI.FilesGrid.Error.OpenFile.Multiple.Generic.Subtitle":"Try opening these files again later.","DriveUI.FilesGrid.Error.OpenFile.Multiple.Deleted.Subtitle":"These files have been deleted and are no longer available.","DriveUI.FilesGrid.Error.OpenFile.Multiple.Unshared.Subtitle":"The owner stopped sharing, or you no longer have permission to continue viewing these files.","DriveUI.FilesGrid.Error.OpenFile.Multiple.Mixed.Subtitle":"Try opening the files again later","DriveUI.FilesGrid.Error.OpenFile.Multiple.ItemDetails.Generic.Subtitle":"There was a problem opening this file. Try again later.","DriveUI.FilesGrid.Error.OpenFile.Multiple.ItemDetails.Deleted.Subtitle":"This file has been deleted and is no longer available.","DriveUI.FilesGrid.Error.OpenFile.Multiple.ItemDetails.Unshared.Subtitle":"The owner stopped sharing, or you no longer have permission to continue viewing this file.","DriveUI.FilesGrid.DragDrop.Status.MoveItems":"Move to %{destinationName}","DriveUI.FilesGrid.DragDrop.Status.MoveItems.ToRootContainer":"Move to iCloudDrive","DriveUI.FilesGrid.DragDrop.Status.UploadItems":"Upload to %{destinationName}","DriveUI.FilesGrid.DragDrop.Status.UploadItems.ToRootContainer":"Upload to iCloudDrive","DriveUI.FilesGrid.SortButtonTitle.Name":"Name","DriveUI.FilesGrid.SortButtonTitle.Date":"Date","DriveUI.FilesGrid.SortButtonTitle.Size":"Size","DriveUI.FilesGrid.SortButtonTitle.Kind":"Kind","DriveUI.FilesGrid.SortBy.Name":"Sort by Name","DriveUI.FilesGrid.SortBy.Date":"Sort by Date","DriveUI.FilesGrid.SortBy.Size":"Sort by Size","DriveUI.FilesGrid.SortBy.Kind":"Sort by Kind","DriveUI.FilesGrid.Popover.Close":"Close popover","DriveUI.FilesGrid.FolderFooter.None":"0 items, %{quotaString} available on iCloud","DriveUI.FilesGrid.FolderFooter.Single":"1 item, %{quotaString} available on iCloud","DriveUI.FilesGrid.FolderFooter.Multiple":"%{folderItemsCount} items, %{quotaString} available on iCloud","DriveUI.FilesGrid.Navigation.Back":"Back","DriveUI.FilesGrid.Recents.LoadingMoreAX":"Loading more recent files","DriveUI.FilesGrid.SourceList.AXTitle.Sidebar":"Sidebar","DriveUI.FilesGrid.SourceList.Source.Recents":"Recents","DriveUI.FilesGrid.SourceList.Source.Browse":"Browse","DriveUI.FilesGrid.SourceList.Source.RecentlyDeleted":"Recently Deleted","DriveUI.FilesGrid.SourceList.Source.Shared":"Shared","DriveUI.FilesGrid.SourceList.Source.Favorites":"Favorites","DriveUI.FilesGrid.SourceList.Source.Favorites.LoadingMoreAX":"Loading more favorites","DriveUI.FilesGrid.SourceList.Source.Favorites.MaxLoaded":"See more favorites on your device.","DriveUI.FilesGrid.Spinner.Label.Loading":"Loading"});var g$=["content","content.isSharedToMe","content.isSharedByMe","content.ownerFromHierarchy"],m$={mixinDependencies:[v.a],content:v.g(),sharedByNameStringWithoutAttribution:v.g({dependencies:g$,readOnly:!0,get:function(){return v$(this.content)}}),sharedByNameStringWithAttribution:v.g({dependencies:g$,readOnly:!0,get:function(){return y$(this.content)}}),sharedWithNamesString:v.g({dependencies:["content.sharedFolderFromHierarchy.fullShareRecordHash","content.fullShareRecordHash","sharedWithNamesStringMaxWidth","sharedWithNamesStringFont",...g$],readOnly:!0,get:Object.assign((function(){return _$(this.content,this.sharedWithNamesStringFont,this.sharedWithNamesStringMaxWidth)}),{__CW__getter:function(e,t,n,r){return _$(this.content,r.internalGet(this,t[3+n]),r.internalGet(this,t[2+n]))}})}),sharedWithNamesStringMaxWidth:v.g(void 0),sharedWithNamesStringFont:v.g(""),shouldAppearAsShared:v.g({readOnly:!0,dependencies:["content.isSharedDirectly"],get:function(){var e=this.content;return e&&e.isSharedDirectly}})},v$=function(e){return e?e.isSharedToMe?b$(e.ownerFromHierarchy):e.isSharedByMe?Sr.d("DriveUI.FilesGrid.Item.Shared.Me"):"":""},y$=function(e){return e?e.isSharedToMe?Sr.d("DriveUI.FilesGrid.Item.Shared.Label.SharedToMe",{name:b$(e.ownerFromHierarchy)}):e.isSharedByMe?Sr.d("DriveUI.FilesGrid.Item.Shared.Label.SharedByMe"):"":""},_$=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;if("string"===typeof e){var i=qh.find(e)||Rf.find(e);if(!i)return"";n=i}else n=e;if(ol.a(n,"isSharedDirectlyOrIndirectly")){var a=n.isSharedDirectly?n:n.sharedFolderFromHierarchy;if(ol.a(a,"isSharedToMe")||!yt.a(ol.a(a,"fullShareRecordHash")))return y$(a);var o=bj.create(a.fullShareRecordHash),s=Array.from(o.participants).sort($V).filter((function(e){return!(e.isOwner||e.isMe)})).map((function(e){return e.displayName}));return 0===s.length?y$(a):w$(s,t,r,y$(n))}return""};function b$(e){var t=e&&e.firstName||"",n=e&&e.lastName||"",r=e&&e.appleId||"";return gs.displayNameForComponents({givenName:t,familyName:n,emailAddress:r})}var w$=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=0,a=e.length;if(e.length>0&&yt.a(t)&&yt.a(n))for(;a-i>0;){var o=(a-i>>1)+i+1,s=S$(e.slice(0,o),e.length-o,r);H_(s,t).width>n?a=o-1:i=o}return S$(e.slice(0,a),e.length-a,r)},S$=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="DriveUI.FilesGrid.Item.Shared.Label.";return 0===e.length?n:1===e.length?0===t?Sr.d(r+"SharedWithOne",{name:e[0]}):1===t?Sr.d(r+"SharedWithOneAndOther",{name:e[0]}):Sr.d(r+"SharedWithOneAndOthers",{name:e[0],number:t}):2===e.length&&0===t?Sr.d(r+"SharedWithTwo",{firstName:e[0],secondName:e[1]}):0===t?Sr.d(r+"SharedWithMany",{initNames:e.slice(0,-1).join(Sr.d(r+"SharedWithSeparator")),finalName:e.slice(-1)[0]}):1===t?Sr.d(r+"SharedWithManyAndOther",{names:e.join(Sr.d(r+"SharedWithSeparator"))}):Sr.d(r+"SharedWithManyAndOthers",{names:e.join(Sr.d(r+"SharedWithSeparator")),number:t})},E$=Ar.a.extend(m$,{init:function(e,t,n){this._title=e.name,this.content=e,this.showcaseView=t,this.__s._$CA$init.call(this,n)},staticMembers:{template:{type:"ELEMENT",tagname:"header",children:[{type:"VIEWOUTLET",tagname:"view",name:"showcaseView"},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"h1",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{}}]},{type:"ELEMENT",tagname:"h2",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"subtitle",attributes:{}}]},{type:"ELEMENT",tagname:"h3",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"subSubtitle",attributes:{}}]}],classes:["text-wrapper"]}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isShareStateUnknown",truevalue:"cw-hidden",attributes:{}}]},__QUALIFIED_CLASS_NAME__:"ManageShareHeaderView"},content:v.g(),showcaseView:v.g(),subtitle:v.g({readOnly:!0,dependencies:["content.isSharedIndirectly","nameOfSharedFolder"],get:Object.assign((function(){return this.content.isSharedIndirectly?Sr.d("DriveUI.Sharing.Header.Subtitle.SharedWithin",{folderName:this.nameOfSharedFolder}):""}),{__CW__getter:function(e,t,n,r){return this.content.isSharedIndirectly?Sr.d("DriveUI.Sharing.Header.Subtitle.SharedWithin",{folderName:r.internalGet(this,t[1+n])}):""}})}),subSubtitle:v.g({readOnly:!0,dependencies:["content","sharedWithNamesString","sharedByNameStringWithAttribution"],get:Object.assign((function(){var e=this.content,t=this.sharedWithNamesString,n=this.sharedByNameStringWithAttribution;return e.isSharedDirectlyOrIndirectly?e.isSharedByMe?t:n:""}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]),a=r.internalGet(this,t[1+n]),o=r.internalGet(this,t[2+n]);return i.isSharedDirectlyOrIndirectly?i.isSharedByMe?a:o:""}})}),sharedWithNamesStringFont:"normal normal 300 13px SFNSText",isAttachedListener:v.f("isAttached",(function(){if(this.isAttached){var e=this.element.clientWidth-53-44-18;this.sharedWithNamesStringMaxWidth=e}})),nameOfSharedFolder:v.g(_.c("content.sharedFolderFromHierarchy.name")),title:v.g({readOnly:!0,get:function(){return this._title}}),shouldShowSubtitle:v.g(),isShareStateUnknown:v.g(),summaryTextNoOption:v.g(),__superMap:{_$CA$init:"init"}}),I$=tW.extend({sharedByNameStringWithoutAttribution:v.g(),content:v.g(),share:v.g(),summaryText:v.g({readOnly:!0,dependencies:["share","share.loggedInUserType","share.publicPermission","summaryTextWOption"],get:Object.assign((function(){var e=this.content,t=this.share;if(t){if(e.isSharedToMe&&e.isSharedDirectly)return this.summaryTextWOption;var n="";e.isSharedIndirectly&&(e.isSharedToMe?n=t.loggedInUserType===YR.ADMINISTRATOR?"Administrator":"Participant":e.isSharedByMe&&(n="Owner"));var r=e.isFolder?"Folder":"File";return Sr.d("DriveUI.Sharing."+r+".Summary."+n+".Within",{rootName:e.sharedFolderFromHierarchy.name})}}),{__CW__getter:function(e,t,n,r){var i=this.content,a=r.internalGet(this,t[0+n]);if(a){if(i.isSharedToMe&&i.isSharedDirectly)return r.internalGet(this,t[3+n]);var o="";i.isSharedIndirectly&&(i.isSharedToMe?o=a.loggedInUserType===YR.ADMINISTRATOR?"Administrator":"Participant":i.isSharedByMe&&(o="Owner"));var s=i.isFolder?"Folder":"File";return Sr.d("DriveUI.Sharing."+s+".Summary."+o+".Within",{rootName:i.sharedFolderFromHierarchy.name})}}})}),viewClass:ZV.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"copyLinkButton"},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"summaryText",attributes:{}}]}],classes:["options-view","options-summary",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHidden",truevalue:"hidden",attributes:{}}]}},permissionsView:v.g(),summaryText:v.g()}),view:v.g({downstreamBindings:ut.a({summaryText:"(owner).summaryText"})}),shouldShowShareOptions:v.g({dependencies:[],readOnly:!0,get:function(){return!0}}),shouldHideCopyLinkButton:v.g({dependencies:["share","share.isPublic","share.loggedInUserType","content","content.isSharedIndirectly"],readOnly:!0,get:Object.assign((function(){return this.getPath("share.loggedInUserType")!==YR.ADMINISTRATOR&&Boolean(this.getPath("content.isSharedDirectly"))}),{__CW__getter:function(e,t,n,r){return r.internalGetPath(this,t[2+n])!==YR.ADMINISTRATOR&&Boolean(this.getPath("content.isSharedDirectly"))}})}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ManageShareOptionsViewController"}}),C$=Ar.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"cssClassnameForDisplaySize",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"ShowcaseView"},prepareForReuse:yd.a,displaySize:v.g(),cssClassnameForDisplaySize:v.g()}),O$=C$.extend(m$,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldAppearAsShared",truevalue:"appear-as-shared",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"cssClassnameForDisplaySize",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"FolderShowcaseView"},additionalClassNames:ut.a(["showcase","folder"]),cssClassnameForDisplaySize:v.g()}),T$={staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",styles:{display:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"displayStyle",attributes:{},unit:null,property:"display"}}}}},visible:v.g(!0),displayStyle:v.g({readOnly:!0,dependencies:["visible"],get:Object.assign((function(){return!0===this.visible?void 0:"none"}),{__CW__getter:function(e,t,n,r){return!0===r.internalGet(this,t[0+n])?void 0:"none"}})})},A$=n(1355),N$=n(1462),M$=n(1463),D$=n(1461),R$=-1,L$=++N$.f.typeCount,k$={memory:N$.f,typeId:L$,count:0,activeCount:0,arrayCount:0,dumpStats:function(){return"Variable: "+this.count+"; "+this.activeCount+" active"},alloc:function(){var e=-1;return R$>0?(e=R$,0===(R$=this.memory.INT_32[e>>2])&&Xn.b("Next free item is NULL; this is not right.")):(e=N$.b(64,8),this.count++),this.memory.FLOAT_64[e+0>>3]=0,this.memory.FLOAT_64[e+8>>3]=0,this.memory.FLOAT_64[e+16>>3]=0,this.memory.FLOAT_64[e+24>>3]=0,this.memory.FLOAT_64[e+32>>3]=0,this.memory.INT_32[e+40>>2]=0,this.memory.INT_32[e+44>>2]=-1,this.memory.INT_32[e+48>>2]=-1,this.memory.INT_32[e+52>>2]=-1,this.memory.INT_32[e+56>>2]=-1,this.memory.UINT_8[e+60|0]=0,this.activeCount++,e},allocArray:function(e){var t=64*e,n=N$.a(t);return this.memory.INT_32[1+(n>>2)]=e,this._initArray(n),this.arrayCount++,n},free:function(e){e<0||(this.clear(e),this.memory.INT_32[e>>2]=R$,R$=e,this.activeCount--)},freeShallow:function(e){e<0||(this.clearShallow(e),this.memory.INT_32[e>>2]=R$,R$=e,this.activeCount--)},freeArray:function(e){e<0||(this._disposeArray(e),N$.c(e),this.arrayCount--)},clear:function(e){e<0||(this.memory.FLOAT_64[e+0>>3]=0,this.memory.FLOAT_64[e+8>>3]=0,this.memory.FLOAT_64[e+16>>3]=0,this.memory.FLOAT_64[e+24>>3]=0,this.memory.FLOAT_64[e+32>>3]=0,this.memory.INT_32[e+40>>2]=0,this.memory.INT_32[e+44>>2]=-1,M$.Animation.free(this.memory.INT_32[e+48>>2]),this.memory.INT_32[e+48>>2]=-1,M$.Animation.free(this.memory.INT_32[e+52>>2]),this.memory.INT_32[e+52>>2]=-1,this.memory.INT_32[e+56>>2]=-1,this.memory.UINT_8[e+60|0]=0)},clearShallow:function(e){e<0||(this.memory.FLOAT_64[e+0>>3]=0,this.memory.FLOAT_64[e+8>>3]=0,this.memory.FLOAT_64[e+16>>3]=0,this.memory.FLOAT_64[e+24>>3]=0,this.memory.FLOAT_64[e+32>>3]=0,this.memory.INT_32[e+40>>2]=0,this.memory.INT_32[e+44>>2]=-1,this.memory.INT_32[e+48>>2]=-1,this.memory.INT_32[e+52>>2]=-1,this.memory.INT_32[e+56>>2]=-1,this.memory.UINT_8[e+60|0]=0)},_disposeArray:function(e){if(!(e<0))for(var t=this.memory.INT_32[1+(e>>2)],n=0;n<t;n++){var r=e+8+64*n;this.clear(r)}},_initArray:function(e){if(!(e<0))for(var t=this.memory.INT_32[1+(e>>2)],n=0;n<t;n++){var r=e+8+64*n;this.clearShallow(r)}},clone:function(e){var t=this.alloc();return N$.e(e,t,16),this._cloneFieldsFrom(t,e),t},_cloneFieldsFrom:function(e,t){var n=-1,r=-1;r=(n=this.memory.INT_32[e+48>>2])>0?M$.Animation.clone(n):-1,this.memory.INT_32[e+48>>2]=r,r=(n=this.memory.INT_32[e+52>>2])>0?M$.Animation.clone(n):-1,this.memory.INT_32[e+52>>2]=r},dump:function(e,t){if(t||(t=[]),t.indexOf(e)>=0)return"Circular reference";t.push(e);var n={offset:this.memory.FLOAT_64[e+0>>3],finalValue:this.memory.FLOAT_64[e+8>>3],velocity:this.memory.FLOAT_64[e+16>>3],acceleration:this.memory.FLOAT_64[e+24>>3],value:this.memory.FLOAT_64[e+32>>3],dataFlowNode:this.memory.INT_32[e+40>>2],nextScheduledVariable:function(){var n=this.memory.INT_32[e+44>>2];return n>0?k$.dump(n,t):null}.bind(this)(),baseAnimation:function(){var n=this.memory.INT_32[e+48>>2];return n>0?M$.Animation.dump(n,t):null}.bind(this)(),animation:function(){var n=this.memory.INT_32[e+52>>2];return n>0?M$.Animation.dump(n,t):null}.bind(this)(),previousScheduledVariable:function(){var n=this.memory.INT_32[e+56>>2];return n>0?k$.dump(n,t):null}.bind(this)(),flags:this.memory.UINT_8[e+60|0]};return t.pop(),n},dumpArray:function(e,t){for(var n=this.memory.INT_32[1+(e>>2)],r=[],i=0;i<n;i++)r.push(this.dump(e+8+64*i,t));return{array:r,length:n,allocatedSpace:this.memory.INT_32[e>>2]}},arrayFromJSArray:function(e,t){for(var n=e.length,r=this.allocArray(n),i=0;i<n;i++){var a=e[i],o=r+8+64*i;N$.e(a,o,16),t?this.freeShallow(a):this._cloneFieldsFrom(o,a)}return r},putArrayIntoJSArray:function(e,t,n){var r=this.memory.INT_32[1+(e>>2)];t.length=r;for(var i=0;i<r;i++)t[i]=e+8+64*i},itemAtIndex:function(e,t){return e+8+64*t},lengthForArray:function(e){return this.memory.INT_32[1+(e>>2)]},getOffset:function(e){return this.memory.FLOAT_64[e+0>>3]},setOffset:function(e,t){this.memory.FLOAT_64[e+0>>3]=t},getFinalValue:function(e){return this.memory.FLOAT_64[e+8>>3]},setFinalValue:function(e,t){this.memory.FLOAT_64[e+8>>3]=t},getVelocity:function(e){return this.memory.FLOAT_64[e+16>>3]},setVelocity:function(e,t){this.memory.FLOAT_64[e+16>>3]=t},getAcceleration:function(e){return this.memory.FLOAT_64[e+24>>3]},setAcceleration:function(e,t){this.memory.FLOAT_64[e+24>>3]=t},getValue:function(e){return this.memory.FLOAT_64[e+32>>3]},setValue:function(e,t){this.memory.FLOAT_64[e+32>>3]=t},getDataFlowNode:function(e){return this.memory.INT_32[e+40>>2]},setDataFlowNode:function(e,t){this.memory.INT_32[e+40>>2]=t},getNextScheduledVariable:function(e){return this.memory.INT_32[e+44>>2]},setNextScheduledVariable:function(e,t){this.memory.INT_32[e+44>>2],this.memory.INT_32[e+44>>2]=t},takeNextScheduledVariable:function(e){var t=this.memory.INT_32[e+44>>2];return this.memory.INT_32[e+44>>2]=-1,t},getBaseAnimation:function(e){return this.memory.INT_32[e+48>>2]},setBaseAnimation:function(e,t){var n=this.memory.INT_32[e+48>>2];this.memory.INT_32[e+48>>2]=t,n>0&&M$.Animation.free(n)},takeBaseAnimation:function(e){var t=this.memory.INT_32[e+48>>2];return this.memory.INT_32[e+48>>2]=-1,t},getAnimation:function(e){return this.memory.INT_32[e+52>>2]},setAnimation:function(e,t){var n=this.memory.INT_32[e+52>>2];this.memory.INT_32[e+52>>2]=t,n>0&&M$.Animation.free(n)},takeAnimation:function(e){var t=this.memory.INT_32[e+52>>2];return this.memory.INT_32[e+52>>2]=-1,t},getPreviousScheduledVariable:function(e){return this.memory.INT_32[e+56>>2]},setPreviousScheduledVariable:function(e,t){this.memory.INT_32[e+56>>2],this.memory.INT_32[e+56>>2]=t},takePreviousScheduledVariable:function(e){var t=this.memory.INT_32[e+56>>2];return this.memory.INT_32[e+56>>2]=-1,t},getFlags:function(e){return this.memory.UINT_8[e+60|0]},setFlags:function(e,t){this.memory.UINT_8[e+60|0]=t},getWantsFreed:function(e){return 1&this.memory.UINT_8[e+60|0]},setWantsFreed:function(e,t){var n=this.memory.UINT_8[e+60|0];t?n|=1:n&=-2,this.memory.UINT_8[e+60|0]=n},getIsScheduled:function(e){return 2&this.memory.UINT_8[e+60|0]},setIsScheduled:function(e,t){var n=this.memory.UINT_8[e+60|0];t?n|=2:n&=-3,this.memory.UINT_8[e+60|0]=n},getIsInFrame:function(e){return 4&this.memory.UINT_8[e+60|0]},setIsInFrame:function(e,t){var n=this.memory.UINT_8[e+60|0];t?n|=4:n&=-5,this.memory.UINT_8[e+60|0]=n}};N$.g(k$),N$.h(k$.typeId,k$);var x$=-1,F$=Date.now(),P$=!1,j$=-1,U$=-1,B$=[],V$=-1,W$=[],z$=!1,H$=!1;function G$(){if(z$)H$=!0;else{z$=!0,P$=!1;var e,t=-1,n=Date.now(),r=Math.max(n-F$,1);for(W$.length=0,t=j$;t>0;)aK(e=D$.Callback.getMethod(t),n),t=D$.Callback.getNextCallback(e);for(var i=x$,a=-1;i>0;)W$.push(i),k$.setIsScheduled(i,!1),k$.setIsInFrame(i,!0),a=k$.getNextScheduledVariable(i),k$.setPreviousScheduledVariable(i,-1),k$.setNextScheduledVariable(i,-1),i=a;x$=-1;var o=0,s=W$.length;for(o=0;o<s;o++)i=W$[o],k$.getWantsFreed(i)||Q$(i,r);for(ad.a.pause(),o=0;o<s;o++)i=W$[o],k$.setIsInFrame(i,!1),k$.getWantsFreed(i)?eK(i):ad.a.setNodeToDirtyFromParent(k$.getDataFlowNode(i));for(ad.a.resume(),t=U$;t>0;)aK(e=D$.Callback.getMethod(t),n),t=D$.Callback.getNextCallback(e);z$=!1,H$&&(H$=!1,G$())}}function $$(){P$||(F$=Date.now(),P$=!0,requestAnimationFrame((function(){G$()})))}function K$(e){if(k$.getIsScheduled(e)){var t=k$.getPreviousScheduledVariable(e),n=k$.getNextScheduledVariable(e);t>0?k$.setNextScheduledVariable(t,n):x$=n,n>0&&k$.setPreviousScheduledVariable(n,t),k$.setIsScheduled(e,!1)}}function Q$(e,t){var n=k$.getAnimation(e);if(!(n<1)){var r=M$.Animation.getAnimator(n);r<1&&Xn.b("No animator in animation"),M$.Animation.getAnimatorType(n).tick(r,e,t)}}var q$=[],Z$=0;function Y$(e,t){var n=k$.getAnimation(e);if(n!==t){var r,i=Z$>0?q$[--Z$]:[],a=0;if(n>0&&n!==k$.getBaseAnimation(e)){var o=M$.Animation.getAnimator(n);o<1&&Xn.b("No animator in the old animation"),M$.Animation.getAnimatorType(n).stop(o,e);for(var s=M$.Animation.getFirstCallback(n);s>0;)a=D$.Callback.getMethod(s),i.push(a),s=D$.Callback.getNextCallback(s);M$.Animation.setFirstCallback(n,-1)}if(k$.setValue(e,J$(e)),k$.setOffset(e,0),t>0){var c=M$.Animation.getAnimator(t);c<1&&Xn.b("No animator in the new animation"),M$.Animation.getAnimatorType(t).start(c,e)}k$.setAnimation(e,t);for(var l=0;l<i.length;l++)aK(a=i[l],e),iK(a);(r=i).length=0,q$[Z$++]=r}}function X$(e){k$.setVelocity(e,0),k$.setAcceleration(e,0),Y$(e,k$.getBaseAnimation(e))}function J$(e){return k$.getValue(e)+k$.getOffset(e)}function eK(e){if(k$.getIsInFrame(e))k$.setWantsFreed(e,!0);else{K$(e),X$(e);var t=k$.getDataFlowNode(e);ad.a.freeNode(t),k$.free(e)}}var tK=A$.a.extend({isCacheable:!0,calculateValueForNode:function(e,t){return k$.getValue(e)}}).create();function nK(e,t){var n=M$.Animation.alloc();return M$.Animation.setAnimator(n,e,t),n}function rK(e){var t=V$;t>=0?(V$=B$[t],B$[t]=e):(t=B$.length,B$.push(e));var n=D$.Callback.alloc();return D$.Callback.setMethod(n,t),n}function iK(e){B$[e]=V$,V$=e}function aK(e,t){B$[e](t)}var oK={frame:G$,requestFrame:$$,requestFrameForVariable:function(e){k$.getIsScheduled(e)||(x$>0&&k$.setPreviousScheduledVariable(x$,e),k$.setNextScheduledVariable(e,x$),x$=e,k$.setIsScheduled(e,!0),$$())},cancelRequestedFrameForVariable:K$,addPreFrameCallback:function(e){var t=rK(e),n=j$;return D$.Callback.setNextCallback(t,n),n>0&&D$.Callback.setPreviousCallback(n,t),j$=t,t},removePreFrameCallback:function(e){var t=D$.Callback.getPreviousCallback(e),n=D$.Callback.takeNextCallback(e),r=D$.Callback.getMethod(e);n>0&&D$.Callback.setPreviousCallback(n,t),t>0?D$.Callback.setNextCallback(t,n):(j$=n,D$.Callback.free(e)),iK(r)},addPostFrameCallback:function(e){var t=rK(e),n=j$;return D$.Callback.setNextCallback(t,n),n>0&&D$.Callback.setPreviousCallback(n,t),j$=t,t},removePostFrameCallback:function(e){var t=D$.Callback.getPreviousCallback(e),n=D$.Callback.takeNextCallback(e),r=D$.Callback.getMethod(e);n>0&&D$.Callback.setPreviousCallback(n,t),t>0?D$.Callback.setNextCallback(t,n):(U$=n,D$.Callback.free(e)),iK(r)},setAnimationForVariable:Y$,stopAnimatingVariable:X$,getValueForVariable:J$,setValueForVariable:function(e,t){X$(e),k$.setValue(e,t),k$.setFinalValue(e,t),ad.a.setNodeToDirtyFromParent(k$.getDataFlowNode(e))},rebaseCurrentValueForVariable:function(e,t){k$.setOffset(e,t-k$.getValue(e))},getFinalValueForVariable:function(e){return k$.getFinalValue(e)+k$.getOffset(e)},rebaseFinalValueForVariable:function(e,t){k$.setOffset(e,t-k$.getFinalValue(e))},performFrameForVariable:Q$,allocVariable:function(){var e=k$.alloc(),t=ad.a.allocNode(tK,e);return k$.setDataFlowNode(e,t),e},freeVariable:eK,getDataFlowNodeForVariable:function(e){return k$.getDataFlowNode(e)},createAnimationWithAnimator:nK,addCallbackToAnimation:function(e,t){"function"!==typeof t&&Xn.b("addCallbackToAnimation expected a callback");var n=rK(t),r=M$.Animation.takeFirstCallback(e);return D$.Callback.setNextCallback(n,r),r>0&&D$.Callback.setPreviousCallback(r,n),M$.Animation.setFirstCallback(e,n),n},defineAnimator:function(e,t){t.createData||Xn.b("An implementation of createData must be passed to defineAnimator");var n=Object.create(e),r=++N$.f.typeCount;return Object.assign(n,{typeId:r,freeData:yd.a,tick:yd.a,start:yd.a,stop:yd.a,free:function(t){this.freeData(t),e.free(t)},createAnimation:function(){return nK(this.createData.apply(this,arguments),this)}},t),N$.h(r,n),n}},sK=-1,cK=++N$.f.typeCount,lK={memory:N$.f,typeId:cK,count:0,activeCount:0,arrayCount:0,dumpStats:function(){return"SmoothAnimatorData: "+this.count+"; "+this.activeCount+" active"},alloc:function(){var e=-1;return sK>0?(e=sK,0===(sK=this.memory.INT_32[e>>2])&&Xn.b("Next free item is NULL; this is not right.")):(e=N$.b(128,8),this.count++),this.memory.FLOAT_64[e+0>>3]=0,this.memory.FLOAT_64[e+8>>3]=0,this.memory.FLOAT_64[e+16>>3]=0,this.memory.FLOAT_64[e+24>>3]=0,this.memory.FLOAT_64[e+32>>3]=0,this.memory.FLOAT_64[e+40>>3]=0,this.memory.FLOAT_64[e+48>>3]=0,this.memory.FLOAT_64[e+56>>3]=0,this.memory.FLOAT_64[e+64>>3]=0,this.activeCount++,e},allocArray:function(e){var t=128*e,n=N$.a(t);return this.memory.INT_32[1+(n>>2)]=e,this._initArray(n),this.arrayCount++,n},free:function(e){e<0||(this.clear(e),this.memory.INT_32[e>>2]=sK,sK=e,this.activeCount--)},freeShallow:function(e){e<0||(this.clearShallow(e),this.memory.INT_32[e>>2]=sK,sK=e,this.activeCount--)},freeArray:function(e){e<0||(this._disposeArray(e),N$.c(e),this.arrayCount--)},clear:function(e){e<0||(this.memory.FLOAT_64[e+0>>3]=0,this.memory.FLOAT_64[e+8>>3]=0,this.memory.FLOAT_64[e+16>>3]=0,this.memory.FLOAT_64[e+24>>3]=0,this.memory.FLOAT_64[e+32>>3]=0,this.memory.FLOAT_64[e+40>>3]=0,this.memory.FLOAT_64[e+48>>3]=0,this.memory.FLOAT_64[e+56>>3]=0,this.memory.FLOAT_64[e+64>>3]=0)},clearShallow:function(e){e<0||(this.memory.FLOAT_64[e+0>>3]=0,this.memory.FLOAT_64[e+8>>3]=0,this.memory.FLOAT_64[e+16>>3]=0,this.memory.FLOAT_64[e+24>>3]=0,this.memory.FLOAT_64[e+32>>3]=0,this.memory.FLOAT_64[e+40>>3]=0,this.memory.FLOAT_64[e+48>>3]=0,this.memory.FLOAT_64[e+56>>3]=0,this.memory.FLOAT_64[e+64>>3]=0)},_disposeArray:function(e){if(!(e<0))for(var t=this.memory.INT_32[1+(e>>2)],n=0;n<t;n++){var r=e+8+128*n;this.clear(r)}},_initArray:function(e){if(!(e<0))for(var t=this.memory.INT_32[1+(e>>2)],n=0;n<t;n++){var r=e+8+128*n;this.clearShallow(r)}},clone:function(e){var t=this.alloc();return N$.e(e,t,32),this._cloneFieldsFrom(t,e),t},_cloneFieldsFrom:function(e,t){},dump:function(e,t){if(t||(t=[]),t.indexOf(e)>=0)return"Circular reference";t.push(e);var n={duration:this.memory.FLOAT_64[e+0>>3],elapsedTime:this.memory.FLOAT_64[e+8>>3],startValue:this.memory.FLOAT_64[e+16>>3],endValue:this.memory.FLOAT_64[e+24>>3],startVelocity:this.memory.FLOAT_64[e+32>>3],startAcceleration:this.memory.FLOAT_64[e+40>>3],startJerk:this.memory.FLOAT_64[e+48>>3],startSnap:this.memory.FLOAT_64[e+56>>3],startCrackle:this.memory.FLOAT_64[e+64>>3]};return t.pop(),n},dumpArray:function(e,t){for(var n=this.memory.INT_32[1+(e>>2)],r=[],i=0;i<n;i++)r.push(this.dump(e+8+128*i,t));return{array:r,length:n,allocatedSpace:this.memory.INT_32[e>>2]}},arrayFromJSArray:function(e,t){for(var n=e.length,r=this.allocArray(n),i=0;i<n;i++){var a=e[i],o=r+8+128*i;N$.e(a,o,32),t?this.freeShallow(a):this._cloneFieldsFrom(o,a)}return r},putArrayIntoJSArray:function(e,t,n){var r=this.memory.INT_32[1+(e>>2)];t.length=r;for(var i=0;i<r;i++)t[i]=e+8+128*i},itemAtIndex:function(e,t){return e+8+128*t},lengthForArray:function(e){return this.memory.INT_32[1+(e>>2)]},getDuration:function(e){return this.memory.FLOAT_64[e+0>>3]},setDuration:function(e,t){this.memory.FLOAT_64[e+0>>3]=t},getElapsedTime:function(e){return this.memory.FLOAT_64[e+8>>3]},setElapsedTime:function(e,t){this.memory.FLOAT_64[e+8>>3]=t},getStartValue:function(e){return this.memory.FLOAT_64[e+16>>3]},setStartValue:function(e,t){this.memory.FLOAT_64[e+16>>3]=t},getEndValue:function(e){return this.memory.FLOAT_64[e+24>>3]},setEndValue:function(e,t){this.memory.FLOAT_64[e+24>>3]=t},getStartVelocity:function(e){return this.memory.FLOAT_64[e+32>>3]},setStartVelocity:function(e,t){this.memory.FLOAT_64[e+32>>3]=t},getStartAcceleration:function(e){return this.memory.FLOAT_64[e+40>>3]},setStartAcceleration:function(e,t){this.memory.FLOAT_64[e+40>>3]=t},getStartJerk:function(e){return this.memory.FLOAT_64[e+48>>3]},setStartJerk:function(e,t){this.memory.FLOAT_64[e+48>>3]=t},getStartSnap:function(e){return this.memory.FLOAT_64[e+56>>3]},setStartSnap:function(e,t){this.memory.FLOAT_64[e+56>>3]=t},getStartCrackle:function(e){return this.memory.FLOAT_64[e+64>>3]},setStartCrackle:function(e,t){this.memory.FLOAT_64[e+64>>3]=t}};N$.g(lK),N$.h(lK.typeId,lK);var uK,dK=oK.defineAnimator(lK,{createData:function(e,t,n){var r=this.alloc();return this.setDuration(r,t),this.setEndValue(r,e),this.setStartValue(r,void 0===n?Number.MAX_VALUE:n),r},start:function(e,t){this.setElapsedTime(e,0);var n=this.getStartValue(e);n===Number.MAX_VALUE&&(n=k$.getValue(t));var r=this.getEndValue(e),i=r-n,a=this.getDuration(e),o=k$.getVelocity(t),s=k$.getAcceleration(t),c=(10*i-3*a*(s*a+2*o))/Math.pow(a,3),l=(a*(3*s*a+8*o)-15*i)/Math.pow(a,4),u=(6*i-a*(s*a+3*o))/Math.pow(a,5);this.setStartValue(e,n),this.setStartVelocity(e,o),this.setStartAcceleration(e,s),this.setStartJerk(e,c),this.setStartSnap(e,l),this.setStartCrackle(e,u),k$.setFinalValue(t,r),oK.requestFrameForVariable(t)},tick:function(e,t,n){if((n+=this.getElapsedTime(e))<this.getDuration(e)){var r,i=this.getStartValue(e),a=this.getStartVelocity(e),o=this.getStartAcceleration(e),s=this.getStartJerk(e),c=this.getStartSnap(e),l=this.getStartCrackle(e);r=i+a*n+o*Math.pow(n,2)+s*Math.pow(n,3)+c*Math.pow(n,4)+l*Math.pow(n,5);var u=a+2*o*n+3*s*Math.pow(n,2)+4*c*Math.pow(n,3)+5*l*Math.pow(n,4),d=2*o+6*s*n+12*c*Math.pow(n,2)+20*l*Math.pow(n,3);k$.setValue(t,r),k$.setVelocity(t,u),k$.setAcceleration(t,d),oK.requestFrameForVariable(t)}else k$.setValue(t,this.getEndValue(e)),k$.setVelocity(t,0),k$.setAcceleration(t,0),oK.stopAnimatingVariable(t);this.setElapsedTime(e,n)},stop:function(e,t){}}),hK={mixinDependencies:[v.a],isAnimating:v.g({readOnly:!0,dependencies:["animationsInProgress"],get:Object.assign((function(){return this.animationsInProgress>0}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])>0}})}),animationsInProgress:v.g(0),_animatedVariables:Me.b(Array),dispose:function(){for(var e=this._animatedVariables,t=0,n=e.length;t<n;t++)oK.freeVariable(e[t]);this.__s._$D1$dispose.apply(this,arguments)},animate:function(e,t,n,r){return this.animateWithAnimator(e,dK,t,n,r)},animateWithAnimator:function(e,t,n){var r=QT.a(arguments,0,2),i=n,a=null,o=r[r.length-1],s=typeof o;"function"!==s&&"undefined"!==s&&null!==o||(a=r.pop());var c=this.getAdaptedCurrentValueForTarget(e,i);r.push(c),i=this.processTargetValue(e,i),r[0]=i;var l=t.createAnimation.apply(t,r);return this.animateWithAnimation(e,l,a),l},animateWithAnimation:function(e,t,n){var r=ad.a.getContextForNode(this.downstreamNodes[e]);return n&&oK.addCallbackToAnimation(t,n),this.set("animationsInProgress",this.get("animationsInProgress")+1),oK.addCallbackToAnimation(t,function(){this.set("animationsInProgress",this.get("animationsInProgress")-1)}.bind(this)),oK.setAnimationForVariable(r,t),t},getAdaptedCurrentValueForTarget:function(e,t){var n=this._properties[e].adaptStartingLocationForTarget,r=ad.a.getContextForNode(this.downstreamNodes[e]),i=oK.getValueForVariable(r);return n&&(i=n(this,e,i,t)),i},processTargetValue:function(e,t){var n=t,r=this._properties[e].set;return r&&(n=r(this,e,n)),n},resetAnimation:function(e){var t=this._properties[e],n=t.get,r=t.set,i=ad.a.getContextForNode(this.downstreamNodes[e]);if(n||r){var a=oK.getValueForVariable(i);n&&(a=n.call(this,this,e,a)),r&&(a=r.call(this,this,e,a)),oK.setValueForVariable(i,a)}else oK.stopAnimatingVariable(i)},getFinalValue:function(e){var t=ad.a.getContextForNode(this.downstreamNodes[e]),n=oK.getFinalValueForVariable(t),r=this._properties[e].get;return r&&(n=r.call(this,this,e,n)),n},rebaseCurrentValue:function(e,t){var n=ad.a.getContextForNode(this.downstreamNodes[e]);oK.rebaseCurrentValueForVariable(n,t)},rebaseFinalValue:function(e,t){var n=ad.a.getContextForNode(this.downstreamNodes[e]);oK.rebaseFinalValueForVariable(n,t)},__superMap:{_$D1$dispose:"dispose"}};uK=v.b.extend({init:function(e,t){this.defaultValue=e,this.priority=t,this.get||(this.usesBuiltinGet=!0),this.set||(this.usesBuiltinSet=!0),this.__s._$2Hi$init.call(this,e)},initForObject:function(e,t){var n=oK.allocVariable(),r=oK.getDataFlowNodeForVariable(n);oK.setValueForVariable(n,this.defaultValue),e.downstreamNodes[t]=r,e._animatedVariables.push(n)},setInitialValueForObject:function(){},wasRegistered:function(e){this.finalGetForObject=this.usesBuiltinGet?this.getForObject:this.getForObjectWithGetter,this.finalSetForObject=this.usesBuiltinSet?this.setForObject:this.setForObjectWithSetter,this.setUpNativeAccessors(e)},getForObjectWithGetter:function(e,t){var n=ad.a.getContextForNode(e.downstreamNodes[t]);return this.get(e,t,oK.getValueForVariable(n))},setForObjectWithSetter:function(e,t,n){var r=ad.a.getContextForNode(e.downstreamNodes[t]);oK.set(r,this.set(e,t,n))},getForObject:function(e,t){var n=e.downstreamNodes;if(n){var r=ad.a.getContextForNode(n[t]);return oK.getValueForVariable(r)}},setForObject:function(e,t,n){var r=e.downstreamNodes;if(r){var i=ad.a.getContextForNode(r[t]);oK.setValueForVariable(i,n)}},setUpNativeAccessors:function(e){var t=this,n=this.key;Object.defineProperty(e,n,{get:function(){return t.getForObject(this,n)},set:function(e){return t.setForObject(this,n,e)},configurable:!0})},requiresSupport:hK,__superMap:{_$2Hi$init:"init"}});var fK=function(e){return uK.create(e)},pK={mixinDependencies:[hK],scale:fK(1),opacity:fK(1),_updateDOMForAnimation:v.h("scale","opacity",(function(e,t){this.get("style").scale(e).set("opacity",t)}))},gK=S.b("BRApp.IconDisplaySizes",(function(e){e("EXTRA_LARGE"),e("LARGE"),e("EXTRA_MEDIUM"),e("MEDIUM"),e("REGULAR"),e("SMALL")})),mK=Ar.a.extend({mixinDependencies:[pK,T$],staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",classes:["file-icon",{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"iconClassNameOrDefault",attributes:{}}],styles:{display:{type:"STYLEOUTLET",bindingtype:"IFBINDING",name:"hasIcon",truevalue:"",falsevalue:"none",attributes:{},unit:null,property:"display"}}},{type:"ELEMENT",tagname:"div",children:[{type:"TEXT",data:"\n                            "},{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"extText",attributes:{}},{type:"TEXT",data:"\n                        "}],classes:["file-extension",{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"extSize",attributes:{}}],styles:{display:{type:"STYLEOUTLET",bindingtype:"IFBINDING",name:"hasIcon",truevalue:"none",attributes:{},unit:null,property:"display"}}}],classes:["file-icon-container",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasSharedFolderAdornment",truevalue:"has-shared-folder-adornment",attributes:{}}]}],classes:["x-showcase","x-file"]}},__QUALIFIED_CLASS_NAME__:"GenericFileShowcaseView"},iconService:y.c(),content:v.g(),fileExt:v.g({readOnly:!0,dependencies:["content"],get:Object.assign((function(){var e=this.content;if(e){var t=e.extension;return"string"===typeof t?t:void 0}}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);if(i){var a=i.extension;return"string"===typeof a?a:void 0}}})}),hasSharedFolderAdornment:v.g(_.c("content.isSharedIndirectly")),hasIcon:v.g(!1),iconClassName:v.g("blank"),iconClassNameOrDefault:v.g({readOnly:!0,dependencies:["iconClassName"],get:Object.assign((function(){return this.iconClassName||"blank"}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])||"blank"}})}),extText:v.g({readOnly:!0,dependencies:["hasIcon","fileExt"],get:Object.assign((function(){if(!this.hasIcon){var e=this.fileExt;if(!("string"!==typeof e||e.length>7))return e}}),{__CW__getter:function(e,t,n,r){if(!r.internalGet(this,t[0+n])){var i=r.internalGet(this,t[1+n]);if(!("string"!==typeof i||i.length>7))return i}}})}),extSize:v.g({readOnly:!0,dependencies:["extText"],get:Object.assign((function(){var e=this.extText;if("string"===typeof e){var t=e.length;return t<4?"size-default":4===t||5===t?"size-"+t:t<8?"size-long":void 0}}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);if("string"===typeof i){var a=i.length;return a<4?"size-default":4===a||5===a?"size-"+a:a<8?"size-long":void 0}}})})}),vK="../0e0662fea1d8d76d430d1d7a8197323d.png",yK="../a3210b18947cb516b141c01d472fdd1d.png",_K="../c03cf1e74e28e505cc2a7ae78e2befc2.png",bK="../9d67cfb8d031a4f257a991904bd319a6.png",wK="../d1960502903b11c99546f22547446618.png",SK="../7e06b4280a29218dce42101863a73990.png",EK="../edaa93aaacde023da5e8e893b27d84e3.png",IK="../7afc9786d2d0addaa0a7035bed7fe6ac.png",CK="../faa27d26d2feff15124f54764a81d107.png",OK="../185c891d0f3ad8cb9c89e8f012eed75e.png";function TK(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return null===e?"null":AK(e)?""+function(e){return Array.isArray(e)?"array ("+e.length+" items)":"object ("+e.constructor.name+", "+Object.keys(e).length+" keys)"}(e)+function(e,t){return 0===t?"":Array.isArray(e)?" ["+e.map((function(e){return TK(e,t-1)})).join(", ")+"]":" {"+Object.entries(e).map((function(e){return e[0]+": "+TK(e[1],t-1)})).join(", ")+"}"}(e,t):typeof e}var AK=function(e){return"object"===typeof e&&null!==e},NK=S.b("BRApp.IconServiceIconFamilies",(function(e){e("DEFAULT"),e("APP_LIBRARY"),e("IWORK")})),MK=oe.a.extend(v.a,{init:function(e,t,n){this.fileSystem=e,this.loggingService=t,this.__s._$oG$init.call(this,n)},user:null,fileSystem:v.g(),_fileSystemDidFetchFolderContentObserver:v.h({inputs:["fileSystem.didFetchFolderContent"],callback:function(e){if(e){var t=e.context,n=t.parentFolder,r=t.content,i=t.source;if(n.isDriveRoot){for(var a=[],o=!1,s=0;s<r.length;s++){var c,l=null==(c=r[s])||null==c.getDataHash?void 0:c.getDataHash();l?a.push(l):o=!0}o&&this.loggingService.recordStat("FolderContentUndefined",{querySource:i,redactedContent:TK(r)}),DK(a)}}}}),__superMap:{_$oG$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"IconService"}}),DK=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n&&qu(n)){var r=n.icons;if(r){var i=Zu(n);1===r.length?RK(i,r[0].url,r[0].type):RK(i,r[1].url,r[1].type)}}}},RK=function(e,t,n){var r=e.replace(/ /g,"").toLowerCase(),i=zK[r];i||(zK[r]=[r],i=[r]);for(var a=i.length,o=0;o<a;o++){var s=i[o];HK[s]=t,$K[s]=n,HK[s+="2x"]=t,$K[s]=n}},LK=function(e,t){var n=$r.a.sharedInstance.devicePixelRatio,r=t===NK.IWORK?xK(e):kK(e),i=UK(r["1x"]),a=UK(r["2x"]);return n>1&&a||i},kK=function(e){var t=e.replace(/ /g,"").toLowerCase();return{"1x":HK[t]?HK[t]:HK.default,"2x":HK[t+"2x"]?HK[t+"2x"]:HK.default2x}},xK=function(e){var t=e.replace(/ /g,"").toLowerCase(),n=WK[t]||"filedefault";return{"1x":GK[n],"2x":GK[n+"2x"]}},FK=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=$r.a.sharedInstance.devicePixelRatio,n=e.replace(/ /g,"").toLowerCase(),r=$K[n]?$K[n]:"IOS",i=$K[n+"2x"]?$K[n+"2x"]:"IOS";return t>1?i:r},PK=function(e,t){if(t){if(t===gK.EXTRA_LARGE)return 94;if(t===gK.EXTRA_MEDIUM)return"IOS"===e?38:"OSX"===e?40:0;if(t===gK.MEDIUM)return"IOS"===e?20:"OSX"===e?22:0}return"IOS"===e?60:"OSX"===e?64:0},jK=function(e){return e.replace(/ /g,"").toLowerCase()in WK},UK=function(e){return function(e){return!!e&&"drivews"===oc(e)}(e)&&(e+="&validateToken="+VK(),e+="&dsid"+BK()),e},BK=function(){return yl.defaultInstance.user.dsid},VK=function(){try{return Gb.getValidateToken()}catch(t){var e=Gb.getListOfAvailableCookiesAsConcatenatedString();throw new Error("Error in DriveUI~iconResource requesting validation cookie "+{cause:t,cookies:e})}},WK={key:"keynote-file",keynote:"keynote-file","key-tef":"keynote-file","keynote-tef":"keynote-file",kth:"keynote-file",pages:"pages-file","pages-tef":"pages-file",template:"pages-file",numbers:"numbers-file","numbers-tef":"numbers-file",nmbtemplate:"numbers-file"},zK={"script editor":["applescript","scpt"],automator:["action","workflow","caction","definition"],keynote:["key","keynote","key-tef","keynote-tef","kth"],numbers:["numbers","numbers-tef","nmbtemplate"],pages:["pages","pages-tef","template"]},HK={key:vK,"key-tef":vK,key2x:yK,"key-tef2x":yK,keynote:vK,"keynote-tef":vK,kth:vK,keynote2x:yK,"keynote-tef2x":yK,kth2x:yK,numbers:_K,"numbers-tef":_K,nmbtemplate:_K,numbers2x:bK,"numbers-tef2x":bK,nmbtemplate2x:bK,pages:wK,"pages-tef":wK,template:wK,pages2x:SK,"pages-tef2x":SK,template2x:SK,imovielibrary:EK,imovielibrary2x:IK,imoviemobile:EK,imoviemobile2x:IK,band:"../1c1dc75b87049b5ee37fc7f847d78e0c.png",band2x:"../2f65d99d1a7651f5c825fd9dec33b1b0.png",ibooks:"../7571417b500410c305298816c153dfa6.png",ibooks2x:"../8b54bf3671f13a6e40bee933a56e7237.png",default:"../55087dbcb99786fd9f1a9dd0591062ab.png",default2x:"../b65163040c5b59bb34dca695a4f2205b.png",automator:CK,action:CK,workflow:CK,caction:CK,definition:CK,automator2x:OK,action2x:OK,workflow2x:OK,caction2x:OK,definition2x:OK,"automator-file":"../bd94ad4e9a9f5bad7d0bfa3121e08fb3.png","automator-file2x":"../194fce004ce9e4233ac1cc30f1c917d7.png"},GK={filedefault:"../2645f174f4a98b3908377868ef29d831.png",filedefault2x:"../baad5ea5ebc97bfb887e87da5c2cd449.png","keynote-file":eO,"keynote-file2x":tO,"numbers-file":nO,"numbers-file2x":rO,"pages-file":iO,"pages-file2x":aO},$K={key:"IOS","key-tef":"IOS",key2x:"IOS","key-tef2x":"IOS","keynote-tef":"IOS",keynote2x:"IOS","keynote-tef2x":"IOS",kth:"IOS"," kth2x":"IOS",numbers:"IOS","numbers-tef":"IOS",nmbtemplate:"IOS",numbers2x:"IOS","numbers-tef2x":"IOS",nmbtemplate2x:"IOS",pages:"IOS","pages-tef":"IOS",pages2x:"IOS","pages-tef2x":"IOS",template:"IOS",template2x:"IOS",imovielibrary:"IOS",imovielibrary2x:"IOS",imoviemobile:"IOS",imoviemobile2x:"IOS",band:"IOS",band2x:"IOS",ibooks:"IOS",ibooks2x:"IOS",default:"IOS",default2x:"IOS",automator:"IOS",workflow:"IOS",action:"IOS",caction:"IOS",definition:"IOS"},KK={png:"image",jpeg:"image",jpg:"image",gif:"image",bmp:"image",tif:"image",tiff:"image",aac:"audio",wav:"audio",m4a:"audio",m4p:"audio",aiff:"audio",midi:"audio",wave:"audio",mp3:"audio",mp4:"video",m4v:"video",mov:"video",vcf:"vcard",vcard:"vcard",eml:"email",crt:"cert",csr:"cert",ical:"cal",ics:"cal",ifb:"cal",vpn:"vpn",doc:"msword",docx:"msword",xlam:"msexcel",xls:"msexcel",xlsx:"msexcel",ppt:"msppoint",pptx:"msppoint",rtf:"rtf",txt:"txt",csv:"csv",mobileprovision:"prov-profile"},QK=C$.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",name:"genericShowcaseView"},{type:"VIEWOUTLET",tagname:"view",name:"appIconShowcaseView"},{type:"VIEWOUTLET",tagname:"view",name:"staticSharedFolderAdornmentView"},{type:"VIEWOUTLET",tagname:"view",name:"thumbnailShowcaseView"}],classes:["x-showcase","x-file"]}},__QUALIFIED_CLASS_NAME__:"FileShowcaseView"},showcaseViewPool:y.c(),iconService:y.c(),thumbnailCanvasFactory:y.c(),thumbnailStatsReporterService:y.c(),content:v.g({didChange:function(e){e&&this.thumbnailStatsReporterService.registerFile(e)}}),fileType:v.g({readOnly:!0,dependencies:["content"],get:Object.assign((function(){var e=this.content;if(e){var t=e.extension;return"string"===typeof t&&t.length>0?t:void 0}}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);if(i){var a=i.extension;return"string"===typeof a&&a.length>0?a:void 0}}})}),showThumbnailsWhenAvailable:!0,init:function(e,t,n,r,i){this.iconService=e,this.showcaseViewPool=t,this.thumbnailCanvasFactory=n,this.thumbnailStatsReporterService=r,this.__s._$u5$init.call(this,i)},forceCenterAlignment:y.c(!1),suspendThumbnailLoading:function(){if(!this._thumbnailLoadingIsPaused){this._thumbnailLoadingIsPaused=!0;var e=this.thumbnailShowcaseView;e&&e.suspendThumbnailLoading()}},resumeThumbnailLoading:function(){if(this._thumbnailLoadingIsPaused){this._thumbnailLoadingIsPaused=!1;var e=this.thumbnailShowcaseView;e&&e.resumeThumbnailLoading()}},prepareForReuse:function(){this.__s._$19b$prepareForReuse.call(this),this._thumbnailLoadingIsPaused||(this._thumbnailLoadingIsPaused=!0);var e=this.thumbnailShowcaseView;e&&e.prepareForReuse(),this.content=null},_thumbnailLoadingIsPaused:v.g(!1),iconClassName:v.g({readOnly:!0,dependencies:["fileType"],get:Object.assign((function(){var e=this.fileType;return!(!e||"string"!==typeof e)&&KK[e]}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return!(!i||"string"!==typeof i)&&KK[i]}})}),_fileDetails:v.g({readOnly:!0,dependencies:["fileType","content"],get:Object.assign((function(){if(this.content){var e=this.fileType,t="string"===typeof e?e.toLowerCase():"UNK",n=jK(t);return{fileType:t,canvasClassName:n?"pages"===t?"iwork-icon-pages":"iwork-icon":"app-icon",iconPrerendered:n,isIWorkFile:n,displaySize:this.displaySize}}}),{__CW__getter:function(e,t,n,r){if(r.internalGet(this,t[1+n])){var i=r.internalGet(this,t[0+n]),a="string"===typeof i?i.toLowerCase():"UNK",o=jK(a);return{fileType:a,canvasClassName:o?"pages"===a?"iwork-icon-pages":"iwork-icon":"app-icon",iconPrerendered:o,isIWorkFile:o,displaySize:this.displaySize}}}})}),iconURL:v.g({readOnly:!0,dependencies:["_fileDetails"],get:Object.assign((function(){var e=this._fileDetails;if(e)return this.showcaseViewPool.getIconURL(e)}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);if(i)return this.showcaseViewPool.getIconURL(i)}})}),hasIcon:v.g({readOnly:!0,dependencies:["iconClassName","iconURL","fileType"],get:Object.assign((function(){var e=this.fileType;if(e)return"string"===typeof this.iconClassName||jK(e)&&"string"===typeof this.iconURL&&this.iconURL.length>0}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[2+n]);if(i)return"string"===typeof r.internalGet(this,t[0+n])||jK(i)&&"string"===typeof r.internalGet(this,t[1+n])&&r.internalGet(this,t[1+n]).length>0}})}),genericShowcaseView:v.g({readOnly:!0,strong:!0,get:function(){return mK.create({iconService:this.iconService,content:this.bindingFor("content"),iconClassName:this.bindingFor("iconClassName"),hasIcon:this.bindingFor("hasIcon")})}}),_appIconShowcaseView:void 0,appIconShowcaseView:v.g({readOnly:!0,strong:!0,dependencies:["content","iconURL","_fileDetails"],get:Object.assign((function(){var e=this._appIconShowcaseView;if(e&&(this.showcaseViewPool.releaseShowcaseView(e),this._appIconShowcaseView=void 0),this.content){var t=this.iconURL;if("string"===typeof t){var n=this.showcaseViewPool,r=this._fileDetails,i=n.createShowcaseViewReuseIdentifier(r),a=n.getShowcaseViewFromCacheWithReuseIdentifier(i);return a||(a=n.createAppIconShowcaseViewFromFileDetails(r,t,i)),this._appIconShowcaseView=a}}}),{__CW__getter:function(e,t,n,r){var i=this._appIconShowcaseView;if(i&&(this.showcaseViewPool.releaseShowcaseView(i),this._appIconShowcaseView=void 0),r.internalGet(this,t[0+n])){var a=r.internalGet(this,t[1+n]);if("string"===typeof a){var o=this.showcaseViewPool,s=r.internalGet(this,t[2+n]),c=o.createShowcaseViewReuseIdentifier(s),l=o.getShowcaseViewFromCacheWithReuseIdentifier(c);return l||(l=o.createAppIconShowcaseViewFromFileDetails(s,a,c)),this._appIconShowcaseView=l}}}})}),staticSharedFolderAdornmentView:v.g({readOnly:!0,strong:!0,dependencies:["content.isSharedIndirectly"],get:Object.assign((function(){if(this.displaySize===gK.REGULAR&&this.content.isSharedIndirectly)return Ar.a.extend({mixinDependencies:[pK,T$],additionalClassNames:["shared-folder-adornment"]}).create()}),{__CW__getter:function(e,t,n,r){if(this.displaySize===gK.REGULAR&&r.internalGetPath(this,t[0+n]))return Ar.a.extend({mixinDependencies:[pK,T$],additionalClassNames:["shared-folder-adornment"]}).create()}})}),_thumbnailShowcaseView:void 0,thumbnailShowcaseView:v.g({readOnly:!0,strong:!0,dependencies:["content","content.etag","_thumbnailLoadingIsPaused","displaySize"],get:Object.assign((function(){var e=this._thumbnailShowcaseView;e&&(e.suspendThumbnailLoading(),this.showcaseViewPool.releaseShowcaseView(e),this._thumbnailShowcaseView=void 0);var t=this.content,n=this.displaySize;if(!(!t|!n)&&t.docwsid&&this.showThumbnailsWhenAvailable){var r=this.showcaseViewPool,i=r.createThumbnailShowcaseViewUniqueIdentifier(t,n),a=r.getShowcaseViewFromCacheWithReuseIdentifier(i);if(!a&&!this._thumbnailLoadingIsPaused){var o=this.thumbnailCanvasFactory.createThumbnailShowcaseViewForFile(t,n,i,this.forceCenterAlignment);if(!o.success)return void("PAUSED"===o.reason?this._thumbnailLoadingIsPaused=!0:d.b.error("Unexpected failure getting ThumbnailShowcaseView!"));a=o.thumbnailShowcaseView}return a&&!this._thumbnailLoadingIsPaused&&(a.isReadyForDisplay()?t.etag!==t.thumbnailMetadata.etag&&a.update():a.startLoading()),this._thumbnailShowcaseView=a}}),{__CW__getter:function(e,t,n,r){var i=this._thumbnailShowcaseView;i&&(i.suspendThumbnailLoading(),this.showcaseViewPool.releaseShowcaseView(i),this._thumbnailShowcaseView=void 0);var a=r.internalGet(this,t[0+n]),o=r.internalGet(this,t[3+n]);if(!(!a|!o)&&a.docwsid&&this.showThumbnailsWhenAvailable){var s=this.showcaseViewPool,c=s.createThumbnailShowcaseViewUniqueIdentifier(a,o),l=s.getShowcaseViewFromCacheWithReuseIdentifier(c);if(!l&&!r.internalGet(this,t[2+n])){var u=this.thumbnailCanvasFactory.createThumbnailShowcaseViewForFile(a,o,c,this.forceCenterAlignment);if(!u.success)return void("PAUSED"===u.reason?this._thumbnailLoadingIsPaused=!0:d.b.error("Unexpected failure getting ThumbnailShowcaseView!"));l=u.thumbnailShowcaseView}return l&&!r.internalGet(this,t[2+n])&&(l.isReadyForDisplay()?a.etag!==a.thumbnailMetadata.etag&&l.update():l.startLoading()),this._thumbnailShowcaseView=l}}})}),_opacityUpdater:v.h({inputs:["genericShowcaseView","appIconShowcaseView","thumbnailShowcaseView","appIconShowcaseView.updated","thumbnailShowcaseView.updated","staticSharedFolderAdornmentView"],callback:function(e,t,n,r,i,a){var o=[];n&&n.isReadyForDisplay()?o.push(n):t?(o.push(e,t),a&&o.push(a)):(o.push(e),a&&o.push(a));var s=i instanceof Object;for(var c of[e,t,a,n])if(c instanceof Object){var l=o.includes(c),u=l?1:0;s?(l&&(c.visible=l),c.animate("opacity",u,500)):(c.visible=l,c.opacity=u)}}}),__superMap:{_$u5$init:"init",_$19b$prepareForReuse:"prepareForReuse"}}),qK=IW.extend(m$,{share:v.g(),delegate:null,iconService:null,showcaseViewPool:null,thumbnailCanvasFactory:null,thumbnailStatsReporterService:null,customHeaderView:v.g({readOnly:!0,get:function(){var e=this.showcaseView;return E$.create(this.content,e)}}),customOptionsViewController:y.c({readOnly:!0,get:function(){var e=this.content,t=this.sharedByNameStringWithoutAttribution;return e.isSharedDirectly&&e.isSharedByMe?tW.create():I$.create({content:e,sharedByNameStringWithoutAttribution:t})}}),itemIsNoLongerSharedWithMe:function(e,t){this.__s._$gI$itemIsNoLongerSharedWithMe.apply(this,arguments),yt.a(this.delegate)&&"function"===typeof this.delegate.navigateToSharedFolderParent&&this.delegate.navigateToSharedFolderParent(this.content)},showSharedFolderButton:v.g({readOnly:!0,get:function(){return this.content.isSharedIndirectly?JD.a.create({title:Sr.d("DriveUI.Sharing.Folder.ShowSharedFolder"),action:"showSharedFolderAction"}):null}}),showSharedFolderAction:function(){var e=this.delegate;yt.a(e)&&"function"===typeof e.didRequestMoveToSharedFolderRoot&&e.didRequestMoveToSharedFolderRoot(this.content),this.complete()},manageShareViewController:v.g({strong:!0,get:function(){var e=this.customHeaderView,t=this.customOptionsViewController,n=this.showSharedFolderButton,r=this.cacheingProvideRootRecordFunction,i=this.content;return YK.create(i,{customHeaderView:e,customOptionsViewController:t,showSharedFolderButton:n,cacheingProvideRootRecordFunction:r})}}),showcaseView:v.g({readOnly:!0,get:function(){var e=this.content,t=this.iconService,n=this.showcaseViewPool,r=this.thumbnailCanvasFactory,i=this.thumbnailStatsReporterService;return e.isFolder?O$.create({content:e,additionalClassNames:ut.a(["medium"])}):QK.create(t,n,r,i,{displaySize:gK.REGULAR,additionalClassNames:ut.a(["medium"]),content:e})}}),__superMap:{_$gI$itemIsNoLongerSharedWithMe:"itemIsNoLongerSharedWithMe"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ManageShareWorkflowViewController"}}),ZK=QV.extend({init:function(e,t){this.content=e,this.__s._$1cz$init.call(this,t)},content:null,allowRemoveMeMenuOption:y.c({get:function(){return this.content.isSharedDirectly}}),loggedInUserType:v.g({get:function(){return this.content.isSharedDirectly&&this.__s._$1qX$get.apply(this,arguments)},__superMap:{_$1qX$get:"get"}}),__superMap:{_$1cz$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CustomManageShareListViewController"}}),YK=iW.extend({customHeaderView:v.g(null),showSharedFolderButton:v.g(null),customOptionsViewController:null,init:function(e,t){return this.content=e,this.__s._$20r$init.call(this,t)},content:null,viewClass:nW.extend({additionalClassNames:ut.a(["drive-ui"]),showSharedFolderButton:v.g(),actionButton:v.g({get:function(){var e=this.showSharedFolderButton;return yt.a(e)?e:this.__s._$2AN$get.apply(this,arguments)},__superMap:{_$2AN$get:"get"}})}),createView:function(){return this.viewClass.create({showSharedFolderButton:this.showSharedFolderButton,headerView:this.customHeaderView})},optionsViewController:Er.a.define({viewOutlet:"optionsView",get:function(){return this.customOptionsViewController}}),contentViewController:Er.b({get:function(){return ZK.create(this.content)}}),__superMap:{_$20r$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CustomManageShareViewController"}});function XK(e){return e.isFolder}function JK(e,t){var n=t.session,r=t.iconService,i=t.loggingService,a=t.showcaseViewPool,o=t.thumbnailCanvasFactory,s=t.thumbnailStatsReporterService,c=t.itemSharingServiceFactory,l=t.navigateToItem,u=e.isSharedIndirectly?e.sharedFolderFromHierarchy:e;c(u,{delegate:{},subItem:u!==e?e:null,manageShareWorkflowClass:qK,manageShareWorkflowOptions:{content:e,iconService:r,showcaseViewPool:a,thumbnailCanvasFactory:o,thumbnailStatsReporterService:s,delegate:{navigateToSharedFolderParent:function(e){var t=function(e){var t=null;if(!e)return t;var n=e.sharedFolderFromHierarchy;if(n&&n.parent)t=n.parent;else if(n&&n.path){var r=n.path.length>1?n.path.length-2:0;t=n.path[r]}return t}(e);t&&n.changeDirectory(t)},didRequestMoveToSharedFolderRoot:function(e){var t=e.sharedFolderFromHierarchy,n=null==t?void 0:t.parent;n&&l(n,t)}}}}).launchSharingUI().then((function(t){var r,a,o,s=t.ok,c=t.data;s&&null===c.share&&u.isSharedToMe&&(null==(o=u.parent)||o.content.removeItem(e),u.parentId=null),"com.apple.folder"===(null==(r=c.share)||null==(a=r.fields["cloudkit.type"])?void 0:a.value)&&i.recordStat(s?"InitiatedFolderSharing":"FolderSharingInitiationFailed"),s||function(e,t,n){XK(e)&&t&&SG(e,n);var r="DriveUI.FilesGrid.Error.ShareFile."+(t?"UnsharedToMe":"Generic");Jf.a.show({iconNames:"iclouddrive",message:Sr.d(r+".Message",e.isFile?{fileName:e.name}:{folderName:e.name}),description:Sr.d(r+".Description"),primaryButton:{title:Sr.d("DriveUI.Common.Button.OK"),action:"handlePrimaryButton",isPrimary:!0},handlePrimaryButton:function(){t&&n.fileSystem.destroyItem(e)}})}(e,c.isSharedToMeUnshared,n)}))}var eQ,tQ=n(1469),nQ=function(){function e(){var e=this;this.connection=new tQ.a("com.icloud.navbar"),this.stateInternal=Object(bd.f)(void 0),this.state=Object(bd.b)((function(){return e.stateInternal.value})),this.showWhatsNewButtonInternal=Object(bd.f)(!1),this.showWhatsNewButton=Object(bd.b)((function(){return e.showWhatsNewButtonInternal.value})),this.showAppMenu=function(t){e.connection.remoteObjectProxy.showAppMenu(t)},this.showCreationMenu=function(t){e.connection.remoteObjectProxy.showCreationMenu(t)},this.showAccountMenu=function(t){e.connection.remoteObjectProxy.showAccountMenu(t)},this.showHelpMenu=function(t){e.connection.remoteObjectProxy.showHelpMenu(t)},this.showWhatsNew=function(t,n,r){return e.connection.remoteObjectProxy.showWhatsNew(t,n,r).then((function(t){return e.showWhatsNewButtonInternal.value=t.shouldShowButton,t}))},this.getWhatsNewButtonVisibility=function(t,n){return e.connection.remoteObjectProxy.getWhatsNewButtonVisibility(t,n).then((function(t){return e.showWhatsNewButtonInternal.value=t,t}))},this.showOverflowMenu=function(t,n,r){e.connection.remoteObjectProxy.showOverflowMenu(t,n,r)},this.showStorageUsageWarning=function(t){e.connection.remoteObjectProxy.showStorageUsageWarning(t)},this.showADPAnnouncement=function(t){e.connection.remoteObjectProxy.showADPAnnouncement(t)},this.showBeneficiaryAnnouncement=function(t){e.connection.remoteObjectProxy.showBeneficiaryAnnouncement(t)},this.navigateToHomePage=function(){e.connection.remoteObjectProxy.navigateToHomePage()},this.connection.exportedObject={setState:function(t){return e.stateInternal.value=t,Promise.resolve()}},this.connection.start()}return e.prototype.close=function(){this.connection.close()},e}();function rQ(){var e;return null!=(e=eQ)?e:eQ=new nQ}Object(wu.a)(Object(wu.b)(),{"CloudOS.Authentication.SignInButton.Title":"Sign In","Name.Display.FirstAndFamilyNames":"%{firstName} %{familyName}","Name.Display.NameIsCJK.FirstAndFamilyNames":"%{familyName}%{firstName}","CloudOSToolbar.ICloudLogo.Label":"Navigate to icloud.com home page","CloudOSToolbar.ActionButtons.Feedback.Label":"Submit feedback","CloudOSToolbar.ActionButtons.AppMenu.Label":"Quick Access","CloudOSToolbar.ActionButtons.CreationMenu.Label":"Create","CloudOSToolbar.ActionButtons.AccountMenu.Label":"Account","CloudOSToolbar.ActionButtons.HelpMenu.Label":"Help","CloudOSToolbar.ActionButtons.ProfilePhoto.AltText":"Your profile photo","CloudOSToolbar.ActionButtons.AlertButton.Label.One":"1 Alert","CloudOSToolbar.ActionButtons.ADPButton.Label":"Advanced Data Protection","CloudOSToolbar.ActionButtons.BeneficiaryButton.Label":"Legacy Contact","CloudOSToolbar.ActionButtons.WhatsNew.Label":"NEW","VoiceOver.CloudOSToolbar.ActionsButtons.OverFlowMenu.Label":"More options"});var iQ,aQ=Object(wu.c)(),oQ=Ou(),sQ=function(e){return Re.createElement("svg",Object.assign({className:"square-grid",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),Re.createElement("path",{d:"M2.54982858,9.5141143 L7.18154287,9.5141143 C8.96725716,9.5141143 9.60897144,8.87234287 9.60897144,7.11457144 L9.60897144,2.48285715 C9.60897144,0.697142858 8.96725716,0.0554285715 7.18154287,0.0554285715 L2.54982858,0.0554285715 C0.792000001,0.0554285715 0.150285715,0.697142858 0.150285715,2.48285715 L0.150285715,7.11457144 C0.150285715,8.87234287 0.792000001,9.5141143 2.54982858,9.5141143 Z M19.2350857,9.5141143 L23.8668,9.5141143 C25.6245715,9.5141143 26.2663429,8.87234287 26.2663429,7.11457144 L26.2663429,2.48285715 C26.2663429,0.697142858 25.6245715,0.0554285715 23.8668,0.0554285715 L19.2350857,0.0554285715 C17.4493715,0.0554285715 16.8076572,0.697142858 16.8076572,2.48285715 L16.8076572,7.11457144 C16.8076572,8.87234287 17.4493715,9.5141143 19.2350857,9.5141143 Z M35.8924572,9.5141143 L40.5241715,9.5141143 C42.2819429,9.5141143 42.9237144,8.87234287 42.9237144,7.11457144 L42.9237144,2.48285715 C42.9237144,0.697142858 42.2819429,0.0554285715 40.5241715,0.0554285715 L35.8924572,0.0554285715 C34.1346286,0.0554285715 33.4929143,0.697142858 33.4929143,2.48285715 L33.4929143,7.11457144 C33.4929143,8.87234287 34.1346286,9.5141143 35.8924572,9.5141143 Z M52.5496001,9.5141143 L57.1816001,9.5141143 C58.9673144,9.5141143 59.6090287,8.87234287 59.6090287,7.11457144 L59.6090287,2.48285715 C59.6090287,0.697142858 58.9673144,0.0554285715 57.1816001,0.0554285715 L52.5496001,0.0554285715 C50.7918858,0.0554285715 50.1502858,0.697142858 50.1502858,2.48285715 L50.1502858,7.11457144 C50.1502858,8.87234287 50.7918858,9.5141143 52.5496001,9.5141143 Z M2.68931429,26.1714858 L7.32102858,26.1714858 C9.10674287,26.1714858 9.74845716,25.5297143 9.74845716,23.7719429 L9.74845716,19.1402286 C9.74845716,17.3824 9.10674287,16.7406857 7.32102858,16.7406857 L2.68931429,16.7406857 C0.931542859,16.7406857 0.289771429,17.3824 0.289771429,19.1402286 L0.289771429,23.7719429 C0.289771429,25.5297143 0.931542859,26.1714858 2.68931429,26.1714858 Z M19.3746286,26.1714858 L24.0062858,26.1714858 C25.7641143,26.1714858 26.4058286,25.5297143 26.4058286,23.7719429 L26.4058286,19.1402286 C26.4058286,17.3824 25.7641143,16.7406857 24.0062858,16.7406857 L19.3746286,16.7406857 C17.5889143,16.7406857 16.9471429,17.3824 16.9471429,19.1402286 L16.9471429,23.7719429 C16.9471429,25.5297143 17.5889143,26.1714858 19.3746286,26.1714858 Z M36.0319429,26.1714858 L40.6636572,26.1714858 C42.4214858,26.1714858 43.0632001,25.5297143 43.0632001,23.7719429 L43.0632001,19.1402286 C43.0632001,17.3824 42.4214858,16.7406857 40.6636572,16.7406857 L36.0319429,16.7406857 C34.2741715,16.7406857 33.6324001,17.3824 33.6324001,19.1402286 L33.6324001,23.7719429 C33.6324001,25.5297143 34.2741715,26.1714858 36.0319429,26.1714858 Z M52.7170287,26.1714858 L57.3210287,26.1714858 C59.106743,26.1714858 59.7484572,25.5297143 59.7484572,23.7719429 L59.7484572,19.1402286 C59.7484572,17.3824 59.106743,16.7406857 57.3210287,16.7406857 L52.7170287,16.7406857 C50.9313144,16.7406857 50.2896001,17.3824 50.2896001,19.1402286 L50.2896001,23.7719429 C50.2896001,25.5297143 50.9313144,26.1714858 52.7170287,26.1714858 Z M2.68931429,42.8567372 L7.32102858,42.8567372 C9.10674287,42.8567372 9.74845716,42.2150001 9.74845716,40.4292858 L9.74845716,35.8254858 C9.74845716,34.0397715 9.10674287,33.3980572 7.32102858,33.3980572 L2.68931429,33.3980572 C0.931542859,33.3980572 0.289771429,34.0397715 0.289771429,35.8254858 L0.289771429,40.4292858 C0.289771429,42.2150001 0.931542859,42.8567372 2.68931429,42.8567372 Z M19.3746286,42.8567372 L24.0062858,42.8567372 C25.7641143,42.8567372 26.4058286,42.2150001 26.4058286,40.4292858 L26.4058286,35.8254858 C26.4058286,34.0397715 25.7641143,33.3980572 24.0062858,33.3980572 L19.3746286,33.3980572 C17.5889143,33.3980572 16.9471429,34.0397715 16.9471429,35.8254858 L16.9471429,40.4292858 C16.9471429,42.2150001 17.5889143,42.8567372 19.3746286,42.8567372 Z M36.0319429,42.8567372 L40.6636572,42.8567372 C42.4214858,42.8567372 43.0632001,42.2150001 43.0632001,40.4292858 L43.0632001,35.8254858 C43.0632001,34.0397715 42.4214858,33.3980572 40.6636572,33.3980572 L36.0319429,33.3980572 C34.2741715,33.3980572 33.6324001,34.0397715 33.6324001,35.8254858 L33.6324001,40.4292858 C33.6324001,42.2150001 34.2741715,42.8567372 36.0319429,42.8567372 Z M52.7170287,42.8567372 L57.3210287,42.8567372 C59.106743,42.8567372 59.7484572,42.2150001 59.7484572,40.4292858 L59.7484572,35.8254858 C59.7484572,34.0397715 59.106743,33.3980572 57.3210287,33.3980572 L52.7170287,33.3980572 C50.9313144,33.3980572 50.2896001,34.0397715 50.2896001,35.8254858 L50.2896001,40.4292858 C50.2896001,42.2150001 50.9313144,42.8567372 52.7170287,42.8567372 Z",transform:"translate(2 10.571)"}))},cQ=function(e){return Re.createElement("svg",Object.assign({className:"plus-circle",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),Re.createElement("path",{d:"M29.9475268,59.5867724 C46.1333288,59.5867724 59.534715,46.15661 59.534715,29.9998218 C59.534715,13.8140198 46.1043387,0.412871288 29.9185367,0.412871288 C13.7617248,0.412871288 0.36059406,13.8140198 0.36059406,29.9998218 C0.36059406,46.15661 13.7907743,59.5867724 29.9475268,59.5867724 Z M29.9475268,54.6556041 C16.256299,54.6556041 5.32073466,43.6910496 5.32073466,29.9998218 C5.32073466,16.3085941 16.2273089,5.34403961 29.9185367,5.34403961 C43.6097644,5.34403961 54.5743189,16.3085941 54.6035429,29.9998218 C54.6325367,43.6910496 43.6387545,54.6556041 29.9475268,54.6556041 Z M17.1265367,30.0288119 C17.1265367,31.4501585 18.1417842,32.4073664 19.6211109,32.4073664 L27.4819426,32.4073664 L27.4819426,40.3262377 C27.4819426,41.7765743 28.4682,42.7628318 29.8895466,42.7628318 C31.3398832,42.7628318 32.3551307,41.7765743 32.3551307,40.3262377 L32.3551307,32.4073664 L40.2449525,32.4073664 C41.6952892,32.4073664 42.7105367,31.4501585 42.7105367,30.0288119 C42.7105367,28.5784753 41.6952892,27.5632278 40.2449525,27.5632278 L32.3551307,27.5632278 L32.3551307,19.7023961 C32.3551307,18.1940198 31.3398832,17.2078218 29.8895466,17.2078218 C28.4682,17.2078218 27.4819426,18.2230693 27.4819426,19.7023961 L27.4819426,27.5632278 L19.6211109,27.5632278 C18.1417842,27.5632278 17.1265367,28.5784753 17.1265367,30.0288119 Z",transform:"translate(2 2)"}))},lQ=function(e){return Re.createElement("svg",Object.assign({className:"person-crop-circle",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),Re.createElement("path",{d:"M29.9475268,59.5867724 C46.1333288,59.5867724 59.534715,46.15661 59.534715,29.9998218 C59.534715,13.8140198 46.1043387,0.412871288 29.9185367,0.412871288 C13.7617248,0.412871288 0.36059406,13.8140198 0.36059406,29.9998218 C0.36059406,46.15661 13.7907743,59.5867724 29.9475268,59.5867724 Z M29.9475268,39.8621585 C21.2165169,39.8621585 14.5159426,42.9948714 11.5572297,46.4756852 C7.67029902,42.0956436 5.32073466,36.3523367 5.32073466,29.9998218 C5.32073466,16.3085941 16.2273089,5.34403961 29.9185367,5.34403961 C43.6097644,5.34403961 54.5743189,16.3085941 54.6039513,29.9998218 C54.6325367,36.3523367 52.253804,42.1246337 48.3378832,46.4756852 C45.4081605,42.9948714 38.6785961,39.8621585 29.9475268,39.8621585 Z M29.9475268,34.9309902 C35.5458832,34.9889704 39.8968931,30.2318614 39.8968931,23.9954258 C39.8968931,18.1360396 35.5168337,13.291901 29.9475268,13.291901 C24.3782198,13.291901 19.9691703,18.1360396 19.9979358,23.9954258 C20.0272099,30.2318614 24.3782198,34.8729506 29.9475268,34.9309902 Z",transform:"translate(2 2)"}))},uQ=function(e){return Re.createElement("svg",Object.assign({className:"sparkles ",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),Re.createElement("path",{d:"M35.644 61.814c.661 0 1.178-.467 1.294-1.167 1.851-14.32 3.88-16.519 18.043-18.098.733-.06 1.25-.605 1.25-1.283 0-.705-.517-1.216-1.25-1.305-14.163-1.579-16.192-3.75-18.043-18.076-.116-.722-.633-1.189-1.294-1.189-.69 0-1.206.467-1.295 1.19C32.47 36.21 30.442 38.381 16.28 39.96c-.733.089-1.222.6-1.222 1.305 0 .678.489 1.222 1.222 1.283 14.124 1.864 16.096 3.784 18.07 18.098.089.7.606 1.167 1.295 1.167Zm-17.73-28.919c.472 0 .8-.322.861-.793.947-6.988 1.173-6.97 8.4-8.378.444-.06.799-.383.799-.86 0-.505-.355-.822-.8-.883-7.226-1.025-7.48-1.251-8.399-8.35-.061-.504-.389-.826-.86-.826-.5 0-.828.322-.889.854-.863 6.982-1.24 6.942-8.399 8.322-.444.09-.8.378-.8.883s.356.8.91.86c7.105 1.158 7.426 1.34 8.29 8.322.06.527.388.85.888.85Zm12.619-17.994c.344 0 .533-.216.594-.505.773-4.244.717-4.44 5.252-5.252.322-.061.534-.256.534-.595 0-.338-.212-.533-.534-.594-4.535-.811-4.48-1.008-5.252-5.252-.06-.316-.25-.533-.594-.533-.317 0-.5.217-.561.533-.8 4.244-.717 4.44-5.258 5.252-.316.061-.527.256-.527.594 0 .34.21.534.527.595 4.54.811 4.458 1.008 5.258 5.252.06.289.244.505.56.505Z"}))},dQ=function(e){return Re.createElement("svg",Object.assign({className:"ellipsis",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),Re.createElement("path",{d:"M12.9321097,6.8055484 C12.9321097,3.30883872 10.0968839,0.505161291 6.53720646,0.505161291 C3.07198065,0.505161291 0.236774194,3.30883872 0.236774194,6.8055484 C0.236774194,10.3022581 3.07198065,13.1059355 6.53720646,13.1059355 C10.0968839,13.1059355 12.9321097,10.3022581 12.9321097,6.8055484 Z M36.2435936,6.8055484 C36.2435936,3.30883872 33.4399162,0.505161291 29.9432065,0.505161291 C26.4779807,0.505161291 23.6743033,3.30883872 23.6743033,6.8055484 C23.6743033,10.3022581 26.4779807,13.1059355 29.9432065,13.1059355 C33.4399162,13.1059355 36.2435936,10.3022581 36.2435936,6.8055484 Z M59.6495291,6.8055484 C59.6495291,3.30883872 56.8459162,0.505161291 53.3492065,0.505161291 C49.7894646,0.505161291 46.9857872,3.30883872 46.9857872,6.8055484 C46.9857872,10.3022581 49.7894646,13.1059355 53.3492065,13.1059355 C56.8459162,13.1059355 59.6495291,10.3022581 59.6495291,6.8055484 Z",transform:"translate(2 25.226)"}))},hQ=function(e){return Re.createElement("svg",Object.assign({className:"exclamation-bubble",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),Re.createElement("path",{d:"M16.2979266,55.8464588 C17.3461652,55.8464588 18.1256147,55.3088808 19.3888624,54.1262753 L29.0917982,45.2565639 L47.2612294,45.2834417 C55.2708992,45.3103195 59.5710827,40.8485946 59.5710827,32.9733579 L59.5710827,12.3849358 C59.5710827,4.50974313 55.2708992,0.0748623854 47.2612294,0.0748623854 L12.6425505,0.0748623854 C4.63293579,0.0748623854 0.332477065,4.4828257 0.332477065,12.3849358 L0.332477065,32.9733579 C0.332477065,40.8754735 4.63293579,45.2565639 12.6425505,45.2565639 L13.9057982,45.2565639 L13.9057982,53.0780368 C13.9057982,54.7444405 14.7658899,55.8464588 16.2979266,55.8464588 Z M29.9787523,27.651578 C28.5810826,27.651578 27.8016331,26.8721285 27.7747707,25.4475964 L27.4253395,10.8260367 C27.3984771,9.4015046 28.4467156,8.35326607 29.95189,8.35326607 C31.4301468,8.35326607 32.5321652,9.42836699 32.5052478,10.8528991 L32.1020918,25.4475964 C32.0752294,26.8989909 31.2957799,27.651578 29.9787523,27.651578 Z M29.9787523,36.6556514 C28.3660734,36.6556514 26.9684037,35.3924037 26.9684037,33.7797248 C26.9684037,32.1939083 28.3392111,30.9037982 29.9787523,30.9037982 C31.5914312,30.9037982 32.9621835,32.1670459 32.9621835,33.7797248 C32.9621835,35.4192661 31.5645689,36.6556514 29.9787523,36.6556514 Z",transform:"translate(2 3.927)"}))},fQ=function(e){return Re.createElement("svg",Object.assign({className:"exclamation-mark-circle",viewBox:"0 0 99.61 99.657",xmlns:"http://www.w3.org/2000/svg"},e),Re.createElement("path",{fill:"currentColor",d:"M49.805 99.61c27.246 0 49.805-22.608 49.805-49.805C99.61 22.559 77.002 0 49.756 0 22.56 0 0 22.559 0 49.805c0 27.197 22.608 49.804 49.805 49.804Z"}),Re.createElement("path",{fill:"#fff",d:"M49.805 58.887c-2.54 0-3.955-1.416-4.004-4.004l-.635-26.612c-.049-2.587 1.856-4.443 4.59-4.443 2.686 0 4.688 1.904 4.639 4.492l-.684 26.563c-.049 2.636-1.465 4.004-3.906 4.004ZM49.805 75.244c-2.93 0-5.469-2.344-5.469-5.225 0-2.88 2.49-5.273 5.469-5.273 2.978 0 5.469 2.344 5.469 5.273 0 2.93-2.54 5.225-5.47 5.225Z"}))},pQ=function(e){return Re.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"17",height:"19","aria-hidden":"true",className:"lock-rectangle-stack-fill"},e),Re.createElement("path",{d:"M3.323 1.282h10.364C13.616.445 13.126 0 12.25 0H4.76c-.885 0-1.375.445-1.437 1.282ZM1.646 3.825h13.708c-.125-.88-.573-1.388-1.562-1.388H3.219c-.99 0-1.438.509-1.573 1.388ZM2.74 19h11.52c1.782 0 2.74-.964 2.74-2.766V7.916c0-1.791-.958-2.755-2.74-2.755H2.74C.948 5.16 0 6.125 0 7.916v8.318C0 18.036.948 19 2.74 19Zm2.718-3.582v-3.306c0-.572.22-.88.657-.943v-.9c0-1.633.968-2.735 2.385-2.735 1.417 0 2.385 1.102 2.385 2.734v.901c.438.064.657.37.657.943v3.306c0 .668-.292.975-.896.975H6.354c-.604 0-.896-.307-.896-.975Zm1.823-4.28h2.427v-.965c0-.89-.479-1.484-1.208-1.484-.74 0-1.219.594-1.219 1.484v.964Z"}))},gQ=function(e){return Re.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"27",height:"18","aria-hidden":"true",className:"person-two-badge-heart"},e),Re.createElement("path",{d:"M15.763 7.628c1.962 0 3.562-1.73 3.562-3.847 0-2.092-1.6-3.781-3.562-3.781-1.97 0-3.561 1.656-3.561 3.765 0 2.125 1.607 3.863 3.561 3.863Zm-9.497.075c1.698 0 3.091-1.525 3.091-3.395 0-1.828-1.377-3.303-3.091-3.303-1.699 0-3.092 1.5-3.092 3.32 0 1.862 1.393 3.378 3.092 3.378Zm9.497-1.319c-1.212 0-2.234-1.161-2.234-2.62 0-1.44 1.006-2.52 2.234-2.52s2.234 1.104 2.234 2.537c0 1.458-1.022 2.603-2.234 2.603Zm-9.497.091c-1.006 0-1.864-.964-1.864-2.15 0-1.162.85-2.093 1.864-2.093 1.038 0 1.871.915 1.871 2.076 0 1.203-.857 2.167-1.871 2.167Zm-4.584 8.782h6.472c-.396-.223-.701-.717-.643-1.22H1.476c-.165 0-.248-.065-.248-.23 0-2.043 2.334-3.946 5.03-3.946 1.038 0 1.97.247 2.77.717.263-.33.56-.618.931-.882-1.063-.692-2.341-1.054-3.702-1.054C2.803 8.642 0 11.146 0 13.88c0 .923.56 1.376 1.682 1.376Zm16.01 0a4.51 4.51 0 0 1-.198-1.244h-7.296c-.214 0-.305-.058-.305-.23 0-1.36 2.094-3.88 5.878-3.88 1.13 0 2.11.23 2.919.609.272-.363.585-.676.931-.948-1.063-.56-2.357-.906-3.85-.906-4.476 0-7.205 3.122-7.205 5.28 0 .907.651 1.319 2.028 1.319h7.098ZM22.812 18C25.079 18 27 16.097 27 13.815c0-2.298-1.896-4.185-4.188-4.185-2.3 0-4.188 1.887-4.188 4.185 0 2.299 1.888 4.185 4.188 4.185Zm-1.088-6.12c.47 0 .857.263 1.08.782.222-.52.602-.783 1.071-.783.775 0 1.328.569 1.328 1.368 0 1.178-1.253 2.265-2.045 2.784-.255.157-.453.157-.717-.008-.8-.503-2.036-1.598-2.036-2.776 0-.8.544-1.368 1.319-1.368Z"}))},mQ=function(e){return Re.createElement("svg",Object.assign({width:"82",height:"31",xmlns:"http://www.w3.org/2000/svg",className:"apple-icloud-logo light","aria-hidden":"true"},e),Re.createElement("g",{fillRule:"nonzero"},Re.createElement("path",{d:"M16.907 16.5h2.55V5.423h-2.55V16.5Zm1.28-12.832c.412 0 .763-.144 1.05-.43a1.41 1.41 0 0 0 .432-1.033c0-.407-.144-.753-.432-1.038a1.445 1.445 0 0 0-1.05-.426c-.407 0-.756.142-1.046.426-.291.285-.437.63-.437 1.038 0 .401.146.745.437 1.032.29.287.64.43 1.046.43v.001Zm9.915 13.156c1.14 0 2.157-.21 3.052-.631.864-.395 1.616-1 2.188-1.758.563-.752.908-1.624 1.037-2.619l.007-.091h-2.594l-.021.076a3.58 3.58 0 0 1-.713 1.465 3.35 3.35 0 0 1-1.258.943c-.5.219-1.065.328-1.695.328-.847 0-1.582-.22-2.204-.663-.623-.442-1.103-1.07-1.441-1.884-.338-.813-.507-1.776-.507-2.886v-.016c0-1.115.17-2.076.507-2.886.338-.81.817-1.434 1.439-1.875.62-.44 1.354-.66 2.199-.66.634 0 1.201.117 1.702.351.501.235.92.565 1.257.99.338.425.572.926.705 1.505l.026.105h2.59l-.004-.093c-.118-1.006-.46-1.895-1.028-2.668a5.886 5.886 0 0 0-2.204-1.819c-.901-.439-1.916-.658-3.044-.658-1.405 0-2.619.311-3.642.935-1.022.624-1.812 1.511-2.368 2.663-.556 1.152-.834 2.523-.834 4.113v.016c0 1.588.278 2.958.834 4.11.555 1.154 1.346 2.043 2.372 2.669 1.026.625 2.24.938 3.642.938Zm8.034-.324h2.55V1.24h-2.55V16.5Zm9.534.222c1.1 0 2.049-.231 2.846-.693.797-.461 1.413-1.122 1.846-1.982.434-.86.65-1.886.65-3.08v-.02c0-1.191-.218-2.216-.655-3.074a4.68 4.68 0 0 0-1.852-1.98c-.798-.46-1.744-.691-2.838-.691-1.086 0-2.03.23-2.829.694a4.69 4.69 0 0 0-1.855 1.981c-.438.859-.656 1.882-.656 3.07v.02c0 1.191.216 2.217.65 3.078.434.86 1.05 1.522 1.85 1.984.8.462 1.747.693 2.843.693Zm.004-2.066c-.572 0-1.063-.146-1.472-.436-.408-.291-.722-.711-.941-1.261-.219-.55-.329-1.213-.329-1.99v-.02c0-.776.11-1.438.33-1.985.22-.548.535-.967.944-1.259.408-.291.896-.437 1.461-.437.571 0 1.06.145 1.469.436.408.29.721.71.941 1.258.22.549.33 1.21.33 1.987v.02c0 .776-.11 1.438-.328 1.988-.218.55-.53.97-.936 1.262-.406.29-.896.437-1.469.437Zm10.596 2.066c.497.008.991-.071 1.46-.233.43-.156.798-.378 1.106-.668.309-.29.557-.639.73-1.026h.13V16.5h2.55V5.423h-2.55v6.444c0 .41-.055.782-.165 1.114a2.33 2.33 0 0 1-.485.853 2.153 2.153 0 0 1-.783.546 2.744 2.744 0 0 1-1.054.191c-.754 0-1.307-.216-1.657-.647-.35-.431-.526-1.063-.526-1.894V5.423h-2.55v7.166c0 .867.144 1.61.433 2.228.289.618.716 1.09 1.281 1.416.566.326 1.259.489 2.08.489Zm12.084-.024c.525 0 1.005-.08 1.441-.24a3.453 3.453 0 0 0 1.955-1.747h.13V16.5h2.55V1.24h-2.55v5.997h-.13a3.292 3.292 0 0 0-.802-1.073c-.338-.3-.727-.53-1.167-.694a4.093 4.093 0 0 0-1.433-.244c-.932 0-1.739.23-2.42.693-.681.463-1.207 1.122-1.579 1.978-.371.855-.557 1.873-.557 3.055v.016c0 1.175.186 2.19.559 3.049.372.858.9 1.52 1.585 1.984.684.464 1.49.697 2.418.697Zm.783-2.15c-.566 0-1.054-.145-1.466-.432-.412-.287-.728-.699-.95-1.235-.22-.536-.33-1.174-.33-1.913v-.016c0-.742.11-1.38.331-1.912.222-.533.539-.944.95-1.232.412-.288.9-.432 1.465-.432.56 0 1.046.146 1.46.436.413.29.735.703.964 1.237.228.534.343 1.169.343 1.906v.016c0 .732-.114 1.366-.34 1.902-.227.536-.548.95-.963 1.24-.415.29-.903.434-1.464.434v.001ZM8.856 3.158C9.35 2.56 9.7 1.745 9.7.92c0-.114-.01-.227-.03-.32-.805.03-1.774.536-2.351 1.217-.454.516-.877 1.341-.877 2.167 0 .123.02.247.031.288.052.01.134.021.217.021.721 0 1.629-.485 2.165-1.135h.001Zm.567 1.31c-1.207 0-2.186.733-2.815.733-.67 0-1.546-.691-2.598-.691C2.02 4.51 0 6.16 0 9.265c0 1.94.742 3.982 1.67 5.303.794 1.114 1.485 2.032 2.485 2.032.99 0 1.422-.66 2.65-.66 1.247 0 1.525.64 2.618.64 1.082 0 1.804-.991 2.484-1.971.763-1.124 1.083-2.218 1.093-2.27-.062-.02-2.134-.866-2.134-3.239 0-2.053 1.629-2.97 1.722-3.043-1.073-1.547-2.712-1.589-3.165-1.589Z",transform:"translate(2.5 6.5)"})))},vQ=function(e){return Re.createElement("svg",Object.assign({width:"82",height:"31",xmlns:"http://www.w3.org/2000/svg",className:"apple-icloud-logo dark","aria-hidden":"true"},e),Re.createElement("g",{fillRule:"nonzero"},Re.createElement("path",{d:"M16.907 16.5h2.55V5.423h-2.55V16.5Zm1.28-12.832c.412 0 .763-.144 1.05-.43a1.41 1.41 0 0 0 .432-1.033c0-.407-.144-.753-.432-1.038a1.445 1.445 0 0 0-1.05-.426c-.407 0-.756.142-1.046.426-.291.285-.437.63-.437 1.038 0 .401.146.745.437 1.032.29.287.64.43 1.046.43v.001Zm9.915 13.156c1.14 0 2.157-.21 3.052-.631.864-.395 1.616-1 2.188-1.758.563-.752.908-1.624 1.037-2.619l.007-.091h-2.594l-.021.076a3.58 3.58 0 0 1-.713 1.465 3.35 3.35 0 0 1-1.258.943c-.5.219-1.065.328-1.695.328-.847 0-1.582-.22-2.204-.663-.623-.442-1.103-1.07-1.441-1.884-.338-.813-.507-1.776-.507-2.886v-.016c0-1.115.17-2.076.507-2.886.338-.81.817-1.434 1.439-1.875.62-.44 1.354-.66 2.199-.66.634 0 1.201.117 1.702.351.501.235.92.565 1.257.99.338.425.572.926.705 1.505l.026.105h2.59l-.004-.093c-.118-1.006-.46-1.895-1.028-2.668a5.886 5.886 0 0 0-2.204-1.819c-.901-.439-1.916-.658-3.044-.658-1.405 0-2.619.311-3.642.935-1.022.624-1.812 1.511-2.368 2.663-.556 1.152-.834 2.523-.834 4.113v.016c0 1.588.278 2.958.834 4.11.555 1.154 1.346 2.043 2.372 2.669 1.026.625 2.24.938 3.642.938Zm8.034-.324h2.55V1.24h-2.55V16.5Zm9.534.222c1.1 0 2.049-.231 2.846-.693.797-.461 1.413-1.122 1.846-1.982.434-.86.65-1.886.65-3.08v-.02c0-1.191-.218-2.216-.655-3.074a4.68 4.68 0 0 0-1.852-1.98c-.798-.46-1.744-.691-2.838-.691-1.086 0-2.03.23-2.829.694a4.69 4.69 0 0 0-1.855 1.981c-.438.859-.656 1.882-.656 3.07v.02c0 1.191.216 2.217.65 3.078.434.86 1.05 1.522 1.85 1.984.8.462 1.747.693 2.843.693Zm.004-2.066c-.572 0-1.063-.146-1.472-.436-.408-.291-.722-.711-.941-1.261-.219-.55-.329-1.213-.329-1.99v-.02c0-.776.11-1.438.33-1.985.22-.548.535-.967.944-1.259.408-.291.896-.437 1.461-.437.571 0 1.06.145 1.469.436.408.29.721.71.941 1.258.22.549.33 1.21.33 1.987v.02c0 .776-.11 1.438-.328 1.988-.218.55-.53.97-.936 1.262-.406.29-.896.437-1.469.437Zm10.596 2.066c.497.008.991-.071 1.46-.233.43-.156.798-.378 1.106-.668.309-.29.557-.639.73-1.026h.13V16.5h2.55V5.423h-2.55v6.444c0 .41-.055.782-.165 1.114a2.33 2.33 0 0 1-.485.853 2.153 2.153 0 0 1-.783.546 2.744 2.744 0 0 1-1.054.191c-.754 0-1.307-.216-1.657-.647-.35-.431-.526-1.063-.526-1.894V5.423h-2.55v7.166c0 .867.144 1.61.433 2.228.289.618.716 1.09 1.281 1.416.566.326 1.259.489 2.08.489Zm12.084-.024c.525 0 1.005-.08 1.441-.24a3.453 3.453 0 0 0 1.955-1.747h.13V16.5h2.55V1.24h-2.55v5.997h-.13a3.292 3.292 0 0 0-.802-1.073c-.338-.3-.727-.53-1.167-.694a4.093 4.093 0 0 0-1.433-.244c-.932 0-1.739.23-2.42.693-.681.463-1.207 1.122-1.579 1.978-.371.855-.557 1.873-.557 3.055v.016c0 1.175.186 2.19.559 3.049.372.858.9 1.52 1.585 1.984.684.464 1.49.697 2.418.697Zm.783-2.15c-.566 0-1.054-.145-1.466-.432-.412-.287-.728-.699-.95-1.235-.22-.536-.33-1.174-.33-1.913v-.016c0-.742.11-1.38.331-1.912.222-.533.539-.944.95-1.232.412-.288.9-.432 1.465-.432.56 0 1.046.146 1.46.436.413.29.735.703.964 1.237.228.534.343 1.169.343 1.906v.016c0 .732-.114 1.366-.34 1.902-.227.536-.548.95-.963 1.24-.415.29-.903.434-1.464.434v.001ZM8.856 3.158C9.35 2.56 9.7 1.745 9.7.92c0-.114-.01-.227-.03-.32-.805.03-1.774.536-2.351 1.217-.454.516-.877 1.341-.877 2.167 0 .123.02.247.031.288.052.01.134.021.217.021.721 0 1.629-.485 2.165-1.135h.001Zm.567 1.31c-1.207 0-2.186.733-2.815.733-.67 0-1.546-.691-2.598-.691C2.02 4.51 0 6.16 0 9.265c0 1.94.742 3.982 1.67 5.303.794 1.114 1.485 2.032 2.485 2.032.99 0 1.422-.66 2.65-.66 1.247 0 1.525.64 2.618.64 1.082 0 1.804-.991 2.484-1.971.763-1.124 1.083-2.218 1.093-2.27-.062-.02-2.134-.866-2.134-3.239 0-2.053 1.629-2.97 1.722-3.043-1.073-1.547-2.712-1.589-3.165-1.589Z",transform:"translate(2.5 6.5)"})))},yQ=function(e){return Re.createElement("svg",{height:"30",width:"56",xmlns:"http://www.w3.org/2000/svg",className:"apple-icloud-logo dark"},Re.createElement("g",{fillRule:"nonzero"},Re.createElement("path",{d:"M1.396 18h2.308V7.891H1.396V18Zm1.16-11.783c.378 0 .7-.132.967-.397.266-.265.4-.583.4-.954 0-.377-.134-.697-.4-.96a1.327 1.327 0 0 0-.968-.394c-.372 0-.693.131-.962.394a1.29 1.29 0 0 0-.404.96c0 .37.134.689.404.954s.59.397.962.397ZM11.666 18.324c1.032 0 1.952-.188 2.76-.564a5.142 5.142 0 0 0 1.971-1.57c.507-.672.82-1.454.936-2.347l.004-.076H14.99l-.018.06a3.035 3.035 0 0 1-.628 1.29 3.037 3.037 0 0 1-1.139.842 3.821 3.821 0 0 1-1.537.296c-.763 0-1.422-.201-1.979-.603-.556-.402-.985-.972-1.286-1.712-.302-.74-.452-1.616-.452-2.627v-.018c0-1.015.15-1.891.452-2.629.3-.737.73-1.306 1.286-1.707.556-.4 1.213-.6 1.97-.6.568 0 1.08.107 1.535.324.455.217.837.52 1.146.912.308.39.52.85.634 1.379l.013.057h2.341l.002-.081a4.96 4.96 0 0 0-.926-2.415 5.317 5.317 0 0 0-1.994-1.649c-.816-.398-1.733-.597-2.75-.597-1.267 0-2.36.284-3.278.85-.919.568-1.627 1.375-2.126 2.422-.498 1.046-.747 2.292-.747 3.737v.018c0 1.441.249 2.685.747 3.732.498 1.047 1.208 1.855 2.13 2.423.922.568 2.015.853 3.28.853ZM19.122 18h2.308V3.996h-2.308zM27.983 18.202c1.01 0 1.879-.21 2.605-.632a4.213 4.213 0 0 0 1.677-1.809c.392-.784.588-1.72.588-2.81v-.018c0-1.087-.198-2.022-.593-2.805A4.24 4.24 0 0 0 30.58 8.32c-.727-.421-1.592-.632-2.597-.632-.998 0-1.861.211-2.59.633a4.251 4.251 0 0 0-1.686 1.809c-.395.783-.593 1.717-.593 2.802v.019c0 1.088.196 2.024.589 2.809a4.215 4.215 0 0 0 1.681 1.81c.729.42 1.595.631 2.6.631Zm0-1.87c-.53 0-.982-.133-1.356-.4-.373-.267-.659-.653-.856-1.156-.198-.504-.297-1.111-.297-1.822v-.018c0-.711.1-1.318.298-1.82.199-.502.485-.888.858-1.156.374-.268.824-.402 1.352-.402.53 0 .982.134 1.355.402.372.268.658.653.857 1.156.198.502.297 1.109.297 1.82v.018c0 .709-.098 1.315-.296 1.82-.197.503-.482.889-.854 1.157s-.825.402-1.357.402ZM37.808 18.202c.734 0 1.352-.155 1.856-.465a2.77 2.77 0 0 0 1.111-1.28h.15V18h2.308V7.891h-2.308v5.891c0 .5-.087.936-.262 1.308a1.942 1.942 0 0 1-.773.862c-.34.203-.756.304-1.248.304-.695 0-1.198-.197-1.51-.593-.312-.395-.468-.981-.468-1.759V7.891h-2.307v6.54c0 .797.13 1.478.389 2.042.26.564.646.993 1.16 1.287.513.295 1.147.442 1.902.442ZM48.98 18.17c.715 0 1.337-.155 1.867-.466a3.06 3.06 0 0 0 1.211-1.299h.15V18h2.308V3.996h-2.308V9.51h-.15a2.995 2.995 0 0 0-1.215-1.308c-.546-.32-1.167-.481-1.863-.481-.854 0-1.591.21-2.212.633-.62.421-1.1 1.022-1.437 1.801-.337.78-.505 1.707-.505 2.781v.018c0 1.067.17 1.991.51 2.773.339.781.82 1.384 1.444 1.808.623.423 1.357.635 2.2.635Zm.719-1.946c-.521 0-.97-.13-1.348-.393-.378-.262-.668-.638-.87-1.127-.204-.49-.305-1.073-.305-1.75v-.018c0-.679.101-1.262.304-1.75.203-.487.494-.862.872-1.125s.827-.394 1.347-.394.969.132 1.349.396c.38.265.672.64.88 1.128.206.488.31 1.07.31 1.748v.018c0 .672-.103 1.253-.31 1.742-.205.49-.497.867-.877 1.13-.38.264-.831.395-1.352.395Z"}),Re.createElement("g",null,Re.createElement("path",{d:"M6.206 22.303H3.861v-1.036h-.742v1.036H.774V27.7h.728v-.406h3.976v.406h.728v-5.397Zm-4.704 4.284v-1.554h1.617v1.554H1.502Zm2.359 0v-1.554h1.617v1.554H3.861Zm-2.359-2.226v-1.365h1.617v1.365H1.502Zm2.359-1.365h1.617v1.365H3.861v-1.365ZM7.865 21.589v.707h5.04v-.707h-5.04Zm-.679 1.925v.728h2.226c-.672 1.351-1.218 2.177-1.638 2.485a.853.853 0 0 1-.175.077l.189.742a68.23 68.23 0 0 0 4.557-.469c.126.238.238.469.343.707l.658-.462c-.35-.693-.84-1.512-1.47-2.45l-.588.364c.252.399.483.791.7 1.176a47.161 47.161 0 0 1-3.304.35c.448-.518.959-1.358 1.54-2.52h3.311v-.728H7.186ZM16.503 21.253v5.523h-2.429v.714h6.293v-.714h-3.108v-2.737h2.59v-.707h-2.59v-2.079zM20.927 23.507v.616h6.286v-.616h-2.779v-.294h2.037v-1.526h-2.037v-.413h-.728v.413h-2.023v1.526h2.023v.294h-2.779Zm4.844-.854h-1.337v-.406h1.337v.406Zm-2.065 0h-1.323v-.406h1.323v.406Zm2.695 1.743h-4.592v2.191h.707v-1.561h3.171v1.477h.714v-2.107Zm-2.611.875c-.049.637-.238 1.085-.56 1.337-.364.266-1.127.42-2.275.462l.294.665c1.386-.105 2.247-.336 2.597-.693.336-.273.56-.84.658-1.701l-.714-.07Zm.854 1.127-.371.553c.868.203 1.708.483 2.52.847l.392-.616a17.271 17.271 0 0 0-2.541-.784ZM28.298 22.947a8.19 8.19 0 0 1-.511 2.016l.658.224a9.797 9.797 0 0 0 .476-2.072l-.623-.168Zm2.877-1.435v5.985h.7v-3.906c.21.427.399.91.574 1.449l.588-.301c-.21-.623-.455-1.19-.735-1.708l-.427.196v-1.715h-.7Zm1.932-.224v6.447h.693v-6.447h-.693Zm-2.751 1.806-.455.203v-1.953h-.693v2.163c-.014 1.722-.399 2.975-1.155 3.759l.546.483c.84-.882 1.274-2.268 1.302-4.158.224.448.427.959.609 1.526l.588-.301a11.478 11.478 0 0 0-.742-1.722ZM35.27 21.302l-.511.483c.504.406.889.784 1.162 1.134l.525-.518a9.032 9.032 0 0 0-1.176-1.099Zm3.983 6.314h1.603l.182-.721c-.196.014-.469.028-.826.042-.364 0-.714.007-1.064.007-.532 0-1.001-.007-1.4-.014-.406-.014-.707-.07-.91-.175a1.812 1.812 0 0 1-.476-.413l-.07-.07v-2.667h-1.603v.672h.924v1.918c-.28.154-.588.511-.938 1.071l.539.504c.35-.63.588-.945.721-.945.084 0 .168.056.259.175.203.238.441.399.721.483.294.07.658.112 1.106.119.441.007.854.014 1.232.014Zm-2.121-6.041v.672h3.304v-.672h-3.304Zm-.448 1.575v.693h1.393c-.518 1.218-.917 1.869-1.197 1.953l.182.637c1.211-.126 2.191-.287 2.947-.483.07.189.133.385.203.595l.651-.161a12.805 12.805 0 0 0-.966-2.198l-.595.196c.161.301.315.616.455.945-.518.133-1.141.245-1.876.343.308-.448.616-1.057.924-1.827h2.142v-.693h-4.263ZM42.823 23.78v1.533h3.696V23.78h-3.696Zm3.024.994h-2.352v-.448h2.352v.448Zm1.323.868h-4.977v2.093h.714v-.259h3.556v.259h.707v-2.093Zm-4.263 1.218v-.616h3.556v.616h-3.556Zm-1.295-5.194v.637h1.491v.336h.728v-.336h1.638v.336h.728v-.336h1.491v-.637h-1.491v-.406h-.728v.406h-1.638v-.406h-.728v.406h-1.491Zm5.957 1.155h-5.838v1.47h.7v-.854h4.438v.819h.7v-1.435Z"}))))},_Q=function(e){return Re.createElement("svg",Object.assign({className:"chevron-forward-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},e),Re.createElement("path",{d:"M3.03658696,55.4997197 C3.84723914,55.4997197 4.54982609,55.1684284 5.09054349,54.600861 L30.3121305,29.9684348 C30.9003261,29.3464566 31.2385435,28.6370218 31.2385435,27.8325653 C31.2385435,27.0280435 30.8934783,26.2441957 30.3052174,25.6897827 L5.08363044,1.01667391 C4.54297827,0.482869566 3.84723914,0.158478261 3.03658696,0.158478261 C1.37452174,0.158478261 0.104347826,1.4355 0.104347826,3.09065218 C0.104347826,3.86073914 0.44876087,4.61080436 0.948847828,5.17839131 L25.8417392,29.5089783 L25.8417392,26.1085435 L0.948847828,50.4866877 C0.44876087,51.0473694 0.104347826,51.7637023 0.104347826,52.5675327 C0.104347826,54.2227044 1.37452174,55.4997197 3.03658696,55.4997197 Z M31.4799783,55.4997197 C32.2906957,55.4997197 32.9932827,55.1684284 33.5340001,54.600861 L58.7557175,29.9684348 C59.3439784,29.3464566 59.6818044,28.6370218 59.6818044,27.8325653 C59.6818044,27.0280435 59.3368044,26.2441957 58.7485436,25.6897827 L33.527087,1.01667391 C32.9864348,0.482869566 32.2906957,0.158478261 31.4799783,0.158478261 C29.8179783,0.158478261 28.5478044,1.4355 28.5478044,3.09065218 C28.5478044,3.86073914 28.8922174,4.61080436 29.3923044,5.17839131 L54.2851957,29.5089783 L54.2851957,26.1085435 L29.3923044,50.4866877 C28.8922174,51.0473694 28.5478044,51.7637023 28.5478044,52.5675327 C28.5478044,54.2227044 29.8179783,55.4997197 31.4799783,55.4997197 Z",transform:"translate(2 3.957)"}))},bQ=n(1426),wQ=n(1476);function SQ(){var e;return null!=(e=iQ)?e:iQ=new wQ.MeCardController}function EQ(e){return SQ().addEventListener("change",e),function(){SQ().removeEventListener("change",e)}}function IQ(){return SQ().photo}function CQ(e){return SQ().addEventListener("fetchingchange",e),function(){SQ().removeEventListener("fetchingchange",e)}}function OQ(){return SQ().isFetching}var TQ=!1,AQ=28;function NQ(){var e,t,n=rQ().state,r=null!=(e=function(e){var t=Object(bQ.useSyncExternalStore)(EQ,IQ),n=Object(bQ.useSyncExternalStore)(CQ,OQ);return Object(Re.useEffect)((function(){!e||n||null!==t||TQ||(TQ=!0,SQ().refresh())}),[e,n,t]),Object(Re.useDebugValue)(t),t}(Object(bd.g)((function(){var e,t;return null!=(e=null==(t=n.value)?void 0:t.isAuthenticated)&&e}),[n])))?e:void 0,i=function(e){var t=Re.useState(void 0),n=t[0],r=t[1];return Re.useEffect((function(){if(e){var t=new Image;return t.onload=function(){r({width:this.width,height:this.height})},t.src=e,function(){t.onload=null}}r(void 0)}),[e]),n}(null!=(t=null==r?void 0:r.url)?t:""),a=Re.useRef(null==r?void 0:r.url),o=Re.useState(!1),s=o[0],c=o[1];Re.useEffect((function(){(null==r?void 0:r.url)!==a.current&&(a.current=null==r?void 0:r.url,c(!1))}),[null==r?void 0:r.url]);var l=null!=r&&r.crop&&i?function(e,t){var n=e.x,r=t.height-e.y-e.height,i=Math.min(e.width,e.height),a=i,o=i;return e.width>e.height?n+=(e.width-e.height)/2:e.height>e.width&&(r+=(e.height-e.width)/2),{top:r,left:n,width:a,height:o}}(r.crop,i):void 0;return Re.createElement("div",{className:"profile-photo",style:{width:AQ,height:AQ}},!s&&null!=r&&r.url?Re.createElement(Qp,{style:{width:AQ,height:AQ},src:null==r?void 0:r.url,crop:l,onLoadFailure:function(){c(!0)},alt:aQ("CloudOSToolbar.ActionButtons.ProfilePhoto.AltText")}):Re.createElement(lQ,{width:AQ,height:AQ}))}var MQ=Re.forwardRef((function(e,t){var n=e.ariaLabel,r=e.children,i=e.className,a=e.isOpenKey,o=e.navbarState,s=e.onActivate,c=function(){var e=Object(Re.useRef)(null);return[e,Object(Re.useCallback)((function(){var t=e.current;if(t)return{width:t.offsetWidth,height:t.offsetHeight,x:t.offsetLeft,y:t.offsetTop}}),[])]}(),l=c[0],u=c[1],d=function(e,t){var n=Object(Re.useState)(!1),r=n[0],i=n[1];Object(Re.useEffect)((function(){e[t]&&r&&i(!1)}),[e,t,r]);var a=t in e;return[e[t]||r,Object(Re.useCallback)((function(){a&&i(!0)}),[a])]}(o,a),h=d[0],f=d[1];return Re.createElement(Gp,{className:Be()(h&&"open",i),onActivate:Re.useCallback((function(){var e=u();e&&(s(e),f())}),[u,f,s]),ariaHasPopup:"menu",ariaLabel:n,ref:$p(t,l)},r)}));function DQ(e){var t=e.navbarState;return Re.createElement(MQ,{ariaLabel:oQ("CloudOSToolbar.ActionButtons.AccountMenu.Label"),isOpenKey:"isAccountMenuOpen",navbarState:t,onActivate:RQ},Re.createElement(NQ,null))}function RQ(e){rQ().showAccountMenu(e)}function LQ(e){var t=e.navbarState;return Re.createElement(MQ,{ariaLabel:oQ("CloudOSToolbar.ActionButtons.ADPButton.Label"),isOpenKey:"isADPAnnouncementOpen",navbarState:t,onActivate:kQ},Re.createElement(pQ,{height:19,width:17}))}function kQ(e){rQ().showADPAnnouncement(e)}var xQ=Re.forwardRef((function(e,t){var n=e.navbarState;return Re.createElement(MQ,{ariaLabel:oQ("CloudOSToolbar.ActionButtons.AppMenu.Label"),isOpenKey:"isAppMenuOpen",navbarState:n,onActivate:FQ,ref:t},Re.createElement(sQ,{height:22,width:22,"aria-hidden":!0}))}));function FQ(e){rQ().showAppMenu(e)}function PQ(e){var t=e.navbarState;return Re.createElement(MQ,{ariaLabel:oQ("CloudOSToolbar.ActionButtons.BeneficiaryButton.Label"),isOpenKey:"isBeneficiaryAnnouncementOpen",navbarState:t,onActivate:jQ},Re.createElement(gQ,{height:18,width:27}))}function jQ(e){rQ().showBeneficiaryAnnouncement(e)}function UQ(e){var t=e.navbarState;return Re.createElement(MQ,{ariaLabel:oQ("CloudOSToolbar.ActionButtons.CreationMenu.Label"),isOpenKey:"isCreationMenuOpen",navbarState:t,onActivate:BQ},Re.createElement(cQ,{height:18,width:18,"aria-hidden":!0}))}function BQ(e){rQ().showCreationMenu(e)}function VQ(e){var t=e.navbarState;return Re.createElement(MQ,{ariaLabel:oQ("CloudOSToolbar.ActionButtons.HelpMenu.Label"),className:"help-menu-button",isOpenKey:"isHelpMenuOpen",navbarState:t,onActivate:WQ},Re.createElement(dQ,{height:22,width:22,"aria-hidden":!0}))}function WQ(e){rQ().showHelpMenu(e)}function zQ(e){var t=e.buttonsToMerge,n=e.navbarState,r=e.whatsNewOptions;return Re.createElement(MQ,{ariaLabel:oQ("VoiceOver.CloudOSToolbar.ActionsButtons.OverFlowMenu.Label"),isOpenKey:"isOverflowMenuOpen",navbarState:n,onActivate:function(e){return rQ().showOverflowMenu(t,r,e)}},Re.createElement(_Q,{width:"18","aria-hidden":!0}))}function HQ(e){var t=e.navbarState;return Re.createElement(MQ,{ariaLabel:oQ("CloudOSToolbar.ActionButtons.AlertButton.Label.One"),isOpenKey:"isStorageUsageWarningOpen",navbarState:t,onActivate:GQ},Re.createElement(fQ,{height:20,width:20,"aria-hidden":!0}))}function GQ(e){rQ().showStorageUsageWarning(e)}var $Q=["Create"],KQ=["Feedback","BeneficiaryAnnouncement","ADPAnnouncement","StorageWarning","WhatsNew"];function QQ(e){return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}function qQ(e,t){return e()-t()-30}var ZQ,YQ=n(1473);function XQ(){var e;return null!=(e=ZQ)?e:ZQ=new YQ.QuotaController}function JQ(e){return XQ().addEventListener("change",e),function(){XQ().removeEventListener("change",e)}}function eq(){return XQ().storageQuota}function tq(e){return XQ().addEventListener("fetchingchange",e),function(){XQ().removeEventListener("fetchingchange",e)}}function nq(){return XQ().isFetching}function rq(e){var t=function(e){var t=Object(bQ.useSyncExternalStore)(JQ,eq),n=Object(bQ.useSyncExternalStore)(tq,nq);return Object(Re.useEffect)((function(){e&&!n&&null===t&&XQ().fetchStorageQuota()}),[e,n,t]),Object(Re.useDebugValue)(t),t}(e);return!!t&&(t.quotaStatus["almost-full"]||t.quotaStatus.overQuota)}function iq(e){return Re.createElement("div",{className:"action-buttons"},e.navbarState.isAuthenticated?Re.createElement(aq,Object.assign({},e)):Re.createElement(VQ,{navbarState:e.navbarState}))}function aq(e){var t,n,r=e.navbarState,i=e.appTitle,a=void 0===i?"":i,o=e.whatsNewButton,s=e.appAccentColor,c=void 0===s?"":s,l=e.appSwitcherButtonRef,u="compact"===pp(),d=r.isAuthenticated&&null!=(t=null==o?void 0:o.newFeatures)?t:[],h=mm();function f(){var e,t,n;return null!=(e=null==(t=document.getElementsByClassName("cloudos-toolbar"))||null==(n=t[0])?void 0:n.getBoundingClientRect().width)?e:0}function p(){var e,t,n=document.querySelector(".cloudos-toolbar > .icloud-logo"),r=null!=(e=null==n?void 0:n.getBoundingClientRect().width)?e:0,i=document.querySelector(".cloudos-toolbar > svg.app-name");return r+(null!=(t=null==i?void 0:i.getBBox().width)?t:0)}Re.useEffect((function(){return QQ(h)}),[h]);var g=qQ(f,p);Re.useEffect((function(){if(g<=0){var e=function(){var e=qQ(f,p)>0;return e&&h(),e};e()||requestAnimationFrame((function(){e()}))}}),[]);var m=function(e,t){for(var n=new Set(Object.entries(e).filter((function(e){return e[1]})).map((function(e){return e[0]}))),r=[],i=Object.values(e).reduce((function(e,t){return e+t}),0),a=0;i>t&&a<$Q.length;){var o=$Q[a],s=e[o];s&&(i-=s,n.delete(o)),a++}if(i<=t)return{buttonsToRender:n,buttonsToMerge:[]};var c=KQ.filter((function(t){return!!e[t]}));if(0===c.length||1===c.length)return{buttonsToRender:n,buttonsToMerge:[]};for(i+=44,n.add("Overflow"),a=0;i>t&&a<c.length;){var l=c[a],u=e[l];u&&(i-=u,n.delete(l),r.push(l)),a++}return{buttonsToRender:n,buttonsToMerge:r}}({Account:44,QuickSwitch:44,StorageWarning:rq(r.isAuthenticated)?44:0,BeneficiaryAnnouncement:r.isBeneficiary?44:0,ADPAnnouncement:r.isADP?44:0,Feedback:/^(carry|beta|future|sprinkles)\.icloud\.com$/.test(window.location.hostname)?44:0,Create:44,WhatsNew:d.length?44:0},g),v=m.buttonsToRender,y=m.buttonsToMerge;return Re.createElement(Re.Fragment,null,v.has("WhatsNew")&&Re.createElement("div",{className:Be()("new-features-wrapper","notes3"===(null==o?void 0:o.authBagId)&&"notes-tint")},Re.createElement(Gp,{onActivate:function(){var e;if(o){var t=o.version,n=o.authBagId;rQ().showWhatsNew(d,t,{appTitle:a,color:null!=(e=o.color)?e:c,isAutoDisplaying:!1,authBagId:n})}},className:"new-features",ariaLabel:aQ("CloudOSToolbar.ActionButtons.WhatsNew.Label"),ariaHasPopup:"dialog",variant:u?"push primary":"block primary"},u?Re.createElement(uQ,{height:22,width:22}):aQ("CloudOSToolbar.ActionButtons.WhatsNew.Label"))),v.has("StorageWarning")&&Re.createElement(HQ,{navbarState:r}),v.has("Feedback")&&Re.createElement(Gp,{onActivate:function(){Xm(r.feedbackUrl,{target:"_none"})},ariaLabel:aQ("CloudOSToolbar.ActionButtons.Feedback.Label")},Re.createElement(hQ,{height:20,width:20,"aria-hidden":!0})),v.has("ADPAnnouncement")&&Re.createElement(LQ,{navbarState:r}),v.has("BeneficiaryAnnouncement")&&Re.createElement(PQ,{navbarState:r}),v.has("Create")&&Re.createElement(UQ,{navbarState:r}),v.has("Overflow")&&Re.createElement(zQ,{buttonsToMerge:y,navbarState:r,whatsNewOptions:{appTitle:a,features:d,version:null!=(n=null==o?void 0:o.version)?n:0}}),v.has("QuickSwitch")&&Re.createElement(xQ,{navbarState:r,ref:l}),v.has("Account")&&Re.createElement(DQ,{navbarState:r}))}function oq(e){var t=e.appTitle,n=e.appAccentColor,r=void 0===n?"#0071EB":n,i=Object(wu.b)(),a=sq(t||"",i),o=Re.useRef(null),s=Re.useState(void 0),c=s[0],l=s[1],u=Re.useCallback((function(){var e,t,n=null==(e=o.current)||null==e.getBBox||null==(t=e.getBBox())?void 0:t.width;null!=n&&l(n)}),[l]);return Re.useEffect((function(){return QQ(u)}),[u]),Re.useLayoutEffect((function(){var e;return requestAnimationFrame(u),null==(e=document.fonts)||e.addEventListener("loadingdone",u),function(){var e;null==(e=document.fonts)||e.removeEventListener("loadingdone",u)}}),[u]),Re.createElement("svg",{ref:o,"aria-label":t,role:"presentation",height:"43",width:c,className:"app-name "+(a&&"kern-safe")},Re.createElement("text",{fill:r,x:"0",y:"29","data-testid":"app-name"},t))}var sq=function(){var e=new Set("ca cs da de en es fi fr hr hu id is it ms nb nl nn pl pt ro sk sv tr".split(" ")),t=/^[a-zA-Z0-9\s-\u2013\u2014:;.,?!\xbf/\\\u2026\u203d\u201c\u201d\u2018\u2019'"()[\]\xab\xbb]*$/;return function(n,r){if("string"!==typeof n)return!1;if("string"===typeof r){var i=(r=r.toLowerCase()).indexOf("-"),a=-1===i?r:r.substring(0,i);if(e.has(a))return!0}return t.test(n)}}();function cq(e){var t=e.onClickLogo,n=void 0===t?function(){}:t,r=e.isDarkLogo,i=e.isCNDomain;return Re.createElement("div",{className:"icloud-logo"},Re.createElement("a",{href:"/","aria-label":oQ("CloudOSToolbar.ICloudLogo.Label"),onClick:function(e){e.preventDefault(),e.stopPropagation(),n()}},i?Re.createElement(yQ,null):r?Re.createElement(vQ,null):Re.createElement(mQ,null)))}var lq,uq,dq=window.location.hostname.endsWith(".cn"),hq=!1,fq=async function(){var e=await Promise.all([new Promise((function(e){lq=function(t){e(t),lq=void 0}})),new Promise((function(e){uq=function(t){e(t),uq=void 0}}))]),t=e[0];if(e[1]){var n,r,i,a=await rQ().showWhatsNew(t.whatsNew.newFeatures,t.whatsNew.version,{appTitle:null!=(n=t.appTitle)?n:"",color:null!=(r=null!=(i=t.whatsNew.color)?i:t.appAccentColor)?r:"",isAutoDisplaying:!0,authBagId:t.whatsNew.authBagId});return null==t.onResolve||t.onResolve(a),a}return{wasDisplayed:!1,shouldShowButton:await rQ().getWhatsNewButtonVisibility(t.whatsNew.authBagId,t.whatsNew.version)}}();function pq(e){var t=e.appAccentColor,n=e.appSwitcherButtonRef,r=e.appTitle,i=e.className,a=e.type,o=e.whatsNew,s=e.canAutoDisplayWhatsNew,c=e.onWhatsNewResolve,l=rQ(),u=Object(bd.h)(l.state),d=Object(bd.h)(l.showWhatsNewButton);return Re.useEffect((function(){if(!hq){if(void 0===o)return;hq=!0,null==lq||lq({appTitle:r,appAccentColor:t,whatsNew:o,onResolve:c}),void 0!==s&&void 0!==uq&&void 0!==fq&&(uq(s),fq=void 0)}}),[t,r,c,o,l,s]),Re.createElement("header",{className:Be()("cloudos-toolbar",a,dq&&"cn",i)},Re.createElement(cq,{isCNDomain:dq,onClickLogo:l.navigateToHomePage,isDarkLogo:"app"===a||"login"===a||"page"===a}),r&&Re.createElement(oq,{appTitle:r,appAccentColor:t}),void 0!==u&&Re.createElement(Re.Fragment,null,Re.createElement(iq,{navbarState:u,appTitle:r,whatsNewButton:d?o:void 0,appAccentColor:t,appSwitcherButtonRef:n})))}var gq=function(e){return function(t,n,r){if(0!==n||0!==r)for(var i=t;i;){var a=Math.max(0,e(i.sharedByMeCount||0,n||0)),o=Math.max(0,e(i.sharedToMeCount||0,r||0));Object.assign(i,{sharedByMeCount:a,sharedToMeCount:o}),i=i.parent}}},mq=gq((function(e,t){return e+t})),vq=gq((function(e,t){return e-t})),yq={destByMeChange:0,destToMeChange:0,sourceByMeChange:0,sourceToMeChange:0},_q=p$.swatches.light["glyph-blue"].rrggbb(),bq=function(){return Re.createElement(pq,{type:"app",appTitle:f$("BR.Application.Title"),appAccentColor:_q,whatsNew:void 0})},wq=lp.extend({initialSource:dp.renderProperty({defaultValue:m.tab}),_sourceRootModelsKeepAliveHole:v.g({defaultValue:function(){return[Rf.find(Hu),Rf.find(Gu)]},didChange:function(e){var t=this;e.forEach((function(e){null==e||e.retain(t,"sidebar contents kept alive forever"),null==e||e.content.loadAllContent().then((function(){e.content.startRemoteSynchronization(),e.content.stopRemoteSynchronization=function(){}}))}))}}),favorites:v.g({didChange:function(e){var t;null==(t=this._prevFavs)||t.forEach((function(e){e.content.__stowed__srs&&(e.content.stopRemoteSynchronization=e.content.__stowed__srs),e.content.__stowed__srs=void 0,e.content.stopRemoteSynchronization()})),(null==e?void 0:e.length)<=5&&(null==e||e.forEach((function(e){e.content.loadAllContent().then((function(){e.content.startRemoteSynchronization(),e.content.__stowed__srs=e.content.stopRemoteSynchronization,e.content.stopRemoteSynchronization=function(){}}))}))),this._prevFavs=e}}),activeUploadTransactionsCount:dp.renderProperty(_.c("fileSystem.uploadFilesService.activeTransactionsCount")),uploadingItemIds:dp.renderProperty({readOnly:!0,dependencies:["fileSystem._activeTransactions","fileSystem._activeTransactions.contentsDidChange"],get:Object.assign((function(){var e=[];return this.fileSystem._activeTransactions.forEach((function(t){null!=t.stagedFile&&e.push(t.stagedFile.id)})),e}),{__CW__getter:function(e,t,n,r){var i=[];return r.internalGetPath(this,t[0+n]).forEach((function(e){null!=e.stagedFile&&i.push(e.stagedFile.id)})),i}})}),session:v.g(),fetchService:null,raiseAlertService:v.g(),isDraggingOver:dp.renderProperty(),driveItemCaches:dp.renderProperty((function(){return wd})),isMailServiceActive:dp.renderProperty((function(){return ic("mail")&&sc.sharedInstance.isWebServiceActive("mail")})),recentsResult:dp.renderProperty(),currentWorkingDirectoryId:dp.renderProperty(_.c("session.currentWorkingDirectory.id")),storageQuota:dp.renderProperty(_.c("fileSystem.quotaData")),latestTempIdToPermIdChange:dp.renderProperty(),cancelUpload:function(e){var t=qh.find(e);this.uploadFilesService.cancelUploadForFile(t)},onUserCommittedRename:function(e,t){var n=this,r=this.createFolderCommitFnsMap[e];if(r){var i=this.fileSystem.getItemById(e),a=this._getFileNameValidationResult(i,t);this.currentCreateFolderFlowId===e&&(this.currentCreateFolderFlowId=null),delete this.createFolderCommitFnsMap[e];var o=a.ok?t:void 0;Promise.resolve().then((function(){return r(o)})).then((function(t){if(t.ok){var r=t.data;Object.keys(r).forEach((function(e){setTimeout((function(){n.latestTempIdToPermIdChange={tempId:e,permId:r[e]}}))}))}else n.latestTempIdToPermIdChange={tempId:e,permId:null}}))}else this.renameItem(e,t)},_getFileNameValidationResult:function(e,t){var n=this,r=this.session.validateRenameItem(e,t);return r?(setTimeout((function(){n.raiseAlertService.raiseAlertForErrorItem(r)})),eu.failedResult()):eu.okResult()},onNewFolder:function(){var e=this.session.currentWorkingDirectory,t=this.fileSystem,n=this.raiseAlertService,r=function(e){var t=e.folder,n=e.fileSystem,r=e.session,i=e.loggingService,a=e.raiseAlertService;t&&t.isSharedDirectlyOrIndirectly&&i.recordStat("AttemptedFolderCreateInSharedFolder",{dest_isChainedToParent:t.isChainedToParent?"true":"false",dest_isSharedByMe:t.isSharedByMe?"true":"false",dest_isSharedToMe:t.isSharedToMe?"true":"false",dest_isSharedDirectly:t.isSharedDirectly?"true":"false",dest_isSharedIndirectly:t.isSharedIndirectly?"true":"false"});var o=function(e){for(var t=2,n=Nu("FilesGrid.Default.FolderName.NotNumbered");e.content.hasItemMatchingName(n);)n=Nu("FilesGrid.Default.FolderName.Numbered",{number:t}),t++;return n}(t),s=new i$(n,n,t.id,o,wd,n.driveWebService),c=s.stagedFolder;return{id:c.id,commit:function(e){var n;return e&&e!==c.name&&(c.name=e,null==(n=c.parent)||n.content.updateItem(c)),s.createFolderCommit().then((function(e){if(e.failed){var n=e.data[0].details,o=n.isDestinationFolderSharedToMe,s=n.conflictType;!o||"DestinationInvalid"!==s&&"DestinationDeleted"!==s||SG(t,r),i.recordStat("FailedToCreateFolder",{op:"create_folder",conflictType:s,dest_isChainedToParent:(c=t.isChainedToParent,String(!!c))}),o$(e.data,a)}var c;return e}))},stagedFolder:c}}({folder:e,fileSystem:t,session:this.session,loggingService:t.loggingService,raiseAlertService:n}),i=r.id,a=r.commit;this.currentCreateFolderFlowId=i,this.createFolderCommitFnsMap[i]=a},duplicateFile:function(e,t){return function(e,t,n,r){var i=wd.driveItemCache.read(e);if(!i||"FILE"!==i.type)return n.recordStat("Perform Duplicate Item: File for driveWsId not found"),null;if(!i.item_id)return n.recordStat("Perform Duplicate: no item_id found"),null;var a=i.parentId&&Rf.find(i.parentId);if(!a){var o=qh.find(i.id);if(!o)throw new Error("Perform Duplicate: Item to be duplicated not found in store.");a=o.parent}if(!a)return n.recordStat("Create Temp Item For Duplicate: No parentId for item"),null;var s=qh.createPlaceholder(),c=new Date,l=new Date,u=(i.id,i.name,i.isInTrash,i.dateModified,i.lastOpenTime,function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(i,CT)),d=function(e,t,n){var r=2,i=e,a=e.match(/(.*?)(\s([1-9]\d*)$|$)/);a&&a[1]&&a[3]&&!isNaN(parseInt(a[3]))&&parseInt(a[3])>1&&(r=parseInt(a[3])+1,i=a[1]);for(var o=i+" "+r;n.hasFileWithNameAndExtension(o,t);)o=i+" "+r,r++;return o}(i.name,i.extension,a.content);Object.assign(s,Object.assign({name:d,dateModified:c,lastOpenTime:l},u)),a.content.addItem(s);var h=wd.driveItemCache.read(s.id);if(!h)throw new Error("Create Temp Item For Duplicate: Item was added to local store but was not in cache");IT(wd,[h],"Committing");var f=async function(e,t,n,r,i,a){if(!e.item_id)throw new Error("runDuplicateQuery: no item id found for file.");var o=await r.duplicate(e.item_id,e.zone,a);if(o.ok){var s=o.value,c=s.drivewsid;qh.replacePrimaryKeyInStore(t.id,s.drivewsid);var l=!1;s.lastOpenTime||(s.lastOpenTime=new Date,l=!0),ST([s],i);var u=qh.find(s.drivewsid);if(!u)throw new Error("runDuplicateQuery: item with new id not found in store.");if(n.content.updateItem(u),l){var d=Date.now();r.updateDocument(u,{document_id:s.docwsid,lastOpenedTime:d,command:"modify_file"})}var h=wd.driveItemCache.read(s.drivewsid);if(!h)throw new Error("runDuplicateQuery: new item id was not found in cache after adding to store.");return IT(wd,[h],"Prepared"),c}return n.content.removeItem(t),null}(i,s,a,t,n,r);return{newFileTempId:s.id,newFilePermIdPromise:f}}(e,this.docWebService,this.loggingService,t)},onTrashSelection:function(e){var t=this.session,n=this.raiseAlertService;CG(Iq(e),t,n)},onEmailSelection:function(e){this.composeEmailService.emailSelection(Iq(e))},downloadItems:function(e){!function(e,t,n,r,i){if(e.size>0){var a=[];e.forEach((function(e){return e&&a.push(t.getURLForItem(e))})),Promise.all(a).then((function(e){e.filter((function(e){return e.ok})).map((function(e){var t;return null==e||null==(t=e.data)?void 0:t.item})).forEach((function(e){return i.updateDocument(e,{document_id:e.docwsid,lastOpenedTime:Date.now(),command:"modify_file"})}));var t=e.filter((function(e){return e.ok})).map((function(e){return e.data.url}));return e.filter((function(e){return!e.ok})).map((function(e){return e.data})).forEach((function(e){var t="DocumentDeletedException"===e.errorCode?TG.RequestedItemWasDeletedError:TG.GenericDownloadError,n=VH.create(t,BH.create(e.item));r.raiseAlertForErrorItem(n)})),n.downloadFromURLs(t.map((function(e){return e})))}))}}(Iq(e),this.itemURLService,this.downloadService,this.raiseAlertService,this.docWebService)},shareItem:function(e){var t,n,r=this,i=this.session,a=this.iconService,o=this.loggingService,s=this.showcaseViewPool,c=this.thumbnailCanvasFactory,l=this.thumbnailStatsReporterService,u=this.itemSharingServiceFactory;t=qh.find(e)||Rf.find(e),n={loggingService:o,session:i,iconService:a,showcaseViewPool:s,thumbnailCanvasFactory:c,thumbnailStatsReporterService:l,itemSharingServiceFactory:u,navigateToItem:function(e,t){r.changeDirectoryAndGoToItem(e,t),r.initialSource="browse"}},XK(t)&&!t.sharedFolderFromHierarchy?function(e,t){var n=e.sharedByMeCount;e.sharedToMeCount>0?Jf.a.show({iconNames:"iclouddrive",message:Sr.d("DriveUI.FilesGrid.Error.ShareFolder.Message.SharedToMe"),description:Sr.d("DriveUI.FilesGrid.Error.ShareFolder.Description.SharedToMe"),primaryButton:{title:Sr.d("DriveUI.Common.Button.OK"),isPrimary:!0}}):n>0?Jf.a.show({iconNames:"iclouddrive",message:Sr.d("DriveUI.Alert.Share.Folder.Message.SharedByMe"),description:Sr.d("DriveUI.Alert.Share.Folder.Description"+(1===n?".Single":".Multiple")+".Item.SharedByMe"),alternateButton:{ariaLabel:Sr.d("DriveUI.FilesGrid.Default.Share"),title:Sr.d("DriveUI.FilesGrid.Default.Share"),action:"handleAlternateButton",isAlternate:!0,isDestructive:!0},primaryButton:{title:Sr.d("DriveUI.Common.Cancel"),isPrimary:!0},handleAlternateButton:function(){JK(e,t)}}):JK(e,t)}(t,n):JK(t,n)},onShareRecordUpdated:function(e,t){var n=qh.find(e)||Rf.find(e);if("deleted"===t){var r=n.isFile?n.parent:n;r&&vq(r,1,0)}else if("added"===t){var i=n.isFile?n.parent:n;i&&mq(i,1,0)}},updateDriveItemInCache:function(e,t){this.onShareRecordUpdated(e,t);var n=qh.find(e)||Rf.find(e);return Vf.create(this.fileSystem,[{id:n.id,shareID:n.shareIDFromHierarchy}],{trace:"4"}).run(this.fileSystem.driveWebService)},shareFolder:function(e){return Promise.resolve()},uploadFiles:async function(e,t){var n=this,r=await this.session.uploadFiles(null!=e?e:[],Rf.find(t),void 0,(function(e){n.raiseAlertService.raiseAlertForErrorItem(e[0])}));null==r||r.forEach((function(e){var t=null==e?void 0:e.data,r=null==t?void 0:t.infoItems;if(r&&r.length>0){var i=r[0],a=i.itemID,o=i.tempId;null!=e&&e.ok?setTimeout((function(){n.latestTempIdToPermIdChange={tempId:o,permId:a}})):setTimeout((function(){n.latestTempIdToPermIdChange={tempId:o,permId:null}}))}}))},formatNumberToRegionalString:dp.renderProperty((function(){return WH})),onRecoverSelectionFromTrash:function(e){null!=e&&e.size&&this.performPutFilesBackFromTrash(Array.from(Iq(e)))},onRecoverAllFromTrash:function(){this.performPutFilesBackFromTrash(Array.from(this.session.currentWorkingDirectory.content.visibleContent))},onPurgeSelectionFromTrash:function(e){null!=e&&e.size&&this.purgeDeletedItemsButtonPressed(Iq(e))},onPurgeAllFromTrash:function(){this.purgeDeletedItemsButtonPressed()},currentFolderContent:v.g(_.c("session.currentWorkingDirectory.content")),currentWorkingDirectoryResult:dp.renderProperty({readOnly:!0,dependencies:["currentFolderContent","currentFolderContent.hasLoadedContent","currentFolderContent.hasError","currentFolderContent.allContent","currentFolderContent.allContent.contentsDidChange","currentCreateFolderFlowId","latestTempIdToPermIdChange"],get:Object.assign((function(){var e=this.currentFolderContent,t=e.allContent.toArray().map((function(e){return e.id}));return null!=e&&e.hasLoadedContent?e.hasError?{ok:!1,error:""}:{ok:!0,value:t}:void 0}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]),a=i.allContent.toArray().map((function(e){return e.id}));return null!=i&&i.hasLoadedContent?i.hasError?{ok:!1,error:""}:{ok:!0,value:a}:void 0}})}),shareRecordWatchHandle:null,startWatchingShareRecord:function(){null===this.shareRecordWatchHandle&&(this.shareRecordWatchHandle=PH(this.session.currentWorkingDirectory,this.itemSharingServiceFactory))},stopWatchingShareRecord:function(){var e;e=this.shareRecordWatchHandle,AH.stopWatchingShareRecord(e),this.shareRecordWatchHandle=null},currentShareId:v.g(null),shareObserver:v.h("session.currentWorkingDirectory.shareID",(function(e){var t=this.currentShareId;e?t?t.recordName===e.recordName&&t.shareName===e.shareName&&t.zoneID.zoneName===e.zoneID.zoneName&&t.zoneID.ownerRecordName===e.zoneID.ownerRecordName||(this.stopWatchingShareRecord(),this.currentShareId=e,this.startWatchingShareRecord()):(this.currentShareId=e,this.startWatchingShareRecord()):(this.currentShareId=null,this.stopWatchingShareRecord())})),previousRecentIds:new Set,recentsObserver:v.h("recentsResult",(function(e){var t=this;if(e&&e.ok&&(e.value.recentsIds.length!==this.previousRecentIds.size||!e.value.recentsIds.every((function(e){return t.previousRecentIds.has(e)})))){var n=new Set(e.value.recentsIds);Array.from(this.previousRecentIds).forEach((function(e){return n.delete(e)})),this.previousRecentIds=new Set(e.value.recentsIds),this.fileSystem.retrieveAndLoadHierarchyForItems(Array.from(n),(function(e){return PH(e,t.itemSharingServiceFactory)}))}})),horizontalSizeClass:dp.renderProperty({readOnly:!0,dependencies:[dt.bindingFor("application.sizeClassHorizontal")],get:Object.assign((function(){var e;return(null==(e=dt.application)?void 0:e.sizeClassHorizontal)===_c.COMPACT?"compact":"regular"}),{__CW__getter:function(e,t,n,r){return r.internalGetPath(this,t[0+n])===_c.COMPACT?"compact":"regular"}})}),primaryInteractionMode:dp.renderProperty(dt.bindingFor("application.primaryInteractionMode")),isKvsLoaded:dp.renderProperty(dt.bindingFor("application.isKvsLoaded")),preferencesStore:dp.renderProperty({readOnly:!0,dependencies:[dt.bindingFor("application.preferencesStore"),"isKvsLoaded"],get:Object.assign((function(){var e=dt.application.preferencesStore,t=dt.application.applicationName||"iclouddrive";return{getPreferences:function(){return e.getPreferences(t)||{}},setPreferences:function(n){var r=e.getPreferences(t),i=Object.assign({},r,n);e.setPreferences(t,i)}}}),{__CW__getter:function(e,t,n,r){var i=r.internalGetPath(this,t[0+n]),a=dt.application.applicationName||"iclouddrive";return{getPreferences:function(){return i.getPreferences(a)||{}},setPreferences:function(e){var t=i.getPreferences(a),n=Object.assign({},t,e);i.setPreferences(a,n)}}}})}),recentsItemLink:void 0,browseItemLink:void 0,scrollToAndSelectRecentsItemLink:function(e){this.recentsItemLink=e.drivewsid},scrollToAndSelectBrowseItemLink:function(e){this.browseItemLink=e.id},navigateToTileItemPathLinkAndSelectTileItemLink:function(e,t){var n=this;return this.session.changeDirectory(e).then((function(r){if(r.ok){if(t){var i=b.a.create();return n.scrollToAndSelectBrowseItemLink(t),i}return eu.okResult([e,t])}return eu.failedResult([e,t])})),this.session.listContents()},render:function(){var e=this,t=function(){var e=Cu();return Re.useMemo((function(){return{dateStyleShortTimeStyleShort:function(e){return Sr.d("DriveUI.FilesGrid.Item.Info.DateTime.Format",{date:e,dateFormatter:zH})}}}),[e])}(),n=this.primaryInteractionMode,r=this.isKvsLoaded,i=this.preferencesStore;return Re.createElement("div",{className:"tab-content mouse-style "+(this.isDraggingOver?"drag-hover":"")},Re.createElement(Ym,{isKvsLoaded:r,preferencesStore:i,driveItemCaches:wd,recentsResult:this.recentsResult,uploadingItemIds:this.uploadingItemIds,currentFolderId:this.currentWorkingDirectoryId,folderResult:this.currentWorkingDirectoryResult,onFavoritesResult:function(t){t.ok&&(e.favorites=t.value.favorites.map((function(e){return Rf.find(e)})))},formatNumberToRegionalString:WH,dsid:yl.defaultInstance.user.dsid,loadItemIntoCWStore:xf,fetchService:this.fetchService,urlForServiceName:ac,isMailServiceActive:this.isMailServiceActive,dateFormatters:t,horizontalSizeClass:this.horizontalSizeClass,pointerPrecision:"MOUSE"===n?"pointer-fine":"pointer-coarse",hasHover:"MOUSE"===n,storageQuota:this.storageQuota,currentCreateFolderFlowId:this.currentCreateFolderFlowId,latestTempIdToPermIdChange:this.latestTempIdToPermIdChange,appMode:"drive",sessionInfo:dt.application.sessionInfo},Re.createElement(bq,null),Re.createElement(bT,{telemetryInfo:void 0,shareFolder:void 0,updateDriveItemInCache:function(t,n){return e.updateDriveItemInCache(t,n)},resetBrowseItemLink:function(){e.browseItemLink=void 0},resetRecentsItemLink:function(){e.recentsItemLink=void 0},resetItemLinkSource:function(){e.initialSource=void 0},browseItemLink:this.browseItemLink,recentsItemLink:this.recentsItemLink,appName:"drive",activeUploadTransactionsCount:this.activeUploadTransactionsCount,uploadingItemIds:this.uploadingItemIds,uploadFiles:function(t,n){return e.uploadFiles(t,n)},cancelUpload:function(t){return e.cancelUpload(t)},initialSource:this.initialSource,launchItem:this.launchItem,clearLaunchItem:function(){e.launchItem=null},currentWorkingDirectoryId:this.currentWorkingDirectoryId,browseFolderId:Hu,getNavBarSubtitleForWidth:function(e,t){return _$(e,"normal normal 500 normal 11px/17.6px system-ui, -apple-system, BlinkMacSystemFont",null!=t?t:1/0)},showOutOfQuotaAlert:function(t){!function(e,t){var n,r,i,a=null==(n=e.dataTransfer)||null==(r=n.files)||null==(i=r[0])?void 0:i.name;a&&t.raiseAlertForErrorItem(VG({type:MG.UploadItem,stagedFile:{fullName:a},commitInfo:{fatalError:{type:jG.OutOfQuota},uncommittedInfoItems:[{}]}})[0])}(t,e.raiseAlertService)},navigateToFolder:function(t){e.currentFolderContent&&e.currentFolderContent.stopRemoteSynchronization(),e.session.changeDirectory(t)},openFile:function(t){return e.openFile(qh.find(t))},onUserCommittedRename:function(t,n){e.onUserCommittedRename(t,n)},moveItems:function(t,n){!function(e,t,n,r,i){var a=n.getItemsByIds(e),o=Rf.find(t);if(!o)throw new Error("Expected a folder for the destinationId");var s=function(e,t){if(t.sharedFolderFromHierarchy&&e.length>0&&!e[0].isSharedIndirectly){var n=cG(e),r=n.fileCount,i=n.folderCount,a=n.sharedByMeCount,o=n.sharedToMeCount,s=n.composition,c=n.totalSharedFolderCount,l=n.fileExtensionTypeHash,u=n.subSharedByMeCount,d=n.subSharedToMeCount,h=n.sharedToMeExtensionsCount,f=n.selectionContainsAmbiguousItems,p=e.length,g={destinationFolderName:t.name},m=bG,v=wG,y=u+d;if("File"===s){var _=function(e,t){var n="";return n=".File",e===t.pages?n=".Document":e===t.keynote?n=".Presentation":e===t.numbers&&(n=".Spreadsheet"),n}(p,l),b="",w="";if(1===p){if(o>0){_+=".SharedToMe.Single",b=Sr.d(m+_,{destinationName:g.destinationFolderName});var S="";return t.isSharedDirectlyOrIndirectly&&(S+=".Generic"),{message:b,description:w=Sr.d(v+".SharedToMe"+S),action:"block"}}if(a>0)return _+=".SharedByMe.Single",{action:"warn",message:b=Sr.d(m+_),description:w=Sr.d(v+".SharedByMe.Single.Second",g)}}else{if(o>0){if(r!==o){_+=".SharedToMe.SomeOfMany",b=Sr.d(m+_,{destinationName:g.destinationFolderName}),w=1===o?Sr.d(v+".SharedToMe.Single"):Sr.d(v+".SharedToMe.Multiple");var E="";return t.isSharedDirectlyOrIndirectly&&(E+=".Generic"),{message:b,description:w+=" "+Sr.d("DriveUI.Alert.Move.Description.SharedToMe"+E),action:"block"}}_+=".SharedToMe.Multiple",b=Sr.d(m+_,{destinationName:g.destinationFolderName});var I=".SharedToMe";return t.isSharedDirectlyOrIndirectly&&(I+=".Generic"),{message:b,description:w=Sr.d(v+I),action:"block"}}if(a>0)return a===r?(_+=".SharedByMe.Multiple",b=Sr.d(m+_),w=Sr.d(v+".SharedByMe.Multiple.Second",g)):(_=".SharedByMe.SomeOfMany",1===a?(b=Sr.d(m+_),w=Sr.d(v+".SharedByMe.Single.First")+" "+Sr.d(v+".SharedByMe.Single.Second",g)):(b=Sr.d(m+_),w=Sr.d(v+".SharedByMe.Multiple.First")+" "+Sr.d(v+".SharedByMe.Multiple.Second",g))),{action:"warn",message:b,description:w}}}else if("Folder"===s){var C=".Folder",O="",T="";if(c>0||y||f){if(c===i){if(o>0){C+=1===o?".SharedToMe.Single":".SharedToMe.Multiple",O=Sr.d(m+C,{destinationName:g.destinationFolderName});var A=t.isSharedDirectlyOrIndirectly?".SharedToMe.Generic":".SharedToMe";return{message:O,description:T=Sr.d(v+A),action:"block"}}return 1===a?(C+=".SharedByMe.Single",T=Sr.d(v+".SharedByMe.Single.Second",g)):(C+=".SharedByMe.Multiple",T=Sr.d(v+".SharedByMe.Multiple.Second",g)),{action:"warn",message:O=Sr.d(m+C),description:T}}if(o>0||d>0){C=(d&&d>0?".Item":".Folder")+".SharedToMe.SomeOfMany",O=Sr.d(m+C,{destinationName:g.destinationFolderName}),T=1===o||1===d?Sr.d(v+".SharedToMe.Single"):Sr.d(v+".SharedToMe.Multiple");var N="DriveUI.Alert.Move.Description.SharedToMe";return t.isSharedDirectlyOrIndirectly&&(N+=".Generic"),{message:O,description:T+=" "+Sr.d(N),action:"block"}}if(a>0||u>0)return C=".SharedByMe.SomeOfMany",1===a||1===u?(O=Sr.d(m+C),T=Sr.d(v+".SharedByMe.Single.First")+" "+Sr.d(v+".SharedByMe.Single.Second",g)):(O=Sr.d(m+C),T=Sr.d(v+".SharedByMe.Multiple.First")+" "+Sr.d(v+".SharedByMe.Multiple.Second",g)),{action:"warn",message:O,description:T};if(f){var M="AmbiguousFolder",D=1===p?"Single":"Multiple",R=1===p?"Single":"SomeOfMany";return{action:"warn",message:O=Sr.d(m+"."+M+"."+D,g),description:T=Sr.d(v+"."+M+"."+R,g)}}}}else if(y>0||a>0||o>0||f){var L,k;if(o>0||d>0){if(o===p){L=Sr.d(m+".Item.SharedToMe.Multiple",{destinationName:g.destinationFolderName});var x="DriveUI.Alert.Move.Description.SharedToMe";t.isSharedDirectlyOrIndirectly&&(x+=".Generic"),k=Sr.d(x)}else{var F=h.folder,P=h.numbers,j=h.pages,U=h.keynote,B=bG+(F===o?".Folder":P===o?".Spreadsheet":j===o?".Document":U===o?".Presentation":"number"===typeof F||"number"===typeof P||"number"===typeof j||"number"===typeof U||0!==d?".Item":".File")+".SharedToMe.SomeOfMany";L=Sr.d(B);var V=wG+".Item.SharedToMe"+(1===o?".OneOfMany":".SomeOfMany");k=Sr.d(V)}return{message:L,description:k,action:"block"}}if(a>0||u>0){var W=a===p,z=W?".Item.SharedByMe.Multiple":".SharedByMe.SomeOfMany",H=W?".SharedByMe.Multiple.Second":1===a?".SharedByMe.OneOfMany":".SharedByMe.SomeOfMany";return{action:"warn",message:L=Sr.d(m+z),description:k=Sr.d(v+H,g)}}if(f)return{message:L=Sr.d(m+".SharedByMe.SomeOfMany"),description:k=Sr.d(v+".AmbiguousFolder.SomeOfMany",g),action:"warn"}}}else if(function(e,t){var n=!1;if(e&&e.length>0&&e[0].sharedFolderFromHierarchy){var r=e[0].sharedFolderFromHierarchy,i=e[0].isSharedIndirectly,a=e[0].path,o=a.indexOf(r),s=a.slice(0,o).map((function(e){return e.id}));n=i&&-1!==s.indexOf(t)}return n}(e,t.id)){var G=cG(e),$=G.composition,K=G.fileCount,Q=G.sharedByMeCount,q=G.sharedToMeCount,Z=G.sharedByMeExtensionsCount,Y=function(e,t,n){var r=n.composition,i=n.filesCount,a=n.sharedByMeCount,o=n.sharedToMeCount,s=n.sharedByMeExtensionsCount,c=n.sharedToMeExtensionsCount,l=n.fileExtensionTypeHash,u=e.length,d=function(e,t,n,r,i){var a="Generic";return 1===e.length?a="Single":e.length>1&&!oG(t,i)?a="Multiple":e.length>1&&(1===n||1===r)&&oG(t,i)?a="OneOfMany":e.length>1&&(n>1||r>1)&&oG(t,i)&&(a="SomeOfMany"),a}(e,r,a,o,{filesCount:i,foldersCount:c.sharedToMeFolderCount+s.sharedByMeFolderCount,spreadsheetsCount:c.sharedToMeNumbersCount+s.sharedByMeNumbersCount,documentsCount:c.sharedToMePagesCount+s.sharedByMePagesCount,presentationsCount:c.sharedToMeKeynoteCount+s.sharedByMeKeynoteCount}),h=function(e,t,n){switch(e){case"File":return function(e,t){var n="";return n="File",t?e===t.pages?n="Document":e===t.keynote?n="Presentation":e===t.numbers&&(n="Spreadsheet"):n="Item",n}(t,n);case"Folder":return"Folder";case"Mix":return"Item";case"Ambiguous":return"AmbiguousFolder";default:return}}(r,u,l),f=iG(e),p=function(e,t){var n=iG(e),r=aG(t);return"SharedToMe"===n&&"SharedByMe"===r?"block":"SharedToMe"!==n||"SharedToMe"!==r||function(e,t){return!!(e&&e.length>0&&e[0].owner&&t&&t.owner)&&e[0].owner.appleId===t.owner.appleId}(e,t)?"warn":"block"}(e,t);return function(e,t,n,r,i,a){return{message:["DriveUI.Alert.Move.Out.Message",n,r,i].filter(Boolean).join("."),description:["DriveUI.Alert.Move.Out.Description",n,r,i].filter(Boolean).join("."),action:a}}(0,0,h,f,d,p)}(e,t,{composition:$,filesCount:K,sharedByMeCount:Q,sharedToMeCount:q,sharedToMeExtensionsCount:G.sharedToMeExtensionsCount,sharedByMeExtensionsCount:Z,fileExtensionTypeHash:G.fileExtensionTypeHash,selectionContainsAmbiguousItems:G.selectionContainsAmbiguousItems});return{action:Y.action,description:Sr.d(Y.description,{destinationFolderName:t.name}),message:Sr.d(Y.message)}}}(a,o);if(s)return function(e){var t=e.action,n=e.message,s=e.description,c={};return"warn"===t&&(c={primaryButton:{title:Nu("DragDrop.Dialog.Move.FileShared.Button.Move"),action:"handlePrimaryButton",isPrimary:!0},alternateButton:{title:Nu("Common.Cancel"),isAlternate:!0},handlePrimaryButton:function(){Sq(a,o,r,i)}}),Jf.a.show(Object.assign({iconNames:"iclouddrive",message:n,description:s,primaryButton:{title:Nu("Common.Button.OK"),isPrimary:!0}},c))}(s);var c=o.zone,l=a.reduce((function(e,t){return t.zone===c?e.allOtherItems.push(t):t.isSharedByMe&&t.isSharedDirectly?e.itemsSharedByMeMovingZones.push(t):e.allOtherItems.push(t),e}),{itemsSharedByMeMovingZones:[],allOtherItems:[]}),u=l.itemsSharedByMeMovingZones,d=l.allOtherItems;if(d.length>0&&Sq(d,o,r,i),u.length>0){var h,f,p=u.length,g=a.length,m=o.isAppLibrary?".In":".Out";if(1===p){var v="DragDrop.Dialog.Move.FileShared.Single.";h=Nu(v+"Title",{fileName:u[0].name}),f=Nu(v+"Message"+m)}else if(p===g){var y="DragDrop.Dialog.Move.FileShared.All.";h=Nu(y+"Title"),f=Nu(y+"Message"+m)}else{var _="DragDrop.Dialog.Move.FileShared.Some.";h=Nu(_+"Title"),f=Nu(_+"Message"+m,{fileCount:p,fileCountTotal:g})}Jf.a.show({iconNames:"iclouddrive",message:h,description:f,primaryButton:{title:Nu("DragDrop.Dialog.Move.FileShared.Button.Move"),action:"handlePrimaryButton",isPrimary:!0},alternateButton:{title:Nu("Common.Cancel"),isAlternate:!0},handlePrimaryButton:function(){Sq(u,o,r,i)}})}}(t,n,e.fileSystem,e.session,e.raiseAlertService)},createNewFolder:function(){return e.onNewFolder()},trashItems:function(t){return e.onTrashSelection(t)},emailItems:function(t){return e.onEmailSelection(t)},duplicateFile:function(t){return e.duplicateFile(t,yl.defaultInstance.user.dsid)},downloadItems:function(t){e.downloadItems(t)},shareItem:function(t){return e.shareItem(t)},recoverItemsFromTrash:function(t){e.onRecoverSelectionFromTrash(t)},recoverAllFromTrash:function(){e.onRecoverAllFromTrash()},purgeItemsFromTrash:function(t){e.onPurgeSelectionFromTrash(t)},purgeAllFromTrash:function(){return e.onPurgeAllFromTrash()},loadSubfolderIds:Eq,subscribeToShareRecord:GH})))},fileSystem:v.g(_.c("session.fileSystem")),uploadFilesService:v.g(_.c("session.fileSystem.uploadFilesService")),launchItem:ag(),changeDirectoryAndGoToItem:function(e,t){var n=this;return this.session.changeDirectory(e).then((function(r){if(r.ok){if(null!=t){var i=b.a.create();return n.launchItem=t.id,i}return eu.okResult([e,t])}return eu.failedResult([e,t])})),this.session.listContents()},trashDetailsService:v.g(_.c("fileSystem.trashDetailsService")),init:function(e,t,n,r,i){this.__s._$B47$init.call(this,Object.assign({},i,{session:t,fetchService:n,raiseAlertService:r})),this.bind("recentsResult",e)},composeEmailService:v.g(),itemURLService:v.g(),iconService:null,showcaseViewPool:null,itemSharingServiceFactory:null,thumbnailCanvasFactory:null,thumbnailStatsReporterService:null,downloadService:v.g(),performPutFilesBackFromTrash:function(e){if(!e.length)throw new Error("performPutFilesBackFromTrash got 0 items!");var t,n,r;t=e,n=this.session,r=this.raiseAlertService,n.putItemsBackFromTrash(t).then((function(e){e.failed&&EG(e,n.currentWorkingDirectory,n,r)}))},purgeDeletedItemsButtonPressed:function(e){!function(e,t,n){var r=e&&e.size?[e,e]:function(e){var t,n=null==e||null==(t=e.currentWorkingDirectory)?void 0:t.content;return n?[n.allContent,n.visibleContent]:[]}(t),i=r[0],a=r[1];if(i&&a){var o=function(e){var t,n,r=cG(e),i=r.fileCount,a=r.folderCount;if(i>0&&a>0)t=Sr.d(sG+"Message.Mix",{count:i+a}),n=Sr.d(sG+"Description.Mix");else{var o=i>0?"File":"Folder",s="File"===o?i:a,c=o+"."+(1===s?"Single":"Multiple");t=Sr.d(sG+"Message."+c,{count:s,name:Array.from(e)[0].name}),n=Sr.d(sG+"Description."+c)}return{message:t,description:n}}(a),s=o.message,c=o.description;Jf.a.show({iconNames:"iclouddrive",message:s,description:c,alternateButton:{title:Sr.d("DriveUI.FilesGrid.Default.Delete"),action:"handleAlternateButton",isAlternate:!0,isDestructive:!0},primaryButton:{title:Sr.d("DriveUI.Common.Cancel"),action:"handlePrimaryButton",isPrimary:!0},handleAlternateButton:function(){var e=i.toArray();t.tombstoneItems(e).then((function(e){e.failed&&EG(e,t.currentWorkingDirectory,t,n)}))},handlePrimaryButton:function(){null==e||e.forEach((function(e){Ed.set(e.id,"Prepared")}))}})}}(null==e?void 0:e.clone(),this.session,this.raiseAlertService)},moveSelectedItemsToTrashKeyPressed:function(){CG(this.currentSelection.clone(),this.session,this.raiseAlertService)},currentCreateFolderFlowId:dp.renderProperty(),createFolderCommitFnsMap:{},filesGridCellPerformContentEditCommitForValue:function(e,t,n){var r=this,i=this.session,a=this.fileSystem,o=this.raiseAlertService;d$({item:t,name:n,session:i,fileSystem:a,raiseAlertService:o,itemWillBeRenamed:function(){return r.scrollToItem(t)}})},openFile:function(e){var t=this;this.openFileService.openFile(e).then((function(e){var n=e.data;if(!e.ok&&n){var r=n.item,i="DocumentDeletedException"===n.errorCode?UH.RequestedItemWasDeletedError:"WSObjectNotFound"===n.errorCode&&r.isSharedToMe?UH.RequestedItemWasUnshared:UH.GenericOpenItemError,a=i===UH.RequestedItemWasDeletedError||i===UH.RequestedItemWasUnshared,o=VH.create(i,BH.create(r));t.raiseAlertService.raiseAlertForErrorItem(o),a&&t.fileSystem.destroyItem(r)}}))},renameItem:function(e,t){var n=qh.find(e)||Rf.find(e);if(!n)throw new Error("renameItem: model not found for given id");d$({item:n,name:t,session:this.session,fileSystem:this.fileSystem,raiseAlertService:this.raiseAlertService,itemWillBeRenamed:function(){}})},__superMap:{_$B47$init:"init"}});function Sq(e,t,n,r){return n.moveItems(e,t).then((function(e){return e.failed&&e.data.forEach((function(e){return r.raiseAlertForErrorItem(e)})),e}))}async function Eq(e){var t=(await Rf.load(e)).content,n=function(e){return e.reduce((function(e,t){return t.isFolder&&e.push(t.id),e}),[])};return t.hasLoadedContent?fg.Result.success(n(t.visibleContent)):await t.loadAllContent().then((function(e){if(e.ok){var t=e.data,r=n(null==t?void 0:t.items);return fg.Result.success(r||[])}return fg.Result.failure({reason:"Failed to load the content of the folder",value:null==e?void 0:e.data})}))}function Iq(e){var t=[];return e.forEach((function(e){return t.push(qh.find(e)||Rf.find(e))})),hg.create(t)}function Cq(e){switch(e.message){case"Failed to fetch":case"NetworkError when attempting to fetch resource.":case"Load failed":return!0;default:return!1}}function Oq(e){switch(e){case 330:case 401:case 421:case 423:case 503:return!0;default:return!1}}function Tq(e){return 200<=e&&e<300}var Aq=/^https:\/\/(?:p\d+-)?(\w+)\./;function Nq(e){return 200*Math.pow(2,e)}var Mq={maxAttempts:5,getRetryWaitTime:Nq,getShouldRetry:function(){}};function Dq(e){var t="function"===typeof Map?new Map:void 0;return Dq=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(Rq())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&Lq(i,n.prototype),i}(e,arguments,kq(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Lq(n,e)},Dq(e)}function Rq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Rq=function(){return!!e})()}function Lq(e,t){return Lq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lq(e,t)}function kq(e){return kq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kq(e)}var xq=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,t)||this).statusCode=n,r.name="HttpStatusCodeError",r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Lq(t,n),r}(Dq(Error)),Fq=["dontReportServerError","getReportStatParams","isCloudKitErrorResponseStatus","isSuccessResponseStatus","reportingMethod","reportingPathname","reportingServiceName","retry","schemaName","schema","shouldReportDetailedStat","useExactRequestUrl"],Pq=function(){function e(e,t,n,r,i){var a=this;this.fetchReportingService=void 0,this.serviceNameForUrl=void 0,this.getDsid=void 0,this.recordPerfStat=void 0,this.clientId=void 0,this.fetchJson=async function(e,t){var n,r=a.parseFetchJsonOptions(t),i=r.nativeOptions,o=r.iCloudOptions,s=r.schemaName,c=r.schema,l=r.getReportStatParams;try{n=await a.internalFetchUnsafe(e,i,{retry:null==o?void 0:o.retry,isSuccessResponseStatus:null==o?void 0:o.isSuccessResponseStatus,useExactRequestUrl:null==o?void 0:o.useExactRequestUrl})}catch(d){return function(e){if(!(e instanceof DOMException)&&!(e instanceof TypeError&&Cq(e)))throw e}(d),{ok:!1,error:d}}var u=await async function(e,t,n,r,i,a,o){var s,c,l=r.status;if(!(null!=(s=null==o?void 0:o(l))?s:Tq(l)))return{ok:!1,error:new xq("Request failed",l),response:r};try{return c=await r.clone().json(),{ok:!0,value:n.parse(c),response:r}}catch(d){var u=Qg.from(d,t);return e("schemaFailure",{schemaName:t,message:u.message,duration:i,attempts:a}),{ok:!1,value:c,error:u,response:r}}}(a.recordPerfStat,s,c,n.response,n.duration,n.attempts,null==o?void 0:o.isSuccessResponseStatus);return a.reportResponse(n,{dontReportServerError:null==o?void 0:o.dontReportServerError,isCloudKitErrorResponseStatus:null==o?void 0:o.isCloudKitErrorResponseStatus,reportingMethod:null==o?void 0:o.reportingMethod,reportingPathname:null==o?void 0:o.reportingPathname,reportingServiceName:null==o?void 0:o.reportingServiceName,shouldReportDetailedStat:null==o?void 0:o.shouldReportDetailedStat},null==l?void 0:l(n.request,n.response,u)),u},this.fetchUnsafe=async function(e,t,n){var r=a.finalizeRequestOptions(t&&Object.assign({},t),n),i=a.finalizeICloudOptions(n&&Object.assign({},n),t),o=await a.internalFetchUnsafe(e,r,i);return a.reportResponse(o,i,null==n||null==n.getReportStatParams?void 0:n.getReportStatParams(o.request,o.response)),o.response},this.configuration=void 0,this.fetchReportingService=e,this.serviceNameForUrl=t,this.getDsid=n,this.recordPerfStat=r,this.clientId=i}var t=e.prototype;return t.parseFetchJsonOptions=function(e){var t=e.dontReportServerError,n=e.getReportStatParams,r=e.isCloudKitErrorResponseStatus,i=e.isSuccessResponseStatus,a=e.reportingMethod,o=e.reportingPathname,s=e.reportingServiceName,c=e.retry,l=e.schemaName,u=e.schema,d=e.shouldReportDetailedStat,h=e.useExactRequestUrl,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Fq),p={dontReportServerError:t,isCloudKitErrorResponseStatus:r,isSuccessResponseStatus:i,reportingMethod:a,reportingPathname:o,reportingServiceName:s,retry:c,shouldReportDetailedStat:d,useExactRequestUrl:h};return{nativeOptions:this.finalizeRequestOptions(Object.assign({},f),p),iCloudOptions:this.finalizeICloudOptions(p,f),schemaName:l,schema:u,getReportStatParams:n}},t.internalFetchUnsafe=async function(e,t,n){var r,i=null==n?void 0:n.retry;if((!0===i||(null==i?void 0:i.maxAttempts))&&(null==t?void 0:t.body)instanceof ReadableStream)throw new Error("Cannot enable retry with streaming request body");if(e instanceof Request){if(void 0!==(null==n?void 0:n.retry)&&e.body)throw new Error("Cannot enable retry with streaming request body");r=new Request(e,t)}else{var a=um(e);r=new Request(!0===(null==n?void 0:n.useExactRequestUrl)?a:this.finalizeRequestUrl(a),t)}var o=null!=n&&n.retry?this.makeRetryingFetch(n,null==t?void 0:t.body):async function(){return{response:await fetch(...arguments),attempts:1}},s=performance.now(),c=await o(r),l=c.response;return{attempts:c.attempts,duration:performance.now()-s,request:r,response:l}},t.configure=function(e){void 0===this.configuration?this.configuration=e:Object.assign(this.configuration,e)},t.finalizeRequestUrl=function(e){var t;return null!=(t=this.configuration)&&t.modifyRequestUrl&&(e=this.configuration.modifyRequestUrl(e)),function(e,t){var n=t.clientId,r=t.dsid;__CW_BUILD_INFO&&"object"===typeof __CW_BUILD_INFO&&(e.searchParams.set("clientBuildNumber",__CW_BUILD_INFO.buildNumber),e.searchParams.set("clientMasteringNumber",__CW_BUILD_INFO.masteringNumber)),e.searchParams.set("clientId",n),r&&e.searchParams.set("dsid",r)}(e,{clientId:this.clientId,dsid:this.getDsid()}),e},t.finalizeRequestOptions=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return null!=(e=this.configuration)&&e.modifyRequestOptions&&(n=null!=(t=this.configuration.modifyRequestOptions(n,r))?t:{}),n},t.finalizeICloudOptions=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!=(t=this.configuration)&&t.modifyICloudOptions?this.configuration.modifyICloudOptions(e,n):e},t.makeRetryingFetch=function(e,t){var n;return null!=(n=this.configuration)&&n.makeRetryingFetch?this.configuration.makeRetryingFetch(e,t):function(n){return async function(e,t,n,r){var i,a,o=Object.assign({},Mq,!0===t?{}:t),s=o.maxAttempts,c=o.getRetryWaitTime,l=o.getShouldRetry,u=async function(){var t,o;try{a=fg.Result.success(await fetch(e))}catch(g){if(!(g instanceof TypeError&&Cq(g)))throw g;a=fg.Result.failure(g)}if(i+1>=s)return 0;var u=l(i,a);if(u instanceof Promise&&(u=await u),void 0!==u&&!u||a.ok&&(null!=(t=null==n?void 0:n(a.value.status))?t:Tq(a.value.status)))return 0;var d=r;if(r instanceof ReadableStream){var h=r.tee();d=h[0],r=h[1]}e=function(e,t){return new Request(e.url,{body:t,cache:e.cache,credentials:e.credentials,headers:e.headers,integrity:e.integrity,keepalive:e.keepalive,method:e.method,mode:e.mode,redirect:e.redirect,referrer:e.referrer,referrerPolicy:e.referrerPolicy,signal:e.signal})}(e,d);var f=c(i,a);f instanceof Promise&&(f=await f);var p=null!=(o=f)?o:Nq(i);await new Promise((function(e){return setTimeout(e,p)}))};for(i=0;0!==await u();i++);if(a.ok)return{response:a.value,attempts:i+1};throw a.error}(n,e.retry,e.isSuccessResponseStatus,t)}},t.reportResponse=function(e,t,n){var r;null!=(r=this.configuration)&&r.reportResponse?this.configuration.reportResponse(e,t,n):function(e,t,n,r,i,a,o,s,c,l){var u,d,h,f,p,g=String(n),m=null!=(u=null!=(d=null==c?void 0:c.reportingServiceName)?d:t(g))?u:function(e){var t,n;return null!=(t=null==(n=e.match(Aq))?void 0:n[1])?t:"unknown"}(g);if(!1!==(null!=(h=null==c||null==c.shouldReportDetailedStat?void 0:c.shouldReportDetailedStat(i))?h:function(e){return function(e){return 421!==e&&(e<200||e>=400)}(e)||Tq(e)||Oq(e)}(i))){var v=null!=c?c:{},y=v.dontReportServerError,_=v.reportingMethod,b=v.reportingPathname;e.responseReceived(Object.assign({httpMethod:_?_+" VIA "+r:r,statusCode:i,hostname:n.hostname,serviceName:m,clientTiming:o,net_uncompressedResponseSize:a,timedOut:!1,attempts:s,urlPath:null!=b?b:n.pathname},y&&{dontReportServerError:y},l),i,g)}else e.responseReceived(null!=l?l:{},i,g);(null!=(f=null==c||null==c.isCloudKitErrorResponseStatus?void 0:c.isCloudKitErrorResponseStatus(i))?f:Oq(i))&&(null!=(p=e.didReceiveCloudKitErrorResponse)?p:e.didReceiveSpecialResponse)(i,{serviceName:m,timeTaken:o})}(this.fetchReportingService,this.serviceNameForUrl,um(e.request.url),e.request.method,e.response.status,function(e){var t=e.headers.get("content-length");if(null!==t){var n=parseInt(t);if(!isNaN(n)&&isFinite(n))return n}}(e.response),e.duration,e.attempts,t,n)},e}(),jq={didReceiveSpecialResponse:function(e,t){ll.sharedInstance.notifySpecialResponseReceived(e,"",t)},responseReceived:function(e,t,n){ll.sharedInstance.notifyResponseReceived(e,t,n,"")}};function Uq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bq(r.key),r)}}function Bq(e){var t=function(e){if("object"!==typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===typeof t?t:String(t)}function Vq(e,t){return Vq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vq(e,t)}var Wq=function(e){var t,n,r,i;function a(){return e.call(this,jq,oc,(function(){var e;return null==(e=yl.defaultInstance.user)?void 0:e.dsid}),(function(){var e;return(e=a.telemetry).recordPerfStat.apply(e,arguments)}),uc.sharedInstance.clientId)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,Vq(t,n),r=a,i=[{key:"sharedInstance",get:function(){var e;return null!=(e=this._sharedInstance)?e:this._sharedInstance=new a}},{key:"telemetry",get:function(){var e;return null!=(e=this._telemetry)?e:this._telemetry=Pc.create()}}],null&&Uq(r.prototype,null),i&&Uq(r,i),Object.defineProperty(r,"prototype",{writable:!1}),a}(Pq);Wq._sharedInstance=void 0,Wq._telemetry=void 0;var zq={mixinDependencies:[$.a],recordStat:G.a.define()},Hq=oe.a.extend(zq,{init:function(){this.telemetry=Pc.create(),this.__s._$BG$init.call(this)},telemetry:null,log:function(e,t,n){return dt.application.processState!==W.TERMINATED?this.telemetry[e](t,n):b.a.resolve()},recordStat:function(e,t){return this.log("recordStat",e,t)},recordStatOnce:function(e,t){return this.log("recordStatOnce",e,t)},recordPerfStat:function(e,t){return this.log("recordPerfStat",e,t)},recordPerfStatOnce:function(e,t){return this.log("recordPerfStatOnce",e,t)},__superMap:{_$BG$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ICloudDriveLoggingService"}}),Gq=mo(),$q=function(){var e=0,t=void 0,n=!1,r=function(){e=0,n=!1};return function(i){(e+=1)>=60&&!n&&function(e){n=!0,e("driveWsLimitBroken",{stack:(new Error).stack})}(i),clearTimeout(t),t=setTimeout(r,1e3)}}(),Kq={maxAttempts:3,getShouldRetry:function(e,t){if(t.ok){var n=t.value;if(503===n.status)return n.clone().json().then((function(e){if(!e||"object"!==typeof e)return!0;var t=e.errorReason;return"RETRY"===t||"THROTTLED"===t||"CROSS_ZONE_MIGRATION_IN_PROGRESS"===t||void 0}),(function(){return!0}))}},getRetryWaitTime:function(e,t){if(t.ok){var n=t.value,r=n.headers.get("retry-after");if(null!==r){var i=parseInt(r);return isNaN(i)?n.clone().json().then((function(e){if(e&&"object"===typeof e){var t=e.errors;if(Array.isArray(t))for(var n=t.length;n--;){var r=t[n];if(r&&"object"===typeof r){var i=r&&parseInt(r.retryAfterSeconds);if("number"===typeof i&&!isNaN(i))return 1e3*i}}}}),(function(){})):1e3*i}}}},Qq="drivews",qq=new Set(["/retrieveSharedItemDetailsInFolders","/retrieveItemDetailsInFolders","/retrieveItemDetails","/retrieveTrashDetails","/createFolders","/deleteItemsInTrash","/deleteItems","/moveItemsToTrash","/moveItems","/renameItems","/shareFolder"]),Zq=new Set(["/retrieveSharedItemDetailsInFolders","/retrieveItemDetailsInFolders","/retrieveItemDetails","/retrieveTrashDetails"]),Yq=function(){function e(e,t,n,r){this.fetchService=e,this.loggingService=t,this.urlForServiceName=n,this.hasWebService=r}var t=e.prototype;return t.post=function(e,t,n,r,i){var a=this;return $q((function(){return a.loggingService.recordStat(...arguments)})),this.sendRequest(e,t,n,r,i,"POST")},t.getUrlForRequest=function(e,t){if(this.hasWebService(Qq)){var n=cm(this.urlForServiceName(Qq,e));if(t)for(var r of Object.entries(t)){var i=r[0],a=r[1];n.searchParams.append(i,a)}return n}return null},t.getOptionsForRequest=function(e,t,n,r){var i,a={method:n,body:JSON.stringify(t),headers:{"Content-Type":"text/plain"},retry:Kq,schemaName:"DriveWebServiceAnyResponse",schema:Gq},o=e.replace(/^\/*/,"/");if(qq.has(o)?(a.reportingPathname=void 0,a.shouldReportDetailedStat=function(){return!0}):a.shouldReportDetailedStat=function(){return!1},r)a.signal=null==(i=AbortSignal)||null==i.timeout?void 0:i.timeout(r);else if(Zq.has(e)){var s;a.signal=null==(s=AbortSignal)||null==s.timeout?void 0:s.timeout(18e4)}return a},t.sendRequest=async function(e,t,n,r,i,a){var o=this.getUrlForRequest(e,i);if(null==o){var s=Qq+": app lost auth token at runtime",c=new Error(s);return c.type=Af.PCSMissing,c.body=null,this.loggingService.recordStat(s),eu.failedResult(c)}var l=o,u=this.getOptionsForRequest(e,t,a,n),d=await this.fetchService.fetchJson(l,u);if(d.ok)return eu.okResult(d.value);var h,f,p=null==(h=d.response)?void 0:h.status;if(void 0!==p)if(p>=500)f=Af.Server;else if(p<400)f=Af.Unknown;else switch(p){case 402:f=Af.AccountNotMigrated;break;case 423:f=Af.PCSMissing;break;case 424:f=Af.PCSInvalid;break;default:f=Af.Client}var g=new Error(Qq+": Request failed for "+a+" "+e);return g.type=f,g.status=null!=p?p:0,g.body=t||null,this.loggingService.recordStat("DriveFS_sendRequestFailed",{service:Qq,method:a,status:p,path:e}),eu.failedResult(g)},e}(),Xq={mixinDependencies:[K],name:"CoreTypesServiceFromChildProtocol",version:"0.0.1",fetchConformingTypes:G.a.define(),fetchIcon:G.a.define()},Jq={mixinDependencies:[K],name:"CoreTypesServiceToChildProtocol",version:"0.0.1",didFetchConformingTypes:G.a.define(),failedToFetchConformingTypes:G.a.define()},eZ=oe.a.extend({mixinDependencies:[ws.a,Xq,Jq,Cc],init:function(){this.__s._$b0$init.call(this),this.configureBidirectionalMessagingChannel(Jq,this,Xq)},fetchConformingTypes:function(e){var t=this._fetchPromise;return t||(t=this._fetchPromise=b.a.create(),this.remoteProxy.fetchConformingTypes(e)),t},fetchIcon:function(e,t,n,r){var i=b.a.create();return this.remoteProxy.fetchIcon(e,t,n,r).then((function(e){var t=Tc(e);t.isOk&&(t.data=e.data),i.resolve(t)})),i},didFetchConformingTypes:function(e){this._fetchPromise.resolve(Oc.okResult(e)),this._fetchPromise=null},failedToFetchConformingTypes:function(){this._fetchPromise.resolve(Oc.failedResult()),this._fetchPromise=null},_fetchPromise:y.c({type:b.a}),__superMap:{_$b0$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CoreTypesServiceConnection"}}),tZ={mixinDependencies:[K],name:"QuotaServiceFromChildProtocol",version:"0.0.1",fetchStorageQuota:G.a.define()},nZ={mixinDependencies:[K],name:"QuotaServiceToChildProtocol",version:"0.0.1",didFetchStorageQuota:G.a.define(),failedToFetchStorageQuota:G.a.define()},rZ=oe.a.extend({mixinDependencies:[ns],mediaKey:y.c({type:String}),displayLabel:y.c({type:String}),displayColor:y.c({type:String}),usageInBytes:y.c({type:Number}),staticMembers:{__QUALIFIED_CLASS_NAME__:"StorageQuotaMedium"}}),iZ=oe.a.extend({mixinDependencies:[ns],appleId:y.c({type:String}),dsid:y.c({type:Number}),id:y.c({type:String}),firstName:y.c({type:String}),fullName:y.c({type:String}),lastName:y.c({type:String}),usageInBytes:y.c({type:Number}),staticMembers:{__QUALIFIED_CLASS_NAME__:"FamilyMemberStorageQuota"}}),aZ=oe.a.extend({mixinDependencies:[ns],mediaKey:y.c({type:String}),displayLabel:y.c({type:String}),displayColor:y.c({type:String}),usageInBytes:y.c({type:Number}),familyMembers:y.c({type:Array,serialization:{collectionObjectType:iZ}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"FamilyStorageQuota"}}),oZ=oe.a.extend({mixinDependencies:[ns],compStorageInBytes:y.c({type:Number}),usedStorageInBytes:y.c({type:Number}),totalStorageInBytes:y.c({type:Number}),commerceStorageInBytes:y.c({type:Number}),staticMembers:{__QUALIFIED_CLASS_NAME__:"StorageUsageInfo"}}),sZ=oe.a.extend({mixinDependencies:[ns],overQuota:y.c({type:Boolean}),haveMaxQuotaTier:y.c({type:Boolean}),almostFull:y.c({type:Boolean,serialization:{propertyName:"almost-full"}}),paidQuota:y.c({type:Boolean}),staticMembers:{__QUALIFIED_CLASS_NAME__:"StorageQuotaStatus"}}),cZ=oe.a.extend({mixinDependencies:[ns],storageUsageByMedia:y.c({type:Array,serialization:{collectionObjectType:rZ}}),storageUsageInfo:y.c({type:oZ}),quotaStatus:y.c({type:sZ}),familyStorageUsageInfo:y.c({type:aZ}),staticMembers:{__QUALIFIED_CLASS_NAME__:"StorageQuota"}}),lZ=oe.a.extend({mixinDependencies:[ws.a,tZ,nZ,Cc],init:function(){this.__s._$CV$init.call(this),this.configureBidirectionalMessagingChannel(nZ,this,tZ)},fetchStorageQuota:function(){var e=this._fetchPromise;return e||(e=this._fetchPromise=b.a.create(),this.remoteProxy.fetchStorageQuota()),e},didFetchStorageQuota:function(e){var t=cZ.deserialize(e);this._fetchPromise.resolve(Oc.okResult(t)),this._fetchPromise=null},failedToFetchStorageQuota:function(){this._fetchPromise.resolve(Oc.failedResult()),this._fetchPromise=null},_fetchPromise:y.c({type:b.a}),__superMap:{_$CV$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"QuotaServiceConnection"}}),uZ={mixinDependencies:[$.a],getConformingTypes:G.a.define(),refreshQuotaData:G.a.define(),isReadyToTerminateDidChange:G.a.define()},dZ=oe.a.extend(uZ,{getConformingTypes:function(e){return eZ.sharedInstance.fetchConformingTypes(e)},refreshQuotaData:function(){return lZ.sharedInstance.fetchStorageQuota().then((function(e){if(e.isOk){var t=e.data;return eu.okResult({overQuota:t.quotaStatus.overQuota,totalStorageInBytes:t.storageUsageInfo.totalStorageInBytes,usedStorageInBytes:t.storageUsageInfo.usedStorageInBytes})}return eu.failedResult(e.data)}))},isReadyToTerminateDidChange:function(e){var t=dt.application,n=yt.a(t)?t.parentProxy:null;yt.a(n)&&n.isReadyToTerminateDidChange(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"ICloudDriveHostService"}}),hZ=oe.a.extend(ws.a,{action:function(e,t){var n=t.get("storeId");return e.isDataForked(n)&&e.resetData(n),b.a.resolve()},staticMembers:{__QUALIFIED_CLASS_NAME__:"HardResetMergeStrategy"}}),fZ=oe.a.extend(ws.a,{action:function(e,t){var n=t.storeId;if(t.changeType===Od.WRITE.DESTROY)return e.deleteData.bind(e,n);var r=t.newData;for(var i in r)e.writeDataProperty(n,i,r[i]);return b.a.resolve()},staticMembers:{__QUALIFIED_CLASS_NAME__:"OverwriteMergeStrategy"}}),pZ=Object(S.b)("TRANSACTION_STATES",(function(e){e("PENDING"),e("ACTIVE"),e("COMPLETED"),e("FAILED"),e("CANCELLED")})),gZ=oe.a.extend(pZ.toStaticMixin(),b.b,v.a,{operation:Object(y.c)(),subtransactions:Object(y.c)(),changes:Object(y.c)(),storeIds:Object(y.c)({readOnly:!0,get:function(){var e=this.changes;if(e)return e.storeIds;var t=this.operation,n=t&&t.type,r=t&&t.operation,i=r&&r.context,a=i&&i.primaryKeys;if(n&&Array.isArray(a)){for(var o=[],s=0,c=a.length;s<c;s++){var l=a[s];o.push(Yd.getStoreIdForPrimaryKey(n,l))}return o}return n&&a?[Yd.getStoreIdForPrimaryKey(n,a)]:void 0}}),status:Object(v.g)(pZ.PENDING),activate:function(){this.status=pZ.ACTIVE},complete:function(e){this.status=pZ.COMPLETED,this.resolve(e)},fail:function(e){this.status=pZ.FAILED,this.reject(e)},cancel:function(e){this.status=pZ.CANCELLED,this.reject(e)},toString:function(){for(var e=this.operation,t=e.type.toString();e=e.operation;)t+=": "+e.type.toString();return t},staticMembers:{__QUALIFIED_CLASS_NAME__:"Transaction"}}),mZ=n(1588),vZ={},yZ=[],_Z=hg.extend(mZ.a,{_array:Object(Me.b)(Array),encodedRawSplice:function(e,t){var n,r,i,a=this._map,o=this._array,s=e+t;for(n=e;n<s;n++)r=o[n],delete a[Object(sg.a)(r)];for(yZ.length=2,yZ[0]=e,yZ[1]=t,s=arguments.length,n=2;n<s;n++)r=arguments[n],i=Object(sg.a)(r),a.hasOwnProperty(i)||(a[i]=e+yZ.length-2,yZ.push(r));return o.splice.apply(o,yZ)},encodedAdd:function(e){var t=Object(sg.a)(e),n=this._map;return!n.hasOwnProperty(t)&&(n[t]=this._array.push(e)-1,!0)},encodedRemove:function(e){var t=Object(sg.a)(e),n=this._map;if(!n.hasOwnProperty(t))return!1;var r=n[t];delete n[t];var i=this._array,a=i[r];if(!Object.is(a,e))for(var o=this.get("length"),s=0;s<o;s++){var c=i[s];if(Object.is(c,e)){r=s;break}}return i.splice(r,1),!0},encodedContains:function(e){return hg.prototype.encodedContains.apply(this,arguments)},encodedObjectAt:function(e){return this._array[e]},length:Object(y.c)({readOnly:!1,get:bZ,set:function(e){if(e<0)throw new Xn.a("Invalid length. Must be a positive integer.",{length:e,object:this});var t=this.get("_internalLength"),n=t-e;n>0?this.splice(e,n):n<0&&this.splice(t,0,void 0)}}),_internalLength:Object(y.c)({readOnly:!0,get:bZ}),swap:function(e,t){var n=this.objectAt(t),r=this.objectAt(e);return this.setIndex(e,vZ),this.setIndex(t,r),this.setIndex(e,n),this},staticMembers:{__QUALIFIED_CLASS_NAME__:"OrderedSet"}});function bZ(){return this._array.length}var wZ,SZ=_Z.extend({transactions:Object(y.c)({get:function(){return this._array}}),add:function(e){if(this.__s._$Ah$add.apply(this,arguments)){var t=e.storeIds;if(t)for(var n=this._storeIdSet,r=0,i=t.length;r<i;r++){var a=t[r],o=n[a];o||(o=n[a]=hg.create()),o.add(e)}}},remove:function(e){if(this.__s._$MP$remove.apply(this,arguments)){var t=e.storeIds;if(t)for(var n=this._storeIdSet,r=0,i=t.length;r<i;r++){var a=t[r],o=n[a];o&&(o.remove(e),0===o.length&&delete n[a])}}},containsStoreId:function(e){var t=this._storeIdSet;if(t.hasOwnProperty(e)){var n=t[e];return n&&n.length>0}return!1},getTransactionsForStoreId:function(e){var t=this._storeIdSet;if(t.hasOwnProperty(e)){var n=t[e];return n&&n.toArray()}},_storeIdSet:Object(Me.b)(Object),__superMap:{_$Ah$add:"add",_$MP$remove:"remove"},staticMembers:{__QUALIFIED_CLASS_NAME__:"TransactionList"}}),EZ=oe.a.extend({process:Object(mL.c)(G.a),addTransaction:function(e){return!this.supportsBulkTransactions&&this.isBulkTransaction(e)?this.addTransactions(this.splitTransaction(e)):(this._pendingTransactions.add(e),this._process(),e)},addTransactions:function(e){for(var t=0,n=e.length;t<n;t++)this._pendingTransactions.add(e[t]);return this._process(),e},sendTransaction:function(e){var t=Dd();if(!t)throw new Xn.a("No DataManager to receive transaction.");return e.finally(this._transactionDidFinish.bind(this,e)).catch(yd.a),t.sendTransaction(e),this._transactionsSentDuringProcess.push(e),e},removeTransaction:function(e){return this._transactionsRemovedDuringProcess.push(e),e},cancelTransaction:function(e){return e.cancel(),this._transactionsRemovedDuringProcess.push(e),e},canSendTransaction:function(e){var t=Object(sg.a)(e),n=this._transactionDependencies[t];if(n)for(var r=0,i=n.length;r<i;r++)if(n[r].status!==gZ.COMPLETED)return!1;return!0},linkTransactions:function(e,t){var n=this._transactionDependencies,r=Object(sg.a)(t),i=n[r];i||(i=n[r]=wZ&&wZ.pop()||[]),i.push(e)},splitTransaction:function(e){if(e.status===gZ.ACTIVE)throw new Xn.a("CW.Data.TransactionProcessor#splitTransaction: Can not split a transaction that is already active.",{transaction:e});for(var t=e.changes,n=[],r=0,i=t.length;r<i;r++){var a=qd.create();a.recordChange(t.objectAt(r));var o=gZ.create({changes:a,operation:a.operation});n[r]=o}return b.a.all(n).then((function(t){e.complete(t)}),(function(t){e.fail(t)})),this._transactionsRemovedDuringProcess.push(e),n},splitTransactions:function(e){var t,n=e.length;if(1===n)t=this.splitTransaction(e[0]);else{t=[];for(var r=0;r<n;r++){var i=this.splitTransaction(e[r]);Object(Fd.a)(t,i)}}return t||null},supportsBulkTransactions:Object(y.c)(!0),isBulkTransaction:function(e){var t=e.operation;return t&&t.type===Od.WRITE.BULK},getNetworkStatus:function(e,t){if(!e)throw new Xn.a("CW.Data.TransactionProcessor#getNetworkStatus: No model class provided.",{dataManager:this});if(!t)throw new Xn.a("CW.Data.TransactionProcessor#getNetworkStatus: No primary key provided.",{dataManager:this,modelClass:e});var n=Yd.getStoreIdForPrimaryKey(e,t);return this._activeTransactions.containsStoreId(n)?Vd.ACTIVE.TRANSMITTING:this._pendingTransactions.containsStoreId(n)?Vd.ACTIVE.QUEUED:Vd.IDLE},getActiveTransactions:function(e,t){if(!e)throw new Xn.a("CW.Data.TransactionProcessor#getActiveTransactions: No model class provided.",{dataManager:this});if(!t)throw new Xn.a("CW.Data.TransactionProcessor#getActiveTransactions: No primary key provided.",{dataManager:this,modelClass:e});var n,r=Yd.getStoreIdForPrimaryKey(e,t),i=this._activeTransactions;i.containsStoreId(r)&&(n=i.getTransactionsForStoreId(r).slice(0));var a=this._pendingTransactions;return a.containsStoreId(r)&&(n=n||[]).push.apply(n,a.getTransactionsForStoreId(r)),n},_pendingTransactions:Object(Me.b)(SZ),_activeTransactions:Object(Me.b)(SZ),_transactionsSentDuringProcess:Object(Me.b)(Array),_transactionsRemovedDuringProcess:Object(Me.b)(Array),_transactionDependencies:Object(Me.b)(Object),_process:function(){if(!this._isProcessing){this._isProcessing=!0;var e=this._pendingTransactions,t=this._activeTransactions;this.process(e.transactions,t.transactions),this._isProcessing=!1;var n=this._transactionsSentDuringProcess,r=n.length;if(r>0){for(var i=0;i<r;i++){var a=n[i];e.remove(a),t.add(a)}n.length=0}var o=this._transactionsRemovedDuringProcess,s=o.length;if(s>0){for(var c=0;c<s;c++){var l=o[c];e.remove(l),t.remove(l)}o.length=0}}},_transactionDidFinish:function(e){this._activeTransactions.remove(e),function(e,t){var n=Object(sg.a)(t),r=e[n];Array.isArray(r)&&(r.length=0,(wZ||(wZ=[])).push(r)),delete e[n]}(this._transactionDependencies,e),0!==this._pendingTransactions.length&&this._process()},staticMembers:{__QUALIFIED_CLASS_NAME__:"TransactionProcessor"}}).extend({maximumActiveTransactions:6,prioritizeReads:!1,process:function(e,t){var n=this.maximumActiveTransactions-t.length;if(!(n<=0)){var r;if(this.prioritizeReads){r=[];for(var i=e.length,a=0;a<i&&r.length<n;a++){var o=e[a];o.isRead&&r.push(o)}for(var s=0;s<i&&r.length<n;s++){var c=e[s];c.isRead||r.push(c)}}else r=e.slice(0,n);for(var l=0,u=r.length;l<u;l++)this.sendTransaction(r[l])}},staticMembers:{__QUALIFIED_CLASS_NAME__:"ParallelTransactionProcessor"}}).extend({maximumActiveTransactions:1,prioritizeReads:!0,staticMembers:{__QUALIFIED_CLASS_NAME__:"SerializedTransactionProcessor"}}),IZ=[],CZ={mixinDependencies:[v.a],loadData:function(e,t,n){if(!e)throw new Xn.a("CW.Data.DataManager#loadData: No model class provided.",{dataManager:this});if(!t)throw new Xn.a("CW.Data.DataManager#loadData: No data hash provided.",{dataManager:this,modelClass:e});var r,i,a=qd.create(),o=this._loadedStoreIds;if(Array.isArray(t))for(var s=0,c=t.length;s<c;s++)i=DZ(e,t[s]),r=Yd.getStoreIdForPrimaryKey(e,i),n||(o[r]=!0),a.recordChange(this.createChangeForDataItem(r,t[s],n));else i=DZ(e,t),r=Yd.getStoreIdForPrimaryKey(e,i),n||(o[r]=!0),a.recordChange(this.createChangeForDataItem(r,t,n));return this.merge(a).then(this.didLoadData.bind(this,a))},removeData:function(e,t){if(!e)throw new Xn.a("CW.Data.DataManager#removeData: No model class provided.",{dataManager:this});if(!t)throw new Xn.a("CW.Data.DataManager#removeData: No primary key(s) provided.",{dataManager:this,modelClass:e});var n,r=qd.create();if(Array.isArray(t))for(var i=0,a=t.length;i<a;i++)n=Yd.getStoreIdForPrimaryKey(e,t[i]),r.recordChange(this.createChangeForDataItem(n,null));else n=Yd.getStoreIdForPrimaryKey(e,t),r.recordChange(this.createChangeForDataItem(n,null));return this.merge(r).then(this.didRemoveData.bind(this,r))},didLoadData:function(e){return this.didChangeDataForStoreIds(e.storeIds),e},didRemoveData:function(e){return this.didChangeDataForStoreIds(e.storeIds),e},MergeStrategy:hZ,willMergeData:function(e){return e},didMergeData:function(e){return e},merge:function(e){var t,n,r=this,i=this.getPath("MergeStrategy.sharedInstance"),a=e.length;this.willMergeData(e);var o=[];for(n=0;n<a;n++)t=e.objectAt(n),o.push(i.action(this,t));for(n=0;n<a;n++)t=e.objectAt(n),this.notifyModel(t.storeId,NZ,t);return b.a.all(o).then((function(){return r.didMergeData(e)}))},notifyModel:function(e,t){var n=this._materializedModels,r=n&&n[e];if(r){var i=arguments.length;IZ.length=i+1-2,IZ[0]=r;for(var a=2,o=1;a<i;a++,o++)IZ[o]=arguments[a];t.apply(this,IZ),IZ.length=0}},getNetworkStatus:function(e,t){if(!e)throw new Xn.a("CW.Data.DataManager#getNetworkStatus: No model class provided.",{dataManager:this});if(!t)throw new Xn.a("CW.Data.DataManager#getNetworkStatus: No primary key provided.",{dataManager:this,modelClass:e});var n=this.transactionProcessor;if(!n)throw new Xn.a("CW.Data.DataManager#getNetworkStatus: No transaction processor defined.",{dataManager:this,modelClass:e,primaryKey:t});return n.getNetworkStatus(e,t)},getLoadStatus:function(e,t){if(!e)throw new Xn.a("CW.Data.DataManager#getLoadStatus: No model class provided.",{dataManager:this});if(!t)throw new Xn.a("CW.Data.DataManager#getLoadStatus: No primary key provided.",{dataManager:this,modelClass:e});var n=Yd.getStoreIdForPrimaryKey(e,t);return this._loadedStoreIds[n]?Wd.LOADED:Wd.NOT_LOADED},transactionProcessor:Object(Me.b)(EZ),operationHandlers:Object(Me.b)(Array),getActiveTransactions:function(e,t){if(!e)throw new Xn.a("CW.Data.DataManager#getActiveTransactions: No model class provided.",{dataManager:this});if(!t)throw new Xn.a("CW.Data.DataManager#getActiveTransactions: No primary key provided.",{dataManager:this,modelClass:e});var n=this.transactionProcessor;if(!n)throw new Xn.a("CW.Data.DataManager#getActiveTransactions: No transaction processor defined.",{dataManager:this,modelClass:e,primaryKey:t});return n.getActiveTransactions(e,t)},performOperation:function(e,t){if(!e)throw new Xn.a("CW.Data.DataManager#performOperation: No operation provided.",{dataManager:this});if(Object(ce.a)(e)&&(e={type:e}),t){if(e.context)throw new Xn.a("CW.Data.DataManager#performOperation: Conflict with `context` parameter; `operation` already contains a `context`. You must only provide one context per operation.",{dataManager:this,operation:e});e.context=t}else t=e.context||{};if(!Object(N.a)(t))throw new Xn.a("CW.Data.DataManager#performOperation: context must be of type: object.",{dataManager:this});t.operation=e;var n=this.transactionProcessor;if(!n)throw new Xn.a("CW.Data.DataManager#performOperation: No transaction processor defined.");var r=gZ.create(t),i=this._outstandingTransactions,a=Object(sg.a)(r);return i[a]=r,r.finally((function(){delete i[a]})).catch(yd.a),n.addTransaction(r),r},commit:function(){var e,t=this._changes;if(this._changes=null,t&&t.length){e=this.performOperation(t.operation);for(var n=0,r=t.length;n<r;n++){var i=t.objectAt(n);this._commitChange(i)}}else(e=gZ.create()).complete();return e},commitStoreIds:function(e){var t=this,n=this._changes;if(!n){var r=gZ.create();return r.complete(),r}Array.isArray(e)||(e=[e]);var i=e.map((function(e){return n.removeChangeForStoreId(e)})).filter(yt.a);if(0===i.length){var a=gZ.create();return a.complete(),a}var o=i.reduce((function(e,t){return e.recordChange(t),e}),qd.create()),s=void 0;o.getPath("operation.context")||(s={changes:o});var c=this.performOperation(o.operation,s);return i.forEach((function(e){return t._commitChange(e)})),c},commitPrimaryKeys:function(e,t){var n;return n=Array.isArray(t)?t.map((function(t){return Yd.getStoreIdForPrimaryKey(e,t)})):Yd.getStoreIdForPrimaryKey(e,t),this.commitStoreIds(n)},findHandlerForOperation:function(e){return Jx(e.type,this.operationHandlers)},sendTransaction:function(e){if(!e)throw new Xn.a("CW.Data.DataManager#sendTransaction: No transaction provided.",{dataManager:this});if(e.status===gZ.ACTIVE)throw new Xn.a("CW.Data.DataManager#sendTransaction: Transaction is already active.",{dataManager:this,transaction:e});var t=e.operation,n=this.findHandlerForOperation(t);if(n){e.activate();var r=e.changes;if(r)for(var i=0,a=r.length;i<a;i++){var o=r.objectAt(i);this.notifyModel(o.storeId,MZ)}n.action(t).then(function(t){if(Object(P.a)(t,Zd))this.notifyModel(t.storeId,MZ),t=t.model;else if(Object(P.a)(t,qd))if(1===t.length)t=t.objectAt(0).model,this.notifyModel(t.storeId,MZ);else{for(var n=0,r=t.length;n<r;n++){var i=t.objectAt(n);this.notifyModel(i.storeId,MZ)}t=t.models}e.complete(t)}.bind(this),(function(t){e.fail(t)}))}else{for(var s,c=X.a,l=Ne.a,u=[],d=t;d;)s=c(d.type)?l(d.type):String(d.type),u.push(s),d=d.operation;e.fail("No handler for operation: "+u.join(" > "))}},cancelAllTransactions:function(){this.cancelAllActiveTransactions(),this.cancelAllPendingTransactions()},cancelAllActiveTransactions:function(){AZ(this._outstandingTransactions,"cancel",gZ.ACTIVE)},cancelAllPendingTransactions:function(){AZ(this._outstandingTransactions,"cancel",gZ.PENDING)},failAllTransactions:function(){this.failAllActiveTransactions(),this.failAllPendingTransactions()},failAllActiveTransactions:function(){AZ(this._outstandingTransactions,"fail",gZ.ACTIVE)},failAllPendingTransactions:function(){AZ(this._outstandingTransactions,"fail",gZ.PENDING)},_outstandingTransactions:Object(Me.b)(Object),createChangeForDataItem:function(e,t){var n=Object(M.a)(this._persistenceStore.readData(e));if(t)for(var r in t)this._persistenceStore.writeDataProperty(e,r,t[r]);else this._persistenceStore.deleteData(e);return Zd.create(e,n,t)},_loadedStoreIds:Object(Me.b)(Object),init:function(e){var t=Dd();if(t)throw new Xn.a("CW.Data.DataManager#init: Data manager already exists. Only one data manager can be instantiated.",{existingDataManager:t,erroringDataManager:this});(function(e){var t=vd;e&&e.retain&&e.retain(),vd=e,t&&t.release&&t.release()})(this),this.__s._$8gB$init.apply(this,arguments),this._dataHashes=Object.create(this._persistenceStore._dataHashes)},_persistenceStore:Object(y.c)({readOnly:!0,defaultValue:function(){return Yd.create({MergeStrategy:fZ})}}),_commitChange:function(e){var t=e.storeId,n=e.newData,r=e.modelClass;this.notifyModel(t,MZ);var i=n&&DZ(r,n);null!==i&&void 0!==i&&i!==Yd.getPrimaryKeyForStoreId(t)&&Yd.setPrimaryKeyForStoreId(t,i)},__superMap:{_$8gB$init:"init"}},OZ=["updated","added","removed"],TZ=[];function AZ(e,t,n){for(var r in e){var i=e[r];i.status===n&&i[t]()}}function NZ(e,t){var n=t.newData;if(n){var r=t.diff;if(r){var i=TZ;i.length=0;for(var a=t.modelClass,o=0,s=OZ.length;o<s;o++)for(var c=r[OZ[o]],l=0,u=c.length;l<u;l++){var d=c[l];if(n.hasOwnProperty(d)){var h=a.getKeyForDataKey(d),f=e.get(h),p=void 0;if(Object(P.a)(f,Qd.a)){var g=Object(P.a)(f,ph)||Object(P.a)(f,hh),m=n[d];if(m)if(g){var v=t.originalData,y=Rd.a.fromArrays(v&&v[d],m,e);f.contentsDidChange(y)}else{var _=Object(M.a)(m);_.unshift(f.length),_.unshift(0),f.splice.apply(f,_)}else p=e.getMetadata(h),Object(P.a)(p,ih)&&p.clearCachedValueForObject(e,h)}p=p||e.getMetadata(h),Object(P.a)(p,ih)&&i.push(h)}}ad.a.pause();for(var b=0,w=i.length;b<w;b++)e.propertyChanged(i[b]);e.propertyChanged("loadStatus"),e.propertyChanged("networkStatus"),e.dataDidLoad(),ad.a.resume(),i.length=0}}}function MZ(e){e.propertyChanged("networkStatus")}function DZ(e,t){var n=e.primaryKey;if(!n)throw new Xn.a("CW.Data.DataManager#getPrimaryKeyFromData: Attempted to locate primary key on a model class that does not specify one.",{data:t,modelClass:e});return t[e.getDataKeyForKey(n)]}var RZ=_d.extend({folderID:null,includeHierarchy:!1,init:function(e,t,n){this.__s._$Qj$init.call(this,Object.assign({},n,{folderID:e,fileSystem:t}))},run:function(e){var t=this;return Bf.create(this.fileSystem,this.folderID,{partialData:!0,includeHierarchy:this.includeHierarchy}).run(e).then((function(n){var r=n.data;if(n.ok)return t._completeFolderContentChangeSetQuery(r,e);var i=new Error("Unable to query folder content change set");return i.folderID=t.folderID,i.body=r||null,eu.failedResult(i)}))},_completeFolderContentChangeSetQuery:function(e,t){var n=this,r=e.items,i=e.hierarchy,a=e.folderInfo,o=a.id,s=this.fileSystem.getFolderById(o),c=s&&s.content,l=s.getDataHash(),u={hierarchy:i,folderInfo:a},d=this.fileSystem,h=this._diffFolderContent(l,a,c,r),f=h.filter((function(e){var t=e.value,n=e.action;return!d.itemIsStaged(t)&&(n===Jh.Action.Insert||n===Jh.Action.Update)})).map((function(e){var t={id:e.value.id};return s.isSharedToMe&&(t.shareID=s.shareIDFromHierarchy),t}));return 0===f.length?(h.clear(),u.changes=h,eu.okResult(u)):Vf.create(d,f,{trace:"2"}).run(t).then((function(e){var t=e.data;if(e.ok)return h.forEach((function(e){var n=e.value,r=t.find((function(e){return e.id===n.id}));r?e.value=r:e.action=Jh.Action.Remove})),u.changes=h,eu.okResult(u);var r=new Error("Unable to process folder content change set");return r.folderID=n.folderID,r.body=t||null,eu.failedResult(r)}))},_diffFolderContent:function(e,t,n,r){var i=this,a=LZ.create({remoteFolderDataHash:t,localFolderDataHash:e}),o={},s=n.allContent;return s.forEach((function(e){o[e.id]=e})),r.forEach((function(e){var t=e.id,n=o[t];if(n)n.etag!==e.etag&&a.recordUpdate(e),o[t]=null;else{var r=i.fileSystem.getItemById(t);r&&r.isInTrash||a.recordInsert(e)}})),s.forEach((function(e){o[e.id]&&a.recordRemove(e)})),a},__superMap:{_$Qj$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"FolderContentChangeSetQuery"}}),LZ=Jh.extend({remoteFolderDataHash:y.c(),localFolderDataHash:y.c(),folderWasUnshared:y.c({readOnly:!0,get:function(){var e=this.remoteFolderDataHash,t=this.localFolderDataHash;return t.id===e.id&&t.shareAliasCount>0&&!e.shareAliasCount&&"ID_INVALID"===e.status}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"FolderContentChangeset"}}),kZ=oe.a.extend(ws.a,{action:function(e,t){var n=t.storeId;if(t.changeType===Od.WRITE.DESTROY)e.deleteData(n);else{var r=t.originalData,i=t.newData;if(e.writeData(n,i),r&&i&&void 0===i.isInTrash){var a=r.isInTrash,o=void 0!==a&&a;e.writeDataProperty(n,"isInTrash",o)}i&&("restorePath"in i||e.writeDataProperty(n,"restorePath",null),"share"in i||e.writeDataProperty(n,"share",null),"shareID"in i||e.writeDataProperty(n,"shareID",null))}return b.a.resolve()},staticMembers:{__QUALIFIED_CLASS_NAME__:"OverwriteEntireHashStrategy"}});function xZ(e,t,n){for(var r=[],i=e.length,a=0;a<i;a++){var o=e[a];r.push(FZ(o,t,n))}return r}function FZ(e,t,n){var r=null,i=!1;yt.a(t)&&(r=t.shareIDFromHierarchy,i=t.isSharedToMe);var a={drivewsid:e.id,etag:e.etag};return n&&(a.clientId=n.id),i&&(a.shareID=r),a}function PZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jZ(r.key),r)}}function jZ(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}var UZ=function(){r.create=function(e){return new this(e)};var e,t,n=r.prototype;function r(e){this._infoItems=void 0,this._committedInfoItems=void 0,this._fatalError=void 0,this._cancelled=void 0,this._uncommittedInfoItems=void 0,this._statusToInfoItemMap=void 0,this._fatalError=(null==e?void 0:e.fatalError)||null,this._cancelled=(null==e?void 0:e.cancelled)||!1,this._infoItems=[],this._committedInfoItems=[],this._uncommittedInfoItems=[],this._statusToInfoItemMap={}}return n.hasItemsForStatus=function(e){return!!this._statusToInfoItemMap[e]},n.getItemsForStatus=function(e){return this._statusToInfoItemMap[e]||null},n.addInfoItem=function(e){var t=e.status;if(this._infoItems.push(e),e.status===PG.OK)this._committedInfoItems.push(e);else{this._uncommittedInfoItems.push(e);var n=this._statusToInfoItemMap[t];n||(n=this._statusToInfoItemMap[t]=[]),n.push(e)}},n.addInfoItems=function(e){for(var t=e.length,n=0;n<t;n++)this.addInfoItem(e[n])},n._getIDsFromStatusItems=function(e){for(var t=e.length,n=new Array(t),r=0;r<t;r++)n[r]=e[r].itemID;return n},e=r,(t=[{key:"infoItems",get:function(){return this._infoItems}},{key:"committedInfoItems",get:function(){return this._committedInfoItems}},{key:"uncommittedInfoItems",get:function(){return this._uncommittedInfoItems}},{key:"commitedItemIDs",get:function(){return this._getIDsFromStatusItems(this._committedInfoItems)}},{key:"uncommittedItemIDs",get:function(){return this._getIDsFromStatusItems(this._uncommittedInfoItems)}},{key:"isFullyCommitted",get:function(){return this.hasCommittedItems&&!this.hasUncommittedItems}},{key:"isPartiallyCommitted",get:function(){return this.hasCommittedItems&&this.hasUncommittedItems}},{key:"hasCommittedItems",get:function(){return this._committedInfoItems.length>0}},{key:"hasUncommittedItems",get:function(){return this._uncommittedInfoItems.length>0}},{key:"hasFatalError",get:function(){return!!this._fatalError}},{key:"fatalError",get:function(){return this._fatalError}},{key:"cancelled",get:function(){return this._cancelled}}])&&PZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),r}(),BZ=function(){function e(e){this.fileSystem=void 0,this.clientID=void 0,this.details=void 0,this.status=void 0,this.itemID=void 0,this.tempId=void 0,this.tempId=e.tempId,this.itemID=e.itemID,e.status===PG.ItemModified&&e.details&&!0===e.details.isDeleted?this.status=PG.ItemDeleted:this.status=e.status,this.clientID=e.clientID,this.details=e.details,this.fileSystem=dt.application.fileSystem}e.create=function(e){return new this(e)};var t=e.prototype;return t.hasConflict=function(){switch(this.status){case PG.ItemUnshared:case PG.DestinationInvalid:case PG.DestinationDeleted:case PG.ItemDeleted:case PG.ItemModified:return!0;default:return!1}},t.hasTransactionItemMoved=function(){var e,t=this.fileSystem.getItemById(this.itemID);return!!t&&t.parentId!==(null==(e=this.details)?void 0:e.parentId)},t.getTransactionItem=function(){var e=this.fileSystem,t=this.clientID,n=e.getItemById(this.itemID);return!n&&t&&(n=e.getItemById(t)),n||null},e}();BZ.Status=PG;var VZ=tG.extend({init:function(e,t,n){Object.defineProperties(this,{_items:{value:e},_sourceFolder:{value:t}}),this.__s._$Ga$init.call(this,n)},_path:y.c({readOnly:!0,get:function(){return"deleteItems"}}),startRun:function(e){var t=this,n={items:xZ(this._items,this._sourceFolder)};return e.post(this._path,n).then((function(e){if(e.ok){var n=t.parseResponseData(e.data);return n.isFullyCommitted?eu.okResult(n):eu.failedResult(n)}return e}))},parseResponseData:function(e){for(var t=e.items,n=UZ.create(),r=0,i=t.length;r<i;r++){var a=t[r],o=a.status;delete a.status;var s=BZ.create({itemID:a.drivewsid,status:o,details:a});n.addInfoItem(s)}return n},__superMap:{_$Ga$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DeleteItemsCommitTask"}}),WZ=VZ.extend({_path:y.c({readOnly:!0,get:function(){return"deleteItemsInTrash"}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"PurgeRecentlyDeletedItemsCommitTask"}}),zZ=S.b("BRApp.TransactionStateEnum",(function(e){e("Init"),e("Prepared"),e("Staging"),e("Staged"),e("Commit",(function(e){e("Prepared"),e("Running")})),e("Completed",(function(e){e("Success"),e("Fail")})),e("Cancelled"),e("Finalizing"),e("Finalized")})),HZ=zZ.Init,GZ=zZ.Prepared,$Z=zZ.Staging,KZ=zZ.Staged,QZ=zZ.Commit.Prepared,qZ=zZ.Commit.Running,ZZ=zZ.Completed.Success,YZ=zZ.Completed.Fail,XZ=zZ.Cancelled,JZ=zZ.Finalizing,eY=zZ.Finalized,tY=oe.a.extend(v.a,{staticMembers:{stateEnum:y.c({readOnly:!0,get:function(){return zZ}}),__QUALIFIED_CLASS_NAME__:"Transaction"},type:null,delegate:null,fileSystem:y.c(),isCancelled:y.c({readOnly:!0,get:function(){var e=this.commitInfo;return!!e&&e.cancelled}}),isCancellable:y.c({readOnly:!0,get:function(){switch(this.state){case GZ:case KZ:break;case QZ:case qZ:if(!this.shouldAllowCancelDuringCommit())return!1;break;default:return!1}var e=this.delegate;if(e){var t=e.transactionShouldAllowCancel;if(t&&!t.call(e,this))return!1}return!0}}),state:v.g({readOnly:!0,get:function(){return this._state}}),commitInfo:y.c({readOnly:!0,get:function(){return this._commitInfo}}),transactionItems:y.c({readOnly:!0,get:function(){return this._transactionItems}}),finalized:v.i(),init:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(n,{delegate:t,fileSystem:e}),this.__s._$18V$init.call(this,n),Object.defineProperties(this,{_state:{value:HZ,writable:!0},_transactionItems:{value:[],writable:!0}})},prepare:function(){this._throwFatalErrorIfNotInState(HZ,"Cannot prepare"),this.didStartPreparing(),this._setState(GZ)},stage:function(){this._throwFatalErrorIfNotInState(GZ,"Cannot stage"),this._setState($Z),this.didStartStaging(),this._changeTransactionItemsState("Staged"),this._setState(KZ);var e=this.fileSystem;this._transactionItems.forEach((function(t){e.registerItemAsStaged(t)}))},commit:function(e){var t=this;return this._state===GZ&&this.stage(),this._throwFatalErrorIfNotInState(KZ,"Cannot commit"),this._setState(QZ),this._changeTransactionItemsState("Committing"),this.run(e).then((function(e){var n=e.data;if(e.ok)t.completeCommitWithSuccess(n);else{if(!e.cancelled){t.completeCommitWithFailure(n);var r=VG(t);return eu.failedResult(r)}t.completeCommitWithCancellation(n)}return e}))},cancel:function(){if(!this.isCancellable)throw new au("Cannot cancel. Not allowed",{transaction:this});var e=this._state;e!==GZ&&e!==KZ&&e!==QZ||this.completeCommitWithCancellation()},run:function(){this._throwFatalErrorIfNotInState(QZ,"Cannot run"),this._setState(qZ)},addTransactionItem:function(e){this.transactionItems.push(e)},addTransactionItems:function(e){for(var t=this.transactionItems,n=e.length,r=0;r<n;r++){var i=e[r];t.push(i)}},getTransactionItemsForFullRevert:function(){return[]},shouldAllowCancelDuringCommit:function(){return!1},didStartPreparing:function(){},didStartStaging:function(){},didCancel:function(){},didBeginTransactionItemsStateChange:function(){},didEndTransactionItemsStateChange:function(){},didChangeTransactionStateForItem:function(e,t){},completeCommitWithSuccess:function(e){this._throwFatalErrorIfNotInState(qZ,"Cannot finalize commit with success"),this._setState(ZZ),this._commitInfo=e,this._finalize()},completeCommitWithFailure:function(e){this._throwFatalErrorIfNotInState(qZ,"Cannot finalize commit with failure"),this._setState(YZ);var t=this._createTransactionCommitInfoForFullRevert({fatalError:e});this._commitInfo=t,this._finalize()},cancelled:v.i(),failed:v.i(),completeCommitWithCancellation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||(e={cancelled:!0});var t=null;switch(this._state){case GZ:t=UZ.create(e);break;case KZ:case QZ:case qZ:t=this._createTransactionCommitInfoForFullRevert(e)}this._commitInfo=t,this._setState(XZ),this.didCancel(),this._finalize()},_finalize:function(){switch(this._state){case HZ:case $Z:case eY:case JZ:this._throwFatalInvalidStateError("Cannot finalize")}this._setState(JZ),this._completeFinalizing()},_completeFinalizing:function(){var e=this._commitInfo.infoItems,t=this.delegate;this.willBeginFinalizingItems();for(var n=e.length,r=0;r<n;r++){var i=e[r];switch(i.status){case PG.OK:this.applyChangeForCommitInfoItem(i);break;case PG.Cancelled:this.revertChangeForCommitInfoItem(i),this.cancelled(this);break;default:t&&t.transactionResolveConflictForItem(this,i),this.failed(this)}}this.didEndFinalizingItems(),this._changeTransactionItemsState("Prepared");var a=this.fileSystem;this._transactionItems.forEach((function(e){a.unregisterItemAsStaged(e)})),this._setState(eY),this.didFinalize(),t&&t.transactionDidFinalize(this),this.finalized(this)},didFinalize:function(){},willBeginFinalizingItems:function(){},didEndFinalizingItems:function(){},applyChangeForCommitInfoItem:function(e){},revertChangeForCommitInfoItem:function(e){},_setState:function(e){this._state=e,this.propertyChanged("state")},_changeTransactionItemsState:function(e){var t=this.transactionItems;this.didBeginTransactionItemsStateChange();for(var n=t.length,r=0;r<n;r++){var i=t[r],a=i.id;Ed.set(a,e),this.didChangeTransactionStateForItem(i,e)}this.didEndTransactionItemsStateChange()},_createTransactionCommitInfoForFullRevert:function(e){var t=UZ.create(e),n=PG.OK,r=null;if(t.cancelled)n=PG.Cancelled;else if(t.hasFatalError){var i=t.fatalError.infoItems;if(i&&i.length>0){var a=i[0];n=a.status,r=a.details}else n=PG.FatalError}for(var o=this.getTransactionItemsForFullRevert(),s=o.length,c=0;c<s;c++){var l=o[c],u=BZ.create({itemID:l.id,status:n,details:r});t.addInfoItem(u)}return t},_throwFatalErrorIfNotInState:function(e,t){if(this._state!==e)throw new au(t+". Invalid state",{transaction:this})},_throwFatalErrorIfInState:function(e,t){if(this._state===e)throw new au(t+". Invalid state",{transaction:this})},__superMap:{_$18V$init:"init"}}),nY=tY.extend({init:function(e,t,n,r){Object.defineProperties(this,{_sourceFolder:{value:n[0].parent}}),this.__s._$HH$init.call(this,e,t,Object.assign({},r,{items:n}))},commitTaskClass:y.c({readOnly:!0,type:tG,get:function(){return VZ}}),parents:v.g({dependencies:["items"],readOnly:!0,get:Object.assign((function(){var e={},t=this.items;return t&&t.forEach((function(t){var n=t.parent;if(n){var r=n.id;r in e||(e[r]=[]),e[r].push(t)}})),e}),{__CW__getter:function(e,t,n,r){var i={},a=r.internalGet(this,t[0+n]);return a&&a.forEach((function(e){var t=e.parent;if(t){var n=t.id;n in i||(i[n]=[]),i[n].push(e)}})),i}})}),items:v.g({type:Array}),type:MG.DeleteItems,didStartPreparing:function(){var e=this.parents;for(var t in e){var n=this.fileSystem.getItemById(t);n&&n.prepareForTransaction(this)}this.itemToParentMap=this.getItemToParentIdMap(this.items)},didStartStaging:function(){var e=this.items;this.addTransactionItems(e),e.forEach((function(e){e.parentId=null}));var t=this.parents;for(var n in t){var r=this.fileSystem.getItemById(n);r&&r.content.removeItems(t[n])}},getTransactionItemsForFullRevert:function(){return this.items},getItemToParentIdMap:function(e){var t={};return e&&e.forEach((function(e){var n=e.parent;n&&(t[e.id]=n.id)})),t},run:function(e){this.__s._$xk$run.call(this);var t=this.commitTaskClass.create(this.items,this._sourceFolder);return LG.scheduleTask(t,e)},revertChangeForCommitInfoItem:function(e){var t=this.fileSystem,n=e.itemID,r=t.getItemById(n);if(r){var i=this.itemToParentMap[n];if(i){var a=t.getItemById(i);a&&(r.parentId=a.id,a.content.addItem(r))}}},didFinalize:function(){for(var e in this.parents){var t=this.fileSystem.getItemById(e);t&&t.content.finalizeForTransaction(this)}},__superMap:{_$HH$init:"init",_$xk$run:"run"},staticMembers:{__QUALIFIED_CLASS_NAME__:"TombstoneItemsTransaction"}}),rY=nY.extend({commitTaskClass:y.c({readOnly:!0,type:tG,get:function(){return WZ}}),type:MG.PurgeRecentlyDeletedItems,didStartStaging:function(){var e=this.fileSystem,t=this.parents[e.trashRootFolder.id];this.__s._$HM$didStartStaging.apply(this,arguments),t&&t.length&&e.trashDetailsService.stageShallowCountChangeOf(-t.length)},applyChangeForCommitInfoItem:function(e){var t=e.itemID,n=this.fileSystem;this.itemToParentMap[t]===n.trashRootFolder.id&&n.trashDetailsService.commitShallowCountChangeOf(-1);var r=n.getItemById(t);n.destroyItem(r)},revertChangeForCommitInfoItem:function(e){this.__s._$WZ$revertChangeForCommitInfoItem.apply(this,arguments);var t=this.fileSystem;this.itemToParentMap[e.itemID]===t.trashRootFolder.id&&t.trashDetailsService.unstageShallowCountChangeOf(-1)},__superMap:{_$HM$didStartStaging:"didStartStaging",_$WZ$revertChangeForCommitInfoItem:"revertChangeForCommitInfoItem"},staticMembers:{__QUALIFIED_CLASS_NAME__:"PurgeRecentlyDeletedItemsTransaction"}}),iY=S.b("LocalEditValidationErrorItemType",["DuplicateName","HiddenFile","EmptyName","InvalidName"]),aY=BH.extend({init:function(e,t,n){this.newName=t,this.__s._$8f$init.call(this,e,n)},item:y.c({type:Ph}),newName:y.c({type:"string"}),__superMap:{_$8f$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"LocalEditValidationErrorDetails"}}),oY=VH.extend({type:y.c({type:iY}),details:y.c({type:aY}),staticMembers:{__QUALIFIED_CLASS_NAME__:"LocalEditValidationErrorItem"}}),sY=S.b("UploadValidationErrorItemType",["AccessDenied","IEFolderDropZeroFileCount","BadAppLibraryType","NotCompressed","HiddenFile","BrowserNotSupported","SizeTooBig","Unknown","UnsupportedExtension","SizeTooSmall"]),cY=VH.extend({type:y.c({type:sY}),details:y.c(null),staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadValidationErrorItem"}}),lY=BH.extend({init:function(e,t,n){this.destination=t,this.__s._$JS$init.call(this,e,n)},item:y.c({defaultValue:null}),destination:y.c({type:Rf,defaultValue:null}),meta:null,__superMap:{_$JS$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadValidationErrorDetails"}});async function uY(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=XG(t),o={destinationDrivewsId:a.drivewsid,shareID:a.shareID,items:e.map(YG)},s=await r.post("moveItems",o);if(!0===s.failed)return[[],e.map(ZG)];var c=QG(s.data.items,(function(e){return"OK"===e.status})),l=c[0],u=c[1];if(0===u.length||0===i)return[l,u];var d=e.reduce((function(e,t){return e[t.id]=t,e}),{}),h=QG(u,(function(e){return"ETAG_CONFLICT"===e.status&&d[e.drivewsid].parentId===e.parentId})),f=h[0],p=h[1];if(0===f.length)return[l,u];var g=f.map((function(e){return Object.assign({},d[e.drivewsid],{etag:e.etag})}));return n$([l,p],await uY(g,t,n,r,i-1))}function dY(e,t){var n=e[0].parentId;if(!n)throw new Error("Cannot prepare. Missing source folder id");var r=Rf.find(n);if(!r)throw new Error("Cannot prepare. Missing source folder");var i=Rf.find(t),a=e.map(ET);if(!i)throw new Error("Cannot prepare. Missing destination folder");return r.prepareForTransaction(),i.prepareForTransaction(),{childModels:a,sourceFolderModel:r,destinationFolderModel:i}}function hY(e,t,n){t.content.removeItems(e),n.content.addItems(e);var r=e.reduce((function(e,r){return function(e,t,n,r){var i=null!=r?r:yq;i.destByMeChange=0,i.destToMeChange=0,i.sourceByMeChange=0,i.sourceToMeChange=0;var a=n.isSharedDirectlyOrIndirectly,o=t.isSharedDirectlyOrIndirectly;return e.isSharedDirectly&&e.isSharedByMe?(a||(i.destByMeChange+=1),o||(i.sourceByMeChange-=1)):e.isSharedDirectly&&e.isSharedToMe?(a||(i.destToMeChange+=1),o||(i.sourceToMeChange-=1)):!e.isSharedIndirectly&&e.isFolder&&(i.destByMeChange+=e.sharedByMeCount,i.destToMeChange+=e.sharedToMeCount,i.sourceByMeChange-=e.sharedByMeCount,i.sourceToMeChange-=e.sharedToMeCount),i}(r,t,n,e)}),{destByMeChange:0,destToMeChange:0,sourceByMeChange:0,sourceToMeChange:0});mq(t,r.sourceByMeChange,r.sourceToMeChange),n.isTrashRoot||mq(n,r.destByMeChange,r.destToMeChange)}function fY(e){hY(e.childModels,e.sourceFolderModel,e.destinationFolderModel)}function pY(e,t,n){var r=t.sourceFolderModel,i=t.destinationFolderModel,a=e.map(ET);for(var o of(hY(a,i,r),e)){var s=ET(o);switch(o.status){case PG.DestinationInvalid:case PG.DestinationDeleted:yY(i);break;case PG.ItemUnshared:case PG.ItemDeleted:yY(s);break;case PG.ItemModified:if(!("parentId"in o))break;if(o.parentId!==s.parentId){var c=Rf.find(o.parentId);s.parent.content.removeItem(s),c&&c.content.addItem(s)}ST([o],n)}}}function gY(e){return e.status===PG.ItemModified&&"isDeleted"in e&&!0===e.isDeleted?PG.ItemDeleted:e.status}function mY(e,t){return VG({type:MG.MoveItems,commitInfo:{uncommittedInfoItems:e.map((function(e){return{status:gY(e),getTransactionItem:function(){return ET(e)},hasTransactionItemMoved:function(){return"parentId"in e&&e.parentId!==t.sourceFolderModel.id}}}))},_sourceFolder:t.sourceFolderModel,destinationFolder:t.destinationFolderModel})}function vY(e){var t=e.sourceFolderModel,n=e.destinationFolderModel;t.finalizeForTransaction(),n.finalizeForTransaction()}function yY(e){e.parentId&&e.parent.content.removeItem(e)}var _Y=function(){function e(e){this.items=void 0,this.items=e}return e.prototype.didFinalize=function(){},e}();async function bY(e,t,n,r,i,a){var o=e.loggingService,s=n.map((function(e){var t=i.driveItemCache.read(e);if(!t)throw new Error("moveItems: attempted to move an item ID that wasn't found in the cache.");if("APP_LIBRARY"===t.type)throw new Error("moveItems: cannot move app library");return t})),c=i.driveItemCache.read(r);if(!c)throw new Error("moveItems: attempted to move items to a destination folder not found in the cache.");if("FILE"===c.type)throw new Error("moveItems: destination is a file");IT(i,s,"Prepared");var l="Move item transaction #"+xG()+" (moving "+s.length+" items to "+c.name+")";t._newTransactionDidBegin(l);var u=dY(s,r);fY(u),IT(i,s,"Staged"),IT(i,s,"Committing");var d=await LG.add((function(){return uY(s.map((function(e){return Object.assign({},e,{clientId:e.id})})),c,i,a)})),h=d[0],f=d[1];return ST(h,o),function(e,t){var n=t.destinationFolderModel,r=e.map((function(e){return{originalModel:ET({id:e.clientId}),recreatedModel:ET(e)}}));r.forEach((function(e){var t=e.originalModel,n=e.recreatedModel;t&&t.thumbnailMetadata&&(n.thumbnailMetadata=t.thumbnailMetadata)})),n.content.removeItems(r.map((function(e){return e.originalModel}))),n.content.addItems(r.map((function(e){return e.recreatedModel})))}(h.filter((function(e){return e.drivewsid!==e.clientId})),u),pY(f,u,o),vY(u),IT(i,s,"Prepared"),t._newTransactionDidFinalize(l),f.length>0?eu.failedResult(mY(f,u)):eu.okResult()}async function wY(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=await n.post("moveItemsToTrash",{items:e.map(YG)});if(i.failed)return[[],e.map(ZG)];var a=QG(i.data.items,(function(e){return"OK"===e.status})),o=a[0],s=a[1];if(0===s.length||0===r)return[o,s];var c=e.reduce((function(e,t){return e[t.id]=t,e}),{}),l=QG(s,(function(e){return"ETAG_CONFLICT"===e.status&&c[e.drivewsid].parentId===e.parentId})),u=l[0],d=l[1];if(0===u.length)return[o,s];var h=u.map((function(e){return Object.assign({},c[e.drivewsid],{etag:e.etag})}));return n$([o,d],await wY(h,t,n,r-1))}async function SY(e,t,n,r,i){var a=e.loggingService,o=e.trashDetailsService,s=n.map((function(e){var t=r.driveItemCache.read(e);if(!t)throw new Error("moveItemsToTrash: attempted to move an item ID that wasn't found in the cache.");if("APP_LIBRARY"===t.type)throw new Error("moveItemsToTrash: cannot move app library");return t}));IT(r,s,"Prepared");var c="Move items to trash transaction #"+xG()+" (trashing "+s.length+" items)";t._newTransactionDidBegin(c);var l=dY(s,Gu);fY(l),function(e,t){var n=t.childModels;e.stageShallowCountChangeOf(n.length)}(o,l),IT(r,s,"Staged"),IT(r,s,"Committing");var u=await LG.add((function(){return wY(s.map((function(e){return Object.assign({},e,{clientId:e.id})})),r,i)})),d=u[0],h=u[1];return ST(d,a),pY(h,l,a),vY(l),function(e,t,n){var r=n.childModels,i=e.length;t.unstageShallowCountChangeOf(i),t.commitShallowCountChangeOf(r.length-i)}(h,o,l),function(e){var t=e.childModels;new _Y(t).didFinalize()}(l),IT(r,s,"Prepared"),t._newTransactionDidFinalize(c),h.length>0?eu.failedResult(mY(h,l)):eu.okResult()}async function EY(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=await r.post("moveItemsFromTrash",{destinationDrivewsId:t.id,items:e.map(YG)});if(a.failed)return[[],e.map(ZG)];var o=QG(a.data.items,(function(e){return"OK"===e.status})),s=o[0],c=o[1];if(0===c.length||0===i)return[s,c];var l=e.reduce((function(e,t){return e[t.id]=t,e}),{}),u=QG(c,(function(e){return"ETAG_CONFLICT"===e.status&&l[e.drivewsid].parentId===e.parentId})),d=u[0],h=u[1];if(0===d.length)return[s,c];var f=d.map((function(e){return Object.assign({},l[e.drivewsid],{etag:e.etag})}));return n$([s,h],await EY(f,t,n,r,i-1))}async function IY(e,t,n,r,i,a){var o=e.loggingService,s=e.trashDetailsService,c=n.map((function(e){var t=i.driveItemCache.read(e);if(!t)throw new Error("moveItemsFromTrash: attempted to move an item ID that wasn't found in the cache.");if("APP_LIBRARY"===t.type)throw new Error("moveItemsFromTrash: cannot move app library");return t})),l=i.driveItemCache.read(r);if(!l)throw new Error("moveItems: attempted to move items to a destination folder not found in the cache.");if("FILE"===l.type)throw new Error("moveItemsFromTrash: destination is a file");IT(i,c,"Prepared");var u="Move items from trash transaction #"+xG()+" (trashing "+c.length+" items)";t._newTransactionDidBegin(u);var d=dY(c,r);fY(d),function(e,t){var n=t.childModels;e.stageShallowCountChangeOf(-n.length)}(s,d),IT(i,c,"Staged"),IT(i,c,"Committing");var h=await LG.add((function(){return EY(c.map((function(e){return Object.assign({},e,{clientId:e.id})})),l,i,a)})),f=h[0],p=h[1];return ST(f,o),pY(p,d,o),function(e,t,n){var r=n.childModels,i=e.length;t.unstageShallowCountChangeOf(-i),t.commitShallowCountChangeOf(-(r.length-i))}(p,s,d),vY(d),IT(i,c,"Prepared"),t._newTransactionDidFinalize(u),p.length>0?eu.failedResult(mY(p,d)):eu.okResult()}async function CY(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i={items:e.map(e$)},a=await n.post("putBackItemsFromTrash",i);if(a.failed)return[[],e.map(ZG)];var o=QG(a.data.items,(function(e){return"OK"===e.status})),s=o[0],c=o[1];if(0===c.length||0===r)return[s,c];var l=e.reduce((function(e,t){return e[t.id]=t,e}),{}),u=QG(c,(function(e){return"ETAG_CONFLICT"===e.status&&l[e.drivewsid].parentId===e.parentId})),d=u[0],h=u[1];if(0===d.length)return[s,c];var f=d.map((function(e){return Object.assign({},l[e.drivewsid],{etag:e.etag})}));return n$([s,h],await CY(f,t,n,r-1))}var OY=function(e,t){var n=t.sourceFolderModel,r=ET(e),i=r.parent;i&&i.content.removeItem(r),n.content.addItem(r),n===t.trashRootFolder&&t.trashDetailsService.unstageShallowCountChangeOf(-1)},TY=function(e,t){var n=t;if(e){var r=e.split("/");if(r.length>1)for(var i=r.length-1,a=0;a<i&&(n=n.content.findFolderWithName(r[a]));a++);}return n||t};async function AY(e,t,n,r,i){var a=e.loggingService,o=e.trashDetailsService,s=e.trashRootFolder,c=e.driveRootFolder,l=n.map((function(e){var t=r.driveItemCache.read(e);if(!t)throw new Error("putBackItemsFromTrash: attempted to move an item ID that wasn't found in the cache.");return t})),u=l[0].parentId;if(!u)throw new Error("Cannot prepare. Missing parent folder");for(var d=0,h=l.length;d<h;d++){var f=l[d];if(f.isInTrash,f.parentId!==u)throw new Error("Cannot prepare put items back from trash transaction. Not all items belong to the same parent folder")}IT(r,l,"Prepared");var p="Put item back from trash transaction #"+xG()+" (put back "+l.length+" items)";t._newTransactionDidBegin(p);var g=function(e,t,n,r){var i=function(e,t){return e.map((function(e){var n=e.restorePath;return TY(n,t)}))}(e,r).map((function(e){return e.id})),a=e[0].parentId;if(!a)throw new Error("Cannot prepare. Missing source folder id");var o=Rf.find(a);if(!o)throw new Error("Cannot prepare. Missing source folder");var s=i.map((function(e){var t=Rf.find(e);if(!t)throw new Error("Cannot prepare. Missing destination folder");return t})),c=e.map(ET),l=Array.from(new Set(s));return o.prepareForTransaction(),l.forEach((function(e){return e.prepareForTransaction()})),{childModels:c,sourceFolderModel:o,destinationFolderModels:s,trashRootFolder:t,trashDetailsService:n}}(l,s,o,c);!function(e,t){var n=t.trashRootFolder,r=t.trashDetailsService,i=t.sourceFolderModel,a=t.destinationFolderModels,o=Array.from(new Set(a)),s=i,c=s.content,l=e.map((function(e){return ET(e)}));c.removeItems(l),function(e){for(var t=0,n=e.length;t<n;t++)e[t].content.beginChanges()}(o);for(var u=a,d=0,h=e.length;d<h;d++){var f=ET(e[d]),p=u[d];p&&p.content.addItem(f)}(function(e){for(var t=0,n=e.length;t<n;t++)e[t].content.endChanges()})(o),s===n&&r.stageShallowCountChangeOf(-e.length)}(l,g),IT(r,l,"Staged"),IT(r,l,"Committing");var m=await LG.add((function(){return CY(l,r,i)})),v=m[0],y=m[1];return ST(v,a),function(e,t,n){for(var r=n.sourceFolderModel,i=n.destinationFolderModels,a=n.trashRootFolder,o=n.trashDetailsService,s=0;s<e.length;s++)r===a&&o.commitShallowCountChangeOf(-1);for(var c of t)OY(c,n);var l=Array.from(new Set(i));r.finalizeForTransaction(),l.forEach((function(e){return e.finalizeForTransaction()}))}(v,y,g),IT(r,l,"Prepared"),t._newTransactionDidFinalize(p),y.length>0?eu.failedResult(function(e,t){return VG({type:MG.PutItemsBackFromTrash,commitInfo:{uncommittedInfoItems:e.map((function(e){return{status:e.status,getTransactionItem:function(){return ET(e)},hasTransactionItemMoved:function(){return!1}}}))},_sourceFolder:t.sourceFolderModel,destinationFolder:t.destinationFolderModels[0]})}(y,g)):eu.okResult()}var NY,MY=oe.a.extend(v.a,{init:function(e,t,n){this.id=Wn.a(),this.fileSystem=e,this.initialWorkingDirectory=t,this.currentWorkingDirectory=t,this.__s._$1Zg$init.call(this,n)},id:y.c({readOnly:!0}),fileSystem:v.g(),initialWorkingDirectory:y.c({readOnly:!0}),currentWorkingDirectory:v.g(),trashRootFolder:v.g(_.c("fileSystem.trashRootFolder")),browseRootFolder:v.g(_.c("fileSystem.browseRootFolder")),changeDirectory:function(e){var t,n,r=this;if("string"===typeof e)n=Rf.findOrCreatePlaceholder(e);else{if(null==e||null==(t=e.constructor)||null==t.kindOf||!t.kindOf(Rf))throw new Error("changeDirectory can only change directory to Folder objects");n=e}return this.currentWorkingDirectory.content.delegate=null,this.currentWorkingDirectory=n,this.currentWorkingDirectory.content.delegate={folderWasUnsharedRemotely:function(){Jf.a.show({iconNames:"iclouddrive",message:Sr.d("DriveUI.FilesGrid.Error.SharedFolder.UnsharedToMe.Message",{folderName:r.currentWorkingDirectory.name}),description:Sr.d("DriveUI.FilesGrid.Error.SharedFolder.UnsharedToMe.Description"),primaryButton:{title:Sr.d("DriveUI.Common.Button.OK"),isPrimary:!0}}),SG(r.currentWorkingDirectory,r)}},b.a.resolve(eu.okResult(n))},changeDirectoryUp:function(){var e=this.currentWorkingDirectory;if(e.isBrowseRoot||e.isTrashRoot)return b.a.resolve();var t=e.parent;if(!t||!t.constructor.kindOf||!t.constructor.kindOf(Rf))throw new Error("Parent directory not found for current working directory");return this.changeDirectory(t)},listContents:function(){var e=this.currentWorkingDirectory.content;return e.hasLoadedContent?b.a.resolve(e):e.loadAllContent()},createFolder:function(e,t){return t=t||this.currentWorkingDirectory,new i$(this.fileSystem,this.fileSystem,t.id,e,wd,this.fileSystem.driveWebService).createFolderCommit()},uploadFile:function(e,t,n){t=t||this.currentWorkingDirectory;var r=this.fileSystem,i=r.generateUploadFileTransaction(e,t);return r.commitUploadFileTransaction(i,n)},uploadFiles:function(e,t,n,r){var i=e.length;if((n=n||{}).multipleFiles=i>1,0===i){var a=cY.create(sY.IEFolderDropZeroFileCount,null);return b.a.resolve([r([a])])}for(var o=new Array(i),s=0;s<i;s++){var c=e[s];o[s]=this.uploadFile(c,t,n).then(this.uploadFileCallback(r))}return b.a.all(o)},uploadFileCallback:function(e){var t=this;return function(n){if(n.ok)return n;if(n.failed){if(n.data[0].details.conflictType===DG.DestinationDeleted){var r,i=t.fileSystem,a=(r=t.currentWorkingDirectory.parent)&&r.parent?r:i.driveRootFolder;t.changeDirectory(a)}return e(n.data)}return n}},cancelUploadForFile:function(e){this.fileSystem.cancelUploadForFile(e)},moveItems:function(e,t){var n=this.currentWorkingDirectory;t=t||n;var r=e.map((function(e){return e.id}));return!t.isInTrash&&e[0].isInTrash?IY(this.fileSystem,this.fileSystem,r,t.id,wd,this.fileSystem.driveWebService):bY(this.fileSystem,this.fileSystem,r,t.id,wd,this.fileSystem.driveWebService)},moveItemsToTrash:function(e){return SY(this.fileSystem,this.fileSystem,e.map((function(e){return e.id})),wd,this.fileSystem.driveWebService)},putItemsBackFromTrash:function(e){return AY(this.fileSystem,this.fileSystem,e.map((function(e){return e.id})),wd,this.fileSystem.driveWebService)},renameItem:function(e,t){var n=this.validateRenameItem(e,t);return!1!==n?b.a.reject(n):l$(this.fileSystem,this.fileSystem,e.id,t,wd,this.fileSystem.driveWebService)},validateRenameItem:function(e,t){for(var n=e.isFile?qh.create({name:t,id:Sh+"::unspecified::unspecified",isFolder:!1}):Rf.create({id:Eh+"::unspecified::unspecified",name:t,isFolder:!0}),r=e.parent?e.parent.content:null,i=aY.create(e,t),a=[{validation:n.validateItemIsVisible.bind(n),arguments:[],fail:function(){return oY.create(iY.HiddenFile,i)}},{validation:n.validateItemNameIsNotEmpty.bind(n),arguments:[],fail:function(){return oY.create(iY.EmptyName,i)}},{validation:n.validateItemNameInvalidCharacters.bind(n),arguments:[],fail:function(){return oY.create(iY.InvalidName,i)}},...r?[{validation:e.validateItemNameIsUnique.bind(e),arguments:[t,r],fail:function(){return oY.create(iY.DuplicateName,i)}}]:[]],o=0;o<a.length;o++){var s=a[o];if(!s.validation.apply(this,s.arguments))return s.fail()}return!1},tombstoneItems:function(e){return this.fileSystem.generateTombstoneItemsTransaction(e).commit(this.fileSystem.driveWebService)},tombstoneRecentlyDeletedItems:function(e){return this.fileSystem.generatePurgeRecentlyDeletedItemsTransaction(e).commit(this.fileSystem.driveWebService)},_itemSynchronizationObserver:v.h({inputs:["fileSystem.itemsDidSynchronize"],callback:function(e){if(e){var t=e.context;t?this._fileSystemDidSynchronizeItems(t):this.changeDirectory(this.browseRootFolder)}}}),_currentWorkingDirectoryObserver:v.h({inputs:["currentWorkingDirectory"],callback:function(){var e=this,t=this.currentWorkingDirectory;this._synchronizeCurrentWorkingDirectory(),this._previousWorkingDirectory&&(this._previousWorkingDirectory.content.stopRemoteSynchronization(),this._previousWorkingDirectory=void 0),t&&this.listContents().then((function(){e.currentWorkingDirectory===t&&t.content.startRemoteSynchronization()})),this._previousWorkingDirectory=t}}),_previousWorkingDirectory:void 0,_fileSystemDidSynchronizeItems:function(e){var t=this.currentWorkingDirectory;if(t){var n=t.path,r={};e.forEach((function(e){r[e.id]=e})),n.find((function(e){return!!r[e.id]}))&&this._synchronizeCurrentWorkingDirectory()}},_synchronizeCurrentWorkingDirectory:function(){var e=this.currentWorkingDirectory;if(!e)return!1;var t=this.fileSystem,n=e.path;if(e.isDeleted){var r=n.slice().reverse().find((function(e){var n=t.getFolderById(e.id);return!(!n||n.isDeleted)&&n}));throw r&&!r.isDeleted&&this.changeDirectory(r),new Error("Could not synchronize current working directory: Valid parent not found for deleted directory")}return!0},__superMap:{_$1Zg$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Session"}}),DY=oe.a.extend({init:function(e,t){this.fileSystem=e,this.__s._$79$init.call(this,t)},fileSystem:null,delegate:null,resolveTransactionConflictForItem:function(e,t){switch(t.status){case PG.DestinationInvalid:case PG.DestinationDeleted:this._resolveDestinationDeletedConflict(e,t);break;case PG.ItemUnshared:this._resolveItemUnsharedConflict(e,t);break;case PG.ItemDeleted:this._resolveItemDeletedConflict(e,t);break;case PG.ItemModified:this._resolveItemModifiedConflict(e,t);break;default:e.revertChangeForCommitInfoItem(t)}},_resolveItemUnsharedConflict:function(e,t){e.revertChangeForCommitInfoItem(t);var n=e._sourceFolder;this._deleteItem(n)},_resolveDestinationDeletedConflict:function(e,t){e.revertChangeForCommitInfoItem(t);var n=e.destinationFolder;this._deleteItem(n)},_resolveItemDeletedConflict:function(e,t){e.revertChangeForCommitInfoItem(t);var n=this.fileSystem.getItemById(t.itemID);this._deleteItem(n)},_resolveItemModifiedConflict:function(e,t){var n=this.fileSystem,r=n.getItemById(t.itemID),i=xd(r.getDataHash(),t.details),a=!1;if(e.revertChangeForCommitInfoItem(t),i){for(var o=0,s=i.updated.length;o<s;o++){var c=i.updated[o];"parentId"!==c?r.set(c,t.details[c]):a=!0}if(a){var l=r.parent;yt.a(l)&&l.content.removeItem(r);var u=n.getFolderById(t.details.parentId);u&&u.content.addItem(r),r.parentId=t.details.parentId}}else d.b.error("TransactionConflictResolver: Reached unexpected condition trying to resolve item modified conflict")},_deleteItem:function(e){e.parentId&&e.parent.content.removeItem(e)},__superMap:{_$79$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"TransactionConflictResolver"}}),RY=_d.extend({includeShallowCount:!0,run:function(e){return e.post("retrieveTrashDetails",{includeShallowCount:this.includeShallowCount})},staticMembers:{__QUALIFIED_CLASS_NAME__:"TrashDetailsQuery"}}),LY=oe.a.extend(v.a,{init:function(e){this.__s._$AT$init.call(this),this.driveWebService=e},driveWebService:null,isEmpty:v.g({readOnly:!0,dependencies:["_isEmpty"],get:Object.assign((function(){return this._isEmpty}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])}})}),isPolling:v.g({defaultValue:!1,type:Boolean}),pollDelay:y.c({defaultValue:3e4,type:"integer"}),shallowCount:v.g({readOnly:!0,dependencies:["_shallowCount"],get:Object.assign((function(){return this._shallowCount}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])}})}),beginPolling:function(){this.isPolling||0!==this._stagingCount||(this.isPolling=!0,this._refreshDetailsFromServer())},endPolling:function(){this.isPolling&&(globalThis.clearTimeout(this._timeoutId),this._timeoutId=null,this.isPolling=!1)},stageShallowCountChangeOf:function(e){yt.a(this._shallowCount)&&(this._shallowCount+=e),this._stagingCount+=Math.abs(e),this.isPolling&&this.endPolling()},unstageShallowCountChangeOf:function(e){yt.a(this._shallowCount)&&(this._shallowCount-=e),this._stagingCount=Math.max(0,this._stagingCount-Math.abs(e)),0===this._stagingCount&&this.beginPolling()},commitShallowCountChangeOf:function(e){this._stagingCount=Math.max(0,this._stagingCount-Math.abs(e)),0===this._stagingCount&&this.beginPolling()},_isEmpty:v.g({type:Boolean}),_refreshDetailsFromServerQuery:null,_shallowCount:v.g({type:"integer"}),_stagingCount:0,_timeoutId:v.g({type:"integer"}),_refreshDetailsFromServer:function(){var e=this,t=this._refreshDetailsFromServerQuery;yt.a(t)||(t=this._refreshDetailsFromServerQuery=RY.create()),this.isPolling&&(globalThis.clearTimeout(this._timeoutId),this._timeoutId=null),t.run(this.driveWebService).then((function(t){if(e.isPolling&&t.ok){var n=t.data;e._shallowCount=n.shallowCount,e._isEmpty=n.isEmpty,e._timeoutId=setTimeout((function(){e._refreshDetailsFromServer()}),e.pollDelay)}}))},__superMap:{_$AT$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"TrashDetailsService"}}),kY=((NY={})[Uh.Name]=df,NY[Uh.DateModified]=function(e,t){return Ef(e,t)?If(e,t):vf(Sf(bf),_f,yf)(e,t)},NY[Uh.Size]=function(e,t){return Ef(e,t)?If(e,t):vf(Sf(mf(gf("size"),pf(hf))),df)(e,t)},NY[Uh.Kind]=function(e,t){return Ef(e,t)?If(e,t):vf(Sf(mf(gf("extension"),ff)),df)(e,t)},NY),xY=Uh.Name,FY=n(1432),PY=n(1524),jY=n.n(PY);function UY(e,t){var n=(new jY.a).update(e+t).digest();return n[6]&=15,n[6]|=48,n[8]&=63,n[8]|=128,FY.a(n).toUpperCase()}function BY(e,t,n){if(t)n.serverState.write(e,Object.assign({},t));else if(null===t){var r=n.read(e);null!=r&&r.parentId&&kh(e,n)}}var VY=oe.a.extend(v.a,{MAX_ITEM_NAME_LENGTH:v.g({readOnly:!0,defaultValue:255}),delegate:y.c({type:Xl}),hostService:y.c(),loggingService:y.c(),uploadFilesService:v.g(),didFetchFolderContent:v.i(),trashDetailsService:v.g(),isReadyToTerminate:v.g({readOnly:!0,dependencies:["hasActiveTransactions"],get:Object.assign((function(){return!this.hasActiveTransactions}),{__CW__getter:function(e,t,n,r){return!r.internalGet(this,t[0+n])}})}),isReadyToTerminateObserver:v.h({inputs:["isReadyToTerminate"],callback:function(e){this.hostService.isReadyToTerminateDidChange(e)}}),migrationPollDuration:3e4,itemsDidSynchronize:v.i(),init:function(e,t,n,r){var i,a;this.hostService=t,this.loggingService=n,this.delegate=e,this.driveWebService=r,Object.defineProperties(this,{_dataManager:{value:Yd.extend(CZ,{didLoadData:function(e){var t,n=this,r=arguments;return t=function(){return n.__s._$1tJ$didLoadData.apply(n,r)},WY.push(t),void 0===zY&&(zY=window.requestAnimationFrame(HY)),e},__superMap:{_$1tJ$didLoadData:"didLoadData"}}).create({MergeStrategy:kZ})},_transactionConflictResolver:{value:DY.create(this,{delegate:this})},_outstandingFolderQueries:{value:{}}}),i=this._dataManager,a=Sd,i.listen({inputs:["dataDidChangeForPrimaryKeys"],callback:function(e){var t=e.context,n=t.get(Rf)||[],r=t.get(qh)||[],o=i._dataHashes;Object(bd.a)((function(){n.forEach((function(e){var t=Rf.primaryKeysToStoreIds[e];BY(e,o[t],a)})),r.forEach((function(e){var t=qh.primaryKeysToStoreIds[e];BY(e,o[t],a)}))}))}}),this.__s._$23k$init.call(this),xf({drivewsid:md.driveRootFolderId,name:Sr.d("DriveFS.RootFolderName"),type:xh.FOLDER.value,parentId:null},this.loggingService),xf({drivewsid:md.trashRootFolderId,name:Sr.d("DriveFS.Default.FolderName.RecentlyDeleted"),type:xh.FOLDER.value,parentId:null},this.loggingService),this.trashDetailsService||(this.trashDetailsService=LY.create(r))},getNewSession:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=yt.a(t)?t:MY,i=yt.a(e)?e:this.browseRootFolder;return r.create(this,i,n)},generateUploadFileTransaction:function(e,t){this._validateUploadFilesService();var n=this.uploadFilesService.generateUploadFileTransaction(e,t);return this._prepareForTransaction(n),n},commitUploadFileTransaction:function(e,t){return this._validateUploadFilesService(),this.uploadFilesService.commitUploadFileTransaction(e,t)},cancelUploadForFile:function(e){this._validateUploadFilesService(),this.uploadFilesService.cancelUploadForFile(e)},_validateUploadFilesService:function(){if(!this.uploadFilesService)throw new Error("FileSystem requires an UploadFilesService to perform an upload operation")},driveRootFolder:v.g({readOnly:!0,get:function(){return this.getFolderById(md.driveRootFolderId)}}),browseRootFolder:v.g({readOnly:!0,get:function(){return this.getFolderById(Hu)}}),trashRootFolder:v.g({readOnly:!0,get:function(){return this.getFolderById(md.trashRootFolderId)}}),getFolderById:function(e){return Rf.find(e,this._dataManager)},getFileById:function(e){return qh.find(e,this._dataManager)},getItemById:function(e){return this.getFileById(e)||this.getFolderById(e)},getItemsByIds:function(e){if(e){for(var t=e.length,n=new Array(t),r=0;r<t;r++)n[r]=this.getItemById(e[r]);return n}},refreshQuotaData:function(){var e=this;return this.hostService.refreshQuotaData().then((function(t){return t.ok&&(e.quotaData=t.data),t}))},quotaData:v.g(),_refreshQuotaDataForTransactionIfNeeded:function(e){if(e.commitInfo.hasCommittedItems)switch(e.type){case MG.UploadItem:case MG.DeleteItems:case MG.DuplicateItems:case MG.MoveItemsToTrash:case MG.PutItemsBackFromTrash:case MG.MoveItemsFromTrash:this.refreshQuotaData()}},registerExternalFetchForId:function(e){var t=this,n=b.a.create();return this._outstandingFolderQueries[e]=n,n.finally((function(){t._outstandingFolderQueries[e]=null})),function(e){n.resolve(e)}},fetchRootFolderDetails:function(){return Hf.create(this,{queryMode:Hf.Mode.DetailsOnly}).run(this.driveWebService)},fetchFolderContent:function(e){var t=e.folder.id,n=this._outstandingFolderQueries[t];if(n)return n;var r=Bf.create(this,t,{includeHierarchy:!0});return this._runFolderContentQuery(r)},fetchFolderContentChangeSet:function(e){var t=this,n=e.folder,r=n.id;return RZ.create(r,this,{folderIsInTrash:n.isInTrash,includeHierarchy:!0}).run(this.driveWebService).then((function(e){if(e.ok){var r=e.data;t._synchronizeAncestorFolderHierarchy(r.folderInfo,r.hierarchy);var i=r.changes;if(i.hasItems){var a=i.filter((function(e){return e.action!==Jh.Action.Remove})).map((function(e){return e.value}));t.didFetchFolderContent({fileSystem:t,parentFolder:n,content:a,source:"fetchFolderContentChangeSet"})}return eu.okResult(i)}return e}))},_runFolderContentQuery:function(e){var t=this,n=e.folderID,r=e.run(this.driveWebService).then((function(e){t._outstandingFolderQueries[n]=null;var r=e.data;if(e.ok){t._synchronizeAncestorFolderHierarchy(r.folderInfo,r.hierarchy);var i=r.folderInfo.id,a=t.getFolderById(i);return t.didFetchFolderContent({fileSystem:t,parentFolder:a,content:r.items,source:"_runFolderContentQuery"}),eu.okResult({items:r.items})}return t.delegate.handleQueryFolderContentFailure(e)}));return this._outstandingFolderQueries[n]=r,r},_synchronizeAncestorFolderHierarchy:function(e,t){var n;e.isDeleted?n=this.getFolderById(e.id).path.map((function(e){return{id:e.id}})):(n=t?t.slice():[]).push({id:e.id,etag:e.etag});for(var r=0;r<n.length-1;r++){var i=n[r+1],a=n[r];i.parentId||(i.parentId=a.id)}this._synchronizeItems(n)},_synchronizeItems:function(e){var t=this;if(e&&0!==e.length){var n=e.map((function(e){return e.id||e.drivewsid})),r=[];if(this.getItemsByIds(n).forEach((function(t,n){var i=e[n];t?i.etag&&i.etag===t.etag||r.push(t.toJSON()):r.push({id:i.drivewsid||i.id,parentId:i.parentId})})),0!==r.length){var i=r.map((function(e){return{id:e.id,shareID:e.shareIDFromHierarchy}}));Vf.create(this,i,{trace:"1"}).run(this.driveWebService).then((function(e){var n=e.data;e.ok?t._completeSynchronizingItems(r,n):t.loggingService.recordStat("ErrorSynchronizingItems",{class:"FileSystem",errorMessage:n.message,stack:n.stack})}))}}},_completeSynchronizingItems:function(e,t){var n=this;e.forEach((function(e){for(var r=0;r<t.length;r++){var i=t[r];if(e.id===i.id){n._completeSynchronizingItem(e,i);break}}})),this.itemsDidSynchronize(t)},_completeSynchronizingItem:function(e,t){if(!e.isDeleted&&t.isDeleted)this.destroyItem(t);else if(e.parentId&&t.parentId&&e.parentId!==t.parentId){var n=this.getFolderById(e.parentId),r=this.getFolderById(t.parentId);this._moveLocalItem(t,n,r)}},destroyItem:function(e){if(e.isFolder||e.isAppLibrary){var t=e.content;t.beginChanges();for(var n=t.length-1;n>=0;n--){var r=t.visibleContent.objectAt(n);this.destroyItem(r)}t.endChanges()}var i=e.parent;i&&i.content.removeItem(e),e.destroy()},_moveLocalItem:function(e,t,n){t&&t.content.removeItem(e),n&&n.content.addItem(e)},_activeTransactions:v.g(Me.b(dk)),hasActiveTransactions:v.g({dependencies:["_activeTransactions","_activeTransactions.contentsDidChange"],readOnly:!0,get:Object.assign((function(){return!!this._activeTransactions.length}),{__CW__getter:function(e,t,n,r){return!!r.internalGet(this,t[0+n]).length}})}),_prepareForTransaction:function(e){e.prepare(),this._activeTransactions.push(e)},transactionDidFinalize:function(e){OA.a(e,this._activeTransactions),this._refreshQuotaDataForTransactionIfNeeded(e)},_newTransactionDidBegin:function(e){this._activeTransactions.push(e)},_newTransactionDidFinalize:function(e){OA.a(e,this._activeTransactions)},transactionResolveConflictForItem:function(e,t){this._transactionConflictResolver.resolveTransactionConflictForItem(e,t)},_stagedItems:Me.b(globalThis.Set),registerItemAsStaged:function(e){this._stagedItems.add(e)},unregisterItemAsStaged:function(e){this._stagedItems.delete(e)},itemIsStaged:function(e){var t=Ed.get(e.id);return!(!t||"Prepared"===t)||this._stagedItems.has(e)},generateTombstoneItemsTransaction:function(e){var t=nY.create(this,this,e);return this._prepareForTransaction(t),t},generatePurgeRecentlyDeletedItemsTransaction:function(e){var t=rY.create(this,this,e);return this._prepareForTransaction(t),t},sortComparators:v.g(Me.b(kY)),setSortComparator:function(e,t){this.sortComparators[e]=t},sortType:v.g(xY),retrieveItemForCKRecordHash:function(e){var t=this,n=e.rootRecord;if(yt.a(n)){var r=n,i=e.resolvedRecord,a=e.share,o=i||r,s=r.recordName,c=yt.a(i)?i.recordName:null,l=o.recordName,u=yt.a(a)?a.recordName:null,d=e.zoneID,h=d.zoneName,f=d.ownerRecordName,p=o.recordType,g=yt.a(a)&&"OWNER"!==ol.a(a,"currentUserParticipant.type"),m=!yt.a(c)||c===s,v=g&&m?UY(f,l.split("/")[1]):l.split("/")[1],y=g?UY(f,s.split("/")[1]):s.split("/")[1],_=g&&m?"structure"===p?"SHARED_FOLDER":"SHARED_FILE":g&&!m?"structure"===p?"FOLDER_IN_SHARED_FOLDER":"FILE_IN_SHARED_FOLDER":"structure"===p?"FOLDER":"FILE",w="com.apple.CloudDocs",S=(g&&m&&h!==w?[h,w]:[h]).map((function(e){return _+"::"+e+"::"+v})),E=S.map((function(e){return t.getItemById(e)})).find((function(e){return Boolean(e)})),I=yt.a(a)?{shareName:u,recordName:u,zoneID:d}:void 0,C=S.map((function(e){return{drivewsid:e,includeHierarchy:!0,shareID:g&&!m?I:void 0}}));return yt.a(E)?b.a.resolve(eu.okResult(E)):this.driveWebService.post("retrieveItemDetails",{items:C}).then((function(n){var r,i=n.data;if(n.ok&&0!==i.items.length){var a=i.items.find((function(e){return Boolean(e)})),o=a.hierarchy||[];a.hierarchy||bu("no-hierarchy",{issue:149244436,cause:"drivews.retrieveItemDetails"});for(var s=0,c=o.length;s<c;s++){var l=o[s],u=l.drivewsid.split("::"),d=u[1],h=u[2];if(h===y&&(l.shareID=I,l.share=g?wh.TO_ME:wh.BY_ME,g&&(l.owner={firstName:ol.a(e,"ownerIdentity.nameComponents.givenName"),lastName:ol.a(e,"ownerIdentity.nameComponents.familyName"),ownerRecordName:ol.a(e,"ownerIdentity.userRecordName")})),l.type=xh.FOLDER.value,l.zone=d,l.docwsid=h,s!==o.length-1){var f=o[s+1];f.parentId=l.drivewsid,f.shareID=l.shareID,f.share=l.share}}var p=Ff([...o,a],t.loggingService),m=p[p.length-1],v=t.getItemById(m);r=eu.okResult(v)}else r=eu.failedResult(i);return r}))}var O=new Error("No root or resolved record found on share record.");return b.a.resolve(eu.failedResult(O))},retrieveAndLoadHierarchyForItems:function(e,t){var n=this,r=[];for(var i of e){var a=xu(i)?qh.find(i):Rf.find(i);if(a.parentId!==Hu){var o={drivewsid:i,includeHierarchy:!0};(i.startsWith("FILE_IN_SHARED_FOLDER")||i.startsWith("FOLDER_IN_SHARED_FOLDER")&&a.shareID)&&(o.shareID=a.shareID),r.push(o)}}this.driveWebService.post("retrieveItemDetails",{items:r}).then((function(e){var r=e.data;if(e.ok&&0!==r.items.length){var i=r.items,a=new Set,o=[];i.forEach((function(e){var t=e.hierarchy;t?t.forEach((function(t){!function(e,t,r){if(!a.has(e)){a.add(e);var i={drivewsid:e};e.startsWith("FOLDER_IN_SHARED_FOLDER")&&(t||n.loggingService.recordStat("MissingShareIDForItemInSharedFolder",{itemInfo:r}),i.shareID=t),o.push(i)}}(t.drivewsid,e.shareID,e)})):n.loggingService.recordStat("MissingHierarchyFromRetrieveItemDetails",{itemInfo:e})})),n.driveWebService.post("retrieveItemDetails",{items:o}).then((function(e){var i=e.data;if(e.ok&&0!==i.items.length){var a=i.items;Ff([...i.items,...r.items],n.loggingService),a.forEach((function(e){if(e.id.startsWith("SHARED_FOLDER")){var n=Rf.find(e.id);n&&t&&t(n)}}))}}))}}))},__superMap:{_$23k$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"FileSystem"}}),WY=[],zY=void 0;function HY(){Object(bd.a)((function(){WY.forEach((function(e){e()}))})),WY=[]}var GY=[];function $Y(e,t){return t.concat(GY).reduce((function(e,t){return e.replace(t,"<REDACTED>")}),e)}var KY="docws",QY={headers:{"Content-Type":"text/plain"},method:"POST"},qY=mo(),ZY=bo(mo()),YY=bo(To(mo())),XY=function(){function e(e,t){this.fetchService=e,this.urlForServiceName=t,this.download=void 0;var n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30,i=new Map;return function(a){var o=a.zone,s=a.docwsid,c=a.isSharedIndirectly&&a.isSharedToMe&&yt.a(a.shareIDFromHierarchy)?"/"+a.shareIDFromHierarchy.zoneID.ownerRecordName:"",l="ws/"+o+"/download/batch"+c,u={document_id:s},d=i.get(l),h=b.a.create();if(yt.a(d)){var f=d.body,p=d.promises,g=d.items,m=d.timeoutHandle;f.push(u),p.push(h),g.push(a),f.length>=r&&(clearTimeout(m),JY(e,t,d),i.delete(l))}else{var v=setTimeout((function(){JY(e,t,i.get(l)),i.delete(l)}),n),y={pathName:l,reportingPathname:$Y(l,[new RegExp(c||"$^")]),timeoutHandle:v,body:[u],promises:[h],items:[a]};i.set(l,y)}return h}}(e,t),r=function(e){if(!e||"object"!==typeof e||Array.isArray(e))throw new Error("batchedDownloader needs a DriveFS.Item, but got "+e);return ol.a(e,"docwsid")+"::"+ol.a(e,"etag")},i=W_(n,r),a=i[0],o=i[1],s=new Map;this.download=function(e){var t=r(e);return s.get(t)||s.set(t,setTimeout((function(){o(e),s.delete(t)}),6e5)),a(e).then((function(n){return n.ok||(o(e),clearTimeout(s.get(t)),s.delete(t)),n}))}}var t=e.prototype;return t.updateDocument=async function(e,t){var n=ol.a(e,"shareIDFromHierarchy.zoneID"),r=e.isSharedToMe&&(e.isSharedIndirectly||"add_file"===t.command||"add_package"===t.command)&&yt.a(n)?"ws/"+n.zoneName+"/update/shared/"+n.ownerRecordName:"ws/"+e.zone+"/update/documents",i=cm(this.urlForServiceName(KY,r));return i.searchParams.append("errorBreakdown","true"),eX(await this.fetchService.fetchJson(i,Object.assign({},QY,{body:JSON.stringify(t),reportingPathname:$Y(r,[new RegExp(ol.a(n,"ownerRecordName")||"$^")]),schemaName:"DocWebServiceUpdateDocument",schema:qY})))},t.createZone=async function(){var e=cm(this.urlForServiceName(KY,"ws/com.apple.CloudDocs/internal/create_zone"));return e.searchParams.append("create_metadata","true"),e.searchParams.append("errorBreakdown","true"),e.searchParams.append("idempotent","true"),eX(await this.fetchService.fetchJson(e,Object.assign({},QY,{schemaName:"DocWebServiceCreateZone",schema:qY})))},t.duplicate=async function(e,t,n){var r="v1/item/copy/"+e,i=cm(this.urlForServiceName(KY,r));i.searchParams.append("dsid",n);var a=await this.fetchService.fetchJson(i,Object.assign({},QY,{body:JSON.stringify({info_to_update:{}}),schemaName:"DocWebServiceCopy",schema:qY}));if(a.ok){var o=await this.temp_lookupByItemId(a.value.item_id,t);return o.ok,o}return a},t.temp_lookupByItemId=async function(e,t){var n="ws/"+t+"/list/lookup_by_id?document_id="+e+"&unified_format=true",r=cm(this.urlForServiceName(KY,n));return await this.fetchService.fetchJson(r,Object.assign({},QY,{method:"GET",schemaName:"DocWebServiceLookup",schema:qY}))},t.lookup=async function(e){var t=e.zone,n=e.etag,r=e.docwsid,i=e.shareIDFromHierarchy,a=[{etag:n,document_id:r}],o="ws/"+t+"/list/lookup_by_id"+(e.isSharedToMe&&yt.a(i)&&Uu(e.id)?"/"+i.zoneID.ownerRecordName:""),s=cm(this.urlForServiceName(KY,o)),c=await this.fetchService.fetchJson(s,Object.assign({},QY,{body:JSON.stringify(a),schemaName:"DocWebServiceLookup",schema:ZY}));return c.ok?eu.okResult(c.value[0]):eX(c)},t.createShortGuid=async function(e){var t=ol.a(e,"shareIDFromHierarchy.zoneID"),n=e.isSharedToMe&&!e.isSharedDirectly&&yt.a(t)?"ws/"+t.zoneName+"/update/create_short_guid/"+t.ownerRecordName:"ws/"+e.zone+"/update/create_short_guid",r=cm(this.urlForServiceName(KY,n));return r.searchParams.append("errorBreakdown","true"),r.searchParams.append("document_id",e.docwsid),eX(await this.fetchService.fetchJson(r,Object.assign({},QY,{reportingPathname:$Y(n,[new RegExp(ol.a(t,"ownerRecordName"))||"$^"]),schemaName:"DocWebServiceCreateShortGuid",schema:qY})))},t.urlForService=function(e){return this.urlForServiceName(KY,e)},e}();async function JY(e,t,n){var r,i,a=n.pathName,o=n.reportingPathname,s=n.body,c=n.promises,l=n.items;try{i=Wb(Gb.getValidateToken())}catch(m){throw new au("Error in DocWebService._executeBatchedDownload requesting COSK getValidateCookie()",{error:m,cookies:Gb.getListOfAvailableCookiesAsConcatenatedString()})}var u=cm(t(KY,a));u.searchParams.append("token",null!=(r=i)?r:"");var d=await e.fetchJson(u,Object.assign({},QY,{body:JSON.stringify(s),reportingPathname:o,schemaName:"DocWebServiceBatchedDownload",schema:YY}));if(d.ok)return b.a.all(c.map((function(e,t){return e.resolve(eu.okResult(Object.assign({item:l[t]},d.value[t])))})));var h=d.value,f=ol.a(h,"error_code"),p=ol.a(h,"serverErrorCode"),g=ol.a(h,"reason");return f=yt.a(f)?f:"UNK",p=yt.a(p)?p:"UNK",g=yt.a(g)?g:"UNK",b.a.all(c.map((function(e,t){return e.resolve(eu.failedResult({item:l[t],errorCode:f,serverErrorCode:p,reason:g}))})))}function eX(e){return e.ok?eu.okResult(e.value):void 0!==e.value?eu.failedResult(e.value):eu.failedResult(null)}var tX=oe.a.extend(v.a,{changed:v.i(),totalAmount:0,percentageComplete:0,amountComplete:0,isComplete:y.c({readOnly:!0,get:function(){return 100===this.get("percentageComplete")}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"Progress"}}),nX=tX.extend({totalAmount:y.c({readOnly:!0,get:function(){return this._totalAmount}}),percentageComplete:y.c({readOnly:!0,get:function(){return this._percentageComplete}}),amountComplete:y.c({readOnly:!0,get:function(){return this._amountComplete}}),children:y.c({readOnly:!0,get:function(){return this._children}}),init:function(){this.__s._$EC$init.call(this),this._children=[],this._totalAmount=0,this._amountComplete=0,this._percentageComplete=0,this._childProgressInfoItems={},this._computedItemPercentageWeight=0;var e=this;this._progressChangedHandler=function(t){if(t){var n=t.context;e._progressDidChange(n)}}},addChildProgress:function(e){this.didStartAddingChildProgress();var t=e.observe("changed",this._progressChangedHandler);this._children.push(e),this._childProgressInfoItems[sg.a(e)]={changedObserver:t,includeAmount:!0,percentageWeight:null},this.didFinishAddingChildProgress(),this._update()},adjustWeightForChildProgress:function(e,t){var n=this._getItemInfoForChildProgress(e);if(!n)throw new au("Cannot adjust weight. Not a valid child progress",{groupProgress:this});if(t<=0||t>=1)throw new au("Invalid weight",{groupProgress:this});n.percentageWeight=t,this._update()},clearWeightForChildProgress:function(e){var t=this._getItemInfoForChildProgress(e);if(!t)throw new au("Cannot adjust weight. Not a valid child progress",{groupProgress:this});t.percentageWeight=null,this._update()},includeAmountForChildProgress:function(e){var t=this._getItemInfoForChildProgress(e);if(!t)throw new au("Cannot include amount. Not a valid child progress",{groupProgress:this});t.includeAmount=!0,this._update()},excludeAmountForChildProgress:function(e){var t=this._getItemInfoForChildProgress(e);if(!t)throw new au("Cannot exclude amount. Not a valid child progress",{groupProgress:this});t.includeAmount=!1,this._update()},didStartAddingChildProgress:function(e){this._isAddingChildProgress=!0},didFinishAddingChildProgress:function(e){this._isAddingChildProgress=!1},_progressDidChange:function(e){this._isAddingChildProgress||this._updateAmounts()},_getItemInfoForChildProgress:function(e){return this._childProgressInfoItems[sg.a(e)]||null},_update:function(){this._updateComputedItemPercentageWeight(),this._updateAmounts()},_updateComputedItemPercentageWeight:function(){for(var e=this._children,t=0,n=0,r=0,i=e.length;r<i;r++){var a=e[r],o=this._getItemInfoForChildProgress(a);null===o.percentageWeight?t++:n+=o.percentageWeight}var s=0;t>0&&(s=(1-n)/t),this._computedItemPercentageWeight=s},_updateAmounts:function(){for(var e=this._children,t=this._computedItemPercentageWeight,n=0,r=0,i=0,a=0,o=0,s=e.length;o<s;o++){var c=e[o],l=this._getItemInfoForChildProgress(c),u=l.percentageWeight;null===u&&(u=t),r+=u*c.get("percentageComplete"),l.includeAmount&&(n+=c.get("amountComplete"),a+=c.get("totalAmount")),c.get("isComplete")&&i++}i===e.length&&(r=100,n=a),this._percentageComplete=r,this._amountComplete=n,this._totalAmount=a,this.changed(this)},__superMap:{_$EC$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"GroupProgress"}}),rX={pages:!0,"pages-tef":!0,template:!0,keynote:!0,"keynote-tef":!0,key:!0,"key-tef":!0,kth:!0,numbers:!0,"numbers-tef":!0,nmbtemplate:!0,lpdf:!0,band:!0,xcodeproj:!0,playground:!0,theater:!0,app:!0,workflow:!0,rtfd:!0,imovielibrary:!0,pkg:!0};function iX(e){return e in rX}var aX=/^(.*)\.([^.]+)$/i;function oX(e){var t=(e.match(aX)||[]).slice(1),n=t[0],r=t[1];if(!/^zip$/i.test(r)||!n)return t;var i=(n.match(aX)||[]).slice(1),a=(i[0],i[1]);return a&&iX(a)?i:t}function sX(e){var t=oX(e),n=t[0],r=t[1];return n&&r||""}var cX=/(.*)\.([\w-_]+).zip$/i;function lX(e){var t=e.type,n=/zip|compressed|octet/i.test(t),r=e.name.match(cX);return iX(r&&r[2]||"")&&n}function uX(e){var t=new Date;return e&&"lastModifiedDate"in e&&e.lastModifiedDate?t=e.lastModifiedDate:e&&"lastModified"in e&&e.lastModified&&t.setTime(e.lastModified),t}var dX=S.b("TaskScheduler.TaskStatus",["Pending","Running","Done"]),hX=oe.a.extend(v.a,{delegate:null,traceId:null,trace:!1,allowedMaximumRunningTasks:1,suspend:function(){this._suspended||(this._suspended=!0)},resume:function(){if(this._suspended){this._suspended=!1;var e=this._tasksQueue;e&&e.length>0&&this._tryRunningNextTask()}},isActive:v.g({readOnly:!0,dependencies:["hasScheduledTasks","hasRunningTasks"],get:Object.assign((function(){return!(!this.hasScheduledTasks&&!this.hasRunningTasks)}),{__CW__getter:function(e,t,n,r){return!(!r.internalGet(this,t[0+n])&&!r.internalGet(this,t[1+n]))}})}),isSuspended:v.g({readOnly:!0,get:function(){return this._suspended}}),hasScheduledTasks:v.g({readOnly:!0,get:function(){return this._tasksQueue.length>0}}),hasRunningTasks:v.g({readOnly:!0,get:function(){return this._runningTasksCount>0}}),runningTasksCount:y.c({readOnly:!0,get:function(){return this._runningTasksCount}}),scheduledTasksCount:y.c({readOnly:!0,get:function(){return this._tasksQueue.length}}),init:function(e){this.__s._$g9$init.call(this,e),this._suspended=!1,this._tasksQueue=[],this._runningTasks={},this._runningTasksCount=0},scheduleTask:function(e){var t=this,n=b.a.create(),r={status:dX.Pending,task:e,promise:n};return r.cancelObserver=e.listen("cancelled",(function(e){e&&t._taskDidCancel(r,e.context)})),this._tasksQueue.push(r),this.didScheduleTask(e),this.propertyChanged("hasScheduledTasks"),this._logTrace("scheduled task for run",e),this._tryRunningNextTask(),n},cancelAllQueuedTasks:function(){var e=this;if(!this._isCancellingTasks){this._isCancellingTasks=!0;var t=this._tasksQueue,n=[];t.forEach((function(t){var r=t.task;r.isCancellable?(r.cancel(),e.taskDidCancel(t)):n.push(t)})),this._tasksQueue=n,this._isCancellingTasks=!1,this.propertyChanged("hasScheduledTasks"),this._notifyFinishingScheduledTasksIfNeeded(),this._tryRunningNextTask()}},_tryRunningNextTask:function(){if(!this._suspended)for(var e=this.allowedMaximumRunningTasks,t=this._tasksQueue;;){if(this._runningTasksCount===e)return void this._logTrace("Maximum number of tasks currently running. Cannot run another task");var n=t.shift();if(!n)return void this._logTrace("queue empty. No tasks to run");this._runTask(n)}},_runTask:function(e){var t=this,n=e.task;this._logTrace("running task",n),this.willStartRunningTask(n),e.status=dX.Running,this._runningTasks[sg.a(n)]=e,this._runningTasksCount++,this.propertyChanged("hasRunningTasks"),this.propertyChanged("hasScheduledTasks"),n.run().then((function(n){n.ok?t._taskDidComplete(e,n):n.cancelled?t._taskDidCancel(e,n):t._taskDidFail(e,n)})),this.didStartRunningTask(n)},_taskDidComplete:function(e,t){var n=e.task,r=e.promise;this._logTrace("task completed",n),this._beginFinalizingTask(e),r.resolve(t),this.taskDidComplete(n),this._endFinalizingTask(n)},_taskDidFail:function(e,t){var n=e.task,r=e.promise;this._logTrace("task failed",n),this._beginFinalizingTask(e),r.resolve(t),this.taskDidFail(n,t.data),this._endFinalizingTask(n)},_taskDidCancel:function(e,t){var n=e.task,r=e.promise;this._logTrace("task cancelled",n),this._beginFinalizingTask(e),r.resolve(t),this.taskDidCancel(n),this._endFinalizingTask(n)},_beginFinalizingTask:function(e){switch(e.status){case dX.Pending:this._isCancellingTasks||(OA.a(e,this._tasksQueue),this.propertyChanged("hasScheduledTasks"));break;case dX.Running:var t=e.task;delete this._runningTasks[sg.a(t)],this._runningTasksCount--,this.propertyChanged("hasRunningTasks")}e.status=dX.Done,e.cancelObserver.disconnect()},_endFinalizingTask:function(e){this._isCancellingTasks||(this._tryRunningNextTask(),this._notifyFinishingScheduledTasksIfNeeded())},_notifyFinishingScheduledTasksIfNeeded:function(){var e=this._runningTasksCount,t=this._tasksQueue.length;0===e&&0===t&&this.didFinishRunningScheduledTasks()},didScheduleTask:function(e){var t=this.delegate,n=t?t.taskSchedulerDidScheduleTask:null;n&&n.call(t,this,e)},didFinishRunningScheduledTasks:function(){var e=this.delegate,t=e?e.taskSchedulerDidFinishRunningScheduledTasks:null;t&&t.call(e,this)},willStartRunningTask:function(e){var t=this.delegate,n=t?t.taskSchedulerWillStartRunningTask:null;n&&n.call(t,this,e)},didStartRunningTask:function(e){var t=this.delegate,n=t?t.taskSchedulerDidStartRunningTask:null;n&&n.call(t,this,e)},taskDidComplete:function(e){var t=this.delegate,n=t?t.taskSchedulerTaskDidComplete:null;n&&n.call(t,this,e)},taskDidFail:function(e,t){var n=this.delegate,r=n?n.taskSchedulerTaskDidFail:null;r&&r.call(n,this,e,t)},taskDidCancel:function(e){var t=this.delegate,n=t?t.taskSchedulerTaskDidCancel:null;n&&n.call(t,this,e)},_logTrace:function(e,t){if(this.trace){var n=this.traceId,r=(n?"[BRKit.TaskScheduler: "+n+"]":this)+" "+e;t&&(r+=": "+t),d.b.debug(r)}},__superMap:{_$g9$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"TaskScheduler"}}),fX=oe.a.extend({scheduler:y.c({get:function(){return this._scheduler}}),init:function(e){this.__s._$57$init.apply(this,arguments),this._scheduler=this.loadTaskScheduler()},loadTaskScheduler:function(){return hX.create({trace:!1,traceId:"native file upload",allowedMaximumRunningTasks:3})},__superMap:{_$57$init:"init"}}).create(),pX=fX.get("scheduler"),gX=tX.extend({percentageComplete:y.c({readOnly:!0,get:function(){return this._percentageComplete}}),totalAmount:y.c({defaultValue:0,set:function(e){return this._isInitializing||this._totalAmountDidChange(e),e}}),amountComplete:y.c({defaultValue:0,get:function(){return this._amountComplete},set:function(e){return this._isInitializing||this._amountCompleteDidChange(e),e}}),init:function(e){this.willInitialize(),this.__s._$RQ$init.call(this,e),this._percentageComplete=0,this.didInitialize(),this._recalculate()},willInitialize:function(){this._isInitializing=!0},didInitialize:function(){this._isInitializing=!1},increaseAmount:function(e){var t=this._amountComplete+e;if(t>this._totalAmount)throw new au("Cannot increase amount. Great than total amount",{amount:e});this._amountComplete=t,this._recalculate()},complete:function(){if(100===this._percentageComplete)throw new Error("Invalid call. Already complete");this._amountComplete=this._totalAmount,this._recalculate()},_amountCompleteDidChange:function(e){if(e>this._totalAmount)throw new au("Invalid value. Amount complete cannot be greater than total amount",{amount:e});this._recalculate()},_totalAmountDidChange:function(e){this._amountComplete>e&&(this._amountComplete=e),this._recalculate()},_recalculate:function(){var e=this._amountComplete,t=this._totalAmount;if(e>t)throw new Error("Cannot update. Amount complete cannot be greater than total");0!==t&&(this._percentageComplete=e/t*100,this.changed())},__superMap:{_$RQ$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"UnitProgress"}}),mX="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vX={binaryToBase64:function(e){for(var t=[],n=0,r=0,i=new Array(3),a=new Array(4),o=e.length,s=0;o--;)if(i[n++]=e[s++],3===n){for(a[0]=(252&i[0])>>2,a[1]=((3&i[0])<<4)+((240&i[1])>>4),a[2]=((15&i[1])<<2)+((192&i[2])>>6),a[3]=63&i[2],n=0;n<4;n++)t+=mX.charAt(a[n]);n=0}if(n){for(r=n;r<3;r++)i[r]=0;for(a[0]=(252&i[0])>>2,a[1]=((3&i[0])<<4)+((240&i[1])>>4),a[2]=((15&i[1])<<2)+((192&i[2])>>6),a[3]=63&i[2],r=0;r<n+1;r++)t+=mX.charAt(a[r]);for(;n++<3;)t+="="}return t},urlSafeBase64ToBase64:function(e){if(!e)return e;var t=(e=e.replace(/[-_]/g,(function(e){return{"-":"+",_:"/"}[e]}))).length%4;if(t>0){var n="====";return e+n.substring(t)}return e},parseContentWsSignature:function(e){var t=e.replace(/\r|\n/g,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ");return this.binaryToBase64(t)},parseContentWSAsset:function(e){var t={};return e?(t.signature=this.parseContentWsSignature(e.hexFileChecksum),t.reference_signature=this.parseContentWsSignature(e.hexReferenceChecksum),t.wrapping_key=this.parseContentWsSignature(e.hexWrappingKey),t.receipt=this.urlSafeBase64ToBase64(e.receiptToken),t.size=e.size,t):null},parseContentWSPackageResponse:function(e){var t={},n=this.parseContentWSAsset(e.brManifest),r=this.parseContentWSAsset(e.ckManifest),i=[];if(e.ckSectionAssets)for(var a=0;a<e.ckSectionAssets.length;a++)i.push(this.parseContentWSAsset(e.ckSectionAssets[a]));return t.pkgSignature=this.parseContentWsSignature(e.hexBrSyntheticChecksum),t.manifest=n,t.package={sections:i,manifest:r},t},injectOwnerIntoPackage:function(e,t){var n=t;n.manifest.owner=e,n.package.manifest.owner=e;for(var r=n.package.sections.length;r-- >0;)n.package.sections[r].owner=e;return n},parseContentWSFileResponse:function(e){var t={};return t.data={signature:this.urlSafeBase64ToBase64(e.singleFile.fileChecksum),wrapping_key:this.urlSafeBase64ToBase64(e.singleFile.wrappingKey),reference_signature:this.urlSafeBase64ToBase64(e.singleFile.referenceChecksum),receipt:this.urlSafeBase64ToBase64(e.singleFile.receipt),size:e.singleFile.size},t}},yX=oe.a.extend({type:null,status:null,nativeFile:null,message:"",size:null,requestUrl:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"NativeFileUploadError"}}),_X=oe.a.extend({handleResponseError:function(e,t,n,r,i){var a;switch(e){case 413:a=jG.OutOfQuota;break;case jG.DestinationDeleted:a=jG.DestinationDeleted;break;default:a=jG.FatalError}return yX.create({type:a,nativeFile:n,status:e,message:t,size:r,requestUrl:i})},staticMembers:{__QUALIFIED_CLASS_NAME__:"NativeFileUploadResponseHandler"}}),bX=/(\.zip)$/i,wX=_X.create(),SX=tG.extend({init:function(e,t){this._docWebService=e,this.__s._$Fl$init.call(this,t)},nativeFile:null,destinationFolder:null,documentId:null,transferCommitInfo:null,fileName:null,owner:null,_docWebService:null,startRun:function(){var e,t=this.nativeFile,n=this.documentId,r=this.destinationFolder,i=this.transferCommitInfo,a=this.fileName,o=lX(t);if(o&&(a=a.replace(bX,"")),o?(e=vX.parseContentWSPackageResponse(i),r.isSharedToMe&&(e=vX.injectOwnerIntoPackage(this.owner,e)),e.command="add_package"):(e=vX.parseContentWSFileResponse(i)).command="add_file",e.document_id=n,e.path={starting_document_id:r.nonAliasedDocWsId,path:a},e.allow_conflict=!0,e.file_flags={is_writable:!0,is_executable:!1,is_hidden:!1},t){var s=uX(t).getTime();e.mtime=s,e.btime=s}return this._docWebService.updateDocument(r,e).then((function(n){if(n.ok&&yt.a(n.data)&&J.a(n.data.results))return eu.okResult({documentServiceFileDataHash:n.data.results[0].document});var r,i="Cannot complete "+(o?"package":"file")+" upload. DocWS update request failed.",a=n.status,s=null==(r=e.data)?void 0:r.size,c=wX.handleResponseError(a,i,t,s,null);return eu.failedResult(c)}))},__superMap:{_$Fl$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CompleteNativeFileUploadSubtask"}});function EX(e){var t=e.ok;return e.json().then((function(e){return eu.okResult(e)})).catch((function(){return eu.failedResult(null)})).then((function(e){var n=e.ok,r=e.data;return n?t?eu.okResult(r):eu.failedResult(r):eu.failedResult(null)}))}var IX=/(\.zip)$/i,CX=_X.create(),OX=tG.extend({isDestinationFolderSharedToMe:null,destinationFolderOwnerName:null,destinationFolderRecordName:null,nativeFile:null,destinationZone:null,docWebService:null,fetchUrlWithRetry:null,init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.__s._$y1$init.call(this,e),Object.defineProperties(this,{_attempts:{value:0,writable:!0},_request:{value:null,writable:!0}})},startRun:function(){return this._tryRequest()},_tryRequest:function(){var e=this,t=this.isDestinationFolderSharedToMe,n=this.nativeFile,r=this.destinationZone,i=this.fileName,a=this.destinationFolderOwnerName,o=this.destinationFolderRecordName,s=encodeURI(i),c=lX(n),l=function(e,t,n,r){var i=OT.a("ws/%{zone}/upload/web",{zone:e});return t&&(i+="/"+n+"/"+r),i}(r,t,a,o),u=Wb(Gb.getValidateToken()),d=al.a.create(this.docWebService.urlForService(l));d.appendQueryParameter("token",u);var h={headers:{"Content-Type":"text/plain"},method:"POST",body:{filename:c?s.replace(IX,""):s,type:c?"PACKAGE":"FILE",content_type:n.type,size:n.size},useCredentialsIfCrossOrigin:!0,shouldReportSuccess:!0,shouldReportFailure:!0,reportingPathname:$Y(l,[new RegExp(a||"$^"),new RegExp(o||"$^")])};return this.fetchUrlWithRetry(d,h,{maxAttempts:2,getRetryWaitTime:function(e){var t,n,r=null==(t=e.response)||null==(n=t.body)?void 0:n.retryAfter;return r?1e3*r:2e3},getShouldRetry:function(e){var t,n=null==(t=e.response)?void 0:t.status;return 500<=n&&n<600}}).then((function(e){return b.a.all([e.status,EX(e)])})).then((function(r){var i=r[0],a=r[1],o=a.data,s=i;if(t&&404===s&&(s=jG.DestinationDeleted),yt.a(o)){if(-1===s)return eu.cancelledResult();if(a.ok){var c=o[0];return eu.okResult({uploadUrl:c.url,documentId:c.document_id,ownerId:c.owner_id,owner:c.owner})}return eu.failedResult(e.composeError("Unable to prepare file for upload. DocWS upload request failed.",n,d,s))}return eu.failedResult(e.composeError("Unable to prepare file for upload. Cannot parse file upload prepare HTTP response",n,d,s))}))},composeError:function(e,t,n,r){var i=t.size,a=n.href;return CX.handleResponseError(r,e,t,i,a)},shouldAllowCancel:function(){return!0},cancel:function(){this.__s._$2He$cancel.apply(this,arguments);var e=this._request;e&&(e.abort(),e._promise.resolve({status:-1}))},__superMap:{_$y1$init:"init",_$2He$cancel:"cancel"},staticMembers:{__QUALIFIED_CLASS_NAME__:"PrepareNativeFileUploadSubtask"}}),TX=_X.create(),AX=tG.extend({nativeFile:y.c({set:function(e){return this._nativeFileDidChange(e),e},get:function(){return this._nativeFile}}),uploadUrl:null,progress:y.c({readOnly:!0,get:function(){return this._progress}}),init:function(e){this.willInitialize(),this.__s._$QD$init.apply(this,arguments),this._request=null,this._progress=gX.create(),this.didInitialize()},willInitialize:function(){this._isInitializing=!0},didInitialize:function(){this._isInitializing=!1,this._nativeFileDidChange(this.nativeFile)},startRun:function(){var e=this,t=this.get("nativeFile"),n=this.get("uploadUrl"),r=this._request=SD.create({body:t,url:n}),i=r.get("uploadProgress");this._reqProgressObserver=i.observe("didChange",(function(){e._tpnfu_requestProgressDidChange(i)}));var a=t.size;return r.send().catch((function(e){return e})).then((function(r){var i=r.status,o=r.encodedBody;if(Kl(i)){var s=function(e,t,n,r,i){var a;try{a=JSON.parse(e)}catch(s){var o=yX.create({type:jG.FatalError,status:n,nativeFile:t,message:"Cannot transfer native file payload. Unable to parse file upload transfer payload HTTP response",size:r,uploadUrl:i});return eu.failedResult(o)}return eu.okResult(a)}(o,e.get("nativeFile"),i,a,n),c=!s.ok;if(s.ok&&s.data){var l=s.data.singleFile;if(l)c=a===l.size;else{var u=s.data.hexBrSyntheticChecksum;c=u&&u.length>=1}}if(c)return s}if(-1===i)return eu.cancelledResult();var d=t,h=a,f=TX.handleResponseError(i,"Cannot transfer native file payload. Request failed.",d,h,n);return eu.failedResult(f)}))},shouldAllowCancel:function(){return!0},cancel:function(){this.__s._$1Kr$cancel.apply(this,arguments);var e=this._request;e&&(e.abort(),e._promise.resolve({status:-1}))},_nativeFileDidChange:function(e){if(!this._isInitializing){var t=e?e.size:0;this._progress.set("totalAmount",t)}},_tpnfu_requestProgressDidChange:function(e){var t=this._progress,n=e.get("bytesTransferred")||0,r=e.get("bytesTotal")||1,i=t.get("totalAmount")||0,a=Math.round(i*n/r);t.set("amountComplete",a),a===i&&t.complete()},__superMap:{_$QD$init:"init",_$1Kr$cancel:"cancel"},staticMembers:{__QUALIFIED_CLASS_NAME__:"TransferPayloadNativeFileUploadSubtask"}}),NX=tG.extend(v.a,{nativeFile:null,destinationFolder:null,fileName:null,docWebService:null,fetchUrlWithRetry:null,progress:y.c({readOnly:!0,get:function(){return this._fileUploadProgress}}),init:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.docWebService=e,this.fetchUrlWithRetry=t,this.__s._$SY$init.call(this,n),Object.defineProperties(this,{_currentRunningSubtask:{value:null,writable:!0},_transferSubtask:{value:this._loadTransferPayloadSubtask()},_fileUploadProgress:{value:nX.create()},_prepareSubtaskProgress:{value:gX.create({totalAmount:1})},_completeSubtaskProgress:{value:gX.create({totalAmount:1})}});var r=this._fileUploadProgress,i=this._prepareSubtaskProgress,a=this._transferSubtask.progress,o=this._completeSubtaskProgress;r.addChildProgress(i),r.addChildProgress(a),r.addChildProgress(o),r.excludeAmountForChildProgress(i),r.excludeAmountForChildProgress(o),r.adjustWeightForChildProgress(i,.05),r.adjustWeightForChildProgress(o,.05)},startRun:function(){var e=this,t=this._loadPrepareSubtask();return this._schedulePrepareSubtask(t).then((function(t){if(e._prepareSubtaskProgress.complete(),t.ok){var n=e._transferSubtask;n.nativeFile=e.nativeFile;var r=t.data.uploadUrl;return n.uploadUrl=r,e._scheduleTransferPayloadSubtask(n).then((function(e){return e.ok?eu.okResult({documentId:t.data.documentId,prepareResult:t.data,transferResult:e.data}):e}))}return t})).then((function(t){if(t.ok){var n=t.data,r=n.prepareResult,i=n.transferResult,a=e._loadCompleteSubtask(n.documentId,i,r),o=e.nativeFile;if(!!lX(o)||!!i.singleFile.size)return e._scheduleCompleteSubtask(a);var s=yX.create({type:jG.FatalError,status:t.status,message:"Cannot complete native file upload. Cannot initiate DocWS update request due to empty size from ContentWS",size:i.singleFile.size,uploadUrl:e.uploadUrl,nativeFile:o});return eu.failedResult(s)}return t})).then((function(t){return e._completeSubtaskProgress.complete(),e._currentRunningSubtask=null,t}))},shouldAllowCancel:function(){var e=this._currentRunningSubtask;return!e||e.isCancellable},cancel:function(){this.__s._$1s8$cancel.apply(this,arguments);var e=this._currentRunningSubtask;e&&e.cancel()},_loadPrepareSubtask:function(){var e=this.nativeFile,t=this.fileName,n=this.destinationFolder,r=this.docWebService,i=this.fetchUrlWithRetry,a=n.isSharedToMe&&n.sharedFolderFromHierarchy,o=n.shareIDFromHierarchy,s=yt.a(o)?n.shareIDFromHierarchy.zoneID.ownerRecordName:null,c=yt.a(o)?n.shareIDFromHierarchy.recordName:null,l=a?n.shareIDFromHierarchy.zoneID.zoneName:n.zone;return OX.create({isDestinationFolderSharedToMe:a,destinationFolderOwnerName:s,destinationFolderRecordName:c,nativeFile:e,fileName:t,destinationZone:l,docWebService:r,fetchUrlWithRetry:i})},_loadTransferPayloadSubtask:function(){return AX.create()},_loadCompleteSubtask:function(e,t,n){return SX.create(this.docWebService,{nativeFile:this.nativeFile,destinationZone:this.destinationZone,destinationFolder:this.destinationFolder,documentId:e,transferCommitInfo:t,owner:n.owner,fileName:this.fileName})},_schedulePrepareSubtask:function(e){return this._currentRunningSubtask=e,LG.scheduleTask(e)},_scheduleTransferPayloadSubtask:function(e){return this._currentRunningSubtask=e,e.run()},_scheduleCompleteSubtask:function(e){return this._currentRunningSubtask=e,LG.scheduleTask(e)},__superMap:{_$SY$init:"init",_$1s8$cancel:"cancel"},staticMembers:{__QUALIFIED_CLASS_NAME__:"NativeFileUploadTask"}}),MX=tG.extend({init:function(e,t,n){this.targetItem=e,this.docWebService=t,this.__s._$3v$init.call(this,n)},targetItem:void 0,docWebService:void 0,startRun:function(){return this.docWebService.createShortGuid(this.targetItem)},__superMap:{_$3v$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CreateShortGuidTask"}}),DX=tY.extend({type:MG.UploadItem,destinationFolder:null,nativeFile:null,progress:v.g({readOnly:!0,get:function(){return this._transactionProgress}}),stagedFile:y.c({readOnly:!0,get:function(){return this._stagedFile}}),docWebService:y.c(),fetchURLWithRetry:null,init:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};Object.assign(a,{nativeFile:t,destinationFolder:n,docWebService:r,fetchUrlWithRetry:i}),this.__s._$iz$init.call(this,e,e,a),Object.defineProperties(this,{_transactionProgress:{value:nX.create()}})},shouldAllowCancelDuringCommit:function(){var e=this._nativeFileUploadTask;return!!e&&e.isCancellable},getTransactionItemsForFullRevert:function(){return[this._stagedFile]},cancel:function(){this.__s._$vz$cancel.apply(this,arguments);var e=this._nativeFileUploadTask;e&&e.cancel()},didStartPreparing:function(){var e=this.destinationFolder,t=qh.createPlaceholder(void 0,void 0,void 0,Ru);this._stagedFile=t,e.prepareForTransaction(this)},didStartStaging:function(){for(var e=this,t=this.destinationFolder,n=this.nativeFile,r=this.stagedFile,i=t.content,a=n.name,o=function(e){return oX(e)[0]||e}(a),s=sX(a),c=o,l=2;i.hasFileWithNameAndExtension(c,s);)c=o+" "+l,l++;var u=uX(n);Object.assign(r,{name:c,extension:s,type:xh.FILE.value,dateModified:u.toJSON(),lastOpenTime:new Date,parentId:t.id,isUploading:!0,uploadProgress:this._transactionProgress,fileSystem:this.fileSystem,tempId:r.id}),r.uploadProgress.observe("changed",(function(t){var n,r,i=null==(n=e.stagedFile)?void 0:n.uploadProgress,a=null==(r=e.stagedFile)?void 0:r.id;a&&"number"===typeof(null==i?void 0:i.totalAmount)&&a&&wd.uploadProgressCache.set(a,{bytesTotal:i.totalAmount,bytesCompleted:i.amountComplete})})),Ed.set(r.id,"Staged"),this.addTransactionItem(r);var d=t.content;d.beginChanges(),d.addItem(r),d.endChanges()},run:function(){var e=this;this.__s._$1bE$run.call(this);var t=this._stagedFile,n=this.nativeFile,r=this.destinationFolder,i=this.docWebService,a=this.fetchUrlWithRetry,o=t.extension,s=t.name+(o?"."+o:"");s=s.replace(/\//g,":");var c=this._nativeFileUploadTask=NX.create(i,a,{nativeFile:n,destinationFolder:r,fileName:s});this._transactionProgress.addChildProgress(c.progress);var l=this.loggingService,u={op:"upload",dest_isChainedToParent:r.isChainedToParent?"true":"false",dest_isSharedByMe:r.isSharedByMe?"true":"false",dest_isSharedDirectly:r.isSharedDirectly?"true":"false",dest_isSharedIndirectly:r.isSharedIndirectly?"true":"false",dest_isSharedToMe:r.isSharedToMe?"true":"false"};return yt.a(l)&&l.recordStat("UploadStarted",u),this._scheduleNativeFileUploadTask(c).then((function(t){var n=t.data;if(t.ok){var i=e._documentServiceFileDataHash=n.documentServiceFileDataHash,a=r.shareIDFromHierarchy,o=r.isSharedToMe&&r.isSharedDirectly&&yt.a(a)?a.zoneID.zoneName:r.zone,s=(r.isSharedToMe?"FILE_IN_SHARED_FOLDER":"FILE")+"::"+o+"::"+i.document_id,c=UZ.create(),h=BZ.create({itemID:s,status:BZ.Status.OK,tempId:e.stagedFile.tempId});return c.addInfoItem(h),eu.okResult(c)}if(t.failed)if(l){var f=t.data;l.recordStat("UploadFailed",Object.assign({contextMessage:f.message,size:f.size,requestUrl:f.requestUrl,errorType:f.type,status:f.status},u))}else d.b.error(t.data.message);else if(t.cancelled){var p=UZ.create({cancelled:!0}),g=BZ.create({status:BZ.Status.Cancelled,tempId:e.stagedFile.tempId});return p.addInfoItem(g),eu.cancelledResult(p)}return t}))},applyChangeForCommitInfoItem:function(e){var t,n=this._stagedFile,r=this._documentServiceFileDataHash,i=this.destinationFolder,a=i.shareIDFromHierarchy,o=i.isSharedToMe&&i.isSharedDirectly&&yt.a(a)?a.zoneID.zoneName:i.zone,s=n.dateModified||new Date(r.mtime),c=n.lastOpenTime||new Date;wd.uploadProgressCache.set(n.id,{bytesTotal:n.uploadProgress.totalAmount,bytesCompleted:n.uploadProgress.amountComplete}),qh.replacePrimaryKeyInStore(n.id,e.itemID);var l={id:e.itemID,name:n.name,extension:n.extension,type:xh.FILE.value,dateModified:s.toJSON(),lastOpenTime:c.toJSON(),item_id:null!=(t=r.item_id)?t:null,parentId:i.id,zone:o,docwsid:r.document_id,etag:r.etag,sharingToken:r.sharing_token,size:r.size,shortGUID:r.short_guid};if(i.isSharedToMe){var u={recordName:a.recordName,shareName:a.shareName,zoneID:a.zoneID};l.shareID=u}Dd().loadData(qh,l),n.isUploading=!1,n.uploadProgress.changed(),i.content.updateItem(n),wd.uploadProgressCache.set(n.id,{bytesTotal:n.uploadProgress.totalAmount,bytesCompleted:n.uploadProgress.amountComplete}),r.short_guid||LG.scheduleTask(MX.create(n,this.docWebService)).then((function(e){var t=e.ok,r=e.data;t&&!n.isDisposed&&(n.etag=r.etag,n.shortGUID=r.short_guid)}))},revertChangeForCommitInfoItem:function(e){var t=this._stagedFile,n=this.destinationFolder.content;n.beginChanges(),n.removeItem(t),n.endChanges(),wd.uploadProgressCache.set(t.id,void 0)},didFinalize:function(){this.destinationFolder.content.finalizeForTransaction(this)},_scheduleNativeFileUploadTask:function(e){return pX.scheduleTask(e)},__superMap:{_$iz$init:"init",_$vz$cancel:"cancel",_$1bE$run:"run"},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadFileTransaction"}}),RX=function(e){return!/^\./.test(e.name)},LX=function(e){if(arguments.length<1)throw new au("Necessary arguments not provided.",this);return e.size>0},kX=function(e){if(arguments.length<1)throw new au("Necessary arguments not provided.",this);return e.size<=10737418240},xX=1e6,FX=function(e){var t,n;if(arguments.length<1)throw new au("Necessary arguments not provided.",this);t=b.a.create();try{var r=new FileReader;r.onload=function(){return t.resolve(!0)},r.onerror=function(e){return t.resolve(!1)},n=e.size>xX?e.slice(0,xX):e,r.readAsBinaryString?r.readAsBinaryString(n):r.readAsText&&r.readAsText(n)}catch(i){t.resolve(!1)}return t};function PX(e,t){return t.acceptsFilesWithExtension(sX(e.name))}var jX=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.uid=e,this.character=t,this.children=new Map,this.parent=n}var t=e.prototype;return t.getUniqueId=function(){return this.uid},t.getCharacter=function(){return this.character},t.addChild=function(e){var t=e.getCharacter(),n=this.children.get(t),r=n&&n.getUniqueId()===e.getUniqueId();n&&!r||this.children.set(t,e)},t.hasChild=function(e){return null!==this.children.get(e)},t.getChild=function(e){return this.children.get(e)},t.getChildren=function(){return this.children},t.getNumberOfChildren=function(){return this.children.size},t.getParent=function(){return this.parent},t.toString=function(){return"TrieNode #"+this.getUniqueId()+", character: "+this.getCharacter()+", children: "+this.printChildrenAsString()},t.printChildrenAsString=function(){var e="";return this.children.forEach((function(t,n){e+=n+", "})),e},e}();function UX(e,t){return UX=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},UX(e,t)}var BX="prefixes or filenames",VX=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:BX;this.allWordsArray=e,this.rootNode=new jX(0),this.buildDirection=t,this.defaultDirection=this.buildDirection===BX,this.terminalIndexes=[],this.totalNodes=0,this.buildTrie()}var t=e.prototype;return t.buildTrie=function(){for(var e=new WX(this.allWordsArray);e.hasNext();)for(var t=this.getRootNode(),n=e.next(),r=e.getCurrentIndex(),i=this.defaultDirection?new zX(n):new HX(n);i.hasNext();){var a=i.next().toLocaleLowerCase(),o=this._createSingleCharacterNode(a,t,n);t.addChild(o);var s=t.getParent();s&&s.addChild(t),i.hasNext()||(this.terminalIndexes[o.getUniqueId()]=r),t=o}},t.addToTrie=function(){},t._createSingleCharacterNode=function(e,t){var n=t.getChild(e);if(!n){var r=this.totalNodes+1,i=new jX(r,e,t);return this.totalNodes++,i}return n},t.containsMatch=function(e){},t.matchesExactly=function(e){},t.containsPrefixMatch=function(e){},t.containsSuffixMatch=function(e){},t.getRootNode=function(){return this.rootNode},t.getAllStoredStrings=function(){return this.allWordsArray},t.toString=function(){var e=this,t=this.getRootNode().getChildren(),n="",r=[];return t.forEach((function(t,n){r=e._buildPrintablePath(t,r)})),n+r.toString()},t._buildPrintablePath=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=e;r=arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?r+" -> [ "+i.getCharacter()+" ]":"[ "+i.getCharacter()+" ]";var a=i.getChildren();return 0===i.getNumberOfChildren()?(n.push(new String(r+"\n")),n):(void 0!==this.terminalIndexes[i.getUniqueId()]&&i.getNumberOfChildren()>0&&(r+="* "),a.forEach((function(e,i){n=t._buildPrintablePath(e,n,r,!1)})),n)},e}(),WX=function(){function e(e){this.arrayColl=e,this.currentIndex=-1,this.nextIndex=0}var t=e.prototype;return t.hasNext=function(){return this.arrayColl&&this.nextIndex<this.arrayColl.length},t.next=function(){return this.currentIndex=this.nextIndex,this.nextIndex++,this.arrayColl[this.currentIndex]},t.getCurrentIndex=function(){return this.currentIndex},t.getNextIndex=function(){return this.nextIndex},e}(),zX=function(){function e(e){this.storedString=e,this.currentIndex=this._getStartingIndex()}var t=e.prototype;return t.hasNext=function(){return this.storedString&&this.currentIndex<this.storedString.length},t.next=function(){var e=this.storedString[this.currentIndex];return this._adjustIndex(),e},t.getCurrentIndex=function(){return this.currentIndex},t.getAdjustmentAmount=function(){return 1},t._getStartingIndex=function(){return 0},t._adjustIndex=function(){this.currentIndex++},e}(),HX=function(e){var t,n;function r(t){return e.call(this,t)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,UX(t,n);var i=r.prototype;return i.hasNext=function(){return this.currentIndex>=0},i.getAdjustmentAmount=function(){return-1},i._getStartingIndex=function(){return this.storedString.length-1},i._adjustIndex=function(){return this.currentIndex--},r}(zX);function GX(e,t){return GX=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},GX(e,t)}var $X=function(e){var t,n;function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.call(this,t)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,GX(t,n);var i=r.prototype;return i.containsStringPrefixMatch=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootNode,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=[],i=0;i<e.length;i++){var a=e[i].toLocaleLowerCase(),o=t.getChildren().get(a);if(!o)return!1;t=o;var s=this.terminalIndexes[t.getUniqueId()];if(void 0!==s&&s>=0||this.matchingChild&&0===this.matchingChild.getNumberOfChildren()){var c=this.allWordsArray[s];return r.push(n+c),!0}}},i.containsMatch=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootNode,n=0;n<e.length;n++)if(this.containsStringPrefixMatch(e.substring(n),t))return!0;return!1},i.matchesExactly=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.rootNode,r=[],i=0;i<e.length;i++){var a=e[i].toLocaleLowerCase(),o=n.getChildren().get(a);if(!o)return!1;n=o;var s=this.terminalIndexes[n.getUniqueId()];if(void 0!==s&&i+1===e.length){var c=this.allWordsArray[s];return r.push(t+c),!0}}return!1},i.containsPrefixMatch=function(e){return 1===e.length?this.containsCharacterPrefixMatch(e[0]):this.containsStringPrefixMatch(e)},i.containsCharacterPrefixMatch=function(e){return this.rootNode.hasChild(e)},r}(VX);function KX(e,t){return KX=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},KX(e,t)}var QX=function(e){var t,n;function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.call(this,t,"suffixes or extensions")||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,KX(t,n);var i=r.prototype;return i.containsSuffixMatch=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.rootNode,r=[],i=e.length-1;i>0;i--){var a=e[i].toLocaleLowerCase(),o=n.getChildren().get(a);if(!o)return!1;var s=this.terminalIndexes[o.getUniqueId()];if(void 0!==s&&s>=0||this.matchingChild&&0===this.matchingChild.getNumberOfChildren()){var c=this.allWordsArray[s];return r.push(t+c),!0}n=o}},i.hasMatchesBeginningWithCharacter=function(e){return this.rootNode.hasChild(e)},r}(VX),qX={DOCUMENT_BEING_SAVED:"(A Document Being Saved",TEMP_MSOFFICE_LOCKFILE:"~$"},ZX={WEAK_PKG:"weakpkg"},YX={TEMP:"tmp",NO_SYNC:"nosync",DROPBOX:"dropbox",DROPBOX_ATTRIBUTES:"dropbox.attr",PHOTOS_LIBRARY:"photoslibrary",PHOTO_LIBRARY:"photolibrary",MIGRATED_PHOTO_LIBRARY:"migratedphotolibrary",MIGRATED_APERATURE_LIBRARY:"migratedaperturelibrary",APLIBRARY:"aplibrary",MIGRATED_APLIBRARY:"migratedaplibrary"},XX=sJ({MICROSOFT_USER_DATA:"Microsoft User Data",RECYCLE_BIN:"$RECYCLE.BIN",IPHOTO_LIBRARY:"iPhoto Library",DROPBOX:"Dropbox",ONE_DRIVE:"OneDrive",IDRIVE_SYNC:"IDrive-Sync",DS_STORE:".DS_Store",TEMP:"tmp",UBD:".ubd",DESKTOP_INI:"desktop.ini",FOLDER_ICON:"icon\\r"}),JX=sJ(qX),eJ=sJ(ZX),tJ=JX.concat(eJ),nJ=sJ(YX),rJ=new $X(XX),iJ=new QX(nJ),aJ=new $X(tJ),oJ=function(e,t){var n=e.name;return!(aJ.containsPrefixMatch(n)||rJ.matchesExactly(n)||aJ.containsMatch(n))&&!iJ.containsSuffixMatch(n)};function sJ(e){var t=[];for(var n in e)t.push(e[n]);return t}var cJ=oe.a.extend(v.a,{activeTransactions:v.g({dependencies:["_activeFileUploadTransactions"],readOnly:!0,get:Object.assign((function(){if(this._activeFileUploadTransactions){for(var e=this._activeFileUploadTransactions,t=Object.keys(e),n=t.length,r=new Array(t.length),i=0;i<n;i++){var a=e[t[i]];r[i]=a.transaction}return r}return[]}),{__CW__getter:function(e,t,n,r){if(r.internalGet(this,t[0+n])){for(var i=r.internalGet(this,t[0+n]),a=Object.keys(i),o=a.length,s=new Array(a.length),c=0;c<o;c++){var l=i[a[c]];s[c]=l.transaction}return s}return[]}})}),_activeFileUploadTransactions:v.g(),activeTransactionsCount:v.g({readOnly:!0,get:function(){return this._activeFileUploadTransactionsCount}}),hasActiveTransactions:v.g({readOnly:!0,dependencies:["activeTransactionsCount"],get:Object.assign((function(){return this.activeTransactionsCount>0}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])>0}})}),activatedTransaction:v.i(),transactionFinalized:v.i(),init:function(e,t){this.__s._$nq$init.call(this,t),Object.defineProperties(this,{_uploadFileTransactionFactory:{value:e},_activeFileUploadTransactions:{value:{}},_activeFileUploadTransactionsCount:{value:0,writable:!0},_uploadFileToTransactionMap:{value:{}},_stagedTransactions:{value:[]}})},generateUploadFileTransaction:function(e,t){return this._uploadFileTransactionFactory(e,t)},commitUploadFileTransaction:function(e,t){var n=this;return this._validateAndPrepareTransaction(e,t).then((function(t){return t.ok?n._commitStagedTransaction(e):t}))},cancelUploadForFile:function(e){var t=this._uploadFileToTransactionMap[sg.a(e)];t?t.get("isCancellable")?t.cancel():d.b.warn("Unable to cancel file upload. Cancel not allowed"):d.b.warn("Unable to cancel file upload. Missing transaction")},_commitStagedTransaction:function(e){return this.activatedTransaction(e),this._activeFileUploadTransactionsCount+=1,this.propertyChanged("activeTransactionsCount"),e.commit()},_stageAndManageTransaction:function(e){var t=this;if(e){e.stage();var n=e.get("stagedFile"),r=e.observe("finalized",(function(n){n&&t._transactionDidFinalize(e)})),i=e.observe("cancelled",(function(n){n&&t._transactionDidCancel(e)})),a=e.observe("failed",(function(n){n&&t._transactionDidFail(e)}));return this._activeFileUploadTransactions[sg.a(e)]={failureObserver:a,cancellationObserver:i,finalizationObserver:r,transaction:e,file:n},this._uploadFileToTransactionMap[sg.a(n)]=e,e}d.b.warn("Unable to upload file to folder. No transaction returned")},transactionCancelled:v.i(),transactionFailed:v.i(),_transactionDidCancel:function(e){this.transactionCancelled(e)},_transactionDidFail:function(e){this.transactionFailed(e)},_transactionDidFinalize:function(e){var t=sg.a(e),n=this._activeFileUploadTransactions,r=n[t];if(r){r.failureObserver.disconnect(),r.cancellationObserver.disconnect(),r.finalizationObserver.disconnect();var i=r.file;delete this._uploadFileToTransactionMap[sg.a(i)],delete n[t],this._activeFileUploadTransactionsCount--,this.propertyChanged("activeTransactionsCount"),this.transactionFinalized(e)}else d.b.warn("Cannot complete finalizing file upload transaction. Missing info.")},_validateAndPrepareTransaction:function(e,t){var n=this,r=e.destinationFolder;return function(e,t,n){var r=this,i=[],a=lY.create(e,t,{multipleFiles:n&&n.multipleFiles,meta:n});i.push({validation:function(e){return!e||e&&!e.isAccessDenied},arguments:[n],fail:function(){return cY.create(sY.AccessDenied,a)}}),i.push({validation:PX,arguments:[e,t],fail:function(){return cY.create(sY.BadAppLibraryType,a)}}),i.push({validation:FX,arguments:[e],async:!0,fail:function(){return cY.create(sY.NotCompressed,a)}}),i.push({validation:oJ,arguments:[e],fail:function(){return cY.create(sY.UnsupportedExtension,a)}}),i.push({validation:RX,arguments:[e],fail:function(){return cY.create(sY.HiddenFile,a)}}),i.push({validation:LX,arguments:[e],fail:function(){return cY.create(sY.SizeTooSmall,a)}}),i.push({validation:kX,arguments:[e],fail:function(){return cY.create(sY.SizeTooBig,a)}});var o=i.map((function(e){var t=b.a.create();return e.async||(e.validation=b.a.wrapFunction(e.validation)),e.validation.apply(r,e.arguments).then((function(n){if(!0===n)t.resolve(eu.okResult(!0));else{var r=e.fail();t.resolve(eu.failedResult(r))}})),t}));return b.a.all(o).then((function(e){for(var t=[],n=[],r=0;r<e.length;r++){var i=e[r];i.ok?t.push(i.data):n.push(i.data)}return n.length>0?eu.failedResult(n):eu.okResult(t)}))}(e.nativeFile,r,t).then((function(t){return t.ok?eu.okResult(n._stageAndManageTransaction(e)):t}))},__superMap:{_$nq$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadFilesService"}}),lJ=oe.a.extend({delegate:null,init:function(e){this.__s._$2J$init.call(this,e),this._cache={}},queueItemForKeyIdentifier:function(e,t){var n=this._cache[t];n||(n=this._cache[t]=[]),n.push(e)},dequeueItemForKeyIdentifier:function(e){var t=this._cache[e];return t?t.pop():null},clearAllItems:function(){this._cache={}},poolContainsItemsForKeyIdentifier:function(e){var t=this._cache[e];return t&&t.length>0},__superMap:{_$2J$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ItemPool"}}),uJ="IMAGE_WORKER",dJ=oe.a.extend({numberOfDownloadImageTasks:y.c(4),scheduler:y.c({get:function(){return this._scheduler}}),init:function(e){this.__s._$BC$init.apply(this,arguments),this._scheduler=this.loadTaskScheduler(),this._currentTasksList={}},loadTaskScheduler:function(){return hX.create({trace:!1,traceId:"downloadImageTaskController",allowedMaximumRunningTasks:this.numberOfDownloadImageTasks})},downloadImageForURL:function(e,t){var n=this,r=fJ.create({url:t,identifier:e});return this._addTaskToCurrentTasksList(e,r),this._scheduler.scheduleTask(r).then((function(t){return n._removeTaskFromCurrentTasksList(e),t}))},enqueueWorker:function(e){hJ.enqueueWorker(e)},cancelAllTasks:function(){this._scheduler.cancelAllQueuedTasks()},cancelTask:function(e){var t=this._currentTasksList[e];t&&t.isCancellable&&(t.cancel(),this._removeTaskFromCurrentTasksList(e))},_addTaskToCurrentTasksList:function(e,t){this._currentTasksList[e]=t},_removeTaskFromCurrentTasksList:function(e){delete this._currentTasksList[e]},__superMap:{_$BC$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownloadImageService"}}),hJ=oe.a.extend({init:function(e){this.__s._$hV$init.apply(this,arguments),this._pool=lJ.create()},dequeueWorker:function(){return this._pool.dequeueItemForKeyIdentifier(uJ)||null},enqueueWorker:function(e){this._pool.queueItemForKeyIdentifier(e,uJ)},__superMap:{_$hV$init:"init"}}).create(),fJ=tG.extend({url:null,identifier:null,startRun:function(){var e=b.a.create(),t=hJ.dequeueWorker();return t||((t=new Image).crossOrigin="https://cvws.icloud-content.com"),t.onload=function(){e.resolve(eu.okResult(t))},t.onerror=function(n){hJ.enqueueWorker(t),e.resolve(eu.failedResult())},t.src=this.url,e},_getImageDataFromCanvas:function(e){var t=document.createElement("canvas");t.height=e.height,t.width=e.width;var n=t.getContext("2d");return n.drawImage(e,0,0,e.width,e.height),n.getImageData(0,0,e.width,e.height)},shouldAllowCancel:function(){return!this.isRunning},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownloadImageTask"}}),pJ=oe.a.extend(v.a,{init:function(e,t){this._docWebService=e,this.__s._$8n$init.call(this,t)},_docWebService:null,extractItemUrlFromDownload:function(e){var t=e.item,n=e.package_token,r=e.data_token,i=yt.a(n);return{item:t,url:yt.a(r)?r.url:i?n.url:void 0,isPackage:i}},getURLForItem:function(e){var t=this;if(!e)throw new Error("getURLForItem() needs an item, but got "+e);return this._docWebService.download(e).then((function(e){return e.ok?eu.okResult(t.extractItemUrlFromDownload(e.data)):e}))},__superMap:{_$8n$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ItemURLService"}}),gJ=pJ.extend({extractItemUrlFromDownload:function(e){var t=e.thumbnail_token,n=yt.a(t),r=this.__s._$Fl$extractItemUrlFromDownload.call(this,e);return r.url=n?t.url:function(e){var t=e.size,n=e.extension;return!!(n&&(n=n.toLowerCase(),vJ.indexOf(n)>=0&&t<mJ&&t>0))}(r.item)?r.url:void 0,r},__superMap:{_$Fl$extractItemUrlFromDownload:"extractItemUrlFromDownload"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ThumbnailURLService"}}),mJ=1048576,vJ=["png","jpg","jpeg","gif","bmp"],yJ=kd.a(["gif","jpeg","jpg","mp3","mp4","mov","pdf","png","txt","wav"]),_J={ie9:kd.a(["mov","mp4","wav","pdf"]),chrome:kd.a(["mp4","mov"]),firefox:kd.a(["mp4","mov"]),safari12OrLower:kd.a(["pdf"])},bJ=kd.a(["key","key-tef","keynote","keynote-tef","numbers","numbers-tef","pages","pages-tef"]),wJ=oe.a.extend(v.a,{init:function(e,t,n,r,i,a,o){this.itemURLService=e,this.downloadService=t,this.loggingService=n,this.dsid=i,this.domain=a,this._docWebService=r,this.__s._$eo$init.call(this,o)},staticMembers:{actions:{OPEN_IN_BROWSER:0,DOWNLOAD:1,OPEN_IN_IWORK:2},__QUALIFIED_CLASS_NAME__:"OpenFileService"},downloadService:null,itemURLService:null,loggingService:null,loadBrowser:function(){return A.a.sharedInstance},_browserDoesNotSupportExtension:function(e){var t,n=this._getLowerCaseFileExtension(e),r=this.loadBrowser();return r.isSafari12OrLower?t="safari12OrLower":r.isIE9OrLower?t="ie9":r.isChrome?t="chrome":r.isFirefox&&(t="firefox"),!!t&&_J[t][n]},_canOpenFileInBrowser:function(e){var t=this._getLowerCaseFileExtension(e);return!(!yJ[t]||this._browserDoesNotSupportExtension(e))},_canOpenFileInIWork:function(e){var t=this._getLowerCaseFileExtension(e);return bJ[t]},openFile:function(e){var t=this;if(e.isInTrash)return b.a.resolve(eu.okResult());var n=function(n){if(n.ok){var r=n.data;t.itemWasOpened(r).then((function(n){n.ok||t._handleLastOpenTimeUpdateFailure(e)}))}return n};return this._canOpenFileInBrowser(e)?this._openFileInBrowser(e).then(n):this._canOpenFileInIWork(e)?this._openFileInIWork(e).then(n):this._downloadFile(e)},itemWasOpened:function(e){var t=Date.now(),n={document_id:e.nonAliasedDocWsId,lastOpenedTime:t,command:"modify_file"};return this._docWebService.updateDocument(e,n).then((function(t){return t.ok?eu.okResult(e):eu.failedResult(e)}))},_openFileInBrowser:function(e){if(!e)throw new Error("_openFileInBrowser needs a file, but got "+e+"!");var t=globalThis.open("","_blank");return t?this.itemURLService.getURLForItem(e).then((function(n){var r,i=n.data;if(n.ok){var a=i.url;if(a){var o=-1===a.indexOf("?")?"?":"&";t.location.href=a+o+"cd=i",r=eu.okResult(e)}else t&&t.close(),r=eu.failedResult(i)}else t.close(),r=eu.failedResult(i);return r})):b.a.resolve(eu.failedResult())},_downloadFile:function(e){var t=this;if(!e)throw new Error("_downloadFile needs a file, but got "+e+"!");return this.itemURLService.getURLForItem(e).then((function(e){var n=e.data;return e.ok?t.downloadService.downloadFromURL([e.data.url]).then((function(e){return"FAILED"===e[0]?eu.failedResult(n):eu.okResult(n)})):e}))},_openFileInIWork:function(e){var t=this,n=this._getOpenUrlForFile(e),r={errorCode:"UNK",item:e};if("string"===typeof n){var i=n;return this._openWindowForFileInIWork(i,e)?b.a.resolve(eu.okResult(e)):b.a.resolve(eu.failedResult(r))}var a=this._openWindowForFileInIWork("",e);if(a){var o=e.isSharedDirectlyOrIndirectly,s=e.isSharedDirectly,c=e.isSharedToMe;return n.then((function(n){if(n.ok){var i=n.data;return a.location.href=i,eu.okResult(e)}return a.close(),t.loggingService.recordStat("couldNotOpenIWorkFile",{isSharedDirectlyOrIndirectly:o,isSharedDirectly:s,isSharedToMe:c}),eu.failedResult(r)}))}return b.a.resolve(eu.failedResult(r))},_openWindowForFileInIWork:function(e,t){return globalThis.open(e,"_blank")},_getOpenUrlForFile:function(e){var t=this;if(this._mustFetchUnifiedToken(e))return this._docWebService.lookup(e).then((function(n){var r=n.ok,i=n.data;return r&&yt.a(i.unified_token)?eu.okResult(t._composeIWorkUrl(e,i.unified_token)):eu.failedResult()}));var n=this._composeIWorkUrl(e);return null===n?b.a.resolve(eu.failedResult()):n},_mustFetchUnifiedToken:function(e){var t=e.shortGUID,n=e.isSharedToMe,r=e.sharingToken,i=e.isSharedByMe,a=e.isSharedDirectlyOrIndirectly,o=e.isSharedDirectly,s=yt.a(t),c=n&&o&&yt.a(r);return!s&&!c&&!(i||!a)},_composeIWorkUrl:function(e,t){var n=e.extension,r=e.shortGUID,i=e.isSharedToMe,a=e.sharingToken,o=e.name,s=e.isSharedByMe,c=e.isSharedDirectlyOrIndirectly,l=e.isSharedDirectly,u="www."+this.domain,d=n&&n.replace(/-tef$/,""),h="//"+u+"/"+("key"===d.toLowerCase()?"keynote":d),f=yt.a(o)?"#"+encodeURIComponent(o.replace(/\s/g,"_"))+":nooverride":"#:nooverride",p=yt.a(r),g=i&&l&&yt.a(a),m=s||!c,v=this.dsid,y=t?"utoken:"+t:p?r:m?"docws:"+v+":"+e.zone+":"+e.docwsid:g?a:null;return null===y?null:h+"/"+y+"?redirectReason=off"+f},_getLowerCaseFileExtension:function(e){var t=e.extension;return t?t.toLowerCase():""},_handleLastOpenTimeUpdateFailure:function(e){this.loggingService.recordStat("couldNotUpdateItemLastOpenedTime"),d.b.warn("Unable to set the last opened time for file ["+e.id+"] "+e.name)},__superMap:{_$eo$init:"init"}}),SJ=Object.freeze({PROXY_SHARE_CREATION:1,PROXY_SHORTGUID_CREATION:2,PASSTHROUGH:3});var EJ=xj.ZONE_NOT_FOUND,IJ=xj.NOT_FOUND,CJ=oe.a.extend({manageShareWorkflowClass:null,manageShareWorkflowOptions:void 0,item:null,subItem:null,fileSystem:null,driveWebService:null,docWebService:null,loggingService:null,refreshingItemPromise:null,primaryInteractionMode:null,init:function(e,t,n,r,i,a,o){this.__s._$nj$init.call(this,Object.assign({},o,{fileSystem:e,item:t,driveWebService:n,docWebService:r,loggingService:i,primaryInteractionMode:a}))},launchSharingUI:function(){var e=arguments,t=this,n=null,r=this.item,i=this.subItem,a=r.zoneIDHash,o={provideLatestRootRecordAfterUpdateConflict:this.provideLatestRootRecordAfterUpdateConflict.bind(this),didUpdateRootRecord:this.didUpdateRootRecord.bind(this),didUpdateShareRecord:this.didUpdateShareRecord.bind(this),provideLinkRecord:this.provideRecordForLink.bind(this),didUpdateLinkRecord:this._didUpdateRecordForLink.bind(this),provideLatestLinkRecordAfterConflict:this._provideRecordForLinkAfterConflict.bind(this)},s=Vn.MOUSE,c=this._createShareSettings(s,r,i||r,this.driveWebService,this.docWebService,this.loggingService,o),l=function(n){var i=r.ckRecordHash;return n?t.provideRootRecordForUpdate.apply(t,e):b.a.resolve(i)},u=c.sharingServiceSettings;if(r.isSharedDirectlyOrIndirectly){var d=this.manageShareWorkflowClass,h=this.manageShareWorkflowOptions;if(yt.a(d)){var f=AH.createWorkflow(d,c.container,c.dbScope,a,l,u,h);n=AH.presentWorkflow(f)}else n=AH.manageShare(c.container,c.dbScope,a,l,u)}else{var p=r.isFolder,g=p?null:FI(r.extension)||{name:"File"};u.initiateSharePaneTitle=p?Sr.d("DriveFS.InitiateShare.Title.Folder"):"Pages"===g.name?Sr.d("DriveFS.InitiateShare.Title.Pages"):"Keynote"===g.name?Sr.d("DriveFS.InitiateShare.Title.Keynote"):"Numbers"===g.name?Sr.d("DriveFS.InitiateShare.Title.Numbers"):Sr.d("DriveFS.InitiateShare.Title.File"),n=AH.initiateShare(c.container,c.dbScope,a,l,u)}return n.then((function(e){return eu.okResult(e)})).catch((function(e){var t=kj(e),n=t===EJ||t===IJ,i=r.share===wh.TO_ME&&n;return eu.failedResult({isSharedToMeUnshared:i})}))},startWatchingShareRecord:function(){var e=this,t=this.item,n=t.zoneIDHash,r=yt.a(t.ckRecordHash.share),i={provideLatestRootRecordAfterUpdateConflict:this.provideLatestRootRecordAfterUpdateConflict.bind(this),didUpdateRootRecord:this.didUpdateRootRecord.bind(this),didUpdateShareRecord:this.didUpdateShareRecord.bind(this)},a=this._createShareSettings(this.primaryInteractionMode,t,t,this.driveWebService,this.docWebService,this.loggingService,i);if(r){var o=AH.startWatchingShareRecord(a.container,a.dbScope,n,t.ckRecordHash.share.recordName,{shareWasUpdated:this.didUpdateShareRecord.bind(this)}),s=o[0],c=o[1].then((function(t){return t.ok&&e.didUpdateShareRecord(t.value),t}));return eu.okResult([s,c])}return eu.failedResult()},_createShareSettings:function(e,t,n,r,i,a,o){var s=n.name,c=n.extension,l=FI(c),u=yt.a(l)?l.shareUrlNamespace:"iclouddrive",d=yt.a(l)?void 0:n.isFolder?"Drive.Folder":"Drive.File",h=function(e){switch(e){case"key":case"key-tef":case"keynote":case"keynote-tef":return Sr.d("DriveFS.LocalizedAppLibraryName.com.apple.keynote");case"numbers":case"numbers-tef":return Sr.d("DriveFS.LocalizedAppLibraryName.com.apple.numbers");case"pages":case"pages-tef":return Sr.d("DriveFS.LocalizedAppLibraryName.com.apple.pages")}return Sr.d("DriveFS.RootFolderName")}(c),f=yt.a(t.ckRecordHash.share),p={shareUrlNamespace:u,configurableShareItemType:d,appName:h,primaryInteractionMode:e,supportedAccess:[qR.PRIVATE,qR.PUBLIC],supportedPermissions:[XR.READ_WRITE,XR.READ_ONLY],shareTitle:s,shareUrlDescription:s,recordHasShare:f,logService:a,hostedByCloudOSOne:!1};o&&(p.provideLatestRootRecordAfterUpdateConflict=o.provideLatestRootRecordAfterUpdateConflict,p.didUpdateRootRecord=o.didUpdateRootRecord,p.didUpdateShareRecord=o.didUpdateShareRecord,p.provideLinkRecord=o.provideLinkRecord,p.didUpdateLinkRecord=o.didUpdateLinkRecord,p.provideLatestLinkRecordAfterConflict=o.provideLatestLinkRecordAfterConflict);var g=rg.getDefaultContainer(),m=TH,v=(t.share||wh.BY_ME)===wh.BY_ME?m.PRIVATE:m.SHARED;if(n.isFolder&&!n.isSharedDirectly||n.isSharedIndirectly){var y=g[v===m.PRIVATE?"privateCloudDatabase":"sharedCloudDatabase"];p.database=function(e,t,n,r,i){var a=Object.create(Object.getPrototypeOf(e)),o=n.id,s=n.contextualType;return Object.assign(a,e,{saveRecords:function(a,c){var l=function(e,t){var n=yt.a(e.recordType)&&!yt.a(e.recordChangeTag),r=!0===e.createShortGUID&&(t===Dh||t===Rh);return n&&t===Eh?SJ.PROXY_SHARE_CREATION:r?SJ.PROXY_SHORTGUID_CREATION:SJ.PASSTHROUGH}(a,s);return l===SJ.PROXY_SHARE_CREATION?function(e,t,n,r,i){var a=t.publicPermission;return r.recordStat("AttemptingCreateSharedFolder",{publicPermission:a}),i.post("shareFolder",{drivewsid:e,ckShareOperation:Object.assign({operationType:"create",record:t},n)}).then((function(e){var t=e.data;return e.ok&&"OK"===t.status?(r.recordStat("SuccessfullyCreatedSharedFolder",{publicPermission:a}),{records:[t.ckShareResult],isRecordsResponse:!0}):(r.recordStat("FailedToCreateSharedFolder",{publicPermission:a}),b.a.reject({isCKError:!0}))}))}(o,a,c,r,i):l===SJ.PROXY_SHORTGUID_CREATION?function(e,t,n,r){return r.recordStat("AttemptingToGenerateLinkToItemInsideSharedFolder"),LG.scheduleTask(MX.create(e,t)).then((function(t){var n=t.ok,r=t.data;if(n){var i=r,a=i.etag,o=e.isFile?a.split("::")[1]:a,s=e.ckRecordHash,c={isRecordsResponse:!0,records:[Object.assign({},s,{recordChangeTag:o,shortGUID:i.short_guid})]};return eu.okResult(c)}var l=yt.a(r)?r.body:null;return eu.failedResult(l)})).then((function(e){if(e.ok)return r.recordStat("SuccessfullyGeneratedLinkToItemInsideSharedFolder"),e.data;throw r.recordStat("FailedToGenerateLinkToItemInsideSharedFolder"),new Aj("Error creating shortGUID by proxy",e.data)}))}(n,t,0,r):e.saveRecords(a,c)}}),a}(y,i,n,a,r)}return n.isFolder&&(p.shareRecordFields={"cloudkit.type":{value:"com.apple.folder"}}),{container:g,dbScope:v,sharingServiceSettings:p}},_shareWasDeleted:function(e){return e&&e.deleted},_shareWasEmptiedOfParticipantsAndMadePrivate:function(e){var t=ol.a(e,"participants");return e.publicPermission===XR.NONE&&t&&1===t.length&&"OWNER"===t[0].type},_shareWasAdded:function(e,t){return e.share&&!t.share},_refreshItemFromServer:function(e,t){var n=this;return this.refreshingItemPromise=TJ(e,t).finally((function(){n.refreshingItemPromise=null}))},provideRootRecordForUpdate:function(e){return this.refreshingItemPromise?this.refreshingItemPromise.then((function(e){var t=e.ok,n=e.data;return t?n:b.a.reject(n)})):b.a.resolve(this.item.ckRecordHash)},provideLatestRootRecordAfterUpdateConflict:function(e){return this._refreshItemFromServer(this.fileSystem,this.item).then((function(e){var t=e.ok,n=e.data;return t?n:b.a.reject(n)}))},didUpdateRootRecord:function(e){var t=this.item,n=this.fileSystem;return OJ(t,e,this._refreshItemFromServer.bind(this,n,t))},didUpdateShareRecord:function(e){var t=this.item,n=this._shareWasEmptiedOfParticipantsAndMadePrivate(e),r=this._shareWasDeleted(e);if(n||r){if(t.share=null,wd.shareRecordCache.serverState.write(t.id,void 0),t.isFile){var i=new Set([...wd.directlyShareFileIdsCache.value]);i.delete(t.id),wd.directlyShareFileIdsCache.value=i}r&&(t.shareID=null);var a=t.isFile?t.parent:t;vq(a,1,0)}else if(this._shareWasAdded(e,t)){t.share=wh.BY_ME,wd.shareRecordCache.serverState.write(t.id,e),t.isFile&&(wd.directlyShareFileIdsCache.value=new Set([...wd.directlyShareFileIdsCache.value,t.id]));var o=t.isFile?t.parent:t;mq(o,1,0)}else wd.shareRecordCache.serverState.write(t.id,e),t.isFile&&(wd.directlyShareFileIdsCache.value=new Set([...wd.directlyShareFileIdsCache.value,t.id]));return b.a.resolve()},provideRecordForLink:function(){var e=this.subItem,t=yt.a(e)?e.ckRecordHash:this.item.ckRecordHash;return b.a.resolve(eu.okResult(t))},_provideRecordForLinkAfterConflict:function(e){var t=this.subItem,n=this.fileSystem;return this.subItem?TJ(n,t).then((function(e){var t=e.data;return e.ok?t:b.a.reject(t)})):b.a.reject()},_didUpdateRecordForLink:function(e){var t=this.subItem,n=this.fileSystem;return yt.a(t)?OJ(t,e,TJ.bind(null,n,t)):b.a.resolve()},__superMap:{_$nj$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ItemSharingService"}});function OJ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return b.a.resolve(eu.okResult())};return t&&!t.deleted?(e.shortGUID||(e.shortGUID=t.shortGUID),e.ckContentRecordTag=t.recordChangeTag):n(),b.a.resolve()}function TJ(e,t){return Vf.create(e,[{id:t.id,shareID:t.shareIDFromHierarchy}],{trace:"4"}).run(e.driveWebService).then((function(e){var t=e.ok,n=e.data;return t?n&&n.length>0?eu.okResult(n[0].ckRecordHash):eu.okResult(null):eu.failedResult(n)}))}var AJ=oe.a.extend({init:function(e){this.__s._$2d$init.call(this,e),this._pool=lJ.create()},dequeueCanvas:function(e){return this._pool.dequeueItemForKeyIdentifier(e)||null},enqueueCanvas:function(e,t){this._pool.queueItemForKeyIdentifier(e,t)},__superMap:{_$2d$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CanvasCache"}}),NJ=oe.a.extend({service:y.c({readOnly:!0,get:function(){return this._service}}),init:function(){this.__s._$DW$init.call(this),this._service=this.loadService()},loadService:function(){return AJ.create()},__superMap:{_$DW$init:"init"}}).create().get("service"),MJ=12.5/60,DJ=S.b("AppIconTypes",(function(e){e("APP_ICON"),e("APP_ICON_PLACEHOLDER")})),RJ=0,LJ=Ar.a.extend(pK,{canvasClassName:"",prerendered:!1,error:v.i(),size:v.g(60),src:v.g(),placeholderSrc:v.g(),reuseIdentifier:y.c(),updated:v.i(),onIsAttached:v.h("isAttached",(function(e){e&&this._setupCanvas()})),prepareForReuse:function(){var e=this._canvas;e&&(this.element.removeChild(e),this._enqueueCachedCanvas(this._canvas,DJ.APP_ICON),this._canvas=null);var t=this._placeholderCanvas;t&&(this.element.removeChild(t),this._enqueueCachedCanvas(this._placeholderCanvas,DJ.APP_ICON_PLACEHOLDER),this._placeholderCanvas=null)},_addCanvasToView:function(){var e=this._canvas,t=this._placeholderCanvas;e?(t&&(this.element.removeChild(t),this._enqueueCachedCanvas(t,DJ.APP_ICON_PLACEHOLDER),this._placeholderCanvas=null),this.element.appendChild(e)):t&&this.element.appendChild(t),this.updated(!0)},_drawPlaceholder:function(){var e=this,t=this._dequeueCachedCanvas(DJ.APP_ICON_PLACEHOLDER);if(t)return this._placeholderCanvas=t,void this._addCanvasToView();var n=this.placeholderSrc;if(n){var r=new globalThis.Image;r.src=n,r.onload=function(){if(!e.isDisposed){e._placeholderCanvas||(e._placeholderCanvas=e._createNewCanvas());var t=e._placeholderCanvas.getContext("2d");e._drawCanvasMask(),t.globalCompositeOperation="source-atop",t.drawImage(r,0,0,e.size,e.size),t.globalCompositeOperation="source-over",e._addCanvasToView()}},r.onerror=function(){e.isDisposed||e.error()}}},_setupCanvas:function(){var e=this._dequeueCachedCanvas(DJ.APP_ICON);e?(this._canvas=e,this._addCanvasToView()):this._drawCanvas()},_drawCanvas:function(){var e=this;this._drawPlaceholder();var t=++RJ;this._activeRequestIdx=t;var n=new globalThis.Image,r=this.src;r&&(n.src=r,n.onload=function(){if(!e.isDisposed&&t===e._activeRequestIdx){e._canvas||(e._canvas=e._createNewCanvas());var r=e._canvas.getContext("2d");e.opacity=0,e.prerendered||(e._drawCanvasMask(),r.globalCompositeOperation="source-atop"),r.drawImage(n,0,0,e.size,e.size),r.globalCompositeOperation="source-over",e._addCanvasToView()}},n.onerror=function(){e.isDisposed||t!==e._activeRequestIdx||e.error()})},_drawCanvasMask:function(){var e=this._canvas;if(e){var t=e.getContext("2d"),n=this.size;A.a.get("sharedInstance").get("isIE")&&t.rotate(2*Math.PI),t.fillStyle="#FBFBFB";var r=n*MJ;n<2*r&&(r=n/2),t.beginPath(),t.moveTo(r,0),t.arcTo(n,0,n,n,r),t.arcTo(n,n,0,n,r),t.arcTo(0,n,0,0,r),t.arcTo(0,0,n,0,r),t.closePath(),t.fill()}},_dequeueCachedCanvas:function(e){var t=this._getCanvasCacheReuseIdentifier(e);return NJ.dequeueCanvas(t)},_enqueueCachedCanvas:function(e,t){var n=this._getCanvasCacheReuseIdentifier(t);NJ.enqueueCanvas(e,n)},_getCanvasCacheReuseIdentifier:function(e){return this.reuseIdentifier+"::"+e.name},_createNewCanvas:function(){var e=this.get("size"),t=$r.a.get("sharedInstance").get("devicePixelRatio"),n=document.createElement("canvas");n.width=e*t,n.height=e*t,n.className=this.canvasClassName,n.style.zIndex=0,n.style.position="absolute";var r=n.getContext("2d");return r.scale(t,t),null!=r.imageSmoothingEnabled?r.imageSmoothingEnabled=!0:(r.mozImageSmoothingEnabled=!0,r.webkitImageSmoothingEnabled=!0,r.msImageSmoothingEnabled=!0),null!=r.imageSmoothingQuality&&(r.imageSmoothingQuality="high"),n},staticMembers:{__QUALIFIED_CLASS_NAME__:"AppIconShowcaseView"}}),kJ=function(e){switch(e){case gK.EXTRA_LARGE:return 200;case gK.LARGE:return 128;case gK.EXTRA_MEDIUM:return 80;case gK.MEDIUM:return 52;case gK.REGULAR:return 44;case gK.SMALL:return 32;default:return 64}},xJ=oe.a.extend({iconService:y.c(),init:function(e,t){this.iconService=e,this.__s._$CX$init.call(this,t),this._pool=lJ.create()},getIconURL:function(e){return e.isIWorkFile?LK(e.fileType,NK.IWORK):LK(e.fileType,NK.DEFAULT)},getShowcaseViewFromCacheWithReuseIdentifier:function(e){var t=this._pool.dequeueItemForKeyIdentifier(e);return t?t.autorelease(this,"removed from pool"):null},isShowcaseViewAvailableForIdentifier:function(e){return this._pool.poolContainsItemsForKeyIdentifier(e)},releaseShowcaseView:function(e){e.retain(this,"added to pool"),this._pool.queueItemForKeyIdentifier(e,e.reuseIdentifier)},createThumbnailShowcaseViewUniqueIdentifier:function(e,t){return e.id+"::"+t.name},createShowcaseViewReuseIdentifier:function(e){var t=e.isIWorkFile?"iWork":"normal",n=e.displaySize.name;return e.fileType+"::"+t+"::"+e.iconPrerendered+"::"+n},createAppIconShowcaseViewFromFileDetails:function(e,t,n){var r=e.isIWorkFile,i=e.fileType;if(!r&&!i)return null;var a=r?function(e){switch(e){case gK.EXTRA_LARGE:return 147;case gK.LARGE:return 94;case gK.EXTRA_MEDIUM:return 58;case gK.MEDIUM:return 52;case gK.REGULAR:return 44;case gK.SMALL:return 32;default:return 64}}(e.displaySize):0;return this._createAppIconShowcaseView(t,a,e,n)},_createAppIconShowcaseView:function(e,t,n,r){return LJ.create({canvasClassName:n.canvasClassName,src:e,size:t,prerendered:n.iconPrerendered,reuseIdentifier:r})},__superMap:{_$CX$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ShowcaseViewPool"}}),FJ=function(e,t){var n,r,i=e.naturalWidth||e.width,a=e.naturalHeight||e.height;if(i>a?(n=t,r=t*(a/i)):(n=t*(i/a),r=t),n=Math.round(n)||1,(r=Math.round(r)||1)<3){var o=3/r*n;r=3,n=o>t?t:o}else if(n<3){var s=3/n*r;r=s>t?t:s,n=3}return CD.a.create({x:Math.round(t/2-n/2),y:Math.round(t/2-r/2),width:n,height:r})},PJ=function(e,t){var n=Math.round(t.width/2-e.width/2),r=Math.round(t.height/2-e.height/2);return ek.a.create(n,r)},jJ=function(e,t){var n=Math.round(t.width/2-e.width/2),r=Math.round(t.height-e.height);return ek.a.create(n,r)},UJ=function(e){return CD.a.create({x:0,y:0,width:e,height:e})},BJ={getImageDataFromImageAndCanvas:function(e,t){t.height=e.height,t.width=e.width;var n=t.getContext("2d");return n.drawImage(e,0,0,e.width,e.height),n.getImageData(0,0,e.width,e.height)},canBrowserUsePerformanceNow:function(){var e=A.a.get("sharedInstance"),t=!0;return(e.isIE||e.isEdge||e.isSafari)&&(t=!1),t},createNewCanvas:function(e){var t=$r.a.get("sharedInstance").get("devicePixelRatio"),n=document.createElement("canvas");n.width=e*t,n.height=e*t,n.style.width=e+"px",n.style.height=e+"px",n.style.zIndex=0,n.style.position="absolute";var r=n.getContext("2d");return r.scale(t,t),null!=r.imageSmoothingEnabled?r.imageSmoothingEnabled=!0:(r.mozImageSmoothingEnabled=!0,r.webkitImageSmoothingEnabled=!0,r.msImageSmoothingEnabled=!0),null!=r.imageSmoothingQuality&&(r.imageSmoothingQuality="high"),n},debugCanvas:function(e){},getVideoLetterBoxSizeForThumbnailSize:function(e){return e>100?12:e>40?4:e>10?2:12},getImageMatBoxSizeForThumbnailSize:function(e){return e>100?5:e>40?3:e>10?2:12},canvasSupportsImageSmoothingQuality:function(){var e=this.createNewCanvas().getContext("2d");return yt.a(e.imageSmoothingQuality)}},VJ=S.b("DrawThumbnailTreatmentType",["Default","Image","Video"]),WJ=S.b("DrawThumbnailSteps",["ImageMat","VideoMat","WhiteBackground","Border","Image","SharedFolderAdornment"]),zJ=tG.extend({primaryInteractionMode:v.g(Vn.MOUSE),marginSize:0,lineWidth:1,lineOffset:.5,sharedFolderAdornmentSize:CD.a.create({width:18,height:15}),sharedFolderAdornmentOffset:2,icon:null,size:null,hasSharedFolderAdornment:!1,forceCenterAlignment:!1,identifier:null,scalingHasStartedCallback:null,file:null,treatmentType:null,useImageSmoothingQualityHigh:!1,loggingService:null,startRun:function(){var e,t,n=b.a.create();switch(this.scalingHasStartedCallback&&"function"===typeof this.scalingHasStartedCallback&&this.scalingHasStartedCallback(),this.treatmentType){case VJ.Image:e=function(e){var t=e.icon,n=e.marginSize,r=e.primaryInteractionMode,i=e.forceCenterAlignment,a=e.size;e.hasSharedFolderAdornment&&(a-=e.sharedFolderAdornmentOffset);var o=function(e,t,n,r,i){var a,o=BJ.getImageMatBoxSizeForThumbnailSize(e),s=FJ(t,e-2*n-2*o),c=UJ(e);return r!==Vn.TOUCH||i?a=PJ(s,c):(a=jJ(s,c)).y-=o,CD.a.create({x:a.x,y:a.y,width:s.width,height:s.height})}(a,t,n,r,i),s=function(e,t,n,r,i){var a=UJ(e),o=BJ.getImageMatBoxSizeForThumbnailSize(e),s=FJ(t,e-2*n-2*o),c=CD.a.create({x:0,y:0,width:s.width+2*o,height:s.height+2*o}),l=PJ(c,a);return r!==Vn.TOUCH||i||(l=jJ(c,a)),c.x=l.x,c.y=l.y,c}(a,t,n,r,i);return Sr.a.sharedInstance.isRTL&&e.hasSharedFolderAdornment&&s.width>=e.size-e.sharedFolderAdornmentOffset&&(s.x=s.x+e.sharedFolderAdornmentOffset,o.x=o.x+e.sharedFolderAdornmentOffset),{mat:s,image:o,border:o}}(this),t=[WJ.ImageMat,WJ.Image,WJ.Border],this.hasSharedFolderAdornment&&t.push(WJ.SharedFolderAdornment);break;case VJ.Video:e=function(e){var t=e.icon,n=e.marginSize,r=e.primaryInteractionMode,i=e.forceCenterAlignment,a=e.size;e.hasSharedFolderAdornment&&(a-=e.sharedFolderAdornmentOffset);var o=HJ(a,t,n,r,i),s=function(e,t,n,r,i){var a,o=UJ(e),s=BJ.getVideoLetterBoxSizeForThumbnailSize(e),c=((a=t).naturalWidth||a.width)>(a.naturalHeight||a.height),l=n.width,u=n.height;c?u+=2*s:l+=2*s;var d=CD.a.create({x:0,y:0,width:l,height:u}),h=PJ(d,o);return r!==Vn.TOUCH||i||(h=jJ(d,o)),d.x=h.x,d.y=h.y,d}(a,t,o,r,i);return Sr.a.sharedInstance.isRTL&&e.hasSharedFolderAdornment&&s.width>=e.size-e.sharedFolderAdornmentOffset&&(s.x=s.x+e.sharedFolderAdornmentOffset,o.x=o.x+e.sharedFolderAdornmentOffset),{mat:s,image:o,border:o}}(this),t=[WJ.VideoMat,WJ.Image,WJ.Border],this.hasSharedFolderAdornment&&t.push(WJ.SharedFolderAdornment);break;default:e=function(e){var t=e.icon,n=e.marginSize,r=e.primaryInteractionMode,i=e.forceCenterAlignment,a=e.size;e.hasSharedFolderAdornment&&(a-=e.sharedFolderAdornmentOffset);var o=HJ(a,t,n,r,i);return Sr.a.sharedInstance.isRTL&&e.hasSharedFolderAdornment&&o.width>=e.size-e.sharedFolderAdornmentOffset&&(o.x=o.x+e.sharedFolderAdornmentOffset),{background:o,image:o,border:o}}(this),t=[WJ.WhiteBackground,WJ.Image,WJ.Border],this.hasSharedFolderAdornment&&t.push(WJ.SharedFolderAdornment)}var r=function(e,t,n){var r=e.size,i=BJ.createNewCanvas(r),a=i.getContext("2d");e.useImageSmoothingQualityHigh&&(a.imageSmoothingEnabled=!0,a.imageSmoothingQuality="high");for(var o=0;o<n.length;o++)switch(n[o]){case WJ.WhiteBackground:GJ(a,t);break;case WJ.Image:ZJ(e,a,t);break;case WJ.Border:QJ(e,a,t);break;case WJ.VideoMat:$J(a,t);break;case WJ.ImageMat:KJ(e,a,t);break;case WJ.SharedFolderAdornment:qJ(e,a,t)}return i}(this,e,t);return n.resolve(eu.okResult(r)),n},shouldAllowCancel:function(){return!this.isRunning},staticMembers:{__QUALIFIED_CLASS_NAME__:"DrawThumbnailTreatmentTask"}});function HJ(e,t,n,r,i){var a=FJ(t,e-2*n),o=UJ(e),s=PJ(a,o);return r!==Vn.TOUCH||i||(s=jJ(a,o)),CD.a.create({x:s.x,y:s.y,width:a.width,height:a.height})}function GJ(e,t){e.fillStyle="rgba(256, 256, 256, 1)",e.fillRect(t.background.x,t.background.y,t.background.width,t.background.height)}function $J(e,t){e.fillStyle="rgba(0, 0, 0, 1)",e.fillRect(t.mat.x,t.mat.y,t.mat.width,t.mat.height)}function KJ(e,t,n){t.fillStyle="rgba(256, 256, 256, 1)",t.fillRect(n.mat.x,n.mat.y,n.mat.width,n.mat.height),t.fillStyle="transparent",t.beginPath(),t.lineWidth=e.lineWidth,t.strokeStyle="rgba(0, 0, 0, .13)",t.strokeRect(n.mat.x+e.lineOffset,n.mat.y+e.lineOffset,n.mat.width-2*e.lineOffset,n.mat.height-2*e.lineOffset)}function QJ(e,t,n){t.beginPath(),t.lineWidth=e.lineWidth,t.strokeStyle="rgba(0, 0, 0, .13)",t.strokeRect(n.border.x+e.lineOffset,n.border.y+e.lineOffset,n.border.width-2*e.lineOffset,n.border.height-2*e.lineOffset)}function qJ(e,t,r){var i=Math.ceil($r.a.get("sharedInstance").get("devicePixelRatio")),a=Sr.a.sharedInstance.isRTL,o=r.mat||r.image,s=e.sharedFolderAdornmentSize.width,c=e.sharedFolderAdornmentSize.height,l=e.sharedFolderAdornmentOffset,u=a?0:t.canvas.width/i-s,d=o.height+o.y-(c-l);o.height<c&&(d=o.y-l);var h=t.canvas.height-c;d>h&&(d=h);var f=new Image(s,c);f.onload=function(){t.drawImage(f,u,d,s,c)},f.src=n(1552)}function ZJ(e,t,n){var r=e.icon,i=(Date.now(),function(e,t,n,r){var i,a,o,s,c;s=(i=n.image).width,c=i.height,a=i.x,o=i.y;try{e.drawImage(t,a,o,s,c)}catch(d){var l=t.width,u=t.height;return r.recordStat("ErrorDrawingImageIn_scaleImageDirectToContext",{class:"BR.ImageScaler",function:"_scaleImageDirectToContext()",imageWidth:l,imageHeight:u,errorMessage:d.message,errorName:d.name,stack:d.stack}),!1}return!0}(t,r,n,e.loggingService));return Date.now(),i}var YJ=navigator.hardwareConcurrency-1||1,XJ=oe.a.extend({primaryInteractionMode:y.c(Vn.MOUSE),scheduler:y.c({get:function(){return this._scheduler}}),loggingService:y.c(null),init:function(e,t,n){var r=this;Object.defineProperties(this,{_currentTasksList:{value:{}},_pauseBetweenScalingEventTasksList:{value:{}},_scheduler:{value:this.loadTaskScheduler()},_canvasSupportsImageScalingQualityHigh:{value:!1,writable:!0},_addTaskToCurrentTasksList:{value:function(e,t){r._currentTasksList[e]=t}},_removeTaskFromCurrentTasksList:{value:function(e){delete r._currentTasksList[e]}},_addTaskToPauseBetweenScalingEventTasksList:{value:function(e,t){r._pauseBetweenScalingEventTasksList[e]=t}},_removeTaskFromPauseBetweenScalingEventTasksList:{value:function(e){delete r._pauseBetweenScalingEventTasksList[e]}}}),this.__s._$hY$init.call(this,n),this.loggingService=e,this.primaryInteractionMode=t,BJ.canvasSupportsImageSmoothingQuality()&&(this._canvasSupportsImageScalingQualityHigh=!0)},loadTaskScheduler:function(){return hX.create({trace:!1,traceId:"thumbnail scaler",allowedMaximumRunningTasks:YJ})},drawThumbnailWithTreatmentType:function(e,t,n,r,i,a,o,s){var c,l=this;switch(e){case"IMAGES":c=VJ.Image;break;case"VIDEOS":c=VJ.Video;break;default:c=VJ.Default}var u,d=this.loggingService,h=this.primaryInteractionMode,f={icon:t,size:n,hasSharedFolderAdornment:o,forceCenterAlignment:s,identifier:r,scalingHasStartedCallback:i,file:a,treatmentType:c,loggingService:d,primaryInteractionMode:h};u=this._canvasSupportsImageScalingQualityHigh?zJ.create(Object.assign({useImageSmoothingQualityHigh:!0},f)):zJ.create(Object.assign({},f));var p=JJ.create();return this._addTaskToCurrentTasksList(r,u),this._addTaskToPauseBetweenScalingEventTasksList(r,p),this._scheduler.scheduleTask(p).then((function(){l._removeTaskFromPauseBetweenScalingEventTasksList(r)})),this._scheduler.scheduleTask(u).then((function(e){return l._removeTaskFromCurrentTasksList(r),e}))},cancelAllTasks:function(){this._scheduler.cancelAllQueuedTasks()},cancelScaleThumbnailTask:function(e){var t=this._currentTasksList[e],n=this._pauseBetweenScalingEventTasksList[e];t&&t.isCancellable&&(t.cancel(),this._removeTaskFromCurrentTasksList(e)),n&&n.isCancellable&&(n.cancel(),this._removeTaskFromPauseBetweenScalingEventTasksList(e))},__superMap:{_$hY$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ThumbnailScalingService"}}),JJ=tG.extend({startRun:function(){var e=b.a.create();return this._timeout=setTimeout((function(){e.resolve(eu.okResult())}),100),e},shouldAllowCancel:function(){return!0},cancel:function(){this.__s._$1rE$cancel.call(this),this._timeout&&(clearTimeout(this._timeout),this.finishCancellingRun())},__superMap:{_$1rE$cancel:"cancel"},staticMembers:{__QUALIFIED_CLASS_NAME__:"PauseBetweenScalingEventTask"}}),e1=Ar.a.extend(pK,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"canvas",name:"placeholderCanvas",attributes:{width:"0",height:"0"}}],classes:["thumbnail-icon"]}},__QUALIFIED_CLASS_NAME__:"ThumbnailShowcaseView"},thumbnailTreatmentTypeService:null,updated:v.i(),error:v.i(),thumbnailCanvasFactory:null,downloadImageService:null,thumbnailScalingService:null,thumbnailURLService:null,loggingService:null,forceCenterAlignment:y.c(!1),reuseIdentifier:y.c({readOnly:!0,get:function(){return this.identifier}}),identifier:y.c(),file:y.c(),init:function(e,t,n,r,i,a,o,s,c){this.file=e,this.identifier=t,this.downloadImageService=n,this.thumbnailURLService=r,this.thumbnailCanvasFactory=i,this.thumbnailTreatmentTypeService=a,this.thumbnailScalingService=o,this.loggingService=s,this.__s._$17R$init.call(this,c),this._isReadyForDisplay=!1},prepareForReuse:function(){this.suspendThumbnailLoading()},isReadyForDisplay:function(){return this._isReadyForDisplay},startLoading:function(){this.resumeThumbnailLoading()},update:function(){this._isReadyForDisplay=!1,this._thumbnailCanvas&&this._thumbnailCanvas.reset(),this.resumeThumbnailLoading()},suspendThumbnailLoading:function(){this._thumbnailCanvas&&this._thumbnailCanvas.isCancellable()&&this._thumbnailCanvas.cancel()},resumeThumbnailLoading:function(){return this._thumbnailCanvas&&!this._isReadyForDisplay?this._startThumbnailRendering():this._setupThumbnailCanvas()},_setupThumbnailCanvas:function(){var e=this;if(!this._isReadyForDisplay){var t=kJ(this.displaySize);return this.thumbnailTreatmentTypeService.getThumbnailTreatmentTypeForFile(this.file).then((function(n){if(n.ok){var r=n.data;if(e.isDisposed)return;return e._thumbnailCanvas=t1.create({file:e.file,size:t,forceCenterAlignment:e.forceCenterAlignment,identifier:e.reuseIdentifier,thumbnailTreatmentType:r,downloadImageService:e.downloadImageService,thumbnailURLService:e.thumbnailURLService,thumbnailScalingService:e.thumbnailScalingService,loggingService:e.loggingService}),e._startThumbnailRendering()}e.isDisposed||(e.loggingService.recordStat("FailedToGetThumbnailTreatmentType"),e._isReadyForDisplay=!1,e.error(!0))}))}},_startThumbnailRendering:function(){var e=this;return this._thumbnailCanvas.start().then((function(t){if(t.ok){if(e.isDisposed)return;e._addRenderedCanvasToView()}else{if(e.isDisposed)return;e._isReadyForDisplay=!1,e.error(!0)}}))},_addRenderedCanvasToView:function(){var e=this._thumbnailCanvas;if(!e)return!1;var t=e.canvas;if(!t)return!1;var n=$r.a.sharedInstance.devicePixelRatio,r=this.size;t.style.width=r*n,t.style.height=r*n;var i=this.element;i.replaceChild(t,i.childNodes[0]),this._isReadyForDisplay=!0,this.updated(!0)},__superMap:{_$17R$init:"init"}}),t1=oe.a.extend({size:y.c(128),thumbnailTreatmentType:null,downloadImageService:null,thumbnailURLService:null,thumbnailScalingService:null,loggingService:null,forceCenterAlignment:!1,file:y.c(),identifier:null,canvas:y.c({readOnly:!0,get:function(){return this._canvas?this._canvas:null}}),reuseIdentifier:y.c({readOnly:!0,get:function(){return this.identifier}}),init:function(e){this.__s._$2Vt$init.apply(this,arguments),this._scalingHasStarted=!1,this._continueLoading=!0},isCancellable:function(){return!this._scalingHasStarted},cancel:function(){this._continueLoading=!1},start:function(){var e=this;return this._continueLoading=!0,this._loadURL().then((function(){return e._beginLoadingCanvas()}))},reset:function(){this._continueLoading=!0;var e=ol.a(this,"file.thumbnailMetadata"),t=ol.a(e,"state");yt.a(t)&&(e.state=Qh.NOT_LOADED,e.url=null,e.expiration=null,e.etag=null)},_loadURL:function(){var e=this.file,t=ol.a(e,"thumbnailMetadata"),n=ol.a(t,"state"),r=Qh.LOADED,i=r.ABSENT,a=r.PRESENT;if(yt.a(n)){if(n===i||n===a)return b.a.resolve(eu.okResult());this.reset(),t.load();var o=e.etag;return e?this.thumbnailURLService.getURLForItem(e).then((function(e){if(t.state!==Qh.LOADING&&(t.state=Qh.LOADING,t.url=null,t.expiration=null),e.ok){var n=ol.a(e,"data.url");t.initialize(n,o)}else t.initialize(null),t.reset();return e})):Promise.reject(new Error("_loadURL needs a file, but got "+e+"!"))}return b.a.resolve(eu.failedResult())},_beginLoadingCanvas:function(){var e=this;if(!this._continueLoading)return b.a.resolve(eu.cancelledResult());if(!1===this._isThumbnailUrlStillValid())return this._updateExpiredURL(),b.a.resolve(eu.cancelledResult());var t=ol.a(this,"file.thumbnailMetadata.url");return t?this.downloadImageService.downloadImageForURL(this.identifier,t).then((function(t){if(t.ok){var n=t.data,r=n.naturalWidth||n.width,i=n.naturalHeight||n.height;if(!r||!i)return eu.cancelledResult();if(!e._continueLoading)return e.downloadImageService.enqueueWorker(n),eu.cancelledResult();var a=b.a.create();return e._drawThumbnailWithTreatmentIntoContext(n,(function(){e._scalingHasStarted=!0}),e.forceCenterAlignment).then((function(t){t.ok&&(e._canvas=t.data),e.downloadImageService.enqueueWorker(n),a.resolve(t)})),a}return t})):b.a.resolve(eu.cancelledResult())},_isThumbnailUrlStillValid:function(){var e=ol.a(this,"file.thumbnailMetadata.expiration");if(!e)return!0;var t=new Date;return new Date(e)>=t},_updateExpiredURL:function(){var e=ol.a(this,"file.thumbnailMetadata");return yt.a(e)&&e.reset(),this._loadURL()},_drawThumbnailWithTreatmentIntoContext:function(e,t,n){var r=this.thumbnailTreatmentType,i=this.get("size"),a=this.file,o=kJ(gK.REGULAR),s=a.isSharedIndirectly&&i===o;return this.thumbnailScalingService.drawThumbnailWithTreatmentType(r,e,i,this.reuseIdentifier,t,this.file,s,n)},__superMap:{_$2Vt$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ThumbnailCanvas"}}),n1=oe.a.extend({hostService:null,init:function(e,t){this.hostService=e,this.__s._$FE$init.call(this,t)},thumbnailTreatmentMap:{},getThumbnailTreatmentTypeForFile:function(e){var t=(e.extension||"").toLowerCase(),n=this.thumbnailTreatmentMap,r=n[t],i=this.hostService;if(yt.a(r))return r;var a=""===t?b.a.resolve(eu.failedResult()):i.getConformingTypes(t).then((function(e){if(e.isOk){var r=e.data,i=function(e){return!!(e&&e.indexOf("public.image")>=0)}(r)?"IMAGES":function(e){return!(!(e&&e.length>=2)||"public.audio"!==e[0]&&"public.audio"!==e[1]||"public.audiovisual-content"===e[0]||"public.audiovisual-content"===e[1])}(r)?"MUSIC":function(e){return!(!(e&&e.length>=2)||"public.audiovisual-content"!==e[0]&&"public.audiovisual-content"!==e[1])}(r)?"VIDEOS":"DOCUMENTS";return eu.okResult(i)}return delete n[t],eu.failedResult(e.data)}));return n[t]=a,a},__superMap:{_$FE$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ThumbnailTreatmentTypeService"}}),r1=oe.a.extend({init:function(e,t,n,r,i,a,o){this.loggingService=e,this.showcaseViewPool=n,this.downloadImageService=r,this.urlService=i,this.thumbnailScalingService=a,this.__s._$Mo$init.call(this,o),Object.defineProperties(this,{_thumbnailTreatmentTypeService:{value:n1.create(t)},_pauseThumbnailLoading:{value:!1,writable:!0}})},loggingService:y.c(null),showcaseViewPool:y.c(null),downloadImageService:y.c(null),urlService:y.c(null),thumbnailScalingService:y.c(null),isThumbnailLoadingPaused:y.c({readOnly:!0,default:!1,get:function(){return this._pauseThumbnailLoading}}),createThumbnailShowcaseViewForFile:function(e,t,n,r){return this._pauseThumbnailLoading?{success:!1,reason:"PAUSED"}:{success:!0,thumbnailShowcaseView:e1.create(e,n,this.downloadImageService,this.urlService,this,this._thumbnailTreatmentTypeService,this.thumbnailScalingService,this.loggingService,{displaySize:t,forceCenterAlignment:r})}},cacheThumbnailCanvasForFile:function(e,t){if(!this._pauseThumbnailLoading){var n=this.showcaseViewPool,r=n.createThumbnailShowcaseViewUniqueIdentifier(e,t);n.isShowcaseViewAvailableForIdentifier(r)||i1.isFileBeingCached(e,t)||i1.preloadThumbnail(this,e,t,this.downloadImageService,n,this.thumbnailScalingService,this.urlService,this._thumbnailTreatmentTypeService,this.loggingService)}},suspendThumbnailLoading:function(){this._pauseThumbnailLoading=!0,i1.cancelAllTasks()},resumeThumbnailLoading:function(){this._pauseThumbnailLoading=!1},__superMap:{_$Mo$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ThumbnailCanvasFactory"}}),i1=oe.a.extend({currentTasksList:{},suspend:function(){this._suspended||(this._suspended=!0,this._scheduler.suspend())},resume:function(){this._suspended&&(this._suspended=!1,this._scheduler.resume())},scheduler:y.c({get:function(){return this._scheduler}}),init:function(e){this.__s._$1Uz$init.apply(this,arguments),this._scheduler=this.loadTaskScheduler({delegate:this})},loadTaskScheduler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return hX.create(Object.assign({trace:!1,traceId:"thumbnail precache",allowedMaximumRunningTasks:1},e))},preloadThumbnail:function(e,t,n,r,i,a,o,s,c){var l=this,u=kJ(n),d=this._createKeyForTask(t,u),h=a1.create({file:t,displaySize:n,thumbnailCanvasFactory:e,downloadImageService:r,id:d,thumbnailTreatmentTypeService:s,showcaseViewPool:i,thumbnailScalingService:a,urlService:o,loggingService:c});return this._addTaskToCurrentTasksList(d,h),this._scheduler.scheduleTask(h).then((function(){l._removeTaskFromCurrentTasksList(d)}))},cancelAllTasks:function(){this._scheduler.cancelAllQueuedTasks()},isFileBeingCached:function(e,t){var n=kJ(t),r=this._createKeyForTask(e,n);return!!this.currentTasksList[r]},_createKeyForTask:function(e,t){var n=kJ(t);return e.get("id")+"::"+n},_addTaskToCurrentTasksList:function(e,t){this.currentTasksList[e]=t},_removeTaskFromCurrentTasksList:function(e){delete this.currentTasksList[e]},taskSchedulerTaskDidCancel:function(e,t){delete this.currentTasksList[t.id]},__superMap:{_$1Uz$init:"init"}}).create(),a1=tG.extend({id:null,file:null,displaySize:null,thumbnailCanvasFactory:null,showcaseViewPool:null,downloadImageService:null,thumbnailTreatmentTypeService:null,thumbnailScalingService:null,urlService:null,loggingService:null,startRun:function(){var e=this,t=this.get("thumbnailCanvasFactory"),n=this.get("file"),r=this.get("displaySize"),i=this.showcaseViewPool,a=i.createThumbnailShowcaseViewUniqueIdentifier(n,r),o=e1.create(n,a,this.downloadImageService,this.urlService,t,this.thumbnailTreatmentTypeService,this.thumbnailScalingService,this.loggingService,{displaySize:r}),s=b.a.create();return this._thumbnailShowcaseViewUpdateListener=o.listen("updated",(function(t){e._thumbnailShowcaseViewUpdateListener.disconnect(),e._thumbnailShowcaseViewUpdateListener=null,e._thumbnailShowcaseViewErrorListener.disconnect(),e._thumbnailShowcaseViewErrorListener=null,i.releaseShowcaseView(o),s.resolve(eu.okResult())})),this._thumbnailShowcaseViewErrorListener=o.listen("error",(function(t){e._thumbnailShowcaseViewUpdateListener.disconnect(),e._thumbnailShowcaseViewUpdateListener=null,e._thumbnailShowcaseViewErrorListener.disconnect(),e._thumbnailShowcaseViewErrorListener=null,s.resolve(eu.failedResult(t))})),o.startLoading(),s},shouldAllowCancel:function(){return!this.isRunning}}),o1=oe.a.extend({init:function(e,t){Object.defineProperties(this,{_stats:{value:{files:0,bytes:0}},_fileList:{value:{}}}),this.__s._$Bm$init.call(this,t)},registerFile:function(e){if(e){var t=this._fileList,n=e.id;if(!t[n]){var r=function(e){return{bytes:e.size,extension:e.extension}}(e);t[n]=r}}},__superMap:{_$Bm$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ThumbnailStatsReporterService"}}),s1=oe.a.extend({type:null,items:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"ErrorGroup"}});function c1(e,t,n){var r=s1.create({type:e,items:t});if(n)for(var i of n)r=i.filterErrorGroup(r);return r}var l1=oe.a.extend({filters:[],errorItemIsValid:G.a.define(),allowsAggregationForErrorItem:function(e){},createErrorGroupForErrorItem:function(e){if(!this.errorItemIsValid(e))throw new au("Cannot create error group. Error item is invalid",{errorGroup:this,errorItem:e});return c1(this.errorGroupType,[e],this.filters)},aggregateErrorGroupWithErrorItem:function(e,t){var n=this.errorItemIsValid(t),r=this.errorGroupIsValid(e);if(!n||!r)throw new au("Cannot aggregate. Require a valid error group and error item",{errorAggregator:this,errorGroup:e,errorItem:t});return c1(this.errorGroupType,e.items.concat(t),this.filters)},staticMembers:{__QUALIFIED_CLASS_NAME__:"ErrorAggregator"}}),u1=l1.extend({errorItemType:null,errorGroupType:null,allowsAggregationForErrorItem:function(e){return this.errorItemIsValid(e)},errorItemIsValid:function(e){return!!e&&e.type===this.errorItemType},errorGroupIsValid:function(e){return!!e&&e.type===this.errorGroupType},staticMembers:{__QUALIFIED_CLASS_NAME__:"TransactionErrorAggregator"}}),d1=S.b("TransactionErrorGroupType",["DeletedItemErrors","MovedItemErrors","MovedItemToAppLibraryErrors","CreateFolderErrors","RenameItemErrors","UploadItemErrors","PutItemsBackFromTrashErrors"]),h1=u1.extend({errorItemType:FG.CreateFolderError,errorGroupType:d1.CreateFolderErrors,staticMembers:{__QUALIFIED_CLASS_NAME__:"CreateFolderTransactionErrorAggregator"}}),f1=u1.extend({errorItemType:FG.DeleteItemError,errorGroupType:d1.DeletedItemErrors,staticMembers:{__QUALIFIED_CLASS_NAME__:"DeleteItemTransactionErrorAggregator"}}),p1=S.b("LocalEditValidationErrorGroupType",["RenameItemErrors"]),g1=l1.extend({errorGroupType:p1.RenameItemErrors,allowsAggregationForErrorItem:function(e){return e.type.group===iY},errorItemIsValid:function(e){return!!e&&this.allowsAggregationForErrorItem(e)},errorGroupIsValid:function(e){return!!e&&e.type===this.errorGroupType},staticMembers:{__QUALIFIED_CLASS_NAME__:"LocalEditValidationErrorAggregator"}}),m1=u1.extend({errorItemType:FG.MoveItemError,errorGroupType:d1.MovedItemErrors,staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemTransactionErrorAggregator"}}),v1=u1.extend({errorItemType:FG.MoveItemToAppLibraryError,errorGroupType:d1.MovedItemToAppLibraryErrors,staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemToAppLibraryErrorAggregator"}}),y1=u1.extend({errorItemType:FG.PutItemBackFromTrashError,errorGroupType:d1.PutItemsBackFromTrashErrors,staticMembers:{__QUALIFIED_CLASS_NAME__:"PutItemsBackFromTrashErrorAggregator"}}),_1=u1.extend({errorItemType:FG.RenameItemError,errorGroupType:d1.RenameItemErrors,staticMembers:{__QUALIFIED_CLASS_NAME__:"RenameItemTransactionErrorAggregator"}}),b1=u1.extend({errorItemType:FG.UploadItemError,errorGroupType:d1.UploadItemErrors,staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadFileTransactionErrorAggregator"}}),w1=oe.a.extend({filterErrorGroup:function(e){var t={};for(var n of e.items){var r,i=(null==(r=n.details)?void 0:r.item.name)||n.type.name;(t[i]=t[i]||[]).push(n)}return e.set("items",this._filterErrorItemHash(t)),e},_filterErrorItemHash:function(e){var t=[],n=this._compareErrorItemErrorTypes.bind(this);for(var r in e){var i=e[r].slice().sort(n)[0];t.push(i)}return t},staticMembers:{__QUALIFIED_CLASS_NAME__:"ErrorGroupFilter"}}),S1=sY.items,E1=w1.extend({_compareErrorItemErrorTypes:function(e,t){var n=S1.find((function(n){return n.name===e.type.name||n.name===t.type.name}));return(null==n?void 0:n.name)===t.type.name?1:-1},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadValidationErrorsFilterForErrorGroupItems"}}),I1=S.b("UploadValidationErrorGroupType",["UploadValidationErrors"]),C1=l1.extend({filters:[E1.create()],errorGroupType:I1.UploadValidationErrors,allowsAggregationForErrorItem:function(e){return e.type.group===sY},errorItemIsValid:function(e){return!!e&&this.allowsAggregationForErrorItem(e)},errorGroupIsValid:function(e){return!!e&&e.get("type")===this.get("errorGroupType")},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadValidationErrorAggregator"}}),O1=S.b("DownloadErrorGroupType",["MixedErrorType"]),T1=l1.extend({errorGroupType:O1.MixedErrorType,allowsAggregationForErrorItem:function(e){return e.type.group===TG},errorItemIsValid:function(e){return!!e&&this.allowsAggregationForErrorItem(e)},errorGroupIsValid:function(e){return!!e&&e.type===this.errorGroupType},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownloadErrorAggregator"}}),A1=S.b("OpenFileErrorGroupType",["MixedErrorType"]),N1=l1.extend({errorGroupType:A1.MixedErrorType,allowsAggregationForErrorItem:function(e){return e.type.group===UH},errorItemIsValid:function(e){return!!e&&this.allowsAggregationForErrorItem(e)},errorGroupIsValid:function(e){return!!e&&e.type===this.errorGroupType},staticMembers:{__QUALIFIED_CLASS_NAME__:"OpenFileErrorAggregator"}}),M1=S.b("RaiseAggregateAlertSchedulerState",["Prepared","AlertRaised"]),D1=oe.a.extend({alertPresenter:y.c({get:function(){return this._alertPresenter},set:function(e){var t=this._alertPresenter;return this._alertPresenterWillChange(t,e),e}}),init:function(e,t){this.__s._$DY$init.call(this,t),this.loggingService=e,this._state=M1.Prepared,this._alertPresenter=null,this._errorAggregators=[],this._errorAggregatorsCache={},this._raisedErrorGroup=null,this._pendingErrorGroupsQueue=[]},loggingService:y.c(null),addErrorAggregator:function(e){this._errorAggregators.push(e)},raiseAlertForErrorItem:function(e){var t;switch(this._state){case M1.Prepared:this._registerPendingErrorItem(e),this._tryRaisingNextAlert(),this.loggingService.recordStat("RaiseAlertForError",{type:"immediately",reason:null==(t=e.type)?void 0:t.name});break;case M1.AlertRaised:var n=this.alertPresenter;if(n.isAlertBecomingDismissed){var r;this._registerPendingErrorItem(e),this.loggingService.recordStat("RaiseAlertForError",{type:"later-old-alert-dismissing",reason:null==(r=e.type)?void 0:r.name})}else{var i,a,o=this._raisedErrorGroup,s=this._tryAggregatingErrorGroupWithErrorItem(o,e);s?(this._raisedErrorGroup=s,n.updateForErrorGroup(s),this.loggingService.recordStat("RaiseAlertForError",{type:"immediately-append",reason:null==(i=e.type)?void 0:i.name})):(this._registerPendingErrorItem(e),this.loggingService.recordStat("RaiseAlertForError",{type:"later",reason:null==(a=e.type)?void 0:a.name}))}}},_registerPendingErrorItem:function(e){for(var t,n=this._pendingErrorGroupsQueue,r=0,i=n.length;r<i;r++){t=n[r];var a=this._tryAggregatingErrorGroupWithErrorItem(t,e);if(a)return void(n[r]=a)}(t=this._createErrorGroupForErrorItem(e))||d.b.warn(this+" did not create an alert group for alert item",{service:this,alertItem:e}),n.push(t)},_tryRaisingNextAlert:function(){var e,t,n,r=this._pendingErrorGroupsQueue.shift();r?(this._state=M1.AlertRaised,this._raisedErrorGroup=r,this.alertPresenter.presentErrorGroup(r),this.loggingService.recordStat("PresentErrorGroup",{errorGroup:null==(e=r.type)?void 0:e.name,alertsInGroup:null==(t=r.items)?void 0:t.length,pendingGroups:null==(n=this._pendingErrorGroupsQueue)?void 0:n.length})):this._state=M1.Prepared},_tryAggregatingErrorGroupWithErrorItem:function(e,t){var n=this._errorAggregatorsCache[e.type];if(!n)throw new au("Cannot aggregate alert group. Missing aggregator",{service:this,alertGroup:e});return n.allowsAggregationForErrorItem(t)?n.aggregateErrorGroupWithErrorItem(e,t):null},_createErrorGroupForErrorItem:function(e){var t=this._errorAggregators,n=this._errorAggregatorsCache,r=e.type,i=n[r];if(!i)for(var a=0,o=t.length;a<o;a++){var s=t[a];if(s.allowsAggregationForErrorItem(e)){i=s,n[r]=i;break}}if(!i)return null;var c=i.createErrorGroupForErrorItem(e);return n[c.type]=i,c},_alertPresenterWillChange:function(e,t){if(this._changingAlertPresenter=!0,e&&(this._alertPresenterDismissedAlertObserver.disconnect(),this._alertPresenterDismissedAlertObserver=null),t){var n,r=this;n=t.observe("dismissedAlert",(function(e){e&&(r._changingAlertPresenter||r._alertPresenterDidDismissAlert())})),this._alertPresenterDismissedAlertObserver=n}this._changingAlertPresenter=!1},_alertPresenterDidDismissAlert:function(){this._tryRaisingNextAlert()},__superMap:{_$DY$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"RaiseAggregateAlertScheduler"}}),R1=Ar.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"iconView"}],classes:["icon"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"h3",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{}}],classes:["title",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"adjustTitleLocationForDescription",truevalue:"has-description",attributes:{}}]},{type:"ELEMENT",tagname:"p",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"description",attributes:{}}],classes:["description",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"showDescription",truevalue:"",falsevalue:"hide-description",attributes:{}}]}],classes:["detail-text",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"iconView",truevalue:"has-icon-view",attributes:{}}]}],classes:["detail-view"]}},__QUALIFIED_CLASS_NAME__:"ItemDetailView"},prepareForReuse:function(){Object.assign(this,{title:void 0,iconView:void 0,description:void 0})},iconView:v.g({strong:!0}),title:v.g(),description:v.g(),showDescription:v.g(!1),adjustTitleLocationForDescription:v.g(!1)}),L1=Ar.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"MULTIVIEWOUTLET",tagname:"views",name:"detailViews"}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isVisible",truevalue:"",falsevalue:"hide",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"MultiItemAlertAccessoryView"},additionalClassNames:["multi-item-alert-accessory-view","drive-ui"],detailViews:v.g(),isVisible:v.g(!0)}),k1=Jf.a.extend({detailDescriptionsVisible:v.g(!0),detailsVisible:v.g(!1),accessoryView:v.g({type:L1,defaultValue:Me.b(L1),downstreamBindings:{isVisible:"(owner).detailsVisible",detailViews:"(owner).detailViews"}}),detailViews:v.g(Me.b(dk)),addDetail:function(e,t,n){var r=this.detailDescriptionsVisible,i=x1.acquire({title:e,description:t,iconView:n,showDescription:r,adjustTitleLocationForDescription:r});this.detailViews.push(i)},removeDetails:function(){for(var e=this.detailViews,t=e.length;t--;){var n=e.objectAt(t);n&&(n.prepareForReuse(),x1.relinquish(n))}this.detailViews.clear(),this.set("detailDescriptionsVisible",!1),this.set("previousDetailDescriptionsVisible",!1)},modalDialogDidDismiss:function(){return this.removeDetails(),this.__s._$gw$modalDialogDidDismiss.apply(this,arguments)},_detailDescriptionsVisibleDidChange:v.h("detailDescriptionsVisible",(function(e){var t=this.detailViews;if(this.get("previousDetailDescriptionsVisible")!==e){for(var n=t.length;n--;){var r=t.objectAt(n);r.showDescription=e,r.adjustTitleLocationForDescription=e}this.previousDetailDescriptionsVisible=e}})),__superMap:{_$gw$modalDialogDidDismiss:"modalDialogDidDismiss"},staticMembers:{__QUALIFIED_CLASS_NAME__:"MultiItemAlertViewController"}}),x1=oe.a.extend({pool:y.c(Me.b(wk)),relinquish:function(e){this.pool.push(e)},acquire:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.pool.pop();return t instanceof Object?Object.assign(t,e):R1.create(e)}}).create(),F1=S.b("AlertPresentationState",["NotPresented","Presenting","Presented","Dismissing"]),P1=oe.a.extend(v.a,{delegate:null,dismissedAlert:v.i(),presentedAlert:v.i(),errorGroup:y.c({readOnly:!0,get:function(){return this._errorGroup}}),isAlertBecomingDismissed:y.c({readOnly:!0,get:function(){return this._presentationState===F1.Dismissing}}),isAlertBecomingPresented:y.c({readOnly:!0,get:function(){return this._presentationState===F1.Presenting}}),isAlertPresented:y.c({readOnly:!0,get:function(){return this._presentationState===F1.Presented}}),init:function(e){this.__s._$RP$init.apply(this,arguments),this._errorItemPresentationInfoGenerators={},this._errorGroup=null,this._alertViewController=null,this._contextAlertButton=null,this._presentationState=F1.NotPresented},addErrorItemPresentationInfoGenerator:function(e){this._errorItemPresentationInfoGenerators[e.errorGroupType]=e},_getPresentationInfoGeneratorForErrorGroup:function(e){var t=this._errorItemPresentationInfoGenerators[e.type];if(!t)throw new Error("No presentation info generator available for "+e.type);return t},presentErrorGroup:function(e){var t=this;if(this._errorGroup)throw new au("Cannot present. Is currently presenting error group",{alertPresenter:this});var n=this._getMessageForErrorGroup(e),r=this._getDescriptionForErrorGroup(e),i=k1.show({iconNames:"iclouddrive",message:n,description:r,primaryButton:{title:Sr.d("DriveUI.Common.Confirm"),isPrimary:!0,action:"handlePrimaryButton"},handlePrimaryButton:function(){t._dismissAlertView()}});this._includeContextButtonToAlertViewForErrorGroupIfNeeded(i,e),i.detailsVisible=this._shouldPresentDetailsForErrorGroup(e),this._addErrorGroupItemsToAlertViewDetailsStartingFromIndex(e,i,0),this._errorGroup=e,this._alertViewController=i,this._presentationState=F1.Presenting},updateForErrorGroup:function(e){var t=this._errorGroup,n=this._alertViewController,r=this._getMessageForErrorGroup(e),i=this._getDescriptionForErrorGroup(e),a=this._shouldPresentDetailsForErrorGroup(e),o=0;n.message=r,n.description=i,n.detailsVisible=a,t.type!==e.type?n.removeDetails():o=t.items.length,this._addErrorGroupItemsToAlertViewDetailsStartingFromIndex(e,n,o),this._includeContextButtonToAlertViewForErrorGroupIfNeeded(n,e),this._errorGroup=e},_shouldPresentDetailsForErrorGroup:function(e){return this._getPresentationInfoGeneratorForErrorGroup(e).shouldPresentDetailsForErrorGroup(e)},_shouldPresentItemDescriptionsForErrorGroup:function(e){return this._getPresentationInfoGeneratorForErrorGroup(e).shouldPresentItemDescriptionsForErrorGroup(e)},_getMessageForErrorGroup:function(e){return this._getPresentationInfoGeneratorForErrorGroup(e).getMessageForErrorGroup(e)},_getDescriptionForErrorGroup:function(e){return this._getPresentationInfoGeneratorForErrorGroup(e).getDescriptionForErrorGroup(e)},_addErrorGroupItemsToAlertViewDetailsStartingFromIndex:function(e,t,n){for(var r=this._getPresentationInfoGeneratorForErrorGroup(e),i=e.items,a=n,o=i.length;a<o;a++){var s=i[a],c=r.getPresentationInfoForErrorGroupItemAtIndex(e,s,a),l=c.message,u=c.description,d=c.iconView||null;t.addDetail(l,u,d)}var h=this._shouldPresentItemDescriptionsForErrorGroup(e);t.detailDescriptionsVisible=h},_includeContextButtonToAlertViewForErrorGroupIfNeeded:function(e,t){if(!this._contextAlertButton){var n=this._getPresentationInfoGeneratorForErrorGroup(t);if(n.shouldPresentContextButtonForErrorGroup(t)){var r=n.getContextButtonForErrorGroup(t);this._contextAlertButton=r,e.otherButton=r}}},_completePresentingAlertView:function(){this._presentationState=F1.Presented,this.presentedAlert(this)},_dismissAlertView:function(){this._presentationState=F1.NotPresented;var e=this._errorGroup;this._errorGroup=null,this._alertViewController=null,this._contextAlertButton=null,this.dismissedAlert(this,e)},__superMap:{_$RP$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"AlertPresenter"}}),j1=S.b("ImageStateEnum",["Prepared","Loading","Cancel","Loaded","Error"]),U1=Ar.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"img",attributes:{draggable:{key:"draggable",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"isDraggable",attributes:{},attribute:"draggable"},type:"ATTRIBUTE"}}}},__QUALIFIED_CLASS_NAME__:"ImageView"},additionalClassNames:ut.a(["image"]),alwaysShow:!1,src:v.g({didChange:function(e){this.state===j1.Loading&&(this.state=j1.Cancel,this.removeEventListeners()),"string"===typeof e&&e.length>0?(this._loadStartTime=Date.now(),this.state=j1.Loading,this.addEventListeners(),this.element.src=e):(this.state=j1.Prepared,this.element.src="")}}),state:v.g(j1.Prepared),isLoaded:v.g({readOnly:!0,dependencies:["state"],get:Object.assign((function(){return this.state===j1.Loaded}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===j1.Loaded}})}),isDraggable:v.g(!1),width:v.g({readOnly:!0,dependencies:["isLoaded"],get:Object.assign((function(){return this.isLoaded?this.element.width:0}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])?this.element.width:0}})}),height:v.g({readOnly:!0,dependencies:["isLoaded"],get:Object.assign((function(){return this.isLoaded?this.element.height:0}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])?this.element.height:0}})}),visible:v.g({readOnly:!0,dependencies:["isLoaded"],get:Object.assign((function(){return this.alwaysShow||this.isLoaded}),{__CW__getter:function(e,t,n,r){return this.alwaysShow||r.internalGet(this,t[0+n])}})}),didPrepEventListeners:!1,prepEventListeners:function(){this.didPrepEventListeners||(this._didLoad=this._didLoad.bind(this),this._didError=this._didError.bind(this),this.didPrepEventListeners=!0)},hasEventListeners:!1,addEventListeners:function(){var e=this.element;this.prepEventListeners(),e.addEventListener("load",this._didLoad),e.addEventListener("error",this._didError),this.hasEventListeners=!0},removeEventListeners:function(){var e=this.element;e.removeEventListener("load",this._didLoad),e.removeEventListener("error",this._didError),this.hasEventListeners=!1},reset:function(){this.src=void 0},_didLoad:function(){this.state===j1.Loading&&(this.state=j1.Loaded,this.removeEventListeners())},_didError:function(){this.state===j1.Loading&&(this.state=j1.Error,this.removeEventListeners())},dispose:function(){this.hasEventListeners&&this.removeEventListeners(),this.__s._$1Ai$dispose.apply(this,arguments)},__superMap:{_$1Ai$dispose:"dispose"}}),B1=Ar.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"imageView"}],classes:["icon-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"roundedCornerMask",truevalue:"rounded-corner-mask",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_isMediumDisplaySize",truevalue:"medium",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_isExtraMediumDisplaySize",truevalue:"extra-medium",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"iconClassName",attributes:{}}],styles:{width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"size",attributes:{},unit:"px",property:"width"},height:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"size",attributes:{},unit:"px",property:"height"}}}},__QUALIFIED_CLASS_NAME__:"IconView"},iconClassName:v.g(),imageView:v.g({readOnly:!0,strong:!0,get:function(){return U1.create({src:this.bindingFor("src")})}}),reuseIdentifier:null,roundedCornerMask:v.g(!0),src:v.g(""),size:v.g(60),displaySize:v.g(gK.LARGE),backgroundColor:v.g("transparent"),error:v.i(),isError:v.g({readOnly:!0,dependencies:["imageView.state"],get:Object.assign((function(){return this.imageView.state===j1.Error}),{__CW__getter:function(e,t,n,r){return r.internalGetPath(this,t[0+n])===j1.Error}}),didChange:function(e){this.disposed||this.isAttached&&e&&this.error()}}),_isMediumDisplaySize:v.g({readOnly:!0,dependencies:["displaySize"],get:Object.assign((function(){return this.displaySize===gK.MEDIUM}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===gK.MEDIUM}})}),_isExtraMediumDisplaySize:v.g({readOnly:!0,dependencies:["displaySize"],get:Object.assign((function(){return this.displaySize===gK.EXTRA_MEDIUM}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===gK.EXTRA_MEDIUM}})})}),V1=C$.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",name:"iconView"}],classes:["showcase","folder","library"]}},__QUALIFIED_CLASS_NAME__:"AppFolderShowcaseView"},init:function(e,t){this.iconService=e,this.__s._$Fs$init.call(this,t)},content:v.g(),iconService:v.g(),iconView:v.g({readOnly:!0,strong:!0,get:function(){return B1.create({iconClassName:this.bindingFor("iconClassName"),src:this.bindingFor("iconSrc"),size:this.bindingFor("iconSize"),displaySize:this.bindingFor("displaySize"),roundedCornerMask:this.bindingFor("isIOSIcon")})}}),isShowingPlaceholderIcon:v.g(_.c("iconView.isError")),iconType:v.g({readOnly:!0,dependencies:["content"],get:Object.assign((function(){var e=this.content;if(e){var t=FK(e.sanitizedName);return"string"===typeof t?t:"IOS"}}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);if(i){var a=FK(i.sanitizedName);return"string"===typeof a?a:"IOS"}}})}),iconSize:v.g({readOnly:!0,dependencies:["content","displaySize","iconType"],get:Object.assign((function(){if(this.content)return PK(this.iconType,this.displaySize)}),{__CW__getter:function(e,t,n,r){if(r.internalGet(this,t[0+n]))return PK(r.internalGet(this,t[2+n]),r.internalGet(this,t[1+n]))}})}),iconSrc:v.g({readOnly:!0,dependencies:["content"],get:Object.assign((function(){var e=this.content;if(e)return LK(e.sanitizedName,NK.APP_LIBRARY)}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);if(i)return LK(i.sanitizedName,NK.APP_LIBRARY)}})}),isIOSIcon:v.g({readOnly:!0,dependencies:["iconType"],get:Object.assign((function(){return"IOS"===this.iconType}),{__CW__getter:function(e,t,n,r){return"IOS"===r.internalGet(this,t[0+n])}})}),iconClassName:v.g({readOnly:!0,dependencies:["iconType"],get:Object.assign((function(){var e=this.iconType;if("string"===typeof e)return"OSX"===e?"mac-app-icon":"ios-app-icon"}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);if("string"===typeof i)return"OSX"===i?"mac-app-icon":"ios-app-icon"}})}),__superMap:{_$Fs$init:"init"}}),W1=oe.a.extend(v.a,{init:function(e,t,n,r,i){this.iconService=e,this.showcaseViewPool=t,this.thumbnailCanvasFactory=n,this.thumbnailStatsReporterService=r,this.__s._$Ma$init.call(this,i)},iconService:v.g(),showcaseViewPool:v.g(),thumbnailCanvasFactory:v.g(),thumbnailStatsReporterService:v.g(),errorGroupType:null,shouldPresentContextButtonForErrorGroup:function(e){return!1},getContextButtonForErrorGroup:function(e){return null},shouldPresentDetailsForErrorGroup:function(e){return!1},getMessageForErrorGroup:function(e){return null},getDescriptionForErrorGroup:function(e){return null},getPresentationInfoForErrorGroupItemAtIndex:function(e,t,n){return null},shouldPresentItemDescriptionsForErrorGroup:function(e){return!1},getIconViewForErrorItem:function(e){var t,n,r=this.iconService,i=this.showcaseViewPool,a=this.thumbnailCanvasFactory,o=this.thumbnailStatsReporterService,s=ol.a(e,"details.item");if(t=yt.a(s)&&P.a(s,Ph)?s.getDataHash():{id:e.type===sY.NotCompressed?"FOLDER::unspecified::unspecified":"FILE::unspecified::unspecified"},e.type===sY.NotCompressed)n=O$.create({iconService:r,additionalClassNames:ut.a(["medium"]),content:Rf.create(t)});else if(ol.a(s,"isFolder")&&!ol.a(s,"isAppLibrary"))n=O$.create({additionalClassNames:ut.a(["medium"]),content:Rf.create(t)});else if(ol.a(s,"isAppLibrary"))n=V1.create(r,{additionalClassNames:ut.a(["medium"]),delegate:null,displaySize:gK.MEDIUM,content:Rf.create(t)});else{var c=ol.a(s,"extension");n=QK.create(r,i,a,o,{additionalClassNames:ut.a(["medium"]),fileType:c,fileExtension:c,displaySize:gK.MEDIUM,content:qh.create(t)})}return n},__superMap:{_$Ma$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ErrorItemPresentationInfoGenerator"}}),z1=function(e){for(var t,n=e.get("items"),r=n.length,i=0;i<r;i++){var a=n[i],o=n[i].get("type"),s=a.get("details");if(s&&s.conflictType&&(o=s.conflictType.name),t&&t!==o)return!0;t=o}return!1},H1=oe.a.extend({init:function(e,t){this.message=e,this.__s._$7G$init.call(this,t)},message:null,description:null,iconView:null,__superMap:{_$7G$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ErrorItemPresentationInfo"}}),G1=W1.extend({shouldPresentDetailsForErrorGroup:function(e){return e.items.length>1},getMessageForErrorGroup:function(e){var t=e.items,n=t.length;return n>1?this.getMainMessageForErrorGroup(e,dc.a.getNumberFormatter().format(n)):this.getMainMessageForErrorItem(t[0])},getDescriptionForErrorGroup:function(e){var t=e.items,n=t.length;return n>1?this.getMainDescriptionForErrorGroup(e,dc.a.getNumberFormatter().format(n)):this.getDescriptionForErrorItem(t[0],!0)},getPresentationInfoForErrorGroupItemAtIndex:function(e,t,n){var r=t.details.item;return H1.create(r.fullName,{description:this.getDescriptionForErrorItem(t,!1),iconView:this.getIconViewForErrorItem(t)})},getMainMessageForErrorGroup:function(e){return null},getMainDescriptionForErrorGroup:function(e){return null},getMainMessageForErrorItem:function(e){return null},getDescriptionForErrorItem:function(e,t){var n,r=e.details,i=r.conflictType,a=r.destinationFolder,o=r.isDestinationFolderSharedToMe,s=r.isSourceFolderSharedToMe;switch(i){case DG.DestinationDeleted:return n="DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.DestinationDeleted",o&&(n="DriveUI.FilesGrid.Error.SharedFolder.UnsharedToMe.Description"),Sr.d(n,{folder:a});case DG.ItemUnshared:return n="DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.Default",s&&(n="DriveUI.FilesGrid.Error.SharedFolder.UnsharedToMe.Description"),Sr.d(n);case DG.ItemDeleted:return n="DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemDeleted.",n+=this._getLocItemTypeForErrorItem(e),Sr.d(n);case DG.ItemMoved:return n="DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemMoved.",n+=this._getLocItemTypeForErrorItem(e),Sr.d(n);case DG.ItemModified:return n="DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemModified.",n+=this._getLocItemTypeForErrorItem(e),Sr.d(n);case DG.OutOfQuota:return Sr.d("DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.OutOfQuota");case DG.Unknown:return t?this.getVerboseDefaultUnknownConflictDescriptionForErrorItem(e):this.getShortDefaultUnknownConflictDescriptionForErrorItem(e)}},getVerboseDefaultUnknownConflictDescriptionForErrorItem:function(e,t){return Sr.d("DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.Default")},getShortDefaultUnknownConflictDescriptionForErrorItem:function(e){return Sr.d("DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.Default")},_getLocItemTypeForErrorItem:function(e){switch(e.details.item.type){case xh.FOLDER:return"Folder";case xh.APP_LIBRARY:return"AppLibrary";default:return"File"}},shouldPresentItemDescriptionsForErrorGroup:function(e){return z1(e)},areAllItemsTheSameConflictType:function(e){var t=e[0].details.conflictType;return e.every((function(e){return e.details.conflictType===t}))},staticMembers:{__QUALIFIED_CLASS_NAME__:"TransactionErrorItemPresentationInfoGenerator"}}),$1=G1.extend({errorGroupType:d1.CreateFolderErrors,getMainMessageForErrorGroup:function(e,t){return Sr.d("DriveUI.Alert.TransactionError.Group.CreateFolders.Message",{count:t})},getMainDescriptionForErrorGroup:function(e,t){return Sr.d("DriveUI.Alert.TransactionError.Group.CreateFolders.Description")},getMainMessageForErrorItem:function(e){var t=e.details,n=t.conflictType,r=t.destinationFolder;return!t.isDestinationFolderSharedToMe||n!==DG.DestinationDeleted&&n!==DG.DestinationInvalid?Sr.d("DriveUI.Alert.TransactionError.CreateFolder.Message",{name:e.details.item.fullName}):Sr.d("DriveUI.FilesGrid.Error.SharedFolder.UnsharedToMe.Message",{folderName:r})},getVerboseDefaultUnknownConflictDescriptionForErrorItem:function(e){return Sr.d("DriveUI.Alert.TransactionError.CreateFolder.Description")},staticMembers:{__QUALIFIED_CLASS_NAME__:"CreateFoldersTransactionErrorItemPresentationInfoGenerator"}}),K1=G1.extend({errorGroupType:d1.DeletedItemErrors,getMainMessageForErrorGroup:function(e,t){return Sr.d("DriveUI.Alert.TransactionError.Group.DeleteItems.Message",{count:t})},getMainDescriptionForErrorGroup:function(e,t){return Sr.d("DriveUI.Alert.TransactionError.Group.DeleteItems.Description")},getMainMessageForErrorItem:function(e){return Sr.d("DriveUI.Alert.TransactionError.DeleteItems.Single.Message",{name:e.details.item.fullName})},getVerboseDefaultUnknownConflictDescriptionForErrorItem:function(e){var t="DriveUI.Alert.TransactionError.DeleteItems.Single.",n=e.details.item;return t+=this._getLocItemForFileSystemItem(n),t+=".Description",Sr.d(t)},_getLocItemForFileSystemItem:function(e){var t=e.isAppLibrary?"AppLibrary":e.isFile?"File":e.isFolder?"Folder":null;if(!t)throw new Error("Attempted to generate error presentation info for an item with an invalid type");return t},staticMembers:{__QUALIFIED_CLASS_NAME__:"DeleteItemsTransactionErrorItemPresentationInfoGenerator"}}),Q1=W1.extend({errorGroupType:p1.RenameItemErrors,shouldPresentDetailsForErrorGroup:function(e){return e.items.length>1},getMessageForErrorGroup:function(e){var t=e.items,n=t.length;return n>1?this.getMainMessageForErrorGroup(e,n):this.getMainMessageForErrorItem(t[0])},getDescriptionForErrorGroup:function(e){var t=e.items,n=t.length;return n>1?this.getMainDescriptionForErrorGroup(e,n):this.getDescriptionForErrorItem(t[0],!0)},getPresentationInfoForErrorGroupItemAtIndex:function(e,t,n){var r=t.details;return H1.create(r.item.name,{description:this.getDescriptionForErrorItem(t,!1),iconView:this.getIconViewForErrorItem(t)})},getMainMessageForErrorGroup:function(e,t){return Sr.d("DriveUI.Alert.CannotRenameItem.Group.Message",{count:t})},getMainDescriptionForErrorGroup:function(e,t){return Sr.d("DriveUI.Alert.CannotRenameItem.Group.Description")},getMainMessageForErrorItem:function(e){var t,n,r=e.details.item,i=e.type,a=e.details.newName,o=r.isFolder;switch(i){case iY.DuplicateName:return t="DriveUI.Alert.CannotRenameItem.NoExtension.Message",Sr.d(t,{name:a});case iY.EmptyName:return o||r.extension&&""===r.extension?(t="DriveUI.Alert.EmptyName.Folder.Message",Sr.d(t,{name:a})):(n=a+"."+r.extension,t="DriveUI.Alert.EmptyName.File.Message",Sr.d(t,{fileNameWithExtension:n}));case iY.InvalidName:return o||r.extension&&""===r.extension?(t="DriveUI.Alert.InvalidName.Folder.Message",Sr.d(t,{name:a})):(n=a+"."+r.extension,t="DriveUI.Alert.InvalidName.File.Message",Sr.d(t,{fileNameWithExtension:n}));case iY.HiddenFile:return t="DriveUI.Alert.HiddenName.Folder.Message",o||(t="DriveUI.Alert.HiddenName.File.Message"),Sr.d(t)}},getDescriptionForErrorItem:function(e,t){var n;switch(e.type){case iY.DuplicateName:return n="DriveUI.Alert.CannotRenameItem.Description",Sr.d(n);case iY.EmptyName:return n="DriveUI.Alert.EmptyName.Description",Sr.d(n);case iY.InvalidName:return n="DriveUI.Alert.InvalidName.Description",Sr.d(n);case iY.HiddenFile:return n="DriveUI.Alert.HiddenName.Description",Sr.d(n)}throw new Error("ErrorItem not recognized")},shouldPresentItemDescriptionsForErrorGroup:function(e){return z1(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"LocalEditItemsErrorItemPresentationInfoGenerator"}}),q1=G1.extend({errorGroupType:d1.MovedItemErrors,getMainMessageForErrorGroup:function(e,t){return Sr.d("DriveUI.Alert.TransactionError.Group.MoveItems.Generic.Message",{count:t})},getMainDescriptionForErrorGroup:function(e,t){return Sr.d("DriveUI.Alert.TransactionError.Group.MoveItems.Generic.Description")},getMainMessageForErrorItem:function(e){return Sr.d("DriveUI.Alert.TransactionError.MovingItems.Single.Message",{name:e.details.item.fullName,folder:e.details.destinationFolder})},getVerboseDefaultUnknownConflictDescriptionForErrorItem:function(e){var t="DriveUI.Alert.TransactionError.MovingItems.Single.";return t+=this._getLocItemTypeForErrorItem(e),t+=".Description",Sr.d(t)},staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemsTransactionErrorItemPresentationInfoGenerator"}}),Z1=q1.extend({errorGroupType:d1.MovedItemToAppLibraryErrors,staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemsToAppLibraryErrorItemPresentationInfoGenerator"}}),Y1=G1.extend({errorGroupType:d1.PutItemsBackFromTrashErrors,getMainMessageForErrorGroup:function(e,t){return Sr.d("DriveUI.Alert.TransactionError.RecoverItems.Message",{count:t})},getMainDescriptionForErrorGroup:function(e,t){return Sr.d("DriveUI.Alert.TransactionError.RecoverItems.Description")},getMainMessageForErrorItem:function(e){return Sr.d("DriveUI.Alert.TransactionError.RecoverItem.Message",{name:e.details.item.fullName})},getVerboseDefaultUnknownConflictDescriptionForErrorItem:function(e){var t="DriveUI.Alert.TransactionError.RecoverItem.";return t+=this._getLocItemTypeForErrorItem(e),t+=".Description",Sr.d(t)},staticMembers:{__QUALIFIED_CLASS_NAME__:"PutItemsBackFromTrashErrorItemPresentationInfoGenerator"}}),X1=G1.extend({errorGroupType:d1.RenameItemErrors,getMainMessageForErrorGroup:function(e,t){return Sr.d("DriveUI.Alert.TransactionError.Group.RenameItems.Message",{count:t})},getMainDescriptionForErrorGroup:function(e,t){return Sr.d("DriveUI.Alert.TransactionError.Group.RenameItems.Description")},getMainMessageForErrorItem:function(e){var t="DriveUI.Alert.TransactionError.RenameItem.";return t+=this._getLocItemTypeForErrorItem(e),t+=".Message",Sr.d(t,{name:e.details.item.fullName})},getVerboseDefaultUnknownConflictDescriptionForErrorItem:function(e){var t="DriveUI.Alert.TransactionError.RenameItem.";return t+=this._getLocItemTypeForErrorItem(e),t+=".Description",Sr.d(t)},staticMembers:{__QUALIFIED_CLASS_NAME__:"RenameItemsTransactionErrorItemPresentationInfoGenerator"}}),J1=G1.extend({errorGroupType:d1.UploadItemErrors,upgradeButtonUrl:y.c({readOnly:!0}),getContextButtonForErrorGroup:function(e){var t=this;return{title:Sr.d("DriveUI.Alert.UpgradeInstructions"),action:"navigateToUpgradeUrl",navigateToUpgradeUrl:function(){t.upgradeButtonUrl&&globalThis.open(t.upgradeButtonUrl,"_blank")}}},getMessageForErrorGroup:function(e){return this._getMessageAndDescription(e).message},getDescriptionForErrorGroup:function(e){return this._getMessageAndDescription(e).description},shouldPresentDetailsForErrorGroup:function(e){var t=e.items;return 1!==t.length&&this.areAllItemsTheSameConflictType(t)},shouldPresentContextButtonForErrorGroup:function(e){return e.items.some((function(e){return e.details.conflictType===DG.OutOfQuota}))},_getMessageAndDescription:function(e){var t=e.items;return this.shouldPresentDetailsForErrorGroup(e)?this._getMessageAndDescriptionForMultipleErrorItems(t):this._getMessageAndDescriptionForSingleErrorItem(t[0])},_getMessageAndDescriptionForMultipleErrorItems:function(e){var t,n,r=e[0].details.conflictType;if(this.areAllItemsTheSameConflictType(e))switch(r){case DG.OutOfQuota:t=Sr.d("DriveUI.Alert.Upload.Coalesced.OutOfQuota.Title",{fileCount:e.length}),n=Sr.d("DriveUI.Alert.Upload.Coalesced.OutOfQuota.Description");break;case DG.DestinationDeleted:t=Sr.d("DriveUI.Alert.Upload.Coalesced.Default.Title",{fileCount:e.length}),n=Sr.d("DriveUI.FilesGrid.Error.SharedFolder.UnsharedToMe.Description");break;case DG.Unknown:default:t=Sr.d("DriveUI.Alert.Upload.Coalesced.Unknown.Title",{fileCount:e.length}),n=Sr.d("DriveUI.Alert.Upload.Coalesced.Unknown.Description")}else t=Sr.d("DriveUI.Alert.Upload.Coalesced.Default.Title",{fileCount:e.length}),n=Sr.d("DriveUI.Alert.Upload.Coalesced.Default.Description");return{message:t,description:n}},_getMessageAndDescriptionForSingleErrorItem:function(e){var t,n,r=e.details.conflictType,i=e.details.item.fullName;switch(r){case DG.OutOfQuota:t=Sr.d("DriveUI.Alert.Upload.OutOfQuota.Title",{fileName:i}),n=Sr.d("DriveUI.Alert.Upload.OutOfQuota.Description");break;case DG.DestinationDeleted:t=Sr.d("DriveUI.Alert.Upload.Default.Title",{fileName:i}),n=Sr.d("DriveUI.FilesGrid.Error.SharedFolder.UnsharedToMe.Description");break;case DG.Unknown:default:t=Sr.d("DriveUI.Alert.Upload.Default.Title",{fileName:i}),n=Sr.d("DriveUI.Alert.Upload.Default.Description")}return{message:t,description:n}},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadFilesTransactionErrorItemPresentationInfoGenerator"}}),e0=W1.extend({errorGroupType:I1.items,shouldPresentDetailsForErrorGroup:function(e){return e.items.length>1},getMessageForErrorGroup:function(e){return this._getMessageAndDescription(e).message},getDescriptionForErrorGroup:function(e){return this._getMessageAndDescription(e).description},getPresentationInfoForErrorGroupItemAtIndex:function(e,t,n){var r=this._getMessageAndDescriptionForSingleErrorItem(t),i=(t.details||{}).item;if(i){var a=this._getDetailedItemDescriptionForSingleErrorItem(t);return H1.create(i.name,{description:a,iconView:this.getIconViewForErrorItem(t)})}return H1.create(r.message,{description:r.description})},shouldPresentItemDescriptionsForErrorGroup:function(e){return z1(e)},_getMessageAndDescription:function(e){var t=e.items;return this.shouldPresentDetailsForErrorGroup(e)?this._getMessageAndDescriptionForMultipleErrorItems(t):this._getMessageAndDescriptionForSingleErrorItem(t[0])},_getMessageAndDescriptionForMultipleErrorItems:function(e){var t,n,r=e[0],i=r.details,a=r.type,o=e.length,s=i.destination,c="";if(s&&s.getAppLibrary){var l=s.getAppLibrary();l&&(c=l.get("fullName"))}if(e.every((function(e){return e.type===a})))switch(a){case sY.NotCompressed:t=Sr.d("DriveUI.Alert.Upload.Coalesced.NotCompressed.Title",{fileCount:o}),n=Sr.d("DriveUI.Alert.Upload.Coalesced.NotCompressed.Description");break;case sY.BadAppLibraryType:t=Sr.d("DriveUI.Alert.Upload.Coalesced.BadFileTypeForAppLibrary.Title",{num:o,appName:c}),n=Sr.d("DriveUI.Alert.Upload.Coalesced.BadFileTypeForAppLibrary.Description",{appName:c});break;case sY.HiddenFile:t=Sr.d("DriveUI.Alert.Upload.Coalesced.HiddenFile.Title"),n=Sr.d("DriveUI.Alert.Upload.Coalesced.HiddenFile.Description");break;case sY.UnsupportedExtension:t=Sr.d("DriveUI.Alert.Upload.Coalesced.UnsupportedExtension.Description"),n="";break;case sY.SizeTooBig:t=Sr.d("DriveUI.Alert.Upload.Coalesced.SizeTooBig.Title",{fileCount:o}),n=Sr.d("DriveUI.Alert.Upload.Coalesced.SizeTooBig.Description");break;case sY.SizeTooSmall:t=Sr.d("DriveUI.Alert.Upload.Coalesced.SizeTooSmall.Title",{fileCount:o}),n=Sr.d("DriveUI.Alert.Upload.Coalesced.SizeTooSmall.Description");break;default:t=Sr.d("DriveUI.Alert.Upload.Coalesced.Default.Title",{fileCount:o}),n=Sr.d("DriveUI.Alert.Upload.Coalesced.Default.Description")}else t=Sr.d("DriveUI.Alert.Upload.Coalesced.Default.Title",{fileCount:o}),n=Sr.d("DriveUI.Alert.Upload.Coalesced.Default.Description");return{message:t,description:n}},_getMessageAndDescriptionForSingleErrorItem:function(e){var t,n,r=e.type,i=e.details||{},a=i.item,o=i.destination,s="";if(o&&o.getAppLibrary){var c=o.getAppLibrary();c&&(s=c.get("fullName"))}switch(r){case sY.AccessDenied:t=Sr.d("DriveUI.Alert.Upload.AccessDenied.Title"),n=Sr.d("DriveUI.Alert.Upload.AccessDenied.Message");break;case sY.NotCompressed:case sY.IEFolderDropZeroFileCount:var l=a?sX(a.name):null;if(l&&iX(l)){var u;switch(l){case"pages":u="Pages";break;case"key":case"keynote":u="Keynote";break;case"numbers":u="Numbers"}u?(t=Sr.d("DriveUI.Alert.Upload.Package.Title."+u),n=Sr.d("DriveUI.Alert.Upload.Package.Description."+u,{extension:l})):(t=Sr.d("DriveUI.Alert.Upload.Package.Title"),n=Sr.d("DriveUI.Alert.Upload.Package.Description"))}else t=Sr.d("DriveUI.Alert.Upload.SelectionContainsFolder.Title"),n=Sr.d("DriveUI.Alert.Upload.SelectionContainsFolder.Description");break;case sY.BadAppLibraryType:t=Sr.d("DriveUI.Alert.Upload.BadFileTypeForAppLibrary.Title",{appName:s}),n=Sr.d("DriveUI.Alert.Upload.BadFileTypeForAppLibrary.Message",{appName:s});break;case sY.HiddenFile:t=Sr.d("DriveUI.Alert.Upload.HiddenFile.Title",{fileName:a.name}),n=Sr.d("DriveUI.Alert.Upload.HiddenFile.Description");break;case sY.UnsupportedExtension:t=Sr.d("DriveUI.Alert.Upload.UnsupportedExtension.Title",{fileName:a.name}),n=Sr.d("DriveUI.Alert.Upload.UnsupportedExtension.Description");break;case sY.SizeTooBig:t=Sr.d("DriveUI.Alert.Upload.SizeTooBig.Title",{fileName:a.name}),n=Sr.d("DriveUI.Alert.Upload.SizeTooBig.Description");break;case sY.SizeTooSmall:t=Sr.d("DriveUI.Alert.Upload.SizeTooSmall.Title",{fileName:a.name}),n=Sr.d("DriveUI.Alert.Upload.SizeTooSmall.Description");break;case sY.BrowserNotSupported:t=Sr.d("DriveUI.Alert.Upload.BrowserNotSupported.Title"),n=Sr.d("DriveUI.Alert.Upload.BrowserNotSupported.Description");break;case sY.Unknown:default:t=Sr.d("DriveUI.Alert.Upload.Default.Title",{fileName:a.name}),n=Sr.d("DriveUI.Alert.Upload.Default.Description")}return{message:t,description:n}},_getDetailedItemDescriptionForSingleErrorItem:function(e){switch(e.get("type")){case sY.HiddenFile:return Sr.d("DriveUI.Alert.Upload.HiddenFile.Description");case sY.SizeTooBig:return Sr.d("DriveUI.Alert.Upload.SizeTooBig.DetailedDescription");default:return this._getMessageAndDescriptionForSingleErrorItem(e).description}},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadValidationErrorItemPresentationInfoGenerator"}}),t0=W1.extend({errorGroupType:O1.MixedErrorType,getMessageForErrorGroup:function(e){var t=e.items,n=t.length,r=t[0].details.item.fullName,i=n0(t),a=n>1?["DriveUI.Alert.Download.Multiple."+i+".Title",{fileCount:n}]:["DriveUI.Alert.Download.Single."+i+".Title",{fileName:r}];return Sr.d.apply(null,a)},getDescriptionForErrorGroup:function(e){var t=e.items,n=t.length,r=n0(t),i=n>1?["DriveUI.Alert.Download.Multiple."+r+".Subtitle"]:["DriveUI.Alert.Download.Single."+r+".Subtitle"];return Sr.d.apply(null,i)},getPresentationInfoForErrorGroupItemAtIndex:function(e,t,n){var r=t.details.item.fullName,i="DriveUI.Alert.Download.Multiple.ItemDetails."+(t.type===TG.GenericDownloadError?"Generic":"Deleted")+".Subtitle";return H1.create(r,{iconView:this.getIconViewForErrorItem(t),description:Sr.d(i)})},shouldPresentItemDescriptionsForErrorGroup:function(e){return"Mixed"===n0(e.items)},shouldPresentDetailsForErrorGroup:function(e){return e.items.length>1},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownloadErrorItemPresentationInfoGenerator"}});function n0(e){return e.map((function(e){return e.type===TG.GenericDownloadError?"Generic":"Deleted"})).reduce((function(e,t){return t===e?t:"Mixed"}))}var r0=W1.extend({errorGroupType:A1.MixedErrorType,getMessageForErrorGroup:function(e){var t=e.items,n=t.length,r=t[0].details.item.fullName,i="Attachment"===i0(t)?"Attachment":"Generic",a=n>1?["DriveUI.FilesGrid.Error.OpenFile.Multiple."+i+".Title",{fileCount:n}]:["DriveUI.FilesGrid.Error.OpenFile.Single."+i+".Title",{fileName:r}];return Sr.d.apply(null,a)},getDescriptionForErrorGroup:function(e){var t=e.items,n=t.length,r=i0(t),i=n>1?["DriveUI.FilesGrid.Error.OpenFile.Multiple."+r+".Subtitle"]:["DriveUI.FilesGrid.Error.OpenFile.Single."+r+".Subtitle"];return Sr.d.apply(null,i)},getPresentationInfoForErrorGroupItemAtIndex:function(e,t,n){var r=t.details.item.fullName,i="DriveUI.FilesGrid.Error.OpenFile.Multiple.ItemDetails."+i0([t])+".Subtitle";return H1.create(r,{iconView:this.getIconViewForErrorItem(t),description:Sr.d(i)})},shouldPresentItemDescriptionsForErrorGroup:function(e){return"Mixed"===i0(e.items)},shouldPresentDetailsForErrorGroup:function(e){return e.items.length>1},staticMembers:{__QUALIFIED_CLASS_NAME__:"OpenFileErrorItemPresentationInfoGenerator"}});function i0(e){return e.map((function(e){return e.type===UH.RequestedItemWasDeletedError?"Deleted":e.type===UH.RequestedItemWasUnshared?"Unshared":e.type===UH.EmailAttachmentError?"Attachment":"Generic"})).reduce((function(e,t){return t===e?t:"Mixed"}))}var a0=hd.extend({staticMembers:{storageKey:"DriveUI"},supportHelpPage:hd.stringProperty("http://support.apple.com/kb/ht4847")}).create(),o0={keynote:"application/x-iwork-keynote-sffkey",pages:"application/x-iwork-pages-sffpages",numbers:"application/x-iwork-numbers-sffnumbers",123:"application/vnd.lotus-1-2-3",ez:"application/andrew-inset",aw:"application/applixware",atom:"application/atom+xml",atomcat:"application/atomcat+xml",atomsvc:"application/atomsvc+xml",ccxml:"application/ccxml+xml",cdmia:"application/cdmi-capability",cdmic:"application/cdmi-container",cdmid:"application/cdmi-domain",cdmio:"application/cdmi-object",cdmiq:"application/cdmi-queue",cu:"application/cu-seeme",davmount:"application/davmount+xml",dat:"application/octet-stream",dbk:"application/docbook+xml",dssc:"application/dssc+der",xdssc:"application/dssc+xml",ecma:"application/ecmascript",emma:"application/emma+xml",epub:"application/epub+zip",exi:"application/exi",pfr:"application/font-tdpfr",gml:"application/gml+xml",gpx:"application/gpx+xml",gxf:"application/gxf",stk:"application/hyperstudio",ink:"application/inkml+xml",inkml:"application/inkml+xml",ipfix:"application/ipfix",jar:"application/java-archive",ser:"application/java-serialized-object",class:"application/java-vm",js:"application/javascript",json:"application/json",jsonml:"application/jsonml+json",lostxml:"application/lost+xml",hqx:"application/mac-binhex40",cpt:"application/mac-compactpro",mads:"application/mads+xml",mrc:"application/marc",mrcx:"application/marcxml+xml",ma:"application/mathematica",nb:"application/mathematica",mb:"application/mathematica",mathml:"application/mathml+xml",mbox:"application/mbox",mscml:"application/mediaservercontrol+xml",metalink:"application/metalink+xml",meta4:"application/metalink4+xml",mets:"application/mets+xml",mods:"application/mods+xml",m21:"application/mp21",mp21:"application/mp21",mp4s:"application/mp4",doc:"application/msword",dot:"application/msword",mxf:"application/mxf",bin:"application/octet-stream",dms:"application/octet-stream",lrf:"application/octet-stream",mar:"application/octet-stream",so:"application/octet-stream",dist:"application/octet-stream",distz:"application/octet-stream",pkg:"application/octet-stream",bpk:"application/octet-stream",dump:"application/octet-stream",elc:"application/octet-stream",deploy:"application/octet-stream",oda:"application/oda",opf:"application/oebps-package+xml",ogx:"application/ogg",omdoc:"application/omdoc+xml",onetoc:"application/onenote",onetoc2:"application/onenote",onetmp:"application/onenote",onepkg:"application/onenote",oxps:"application/oxps",xer:"application/patch-ops-error+xml",pdf:"application/pdf",pgp:"application/pgp-encrypted",asc:"application/pgp-signature",sig:"application/pgp-signature",prf:"application/pics-rules",p10:"application/pkcs10",p7m:"application/pkcs7-mime",p7c:"application/pkcs7-mime",p7s:"application/pkcs7-signature",p8:"application/pkcs8",ac:"application/pkix-attr-cert",cer:"application/pkix-cert",crl:"application/pkix-crl",pkipath:"application/pkix-pkipath",pki:"application/pkixcmp",pls:"application/pls+xml",ai:"application/postscript",eps:"application/postscript",ps:"application/postscript",cww:"application/prs.cww",pskcxml:"application/pskc+xml",rdf:"application/rdf+xml",rif:"application/reginfo+xml",rnc:"application/relax-ng-compact-syntax",rl:"application/resource-lists+xml",rld:"application/resource-lists-diff+xml",rs:"application/rls-services+xml",gbr:"application/rpki-ghostbusters",mft:"application/rpki-manifest",roa:"application/rpki-roa",rsd:"application/rsd+xml",rss:"application/rss+xml",rtf:"application/rtf",sbml:"application/sbml+xml",scq:"application/scvp-cv-request",scs:"application/scvp-cv-response",spq:"application/scvp-vp-request",spp:"application/scvp-vp-response",sdp:"application/sdp",setpay:"application/set-payment-initiation",setreg:"application/set-registration-initiation",shf:"application/shf+xml",smi:"application/smil+xml",smil:"application/smil+xml",rq:"application/sparql-query",srx:"application/sparql-results+xml",gram:"application/srgs",grxml:"application/srgs+xml",sru:"application/sru+xml",ssdl:"application/ssdl+xml",ssml:"application/ssml+xml",tei:"application/tei+xml",teicorpus:"application/tei+xml",tfi:"application/thraud+xml",tsd:"application/timestamped-data",plb:"application/vnd.3gpp.pic-bw-large",psb:"application/vnd.3gpp.pic-bw-small",pvb:"application/vnd.3gpp.pic-bw-var",tcap:"application/vnd.3gpp2.tcap",pwn:"application/vnd.3m.post-it-notes",aso:"application/vnd.accpac.simply.aso",imp:"application/vnd.accpac.simply.imp",acu:"application/vnd.acucobol",atc:"application/vnd.acucorp",acutc:"application/vnd.acucorp",air:"application/vnd.adobe.air-application-installer-package+zip",fcdt:"application/vnd.adobe.formscentral.fcdt",fxp:"application/vnd.adobe.fxp",fxpl:"application/vnd.adobe.fxp",xdp:"application/vnd.adobe.xdp+xml",xfdf:"application/vnd.adobe.xfdf",ahead:"application/vnd.ahead.space",azf:"application/vnd.airzip.filesecure.azf",azs:"application/vnd.airzip.filesecure.azs",azw:"application/vnd.amazon.ebook",acc:"application/vnd.americandynamics.acc",ami:"application/vnd.amiga.ami",apk:"application/vnd.android.package-archive",cii:"application/vnd.anser-web-certificate-issue-initiation",fti:"application/vnd.anser-web-funds-transfer-initiation",atx:"application/vnd.antix.game-component",mpkg:"application/vnd.apple.installer+xml",m3u8:"application/vnd.apple.mpegurl",swi:"application/vnd.aristanetworks.swi",iota:"application/vnd.astraea-software.iota",aep:"application/vnd.audiograph",mpm:"application/vnd.blueice.multipass",bmi:"application/vnd.bmi",rep:"application/vnd.businessobjects",cdxml:"application/vnd.chemdraw+xml",mmd:"application/vnd.chipnuts.karaoke-mmd",cdy:"application/vnd.cinderella",cla:"application/vnd.claymore",rp9:"application/vnd.cloanto.rp9",c4g:"application/vnd.clonk.c4group",c4d:"application/vnd.clonk.c4group",c4f:"application/vnd.clonk.c4group",c4p:"application/vnd.clonk.c4group",c4u:"application/vnd.clonk.c4group",c11amc:"application/vnd.cluetrust.cartomobile-config",c11amz:"application/vnd.cluetrust.cartomobile-config-pkg",csp:"application/vnd.commonspace",cdbcmsg:"application/vnd.contact.cmsg",cmc:"application/vnd.cosmocaller",clkx:"application/vnd.crick.clicker",clkk:"application/vnd.crick.clicker.keyboard",clkp:"application/vnd.crick.clicker.palette",clkt:"application/vnd.crick.clicker.template",clkw:"application/vnd.crick.clicker.wordbank",wbs:"application/vnd.criticaltools.wbs+xml",pml:"application/vnd.ctc-posml",ppd:"application/vnd.cups-ppd",car:"application/vnd.curl.car",pcurl:"application/vnd.curl.pcurl",dart:"application/vnd.dart",rdz:"application/vnd.data-vision.rdz",uvf:"application/vnd.dece.data",uvvf:"application/vnd.dece.data",uvd:"application/vnd.dece.data",uvvd:"application/vnd.dece.data",uvt:"application/vnd.dece.ttml+xml",uvvt:"application/vnd.dece.ttml+xml",uvx:"application/vnd.dece.unspecified",uvvx:"application/vnd.dece.unspecified",uvz:"application/vnd.dece.zip",uvvz:"application/vnd.dece.zip",fe_launch:"application/vnd.denovo.fcselayout-link",dna:"application/vnd.dna",mlp:"application/vnd.dolby.mlp",dpg:"application/vnd.dpgraph",dfac:"application/vnd.dreamfactory",kpxx:"application/vnd.ds-keypoint",ait:"application/vnd.dvb.ait",svc:"application/vnd.dvb.service",geo:"application/vnd.dynageo",mag:"application/vnd.ecowin.chart",nml:"application/vnd.enliven",esf:"application/vnd.epson.esf",msf:"application/vnd.epson.msf",qam:"application/vnd.epson.quickanime",slt:"application/vnd.epson.salt",ssf:"application/vnd.epson.ssf",es3:"application/vnd.eszigno3+xml",et3:"application/vnd.eszigno3+xml",ez2:"application/vnd.ezpix-album",ez3:"application/vnd.ezpix-package",fdf:"application/vnd.fdf",mseed:"application/vnd.fdsn.mseed",seed:"application/vnd.fdsn.seed",dataless:"application/vnd.fdsn.seed",gph:"application/vnd.flographit",ftc:"application/vnd.fluxtime.clip",fm:"application/vnd.framemaker",frame:"application/vnd.framemaker",maker:"application/vnd.framemaker",book:"application/vnd.framemaker",fnc:"application/vnd.frogans.fnc",ltf:"application/vnd.frogans.ltf",fsc:"application/vnd.fsc.weblaunch",oas:"application/vnd.fujitsu.oasys",oa2:"application/vnd.fujitsu.oasys2",oa3:"application/vnd.fujitsu.oasys3",fg5:"application/vnd.fujitsu.oasysgp",bh2:"application/vnd.fujitsu.oasysprs",ddd:"application/vnd.fujixerox.ddd",xdw:"application/vnd.fujixerox.docuworks",xbd:"application/vnd.fujixerox.docuworks.binder",fzs:"application/vnd.fuzzysheet",txd:"application/vnd.genomatix.tuxedo",ggb:"application/vnd.geogebra.file",ggt:"application/vnd.geogebra.tool",gex:"application/vnd.geometry-explorer",gre:"application/vnd.geometry-explorer",gxt:"application/vnd.geonext",g2w:"application/vnd.geoplan",g3w:"application/vnd.geospace",gmx:"application/vnd.gmx",kml:"application/vnd.google-earth.kml+xml",kmz:"application/vnd.google-earth.kmz",gqf:"application/vnd.grafeq",gqs:"application/vnd.grafeq",gac:"application/vnd.groove-account",ghf:"application/vnd.groove-help",gim:"application/vnd.groove-identity-message",grv:"application/vnd.groove-injector",gtm:"application/vnd.groove-tool-message",tpl:"application/vnd.groove-tool-template",vcg:"application/vnd.groove-vcard",hal:"application/vnd.hal+xml",zmm:"application/vnd.handheld-entertainment+xml",hbci:"application/vnd.hbci",les:"application/vnd.hhe.lesson-player",hpgl:"application/vnd.hp-hpgl",hpid:"application/vnd.hp-hpid",hps:"application/vnd.hp-hps",jlt:"application/vnd.hp-jlyt",pcl:"application/vnd.hp-pcl",pclxl:"application/vnd.hp-pclxl","sfd-hdstx":"application/vnd.hydrostatix.sof-data",mpy:"application/vnd.ibm.minipay",afp:"application/vnd.ibm.modcap",listafp:"application/vnd.ibm.modcap",list3820:"application/vnd.ibm.modcap",irm:"application/vnd.ibm.rights-management",sc:"application/vnd.ibm.secure-container",icc:"application/vnd.iccprofile",icm:"application/vnd.iccprofile",igl:"application/vnd.igloader",ivp:"application/vnd.immervision-ivp",ivu:"application/vnd.immervision-ivu",igm:"application/vnd.insors.igm",xpw:"application/vnd.intercon.formnet",xpx:"application/vnd.intercon.formnet",i2g:"application/vnd.intergeo",qbo:"application/vnd.intu.qbo",qfx:"application/vnd.intu.qfx",rcprofile:"application/vnd.ipunplugged.rcprofile",irp:"application/vnd.irepository.package+xml",xpr:"application/vnd.is-xpr",fcs:"application/vnd.isac.fcs",jam:"application/vnd.jam",rms:"application/vnd.jcp.javame.midlet-rms",jisp:"application/vnd.jisp",joda:"application/vnd.joost.joda-archive",ktz:"application/vnd.kahootz",ktr:"application/vnd.kahootz",karbon:"application/vnd.kde.karbon",chrt:"application/vnd.kde.kchart",kfo:"application/vnd.kde.kformula",flw:"application/vnd.kde.kivio",kon:"application/vnd.kde.kontour",kpr:"application/vnd.kde.kpresenter",kpt:"application/vnd.kde.kpresenter",ksp:"application/vnd.kde.kspread",kwd:"application/vnd.kde.kword",kwt:"application/vnd.kde.kword",htke:"application/vnd.kenameaapp",kia:"application/vnd.kidspiration",kne:"application/vnd.kinar",knp:"application/vnd.kinar",skp:"application/vnd.koan",skd:"application/vnd.koan",skt:"application/vnd.koan",skm:"application/vnd.koan",sse:"application/vnd.kodak-descriptor",lasxml:"application/vnd.las.las+xml",lbd:"application/vnd.llamagraphics.life-balance.desktop",lbe:"application/vnd.llamagraphics.life-balance.exchange+xml",apr:"application/vnd.lotus-approach",pre:"application/vnd.lotus-freelance",nsf:"application/vnd.lotus-notes",org:"application/vnd.lotus-organizer",scm:"application/vnd.lotus-screencam",lwp:"application/vnd.lotus-wordpro",portpkg:"application/vnd.macports.portpkg",mcd:"application/vnd.mcd",mc1:"application/vnd.medcalcdata",cdkey:"application/vnd.mediastation.cdkey",mwf:"application/vnd.mfer",mfm:"application/vnd.mfmp",flo:"application/vnd.micrografx.flo",igx:"application/vnd.micrografx.igx",mif:"application/vnd.mif",daf:"application/vnd.mobius.daf",dis:"application/vnd.mobius.dis",mbk:"application/vnd.mobius.mbk",mqy:"application/vnd.mobius.mqy",msl:"application/vnd.mobius.msl",plc:"application/vnd.mobius.plc",txf:"application/vnd.mobius.txf",mpn:"application/vnd.mophun.application",mpc:"application/vnd.mophun.certificate",xul:"application/vnd.mozilla.xul+xml",cil:"application/vnd.ms-artgalry",cab:"application/vnd.ms-cab-compressed",xls:"application/vnd.ms-excel",xlm:"application/vnd.ms-excel",xla:"application/vnd.ms-excel",xlc:"application/vnd.ms-excel",xlt:"application/vnd.ms-excel",xlw:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xltm:"application/vnd.ms-excel.template.macroenabled.12",eot:"application/vnd.ms-fontobject",chm:"application/vnd.ms-htmlhelp",ims:"application/vnd.ms-ims",lrm:"application/vnd.ms-lrm",thmx:"application/vnd.ms-officetheme",cat:"application/vnd.ms-pki.seccat",stl:"application/vnd.ms-pki.stl",ppt:"application/vnd.ms-powerpoint",pps:"application/vnd.ms-powerpoint",pot:"application/vnd.ms-powerpoint",ppam:"application/vnd.ms-powerpoint.addin.macroenabled.12",pptm:"application/vnd.ms-powerpoint.presentation.macroenabled.12",sldm:"application/vnd.ms-powerpoint.slide.macroenabled.12",ppsm:"application/vnd.ms-powerpoint.slideshow.macroenabled.12",potm:"application/vnd.ms-powerpoint.template.macroenabled.12",mpp:"application/vnd.ms-project",mpt:"application/vnd.ms-project",docm:"application/vnd.ms-word.document.macroenabled.12",dotm:"application/vnd.ms-word.template.macroenabled.12",wps:"application/vnd.ms-works",wks:"application/vnd.ms-works",wcm:"application/vnd.ms-works",wdb:"application/vnd.ms-works",wpl:"application/vnd.ms-wpl",xps:"application/vnd.ms-xpsdocument",mseq:"application/vnd.mseq",mus:"application/vnd.musician",msty:"application/vnd.muvee.style",taglet:"application/vnd.mynfc",nlu:"application/vnd.neurolanguage.nlu",ntf:"application/vnd.nitf",nitf:"application/vnd.nitf",nnd:"application/vnd.noblenet-directory",nns:"application/vnd.noblenet-sealer",nnw:"application/vnd.noblenet-web",ngdat:"application/vnd.nokia.n-gage.data","n-gage":"application/vnd.nokia.n-gage.symbian.install",rpst:"application/vnd.nokia.radio-preset",rpss:"application/vnd.nokia.radio-presets",edm:"application/vnd.novadigm.edm",edx:"application/vnd.novadigm.edx",ext:"application/vnd.novadigm.ext",odc:"application/vnd.oasis.opendocument.chart",otc:"application/vnd.oasis.opendocument.chart-template",odb:"application/vnd.oasis.opendocument.database",odf:"application/vnd.oasis.opendocument.formula",odft:"application/vnd.oasis.opendocument.formula-template",odg:"application/vnd.oasis.opendocument.graphics",otg:"application/vnd.oasis.opendocument.graphics-template",odi:"application/vnd.oasis.opendocument.image",oti:"application/vnd.oasis.opendocument.image-template",odp:"application/vnd.oasis.opendocument.presentation",otp:"application/vnd.oasis.opendocument.presentation-template",ods:"application/vnd.oasis.opendocument.spreadsheet",ots:"application/vnd.oasis.opendocument.spreadsheet-template",odt:"application/vnd.oasis.opendocument.text",odm:"application/vnd.oasis.opendocument.text-master",ott:"application/vnd.oasis.opendocument.text-template",oth:"application/vnd.oasis.opendocument.text-web",xo:"application/vnd.olpc-sugar",dd2:"application/vnd.oma.dd2+xml",oxt:"application/vnd.openofficeorg.extension",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",sldx:"application/vnd.openxmlformats-officedocument.presentationml.slide",ppsx:"application/vnd.openxmlformats-officedocument.presentationml.slideshow",potx:"application/vnd.openxmlformats-officedocument.presentationml.template",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",mgp:"application/vnd.osgeo.mapguide.package",dp:"application/vnd.osgi.dp",esa:"application/vnd.osgi.subsystem",pdb:"application/vnd.palm",pqa:"application/vnd.palm",oprc:"application/vnd.palm",paw:"application/vnd.pawaafile",str:"application/vnd.pg.format",ei6:"application/vnd.pg.osasli",efif:"application/vnd.picsel",wg:"application/vnd.pmi.widget",plf:"application/vnd.pocketlearn",pbd:"application/vnd.powerbuilder6",box:"application/vnd.previewsystems.box",mgz:"application/vnd.proteus.magazine",qps:"application/vnd.publishare-delta-tree",ptid:"application/vnd.pvi.ptid1",qxd:"application/vnd.quark.quarkxpress",qxt:"application/vnd.quark.quarkxpress",qwd:"application/vnd.quark.quarkxpress",qwt:"application/vnd.quark.quarkxpress",qxl:"application/vnd.quark.quarkxpress",qxb:"application/vnd.quark.quarkxpress",bed:"application/vnd.realvnc.bed",mxl:"application/vnd.recordare.musicxml",musicxml:"application/vnd.recordare.musicxml+xml",cryptonote:"application/vnd.rig.cryptonote",cod:"application/vnd.rim.cod",rm:"application/vnd.rn-realmedia",rmvb:"application/vnd.rn-realmedia-vbr",link66:"application/vnd.route66.link66+xml",st:"application/vnd.sailingtracker.track",see:"application/vnd.seemail",sema:"application/vnd.sema",semd:"application/vnd.semd",semf:"application/vnd.semf",ifm:"application/vnd.shana.informed.formdata",itp:"application/vnd.shana.informed.formtemplate",iif:"application/vnd.shana.informed.interchange",ipk:"application/vnd.shana.informed.package",twd:"application/vnd.simtech-mindmapper",twds:"application/vnd.simtech-mindmapper",mmf:"application/vnd.smaf",teacher:"application/vnd.smart.teacher",sdkm:"application/vnd.solent.sdkm+xml",sdkd:"application/vnd.solent.sdkm+xml",dxp:"application/vnd.spotfire.dxp",sfs:"application/vnd.spotfire.sfs",sdc:"application/vnd.stardivision.calc",sda:"application/vnd.stardivision.draw",sdd:"application/vnd.stardivision.impress",smf:"application/vnd.stardivision.math",sdw:"application/vnd.stardivision.writer",vor:"application/vnd.stardivision.writer",sgl:"application/vnd.stardivision.writer-global",smzip:"application/vnd.stepmania.package",sm:"application/vnd.stepmania.stepchart",sxc:"application/vnd.sun.xml.calc",stc:"application/vnd.sun.xml.calc.template",sxd:"application/vnd.sun.xml.draw",std:"application/vnd.sun.xml.draw.template",sxi:"application/vnd.sun.xml.impress",sti:"application/vnd.sun.xml.impress.template",sxm:"application/vnd.sun.xml.math",sxw:"application/vnd.sun.xml.writer",sxg:"application/vnd.sun.xml.writer.global",stw:"application/vnd.sun.xml.writer.template",sus:"application/vnd.sus-calendar",susp:"application/vnd.sus-calendar",svd:"application/vnd.svd",sis:"application/vnd.symbian.install",sisx:"application/vnd.symbian.install",xsm:"application/vnd.syncml+xml",bdm:"application/vnd.syncml.dm+wbxml",xdm:"application/vnd.syncml.dm+xml",tao:"application/vnd.tao.intent-module-archive",pcap:"application/vnd.tcpdump.pcap",cap:"application/vnd.tcpdump.pcap",dmp:"application/vnd.tcpdump.pcap",tmo:"application/vnd.tmobile-livetv",tpt:"application/vnd.trid.tpt",mxs:"application/vnd.triscape.mxs",tra:"application/vnd.trueapp",ufd:"application/vnd.ufdl",ufdl:"application/vnd.ufdl",utz:"application/vnd.uiq.theme",umj:"application/vnd.umajin",unityweb:"application/vnd.unity",uoml:"application/vnd.uoml+xml",vcx:"application/vnd.vcx",vsd:"application/vnd.visio",vst:"application/vnd.visio",vss:"application/vnd.visio",vsw:"application/vnd.visio",vis:"application/vnd.visionary",vsf:"application/vnd.vsf",wbxml:"application/vnd.wap.wbxml",wmlc:"application/vnd.wap.wmlc",wmlsc:"application/vnd.wap.wmlscriptc",wtb:"application/vnd.webturbo",nbp:"application/vnd.wolfram.player",wpd:"application/vnd.wordperfect",wqd:"application/vnd.wqd",stf:"application/vnd.wt.stf",xar:"application/vnd.xara",xfdl:"application/vnd.xfdl",hvd:"application/vnd.yamaha.hv-dic",hvs:"application/vnd.yamaha.hv-script",hvp:"application/vnd.yamaha.hv-voice",osf:"application/vnd.yamaha.openscoreformat",osfpvg:"application/vnd.yamaha.openscoreformat.osfpvg+xml",saf:"application/vnd.yamaha.smaf-audio",spf:"application/vnd.yamaha.smaf-phrase",cmp:"application/vnd.yellowriver-custom-menu",zir:"application/vnd.zul",zirz:"application/vnd.zul",zaz:"application/vnd.zzazz.deck+xml",vxml:"application/voicexml+xml",wgt:"application/widget",hlp:"application/winhlp",wsdl:"application/wsdl+xml",wspolicy:"application/wspolicy+xml","7z":"application/x-7z-compressed",abw:"application/x-abiword",ace:"application/x-ace-compressed",dmg:"application/x-apple-diskimage",aab:"application/x-authorware-bin",x32:"application/x-authorware-bin",u32:"application/x-authorware-bin",vox:"application/x-authorware-bin",aam:"application/x-authorware-map",aas:"application/x-authorware-seg",bcpio:"application/x-bcpio",torrent:"application/x-bittorrent",blb:"application/x-blorb",blorb:"application/x-blorb",bz:"application/x-bzip",bz2:"application/x-bzip2",boz:"application/x-bzip2",cbr:"application/x-cbr",cba:"application/x-cbr",cbt:"application/x-cbr",cbz:"application/x-cbr",cb7:"application/x-cbr",vcd:"application/x-cdlink",cfs:"application/x-cfs-compressed",chat:"application/x-chat",pgn:"application/x-chess-pgn",nsc:"application/x-conference",cpio:"application/x-cpio",csh:"application/x-csh",deb:"application/x-debian-package",udeb:"application/x-debian-package",dgc:"application/x-dgc-compressed",dir:"application/x-director",dcr:"application/x-director",dxr:"application/x-director",cst:"application/x-director",cct:"application/x-director",cxt:"application/x-director",w3d:"application/x-director",fgd:"application/x-director",swa:"application/x-director",wad:"application/x-doom",ncx:"application/x-dtbncx+xml",dtb:"application/x-dtbook+xml",res:"application/x-dtbresource+xml",dvi:"application/x-dvi",evy:"application/x-envoy",eva:"application/x-eva",bdf:"application/x-font-bdf",gsf:"application/x-font-ghostscript",psf:"application/x-font-linux-psf",otf:"application/x-font-otf",pcf:"application/x-font-pcf",snf:"application/x-font-snf",ttf:"application/x-font-ttf",ttc:"application/x-font-ttf",pfa:"application/x-font-type1",pfb:"application/x-font-type1",pfm:"application/x-font-type1",afm:"application/x-font-type1",woff:"application/font-woff",arc:"application/x-freearc",spl:"application/x-futuresplash",gca:"application/x-gca-compressed",ulx:"application/x-glulx",gnumeric:"application/x-gnumeric",gramps:"application/x-gramps-xml",gtar:"application/x-gtar",hdf:"application/x-hdf",install:"application/x-install-instructions",iso:"application/x-iso9660-image",jnlp:"application/x-java-jnlp-file",latex:"application/x-latex",lzh:"application/x-lzh-compressed",lha:"application/x-lzh-compressed",mie:"application/x-mie",prc:"application/x-mobipocket-ebook",mobi:"application/x-mobipocket-ebook",application:"application/x-ms-application",lnk:"application/x-ms-shortcut",wmd:"application/x-ms-wmd",wmz:"application/x-msmetafile",xbap:"application/x-ms-xbap",mdb:"application/x-msaccess",obd:"application/x-msbinder",crd:"application/x-mscardfile",clp:"application/x-msclip",exe:"application/x-msdownload",dll:"application/x-msdownload",com:"application/x-msdownload",bat:"application/x-msdownload",msi:"application/x-msdownload",mvb:"application/x-msmediaview",m13:"application/x-msmediaview",m14:"application/x-msmediaview",wmf:"application/x-msmetafile",emf:"application/x-msmetafile",emz:"application/x-msmetafile",mny:"application/x-msmoney",pub:"application/x-mspublisher",scd:"application/x-msschedule",trm:"application/x-msterminal",wri:"application/x-mswrite",nc:"application/x-netcdf",cdf:"application/x-netcdf",nzb:"application/x-nzb",p12:"application/x-pkcs12",pfx:"application/x-pkcs12",p7b:"application/x-pkcs7-certificates",spc:"application/x-pkcs7-certificates",p7r:"application/x-pkcs7-certreqresp",rar:"application/x-rar-compressed",ris:"application/x-research-info-systems",sh:"application/x-sh",shar:"application/x-shar",swf:"application/x-shockwave-flash",xap:"application/x-silverlight-app",sql:"application/x-sql",sit:"application/x-stuffit",sitx:"application/x-stuffitx",srt:"application/x-subrip",sv4cpio:"application/x-sv4cpio",sv4crc:"application/x-sv4crc",t3:"application/x-t3vm-image",gam:"application/x-tads",tar:"application/x-tar",tcl:"application/x-tcl",tex:"application/x-tex",tfm:"application/x-tex-tfm",texinfo:"application/x-texinfo",texi:"application/x-texinfo",obj:"application/x-tgif",ustar:"application/x-ustar",src:"application/x-wais-source",der:"application/x-x509-ca-cert",crt:"application/x-x509-ca-cert",fig:"application/x-xfig",xlf:"application/x-xliff+xml",xpi:"application/x-xpinstall",xz:"application/x-xz",z1:"application/x-zmachine",z2:"application/x-zmachine",z3:"application/x-zmachine",z4:"application/x-zmachine",z5:"application/x-zmachine",z6:"application/x-zmachine",z7:"application/x-zmachine",z8:"application/x-zmachine",xaml:"application/xaml+xml",xdf:"application/xcap-diff+xml",xenc:"application/xenc+xml",xhtml:"application/xhtml+xml",xht:"application/xhtml+xml",xml:"application/xml",xsl:"application/xml",dtd:"application/xml-dtd",xop:"application/xop+xml",xpl:"application/xproc+xml",xslt:"application/xslt+xml",xspf:"application/xspf+xml",mxml:"application/xv+xml",xhvml:"application/xv+xml",xvml:"application/xv+xml",xvm:"application/xv+xml",yang:"application/yang",yin:"application/yin+xml",zip:"application/zip",adp:"audio/adpcm",au:"audio/basic",snd:"audio/basic",mid:"audio/midi",midi:"audio/midi",kar:"audio/midi",rmi:"audio/midi",mp4a:"audio/mp4",mpga:"audio/mpeg",mp2:"audio/mpeg",mp2a:"audio/mpeg",mp3:"audio/mpeg",m2a:"audio/mpeg",m3a:"audio/mpeg",oga:"audio/ogg",ogg:"audio/ogg",spx:"audio/ogg",s3m:"audio/s3m",sil:"audio/silk",uva:"audio/vnd.dece.audio",uvva:"audio/vnd.dece.audio",eol:"audio/vnd.digital-winds",dra:"audio/vnd.dra",dts:"audio/vnd.dts",dtshd:"audio/vnd.dts.hd",lvp:"audio/vnd.lucent.voice",pya:"audio/vnd.ms-playready.media.pya",ecelp4800:"audio/vnd.nuera.ecelp4800",ecelp7470:"audio/vnd.nuera.ecelp7470",ecelp9600:"audio/vnd.nuera.ecelp9600",rip:"audio/vnd.rip",weba:"audio/webm",aac:"audio/x-aac",aif:"audio/x-aiff",aiff:"audio/x-aiff",aifc:"audio/x-aiff",caf:"audio/x-caf",flac:"audio/x-flac",mka:"audio/x-matroska",m3u:"audio/x-mpegurl",wax:"audio/x-ms-wax",wma:"audio/x-ms-wma",ram:"audio/x-pn-realaudio",ra:"audio/x-pn-realaudio",rmp:"audio/x-pn-realaudio-plugin",wav:"audio/x-wav",xm:"audio/xm",cdx:"chemical/x-cdx",cif:"chemical/x-cif",cmdf:"chemical/x-cmdf",cml:"chemical/x-cml",csml:"chemical/x-csml",xyz:"chemical/x-xyz",bmp:"image/bmp",cgm:"image/cgm",g3:"image/g3fax",gif:"image/gif",ief:"image/ief",jpeg:"image/jpeg",jpg:"image/jpeg",jpe:"image/jpeg",ktx:"image/ktx",png:"image/png",btif:"image/prs.btif",sgi:"image/sgi",svg:"image/svg+xml",svgz:"image/svg+xml",tiff:"image/tiff",tif:"image/tiff",psd:"image/vnd.adobe.photoshop",uvi:"image/vnd.dece.graphic",uvvi:"image/vnd.dece.graphic",uvg:"image/vnd.dece.graphic",uvvg:"image/vnd.dece.graphic",sub:"text/vnd.dvb.subtitle",djvu:"image/vnd.djvu",djv:"image/vnd.djvu",dwg:"image/vnd.dwg",dxf:"image/vnd.dxf",fbs:"image/vnd.fastbidsheet",fpx:"image/vnd.fpx",fst:"image/vnd.fst",mmr:"image/vnd.fujixerox.edmics-mmr",rlc:"image/vnd.fujixerox.edmics-rlc",mdi:"image/vnd.ms-modi",wdp:"image/vnd.ms-photo",npx:"image/vnd.net-fpx",wbmp:"image/vnd.wap.wbmp",xif:"image/vnd.xiff",webp:"image/webp","3ds":"image/x-3ds",ras:"image/x-cmu-raster",cmx:"image/x-cmx",fh:"image/x-freehand",fhc:"image/x-freehand",fh4:"image/x-freehand",fh5:"image/x-freehand",fh7:"image/x-freehand",ico:"image/x-icon",sid:"image/x-mrsid-image",pcx:"image/x-pcx",pic:"image/x-pict",pct:"image/x-pict",pnm:"image/x-portable-anymap",pbm:"image/x-portable-bitmap",pgm:"image/x-portable-graymap",ppm:"image/x-portable-pixmap",rgb:"image/x-rgb",tga:"image/x-tga",xbm:"image/x-xbitmap",xpm:"image/x-xpixmap",xwd:"image/x-xwindowdump",eml:"message/rfc822",mime:"message/rfc822",igs:"model/iges",iges:"model/iges",msh:"model/mesh",mesh:"model/mesh",silo:"model/mesh",dae:"model/vnd.collada+xml",dwf:"model/vnd.dwf",gdl:"model/vnd.gdl",gtw:"model/vnd.gtw",mts:"model/vnd.mts",vtu:"model/vnd.vtu",wrl:"model/vrml",vrml:"model/vrml",x3db:"model/x3d+binary",x3dbz:"model/x3d+binary",x3dv:"model/x3d+vrml",x3dvz:"model/x3d+vrml",x3d:"model/x3d+xml",x3dz:"model/x3d+xml",appcache:"text/cache-manifest",ics:"text/calendar",ifb:"text/calendar",css:"text/css",csv:"text/csv",html:"text/html",htm:"text/html",n3:"text/n3",txt:"text/plain",text:"text/plain",conf:"text/plain",def:"text/plain",list:"text/plain",log:"text/plain",in:"text/plain",dsc:"text/prs.lines.tag",rtx:"text/richtext",sgml:"text/sgml",sgm:"text/sgml",tsv:"text/tab-separated-values",t:"text/troff",tr:"text/troff",roff:"text/troff",man:"text/troff",me:"text/troff",ms:"text/troff",ttl:"text/turtle",uri:"text/uri-list",uris:"text/uri-list",urls:"text/uri-list",vcard:"text/vcard",curl:"text/vnd.curl",dcurl:"text/vnd.curl.dcurl",scurl:"text/vnd.curl.scurl",mcurl:"text/vnd.curl.mcurl",fly:"text/vnd.fly",flx:"text/vnd.fmi.flexstor",gv:"text/vnd.graphviz","3dml":"text/vnd.in3d.3dml",spot:"text/vnd.in3d.spot",jad:"text/vnd.sun.j2me.app-descriptor",wml:"text/vnd.wap.wml",wmls:"text/vnd.wap.wmlscript",s:"text/x-asm",asm:"text/x-asm",c:"text/x-c",cc:"text/x-c",cxx:"text/x-c",cpp:"text/x-c",h:"text/x-c",hh:"text/x-c",dic:"text/x-c",f:"text/x-fortran",for:"text/x-fortran",f77:"text/x-fortran",f90:"text/x-fortran",java:"text/x-java-source",opml:"text/x-opml",p:"text/x-pascal",pas:"text/x-pascal",nfo:"text/x-nfo",etx:"text/x-setext",sfv:"text/x-sfv",uu:"text/x-uuencode",vcs:"text/x-vcalendar",vcf:"text/x-vcard","3gp":"video/3gpp","3g2":"video/3gpp2",h261:"video/h261",h263:"video/h263",h264:"video/h264",jpgv:"video/jpeg",jpm:"video/jpm",jpgm:"video/jpm",mj2:"video/mj2",mjp2:"video/mj2",mp4:"video/mp4",mp4v:"video/mp4",mpg4:"video/mp4",mpeg:"video/mpeg",mpg:"video/mpeg",mpe:"video/mpeg",m1v:"video/mpeg",m2v:"video/mpeg",ogv:"video/ogg",qt:"video/quicktime",mov:"video/quicktime",uvh:"video/vnd.dece.hd",uvvh:"video/vnd.dece.hd",uvm:"video/vnd.dece.mobile",uvvm:"video/vnd.dece.mobile",uvp:"video/vnd.dece.pd",uvvp:"video/vnd.dece.pd",uvs:"video/vnd.dece.sd",uvvs:"video/vnd.dece.sd",uvv:"video/vnd.dece.video",uvvv:"video/vnd.dece.video",dvb:"video/vnd.dvb.file",fvt:"video/vnd.fvt",mxu:"video/vnd.mpegurl",m4u:"video/vnd.mpegurl",pyv:"video/vnd.ms-playready.media.pyv",uvu:"video/vnd.uvvu.mp4",uvvu:"video/vnd.uvvu.mp4",viv:"video/vnd.vivo",webm:"video/webm",f4v:"video/x-f4v",fli:"video/x-fli",flv:"video/x-flv",m4v:"video/x-m4v",mkv:"video/x-matroska",mk3d:"video/x-matroska",mks:"video/x-matroska",mng:"video/x-mng",asf:"video/x-ms-asf",asx:"video/x-ms-asf",vob:"video/x-ms-vob",wm:"video/x-ms-wm",wmv:"video/x-ms-wmv",wmx:"video/x-ms-wmx",wvx:"video/x-ms-wvx",avi:"video/x-msvideo",movie:"video/x-sgi-movie",smv:"video/x-smv",ice:"x-conference/x-cooltalk"};function s0(e){var t=function(e){return e.split(".").pop().toLowerCase().trim()}(e);return o0[t]}var c0,l0=oe.a.extend({init:function(e,t){this.raiseAlertService=e,this.__s._$S7$init.call(this,t)},raiseAlertService:y.c(null),emailSelection:function(e){var t=e.toArray(),n=t.reduce((function(e,t){return e+t.size}),0),r=this.raiseAlertService;if(n>2e7)return function(e,t){var n,r;1===t.length?(n=Sr.d("DriveUI.FilesGrid.Error.Email.AttachmentTooLarge.Title",{fileName:t[0].fullName}),r=Sr.d("DriveUI.FilesGrid.Error.Email.AttachmentTooLarge.Subtitle",{maxFileSizeInMB:20})):(n=Sr.d("DriveUI.FilesGrid.Error.Email.AttachmentsTooLarge.Title"),r=Sr.d("DriveUI.FilesGrid.Error.Email.AttachmentsTooLarge.Subtitle",{maxFileSizeInMB:20})),Jf.a.show({iconNames:"iclouddrive",message:n,description:r,primaryButton:{title:Sr.d("DriveUI.Common.Button.OK"),isPrimary:!0}})}(0,t);qP.sharedInstance.launchComposeInWindow(this._getDownloadDataForItems(t).then((function(e){var t=[],n=[];for(var i of e)i.ok?t.push({name:i.value.fileName,type:i.value.type,url:i.value.url,size:i.value.size}):n.push(i.error);for(var a of n)r.raiseAlertForErrorItem(VH.create(UH.EmailAttachmentError,BH.create(a)));return t.length>0?fg.Result.success({attachments:t}):fg.Result.failure()})),{})},_getDownloadDataForItems:async function(e){return(await Promise.all(e.map((function(e){var t=e.id;return wd.docWsDownloadUrlsCache.get(t)})))).map((function(t,n){var r=e[n];if(!t)return Object(fg.failure)(r);var i=function(e){var t=e.urls||{},n=t.package_token,r=t.data_token;return{url:(null==r?void 0:r.url)||(null==n?void 0:n.url),isPackage:!!n}}(t),a=i.url,o=i.isPackage,s=r.fullName+(o?".zip":""),c=o?"zip":(r.extension||"").toLowerCase();return Object(fg.success)({fileName:s,type:s0(c)||"application/octet-stream",size:r.size,url:a})}))},__superMap:{_$S7$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ComposeEmailService"}}),u0=function(){function e(){this.availableIFramePool=[],this.materializedIFrames=[],this.queue=[],this.active=[],this.processingTimer=void 0}var t=e.prototype;return t.scheduleProcessing=function(){var e=this;!this.processingTimer&&this.queue.length&&(this.processingTimer=setTimeout((function(){e.process(),e.processingTimer=void 0}),0))},t.process=function(){for(var e=this,t=function(){var t=e.queue.shift();e.active.push(t),e.beginDownload(t[0],t[1]).then((function(){e.active.splice(e.active.indexOf(t),1),e.scheduleProcessing()}))};this.queue.length&&this.active.length<10;)t()},t.beginDownload=function(e,t){var n=this,r=this.acquireIFrame(),i=new Promise((function(e){window.setTimeout(e,5e3)})).then((function(){return"SURVIVED"})),a=function(){},o=new Promise((function(e){a=function(){return e("FAILED")}}));return r.addEventListener("load",a),r.id=e,r.src=e,Promise.race([i,o]).then((function(e){t(e)})).finally((function(){r.removeEventListener("load",a),n.returnToIFramePool(r)}))},t.enqueue=function(e){var t=this,n=new Promise((function(n){t.queue.push([e,n])}));return this.scheduleProcessing(),n},t.createIFrameElement=function(){var e=document.createElement("iframe");return e.style.display="none",document.body.appendChild(e),e},t.materializeIFrameForPool=function(){var e=this.createIFrameElement();return e.sandbox.supports&&e.sandbox.supports("allow-downloads")?e.setAttribute("sandbox","allow-downloads"):e.setAttribute("sandbox",""),this.materializedIFrames.push(e),e},t.acquireIFrame=function(){return 0===this.availableIFramePool.length?this.materializeIFrameForPool():this.availableIFramePool.pop()},t.returnToIFramePool=function(e){this.availableIFramePool.push(e)},t.downloadFromURL=function(e){return this.enqueue(e)},t.downloadFromURLs=function(e){var t=this;return Promise.all(e.map((function(e){return t.downloadFromURL(e)})))},e}(),d0=function(){function e(){}var t=e.prototype;return t.downloadFromURL=function(e){var t=Xm("",{target:"_blank",dangerouslyDisableDefaultFeatures:!0});return null===t?Promise.resolve("FAILED"):(t.location.href=e,Promise.resolve("SURVIVED"))},t.downloadFromURLs=function(e){var t=this;return Promise.all(e.map((function(e){return t.downloadFromURL(e)})))},e}();function h0(e,t){return h0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h0(e,t)}function f0(e,t){var n,r=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return new(function(e){var n,r;function i(){return e.apply(this,arguments)||this}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,h0(n,r);var a=i.prototype;return a.finalizeRequestUrl=function(e){return e.searchParams.append("appIdentifier",t),e},a.finalizeRequestOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.credentials||(e.credentials="include"),e},a.finalizeICloudOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.isCloudKitErrorResponseStatus||(e.isCloudKitErrorResponseStatus=function(e){return 503!==e&&void 0}),e},i}(e))(...r)}(Wq,"iclouddrive"),i=Hq.create(),a=new Yq(r,i,ac,ic),o=dZ.create(),s=VY.create(t,o,i,a),c=new XY(r,ac),l=cJ.create((function(e,t){return DX.create(s,e,t,c,Hl,{loggingService:i})}));s.uploadFilesService=l;var u=MK.create(s,i),d=xJ.create(u),h=dJ.create(),f=pJ.create(c),p=gJ.create(c),g=XJ.create(i,e),m=r1.create(i,o,d,h,p,g),v=o1.create(i),y=function(e,t,n,r,i,a){var o=D1.create(a);for(var s of[h1,f1,g1,m1,v1,y1,_1,b1,C1,T1,N1])o.addErrorAggregator(s.create());return o.alertPresenter=function(e,t,n,r,i){var a=P1.create();for(var o of[$1,K1,q1,Z1,X1,J1,e0,Q1,Y1,t0,r0]){var s=[];o===J1&&s.push({upgradeButtonUrl:i}),a.addErrorItemPresentationInfoGenerator(o.create(e,t,n,r,...s))}return a}(e,t,n,r,i),o}(u,d,m,v,a0.supportHelpPage,i),_=function(e){var t,n;return"pointer-fine"===e?null!=(t=c0)?t:c0=new u0:null!=(n=c0)?n:c0=new d0}("MOUSE"===e?"pointer-fine":"pointer-coarse"),b=wJ.create(f,_,i,c,null==(n=yl.defaultInstance.user)?void 0:n.dsid,zR.sharedInstance.current.domain),w=l0.create(y);return{fetchService:r,fileSystem:s,loggingService:i,iconService:u,showcaseViewPool:d,downloadImageService:h,itemURLService:f,thumbnailURLService:p,thumbnailScalingService:g,thumbnailCanvasFactory:m,thumbnailStatsReporterService:v,raiseAlertService:y,docWebService:c,downloadService:_,openFileService:b,composeEmailService:w,itemSharingServiceFactory:function(t,n){return CJ.create(s,t,a,c,i,e,n)}}}var p0,g0=zn.a.extend({init:function(e){this.__s._$4M$init.call(this),this._providedViewInstance=e},_providedViewInstance:void 0,createView:function(){return this._providedViewInstance},__superMap:{_$4M$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DumbWrapperViewController"}}),m0=function(){function e(e,t){this.services=void 0,this.services=f0(t,e)}var t=e.prototype;return t.createRootAndSession=function(e,t,n){var r=e.getNewSession(),i=this.createTabContentView(r,t,n);return{rootContent:g0.create(i),session:r}},t.createTabContentView=function(e,t,n){var r=this.services,i=r.loggingService,a=r.fetchService,o=r.raiseAlertService,s=r.showcaseViewPool,c=r.iconService,l=r.thumbnailStatsReporterService,u=r.thumbnailCanvasFactory,d=r.composeEmailService,h=r.openFileService,f=r.downloadService,p=r.itemURLService,g=r.itemSharingServiceFactory,m=r.docWebService,v=dt.application.bindingFor("_temp_recentsResult");return wq.create(v,e,a,o,{composeEmailService:d,openFileService:h,downloadService:f,itemURLService:p,iconService:c,loggingService:i,showcaseViewPool:s,itemSharingServiceFactory:g,thumbnailCanvasFactory:u,thumbnailStatsReporterService:l,docWebService:m})},e}(),v0=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6048e5;return{start:y0(),duration:function(){var t=Math.min(0,Math.max(e,y0()-this.start));return(this.duration=function(){return t})()}}},y0=(null==(p0=globalThis.performance)?void 0:p0.now.bind(globalThis.performance))||Date.now.bind(Date),_0=["duration"],b0=["duration"];function w0(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function S0(e,t){var n=e instanceof Error?e:"SchemaFailure: non-Error thrown";return Qg.from(n,t)}function E0(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=v0(),o=t.safeParse(e);if(o.success)return fg.Result.success(o.data);var s=a.duration(),c=S0(o.error,n),l=i.duration,u=void 0===l?0:l,d=w0(i,b0);return r("schemaFailure",Object.assign({},d,{schemaName:n,message:c.message,duration:Math.round(u+s)})),fg.Result.failure(c)}var I0,C0=(I0=hu,function(){return function(e,t){var n=this;this.name=e,this._zod=t,this.is=function(e){return n._zod.safeParse(e).success},this.as=function(e,t){return function(e,t,n,r,i){var a=E0(e,t,n,r,i);if(!a.ok)throw a.error;return a.value}(e,n._zod,n.name,I0,Object.assign({},t,{methodName:"as"}))},this.tryAs=function(e,t){return E0(e,n._zod,n.name,I0,Object.assign({},t,{methodName:"tryAs"}))},this.parseJson=function(e,t){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=typeof e;if("string"!==a){var o=null===e?e:a;throw Qg.from("Bad JSON root type: "+o,n)}var s=v0();try{var c=JSON.parse(e),l=t.parse(c);return fg.Result.success(l)}catch(g){var u=s.duration(),d=i.duration,h=void 0===d?0:d,f=w0(i,_0),p=S0(g,n);return r("schemaFailure",Object.assign({},f,{schemaName:n,message:p.message,duration:Math.round(h+u)})),fg.Result.failure(p)}}(e,n._zod,n.name,I0,Object.assign({},t,{methodName:"parseJson"}))}}}()),O0=["shortGuid","shortGUID"],T0=new C0("AnyResult",r.union([r.object({ok:r.literal(!0),value:r.unknown()}),r.object({ok:r.literal(!1),error:r.unknown()})])),A0=new C0("DriveTileRecentsResponse",r.object({recents:r.array(tm),isPartial:r.boolean()})),N0=!0,M0=new Map;function D0(e){if(void 0!==e)if(null!==e&&"null"!==e){var t=function(e){var t=T0.parseJson(e);if(!t.ok)return bu("bad-drive-tile-recents",{issue:149354264,cause:"see AnyResult schema failures"}),Object(fg.failure)("tile-data didn't encode a Result: "+e);var n=t.value;if(!n.ok)return bu("bad-drive-tile-recents",{issue:149354264,cause:"cloudos2 gave us a Failure, not a Recents response"}),Object(fg.failure)("tile-data encoded a Failure: "+n.error);var r=A0.tryAs(n.value);if(!r.ok)return bu("bad-drive-tile-recents",{issue:149354264,cause:"see DriveTileRecentsResponse schema failures"}),Object(fg.failure)("tile-data had bad DriveTileRecentsResponse: "+r.error);var i=r.value,a=i.isPartial,o=i.recents;return Object(fg.success)({isPartial:!!a,recents:o.map((function(e){if(!ku(e.drivewsid)||!xu(e.drivewsid))throw new Error("Recent items may only be files.");var t=e.shortGuid,n=e.shortGUID,r=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,O0),i=n||t;return t&&bu("wrong-shortGUID-case",{issue:149365637,cause:"recentDocs 101922833 resurgence"}),i?Object.assign({},r,{shortGUID:i}):r}))})}(e);if(t.ok){var n=t.value.recents.map((function(e){var t=e.drivewsid;if(!ku(t)||!xu(t))throw new Error("Recents result must only contain file IDs");return t})),r={ok:t.ok,value:{recentsIds:n,isPartial:t.value.isPartial}},i=t.value.recents.filter((function(e){var t,n=e.drivewsid,r=e.etag;return!(null!=(t=M0.get(n))&&t.has(r))}));i.forEach((function(e){var t=e.drivewsid,n=e.etag;M0.has(t)||M0.set(t,new Set),M0.get(t).add(n)})),Ff(i),dt.application._temp_recentsResult=r,N0&&r.ok&&(!r.value.isPartial||r.value.recentsIds.length>=30)&&(N0=!1,Mc.sharedInstance.didBecomeInteractive())}else void 0!==dt.application._temp_recentsResult&&dt.application._temp_recentsResult.ok||(dt.application._temp_recentsResult=t),N0=!1}else d.b.error("Got "+e+" from cloudOS")}var R0=hr.extend(v.a,Zl,Xl,{currentSession:v.g(),componentInitializer:null,completeCloudOsPrefetch:null,applicationAccessType:Jl.UNKNOWN,applicationWillFinishLaunching:function(e,t){var n=this;this.__s._$13e$applicationWillFinishLaunching.apply(this,arguments),dt.application.preferencesStore=Xc;var r=oe.a.extend(Kc,{preferencesDidUpdate:function(e){dt.application.isKvsLoaded||(dt.application.isKvsLoaded=!0)},staticMembers:{__QUALIFIED_CLASS_NAME__:"PreferencesDelegate"}}).create();dt.application.preferencesStore.registerDelegate(r);var i=(this.componentInitializer=new m0(this,e.primaryInteractionMode)).services,a=i.fetchService,o=i.loggingService,s=i.docWebService,c=i.fileSystem,l=ic("drivews")?ac("drivews"):null;!function(e){if(su)throw new Error("Telemetry already initialized!");su=e,uu=lu("recordStat"),du=lu("recordStatOnce"),hu=lu("recordPerfStat"),fu=lu("recordPerfStatOnce"),pu=lu("recordStat","user"),gu=lu("recordStatOnce","user"),mu=lu("recordPerfStat","user"),vu=lu("recordPerfStatOnce","user");var t={recordStat:uu,recordStatOnce:du,recordPerfStat:hu,recordPerfStatOnce:fu,recordUserStat:pu,recordUserStatOnce:gu,recordUserPerfStat:mu,recordUserPerfStatOnce:vu};for(var n of cu){var r=n[0],i=n[1];t[r].apply(su,i)}cu.length=0}(o),D0(t.serializedTileData),dt.application._temp_recentsResult||setTimeout((function(){dt.application._temp_recentsResult||(dt.application._temp_recentsResult=Object(fg.failure)("app-side timeout: app didn't load in 15s"))}),15e3);try{!function(e,t){var n,r,i=t.delay||50,a=t.timeout||1e4,o=t.testString||"MMMMMMMIIIa%@!",s=t.testFontFamily||'"Comic Sans MS"',c=t.testFontSize||"300px",l=t.fail,u=t.success,d=t.complete,h=t.fontWeight;h=h?h+" ":"";var f=document.createElement("canvas").getContext("2d");f.font=""+h+c+" "+s;var p=f.measureText(o).width;r=setInterval((function(){f.font=""+h+c+' "SFNSText", '+s,f.measureText(o).width!==p&&0!==p&&(clearInterval(r),clearTimeout(n),u&&u(),d&&d(!0))}),i),n=setTimeout((function(){clearInterval(r),l&&l(),d&&d(!1)}),a)}(0,{success:function(){var e=A.a.sharedInstance.window;e.propertyChanged("width"),e.propertyChanged("height")}})}catch(h){var u=h instanceof Error?h:{message:"unknown",name:"unknown"};o.recordStat("UnableToUseFontDetector",{errorMessage:u.message,errorName:u.name})}rg.configure({containers:[{containerIdentifier:"com.apple.clouddocs",environment:"production",privateDatabasePartition:"",publicDatabasePartition:"",sharedDatabasePartition:""}],services:{fetch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ac("ckdatabasews",e.substring(1));return t.useCredentialsIfCrossOrigin=!0,function(e,t){return zl(e,t)}(n,t)},Promise:b.a}});var d=t.startupInfo;return d&&l&&al.a.create(d.url).hostname!==al.a.create(l).hostname&&(Gc.sharedInstance.setStartupInfo(null,null),d=null,o.recordStat("StartupInfoIsStale")),Gf(s,a,ac,e.sessionInfo,d,o,c).then((function(e){var t=e.data.accessType,r=e.ok&&yt.a(e.data.rootFolder);if(o.recordStat("DriveAccessAcquired",{accessType:t,rootFolderAvailable:r}),e.ok){var i=e.data;if(![Jl.FULL_ACCESS.WARM_BOOT,Jl.FULL_ACCESS.COLD_BOOT,Jl.MIGRATION.NOT_STARTED,Jl.MIGRATION.IN_PROGRESS].includes(t))throw new Error("DEBUG: applicationWillFinishLaunching - Unexpected application access type: "+i);n.applicationAccessType=t;var a=md.driveRootFolderId;if(t===Jl.FULL_ACCESS.WARM_BOOT){var s=c.registerExternalFetchForId(a);n.completeCloudOsPrefetch=function(e){s(e),e.ok&&c.didFetchFolderContent({fileSystem:c,parentFolder:c.getFolderById(a),content:e.data.items,source:"ApplicationDelegate (WARM_BOOT)"})}}else if(t===Jl.FULL_ACCESS.COLD_BOOT&&r){var u=l;Gc.sharedInstance.setStartupInfo(null,{url:u+"retrieveItemDetailsInFolders",method:"POST",requestPayload:[{drivewsid:a,partialData:!1}]}),c.didFetchFolderContent({fileSystem:c,parentFolder:c.getFolderById(a),content:[],source:"ApplicationDelegate (COLD_BOOT)"})}}else n.applicationAccessType=t}))},applicationDidFinishLaunching:function(e,t){switch(this.__s._$4Jb$applicationDidFinishLaunching.apply(this,arguments),this.applicationAccessType){case Jl.FULL_ACCESS.WARM_BOOT:case Jl.FULL_ACCESS.COLD_BOOT:this._completeLaunchWithFullAccess(t);break;case Jl.MIGRATION.NOT_STARTED:case Jl.MIGRATION.IN_PROGRESS:this._completeLaunchWithMigrationNeeded(e,t);break;case Jl.NONE.PCS_MISSING:case Jl.NONE.PCS_INVALID:return e.terminateWithReasonAndInfo($l.PCS_REQUIRED,{log:d.b.stringifyRecordedLogMessages()});case Jl.NONE.STARTUP_ERROR:return e.terminateWithReasonAndInfo($l.CANNOT_LOAD_STARTUP_DATA,{log:d.b.stringifyRecordedLogMessages()})}},applicationDidBecomeActive:function(){this.__s._$4n1$applicationDidBecomeActive.apply(this,arguments);var e=ol.a(this,"componentInitializer.services.fileSystem");yt.a(e)&&e.refreshQuotaData()},didFetchStartup:function(e,t){var n=this.completeCloudOsPrefetch,r=this.componentInitializer.services.fileSystem;if("function"===typeof n){var i=Kl(t)?eu.okResult(e):eu.failedResult(e);n(Bf.handleRetrieveItemDetailsInFoldersResponse(i,r.driveRootFolder,r,{partialData:!1}))}},_completeLaunchWithFullAccess:function(e){var t,n=null==e||null==(t=e.itemsToOpen)?void 0:t[0].item;if(n)return this.handleSharedItem(n);var r=!!(null!=e&&e.launchPath||null!=e&&e.launchItem);if(function(e){if(void 0===fq||void 0===uq)return fg.Result.failure();uq(e);var t=fq;fq=void 0,fg.Result.success(t)}(!r),r)return this.handleQuickActionData(e);this.initializeRootContentAndActivateServices(),this.renderRootContent()},_completeLaunchWithMigrationNeeded:function(e,t){var n=this,r=this.applicationAccessType,i=this.componentInitializer.services,a=i.fetchService,o=i.loggingService,s=i.fileSystem,c=e.sessionInfo,l=Xp.create(c,a,ac,o,s,(function(){return dt.application.terminateWithReasonAndInfo($l.USER_INITIATED)}),{});l.setDriveAccessType(r),e.rootViewController.contentViewController=l,l.startPollingForMigration().then((function(){return yl.defaultInstance.revalidate()})).then((function(e){e.isOk&&(n.applicationAccessType=Jl.FULL_ACCESS.COLD_BOOT,n._completeLaunchWithFullAccess(t))}))},initializeRootContentAndActivateServices:function(){var e=dt.application,t=this.componentInitializer,n=t.services,r=e.bindingFor("sizeClassVertical"),i=e.bindingFor("sizeClassHorizontal"),a=n.fileSystem;a.trashDetailsService.beginPolling(),e.fileSystem=a;var o=t.createRootAndSession(a,r,i),s=o.rootContent,c=o.session;ng.create(Mc.sharedInstance,this.bindingFor("currentSession")).activate(),Yl.create(this.bindingFor("currentSession"),{delegate:this}).activate(),this.currentSession=c,this.rootContent=s},renderRootContent:function(){dt.application.rootViewController.contentViewController=this.rootContent},handleSharedItem:function(e){var t=this,n=dt.application;this.initializeRootContentAndActivateServices();var r=this.componentInitializer.services,i=r.fileSystem;Mc.sharedInstance.updateShareGUID("");var a=r.loggingService,o=e,s=ol.a(o,"share.fields"),c=yt.a(s)&&yt.a(s["cloudkit.type"])?s["cloudkit.type"].value:null;return a.recordStat("AttemptedToResolveRecord",{cloudKitRecordType:c}),i.retrieveItemForCKRecordHash(o).then((function(e){return e.ok?(t.renderRootContent(),t._handleResolvedCKItem(n,e.data)):(a.recordStat("NoRootOrResolvedRecordFoundForTheCkRecord",{cloudKitRecordType:c}),t.renderRootContent(),n.rootViewController.contentViewController.view.initialSource="browse",e)}))},handleQuickActionData:function(e){var t,n=this,r=dt.application,i=null==e||null==(t=e.launchPath)?void 0:t.id,a=this.componentInitializer.services,o=a.fileSystem,s=a.loggingService;if(this.initializeRootContentAndActivateServices(),i)(async function(){return await o.driveWebService.post("retrieveItemDetailsInFolders",[{item_id:i}])})().then((function(t){if(t.ok){var i,a;n.renderRootContent();var c=null==t||null==(i=t.data)?void 0:i[0],l=null==c?void 0:c.drivewsid,u=l?o.getItemById(l)||xf(c,s):void 0,d=null==c?void 0:c.items,h=null==e||null==(a=e.launchItem)?void 0:a.id,f=h?d.find((function(e){return(null==e?void 0:e.item_id)===h})):void 0,p=r.rootViewController,g=p.contentViewController;return f&&xf(f,s),u&&(g.view.initialSource="browse"),p.contentViewController.view.navigateToTileItemPathLinkAndSelectTileItemLink(u,f)}n.renderRootContent(),r.rootViewController.contentViewController.view.initialSource="recents"}));else{this.renderRootContent();var c=r.rootViewController;c.contentViewController.view.initialSource="recents";var l=e.launchItem;l&&c.contentViewController.view.scrollToAndSelectRecentsItemLink(l)}},_handleResolvedCKItem:function(e,t){var n=e.rootViewController;n.contentViewController.view.initialSource="browse";var r=t.isFolder?t:t.parent,i=t.isFolder?null:t;return n.contentViewController.view.changeDirectoryAndGoToItem(r,i)},historyStateDidChange:function(e){var t=this.currentSession,n=this.componentInitializer.services.fileSystem;if(null===e){var r=t.initialWorkingDirectory,i=yt.a(r)?r:n.getFolderById(md.driveRootFolderId);t.changeDirectory(i)}else{var a,o=e.folderId,s=n.getFolderById(o);a=yt.a(s)?s:yt.a(t.initialWorkingDirectory)?t.initialWorkingDirectory:n.getFolderById(md.driveRootFolderId),t.changeDirectory(a)}},handleQueryFolderContentFailure:function(e){var t=dt.application,n=e.data.type;return n===Af.PCSMissing||n===Af.PCSInvalid?t.terminateWithReasonAndInfo($l.PCS_REQUIRED,{log:d.b.stringifyRecordedLogMessages()}).then((function(){return e})):e},__superMap:{_$13e$applicationWillFinishLaunching:"applicationWillFinishLaunching",_$4Jb$applicationDidFinishLaunching:"applicationDidFinishLaunching",_$4n1$applicationDidBecomeActive:"applicationDidBecomeActive"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ApplicationDelegate"}});d.b.logOutputLevel=m.cwlog,wr.main({applicationClass:il.extend({fileSystem:v.g(),disableTouchScrolling:!1,didFetchStartup:function(e,t){var n,r;"function"===typeof this.delegate.didFetchStartup&&(null==(n=(r=this.delegate).didFetchStartup)||n.call(r,e,t))},tileDataDidUpdate:function(e){D0(e)},launchOptionsDidChange:function(e){this.delegate.handleQuickActionData(e)},_temp_recentsResult:v.g(),isSelectionModeActive:v.g(!1),isKvsLoaded:v.g(),preferencesStore:v.g(Xc)}),delegateClass:R0,rootViewControllerClass:Vr})},function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(1598),i=n(1365),a=n(1330),o=n(1364),s=a.a.extend(o.a,{generate:function(e,t,n){for(var r in n=n||this.createEventHandler,t){var i=t[r];e[i]=n(r,i)}return e},createEventHandler:function(e,t){return function(n){try{n.cwType=e}catch(r){throw new Error("error handling event of type "+e+" registered to "+t)}this.dispatchEvent(n)}},staticMembers:{__QUALIFIED_CLASS_NAME__:"HandlerGenerator"}}),c={};s.get("sharedInstance").generate(c,{dragStart:"dragstart",dragEnter:"dragenter",dragOver:"dragover",dragLeave:"dragleave",drag:"drag",drop:"drop",dragEnd:"dragend"});var l=c.dragover;c.dragover=function(e){l.apply(this,arguments),e.preventDefault()};var u=c.drop;c.drop=function(e){u.apply(this,arguments),e.preventDefault()};var d=n(1381),h=n(1380).a.extend({staticMembers:{nativePropertiesToCopy:Object(d.a)(["target"]),eventPropertiesToCopy:Object(d.a)(["target"]),__QUALIFIED_CLASS_NAME__:"FocusEvent"},cwForceBubble:!0,target:null}),f={};s.get("sharedInstance").generate(f,{didReceiveFocus:"focus",didReceiveBlur:"blur"},(function(e){return function(t){var n=h.create({nativeEvent:t});n.cwType=e,this.dispatchEvent(n)}}));var p={};s.get("sharedInstance").generate(p,{beforeInput:"beforeinput",input:"input",selectionDidChange:"select"});var g={};s.get("sharedInstance").generate(g,{keyDown:"keydown",keyPress:"keypress",keyUp:"keyup",compositionStart:"compositionstart",compositionUpdate:"compositionupdate",compositionEnd:"compositionend"});var m=n(1378),v={},y={pointerOver:"mouseover",pointerDown:"mousedown",pointerMove:"mousemove",pointerUp:"mouseup",pointerOut:"mouseout",pointerCancel:"mousecancel"},_=function(e){return function(t){var n=m.a.create({cwType:e,nativeEvent:t,pointerType:m.b.MOUSE,width:1,height:1});this.dispatchEvent(n)}};for(var b in y)v[y[b]]=_(b);var w={};["pointerOver","pointerDown","pointerMove","pointerUp","pointerOut","pointerCancel","click"].forEach((function(e){w[e.toLowerCase()]=function(t){t.cwType=e,this.dispatchEvent(t)}}));var S={touchstart:function(e){E(this,"pointerDown",e)},touchmove:function(e){E(this,"pointerMove",e)},touchend:function(e){E(this,"pointerUp",e),O(e.changedTouches)},touchcancel:function(e){E(this,"pointerCancel",e),O(e.changedTouches)}};function E(e,t,n){for(var r=n.changedTouches,i=r.length,a=0;a<i;a++)C(e,n,t,r[a])}var I={};function C(e,t,n,r,i){var a=r.identifier,o=e.getPointerCapture(a);o?i=o.element:i||(i=function(e){var t=e.clientX,n=e.clientY;return document.elementFromPoint(t,n)}(r),function(e,t,n,r){var i=n.identifier,a=I[i];a!==r&&(a&&C(e,t,"pointerOut",n,a),r&&(a&&C(e,t,"pointerOver",n,r),I[i]=r))}(e,t,r,i));var s=m.a.create({cwType:n,pointerId:r.identifier,nativeEvent:t,pointerType:m.b.TOUCH,target:i});!function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a,o,s=arguments.length;for(a=2;a<s;a++)t[o=arguments[a]]=e[o]}(r,s,"screenX","screenY","clientX","clientY"),e.dispatchEvent(s)}function O(e){for(var t=e.length,n=0;n<t;n++){var r=e[n];delete I[r.identifier]}}var T=n(1596);o.a;var A=n(1379).a.extend({staticMembers:{eventPropertiesToCopy:Object(d.a)(["deltaX","deltaY"]),__QUALIFIED_CLASS_NAME__:"WheelEvent"},init:function(e){if(this.__s._$B5$init.call(this,e),e){var t=e.nativeEvent;if(t){var n=function(e){var t=1;e&&"mousewheel"===e.type&&(t=-1/40);var n=T.a.get("sharedInstance");return n.isWebKit&&n.engineMajorVersion>=538?t=1:n.isSafari?t=-1/3:n.isFirefox&&(t=.5,e&&1===e.deltaMode&&(t=40)),t}(t);"mousewheel"===t.type?(this.deltaX=t.wheelDeltaX,this.deltaY=t.wheelDeltaY||t.wheelDelta):(this.deltaX=t.deltaX,this.deltaY=t.deltaY),this.deltaY=this.deltaY||0,this.deltaX=this.deltaX||0,this.deltaY*=n,this.deltaX*=n}}},deltaX:0,deltaY:0,__superMap:{_$B5$init:"init"}}),N={};N["onwheel"in document||"WheelEvent"in window?"wheel":"mousewheel"]=function(e){(e=A.create({nativeEvent:e})).cwType="wheel",this.dispatchEvent(e)};var M,D=[{handlers:g,useCapture:!1},{handlers:f,useCapture:!0},{handlers:p,useCapture:!1},{handlers:c,useCapture:!1},{handlers:{change:function(e){e.cwType="change",this.dispatchEvent(e)}},useCapture:!1},{handlers:{contextmenu:function(e){e.cwType="contextMenu",this.dispatchEvent(e)}},useCapture:!1}];switch(i.b.isMouseWheelSupported&&D.push({handlers:N,useCapture:!1}),i.b.pointerEventClass){case i.a.Pointer:M=w;break;case i.a.Touch:M=S;break;case i.a.Mouse:M=v}M&&D.push({useCapture:!1,handlers:M});var R=n(1316),L=n(1389),k=n(1418),x=L.a.extend({dependencies:[k.a],action:function(e){if(!e.rootElement)throw new R.a("Application has no rootElement defined");var t=e.rootElement;t===window.document.body&&(t=window.document);var n=t.addEventListener,i=e.rootResponder=r.a.create({application:e,element:t,events:D});return t.addEventListener=function(e,r,a){return r._fromCW?n.call(t,e,r,a):i.prependEventListenerToElement(t,e,r,a)},e},staticMembers:{__QUALIFIED_CLASS_NAME__:"RootResponderInitializer"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"d",(function(){return z})),n.d(t,"c",(function(){return G})),n.d(t,"h",(function(){return K})),n.d(t,"f",(function(){return Q})),n.d(t,"e",(function(){return Z})),n.d(t,"i",(function(){return X})),n.d(t,"b",(function(){return te})),n.d(t,"g",(function(){return re}));var r=n(1331),i=n(1587),a=n(1336),o=n(1353),s=n(1316),c=n(1327),l=n(1326),u=n(1332),d=n(1317),h=n(1343),f=n(1337),p=n(1352),g=n(1358),m=p.a.extend({staticMembers:{_beginBatchSetter:function(){return g.a.begin()},__QUALIFIED_CLASS_NAME__:"BatchSetterForObject"}}),v=n(1595),y=n(1354),_=n(1355),b=n(1356),w=b.a.extend({debugType:"Strong",validateDescendantDownstreamNodeManager:function(e,t,n){e.reference===a.c&&this._throwValidationError(e,t,"Illegal binding (reference strength) from `%{key}` (to `%{parentKey}`): You cannot bind a weak and a strong property together.")},staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseDownstreamStrongNodeManager"}}).extend({debugType:"Strong",init:function(){this.__s._$DJ$init.apply(this,arguments),this._referenceDescriptorComputedCache="Observable strong ref for `"+this.key+"` (downstream cached value)"},_referenceDescriptorComputedCache:void 0,_manageForCalculateValueForNode:function(e,t,n){Object(a.f)(n,e,this._referenceDescriptorComputedCache)},previousValueWasReplaced:function(e,t,n){Object(a.e)(n,e,this._referenceDescriptorComputedCache)},nodeWillFree:function(e,t){Object(a.e)(y.a.getDataForNode(t),e,this._referenceDescriptorComputedCache)},__superMap:{_$DJ$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownstreamStrongNodeManager"}}),S=w.extend({debugType:"Strong Computed",init:function(){this.__s._$gV$init.apply(this,arguments),this._referenceDescriptorComputedCache="Observable strong ref for `"+this.key+"` (downstream cached computed value)"},__superMap:{_$gV$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownstreamStrongComputedNodeManager"}}),E=b.a.extend({debugType:"Unsafe",validateDescendantDownstreamNodeManager:function(e,t,n){e.reference!==a.b&&this._throwValidationError(e,t,"Illegal binding (reference strength) from `%{key}` (to `%{parentKey}`): You cannot bind a %{reference} property up to an unsafe one.")},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownstreamUnsafeNodeManager"}}),I=b.a.extend({debugType:"Weak",validateDescendantDownstreamNodeManager:function(e,t,n){e.reference===a.a&&this._throwValidationError(e,t,"Illegal binding (reference strength) from `%{key}` (to `%{parentKey}`): You cannot bind a weak and a strong property together.")},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownstreamWeakNodeManager"}}),C=I.extend({debugType:"Weak Computed",_manageForCalculateValueForNode:function(e,t,n){var r=this.key,i=e._weakReferenceTokens[r];Object(a.h)(t,i),e._weakReferenceTokens[r]=Object(a.g)(n,e,e.weaklyReferencedObjectWasDisposed,r)},nodeWillFree:function(e,t){var n=this.key,r=e._weakReferenceTokens[n],i=y.a.getDataForNode(t);Object(a.h)(i,r)},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownstreamWeakComputedNodeManager"}}),O=n(1357),T=O.b.extend({debugType:"ReadOnly",flushNode:function(e,t){var n=y.a.getStateDataForNode(t),r=y.a.getStateIDForNode(t);throw new s.a("Cannot write to read-only property: "+this.key,{object:e,value:n,parentID:r})},staticMembers:{__QUALIFIED_CLASS_NAME__:"UpstreamReadOnlyNodeManager"}}),A=T.extend({debugType:"ReadOnly Strong",nodeWillFree:function(e,t){var n=y.a.getDataForNode(t);Object(a.e)(n,e,"Observable strong ref for `"+this.key+"` (read-only default value)")},staticMembers:{__QUALIFIED_CLASS_NAME__:"UpstreamReadOnlyStrongNodeManager"}}),N=O.b.extend({debugType:"Strong",init:function(e){this.__s._$9V$init.apply(this,arguments);var t=this.key;this._stateArrayReferenceDescriptor="Observable strong ref for `"+t+"` (upstream state preprocessing storage)",this._ownValueReferenceDescriptor="Observable strong ref for `"+t+"` (upstream own-value storage)"},_manageForWasDirtiedByParent:function(e,t){Object(a.e)(e,t,this._stateArrayReferenceDescriptor)},_manageForWasDirtiedBySelf:function(e,t,n){var r=this._stateArrayReferenceDescriptor;Object(a.f)(e,n,r),Object(a.e)(t,n,r)},_manageForCalculateValueForNode:function(e,t,n){Object(a.f)(e,n,this._ownValueReferenceDescriptor),Object(a.e)(t,n,this._stateArrayReferenceDescriptor)},previousValueWasReplaced:function(e,t,n){Object(a.e)(n,e,this._ownValueReferenceDescriptor)},nodeWillFree:function(e,t){var n=y.a.getStateDataForNode(t),r=y.a.getDataForNode(t);Object(a.e)(n,e,this._stateArrayReferenceDescriptor),Object(a.e)(r,e,this._ownValueReferenceDescriptor)},_stateArrayReferenceDescriptor:void 0,_ownValueReferenceDescriptor:void 0,__superMap:{_$9V$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"UpstreamStrongNodeManager"}}),M=O.b.extend({calculateValueForNode:function(e,t,n,r){var i=this.key,o=e._weakReferenceTokens,s=o[i],c=y.a.getDataForNode(t);Object(a.h)(c,s);var l=this.__s._$L7$calculateValueForNode.apply(this,arguments);return o[i]=Object(a.g)(l,e,e.weaklyReferencedObjectWasDisposed,i),l},nodeWillFree:function(e,t){var n=this.key,r=e._weakReferenceTokens[n],i=y.a.getDataForNode(t);Object(a.h)(i,r)},__superMap:{_$L7$calculateValueForNode:"calculateValueForNode"},staticMembers:{__QUALIFIED_CLASS_NAME__:"UpstreamWeakRootValueNodeManager"}}),D=n(1593),R=n(1320),L=D.a.extend(R.a,{didFire:!1,_fireState:!1,previousValues:null,context:null,type:"",initFromPool:function(e){e&&Object(c.a)(e)&&(this.type=e.type||"",this.didFire=e.didFire||!1,this.forceFire=e.forceFire||!1,this.previousValues=e.previousValues||null,this.context=e.context||null,this._fireState=e._fireState||0)},staticMembers:{__QUALIFIED_CLASS_NAME__:"SignalEvent"}}),k={isObservable:!0,initializeInstance:function(){this._nodes=[];var e=this.upstreamNodes={},t=this.downstreamNodes={};this._connectables=[],this._connectableTargets=[],y.a.pause(),this.initializeObservers(e,t),this.initializeSignals(e,t),this.__s._$k9$initializeInstance.call(this),this._connectAllConnectables(),y.a.triggerFlush(),y.a.resume()},initializeObservers:function(e,t){var n=this.getMetadataByType(z);for(var r in n){var i=n[r],a=this.allocNode(i.manager,y.a.PULL_ON_FLUSH|y.a.NOTIFY);t[r]=a,this.addConnectable(i,a,y.a.NULL_INDEX)}},initializeSignals:function(e,t){var n=this.getMetadataByType(Z);for(var r in n){var i=n[r],a=this.allocNode(i,y.a.PULL_ON_FLUSH|y.a.NOTIFY);i.initializeEvent(a),e[r]=t[r]=a}},upstreamNodes:null,downstreamNodes:null,_connectables:null,_connectableTargets:null,isConnected:!1,addConnectable:function(e,t,n){this.isConnected&&this.hasOwnProperty("isConnected")?e.connect(this,t,n):(this._connectables.push(e),this._connectableTargets.push(t),this._connectableTargets.push(n))},_connectAllConnectables:function(){var e,t=this._connectables,n=this._connectableTargets,r=t.length,i=y.a.NULL_INDEX,a=y.a.NULL_INDEX;for(e=0;e<r;e++)i=n[2*e],a=n[2*e+1],t[e].connect(this,i,a);this._connectables=this._connectableTargets=null,this.isConnected=!0},allocNode:function(e,t){var n=y.a.allocNode(e,this,t);return this._nodes.push(n),n},freeNode:function(e){var t=this._nodes,n=t.indexOf(e);if(!(n>=0))throw new s.a("CW.Observable `freeNode` called with a node not managed by this Observable!",{nodeID:e,observable:this});t.splice(n,1),y.a.freeNode(e)},dispose:function(){var e,t=this._nodes,n=t.length,r=y.a.NULL_INDEX;for(e=0;e<n;e++)r=t[e],y.a.freeNode(r);this._nodes=null,this.downstreamNodes=null,this.upstreamNodes=null,this.__s._$2qR$dispose.call(this)},observe:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];return(e=Object(c.a)(i)?G.create(this,i):G.create(this,...n,!0)).connect(),e},listen:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];return(e=Object(c.a)(i)?$.create(this,i):$.create(this,...n,!1)).connect(),e},bindingFor:function(e){return v.a.create(e,this)},propertyChanged:function(e){var t=this.downstreamNodes[e];if("number"!==typeof t)throw new s.a("propertyChanged must be called with the key of an observable property (key: "+e+", object: "+this+").",{object:this,key:e});y.a.setNodeToDirtyFromParent(t)},bind:function(e,t){var n=this.getMetadataByType(te);if(n){var r=n[e];if(!r)throw new s.a("Bind must be called on an observable property",e);r.bind(this,t)}return this},unbind:function(e){var t=this.getMetadataByType(te);if(t){var n=t[e];if(!n)throw new s.a("Unbind must be called on an observable property",e);n.unbind(this)}return this},beginBatchSet:function(){return m.begin(this)},__superMap:{_$k9$initializeInstance:"initializeInstance",_$2qR$dispose:"dispose"}},x=Object.assign({staticMembers:Object.assign({},k)},k,{mixinDependencies:[r.b,i.b]}),F=void 0,P=1,j=2,U=_.a.extend({_onlyFireIfChanged:!0,_debug_dependencyNames:null,_debug_key:null,_observedTypes:null,_observesSignals:!0,init:function(e,t,n){if(this.__s._$5Cu$init.call(this),void 0===n&&(n=!0),!Object(l.a)(t))throw new s.a("Cannot create CW.ObserverNodeManager without an observer function to call when there is a change.");this.observer=t,this._inputCount=e,this._inputCollectorPool=[],this._observedTypes=new Array(e),n||(this._onlyFireIfChanged=n,this.invokeObserverCallback=this._actuallyInvokeObserverCallback)},calculateValueForNode:function(e,t,n){if(!n)throw new s.a("Observers should not be set directly, they must pull from their parents.",t);var r=this._getInputCollectorFromPool();y.a.pullDataFromParents(t,r);var i=y.a.getDataForNode(t);if(i||!V(t)){var a=i;return 2!==i._fireState?a=this.invokeObserverCallback(e,r,i,t):(i._fireState=0,B(r,i)),this._returnInputCollectorToPool(r),a}},invokeObserverCallback:function(e,t,n,r){return 1===n._fireState||this._didObservedValuesChange(t,n.previousValues)?this._actuallyInvokeObserverCallback(e,t,n,r):(n.didFire=!1,n)},notifyNode:function(e,t){y.a.getDataForNode(t).didFire=!1},_actuallyInvokeObserverCallback:function(e,t,n,r){n._fireState=0,B(t,n);var i=te.isInsideSetter;return te.isInsideSetter=!1,this._substituteSignalInputsIfNeccessary(t),this.observer.apply(e,t),te.isInsideSetter=i,function(e){var t=y.a.getDataForNode(e);if(t||!V(e)){var n=L.create({previousValues:t.previousValues,_fireState:0,didFire:!0});return n.retain(),t.previousValues=null,t.release(),n}}(r)},_substituteSignalInputsIfNeccessary:function(e){if(this._observesSignals){for(var t,n,r=!1,i=this._observedTypes,a=0;a<e.length;a++)(t=i[a])===F&&(t=this._getValueType(e[a]))!==F&&(i[a]=t),t===P?((n=e[a])&&!n.didFire&&(e[a]=void 0),r=!0):t===F&&(r=!0);this._observesSignals=r}},_didObservedValuesChange:function(e,t){var n=e,r=t;if(n.length!==r.length)return!0;for(var i,a,o=this._observedTypes,s=n.length,c=0;c<s;c++)if(i=o[c],a=n[c],i===F&&(i=o[c]=this._getValueType(a)),i===P){if(a&&a.didFire)return!0}else if(a!==r[c])return!0;return!1},_getValueType:function(e){return void 0===e?F:Object(u.a)(e,L)?P:j},addDebugInfoForNode:function(e,t,n){t.type="Observer",t.object=e,t.key=this._debug_key||"(Anonymous)",t.dependencyNames=this._debug_dependencyNames,t.toString=function(){return this.object+"."+this.key},t.name=t.toString()},_getInputCollectorFromPool:function(){var e=this._inputCollectorPool;return e.length>0?e.pop():new Array(this._inputCount)},_returnInputCollectorToPool:function(e){for(var t=e.length,n=0;n<t;n++)e[n]=void 0;this._inputCollectorPool.push(e)},__superMap:{_$5Cu$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ObserverNodeManager"}});function B(e,t){for(var n=t.previousValues,r=e.length,i=0;i<r;i++)n[i]=e[i]}function V(e){if(y.a.nodeIsFreeing(e))return!0;throw new s.a("An observer with node %{nodeID} was corrupted (node data was lost)",{nodeID:e})}var W,z=r.a.extend({init:function(){for(var e,t,n,r=this.notifyOnCreate,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=a[0];if(Object(c.a)(s))e=s.inputs,t=s.callback,void 0!==s.notifyOnCreate&&(r=s.notifyOnCreate),void 0!==s.onlyFireIfChanged&&(n=s.onlyFireIfChanged);else{var u=(e=a).pop();Object(l.a)(u)||(void 0!==u&&(r=u),u=e.pop()),t=u}this.inputs=e,this.callback=t,this.bindings=v.a.createForPaths(e),this.manager=this.managerClass.create(e.length,t,n),this.manager._debug_inputNames=e,this.notifyOnCreate=r,this.__s._$8vC$init.call(this)},wasRegistered:function(e,t){this.__s._$8xi$wasRegistered.apply(this,arguments),this.manager._debug_key=t},getValue:function(e,t){return function(){var e=this.downstreamNodes[t],n=y.a.getDataForNode(e);!n&&V(e)||(n._fireState=1,y.a.setNodeToDirtyFromParent(e))}},notifyOnCreate:!0,manager:null,managerClass:U,requiresSupport:x,bindings:null,inputs:null,callback:null,allowAtCreate:!0,connect:function(e,t){for(var n,r=this.bindings,i=this.notifyOnCreate,a=0,o=r.length;a<o;a++)if(n=r[a],!v.a.hookUpDownstreamNode(e,n,t,!0))throw new s.a("Observer could not hook up to one of its observed properties.",{object:e,observer:this,binding:n,bindingPath:n.path});var c=L.create({previousValues:[],_fireState:i?1:2});c.retain(),y.a.setDataForNode(c,t),e.isConnected&&e.hasOwnProperty("isConnected")&&y.a.triggerFlush()},__superMap:{_$8vC$init:"init",_$8xi$wasRegistered:"wasRegistered"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ObserverMetadata"}}),H=z.extend({notifyOnCreate:!1,staticMembers:{__QUALIFIED_CLASS_NAME__:"ListenerMetadata"}}),G=z.extend({node:-1,init:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!e||!e.hasMixin||!e.hasMixin(x))throw new s.a("A CW.Observer must be defined on an observable object.",{owningObject:e,inputs:n});this.owningObject=e;var i=n[0];Object(c.a)(i)?this.__s._$BlG$init.call(this,i):this.__s._$BlG$init.apply(this,n),this.node=e.allocNode(this.manager,y.a.PULL_ON_FLUSH)},connect:function(){return this.__s._$Brx$connect.call(this,this.owningObject,this.node)},disconnect:function(){y.a.disconnectParentsFromNode(this.node)},__superMap:{_$BlG$init:"init",_$Brx$connect:"connect"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Observer"}}),$=G.extend({notifyOnCreate:!1,staticMembers:{__QUALIFIED_CLASS_NAME__:"Listener"}}),K=function(){return z.define.apply(z,arguments)},Q=function(){return H.define.apply(H,arguments)},q={key:"Signal Not Set Sentinel"},Z=r.a.extend({requiresSupport:x,isCacheable:!0,notifyNode:function(e,t){var n=y.a.getDataForNode(t);n.context=null,n.didFire=!1,this.didPropagate.call(e)},calculateValueForNode:function(e,t,n){var r=y.a.getStateDataForNode(t);if(n){y.a.setStateDataForNode(q,t);var i=y.a.getStateIDForNode(t);if(!y.a.isValidNodeID(i))throw new s.a("Corrupted signal on "+e.toString());y.a.getValueForNode(i),r=y.a.getStateDataForNode(t)}return r=r===q?y.a.getDataForNode(t):Y(t,this._debug_key,r),this.willPropagate.call(e,r),r},validateDescendantDownstreamNodeManager:d.a,getValue:function(e,t){return function(e){var n=this.downstreamNodes[t];if(void 0!==n){var r=e;te.isInsideSetter&&y.a.nodeIsDirty(n)?y.a.passValueToNode(r,n):y.a.setValueForNode(r,n)}}},didPropagate:d.a,willPropagate:d.a,wasRegistered:function(e,t){this.__s._$Dvo$wasRegistered.apply(this,arguments),this._debug_key=t},addDebugInfoForNode:function(e,t,n){t.type="Signal",t.object=e,t.key=this._debug_key,t.toString=function(){return this.object+"."+this.key},t.name=t.toString()},initializeEvent:function(e){var t=Y(e,this._debug_key,null);t.didFire=!1,y.a.setDataForNode(t,e),y.a.setStateDataForNode(q,e)},__superMap:{_$Dvo$wasRegistered:"wasRegistered"},staticMembers:{__QUALIFIED_CLASS_NAME__:"SignalMetadata"}}),Y=function(e,t,n){var r=y.a.getDataForNode(e),i=L.create({type:t,context:n,didFire:!0});return i.retain(),r&&r.release(),i},X=function(){return Z.create.apply(Z,arguments)},J=[],ee="_cw_itselfProperty",te=i.a.extend({staticMembers:{isInsideSetter:!1,getDependencyValuesAsTempArray:function(e,t,n,r){J.length=0;for(var i=0;i<t.length;i++){var a=t[i+n];y.a._sanitizeNodeID(a)>0&&(J[i]=r.internalGet(e,a))}return J},__QUALIFIED_CLASS_NAME__:"ObservableProperty"},readOnly:null,cacheable:void 0,binding:void 0,downstreamBindings:null,dependencies:null,writeDependencies:null,outletProperty:!1,bindings:null,writeBindings:null,_valueCount:0,didChange:null,isComputedProperty:!1,isDependentComputedProperty:!1,isRootValueProperty:!1,requiresSupport:x,downstreamNodeManagerClass:null,upstreamNodeManagerClass:null,downstreamNodeManager:null,upstreamNodeManager:null,weakRootValueUpstreamNodeManager:null,init:function(e){Object(u.a)(e,v.a)&&(e={binding:e}),this.__s._$PPe$init.call(this,e)},getValue:function(e,t){var n=this.binding||this.defaultValue;return void 0===n&&(this.get||this.set)&&Object(u.a)(e[i.b.staticMembers.defaultValuePrefix+t],v.a)?null:n},inheritFrom:function(e){this.__s._$Ph2$inheritFrom.apply(this,arguments),this.didChange||(this.didChange=e.didChange),e.hasOwnProperty("cacheable")&&!this.hasOwnProperty("cacheable")&&(this.cacheable=e.cacheable);var t=e.downstreamBindings;if(t){var n=this.downstreamBindings;this.downstreamBindings=n?Object.assign(Object.create(t),n):t}},wasRegistered:function(e,t,n){this.__s._$Q2p$wasRegistered.apply(this,arguments),this._validateProvidedInitValues(e,t),this._validateProvidedAccessors(t),this.reference!==a.c||this.readOnly||(this._setRootValueNodeManagerIfNeeded=this._setRootValueNodeManagerIfNeededWeakWritable,this._setBoundNodeManagerIfNeeded=this._setBoundNodeManagerIfNeededWeakWritable),this.setUpManagers(),t=(t=t.replace(/\\/g,"\\\\")).replace(/\./g,"\\."),this._ownBinding=Object(v.c)(t),this.initializeNodeFlags(),this._setUpDidChangeObserver(e,t)},_validateProvidedInitValues:function(e,t){var n=this.binding,r=this.defaultValue;if(Object(h.a)(n)&&Object(h.a)(r))throw new s.a("You can't define an observable property with both a binding and a defaultValue (%{key}).",{key:t,property:this});if(Object(u.a)(r,v.a))throw new s.a("You can\u2019t pass bindings into a property definition on `defaultValue`; you must pass it in on `binding` (%{key}).",{binding:n,property:this,key:t});Object(f.a)(n)&&(this.binding=Object(v.c)(n));var i=this.computedDownstreamBindings=[],a=this.downstreamBindings;for(var o in a){var c=a[o];if(Object(h.a)(c)){if(Object(f.a)(c)&&(c=Object(v.c)(c)),Object(u.a)(c,v.a)){var l=c.rootObject;if(l){if(l===v.b){c.rootObject=null;var d=c.components;0===d.length&&(d.push(ee),e.getMetadata(ee)||e.registerMetadata(ee,W))}i.push({upstreamSide:c,downstreamSide:Object(v.c)(t+"."+o)});continue}throw new s.a("Right side of downstream bindings must either explicitly specify a root object or begin with `'(owner).'`: `'%{path}'`",{path:c.path})}throw new s.a("Right side of downstream bindings must be a string or a binding",{binding:c})}}},_validateProvidedAccessors:function(e){var t=this.dependencies,n=this.writeDependencies,r=t&&t.length>0,i=n?n.length>0:r,o=this.isDependentComputedProperty=r||i,c=this.reference;if(r&&this.usesBuiltinGet)throw new s.a("Computed properties with dependencies must provide a getter (%{key}).",{property:this,dependencies:t,key:e});if(i&&this.usesBuiltinSet&&!this.readOnly)throw new s.a("Computed properties with (explicit or implicit) write-dependencies must either include a setter or be marked readOnly (%{key}).",{property:this,dependencies:t,key:e});if(this.isComputedProperty&&c===a.c)throw new s.a("Computed properties may not be WEAK references (%{key}).",{property:this,dependencies:t,key:e});if(!1===this.cacheable&&c!==a.b&&!this.typeIsPrimitive)throw new s.a("Non-cacheable, non-primitively-typed properties may not be STRONG or WEAK references; you must manage them yourself. (%{key}).",{property:this,key:e});o&&(n&&(this.writeBindings=v.a.createForPaths(this.writeDependencies)),this.bindings=v.a.createForPaths(this.dependencies))},_setUpDidChangeObserver:function(e,t){if(this.didChange){var n="_"+t+"_didChangeObserver";e.registerMetadata(n,K(t,this.didChange))}},setUpManagers:function(){var e=this.upstreamNodeManagerClass,t=this.downstreamNodeManagerClass,n=this.reference;e||(e=this.readOnly?n===a.a?A:T:n===a.a?N:O.b),t||(t=n===a.a?this.usesBuiltinGet||!1===this.cacheable?this.typeIsPrimitive?b.a:w:S:n===a.c?this.usesBuiltinGet||!1===this.cacheable?I:C:E),this.upstreamNodeManager=e.create(this),this.downstreamNodeManager=t.create(this),n===a.c&&(this.weakRootValueUpstreamNodeManager=M.create(this))},initializeNodeFlags:function(){var e=this.upstreamNodeFlags,t=this.downstreamNodeFlags;if(-1===e||-1===t){var n=this.reference;n===a.a&&this.typeIsPrimitive&&(n=a.b),-1===e&&(e=y.a.DIRTY_TRACKING|y.a.RELATIONSHIPS|y.a.PULL_ON_FREE,this.readOnly&&(e|=y.a.FLUSH),n!==a.c&&n!==a.a||(e|=y.a.PULL_ON_FLUSH),n===a.a&&(e|=y.a.PREVIOUS_VALUE_TRACKING),n!==a.b&&(e|=y.a.FREE),this.upstreamNodeFlags=e),-1===t&&(t=y.a.RELATIONSHIPS,n===a.b||this.usesBuiltinGet||!1===this.cacheable||(t|=y.a.FREE,n===a.a&&(t|=y.a.PREVIOUS_VALUE_TRACKING)),n===a.a&&(t|=y.a.PREVIOUS_VALUE_TRACKING,t|=y.a.FREE),this.downstreamNodeFlags=t)}},upstreamNodeFlags:-1,downstreamNodeFlags:-1,initForObject:function(e,t){var n,r=y.a.NULL_INDEX,i=y.a.NULL_INDEX,o=this.downstreamNodeManager;n=this.reference===a.c&&this.isRootValueProperty?this.weakRootValueUpstreamNodeManager:this.upstreamNodeManager,r=e.allocNode(o,this.downstreamNodeFlags),e.downstreamNodes[t]=r,i=e.allocNode(n,this.upstreamNodeFlags),e.upstreamNodes[t]=i,e.addConnectable(this,r,i),this.__s._$VF4$initForObject.apply(this,arguments)},setInitialValueForObject:function(e,t,n){var r=e.downstreamNodes[t],i=e.upstreamNodes[t];if(y.a.getManagerForNode(r).setUpNode(e,r),y.a.getManagerForNode(i).setUpNode(e,i),Object(u.a)(n,v.a)){var o=n;if(this.isDependentComputedProperty)throw new s.a("Dependent computed properties cannot be created with a binding (%{key}).",{property:this,key:t,object:e});y.a.setDataForNode(o,r)}else this.readOnly?(this.reference===a.a&&Object(a.f)(n,e,"Observable strong ref for `"+t+"` (read-only default value)"),y.a.setDataForNode(n,i)):void 0!==n&&y.a.passValueToNode(n,i)},connect:function(e,t,n){this.isRootValueProperty=!this.isDependentComputedProperty,this._configurePropertyAsRootValue(t,n);var r=this._ownBinding;if(this.isDependentComputedProperty){var i,a,o,c=this.bindings,l=this.writeBindings,u=n>=0&&void 0!==y.a.getStateDataForNode(n);if(c&&(i=c.length)>0)for(a=0;a<i;a++)if(o=c[a],!v.a.hookUpBinding(e,o,r,u,!0,v.a.DONT_CONNECT,v.a.CONNECT))throw new s.a("Unable to connect dependency for computed property (key: "+this.key+", dependency: "+o.path+").",{object:e,property:this,key:this.key,dependency:o.path});if(l&&(i=l.length)>0)for(a=0;a<i;a++)if(o=l[a],!v.a.hookUpBinding(e,o,r,u,!0,v.a.CONNECT,v.a.DONT_CONNECT))throw new s.a("Unable to connect write dependency for computed property (key: "+this.key+", dependency: "+o.path+").",{object:e,property:this,key:this.key,dependency:o.path})}else{var d;t>=0&&(d=y.a.getDataForNode(t)),d&&d.instanceOf&&d.instanceOf(v.a)&&(this.isRootValueProperty=!1,this.bind(e,d),y.a.setDataForNode(void 0,t),n&&y.a.setDataForNode(void 0,n))}for(var h=this.computedDownstreamBindings,f=h.length,p=0;p<f;p++){var g=h[p];v.a.hookUpBinding(e,g.upstreamSide,g.downstreamSide,!1,!0)}},_configurePropertyAsRootValue:function(e,t){y.a.addChildToNode(e,t,!0),this._setRootValueNodeManagerIfNeeded(e,t)},_setRootValueNodeManagerIfNeeded:d.a,_setRootValueNodeManagerIfNeededWeakWritable:function(e,t){y.a.setManagerForNode(this.weakRootValueUpstreamNodeManager,t)},bind:function(e,t){var n=this.key;if(this.isDependentComputedProperty)throw new s.a("Cannot bind property %{key}. Properties with dependencies cannot be bound.",{property:this,key:this.key,object:e});var r=e.downstreamNodes[n],i=e.upstreamNodes[n];this._disconnectNodes(r,i),this._configurePropertyAsBound(r,i);var a=t;if(t&&t.instanceOf&&t.instanceOf(v.a)||(a=v.a.create(a)),!v.a.hookUpBinding(e,a,this._ownBinding,!1,!0))throw new s.a("Unable to bind property (key: "+this.key+", binding: "+a.path+").",{object:e,property:this,key:this.key,binding:a,path:a.path});e.isConnected&&y.a.triggerFlush()},_configurePropertyAsBound:function(e,t){this._setBoundNodeManagerIfNeeded(e,t)},_setBoundNodeManagerIfNeeded:d.a,_setBoundNodeManagerIfNeededWeakWritable:function(e,t){y.a.setManagerForNode(this.upstreamNodeManager,t)},unbind:function(e){var t=this.key;if(this.isDependentComputedProperty)throw new s.a("Cannot unbind property %{key}. Properties with dependencies cannot be unbound.",{property:this,key:this.key,object:e});var n=e.downstreamNodes[t],r=e.upstreamNodes[t];this._disconnectNodes(n,r),this._configurePropertyAsRootValue(n,r),y.a.passValueToNode(void 0,r),e.isConnected&&y.a.triggerFlush()},_disconnectNodes:function(e,t){t>0&&y.a.disconnectChildrenFromNode(t),y.a.disconnectParentsFromNode(e)},_getter:null,_setter:null,_setUpInternalAccessors:function(){var e=this.key,t=i.b.staticMembers.defaultValuePrefix+e;this._getter=function(){if(!this.hasOwnProperty("propertiesAreInitialized"))return this[t];var n=te.isInsideSetter;te.isInsideSetter=!1;var r=this.downstreamNodes[e];if(!y.a.isValidNodeID(r))throw new s.a("Corrupted downstream node _getter: "+this.toString());var i=y.a.getValueForNode(r);return te.isInsideSetter=n,i},this.readOnly?this._setter=function(n){if(this.hasOwnProperty("propertiesAreInitialized"))throw new s.a("Cannot write to read-only property: "+e,{object:this,value:n});this[t]=n}:this._setter=function(n){if(this.hasOwnProperty("propertiesAreInitialized")){var r=te.isInsideSetter;te.isInsideSetter=!0;var i=this.upstreamNodes[e];r&&y.a.nodeIsDirty(i)?y.a.passValueToNode(n,i):y.a.setValueForNode(n,i),te.isInsideSetter=r}else this[t]=n}},internalGet:ne,internalGetPath:ne,_synthesizeInternalGet:d.a,setUpNativeAccessors:function(e,t){Object.defineProperty(e,t,{get:this._getter,set:this._setter,configurable:!0})},getForObject:function(e,t){return this._getter.call(e)},setForObject:function(e,t,n){return this._setter.call(e,n)},disposeForObject:function(e,t){},__superMap:{_$PPe$init:"init",_$Ph2$inheritFrom:"inheritFrom",_$Q2p$wasRegistered:"wasRegistered",_$VF4$initForObject:"initForObject"}});function ne(e,t){if(!y.a.isValidNodeID(t))throw new s.a("Corrupted _internalGet",e);return y.a.getValueForNode(t)}var re=function(e){return te.define.apply(te,arguments)};W=re({defaultValue:o.a,readOnly:!0})},function(e,t,n){"use strict";function r(){throw new Error("Cycle detected")}n.d(t,"e",(function(){return F})),n.d(t,"d",(function(){return B})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return A})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return L})),n.d(t,"h",(function(){return R}));var i=Symbol.for("preact-signals"),a=2,o=4,s=8,c=32;function l(){if(f>1)f--;else{for(var e,t=!1;void 0!==h;){var n=h;for(h=void 0,p++;void 0!==n;){var r=n._nextBatchedEffect;if(n._nextBatchedEffect=void 0,n._flags&=~a,!(n._flags&s)&&_(n))try{n._callback()}catch(i){t||(e=i,t=!0)}n=r}}if(p=0,f--,t)throw e}}function u(e){if(f>0)return e();f++;try{return e()}finally{l()}}var d=void 0,h=void 0,f=0,p=0,g=0;function m(e){if(void 0!==d){var t=e._node;return void 0===t||t._target!==d?(t={_version:0,_source:e,_prevSource:d._sources,_nextSource:void 0,_target:d,_prevTarget:void 0,_nextTarget:void 0,_rollbackNode:t},void 0!==d._sources&&(d._sources._nextSource=t),d._sources=t,e._node=t,d._flags&c&&e._subscribe(t),t):-1===t._version?(t._version=0,void 0!==t._nextSource&&(t._nextSource._prevSource=t._prevSource,void 0!==t._prevSource&&(t._prevSource._nextSource=t._nextSource),t._prevSource=d._sources,t._nextSource=void 0,d._sources._nextSource=t,d._sources=t),t):void 0}}function v(e,t){this._value=e,this._version=0,this._node=void 0,this._targets=void 0,this._subscriptionDelegate=t}function y(e,t){return new v(e,t)}function _(e){for(var t=e._sources;void 0!==t;t=t._nextSource)if(t._source._version!==t._version||!t._source._refresh()||t._source._version!==t._version)return!0;return!1}function b(e){for(var t=e._sources;void 0!==t;t=t._nextSource){var n=t._source._node;if(void 0!==n&&(t._rollbackNode=n),t._source._node=t,t._version=-1,void 0===t._nextSource){e._sources=t;break}}}function w(e){for(var t=e._sources,n=void 0;void 0!==t;){var r=t._prevSource;-1===t._version?(t._source._unsubscribe(t),void 0!==r&&(r._nextSource=t._nextSource),void 0!==t._nextSource&&(t._nextSource._prevSource=r)):n=t,t._source._node=t._rollbackNode,void 0!==t._rollbackNode&&(t._rollbackNode=void 0),t=r}e._sources=n}function S(e){v.call(this,void 0),this._compute=e,this._sources=void 0,this._globalVersion=g-1,this._flags=o}function E(e){return new S(e)}function I(e){var t=e._cleanup;if(e._cleanup=void 0,"function"===typeof t){f++;var n=d;d=void 0;try{t()}catch(r){throw e._flags&=-2,e._flags|=s,C(e),r}finally{d=n,l()}}}function C(e){for(var t=e._sources;void 0!==t;t=t._nextSource)t._source._unsubscribe(t);e._compute=void 0,e._sources=void 0,I(e)}function O(e){if(d!==this)throw new Error("Out-of-order effect");w(this),d=e,this._flags&=-2,this._flags&s&&C(this),l()}function T(e){this._compute=e,this._cleanup=void 0,this._sources=void 0,this._nextBatchedEffect=void 0,this._flags=c}function A(e){var t=new T(e);try{t._callback()}catch(n){throw t._dispose(),n}return t._dispose.bind(t)}v.prototype.brand=i,v.prototype._refresh=function(){return!0},v.prototype._subscribe=function(e){var t;this._targets!==e&&void 0===e._prevTarget&&(this._targets||null===(t=this._subscriptionDelegate)||void 0===t||t.becameSubscribed(this),e._nextTarget=this._targets,void 0!==this._targets&&(this._targets._prevTarget=e),this._targets=e)},v.prototype._unsubscribe=function(e){var t;if(void 0!==this._targets){var n=e._prevTarget,r=e._nextTarget;void 0!==n&&(n._nextTarget=r,e._prevTarget=void 0),void 0!==r&&(r._prevTarget=n,e._nextTarget=void 0),e===this._targets&&(this._targets=r),this._targets||null===(t=this._subscriptionDelegate)||void 0===t||t.becameUnsubscribed(this)}},v.prototype.subscribe=function(e){var t=this;return A((function(){var n=t.value,r=this._flags&c;this._flags&=~c;try{e(n)}finally{this._flags|=r}}))},v.prototype.valueOf=function(){return this.value},v.prototype.toString=function(){return this.value+""},v.prototype.toJSON=function(){return this.value},v.prototype.peek=function(){return this._value},Object.defineProperty(v.prototype,"value",{get:function(){var e,t=m(this);return void 0!==t&&(t._version=this._version),this._targets||null===(e=this._subscriptionDelegate)||void 0===e||e.wasReadWithNoSubscribers(this),this._value},set:function(e){var t;if(d instanceof S&&function(){throw new Error("Computed cannot have side-effects")}(),e!==this._value){p>100&&r(),this._value=e,this._version++,g++,f++;try{for(var n=this._targets;void 0!==n;n=n._nextTarget)n._target._notify()}finally{l()}}this._targets||null===(t=this._subscriptionDelegate)||void 0===t||t.wasWrittenWithNoSubscribers(this)}}),S.prototype=new v,S.prototype._refresh=function(){if(this._flags&=~a,1&this._flags)return!1;if((this._flags&(o|c))===c)return!0;if(this._flags&=~o,this._globalVersion===g)return!0;if(this._globalVersion=g,this._flags|=1,this._version>0&&!_(this))return this._flags&=-2,!0;var e=d;try{b(this),d=this;var t=this._compute();(16&this._flags||this._value!==t||0===this._version)&&(this._value=t,this._flags&=-17,this._version++)}catch(n){this._value=n,this._flags|=16,this._version++}return d=e,w(this),this._flags&=-2,!0},S.prototype._subscribe=function(e){if(void 0===this._targets){this._flags|=o|c;for(var t=this._sources;void 0!==t;t=t._nextSource)t._source._subscribe(t)}v.prototype._subscribe.call(this,e)},S.prototype._unsubscribe=function(e){if(void 0!==this._targets&&(v.prototype._unsubscribe.call(this,e),void 0===this._targets)){this._flags&=~c;for(var t=this._sources;void 0!==t;t=t._nextSource)t._source._unsubscribe(t)}},S.prototype._notify=function(){if(!(this._flags&a)){this._flags|=o|a;for(var e=this._targets;void 0!==e;e=e._nextTarget)e._target._notify()}},S.prototype.peek=function(){if(this._refresh()||r(),16&this._flags)throw this._value;return this._value},Object.defineProperty(S.prototype,"value",{get:function(){1&this._flags&&r();var e=m(this);if(this._refresh(),void 0!==e&&(e._version=this._version),16&this._flags)throw this._value;return this._value}}),T.prototype._callback=function(){var e=this._start();try{if(this._flags&s)return;if(void 0===this._compute)return;var t=this._compute();"function"===typeof t&&(this._cleanup=t)}finally{e()}},T.prototype._start=function(){1&this._flags&&r(),this._flags|=1,this._flags&=~s,I(this),b(this),f++;var e=d;return d=this,O.bind(this,e)},T.prototype._notify=function(){this._flags&a||(this._flags|=a,this._nextBatchedEffect=h,h=this)},T.prototype._dispose=function(){this._flags|=s,1&this._flags||C(this)};var N=n(1311),M=n(1426),D=new WeakMap;function R(e){return M.useSyncExternalStore.apply(void 0,function(e){if(D.has(e))return D.get(e);var t=[e.subscribe.bind(e),e.peek.bind(e)];return D.set(e,t),t}(e))}function L(e,t){return R(Object(N.useMemo)((function(){return E(e)}),t))}var k=Symbol("_spi_alias"),x=Symbol("_spi_eviction");function F(){var e,t=new Map;function n(e,n){if(e!==n){if(t.has(n))throw new Error("ReactiveMap Alias SPI: Attempted to update ID to one already in use.");var r=t.get(e)||{ids:[e]};r.ids.push(n),t.set(e,r).set(n,r)}}var r={setEvictionDelegate:function(t){e=t},evict:function(n){if(e){var r=t.get(n);if(r){var i=r.value;if(i){if(i._targets){if(e.attemptedEvictionOfSubscribedItem)return void e.attemptedEvictionOfSubscribedItem(n);throw new Error("ReactiveMap Eviction SPI: Attempted to evict an in-use ID.")}i.value=P,r.ids.forEach((function(e){return t.delete(e)}))}}}}};function i(n){var r;if(null===(r=t.get(n))||void 0===r?void 0:r.value)return t.get(n).value;var i=t.get(n)||{ids:[]},a=y(P,{wasReadWithNoSubscribers:function(t){t.peek()!==P&&(null===e||void 0===e||e.wasReadWithNoSubscribers(n))},wasWrittenWithNoSubscribers:function(t){t.peek()!==P&&(null===e||void 0===e||e.wasWrittenWithNoSubscribers(n))},becameSubscribed:function(t){t.peek()!==P&&(null===e||void 0===e||e.becameSubscribed(n))},becameUnsubscribed:function(t){t.peek()!==P&&(null===e||void 0===e||e.becameUnsubscribed(n))}});return i.value=a,i.ids.push(n),t.set(n,i),a}return{get:function(e){var t=i(e).value;return t===P?void 0:t},set:function(t,n){var r,a,o=i(t),s=o.peek()===P;o.value=n,s&&(null===(r=null===e||void 0===e?void 0:e.wasAdded)||void 0===r||r.call(e,t),o._targets&&(null===(a=null===e||void 0===e?void 0:e.becameSubscribed)||void 0===a||a.call(e,t)))},has:function(e){return function(e){var n;if(null===(n=t.get(e))||void 0===n?void 0:n.has)return t.get(e).has;i(e);var r=t.get(e),a=r.value;return r.has=E((function(){return a.value!==P})),r.has}(e).value},delete:function(e){var n,r=t.get(e);return!!(null===(n=null===r||void 0===r?void 0:r.has)||void 0===n?void 0:n.value)&&(r.value.value=P,!0)},peek:{get:function(e){var i;if(e===k)return n;if(e===x)return r;var a=null===(i=t.get(e))||void 0===i?void 0:i.value;if(a){var o=a.peek();if(o!==P)return o}},has:function(e){var n=t.get(e);return!!(null===n||void 0===n?void 0:n.value)&&n.value.peek()!==P}}}}var P=Symbol("ReactiveMap: No value"),j=function(){return j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},j.apply(this,arguments)},U=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function B(e){void 0===e&&(e={});var t=e.defaultCreate,n=e.evictionDelegate,r=null===e||void 0===e?void 0:e._finalizeServerState,i=F(),a=j(j({},i),{set:function(e,t){var n=r?r(e,t,i.peek.get(e)):t;i.set(e,n)}}),o=void 0;n&&(o=a.peek.get(x)).setEvictionDelegate(n);var s=function(e){var t=(void 0===e?{}:e).rootStore||F(),n=y(new Set),r=E((function(){return Array.from(n.value)})),i=y(!1);A((function(){var e=function(){for(var e=0,t=r.value;e<t.length;e++){var n=t[e];if(a.get(n).hasChangesSignal.value)return!0}return!1}();e!==i.peek()&&(i.value=e)}));var a=new Map;function o(e){if(a.has(e))return a.get(e);var n=y(new Set),r=E((function(){return 0!==n.value.size})),i=E((function(){return t.has(e)||r.value})),o=E((function(){var r=n.value,i=t.get(e);return r.size?Array.from(r).reduce((function(e,t){return t(e)}),i):i})),s={updatersSignal:n,hasChangesSignal:r,hasSignal:i,valueSignal:o,ids:[e]};return a.set(e,s),s}function s(e,i){var a=o(e).updatersSignal;u((function(){if(a.value=function(){var e=new Set(a.peek());return e.add(i),e}(),!n.peek().has(e)){var t=new Set(r.peek()).add(e);n.value=t}}));var s=A((function(){return t.has(e)})),l=!1;function d(e){if(l)throw new Error("InFlightStore: ".concat(e," called for a staged update that was already completed."));l=!0}return{commit:function(n){s(),d("commit"),u((function(){var r=c(e),o=r;(null===n||void 0===n?void 0:n.finalize)&&(o=n.finalize(r)),t.set(e,o),a.value=function(){var e=new Set(a.peek());return e.delete(i),e}()}))},discard:function(){s(),d("discard"),a.value=function(){var e=new Set(a.peek());return e.delete(i),e}()}}}function c(e){var n=a.get(e);return n?n.valueSignal.peek():t.peek.get(e)}function l(e){var t=a.get(e);return!!t&&t.hasChangesSignal.peek()}return{update:function(e,n){var r,i;if(!t.peek.has(e))throw new Error("InFlightStore: `update` called for item not yet in upstream `rootStore`. Create a new item with `create`.");if(null===(i=null===(r=a.get(e))||void 0===r?void 0:r.updatersSignal)||void 0===i?void 0:i.peek().size)throw new Error("InFlightStore: `update` called for an ID with an operation already in flight. (See `hasChanges`.)");return s(e,n)},create:function(e,n){var r,i;if(t.peek.has(e))throw new Error("InFlightStore: `create` called for ID already in use in the upstream store. Update an existing item with `update`.");if(null===(i=null===(r=a.get(e))||void 0===r?void 0:r.updatersSignal)||void 0===i?void 0:i.peek().size)throw new Error("InFlightStore: `create` called for ID already being created. (See `hasChanges`.)");var c=s(e,(function(){return n})),l=c.commit;return{discard:c.discard,commit:function(n){var r=void 0===n?{}:n,i=r.id,s=r.finalize;if(t.peek.has(e))throw new Error("InFlightStore: Attempted to commit a create which appeared in the root store after the create call.");if(void 0!==i&&i!==e){if(a.has(i))throw new Error("InFlightStore: Attempted to update ID to one already in use.");var c=o(e);c.ids.push(i),a.set(i,c),t.peek.get(k)(e,i)}return l({finalize:s})}}},read:function(e){return o(e).valueSignal.value},has:function(e){return o(e).hasSignal.value},hasChanges:function(e){return o(e).hasChangesSignal.value},hasAnyChanges:function(){return i.value},peek:{read:c,has:function(e){return!!t.peek.has(e)||l(e)},hasChanges:l,hasAnyChanges:function(){return i.peek()}},rootStore:t}}({rootStore:a}),c=y(new Set),l=E((function(){return Array.from(c.value)})),d=y(!1);A((function(){var e=function(){for(var e=0,t=l.value;e<t.length;e++){var n=t[e];if(p.get(n).hasLocalChangesSignal.value)return!0}return!1}();e!==d.peek()&&(d.value=e)}));var h=new WeakMap,f=new Map,p=new Map;function g(e){if(p.has(e))return p.get(e);var n,r,i,o=y([]),c=E((function(){return o.value.length>0})),l=E((function(){return s.has(e)||c.value})),u=E((function(){var n=s.read(e),r=o.value;if(0===r.length)return n;var i=p.get(e),a=null===i||void 0===i?void 0:i.memoizedValue;if(a){if(a.upstreamValue===n&&a.updaters===r)return a.result;i.memoizedValue=void 0}return!s.has(e)&&t&&(n=t(e)),r.reduce((function(e,t){return t(e)}),n)})),d={updatersSignal:o,get manualCreator(){return r},setManualCreator:function(t){if(r=t,!i){var n=!0;i=A((function(){var t=l.value,o=a.has(e);n?n=!1:t&&!o||(r=void 0,i())}))}},hasLocalChangesSignal:c,hasSignal:l,valueSignal:u,aliases:[e],preventEviction:function(){n||(n=A((function(){return s.has(e)})))},allowEviction:function(){null===n||void 0===n||n(),n=void 0}};return p.set(e,d),d}function m(e,t){var n=g(e),r=n.updatersSignal;u((function(){var i=r.peek();0===i.length?(n.preventEviction(),n.updatersSignal.value=[t],c.peek().has(e)||(c.value=new Set(l.peek()).add(e))):r.value=U(U([],i,!0),[t],!1)}));var i=t;return{send:function(){if(!r.peek().includes(i))throw new Error("OptimisticStore: Attempted to send an update that's no longer in the store.");return v(e,[t])},replace:function(e){if(!r.peek().includes(i))throw new Error("OptimisticStore: Attempted to replace an update that's no longer in the store.");var t=i;i=e,r.value=r.peek().map((function(n){return n===t?e:n}))},discard:function(){var e=r.peek();if(!e.includes(i))throw new Error("OptimisticStore: Attempted to discard an update no longer in the store.");if(i===n.manualCreator&&e.length>1)throw new Error("OptimisticStore: Attempted to discard a `create` call out from under subsequent update calls.");r.value=e.filter((function(e){return e!==i})),r.peek().length||n.allowEviction()}}}function v(e,n){if(s.peek.hasChanges(e))throw new Error("OptimisticStore: tried to send an ID that already had in-flight changes (see hasInFlightChanges).");var r=p.get(e),i=r.updatersSignal.peek();if(r.manualCreator&&r.manualCreator!==n[0])throw new Error("OptimisticStore: Attempted to send an update before the create call had been sent.");n!==i&&n.forEach((function(e){if(!i.includes(e))throw new Error("OptimisticStore: Attempted to send an update not currently in the store.")}));var a=function(){if(n===i)return!0;if(n.length!==i.length)return!1;for(var e=0;e<n.length;e++)if(n[e]!==i[e])return!1;return!0}(),o=u((function(){var o,c=!s.peek.has(e),l=function(){var n=s.peek.has(e);if(!n&&!t&&!r.manualCreator)throw new Error("Internal OptimisticStore error: New ID staged without defaultCreate or manual create call.");return n?s.peek.read(e):t?t(e):void 0}(),d=a?r.valueSignal.peek():n.reduce((function(e,t){return t(e)}),l),h=a?[]:i.filter((function(e){return!n.includes(e)}));r.updatersSignal.value=h;var f=(o=c?s.create(e,d):s.update(e,(function(e){return e===l?d:n.reduce((function(e,t){return t(e)}),e)}))).commit,g=o.discard;return{value:d,didSucceed:function(t){var n=void 0===t?{}:t,i=n.id,a=n.finalize;if(c&&i&&i!==e){if(p.has(i))throw new Error("OptimisticStore: Attempted to update ID to one already in use.");r.aliases.push(i),p.set(i,r)}f({id:i,finalize:a})},didFail:function(){u((function(){g();var e=r.updatersSignal.peek();0!==e.length?r.updatersSignal.value=U(U([],n,!0),e,!0):(r.preventEviction(),r.updatersSignal.value=n,c||(r.memoizedValue={upstreamValue:l,updaters:n,result:d}))}))}}}));return r.allowEviction(),o}return{create:function(e,t){if(s.peek.has(e))throw new Error("OptimisticStore: `create` called for ID already in use. Update existing items with `update`.");var n=g(e);if(n.updatersSignal.peek().length>0)throw new Error("OptimisticStore: `create` called for ID already being created. Update existing items with `update`.");var r=function(){return t};n.setManualCreator(r);var i=m(e,r);function a(){var e=i.send();return j(j({},e),{didFail:function(){return e.didFail(),c()}})}function o(e){var t=function(){return e};return n.setManualCreator(t),h.set(a,t),i.replace(t),c()}f.set(a,e),h.set(a,r);var c=function(){return j(j({},i),{willSend:a,replace:o})};return c()},update:function(e,n){if(!t&&!g(e).hasSignal.peek())throw new Error("OptimisticStore: `update` called for item that does not yet exist. Create a new item with `create`, or provide `defaultCreate`.");var r=m(e,n);function i(){var e=r.send();return j(j({},e),{didFail:function(){return e.didFail(),o()}})}function a(e){return r.replace(e),h.set(i,e),o()}f.set(i,e),h.set(i,n);var o=function(){return j(j({},r),{willSend:i,replace:a})};return o()},clearLocalChanges:function(e){var t=p.get(e);if(!(null===t||void 0===t?void 0:t.hasLocalChangesSignal.peek()))throw new Error("OptimisticStore: `discard` called for item with no local changes. See `hasLocalChanges`.");var n=t;u((function(){n.updatersSignal.value=[],n.allowEviction()}))},willSend:function(e,t){var n=p.get(e);if(!(null===n||void 0===n?void 0:n.hasLocalChangesSignal.peek()))throw new Error("OptimisticStore: tried to stage an ID with no changes (see hasLocalChanges).");var r,i=n.updatersSignal.peek();if(t){var a=Array.from(t).map((function(t){var n=h.get(t),r=f.get(t);if(n&&r!==e)throw new Error("OptimisticStore: Attempted to send an update for one ID that was made to a different ID.");if(!n)throw new Error("OptimisticStore: Attempted to call `store.send` with an unrecognized send function.");return n}));if(r=[],i.forEach((function(e){a.includes(e)&&r.push(e)})),t.size!==r.length)throw new Error("OptimisticStore: Attempted to send an update that's no longer in the store.")}else r=i;return v(e,r)},read:function(e){return g(e).valueSignal.value},_readInFlight:function(e){return s.read(e)},has:function(e){return g(e).hasSignal.value},hasLocalChanges:function(e){return g(e).hasLocalChangesSignal.value},hasInFlightChanges:function(e){return s.hasChanges(e)},hasAnyLocalChanges:function(){return d.value},hasAnyInFlightChanges:function(){return s.hasAnyChanges()},peek:{read:function(e){return g(e).valueSignal.peek()},_readInFlight:function(e){return s.peek.read(e)},has:function(e){return g(e).hasSignal.peek()},hasLocalChanges:function(e){return g(e).hasLocalChangesSignal.peek()},hasInFlightChanges:function(e){return s.peek.hasChanges(e)},hasAnyLocalChanges:function(){return d.peek()},hasAnyInFlightChanges:function(){return s.peek.hasAnyChanges()}},serverState:function(){var e={read:a.peek.get,has:a.peek.has},t=a.get,n=a.set,r=a.has;return o?{read:t,write:n,has:r,peek:e,evict:o.evict}:{read:t,write:n,has:r,peek:e}}()}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return V})),n.d(t,"c",(function(){return z}));var r=n(1316),i=n(1413),a=n(1344),o=n(1415),s=n(1332),c=n(1317),l=n(1407),u=n(1587),d=n(1345),h=n(1336),f=n(1354),p=n(1576),g=n(1589),m=n(1403),v=n(1331),y=n(1371),_={mixinDependencies:[m.a,p.a],isValid:Object(v.c)(y.a),wasRemoved:Object(v.c)(y.a),shouldObserveChanges:!0},b=g.a.extend(_,p.a,{position:Object(p.g)(),source:Object(p.g)(),isValid:Object(p.g)({dependencies:["wasRemoved","source.length","position"],get:Object.assign((function(){return!this.wasRemoved&&this.__s._$DQ$get.apply(this,arguments)}),{__CW__getter:function(e,t,n,r){return!r.internalGet(this,t[0+n])&&this.__s._$DQ$get.apply(this,arguments)}}),__superMap:{_$DQ$get:"get"}}),value:Object(p.g)({dependencies:["position","source","wasRemoved"],writeDependencies:[],get:Object.assign((function(){return this.wasRemoved?this._previousValue:this.__s._$Ip$get.apply(this,arguments)}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[2+n])?this._previousValue:this.__s._$Ip$get.apply(this,arguments)}}),set:function(e){if(this.wasRemoved)return this._previousValue=e,e;var t=this.shouldObserveChanges;this.shouldObserveChanges=!1;var n=this.__s._$OQ$set.apply(this,arguments);return this.shouldObserveChanges=t,n},__superMap:{_$Ip$get:"get",_$OQ$set:"set"}}),remove:function(){var e=this.shouldObserveChanges;this.shouldObserveChanges=!1;var t=this.__s._$Sh$remove.apply(this,arguments);return this.shouldObserveChanges=e,this.propertyChanged("value"),t},initFromPool:function(){this.__s._$Vd$initFromPool.apply(this,arguments),this.source._registerIterator(this)},cleanup:function(){this.wasRemoved=!1,this.source._unregisterIterator(this),this.__s._$Yn$cleanup.call(this)},wasRemoved:Object(p.g)(!1),_previousValue:Object(p.g)(),moveTo:function(){return this.wasRemoved=!1,this.__s._$dV$moveTo.apply(this,arguments)},__superMap:{_$Sh$remove:"remove",_$Vd$initFromPool:"initFromPool",_$Yn$cleanup:"cleanup",_$dV$moveTo:"moveTo"},staticMembers:{__QUALIFIED_CLASS_NAME__:"ObservableArrayIterator"}}),w=n(1594),S=n(1401),E=n(1412),I={mixinDependencies:[w.a,S.a],contentsDidChange:E.a.define(),length:y.a.define()},C=n(1334),O=n(1368),T=n(1330),A=T.a.extend(p.a,{HandleClass:Object(u.c)({readOnly:!0}),source:Object(u.c)({weak:!0}),startHandle:O.a.define(),delegate:Object(p.g)(),staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseHandleProvider"}}).extend({endHandle:O.a.define(),staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseBidirectionalHandleProvider"}}).extend({at:C.a.define(),startHandle:Object(u.c)({readOnly:!0,get:function(){return this.at(0)}}),endHandle:Object(u.c)({readOnly:!0,get:function(){return this.at(this.source.length-1)}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseRandomAccessHandleProvider"}}),N=n(1320),M=n(1414),D=T.a.extend(N.a,M.a,{initFromPool:function(e,t,n){n=n||0,this.encodedValue=e.encodedObjectAt(n),this._position=n,this.__s._$HC$initFromPool.call(this,e,t)},didEnterPool:function(){this._wasRemoved=!1,this.encodedValue=void 0,this._position=NaN,this._formerPosition=NaN,this._removalListeners.clear(),this.__s._$Lj$didEnterPool.call(this)},atDistance:function(e){if(this._wasRemoved){var t=this._formerPosition;return e>0?this.at(t+e-1):e<0?this.at(t+e):this}return this.__s._$Xo$atDistance.apply(this,arguments)},hasHandleAtDistance:function(e){if(this._wasRemoved){var t=this._formerPosition;return e>0?this.hasHandleAt(t+e-1):!(e<0)||this.hasHandleAt(t+e)}return this.__s._$kH$hasHandleAtDistance.apply(this,arguments)},encodedValue:Object(u.c)({strong:!0}),position:Object(u.c)({readOnly:!0,defaultValue:NaN}),maximumPosition:Object(u.c)({readOnly:!0,get:function(){return this.source.length-1}}),wasRemoved:Object(u.c)({readOnly:!0,defaultValue:!1}),_formerPosition:NaN,hasHandleAt:function(e){return e>=0&&e<=this.maximumPosition},_handleRemove:function(){var e=this,t=this._removalListeners;t.forEach((function(t){return t._handleWasRemoved(e)})),t.clear()},_applyRemove:function(e,t,n){if(this._wasRemoved){var r=this._formerPosition;if(r<e)return;this._formerPosition=r<t?e:r-n}else{var i=this._position;if(i<e)return;i<t?(this._formerPosition=e,this._wasRemoved=!0,this._handleRemove()):this._position=i-n}},_removalListeners:Object(d.b)(Set),_listenForRemoval:function(e){this._removalListeners.add(e)},_unlistenForRemoval:function(e){this._removalListeners.delete(e)},_applyInsert:function(e,t){if(this._wasRemoved){var n=this._formerPosition;if(n<e)return;this._formerPosition=n+t}else{var r=this._position;if(r<e)return;this._position=r+t}},__superMap:{_$HC$initFromPool:"initFromPool",_$Lj$didEnterPool:"didEnterPool",_$Xo$atDistance:"atDistance",_$kH$hasHandleAtDistance:"hasHandleAtDistance"},staticMembers:{__QUALIFIED_CLASS_NAME__:"OrderedListHandle"}}),R=n(1406),L=A.extend(p.a,{HandleClass:D,_handles:Object(d.b)(Array),_allHandles:Object(d.b)(Set),cachedHandleAt:function(e){var t=this._handles[e];if(t)return t},at:function(e){var t=this.cachedHandleAt(e);return t||(t=this._createHandle(e),this._registerHandle(t),t.retain(this,"initial retain").autorelease(this,"initial retain"))},_createHandle:function(e){return this.HandleClass.create(this.source,this,e)},handlesDidUpdate:Object(p.f)("source.contentsDidChange",(function(e){var t=this,n=e.context;if(n){var r=this._handles,i=n.length,a=n.lengthDelta,o=this.source.length-a;r.length<o&&(r.length=o);for(var s=0,c=function(){for(var e,a=n[s],o=a.operation,c=a.index,l=o===R.a.INSERT?1:-1;e=a.index,!(++s>=i)&&o===(a=n[s]).operation&&a.index-e===l;);var u=e;if(u<c){var d=u;u=c,c=d}var h=++u-c;if(o===R.a.REMOVE)r.length-h===0?r.length=0:r.splice(c,h),t._allHandles.forEach((function(e){return e._applyRemove(c,u,h)}));else{if(0===r.length)r.length=h;else for(var f=0,p=h;f<p;f+=32768){var g=Math.min(p-f,32768),m=[c,0];m.length=2+g,r.splice.apply(r,m)}t._allHandles.forEach((function(e){return e._applyInsert(c,h)}))}};s<i;)c()}})),_registerHandle:function(e){e.isValid&&(e.registerWeakReference(this,this._handleWasDisposed,e),this._allHandles.add(e),this._handles[e.position]=e)},_handleWasDisposed:function(e){e.wasRemoved||(this._handles[e.position]=void 0),this._allHandles.delete(e)},everythingChanged:Object(p.f)("source.everythingChanged",(function(){var e=this._handles;this._allHandles.forEach((function(t){t._applyRemove(t.position,t.position+1,0),e[t.position]=void 0})),e.length=this.source.length})),staticMembers:{__QUALIFIED_CLASS_NAME__:"OrderedListHandleProvider"}}),k={startHandle:Object(u.c)({readOnly:!0,get:function(){return this.handleProvider.startHandle}}),HandleProviderClass:null,handleProviderDelegate:Object(p.g)(),delegate:Object(p.g)(),handleProvider:Object(p.g)({strong:!0,readOnly:!0,get:function(){return this.HandleProviderClass.create({source:this,delegate:this.bindingFor("handleProviderDelegate")})}}),handleFor:function(e){return this.encodedHandleFor(this.encode(e))},encodedHandleFor:function(e){for(var t=this.startHandle.retain(this,"HandleSupport#encodedHandleFor");t.encodedValue!==e&&t.isValid;){var n=t.next.retain(this,"HandleSupport#encodedHandleFor");t.release(this,"HandleSupport#encodedHandleFor"),t=n}return t.autorelease(this,"HandleSupport#encodedHandleFor")}};function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}var F=R.a.INSERT,P=R.a.REMOVE,j=l.a.extend(p.a,I,k,{staticMembers:{INSERT:F,REMOVE:P,shouldAutomaticallySubclass:!0,__QUALIFIED_CLASS_NAME__:"ObservableArray"},isObservable:!0,firstItem:Object(p.g)({dependencies:["contentsDidChangeUntracked"],writeDependencies:[],get:function(){return this.objectAt(0)}}),lastItem:Object(p.g)({dependencies:["length","contentsDidChangeUntracked"],writeDependencies:[],get:Object.assign((function(){return this.objectAt(this.length-1)}),{__CW__getter:function(e,t,n,r){return this.objectAt(r.internalGet(this,t[0+n])-1)}})}),itemsWillChange:function(){this._ignoreCount>0||(f.a.pause(),this.changes||(this.changes=this.changesClass.acquire(this)))},itemsWereInserted:function(e,t){if(!(this._ignoreCount>0)&&!(t<=0)){var n,r,i=this.changes;if(B(this)){var a=e+(t-1);for(n=e;n<=a;n++)i.recordInsertion(n,this._array[n])}else i.lengthDelta+=t;var o,s,c=this._iterators;for(r=c.length,n=0;n<r;n++)(o=c[n]).shouldObserveChanges&&(s=o.position)>=e&&(o.position=s+t)}},itemsWillBeRemoved:function(e,t){if(!(this._ignoreCount>0)&&!(t<=0)){var n,r=this.changes,i=e+t;if(B(this))for(n=i-1;n>=e;n--)r.recordRemoval(n,this._array[n]);else r.lengthDelta-=t;var a,o,s,c=this._internalLength===t,l=this._iterators;for(n=0,a=l.length;n<a;n++)(o=l[n]).shouldObserveChanges&&(s=o.position,c?(o.position=void 0,o.wasRemoved=!0):s>=e&&(s<i?(o.position=void 0,o.wasRemoved=!0):o.position=s-t))}},itemsDidChange:function(){this._ignoreCount>0||(this.notifyIfNecessary(),f.a.resume())},notifyIfNecessary:function(){0===this._batchCount&&function(e){var t=e.changes;e.contentsDidChangeUntracked(),t&&(t.length||0!==t.lengthDelta)&&e._shouldFireLengthChange&&(0!==t.lengthDelta&&e.propertyChanged("length"),e.contentsDidChange(t))}(this)},_shouldFireLengthChange:!0,length:Object(p.g)({writeDependencies:["contentsDidChange","contentsDidChangeUntracked"],cacheable:!1,set:Object.assign((function(){if(this._shouldFireLengthChange=!1,this.__s._$2vJ$set.apply(this,arguments),this._shouldFireLengthChange=!0,0===this._batchCount){this.contentsDidChangeUntracked=void 0;var e=this.changes;e&&(this.contentsDidChange=e)}}),{__CW__setter:function(e,t,n,r,i){if(this._shouldFireLengthChange=!1,this.__s._$2vJ$set.apply(this,arguments),this._shouldFireLengthChange=!0,0===this._batchCount){n[1+r]=void 0;var a=this.changes;a&&(n[0+r]=a)}}}),didChange:function(){},__superMap:{_$2vJ$set:"set"},writeDependencySetPathMap:[!1,!1]}),sort:function(){this.beginBatchedChanges();var e=this.__s._$38I$sort.apply(this,arguments);return this.endBatchedChanges(),e},addEach:function(){this.beginBatchedChanges();var e=this.__s._$3B3$addEach.apply(this,arguments);return this.endBatchedChanges(),e},reverse:function(){this.beginBatchedChanges();var e=this.__s._$3Dp$reverse.apply(this,arguments);return this.endBatchedChanges(),e},changes:Object(u.c)(),changesClass:V,_batchCount:0,beginBatchedChanges:function(){this._batchCount++},endBatchedChanges:function(){if(this._batchCount--,this.notifyIfNecessary(),this._batchCount<0)throw new r.a("Mismatched batched changes in observable array: "+this,{array:this});this.notifyEverythingChangedIfNecessary()},swap:function(){this.beginBatchedChanges();var e=this.__s._$3dN$swap.apply(this,arguments);return this.endBatchedChanges(),e},move:function(){this.beginBatchedChanges();var e=this.__s._$3hJ$move.apply(this,arguments);return this.endBatchedChanges(),e},contentsDidChange:Object(p.i)({didPropagate:function(){if(0===this._batchCount){var e=this.changes;e&&(this.changesClass.returnToPool(e),this.changes=null)}}}),iteratorClass:b,serializer:Object(p.g)(),_iterators:Object(d.b)(Array),_registerIterator:function(e){this._iterators.push(e)},_unregisterIterator:function(e){Object(i.a)(e,this._iterators)},contentsDidChangeUntracked:Object(p.i)(),HandleProviderClass:L,encodedHandleFor:function(e){var t=this.encodedIndexOf(e);return this.startHandle.atDistance(t)},_ignoreCount:0,beginIgnoringChanges:function(){this._ignoreCount++},endIgnoringChanges:function(){this._ignoreCount--,0===this._ignoreCount&&(this._notifyEverythingChanged=!0,this.notifyEverythingChangedIfNecessary())},notifyEverythingChangedIfNecessary:function(){0===this._batchCount&&this._notifyEverythingChanged&&(this.propertyChanged("length"),this.everythingChanged())},everythingChanged:Object(p.i)({didPropagate:function(){this._notifyEverythingChanged=!1}}),__superMap:{_$38I$sort:"sort",_$3B3$addEach:"addEach",_$3Dp$reverse:"reverse",_$3dN$swap:"swap",_$3hJ$move:"move"}}),U=[];function B(e){var t=e.downstreamNodes.contentsDidChange,n=f.a.getChildrenIDs(t,U).length>0;return U.length=0,n}function V(e){this.owner=e}V.fromArrays=function(e,t,n){var r=new V(n),i=n&&n.encode||a.a;if(!e||0===e.length){for(var s=0,c=t.length;s<c;s++)r.recordInsertion(s,i.call(n,t[s],s));return r}if(!t||0===t.length){for(var l=0,u=e.length;l<u;l++)r.recordRemoval(l,i.call(n,e[l],l));return r}for(var d=Math.min(e.length,t.length),h=0;h<d;h++)Object(o.a)(e[h],t[h])||(r.recordRemoval(h,i.call(n,e[h],h)),r.recordInsertion(h,i.call(n,t[h],h)));var f=t.length-e.length;if(f>0)for(var p=d;p<t.length;p++)r.recordInsertion(p,i.call(n,t[p],p));else if(f<0)for(var g=d;g<e.length;g++)r.recordRemoval(g,i.call(n,e[g],g));return r},V.prototype=Object.create(Array.prototype),V.prototype.lengthDelta=0,V.prototype.recordInsertion=function(e,t){this.push(G(this.owner,e,t,F)),this.lengthDelta++},V.prototype.recordRemoval=function(e,t){this.push(G(this.owner,e,t,P)),this.lengthDelta--},V.prototype.applyChanges=function(e){var t=this.length,n=Object(s.a)(e,l.a),r=Object(s.a)(e,j);if(n){r&&e.beginBatchedChanges();for(var i=0;i<t;i++){var a=this[i];a.operation===P?e.encodedSplice(a.index,1):e.encodedSplice(a.index,0,a.encodedItem)}r&&e.endBatchedChanges()}else for(var o=0;o<t;o++){var c=this[o];c.operation===P?e.splice(c.index,1):e.splice(c.index,0,c.item)}return e},V.prototype.reverseChanges=function(e){var t=this.length,n=Object(s.a)(e,l.a),r=Object(s.a)(e,j);if(n){r&&e.beginBatchedChanges();for(var i=t-1;i>=0;i--){var a=this[i];a.operation===P?e.encodedSplice(a.index,0,a.encodedItem):e.encodedSplice(a.index,1)}r&&e.endBatchedChanges()}else for(var o=t-1;o>=0;o--){var c=this[o];c.operation===P?e.splice(c.index,0,c.item):e.splice(c.index,1)}return e},V.prototype.clear=function(){for(var e=this.length;e--;){var t=this[e];delete this[e],t.reset(),$.length<K&&$.push(t)}this.length=0,this.lengthDelta=0},V.prototype.toString=function(){return"[ArrayChangeList("+this.length+"): "+this.join(", ")+"]"},V.prototype.get=function(e){return this[e]},V.prototype.set=function(e,t){return this[e]=t},V.prototype.objectAt=function(e){return this[e]};var W="StrongArrayChangeList: strong referencing change item",z=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,x(t,n);var i=r.prototype;return i.recordInsertion=function(t,n){Object(h.f)(n,this,W),e.prototype.recordInsertion.call(this,t,n)},i.recordRemoval=function(t,n){Object(h.f)(n,this,W),e.prototype.recordRemoval.call(this,t,n)},i.clear=function(){for(var t=this.length;t--;){var n=this[t];Object(h.e)(n.item,this,W)}e.prototype.clear.call(this)},r}(V);function H(e,t,n,r){this._sourceArray=e,this.index=t,this.encodedItem=n,this.operation=r}function G(e,t,n,r){if($.length>0){var i=$.pop();return i._sourceArray=e,i.index=t,i.encodedItem=n,i.operation=r,i}return new H(e,t,n,r)}H.prototype.reset=function(){this._sourceArray=null,this.encodedItem=null,this.index=null,this.operation=null},H.prototype.toString=function(){return"["+this.operation+"@"+this.index+":"+this.item+"]"},Object.defineProperty(H.prototype,"item",{get:function(){var e=this.encodedItem,t=this.index,n=this._sourceArray;return n&&n.decode&&(e=n.decode(e,t)),e},set:c.a}),Object.defineProperty(H.prototype,"object",{get:function(){return this.item},set:c.a});var $=[],K=100;V.pool=[],z.pool=[],V.acquire=function(e){if(this.pool.length){var t=this.pool.pop();return t.owner=e,t}return new this(e)},V.returnToPool=function(e){e.clear(),e.owner=null,this.pool.push(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var r=n(1330),i=n(1587),a=n(1338),o=n(1344),s=n(1391),c=n(1372),l=n(1576),u=n(1392),d=n(1393),h=n(1396),f={mixinDependencies:[l.a,h.a,u.a],staticMembers:{handler:d.a.create({nodeType:"ATTRIBUTE",generateLookupFunction:function(e,t){return o.a},register:function(e,t){var n=t.value;e.registerOutletAndSubOutlets(n,t)},render:function(e,t,n){var r=n.value;return"string"===typeof r?r:e.renderNodeAndSubNodes(r,t)}})}},p=n(1595),g=n(1332),m=n(1394),v=/(\w+):(\w+)/,y={mixinDependencies:[l.a,h.a,u.a],staticMembers:{handler:d.a.create({nodeType:"ATTRIBUTEOUTLET",generateLookupFunction:function(e,t){return o.a},register:function(e,t){var n=t.parent,r=n.key,i=n.namespace,a=Object(m.a)(t);Object(m.c)(e,t,(function(e,t){if(t=a(t),i)if(_(t)){var n=r.match(v)[2];e.removeAttributeNS(i,n)}else e.setAttributeNS(i,r,t);else _(t)?e.removeAttribute(r):e.setAttribute(r,t)}))},render:function(e,t,n){var r=e.prototype[n.name];return null!=(r=Object(g.a)(r,p.a)?"":r)?r:""}})}};function _(e){return null===e||void 0===e||e.toString===Object.prototype.toString||e.toString===Function.prototype.toString}var b=n(1405),w=n(1398),S=n(1580),E=n(1578),I=n(1316),C=n(1321),O={staticMembers:{init:function(){var e=this.prototype;e._removalHandlers=Object.create(e._removalHandlers),this.__s._$EG$init.apply(this,arguments)},_registerRemovalHandler:function(e,t){this.prototype._removalHandlers[e]=t},__superMap:{_$EG$init:"init"}},_removalHandlers:{},_removeChildView:function(e,t){return this._removalHandlers[e].removeChildView(this,e,t)},dispose:function(){for(var e in this._removalHandlers)this._removalHandlers[e].disposeOutlet(this,e);this.__s._$au$dispose.apply(this,arguments)},__superMap:{_$au$dispose:"dispose"}},T=S.a.create(),A=[],N=u.b.extend({nodeType:"MULTIVIEWOUTLET",register:function(e,t){var n=t.name;if(!n)throw new I.a("View template error: multi-view outlets (`<views>`) must specify a name (like `<views name='foo'>`).",{ViewClass:e});if(Object(C.a)(n).length>1)throw new I.a("View template error: multi-view outlets (`<views>`) must have a single key name. '%{name}' is a path.",{ViewClass:e,name:n});if(t.children&&t.children.length>0)throw new I.a("View template error: multi-view outlets (`<views>`) may not have child elements",{ViewClass:e});this.__s._$cK$register.call(this,e,t,!0);var r=t.contentsDidChangeNode=Object(h.b)(t);r.parent=t.parent,r.name=n+".contentsDidChange",e._registerRemovalHandler(n,this),Object(m.c)(e,t,(function(e,t){for(var r;r=e.firstChild;)R.call(this,n,e,r.view,r);if(t)for(var i=t.length,a=0;a<i;a++){var o=t.objectAt(a);r=o.element,D.call(this,n,e,o)}}),{get:function(e){return e||(e=E.b.create()),e},set:function(e){return Object(g.a)(E.b,e)||(e=E.b.create(e)),e}}),Object(m.c)(e,r,(function(e,t){if(t&&!this._isCleaningUpOutlets){var r,i,a=t.context;!function(e){for(var t=e.length,n=0;n<t;n++){var r=e[n],i=r.item;i.hasOwnProperty("_changeRefCount")||(i._changeRefCount=0),r.operation===E.b.REMOVE?i._changeRefCount--:i._changeRefCount++}}(a);var o,s=a.length;for(o=0;o<s;o++){var c=a.objectAt(o);if(r=c.object,c.operation===E.b.REMOVE&&r.hasOwnProperty("_changeRefCount")&&r._changeRefCount<0)R.call(this,n,e,r,r.element),delete r._changeRefCount;else if(r.hasOwnProperty("_changeRefCount")&&r._changeRefCount>0){var l=c.index;i=e.childNodes[l],T.set(r,l),D.call(this,n,e,r,i),delete r._changeRefCount}}this._isCleaningUpOutlets=!0;var u,d=this.get(n);for(o=0,s=d.length;o<s;o++){r=d.objectAt(o);var h=T.get(r);void 0!==h&&o!==h&&A.push(o)}if(A.length>0){for(d.beginBatchedChanges(),o=0,s=A.length;o<s;o++)d.removeAt(A[o]);d.endBatchedChanges(),A.length=0}for(T.clear(),this._isCleaningUpOutlets=!1,o=d.length-1;o>=0;o--){var f=(r=d.objectAt(o)).element;L(e,f,u),u=f}}}))},render:function(e,t,n){var r=n.attributes;if(r&&r.tagName){var i=r.tagName;delete r.tagName,n.tagname=i}else"views"===n.tagname&&(n.tagname="div");return this.__s._$2Le$render.apply(this,arguments)},removeChildView:function(e,t,n){var r=e[t];r.removeAt(r.indexOf(n))},disposeOutlet:function(e,t){if(e.getMetadata(t).readOnly||e.isDisposing){var n=e[t];if(!n||n.isDisposed)return;for(var r=0,i=n.length;r<i;r++){var a=n.objectAt(r);a&&!a.isDisposed&&(a.parent=null,a.parentKey="")}}else e[t]=null},__superMap:{_$cK$register:"register",_$2Le$render:"render"},staticMembers:{__QUALIFIED_CLASS_NAME__:"MultiViewOutletHandler"}}),M={mixinDependencies:[l.a,h.a,O],staticMembers:{handler:N.create()},_isCleaningUpOutlets:!1};function D(e,t,n,r){var i=n.parent;!i||i===this&&n.parentKey===e||i._removeChildView(n.parentKey,n);var a=n.element;return t.insertBefore(a,r||null),n.parent=this,n.parentKey=e,a}function R(e,t,n,r){return n&&!n.isDisposed&&(n.parent=null,n.parentKey=""),t.removeChild(r),r}function L(e,t,n){!n&&t===e.lastChild||n&&t===n.previousSibling||e.insertBefore(t,n||null)}var k=n(1395),x={mixinDependencies:[l.a,h.a,u.a],staticMembers:{handler:d.a.create({nodeType:"STYLEOUTLET",generateLookupFunction:function(e,t){return o.a},register:function(e,t){var n=t.unit||"",r=t.property,i=Object(m.a)(t);Object(m.c)(e,t,(function(e,t){t=i(t),n&&null!=t&&(t+=n),Object(k.a)(e,r,t)}))}})}},F=Symbol(),P={mixinDependencies:[l.a,h.a],staticMembers:{handler:d.a.create({nodeType:"DATAOUTLET",register:function(e,t){var n,r=Object(m.a)(t),i=t.attributes.escape;n="false"===i?function(e,t){t=r(t),e.innerHTML=null==t?"":t}:"dangerous"===i?function(e,t){var n=r(t);if(null!==n&&void 0!==n&&!0!==n[F])throw new I.a("All values passed to unescaped templates must be wrapped in hashes and flagged",{hash:n,rawValue:t,span:e});n&&null!=n.value?e.innerHTML=n.value:e.innerHTML=""}:function(e,t){t=r(t),e.data=null==t?"":t},Object(m.c)(e,t,n)},render:function(e,t,n){var r=n.attributes.escape;return"false"===r||"dangerous"===r?t.createElement("span"):t.createTextNode("\u200b")}})}},j={mixinDependencies:[h.a],staticMembers:{handler:d.a.create({nodeType:"TEXT",render:function(e,t,n){return t.createTextNode(n.data)}})}},U={mixinDependencies:[l.a,h.a,O],staticMembers:{handler:d.a.create({nodeType:"VIEWOUTLET",register:function(e,t){var n=t.name;if(!n)throw new I.a("View template error: view outlets (`<view>`) must specify a name (like `<view name='foo'>`).",{ViewClass:e});if(Object(C.a)(n).length>1)throw new I.a("View template error: view outlets (`<view>`) must have a single key name. '%{name}' is a path.",{ViewClass:e,name:n});if(!t.parent)throw new I.a("View template error: view outlets (`<view>`) may not be the root element in your template.",{ViewClass:e});var r="_previous_"+n;e._registerRemovalHandler(n,this),Object(m.c)(e,t,(function(e,t){var n=e.parentNode,r=e;return t?r=t.element:e.__cw__isTemplatePlaceholder__||(r=B(this.document)),r!==e&&n.replaceChild(r,e),r}),void 0,(function(e,t){var i=this[r];if(t!==i){if(i&&!i.isDisposed){var a=i.parent,o=i.parentKey;a===this&&o===n&&(i.isDisposed||(i.parent=null,i.parentKey=""))}if(t){var s=t.parent;s&&s._removeChildView(t.parentKey,t),t.parent=this,t.parentKey=n}this[r]=t}}))},render:function(e,t,n){return B(t)},removeChildView:function(e,t,n){e[t]=null},disposeOutlet:function(e,t){if(e.getMetadata(t).readOnly||e.isDisposing){var n=e[t];if(!n||n.isDisposed)return;n.parent=null,n.parentKey=""}else e[t]=null}})}};function B(e){var t=e.createElement("div");return t.__cw__isTemplatePlaceholder__=!0,t}var V=r.a.extend(s.b,c.a,u.a,f,y,b.a,M,x,P,j,U,w.a,{init:function(e){(e&&e.isRootView||this.isRootView)&&(this._isAttached=!1),this.__s._$yn$init.apply(this,arguments)},staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",attributes:{role:{key:"role",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaRole",attributes:{},attribute:"role"},type:"ATTRIBUTE"},"aria-label":{key:"aria-label",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaLabel",attributes:{},attribute:"aria-label"},type:"ATTRIBUTE"},"aria-labelledby":{key:"aria-labelledby",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaLabelledBy",attributes:{},attribute:"aria-labelledby"},type:"ATTRIBUTE"},"aria-describedby":{key:"aria-describedby",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaDescribedBy",attributes:{},attribute:"aria-describedby"},type:"ATTRIBUTE"},"aria-disabled":{key:"aria-disabled",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaDisabled",attributes:{},attribute:"aria-disabled"},type:"ATTRIBUTE"},"aria-hidden":{key:"aria-hidden",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaHidden",attributes:{},attribute:"aria-hidden"},type:"ATTRIBUTE"},"aria-controls":{key:"aria-controls",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaControls",attributes:{},attribute:"aria-controls"},type:"ATTRIBUTE"},id:{key:"id",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"id",attributes:{},attribute:"id"},type:"ATTRIBUTE"},"data-testid":{key:"data-testid",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"testID",attributes:{},attribute:"data-testid"},type:"ATTRIBUTE"}}}},__QUALIFIED_CLASS_NAME__:"View"},nextResponder:Object(i.c)({get:function(e){return e||this.parent}}),isRootView:!1,isAttached:Object(l.g)({dependencies:["parent.isAttached"],get:Object.assign((function(e){return Object(a.a)(e)?e:Boolean(this.getPath("parent.isAttached"))}),{__CW__getter:function(e,t,n,r){return Object(a.a)(e)?e:Boolean(r.internalGetPath(this,t[0+n]))}}),set:o.a}),parent:Object(l.g)(),parentKey:Object(l.g)(),ariaRole:Object(l.g)(),ariaLabel:Object(l.g)(),ariaLabelledBy:Object(l.g)(),ariaDescribedBy:Object(l.g)(),ariaDisabled:Object(l.g)(),ariaHidden:Object(l.g)(),ariaControls:Object(l.g)(),id:Object(l.g)(),testID:Object(l.g)(),__superMap:{_$yn$init:"init"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(1316),i=n(1401),a=n(1330),o=n(1332),s=n(1403),c=n(1587),l=a.a.extend(s.a,{_index:0,_original:null,_queue:null,_references:null,_clones:null,init:function(e,t){if(this.source=e,this.__s._$Rx$init.call(this),Object(o.a)(t,this.constructor)){this._original=t._original,this._container=t._container;var n=this._index=t._index;(this._clones=t._clones).push(this),this._queue=t._queue,(this._references=t._references)[n]++}else this._clones=[this],this._queue=[],this._references=[1],this._original=t,this.moveToNext()},moveToNext:function(){if(this._isValid){var e,t=this._index,n=this._queue,r=this._references;if(e=t<n.length?n[t]:this._advanceOriginal(),0===--r[t]&&0===t){r.shift(),n.shift();for(var i=this._clones,a=0,o=i.length;a<o;a++)i[a].index--}else t++;r[t]++,this._index=t,this._container=e}},add:function(e){if(this.isValid){var t,n=this._queue;if(0===n.length||!n[n.length-1].done)do{t=this._advanceOriginal()}while(!t.done)}return this._container={done:!1,value:e},!0},_advanceOriginal:function(){var e=this._original.next();return this._references.push(0),this._queue.push(e),e},_container:null,isValid:Object(c.c)({readOnly:!0,defaultValue:!0,get:function(){return!this._container.done}}),value:Object(c.c)({readOnly:!0,get:function(){return this.source.decode(this._container.value)}}),encodedValue:Object(c.c)({readOnly:!0,get:function(){return this._container.value}}),clone:function(){return this.constructor.create(this,this)},__superMap:{_$Rx$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"NativeIteratorWrapper"}}).extend({_iterator:null,clone:function(){return this.constructor.create(this._map,this)},staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseMapIterator"}}),u=n(1404),d=l.extend(u.a,{init:function(e,t){t||(t=e._map.entries()),this.__s._$A4$init.call(this,e,t)},add:function(e){var t=e[0],n=e[1],r=this.source;if(r.has(t))return!1;var i=this.__s._$DJ$add.apply(this,arguments);return r.set(t,n),i},remove:function(){if(this.isValid){var e=this.value;return this.source.delete(e[0]),this.moveToNext(),e}},value:Object(c.c)({readOnly:!1,set:function(e){var t=this.source,n=this._container.value;return t.delete(n[0]),this.add(e),e}}),__superMap:{_$A4$init:"init",_$DJ$add:"add"},staticMembers:{__QUALIFIED_CLASS_NAME__:"MapEntryIterator"}}),h=l.extend(u.a,{init:function(e,t){t||(t=e._map.keys()),this.__s._$9M$init.call(this,e,t)},add:function(e,t){var n=this.source;if(n.has(e))return!1;var r=this.__s._$Bn$add.apply(this,arguments);return n.set(e,t),r},remove:function(){if(this.isValid){var e=this.value;return this.source.delete(e),this.moveToNext(),e}},value:Object(c.c)({readOnly:!1,set:function(e){var t=this.source,n=this._container.value,r=t.get(n);return t.delete(n),this.add(e,r),e}}),__superMap:{_$9M$init:"init",_$Bn$add:"add"},staticMembers:{__QUALIFIED_CLASS_NAME__:"MapKeyIterator"}}),f=l.extend({init:function(e,t){t||(t=e._map.values()),this.__s._$88$init.call(this,e,t)},__superMap:{_$88$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"MapValueIterator"}}),p=n(1331),g=n(1345),m=c.a.extend({get:function(){return this._map.size},staticMembers:{__QUALIFIED_CLASS_NAME__:"SizeProperty"}});function v(e){return this._map.has(e)}function y(e){return this._map.delete(e)}var _=a.a.extend(i.a,{_map:Object(g.b)(Map),get:function(e){return this.decode(this.encodedGet(e))},encodedGet:function(e){return this._map.get(e)},set:function(e,t){return this.encodedSet(e,this.encode(t))},encodedSet:function(e,t){return this._map.set(e,t),this},encodedContains:function(e){for(var t=this.values().retain();t.isValid;){if(e===t.encodedValue)return t.release(),!0;t.moveToNext()}return t.release(),!1},forEach:function(e,t){for(var n=this.createIterator().retain();n.isValid;){var r=n.value;e.call(t,r[1],r[0],this),n.moveToNext()}n.release()},reduce:function(e,t,n){var i,a=this.createIterator().retain();if(arguments.length>=2)i=t;else{if(!a.isValid)throw new r.a("reduce of empty array with no initial value");i=a.value[1],a.moveToNext()}for(;a.isValid;){var o=a.value;i=e.call(n,i,o[1],o[0],this),a.moveToNext()}return a.release(),i},find:function(e,t){for(var n=this.createIterator().retain();n.isValid;){var r=n.value;if(e.call(t,r[1],r[0],this))return n.release(),r;n.moveToNext()}n.release()},every:function(e,t){for(var n=this.createIterator().retain();n.isValid;){var r=n.value;if(!e.call(t,r[1],r[0],this))return n.release(),!1;n.moveToNext()}return n.release(),!0},some:function(e,t){for(var n=this.createIterator().retain();n.isValid;){var r=n.value;if(e.call(t,r[1],r[0],this))return n.release(),!0;n.moveToNext()}return n.release(),!1},containsKey:v,has:v,removeKey:y,delete:y,clear:function(){this._map.clear()},length:Object(p.c)(m),size:Object(p.c)(m),iteratorClass:Object(c.c)({readOnly:!0,defaultValue:d}),keys:function(){return h.create(this)},values:function(){return f.create(this)},entries:function(){return d.create(this)},staticMembers:{__QUALIFIED_CLASS_NAME__:"CoreMap"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n(1330),i=n(1315),a=n(1387),o=n(1345),s=n(1587),c=n(1317),l=n(1316),u=n(1421),d=n(1576),h=n(1595),f=n(1372),p=n(1363),g=n(1420),m=n(1596),v=n(1419),y=n(1389),_=y.a.extend({appDocumentElement:window.document.documentElement,action:function(e){var t=this.appDocumentElement;!function(e){var t="data-";Object(v.a)(p.a.get("sharedInstance"),e,t),Object(v.a)(m.a.get("sharedInstance"),e,t)}(t);var n=g.a.sharedInstance;n.observe("locale",(function(e){Object(v.b)("lang",e,t)})),n.observe("isRTL",(function(e){var n=e?"rtl":"ltr";Object(v.b)("dir",n,t)})),t.setAttribute("data-primary-interaction-mode",e.primaryInteractionMode.toLowerCase())},staticMembers:{__QUALIFIED_CLASS_NAME__:"DocumentElementInitializer"}}),b=n(1583),w=n(1418),S=n(1575),E=n(1599),I=y.a.extend({dependencies:[w.a,S.a,E.a],action:function(e){var t=window.document.createElement("div");t.id="cw-aria-live-region",t.setAttribute("aria-live","polite");var n=t.style;n.position="fixed",n.top="-1px",n.width="1px",n.height="1px",n.overflow="hidden",e.rootElement.appendChild(t)},staticMembers:{__QUALIFIED_CLASS_NAME__:"AriaLiveRegionInitializer"}}),C=Object.freeze({MOUSE:"MOUSE",TOUCH:"TOUCH"}),O=p.a.sharedInstance,T=r.a.extend(d.a,f.a,{staticMembers:{application:Object(d.g)({weak:!0}),states:Object(i.b)("AppStates",(function(e){e("NEW"),e("INITIALIZING"),e("READY")})),exceptionHandler:function(e){var t=T&&T.application;if(t)return t.handleException.apply(t,arguments)},__QUALIFIED_CLASS_NAME__:"BaseApplication"},handleException:c.a,state:null,run:function(){var e=this;this.state=T.states.INITIALIZING;var t=this.Initializers.map((function(t){return t.create().run(e)}));return a.a.all(t).then((function(t){return e.state=T.states.READY,t})).catch((function(e){throw e}))},Initializers:Object(o.b)([b.a,I,_]),initializerPromises:Object(o.b)(Map),rootElement:window.document.body,primaryInteractionMode:Object(d.g)({readOnly:!0,binding:Object(h.c)("_cw_primaryInteractionMode")}),_cw_primaryInteractionMode:Object(d.g)({readOnly:!0,defaultValue:O.isiPhone||O.isiPad||"coarse"===O.pointer?C.TOUCH:(O.pointer,C.MOUSE)}),rootViewController:Object(d.g)({defaultValue:null,strong:!0}),getRootViewController:null,_paneManager:Object(d.g)(),nextResponder:Object(s.c)({get:function(){return this.rootResponder}}),rootResponder:null,presentViewController:function(e){return this._paneManager.presentViewController(e)},dismissViewController:function(e){return this._paneManager.dismissViewController(e)},addPane:function(e,t){this.get("_paneManager").addPane(e,t)},removePane:function(e){this.get("_paneManager").removePane(e)},bringToFront:function(e){this.get("_paneManager").removePane(e)},activePane:Object(d.g)({binding:Object(h.c)("_paneManager.activePane"),readOnly:!0}),topFocusablePane:Object(d.g)({binding:Object(h.c)("_paneManager.topFocusablePane"),readOnly:!0}),topFocusLayer:Object(d.g)({binding:Object(h.c)("_paneManager.topFocusLayer"),readOnly:!0}),appHasFocus:Object(d.g)({binding:Object(h.c)("_paneManager.appHasFocus"),readOnly:!0}),writeTextToAriaLiveRegion:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"polite",n=window.document.getElementById("cw-aria-live-region");n.setAttribute("aria-live",t),n.textContent=e},init:function(){if(T.application)throw new l.a("Only one application may be instantiated per JS context.");this.__s._$3u_$init.apply(this,arguments),this.state=T.states.NEW,T.application=this},__superMap:{_$3u_$init:"init"}});Object(u.b)(T)},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(1587),i=n(1387),a=n(1332),o=n(1316);function s(e,t,n){null===n||void 0===n?delete e[t]:e[t]=n}var c=n(1304),l=n(1576),u=n(1439),d=n(1330),h=n(1438),f=0,p=d.a.extend(l.a,{id:Object(r.c)({get:function(){return this._id||(this._id=++f)}}),body:null,bodySerializer:Object(r.c)(h.a.sharedInstance),timeout:null,state:Object(l.g)(u.b.UNSENT),staticMembers:{__QUALIFIED_CLASS_NAME__:"Message"}}),g=n(1319);function m(e,t){if("number"!==typeof e||"undefined"!==typeof t&&"number"!==typeof t)throw new o.a("Must only provide numbers as params.");if(0===e)return"0 bytes";var n="undefined"===typeof t?2:t,r=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,r)).toFixed(n)+" "+["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}var v=d.a.extend(l.a,{staticMembers:{setAsMirror:function(e,t){e.didChange=function(){t.beginBatchSet().set("bytesTotal",e.bytesTotal).set("bytesTransferred",e.bytesTransferred).set("isDeterminate",e.isDeterminate).end()}},__QUALIFIED_CLASS_NAME__:"NetworkProgress"},init:function(){this.__s._$PZ$init.apply(this,arguments),this._children=[],this._childListeners={},this.set("childPropertiesToObserve",["bytesTransferred","bytesTotal","isDeterminate"])},isComposite:Object(l.g)({defaultValue:!1}),addChild:function(e){if(!e.instanceOf(v))throw new o.a("Must provide a Progress instance.");for(var t=this,n=Object(g.a)(e),r=t._childListeners,i=this.childPropertiesToObserve,a=function(e){t.childDidChange()},s=0,c=i.length;s<c;s++){var l=i[s],u=r[n]||[],d=e.observe(l,a);u.push(d),r[n]=u}this._children.push(e),this.set("isComposite",!0),this.childDidChange()},removeChild:function(e){var t=this._children;if(!e.instanceOf(v))throw new o.a("Must provide a Progress instance.");var n=this._childListeners[Object(g.a)(e)];n&&n.forEach((function(e){e.disconnect()}));var r=t.indexOf(e);-1!==r&&t.splice(r,1),0===t.length&&this.beginBatchSet().set("isComposite",!1).set("bytesTotal",0).set("bytesTransferred",0).set("isDeterminate",!1).end(),this.childDidChange()},removeChildren:function(){for(var e;e=this._children.pop();)this.removeChild(e)},childDidChange:Object(l.i)(),childPropertiesToObserve:null,bytesTransferred:Object(l.g)({defaultValue:0}),bytesTotal:Object(l.g)({defaultValue:0}),isDeterminate:Object(l.g)({defaultValue:!1}),setMultipleValues:function(e){var t=this.beginBatchSet();for(var n in e)e.hasOwnProperty(n)&&t.set(n,e[n]);t.end()},bitRateString:Object(l.g)({readOnly:!0,dependencies:["bytesPerSecond"],get:Object.assign((function(){return(m(this.bytesPerSecond)+"ps").replace("bytes","B")}),{__CW__getter:function(e,t,n,r){return(m(r.internalGet(this,t[0+n]))+"ps").replace("bytes","B")}})}),bytesPerSecond:Object(l.g)({readOnly:!0,dependencies:["bytesTransferred","percentComplete"],get:Object.assign((function(){var e=this.get("_startTime"),t=Date.now();"undefined"===typeof e&&(this.set("_startTime",t),e=t);var n=(t-e)/1e3;return 0===n?0:this.bytesTransferred/n}),{__CW__getter:function(e,t,n,r){var i=this.get("_startTime"),a=Date.now();"undefined"===typeof i&&(this.set("_startTime",a),i=a);var o=(a-i)/1e3;return 0===o?0:r.internalGet(this,t[0+n])/o}})}),percentComplete:Object(l.g)({readOnly:!0,dependencies:["bytesTotal","bytesTransferred","isDeterminate"],get:Object.assign((function(){var e=this.bytesTransferred,t=this.bytesTotal;return t&&0!==t?e/t:0}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[1+n]),a=r.internalGet(this,t[0+n]);return a&&0!==a?i/a:0}})}),toString:function(){return("[Progress Instance #"+Object(g.a)(this)+"] "+100*this.get("percentComplete")+"% ("+this.get("bytesTransferred")+" of "+this.get("bytesTotal")+") "+(this.get("isDeterminate")?"":"???")).trim()},didChange:Object(l.i)(),_startTime:null,_valuesDidChange:Object(l.h)("bytesTransferred","bytesTotal","isDeterminate",(function(){this.didChange(arguments)})),_children:null,_childListeners:null,_calculateCompositeChildValues:Object(l.h)("childDidChange",(function(){if(this.get("isComposite")){for(var e=this.get("childPropertiesToObserve"),t=this._children,n=this.beginBatchSet(),r=0,i=e.length;r<i;r++){for(var a=e[r],o=0,s=0,c=t.length;s<c;s++)o+=t[s][a];n.set(a,o)}t.length||n.set("isComposite",!1),n.end()}})),__superMap:{_$PZ$init:"init"}}),y=n(1436),_=n(1590),b=n(1440),w=p.extend({staticMembers:{nextRequestSequenceNumber:1,requestLoggingLevel:null,__QUALIFIED_CLASS_NAME__:"Request"},URLClass:y.a,url:Object(l.g)({get:function(){return this._urlObject},set:function(e){var t;if(e){var n=this.URLClass;t=Object(a.a)(e,n)?e:n.create(e)}this._urlObject=t}}),method:u.a.GET,useCredentialsIfCrossOrigin:!1,bodySerializer:Object(r.c)(b.a.sharedInstance),response:Object(l.g)(),responseSerializer:Object(r.c)({get:function(){return this._responseSerializer||this.get("serializer")}}),isCrossDomain:Object(r.c)({readOnly:!0,get:function(){var e=this.get("url");if(!e)return!1;var t=e.get("protocol"),n=e.get("host");if(!n)return!1;var r=window.location;return r.protocol!==t||r.host!==n}}),transport:Object(r.c)({get:function(e){return e||_.a.get("sharedInstance")}}),allowsCredentialsInURL:!1,shouldTrackUploadProgress:Object(l.g)({defaultValue:!1,didChange:function(){if(this.state!==u.b.UNSENT)throw new o.a("Cannot change `shouldTrackUploadProgress` once a request is sent.")}}),shouldTrackProgress:Object(l.g)({defaultValue:!1,didChange:function(){if(this.state!==u.b.UNSENT)throw new o.a("Cannot change `shouldTrackProgress` once a request is sent.")}}),uploadProgress:Object(l.g)({readOnly:!0,dependencies:["shouldTrackUploadProgress"],get:Object.assign((function(){return this.shouldTrackUploadProgress?v.create():null}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])?v.create():null}})}),progress:Object(l.g)({readOnly:!0,dependencies:["shouldTrackProgress"],get:Object.assign((function(){return this.shouldTrackProgress?v.create():null}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])?v.create():null}})}),_fireDidProgress:Object(l.f)("progress.didChange","uploadProgress.didChange",(function(){this.triggerStatusEvent(u.b.PROGRESS)})),headers:Object(r.c)(),setHeader:function(e,t){var n=this.get("headers");if(!n){if(null==t)return;n={}}s(n,e,t),this.set("headers",n)},setMultipleHeaders:function(e){var t=this.get("headers")||{};for(var n in e)s(t,n,e[n]);this.set("headers",t)},removeHeader:function(e){this.setHeader(e,null)},on:function(e,t){E(this,e,t)},onStatus:function(e,t){if(!/^[\d*]{3}$/.test(e))throw new o.a(e+" is an invalid status code listener for request",this);E(this,e,t)},delegate:null,sequenceNumber:Object(r.c)({readOnly:!0,defaultValue:function(){return this.constructor.nextRequestSequenceNumber++}}),sentAt:null,willSend:null,didSend:null,didProgress:null,didSucceed:null,didAbort:null,didFail:null,didComplete:null,shouldFinalizeWithResponse:null,_logRequestIfAppropriate:function(){this.sentAt=window.performance.now();var e,t=this.constructor.requestLoggingLevel;t&&(e=this.get("bodyShouldBeLogged")?this.get("encodedBody")||"(empty)":"(omitted)",c.b[t]("--\x3e Request "+this.get("sequenceNumber")+": "+this.get("method")+" to "+this.getPath("url.href")+", headers: "+(this.get("headers")||"(empty)")+", body: "+e))},bodyShouldBeLogged:!1,_logResponseIfAppropriate:function(){var e=this.constructor.requestLoggingLevel,t=this.get("sequenceNumber");if(e)if(this.get("state")!==u.b.TIMEDOUT){var n,r=this.get("response"),i=window.performance.now()-this.sentAt;n=this.get("bodyShouldBeLogged")?r.get("encodedBody")||"(empty)":"(omitted)",c.b[e]("<-- Response "+t+": "+r.get("status")+" ("+i+"ms), headers: "+(r.get("headers")||"(empty)")+", body: "+n)}else c.b[e]("<-- Response "+t+": (timed out)")},send:function(){var e=this._promise=i.a.create();return S(this),e},sendSynchronously:function(){if(this.get("timeout"))throw new o.a("Cannot send a synchronous request with a timeout",this);S(this,!0)},abort:function(){if(this.get("state")===u.b.SENDING){var e=this.get("transport");this.get("method")!==u.a.GET&&c.b.warn("A non-GET network request was aborted. Data may have already been changed on the server.",this),e.abort(this),this.set("state",u.b.ABORTED),this.triggerStatusEvent(u.b.ABORTED),this.finalize()}},triggerStatusEvent:function(e){var t,n,r,i,a=this.get("delegate")||this,o=this._statusEventListeners;if(e===u.b.SENT&&this._logRequestIfAppropriate(),e===u.b.COMPLETED&&this._logResponseIfAppropriate(),(n=a[e])&&n.call&&n.call(a,this),o&&(t=o[e]))for(r=0,i=t.length;r<i;r++)(n=t[r])&&n(this);var s=this._promise;s&&(e===u.b.SUCCEEDED?(this._promise=void 0,s.resolve(this.response)):e===u.b.FAILED&&(this._promise=void 0,s.reject(this.response)))},triggerStatusEvents:function(){for(var e=0,t=arguments.length;e<t;e++)this.triggerStatusEvent(arguments[e])},finalize:function(){this._isFinalized=!0,this.get("transport").finalize(this),this.triggerStatusEvent(u.b.FINALIZED),delete this._statusEventListeners},toJSON:function(){return this.getPropertiesAsObject("url","method","body","headers","response")},_promise:Object(r.c)()});function S(e,t){if(e.get("state")!==u.b.UNSENT||e._isFinalized)throw new o.a("Cannot send a request more than once",e);var n=e.get("url");if(!n)throw new o.a("Cannot send a request without a URL",e);if(n.get("auth")&&!e.get("allowsCredentialsInURL"))throw new o.a("This request is not allowed to use authentication",e);var r=e.get("transport");e.set("state",u.b.SENDING),e._synchronous=t,r.send(e)}function E(e,t,n){var r=e._statusEventListeners||(e._statusEventListeners={});(r[t]||(r[t]=[])).push(n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n(1389),i=n(1596),a=n(1587),o=n(1387),s=n(1345),c=n(1330),l=n(1576),u=n(1595),d={mixinDependencies:[n(1391).a],isInFocusableLayer:Object(l.g)(Object(u.c)("isFocusableLayer")),isInFocusedLayer:Object(l.g)(Object(u.c)("isFocusedLayer")),isInFocusedBranch:Object(l.g)({readOnly:!0,dependencies:["isInFocusedLayer"],get:Object.assign((function(){return this.isInFocusedLayer}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])}})}),isFocusableLayer:Object(l.g)({readOnly:!1,defaultValue:!1}),wantsFocus:Object(l.g)(Object(u.c)("parent.wantsFocus")),isFocusedLayer:Object(l.g)({readOnly:!0,dependencies:["isFocusableLayer","wantsFocus"],get:Object.assign((function(){return this.isFocusableLayer&&this.wantsFocus}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])&&r.internalGet(this,t[1+n])}})}),focusResponder:Object(l.g)({dependencies:["focusedChild","focusedChild.focusResponder","isFocusableLayer"],readOnly:!0,get:Object.assign((function(){return this.isFocusableLayer?this.focusedChild&&this.focusedChild.focusResponder||(this.isFocusable?this:null):null}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[2+n])?r.internalGet(this,t[0+n])&&r.internalGetPath(this,t[1+n])||(this.isFocusable?this:null):null}})}),_previousFocusableLayerState:!1},h=c.a.extend(d,{staticMembers:{__QUALIFIED_CLASS_NAME__:"FocusLayer"}}),f=n(1598),p=n(1416),g=n(1390),m=n(1579),v=n(1316),y=g.a.extend(d,{viewClass:m.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"MULTIVIEWOUTLET",tagname:"views",name:"panes"}],classes:["cw-pane-container"]}}}}),application:null,nextResponder:Object(a.c)({get:function(){return this.application}}),wantsFocus:Object(l.g)({defaultValue:!0}),presentViewController:function(e){return this.addPane(e),o.a.resolve()},dismissViewController:function(e){return this.removePane(e),o.a.resolve()},addPane:function(e,t){if(!e)throw new v.a("Must pass a pane to addPane");e.retain();var n=this._paneStack;if(-1!==n.indexOf(e))throw new v.a("Cannot add duplicate pane onto stack",{pane:e});e.willMoveToParentViewController(this),null===e.presentingViewController&&(e.presentingViewController=this),t?e.view.parent=this.view:this.view.panes.push(e.view),this.addChildViewController(e),this._addFocusLayerToPane(e),n.push(e),this.propertyChanged("activePane"),e.shouldFocusPaneOnAttach&&e.focus(),e.didMoveToParentViewController(this),e.release()},_addFocusLayerToPane:function(e){var t=this._paneStack,n=t.length;if(e.inheritsFocusLayer&&0!==n){for(var r,i=n-1;i>=0;i--){var a=t[i];if(a.isFocusablePane){r=a.focusParent;break}}if(!r)throw new v.a("Cannot find a focus layer to inherit",{pane:e,paneStack:t});e.focusParent=r}else{var o=h.create().retain(this,"A new focus layer managed by the PaneManager");o.parent=this,e.focusParent=o}e.focusParent.defaultFocusChild=e},removePane:function(e){if(!e)throw new v.a("Must pass a pane to removePane");e.retain();var t=this._paneStack;if(0===t.length)throw new v.a("Cannot remove pane from empty pane stack",{pane:e});var n=t.indexOf(e);if(-1===n)throw new v.a("Cannot remove pane; not a current pane",{pane:e});e.willMoveToParentViewController(null),e.presentingViewController=null,t.splice(n,1),this.view.panes.remove(e.view),this.removeChildViewController(e),this.propertyChanged("activePane"),this._removeFocusLayerFromPane(e),e.didMoveToParentViewController(null),e.release()},_removeFocusLayerFromPane:function(e){var t=e.focusParent,n=this.topFocusLayer;t!==n&&t?t.release(this,"A new focus layer managed by the PaneManager"):n&&n!==this&&(n.defaultFocusChild=this.topFocusablePane),e.focusParent=null},bringToFront:function(e){var t=this._paneStack,n=t.indexOf(e);if(-1===n)throw new v.a("Cannot bring to front; not a current pane",{pane:e});t.splice(n,1),t.push(e),this.propertyChanged("activePane")},activePane:Object(l.g)({cacheable:!1,readOnly:!0,get:function(){var e=this._paneStack;return e[e.length-1]}}),focusTopFocusLayer:function(){var e=this.topFocusLayer;(!e.isFocusedLayer||!e.focus(!0))&&_()},topFocusablePane:Object(l.g)({cacheable:!1,readOnly:!0,dependencies:["activePane"],get:function(){for(var e=this._paneStack,t=e.length-1;t>=0;t--){var n=e[t];if(n.isFocusablePane)return n}return this}}),topFocusLayer:Object(l.g)({cacheable:!1,readOnly:!0,dependencies:["activePane"],get:function(){for(var e=this._paneStack,t=e.length-1;t>=0;t--){var n=e[t];if(n.isFocusablePane)return n.focusParent}return this},didChange:function(e){var t=this._previousTopFocusLayer;if(t&&(t._previousFocusableLayerState=t.isFocusableLayer,t.isFocusableLayer=!1),e){var n=e._previousFocusableLayerState;e.isFocusableLayer=n}this._previousTopFocusLayer=e,this.focusTopFocusLayer()}}),_previousTopFocusLayer:null,focusReleasedInApp:function(){var e=i.a.sharedInstance;return e.isIE||e.isFirefox?this._focusReleasedTimer.start():(this.wantsFocus=!1,_()),!0},_focusReleasedTimer:Object(a.c)(Object(s.b)(p.a,{delay:0,action:"_checkActiveElementAgainstFocusResponderAndKillBrowserFocus"})),_checkActiveElementAgainstFocusResponderAndKillBrowserFocus:function(){this._checkActiveElementAgainstFocusResponder(!0)},appHasFocus:Object(l.g)({binding:Object(u.c)("topFocusLayer.isFocusableLayer"),readOnly:!0}),appLostFocus:function(){var e=i.a.sharedInstance;return e.isIE||e.isFirefox?this._appLostFocusTimer.start():this.topFocusLayer.isFocusableLayer=!1,!0},_appLostFocusTimer:Object(a.c)(Object(s.b)(p.a,{delay:0,action:"_checkActiveElementAgainstFocusResponder"})),_checkActiveElementAgainstFocusResponder:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=document.activeElement;Object(f.b)(t)===this.topFocusLayer.focusResponder&&document.hasFocus()||(this.topFocusLayer.isFocusableLayer=!1,e&&_())},appGainedFocusability:function(){return this.topFocusLayer.isFocusableLayer=!0,!0},appWantsFocus:function(){return this.wantsFocus=!0,!0},didReceiveFocus:function(e){return null===e.relatedTarget&&this.appGainedFocusability(),this.focusTopFocusLayer(),!0},_paneStack:Object(s.b)(Array),staticMembers:{__QUALIFIED_CLASS_NAME__:"PaneManager"}});function _(){var e,t=i.a.sharedInstance;if(t.isIE||t.isEdge)try{(e=document.activeElement)&&e.blur&&e.blur()}catch(n){}else(e=document.activeElement)&&e.blur&&e.blur()}var b=n(1418),w=n(1575),S=n(1599),E=r.a.extend({staticMembers:{paneManagerClass:y,__QUALIFIED_CLASS_NAME__:"PaneManagerInitializer"},dependencies:[b.a,w.a,S.a],action:function(e){var t=this.constructor.paneManagerClass.create({isRootViewController:!0,application:e});e._paneManager=t,t.willAttach(),e.rootElement.appendChild(t.view.element),t._setIsAttached(!0),t.view.isAttached=!0,t.didAttach(),t.addPane(e.rootViewController)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(1390),i=n(1429),a=n(1395),o=n(1317),s=n(1576),c=n(1387),l=n(1581),u={show:function(){return this.isAttached?c.a.resolve():this.paneManager.presentViewController(this)},hide:function(){return this.isAttached?this.paneManager.dismissViewController(this):c.a.resolve()},toggle:function(){return this.isAttached?this.hide(...arguments):this.show(...arguments)},paneManager:Object(s.g)({readOnly:!0,binding:l.a.bindingFor("application")}),isActivePane:Object(s.g)({readOnly:!0,dependencies:["paneManager.activePane"],get:Object.assign((function(){return this===this.getPath("paneManager.activePane")}),{__CW__getter:function(e,t,n,r){return this===r.internalGetPath(this,t[0+n])}})}),keyDown:function(e){var t=this._keyEquivalentViews;if(!t)return!1;for(var n=t.length;n--;){var r=t[n];!r.isDisposed&&r.isAttached&&r.keyEquivalent||t.splice(n,1)}return t.some((function(t){return t&&t.performKeyEquivalent&&t.performKeyEquivalent(e)}))},registerKeyEquivalent:function(e){var t=this._keyEquivalentViews||(this._keyEquivalentViews=[]);-1===t.indexOf(e)&&t.push(e)}},d=n(1331),h=n(1579).a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",name:"contentView"}]}},className:"cw-ui-popup-view",__QUALIFIED_CLASS_NAME__:"PopupView"}}),f=r.a.extend(u,{_appendedContentController:Object(d.c)(i.a,"contentView"),show:function(){return this._appendedContentController=this.contentController,this.__s._$16d$show.apply(this,arguments)},hide:function(){return this._appendedContentController=null,this.__s._$19K$hide.apply(this,arguments)},contentController:Object(s.g)({strong:!0}),viewClass:h,owningViewController:Object(s.g)(),wheel:function(e){e.stopPropagation()},willAttach:function(){var e=this.getPath("view.element");if(e){var t=Object(a.a)(e);return this._originalVisibility=t.get("visibility"),t.set("visibility","hidden"),this.__s._$1Uc$willAttach.apply(this,arguments)}},didAttach:function(){this.willAppear();var e=this.getPath("view.element");if(e)return Object(a.a)(e,{visibility:this._originalVisibility}),this._originalVisibility=null,this.didAppear(),this.__s._$1c5$didAttach.apply(this,arguments)},willAppear:o.a,didAppear:o.a,_originalVisibility:null,__superMap:{_$16d$show:"show",_$19K$hide:"hide",_$1Uc$willAttach:"willAttach",_$1c5$didAttach:"didAttach"},staticMembers:{__QUALIFIED_CLASS_NAME__:"PopupViewController"}})},function(e,t,n){"use strict";n.r(t),n.d(t,"MessagePortConnection",(function(){return r.a})),n.d(t,"MessagePortServiceConnection",(function(){return o})),n.d(t,"MessagePortServiceListener",(function(){return f})),n.d(t,"MessagePortServiceListenerConnectEvent",(function(){return h})),n.d(t,"JsonRpcConnection",(function(){return p.a})),n.d(t,"JsonRpcServiceListener",(function(){return b})),n.d(t,"JsonRpcServiceListenerConnectEvent",(function(){return _})),n.d(t,"JsonRpcServiceConnection",(function(){return w.a})),n.d(t,"serviceNode",(function(){return i.a}));var r=n(1470),i=n(1592);function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}var o=function(e){var t,n;function r(t,n){var r;(r=e.call(this,void 0,n)||this).serviceName=t;var a,o,s,c,l=i.a.connectToService(t,{serviceZone:null===n||void 0===n?void 0:n.serviceZone,serviceOrigin:null===n||void 0===n?void 0:n.serviceOrigin,connectionTimeout:null===n||void 0===n?void 0:n.connectionTimeout});return a=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r),o=void 0,c=function*(){var e=yield l;e?this.usePort(e):this.close()},new((s=void 0)||(s=Promise))((function(e,t){function n(e){try{i(c.next(e))}catch(n){t(n)}}function r(e){try{i(c.throw(e))}catch(n){t(n)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof s?i:new s((function(e){e(i)}))).then(n,r)}i((c=c.apply(a,o||[])).next())})),r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,a(t,n),r}(r.a),s=n(1471);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}function u(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,d(e,t)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}var h=function(e){function t(t,n){var r;return(r=e.call(this,"connect")||this).connection=t,r.source=n,r}return u(t,e),t}(s.Event),f=function(e){u(o,e);var t,n,a=o.prototype;function o(t,n){var a;return(a=e.call(this)||this).bufferedConnects=[],a.unregisterService=null,a.started=!1,a.closed=!1,a.connections=new Set,a.handleConnection=function(e,t){a.closed||(a.started?a.createConnection(e,t):a.bufferedConnects.push([e,t]))},a.handleConnectionStateChange=function(e){var t=e.target;t instanceof r.a&&"closed"===t.connectionState&&(t.removeEventListener("connectionstatechange",a.handleConnectionStateChange),a.connections.delete(t))},a._onconnect=null,a.__onconnect=null,a._onclose=null,a.__onclose=null,a.serviceName=t,a.options=n?Object.assign({},n):n,a.unregisterService=i.a.registerService(t,a.handleConnection,{serviceZone:null===n||void 0===n?void 0:n.serviceZone,connectionOrigin:null===n||void 0===n?void 0:n.connectionOrigin}),a}return a.broadcastMessage=function(e){for(var t of this.connections)t.postMessage(e)},a.start=function(){if(!this.closed&&!this.started){for(var e of(this.started=!0,this.bufferedConnects))this.createConnection(e[0],e[1]);this.bufferedConnects.length=0}},a.close=function(){var e;this.closed||(this.closed=!0,null===(e=this.unregisterService)||void 0===e||e.call(this),this.bufferedConnects.length=0,this.dispatchEvent(new s.Event("close")))},a.createConnection=function(e,t){var n,i,a,o=new r.a(e,{keepaliveTime:null===(n=this.options)||void 0===n?void 0:n.defaultConnectionKeepaliveTime,keepaliveInterval:null===(i=this.options)||void 0===i?void 0:i.defaultConnectionKeepaliveInterval,keepaliveRetry:null===(a=this.options)||void 0===a?void 0:a.defaultConnectionKeepaliveRetry});this.connections.add(o),o.addEventListener("connectionstatechange",this.handleConnectionStateChange);var s=new h(o,t);this.dispatchEvent(s),s.defaultPrevented&&o.close()},t=o,(n=[{key:"onconnect",get:function(){return this._onconnect},set:function(e){if(this._onconnect!==e&&(this.__onconnect&&this.removeEventListener("connect",this.__onconnect),this._onconnect=e,null!==e)){var t=function(t){return null===e||void 0===e?void 0:e(t)};this.__onconnect=t,this.addEventListener("connect",t)}}},{key:"onclose",get:function(){return this._onclose},set:function(e){if(this._onclose!==e&&(this.__onclose&&this.removeEventListener("close",this.__onclose),this._onclose=e,null!==e)){var t=function(t){return null===e||void 0===e?void 0:e(t)};this.__onclose=t,this.addEventListener("close",t)}}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(s.EventTarget),p=n(1472);function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function m(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}function v(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,y(e,t)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}var _=function(e){function t(t,n){var r;return(r=e.call(this,"connect")||this).connection=t,r.source=n,r}return v(t,e),t}(s.Event),b=function(e){function t(t,n){var r;return(r=e.call(this)||this).bufferedConnects=[],r.started=!1,r.closed=!1,r.unregisterService=null,r.connections=new Set,r.broadcastProxy=function(){var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r);return new Proxy({},{get:function(t,n,r){return function(){var t=[];for(var r of Array.from(e.connections))t.push(r.remoteObjectProxy[n](...arguments));return Promise.allSettled(t)}}})}(),r.handleConnection=function(e,t){r.closed||(r.started?r.createConnection(e,t):r.bufferedConnects.push([e,t]))},r.handleConnectionStateChange=function(e){var t=e.target;t instanceof p.a&&"closed"===t.connectionState&&(t.removeEventListener("connectionstatechange",r.handleConnectionStateChange),r.connections.delete(t))},r._onconnect=null,r.__onconnect=null,r._onclose=null,r.__onclose=null,r.serviceName=t,r.options=n?Object.assign({},n):n,r.unregisterService=i.a.registerService(t,r.handleConnection,{serviceZone:null===n||void 0===n?void 0:n.serviceZone,connectionOrigin:null===n||void 0===n?void 0:n.connectionOrigin}),r}v(t,e);var n,r,a=t.prototype;return a.start=function(){if(!this.closed&&!this.started){for(var e of(this.started=!0,this.bufferedConnects))this.createConnection(e[0],e[1]);this.bufferedConnects.length=0}},a.close=function(){var e;this.closed||(this.closed=!0,null===(e=this.unregisterService)||void 0===e||e.call(this),this.bufferedConnects.length=0,this.dispatchEvent(new s.Event("close")))},a.createConnection=function(e,t){var n,r,i,a=new p.a(e,{keepaliveTime:null===(n=this.options)||void 0===n?void 0:n.defaultConnectionKeepaliveTime,keepaliveInterval:null===(r=this.options)||void 0===r?void 0:r.defaultConnectionKeepaliveInterval,keepaliveRetry:null===(i=this.options)||void 0===i?void 0:i.defaultConnectionKeepaliveRetry});this.connections.add(a),a.addEventListener("connectionstatechange",this.handleConnectionStateChange);var o=new _(a,t);this.dispatchEvent(o),o.defaultPrevented&&a.close()},n=t,(r=[{key:"onconnect",get:function(){return this._onconnect},set:function(e){if(this._onconnect!==e&&(this.__onconnect&&this.removeEventListener("connect",this.__onconnect),this._onconnect=e,null!==e)){var t=function(t){return null===e||void 0===e?void 0:e(t)};this.__onconnect=t,this.addEventListener("connect",t)}}},{key:"onclose",get:function(){return this._onclose},set:function(e){if(this._onclose!==e&&(this.__onclose&&this.removeEventListener("close",this.__onclose),this._onclose=e,null!==e)){var t=function(t){return null===e||void 0===e?void 0:e(t)};this.__onclose=t,this.addEventListener("close",t)}}}])&&g(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(s.EventTarget),w=n(1469)},function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var r=n(1600),i=n(1587),a=n(1345),o=n(1387),s=n(1315),c=n(1576),l=n(1595),u=n(1316),d=n(1604),h=n(1436),f=n(1304),p=n(1605).a.extend({iframe:Object(c.g)({set:function(e,t){return this._previousIFrame=t,e},didChange:function(e){var t=this._previousIFrame,n=this._iframeDidLoad;if(t&&e!==t&&(t.removeEventListener("load",n),this._iframeDidLoad=null),e&&!this.outgoingWindow){var r=this._iframeDidLoad=function(){this._iframeIsLoaded(),e.removeEventListener("load",this._iframeDidLoad),this._iframeDidLoad=null}.bind(this);e.addEventListener("load",r)}}}),outgoingWindow:Object(c.g)({dependencies:["iframe","_iframeIsLoaded"],readOnly:!0,get:function(){var e=this.getPath("iframe.contentWindow");return e?{actualOutgoingWindow:e,postMessage:function(e,t){var n=this.actualOutgoingWindow;if(n.postMessage)return n.postMessage(e,t);f.b.warn("ChildWindowChannel: postMessage of "+e+" to detached iframe at "+t+" was ignored")}}:null}}),_iframeDidLoad:null,_iframeIsLoaded:Object(c.i)(),_previousIFrame:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"ChildWindowChannel"}}),g=n(1447),m=n(1343),v=n(1446),y=n(1591).a.extend({hasHandlerForProcedure:function(e){return Object(m.a)(b(e,this))},registerProcedure:function(e,t,n){!function(e,t,n,r){var i=r.channel,a=_.get(i);a||(a=new Map,_.set(i,a));var o=a.get(e);if(o)throw new u.a("A handler was already registered on this channel",{procedureName:e,registration:o});a.set(e,{listener:r,target:t,handlerMethodName:n})}(e,t,n=n||e,this)},registerProcedures:function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];Array.isArray(i)?this.registerProcedure(i[0],t,i[1]):this.registerProcedure(i,t)}},unregisterProcedure:function(e){var t=this.channel,n=_.get(t);n&&n.get(e).listener===this&&(n.delete(e),0===n.size&&n.delete(t))},unregisterProcedures:function(e){var t=this;e.forEach((function(e){t.unregisterProcedure(e)}))},unregisterAllProcedures:function(){var e=_.get(this.channel);if(e)for(var t,n=e.entries();t=n.next().value;){var r=t[0];t[1].listener===this&&e.delete(r)}},shouldHandleMessage:function(e){var t=this;return(Array.isArray(e)?e:[e]).filter((function(e){return e&&Object(m.a)(e.jsonrpc)&&e.jsonrpc===t.messageFormatter.jsonRpcVersion&&Object(m.a)(e.method)})).length>0},handleMessage:function(e){var t=this,n=Array.isArray(e),r=n?e:[e],i=o.a.wrapFunction(w),a=this.messageFormatter,s=[],c={};return r.forEach((function(e){var n=e.id,r=i(e,t).then((function(e){c[n]=function(e,t,n){if(Object(m.a)(t))return e.generateResultMessageFor(t,n)}(a,n,e)})).catch((function(e){if(c[n]=S(a,n,e),!(e instanceof v.b))throw e}));s.push(r)})),o.a.all(s).then((function(){return E(t,r,c,n)}),(function(e){throw E(t,r,c,n),e}))},dispose:function(){this.unregisterAllProcedures(),this.__s._$36r$dispose.call(this)},__superMap:{_$36r$dispose:"dispose"},staticMembers:{__QUALIFIED_CLASS_NAME__:"JsonRpcListener"}}),_=new Map;function b(e,t){var n=_.get(t.channel);if(n){var r=n.get(e);if(r&&r.listener===t)return r}return null}function w(e,t){if(t.isDisposed)return new Promise((function(){}));var n=e.method,r=e.params,i=void 0===r?[]:r;if(Object(m.a)(i)&&!Array.isArray(i)){var a="JSON-RPC calls in JavaScript cannot support `params` as an Object, only as an Array";throw f.b.error(a,e),new v.d(a,{message:e})}var o=b(n,t);if(!o){var s="The JSON-RPC registration was not found";throw f.b.error(s,e,t),new v.e(s,{message:e,listener:t})}var c=o.target;if(!c){var l="The JSON-RPC target was not found";throw f.b.error(l,e,t),new v.e(l,{message:e,listener:t})}var u=c[o.handlerMethodName];if(!u){var d="The JSON-RPC method was not found";throw f.b.error(d,e,t),new v.e(d,{message:e,listener:t})}return u.call(c,...i)}function S(e,t,n){if(Object(m.a)(t))return e.generateErrorMessageFor(t,n)}function E(e,t,n,r){var i=e.messageFormatter,a=[];if(t.forEach((function(e){var t=e.id;if(Object(m.a)(t)){var r=n[t];if(!r){var o=new v.c("The JSON-RPC call was part of a batch which failed due to a fatal error thrown by another call.");r=S(i,t,o)}a.push(r)}})),a.length>0){var o=r?a:a[0];e.channel.send(e.serializer.encode(o))}}var I=n(1317),C=2e3,O=r.a.extend({promise:i.c(a.b(o.a)),_primaryButtonClicked:function(e){this._showAlertResponse("primary")},_alternateButtonClicked:function(e){this._showAlertResponse("alternate")},_otherButtonClicked:function(e){this._showAlertResponse("other")},_showAlertResponse:function(e){this.promise.resolve({buttonClicked:e})},staticMembers:{__QUALIFIED_CLASS_NAME__:"HostedApplicationAlertViewController"}}),T=s.b("HostedApplicationState",{NOT_STARTED:"NOT_STARTED",STARTING:"STARTING",BEFORE_INACTIVE:"BEFORE_INACTIVE",INACTIVE:"INACTIVE",ACTIVE:"ACTIVE",BACKGROUND:"BACKGROUND"}),A={userInfo:c.g({type:Object,readOnly:!0,defaultValue:a.b(Object)}),processInfo:c.g({type:Object,readOnly:!0,defaultValue:a.b(Object)}),canShowAlert:c.g({type:Boolean,defaultValue:!0}),canReauthenticate:c.g({type:Boolean,defaultValue:!0}),canLaunchChildApp:c.g({type:Boolean,defaultValue:!0}),state:c.g({type:T,binding:l.c("_state"),readOnly:!0}),targetState:c.g({type:T,defaultValue:T.ACTIVE,didChange:function(){switch(this.targetState){case T.ACTIVE:case T.BACKGROUND:case T.NOT_STARTED:break;default:throw new u.a("HostedApplicationSupport: targetState can only be one of ACTIVE, BACKGROUND or NOT_STARTED.",{hostedApplication:this,url:this.urlWithRoute,targetState:this.targetState,state:this._state})}}}),route:c.g({type:String,defaultValue:""}),url:c.g({type:String}),urlWithRoute:c.g({readOnly:!0,dependencies:["url","route"],get:Object.assign((function(){var e=this.url,t=this.route;return t?e+"#"+t:e}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]),a=r.internalGet(this,t[1+n]);return a?i+"#"+a:i}})}),childAppClass:i.c({defaultValue:function(){return n(1459).HostedApplicationPopupViewController}}),childApps:i.c(a.b({})),appAlerts:i.c(a.b(Set)),parentApp:i.c({defaultValue:null,strong:!0}),appId:c.g({readOnly:!0,defaultValue:function(){return"I-"+d.a()}}),isAppRunning:c.g({type:Boolean,readOnly:!0,dependencies:["_state","_isIframeLoaded"],get:Object.assign((function(){var e=this._state,t=this._isIframeLoaded,n=T.NOT_STARTED,r=T.STARTING;return t&&e!==n&&e!==r}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]),a=r.internalGet(this,t[1+n]),o=T.NOT_STARTED,s=T.STARTING;return a&&i!==o&&i!==s}})}),isActive:c.g({dependencies:["_state"],readOnly:!0,get:Object.assign((function(){return this._state===T.ACTIVE}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])===T.ACTIVE}})}),hostAppOrigin:c.g({type:"string",dependencies:["url"],readOnly:!0,get:Object.assign((function(){return h.a.create(this.url).origin}),{__CW__getter:function(e,t,n,r){return h.a.create(r.internalGet(this,t[0+n])).origin}})}),channel:c.g({type:p,defaultValue:a.b(p),downstreamBindings:{remoteOrigin:"(owner).hostAppOrigin"}}),caller:c.g({type:g.a,defaultValue:a.b(g.a),downstreamBindings:{channel:"(owner).channel"}}),listener:c.g({type:y,defaultValue:a.b(y),downstreamBindings:{channel:"(owner).channel"}}),loadTimeout:i.c({defaultValue:3e4}),isReadyToReceiveMessages:c.i(),transition:I.a,authenticate:I.a,reauthenticate:I.a,didTimeout:function(){var e=this.iframeView,t=new u.a("HostedApplicationSupport: Timeout occurred on hosted app",{appId:e.appId,src:e.src});this.didEnd("UNCAUGHT_EXCEPTION",t)},didEnd:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.parentApp,r=this.appId,i=this.childApps,a=this.appAlerts;for(var o in n&&!n.isDisposed&&n.isAppRunning&&this.parentApp.childAppDidEnd(r,e,t),i)if(i.hasOwnProperty(o)){var s=i[o];!s.isDisposed&&s.isAppRunning&&s.parentAppDidEnd()}if(a.forEach((function(e){!e.isDisposed&&e.isAttached&&(f.b.warn("HostedApplicationSupport: Force removing the alert because app ended."),e.hide(),a.delete(e))})),this._stop(),"UNCAUGHT_EXCEPTION"===e){var c="HostedApplicationSupport: App did end with UNCAUGHT_EXCEPTION: "+(t.title||t.message||"Unknown Error");throw new u.a(c,{appId:this.appId,url:this.urlWithRoute,error:t})}},parentAppDidEnd:function(){this._state!==T.NOT_STARTED&&this.didEnd()},childAppDidBecomeActive:function(e){f.b.debug("HostedApplicationSupport: Notifying childAppDidBecomeActive()"),this.caller.sendNotification("childAppDidBecomeActive",e)},childAppDidEnd:function(e,t,n){f.b.debug("HostedApplicationSupport: Notifying childAppDidEnd()"),delete this.childApps[e],this.caller.sendNotification("childAppDidEnd",e,t,n)},init:function(){this.__s._$4co$init.apply(this,arguments),this.host.addHostedApplication(this);var e=this.appId,t=this.parentApp,n=this.processInfo;n.appId=e,t&&(n.parentHostedAppId=t.appId);var r=this.channel;void 0===r.remoteOrigin&&(r.remoteOrigin=this.hostAppOrigin),void 0===this.caller.channel&&(this.caller.channel=r),void 0===this.listener.channel&&(this.listener.channel=r),this.listener.registerProcedures([["isReadyToReceiveMessages","_isReadyToReceiveMessages"],["setTitle","_setTitle"],["didEnd","_didEnd"],["reportNonFatalError","_reportNonFatalError"],["sendApplicationPreferences","_sendApplicationPreferences"],["recordException","_recordException"],["willUnload","_willUnload"],["isReadyToTerminateDidChange","_isReadyToTerminateDidChange"],["reauthenticate","_reauthenticate"],["logOut","_logOut"],["reloadApplication","_reloadApplication"],["getHostingState","_getHostingState"],["openHelp","_openHelp"],["recordStat","_recordStat"],["beginStat","_beginStat"],["endStat","_endStat"],["setRoute","_setRoute"],["launchChildApp","_launchChildApp"],["showAlert","_showAlert"]],this)},dispose:function(){f.b.debug("HostedApplicationSupport: dispose()"),this.host.removeHostedApplication(this),this.__s._$5Ln$dispose.apply(this,arguments)},didDetach:function(){this.__s._$5V8$didDetach.apply(this,arguments),this._state!==T.NOT_STARTED&&this.didEnd()},becomeActive:function(){f.b.debug("HostedApplicationSupport: becomeActive");var e=T.ACTIVE,t=o.a.create();return N(this,e,(function(){return t.resolve()})),this.targetState!==e&&(this.targetState=e),t},enterBackground:function(){f.b.debug("HostedApplicationSupport: enterBackground");var e=T.BACKGROUND,t=o.a.create();return N(this,e,(function(){return t.resolve()})),this.targetState!==e&&(this.targetState=e),t},shouldRefreshData:function(){},hostingStateDidChange:function(e,t,n){},hostDidReceiveFocus:function(){},hostDidLoseFocus:function(){},relayEvent:function(){},routeDidUpdate:function(e){f.b.debug("HostedApplicationSupport: routeDidUpdate('"+e+"')"),this.isAppRunning&&this.caller.sendNotification("routeDidUpdate",e),this.route=e},_state:c.g({type:T,defaultValue:T.NOT_STARTED}),_isIframeLoaded:c.g({type:Boolean,readOnly:!0,dependencies:["channel.isDisconnected","isAttached"],get:Object.assign((function(){var e=this.channel;return this.isAttached&&e&&!e.isDisconnected}),{__CW__getter:function(e,t,n,r){var i=this.channel;return r.internalGet(this,t[1+n])&&i&&!i.isDisconnected}})}),_loadAndRunTimer:i.c(null),_isReadyToReceiveMessages:function(){f.b.debug("HostedApplicationSupport: Received isReadyToReceiveMessages"),this.isReadyToReceiveMessages()},_didEnd:function(e,t){var n=this;f.b.debug("HostedApplicationSupport: Received didEnd('"+e+"', '"+t+"')"),setTimeout((function(){!n.isDisposed&&n.isAppRunning&&n.didEnd(e,t)}),1)},_setTitle:function(){},_reportNonFatalError:function(){},_sendApplicationPreferences:function(){},_recordException:function(){},_isReadyToTerminateDidChange:function(){},_reauthenticate:function(){if(!this.canReauthenticate)throw f.b.debug("HostedApplicationSupport: Rejecting reauthenticate()"),new v.b("Did not have access to reauthenticate",C,{state:this._state.value});return f.b.debug("HostedApplicationSupport: Received reauthenticate()"),this.reauthenticate()},_logOut:function(e){f.b.debug("HostedApplicationSupport: Received logOut(shouldForce: "+e+")"),this.host.logOut(!!e)},_reloadApplication:function(){f.b.debug("HostedApplicationSupport: Received reloadApplication()"),this._reset();var e=o.a.create();return N(this,this.targetState,(function(){return e.resolve()})),e},_getHostingState:function(){},_openHelp:function(e){this.host.openHelp(e)},_recordStat:function(e,t){this.host.recordStat(e,t)},_beginStat:function(){},_endStat:function(){},_setRoute:function(e){this.route=e,this.host.setRouteForApp(this,e)},_launchChildApp:function(e){if(f.b.debug("HostedApplicationSupport: Received launchChildApp("+e+")"),!this.canLaunchChildApp)throw f.b.debug("HostedApplicationSupport: Rejecting launchChildApp()"),new v.b("Did not have access to launch child app.",C,{state:this._state.value});var t=this.childAppClass.create({url:e,host:this.host,parentApp:this}),n=t.appId;return this.childApps[n]=t,t.show(),n},_showAlert:function(e){var t=this;if(f.b.debug("HostedApplicationSupport: Received showAlert()"),!this.canShowAlert)throw f.b.debug("HostedApplicationSupport: Rejecting showAlert()"),new v.b("Did not have access to showAlert.",C,{state:this._state.value});e||u.b("HostedApplication#showAlert: params are mandatory.");var n=e.alertType,r=e.message,i=e.description,a=e.primaryButton,o=e.alternateButton,s=e.otherButton;r&&a||u.b("HostedApplication#showAlert: message, and primaryButton are mandatory.");var c=["small"];a.action="_primaryButtonClicked";var l=a.additionalClassNames=c.slice(0);l.push("default-action"),a.isDestructive&&l.push("destructive"),[o,s].forEach((function(e){e&&(l=e.additionalClassNames=c.slice(0),e.isDestructive&&l.push("destructive"))})),o&&(o.action="_alternateButtonClicked"),s&&(s.action="_otherButtonClicked");var d=O.show({iconNames:n,message:r,description:i,primaryButton:a,alternateButton:o,otherButton:s}),h=this.appAlerts;return h.add(d),d.promise.then((function(e){return t.isDisposed||h.delete(d),e}))},_start:function(){var e=this,t=this._state,n=T.NOT_STARTED,r=T.STARTING;if(t!==n)throw new u.a("HostedApplicationSupport: _start can only be called while NOT_STARTED.",{hostedApplication:this,url:this.urlWithRoute,targetState:this.targetState,state:t});return this._state=r,o.a.invokeFunction((function(){return e.authenticate()})).then((function(){return!e.isDisposed&&e.isAttached&&e._load()})).then((function(){return!e.isDisposed&&e._isIframeLoaded&&e._run()}))},_stop:function(){var e=this._state,t=T.NOT_STARTED;if(e===t)throw new u.a("HostedApplicationSupport: _stop cannot be called when NOT_STARTED.",{hostedApplication:this,targetState:this.targetState,state:e});this.targetState=t,this._reset()},_reset:function(){this._stopLoadAndRunTimer(),this._unload(),this._state=T.NOT_STARTED},_startLoadAndRunTimer:function(){var e=this;if(this._loadAndRunTimer)throw new u.a("HostedApplicationSupport: _startLoadAndRunTimer cannot be called while another one is in flight.",{hostedApplication:this,url:this.urlWithRoute,timerId:this._loadAndRunTimer,targetState:this.targetState,state:this._state});this._loadAndRunTimer=setTimeout((function(){e.isDisposed||(e._loadAndRunTimer=null,e.didTimeout())}),this.loadTimeout)},_stopLoadAndRunTimer:function(){this._loadAndRunTimer&&(globalThis.clearTimeout(this._loadAndRunTimer),this._loadAndRunTimer=null)},_load:function(){var e=o.a.create(),t=this.iframeView,n=this.channel,r=this.urlWithRoute;this._startLoadAndRunTimer();var i=this.listen("isReadyToReceiveMessages",(function(){f.b.debug("HostedApplicationSupport: Loaded iframe with src "+t.src),i.disconnect(),e.resolve()}));return n.bind("iframe",this.bindingFor("iframeView.iframe")),t.bind("appId",this.bindingFor("appId")),t.src=r,e},_unload:function(){var e=this.iframeView,t=this.channel;e.src="",e.unbind("appId"),t.unbind("iframe")},_run:function(){var e=this,t=this.userInfo,n=this.processInfo,r=this.host.hostInfo;return f.b.debug("HostedApplicationSupport: Calling run()"),this.caller.callRemoteProcedure("run",t,r,n).then((function(){!e.isDisposed&&e.isAttached&&(f.b.debug("HostedApplicationSupport: Received ack for run()"),e._stopLoadAndRunTimer(),e.urlWithRoute!==e.iframeView.src&&e.transceiver.sendNotification("routeDidUpdate",e.route),e._state=T.BACKGROUND)}))},_willEnterForeground:function(){var e=this;return f.b.debug("HostedApplicationSupport: Calling willEnterForeground()"),this._state=T.BEFORE_INACTIVE,this.caller.callRemoteProcedure("willEnterForeground").then((function(){f.b.debug("HostedApplicationSupport: Received ack for willEnterForeground()"),!e.isDisposed&&e.isAttached&&(e._state=T.INACTIVE)}))},_didBecomeActive:function(){f.b.debug("HostedApplicationSupport: Notifying didBecomeActive()"),this.caller.sendNotification("didBecomeActive");var e=this.parentApp,t=this.appId;e&&!e.isDisposed&&e.isAppRunning&&e.childAppDidBecomeActive(t),this._state=T.ACTIVE},_willResignActive:function(){f.b.debug("HostedApplicationSupport: Notifying willResignActive()"),this._state=T.INACTIVE,this.caller.sendNotification("willResignActive")},_didEnterBackground:function(){f.b.debug("HostedApplicationSupport: Notifying didEnterBackground()"),this.caller.sendNotification("didEnterBackground"),this._state=T.BACKGROUND},_becomeActive:function(){var e=this,t=T.BACKGROUND,n=this._state;if(n!==t)throw new u.a("HostedApplicationSupport: _becomeActive can only be called while ACTIVE.",{hostedApplication:this,url:this.urlWithRoute,targetState:this.targetState,state:n});return f.b.debug("HostedApplicationSupport: _becomeActive"),this._willEnterForeground().then((function(){return!e.isDisposed&&e.isAppRunning&&e.transition(!0)})).then((function(){return!e.isDisposed&&e.isAppRunning&&e._didBecomeActive()}))},_enterBackground:function(){var e=this,t=T.ACTIVE,n=this._state;if(n!==t)throw new u.a("HostedApplicationSupport: _enterBackground can only be called while ACTIVE.",{hostedApplication:this,url:this.urlWithRoute,targetState:this.targetState,state:n});return f.b.debug("HostedApplicationSupport: _enterBackground"),o.a.invokeFunction((function(){return e._willResignActive()})).then((function(){return!e.isDisposed&&e.isAppRunning&&e.transition(!1)})).then((function(){return!e.isDisposed&&e.isAppRunning&&e._didEnterBackground()}))},_hostedApplicationStateObserver:c.h({inputs:["isAttached","_state","targetState"],callback:function(e,t,n){var r=T.NOT_STARTED,i=T.BACKGROUND,a=T.ACTIVE;if(e)if(n===i)switch(t){case r:this._start();break;case a:this._enterBackground()}else if(n===a)switch(t){case r:this._start();break;case i:this._becomeActive()}}}),__superMap:{_$4co$init:"init",_$5Ln$dispose:"dispose",_$5V8$didDetach:"didDetach"}};function N(e,t,n){if(e.state===t)n();else var r=e.listen("state",(function(e){e===t&&(r.disconnect(),r=null,n())}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return F})),n.d(t,"c",(function(){return U})),n.d(t,"b",(function(){return B}));var r,i=n(1327),a=n(1332),o=n(1316),s=n(1317),c=n(1344),l=n(1326),u=n(1323),d=n(1325),h=n(1322),f=n(1333),p=n(1331),g=n(1593),m=n(1336),v=n(1304),y=n(1337),_=n(1338),b=n(1339),w=n(1342),S=n(1343),E=n(1315),I=n(1328),C=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.providedTypes=void 0,this.types=void 0,this.validators=void 0;var n=e.length;if(!Array.isArray(e)||n<=1)throw new o.a("Must provide 2 or more types to a union/intersection type",{providedTypes:e});for(var r=0;r<n;r++){var i=e[r];if(!t){if(void 0===i)throw new o.a("Cannot create intersection with undefined",{providedTypes:e,index:r});if(null===i)throw new o.a("Cannot create intersection with null",{providedTypes:e,index:r})}if("any"===i)throw new o.a("Cannot create union/intersection with any",{providedTypes:e,index:r})}this.providedTypes=e}var t=e.prototype;return t.toString=function(){return this.types||this._processTypes(),this.types.map((function(e){return e.toString()})).join(", ")},t._processTypes=function(){for(var e=this.providedTypes,t=[],n=[],r=0,i=e.length;r<i;r++){var a=e[r];if(null!=a)if(void 0!==a){var s=T(a);n.push(s);var c=O(s);if(!c)throw new o.a("Cannot get validator for unrecognized type: "+s,{providedTypes:e,types:n,validators:t,index:r});t.push(c)}else v.b.warn("Error defining type union or intersection. You should specify a type or resolve the circular reference.")}this.validators=t,this.types=n},e}();function O(e){var t,n,o;if("integer"===e)t=N;else if("number"===e)t=A;else if("string"===e)t=y.a;else if("boolean"===e)t=_.a;else if("hash"===e)t=i.a;else if(Object(a.a)(e,C))t=Object(b.a)(e.validate,e);else if(Object(a.a)(e,E.a))o=e,t=function(e){return Object(a.a)(e,I.a)&&o.items.some((function(t){return t.contains(e)}))};else if(e.isClass)t=function(e){return function(t){var n;return t.isObject&&((n=t.constructor)===e||n.subclassOf(e))}}(e);else if("function"===(n=typeof e)||r(e))t=function(e){return function(t){return t instanceof e}}(e);else{if("object"!==n)return;t=function(e){return function(t){return t.hasMixin&&t.hasMixin(e)}}(e)}return function(e){return function(t){return!Object(S.a)(t)||e.call(this,t)}}(t)}function T(e){switch(e){case Number:e="number";break;case String:e="string";break;case Boolean:e="boolean";break;case"object":e=Object;break;case"function":e=Function}return e}function A(e){return Object(w.a)(e)&&!Number.isNaN(e)}function N(e){return(0|e)===e||Number.isInteger(e)}r="function"!==typeof XMLHttpRequest?function(e){return e.prototype&&e.prototype.constructor}:s.a;var M=n(1351),D=n(1352),R=n(1353),L=n(1345),k=n(1335),x={},F=p.a.extend(f.a,{staticMembers:{create:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=this.__s._$3In$create.apply(this,arguments);return r._originalArgs=t,r},__superMap:{_$3In$create:"create"},__QUALIFIED_CLASS_NAME__:"Property"},readOnly:!1,defaultValue:void 0,_hasBeenUsed:!1,initializeMember:function(){return this._hasBeenUsed?this.clone():this.__s._$3lH$initializeMember.apply(this,arguments)},clone:function(){return this.constructor.create(...this._originalArgs)},set:null,_transformedSet:null,get:null,_transformedGet:null,setterReturnArray:[],usesBuiltinGet:!1,usesBuiltinSet:!1,isComputedProperty:!1,type:null,typeIsPrimitive:!1,strong:!1,weak:!1,unsafe:!1,reference:"",validators:null,init:function(e){if(Object(i.a)(e)){this.defaultValue=e.defaultValue;var t={};for(var n in e)"defaultValue"!==n&&(t[n]=e[n]);this.__s._$5_p$init.call(this,t)}else this.defaultValue=e,this.__s._$5_p$init.call(this);var r=this.validators;if(r)for(var o=r.length,s=0;s<o;++s){var c=r[s];Object(a.a)(c,k.a)||(r[s]=c.create())}},requiresSupport:B,allowedOnClass:!0,getValue:function(){return this.defaultValue},_ivar:null,_getParamOffset:0,_setParamOffset:0,_callsGetSuper:!1,_callsSetSuper:!1,_validateType:function(){return!0},_manageSwappingValues:function(e,t,n){var r="Strong ref for `"+this.key+"`";Object(m.f)(n,e,r),Object(m.e)(t,e,r)},_referenceId:void 0,wasRegistered:function(e,t,n){this._hasBeenUsed=!0;var r=this.get;if(r&&r.__CW__getter){var i=r.__superMap,a=this.__superMap;for(var s in i)a[s]="_transformedGet"}var c=this.set;if(c&&c.__CW__setter){var l=c.__superMap,u=this.__superMap;for(var d in l)u[d]="_transformedSet"}if(this.__s._$7Nj$wasRegistered.apply(this,arguments),n&&this._inheritFromSuperMap(e,n,t),this.writeDependencies||!this.dependencies||this.readOnly||(this.writeDependencies=this.dependencies),n&&this.inheritFrom(n),this._setUpInternalVariables(t),this._synthesizeInternalMethods(),this._setUpReferenceFlag(e,t),this.reference===m.c&&this.defaultValue)throw new o.a("A weak-reference property may not provide a default value ('%{key})'.",{key:t,object:e});this._setUpReferenceManagers(),this._moveDefaultValuesToPrepareForNativeAccessors(e,t),e[B.staticMembers.defaultValuePrefix+t]=e[t],e[this._ivar]=void 0,this.setUpNativeAccessors(e,t)},inheritFrom:function(e){this.get||e.usesBuiltinGet||(this.get=e.get),this.set||e.usesBuiltinSet||(this.set=e.set),e.dependencies&&(this.dependencies?this._callsGetSuper&&(this.dependencies=e.dependencies.concat(this.dependencies),this._getParamOffset=e.dependencies.length):this.dependencies=e.dependencies),e.writeDependencies&&(this.writeDependencies?this._callsSetSuper&&(this.writeDependencies=e.writeDependencies.concat(this.writeDependencies),this._setParamOffset=e.writeDependencies.length):this.writeDependencies=e.writeDependencies),e.hasOwnProperty("readOnly")&&!this.hasOwnProperty("readOnly")&&(this.readOnly=e.readOnly),e.hasOwnProperty("strong")&&!this.hasOwnProperty("strong")&&(this.strong=e.strong),e.hasOwnProperty("weak")&&!this.hasOwnProperty("weak")&&(this.weak=e.weak),e.hasOwnProperty("unsafe")&&!this.hasOwnProperty("unsafe")&&(this.unsafe=e.unsafe)},_inheritFromSuperMap:function(e,t,n){var r=e.__s,i=this.__superMap;for(var a in i){var o=i[a];if("get"===o||"_transformedGet"===o)o="_transformedGet",this._callsGetSuper=!0;else{if("set"!==o&&"_transformedSet"!==o)continue;o="_transformedSet",this._callsSetSuper=!0}r[a]=t[o]}},_setUpReferenceFlag:function(e,t){var n=this.strong,r=this.weak,i=this.unsafe;if(n){if(r)throw new o.a("Cannot define a property as both strong and weak.",{key:t,object:e});if(i)throw new o.a("Cannot define a property as both strong and unsafe.",{key:t,object:e});this.reference=m.a}else if(r){if(i)throw new o.a("Cannot define a property as both weak and unsafe.",{key:t,object:e});this.reference=m.c}else this.reference=m.b},_setUpReferenceManagers:function(){var e=this.reference;e===m.b||this.typeIsPrimitive?this._manageSwappingValues=s.a:e===m.c&&(this._manageSwappingValues=j,this._setUpWeakRefHashIfNeeded=P)},_setUpInternalVariables:function(e){this._ivar="_"+e},_moveDefaultValuesToPrepareForNativeAccessors:function(e,t){var n=B.staticMembers.defaultValuePrefix;e.hasOwnProperty(t)&&(e[n+t]=e[t])},_synthesizeInternalMethods:function(){if(this._synthesizeAccessors(),this._synthesizeInternalSet(),this._fillSetPathMap(),function(e){var t=e.type;if(null!==t&&"any"!==t){if(void 0===t)return v.b.warn('Error defining property "%{key}". You should specify a type or resolve the circular reference.',{property:e,key:e.key}),null;var n=T(t);n!==t&&(e.type=n);var r=O(n);if(!r)throw new o.a('Cannot create property "%{key}" with unknown type `%{type}`.',{property:e,key:e.key,type:n});"integer"!==n&&"number"!==n&&"string"!==n&&"boolean"!==n||(e.typeIsPrimitive=!0),e._validateType=r}}(this),this._setUpInternalAccessors(),this.getForObject||this._synthesizeGetForObject(),!this.setForObject){var e=this.writeDependencies;e&&(this.setterReturnArray=new Array(e.length)),this._synthesizeSetForObject()}},_synthesizeAccessors:function(){var e=this.get;if(e){var t=e.__CW__getter||e,n=this._getParamOffset;this._transformedGet=function(e,r,i,a){return t.call(this,e,r,n,a)}}else this.usesBuiltinGet=!0,this._transformedGet=this.get=c.a;var r=this.set;if(r){var i=r.__CW__setter||r,a=this._setParamOffset;this._transformedSet=function(e,t,n,r,o){return i.call(this,e,t,n,a,o)}}else this.usesBuiltinSet=!0,this._transformedSet=this.set=c.a;this.isComputedProperty=!this.usesBuiltinGet||!this.usesBuiltinSet},writeDependencySetPathMap:void 0,_fillSetPathMap:function(){var e=this.writeDependencySetPathMap;e||(e=this.writeDependencySetPathMap=[!1]);for(var t=e.length,n=0;n<t;n++)e[n]=e[n]?this.internalSetPath:this.internalSet},initForObject:function(e,t){this._setUpWeakRefHashIfNeeded(e,t)},_setUpWeakRefHashIfNeeded:s.a,setInitialValueForObject:function(e,t,n){void 0!==n&&this.setForObjectReadWrite(e,t,n)},disposeForObject:function(e,t){var n=this._ivar;this._manageSwappingValues(e,e[n]),e[n]=void 0},setUpNativeAccessors:function(e,t){var n=this,r=this.setForObject,i=this.getForObject;Object.defineProperty(e,t,{get:function(e){return i.call(n,this,t)},set:function(e){return r.call(n,this,t,e)},configurable:!0})},_setUpInternalAccessors:s.a,getForObject:null,_synthesizeGetForObject:function(){var e=this.dependencies,t=this._transformedGet,n=this,r=B.staticMembers.defaultValuePrefix+this.key,i=this._ivar;this.getForObject=function(a,o){return a.hasOwnProperty("propertiesAreInitialized")?t.call(a,a[i],e,0,n):a[r]}},setForObject:null,setForObjectReadWrite:null,_synthesizeSetForObject:function(){var e=this.writeDependencies,t=this.setterReturnArray,n=this._transformedSet,r=this,i=this._validateType,a=t.length,s=this.writeDependencySetPathMap;this.clearSetterReturnArray(t);var c=this._ivar,l=B.staticMembers.defaultValuePrefix+this.key;this.setForObjectReadWrite=function(u,d,h){if(u.hasOwnProperty("propertiesAreInitialized")){var f=u[c],p=n.call(u,h,f,t,0,r);if(!i.call(u,p))throw new o.a("Type error: cannot set value `%{value}` to property `%{key}` on %{object}.",{object:u,key:d,value:p,setValue:h});u[c]=p;for(var g=0;g<a;g++)t[g]!==x&&s[g](u,e[g],t[g]);return this._manageSwappingValues(u,f,p),this.clearSetterReturnArray(t),p}u[l]=h},this.readOnly?this.setForObject=function(e,t,n){if(e.hasOwnProperty("propertiesAreInitialized"))throw new o.a("Cannot set `"+t+"`: it is read-only.",{key:t,object:e,property:this,value:n});e[l]=n}:this.setForObject=this.setForObjectReadWrite},clearSetterReturnArray:function(e){for(var t=e.length,n=0;n<t;n++)e[n]=x},internalGet:function(e,t){return e.get(t)},internalGetPath:function(e,t){return e.getPath(t)},_synthesizeInternalSet:function(){var e=this._ivar;this.internalSet=function(t,n,r){return"$value"===n?(t[e]=r,r):t.set(n,r)}},internalSet:null,internalSetPath:function(e,t,n){return e.setPath(t,n)},__superMap:{_$3lH$initializeMember:"initializeMember",_$5_p$init:"init",_$7Nj$wasRegistered:"wasRegistered"}});function P(e,t){var n=e._weakReferenceTokens;n||(n=e._weakReferenceTokens={}),n[t]=g.b}function j(e,t,n){var r=this.key,i=e._weakReferenceTokens,a=i[r];Object(m.h)(t,a);var o=Object(m.g)(n,e,e.weaklyReferencedObjectWasDisposed,r);i[r]=o}var U=function(e){return F.define.apply(F,arguments)},B={mixinDependencies:[L.a,M.a],staticMembers:{get:G,set:$,setPath:z,getPath:H,getPropertiesAsObject:K,setPropertiesWithObject:Q,getPropertiesAsArray:q,setPropertiesWithArrays:Z,weaklyReferencedObjectWasDisposed:Y,_weakReferenceTokens:null,initializeClass:function(){this.__s._$ERX$initializeClass.call(this),V.call(this)},initializeInstance:function(){this.__s._$EUy$initializeInstance.call(this),W.call(this)},defaultValuePrefix:"__CW__",propertiesAreInitialized:!1,__superMap:{_$ERX$initializeClass:"initializeClass",_$EUy$initializeInstance:"initializeInstance"}},initializeClass:function(){this.__s._$EdQ$initializeClass.call(this),V.call(this)},initializeInstance:function(){this.__s._$EgP$initializeInstance.call(this),W.call(this)},dispose:function(){var e,t=this._properties;for(e in t)t[e].disposeForObject(this,e);this.__s._$ErV$dispose.apply(this,arguments)},get:G,set:$,setPath:z,getPath:H,getPropertiesAsObject:K,setPropertiesWithObject:Q,getPropertiesAsArray:q,setPropertiesWithArrays:Z,weaklyReferencedObjectWasDisposed:Y,_weakReferenceTokens:null,propertiesAreInitialized:!1,beginBatchSet:function(){return D.a.begin(this)},__superMap:{_$EdQ$initializeClass:"initializeClass",_$EgP$initializeInstance:"initializeInstance",_$ErV$dispose:"dispose"}};function V(){this._properties=this.getMetadataByType(F)}function W(){var e,t,n=this.getMetadataByType(F),r=B.staticMembers.defaultValuePrefix;for(e in n){var i=n[e];i.initForObject&&i.initForObject(this,e)}for(e in this.propertiesAreInitialized=!0,n){var a=n[e];t=this[r+e],Object(l.a)(t)&&(t=t.call(this)),t===R.a&&(t=this),a.setInitialValueForObject&&a.setInitialValueForObject(this,e,t)}}function z(e,t){var n=Object(u.a)(e,this);if(!n)throw new o.a("cannot call set on null or undefined object",{object:this,path:e,value:t});return function(e,t,n){e&&(e[t]=n)}(n,Object(d.a)(e),t),this}function H(e){return Object(h.a)(this,e)}function G(e){var t=this._properties[e];return t?t.getForObject(this,e):this[e]}function $(e,t){var n=this._properties[e];return n?n.setForObject(this,e,t):this[e]=t,this}function K(){for(var e={},t=0;t<arguments.length;t++)e[arguments[t]]=this.get(arguments[t]);return e}function Q(e){for(var t in e)e.hasOwnProperty(t)&&this.set(t,e[t]);return this}function q(){return Array.prototype.map.call(arguments,this.get,this)}function Z(e,t){if(e.length>t.length)throw new o.a("Not enough values to set");for(var n=0;n<e.length;n++)this.set(e[n],t[n]);return this}function Y(e,t){t.set(this,e,null)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(1317),i=n(1343),a=n(1316),o=n(1409),s=n(1408),c=n(1589),l=n(1594),u=n(1334),d=n(1331),h={mixinDependencies:[{mixinDependencies:[n(1402).a],createIteratorAtEnd:Object(d.c)(u.a)},s.a],createIterator:function(){return this.createIteratorAt(0)},createIteratorAtEnd:function(){return this.createIteratorAt(this.get("length")-1)},createIteratorAt:Object(d.c)(u.a)},f=n(1368),p=n(1587),g={mixinDependencies:[l.a,s.a,h],lastItem:Object(p.c)({get:function(){return this.objectAt(this.length-1)},set:function(e){return this.setIndex(this.length-1,e),e}}),firstItem:Object(p.c)({get:function(){return this.objectAt(0)},set:function(e){return this.setIndex(0,e),e}}),push:function(){for(var e=this.length,t=this.serializer,n=e,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];if(t&&t.encode)for(var o=0,s=i.length;o<s;o++)i[o]=t.encode(i[o],o+n);return this.encodedPush(...i)},encodedPush:function(){for(var e=this.length,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.encodedRawSplice(e,0,...n),e+n.length},pop:function(){var e=this.length-1;return this.decode(this.encodedPop(),e)},encodedPop:function(){var e=this.length-1;return this.encodedRawSplice(e,1)[0]},unshift:function(){for(var e=this.serializer,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(e&&e.encode)for(var i=0,a=n.length;i<a;i++)n[i]=e.encode(n[i],i);return this.encodedUnshift(...n)},encodedUnshift:function(){for(var e=this.length,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.encodedRawSplice(0,0,...n),e+n.length},shift:function(){return this.decode(this.encodedShift(),0)},encodedShift:function(){return this.encodedRawSplice(0,1)[0]},insertAt:function(e){for(var t=this.serializer,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(t&&t.encode)for(var a=0,o=r.length;a<o;a++)r[a]=t.encode(r[a],a+e);return this.encodedInsertAt(e,...r)},encodedInsertAt:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.encodedSplice(e,0,...n),this},with:function(e,t){var n=this.constructor.create(this);return n.insertAt(e,t),n},removeAt:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.encodedSplice(e,t),this},add:function(e){return this.push(e),!0},encodedAdd:function(e){return this.encodedPush(e),!0},remove:function(e){return this.encodedRemove(this.encode(e))},encodedRemove:function(e){var t=this.encodedIndexOf(e);return-1!==t&&(this.removeAt(t,1),!0)},slice:function(e,t){var n=this.length,r=this.constructNewInstance();if(0===n)return r;e=void 0===e?0:y(e,n);var i=(t=void 0===t||t>n?n:y(t,n))-e;r.length=i;for(var a=0;a<i;a++)r.encodedSetIndex(a,this.encodedObjectAt(a+e));return r},indexOf:function(e,t){return this.encodedIndexOf(this.encode(e),t)},encodedIndexOf:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.length,r=t=y(t,n);r<n;r++)if(this.encodedObjectAt(r)===e)return r;return-1},contains:_,encodedContains:b,includes:_,encodedIncludes:b,lastIndexOf:function(e,t){return this.encodedLastIndexOf(this.encode(e),t)},encodedLastIndexOf:function(e,t){for(var n=this.length,r=t=void 0===t?n-1:y(t,n);r>=0;r--)if(this.encodedObjectAt(r)===e)return r;return-1},splice:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._validateSpliceArguments(this.rawSplice,...t)},toSpliced:function(){for(var e=this.constructor.create(this),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this._validateSpliceArguments(e.rawSplice,...n),e},encodedSplice:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._validateSpliceArguments(this.encodedRawSplice,...t)},_validateSpliceArguments:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o=this._internalLength;t<0?(t=o+t)<0&&(t=0):t>o&&(t=o);var s=arguments.length;return(2===s||n+t>o)&&(n=o-t),3===s&&0===n?[]:e.call(this,t,n,...i)},itemsWillBeInserted:r.a,itemsWereInserted:r.a,itemsWillBeRemoved:r.a,itemsWereRemoved:r.a,itemsWillChange:r.a,itemsDidChange:r.a,rawSplice:function(e,t){for(var n,r=this.serializer,i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];if(r&&(n=r.encode))for(var s=a.length,c=0;c<s;c++)a[c]=n.call(r,a[c],e+c);var l,u=this.encodedRawSplice(e,t,...a);if(r&&(l=r.decode))for(var d=u.length,h=0;h<d;h++)u[h]=l.call(r,u[h],e+h);return u},encodedRawSplice:Object(d.c)(u.a),objectAt:function(e){return this.decode(this.encodedObjectAt(e),e)},at:function(e){if(e>=0)return this.objectAt(e);var t=this.length,n=t+e;return n<0||n>=t?void 0:this.objectAt(n)},item:function(e){return this.at(e)},encodedObjectAt:Object(d.c)(u.a),iteratorClass:Object(p.c)({readOnly:!0,defaultValue:c.a}),createIteratorAt:function(e){return this.get("iteratorClass").create(this,e)},join:function(e){void 0===e&&(e=",");for(var t=this.get("length"),n="",r=0;r<t;r++){var a=this.objectAt(r);0!==r&&(n+=e),Object(i.a)(a)&&(n+=a.toString())}return n},toString:function(){return this.join(", ")},reverse:function(){for(var e=this.get("length")-1,t=0;t<e;t++,e--)this.swap(t,e);return this},toReversed:function(){var e=this.constructor.create(this);return e.reverse(),e},setIndex:function(e,t){return this.encodedSetIndex(e,this.encode(t,e))},encodedSetIndex:function(e,t){return e>this.length&&(this.length=e+1),this.encodedSplice(e,1,t),this},swap:function(e,t){var n=this.encodedObjectAt(t);return this.encodedSetIndex(t,this.encodedObjectAt(e)),this.encodedSetIndex(e,n),this},move:function(e,t){var n=this.encodedRawSplice(e,1)[0];return this.encodedRawSplice(t,0,n),this},sort:function(e){return e||(e=v),m(this,e,0,this.get("length")-1),this},toSorted:function(e){var t=this.constructor.create(this);return t.sort(e),t},reduce:function(e,t,n){var r,i=0,o=this.length;if(arguments.length>=2)r=t;else{if(!(o>0))throw new a.a("reduce of empty array with no initial value");r=this.objectAt(0),i=1}for(var s=i;s<o;s++)r=e.call(n,r,this.objectAt(s),s,this);return r},find:function(e,t){for(var n=this.get("length"),r=0;r<n;r++){var i=this.objectAt(r);if(e.call(t,i,r,this))return i}},findLast:function(e,t){for(var n=this.get("length")-1;n>=0;n--){var r=this.objectAt(n);if(e.call(t,r,n,this))return r}},findIndex:function(e,t){for(var n=this.get("length"),r=0;r<n;r++){var i=this.objectAt(r);if(e.call(t,i,r,this))return r}return-1},findLastIndex:function(e,t){for(var n=this.get("length")-1;n>=0;n--){var r=this.objectAt(n);if(e.call(t,r,n,this))return n}return-1},binarySearch:function(e){for(var t=this,n=o.a,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return n(0,this.length-1,(function(e){return t.objectAt(e)}),e,...i)},clear:function(){return this.encodedRawSplice(0,this.length),this},map:function(e,t){for(var n=this.constructNewInstance(),r=0,i=this.get("length");r<i;r++){var a=e.call(t,this.objectAt(r),r,this);n.setIndex(r,a)}return n},getSortableObjectAt:function(e){return this.objectAt(e)},_internalLength:f.a.define()};function m(e,t,n,r){if(!(r-n+1<=1)){var i=Math.floor((n+r)/2);i=function(e,t,n,r,i){for(e.swap(i,r),i=r;n<r;){var a=e.getSortableObjectAt(i);t(e.getSortableObjectAt(n),a)<=0?n++:e.swap(n,--r)}return e.swap(i,r),r}(e,t,n,r,i),m(e,t,n,i-1),m(e,t,i+1,r)}}function v(e,t){return void 0===t?void 0===e?0:-1:void 0===e?1:(e=String(e))<(t=String(t))?-1:e>t?1:0}function y(e,t){e<0&&(e=t+e);var n=t-1;return e>n?e=n:e<0&&(e=0),e}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.encodedContains(this.encode(e),t)}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return-1!==this.encodedIndexOf(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(1330),i=n(1404),a=n(1334),o=n(1331),s=n(1403),c={done:!1,value:null},l={mixinDependencies:[s.a],moveToNext:Object(o.c)(a.a,{requiredKey:"moveBy",default:function(){return this.moveBy(1)}}),moveToPrevious:Object(o.c)(a.a,{requiredKey:"moveBy",default:function(){return this.moveBy(-1)}}),previous:function(){return c.value=this.get("value"),c.done=this.get("isValid"),this.moveBy(-1),c},moveBy:Object(o.c)(a.a,{requiredKey:["moveToNext","moveToPrevious"],default:function(e){if(e>0)for(;0!==e--;)this.moveToNext();else if(e<0)for(;0!==e++;)this.moveToPrevious();return this}})},u=n(1368),d=n(1587),h={mixinDependencies:[l],position:Object(d.c)(0),countAfter:Object(d.c)({readOnly:!0,get:function(){return this.get("length")-this.get("position")-1}}),countBefore:Object(d.c)({readOnly:!0,get:function(){return this.get("position")}}),moveTo:function(e){return this.set("position",e),this},length:Object(o.c)(u.a),moveBy:function(e){return this.moveTo(this.get("position")+e)}},f=n(1320),p=r.a.extend(h,i.a,f.a,{initFromPool:function(e,t){this.__s._$Eg$initFromPool.call(this),this.set("source",e),this.set("position",t||0)},didEnterPool:function(){this.set("source",null),this.set("position",NaN),this.__s._$IR$didEnterPool.call(this)},source:Object(d.c)(),value:Object(d.c)({get:function(){return this.source.decode(this.encodedValue,this.position)},set:function(e){return this.encodedValue=this.source.encode(e,this.position),e}}),encodedValue:Object(d.c)({get:function(){return this.source.encodedObjectAt(this.position)},set:function(e){return this.source.encodedSetIndex(this.position,e),e}}),isValid:Object(d.c)({readOnly:!0,get:function(){var e=this.get("position");return e>=0&&e<this.get("length")}}),length:Object(d.c)({readOnly:!0,get:function(){return this.getPath("source.length")}}),clone:function(){return this.constructor.create(this.get("source"),this.get("position"))},remove:function(){return!!this.isValid&&(this.get("source").removeAt(this.get("position")),!0)},add:function(e){var t=this.get("source"),n=t.get("length"),r=this.get("position")+1;t.insertAt(r,e);var i=t.get("length")!==n;return i&&this.set("position",Math.min(r,n)),i},__superMap:{_$Eg$initFromPool:"initFromPool",_$IR$didEnterPool:"didEnterPool"},staticMembers:{__QUALIFIED_CLASS_NAME__:"OrderedListIterator"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r,i=n(1316),a=n(1327),o=n(1317),s=n(1576),c=n(1587),l=n(1330),u=n(1304),d=n(1439),h=n(1594),f=n(1364),p=n(1334),g={mixinDependencies:[h.a,f.a],prepare:p.a.create(),send:p.a.create(),abort:p.a.create(),createResponse:p.a.create(),computeStatuses:p.a.create(),finalize:o.a},m="undefined"===typeof WeakMap?void 0:new WeakMap,v=l.a.extend(g,{staticMembers:{_TransportClass:null,__QUALIFIED_CLASS_NAME__:"BaseTransport"},send:function(e,t){if(!e)throw new i.a("No request to send",this);var n;t?n=e.__transport:(e._retryCount=0,(n=e.__transport=new this.constructor._TransportClass)._cw_request=e,m&&m.set(n,e),e.triggerStatusEvent(d.b.WILLSEND)),this.prepare(e,t);var r=this.getBodyText(e);n.send(r),t||e._synchronous||e.triggerStatusEvent(d.b.SENT)},getBodyText:function(e){var t=e.get("bodySerializer"),n=e.get("body");return t&&(n=t.encode(n)),n},abort:function(e){if(!e)throw new i.a("No request to abort",this);var t=e.__transport;t?t.abort():u.b.warn("Cannot abort request because it is not in transit",e)},handleResponse:function(e,t){var n=this.createResponse(t);if(this._shouldFinalizeWithResponse(e,n)){e.set("response",n),e.set("state",d.b.COMPLETED);var r=this.computeStatuses(t);e._synchronous&&e.triggerStatusEvent(d.b.SENT),r&&e.triggerStatusEvents.apply(e,r),e.finalize()}},_shouldFinalizeWithResponse:function(e,t){var n=!0;if(e.shouldFinalizeWithResponse){var r=e._pendingRetryCallback=function(){r===e._pendingRetryCallback&&(delete e._pendingRetryCallback,e._retryCount++,this.send(e,!0))}.bind(this);n=e.shouldFinalizeWithResponse(t,r,e._retryCount)}return n},handleTimeout:function(e){this.abort(e);var t=this.createResponse(null);t.status=d.b.TIMEDOUT,this._shouldFinalizeWithResponse(e,t)&&(e.set("response",t),e.set("state",d.b.TIMEDOUT),e.triggerStatusEvent(d.b.FAILED),e.triggerStatusEvent(d.b.COMPLETED),e.finalize())},finalize:function(e){e&&(e.__transport&&(delete e.__transport._cw_request,delete e.__transport),delete e._pendingRetryCallback,e._retryCount=0)}}),y=n(1441),_=v.extend(s.a,{staticMembers:{_TransportClass:Object(c.c)({get:function(e){return e||XMLHttpRequest||b}}),supportsCORS:Object(c.c)({readOnly:!0,get:function(e){if("boolean"===typeof e)return e;try{e=!!("withCredentials"in new this._TransportClass)}catch(t){e=!1}return this._supportsCORS=e}}),__QUALIFIED_CLASS_NAME__:"XHR"},mimeType:null,prepare:function(e,t){var n=e.__transport,r=e.get("url").get("href"),i=!e._synchronous;n.open(e.get("method"),r,i),n.withCredentials=e.get("useCredentialsIfCrossOrigin"),n.addEventListener("readystatechange",w);var o=this.get("mimeType");return n.overrideMimeType&&o&&n.overrideMimeType(o),n.upload&&e.uploadProgress&&!t&&n.upload.addEventListener("progress",S.bind(this,e,"uploadProgress")),e.progress&&!t&&n.addEventListener("progress",S.bind(this,e,"progress")),function(e,t){if(!t||!Object(a.a)(t))return e;var n,r,i,o=Object.keys(t);for(r=0,i=o.length;r<i;r++)n=o[r],e.setRequestHeader(n,t[n])}(n,e.get("headers")),this.configureTimeout(e),n},abort:function(e){var t;if(!e||!(t=e.__transport))throw new i.a("Attempted to abort an XHR request that was never sent",e);t.removeEventListener&&t.removeEventListener("readystatechange",w),this.__s._$1Ps$abort.apply(this,arguments)},handleResponse:function(e,t){this.clearTimeout(e),this.__s._$1Se$handleResponse.apply(this,arguments)},configureTimeout:function(e){var t=e.get("timeout");t&&(e._timer=setTimeout(this.handleTimeout.bind(this,e),t))},clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e&&e._timer&&(clearTimeout(e._timer),delete e._timer)})),computeStatuses:function(e){var t=e.status,n=Math.floor(t/100),i=Math.floor(t%100/10),a=t%10;return r||(r={}),r[t]?r[t]:r[t]=0===t?[t,d.b.FAILED,d.b.COMPLETED]:[t,n+"**",""+n+i+"*","*"+i+"*","*"+i+a,"**"+a,2===n?d.b.SUCCEEDED:d.b.FAILED,d.b.COMPLETED]},createResponse:function(e){return y.a.create(e?{status:e.status,encodedBody:e.responseText,headers:e.getAllResponseHeaders()}:null)},finalize:function(e){var t;if(!e||!(t=e.__transport))throw new i.a("Error while finalizing an XHR request - no internal transport",e);t.removeEventListener&&t.removeEventListener("readystatechange",w),this.clearTimeout(e),this.__s._$2EK$finalize.apply(this,arguments)},__superMap:{_$1Ps$abort:"abort",_$1Se$handleResponse:"handleResponse",_$2EK$finalize:"finalize"}});function b(){throw new i.a("Your browser does not support sending requests")}var w=function(){var e=(m?m.get(this):void 0)||this._cw_request;if(!e)throw new i.a("Unable to get CW request from XHR transport",{supportsWeakMap:"undefined"!==typeof WeakMap});var t=e.get("transport");4===this.readyState&&t.handleResponse(e,this)};function S(e,t,n){var r=e[t];if(r){var i=!r.__lastWriteTime;r.__lastWriteTime=r.__lastWriteTime||Date.now();var a=r.__lastWriteTime,s=Date.now()-a;i||s>80?(r.beginBatchSet().set("bytesTransferred",n.loaded).set("bytesTotal",n.total).set("isDeterminate",n.lengthComputable).end(),r.__lastWriteTime=Date.now()):i?Object(o.a)(1):Object(o.a)(2)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(1330),i=n(1438),a=n(1334),o=n(1576),s=n(1343),c=n(1445),l=n(1364),u=n(1342),d=n(1327),h=n(1446),f={mixinDependencies:[n(1594).a],jsonRpcVersion:"0",generateCallMessageFor:a.a.define(),generateErrorMessageFor:a.a.define(),generateNotificationMessageFor:a.a.define(),generateResultMessageFor:a.a.define()},p=r.a.extend(l.a,f,{jsonRpcVersion:"2.0",generateCallMessageFor:function(e){for(var t={jsonrpc:this.jsonRpcVersion,id:"CW.JsonRpcMessageFormatterV2:"+ ++g,method:e},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.length>0&&(t.params=r),t},generateNotificationMessageFor:function(e){for(var t={jsonrpc:this.jsonRpcVersion,method:e},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.length>0&&(t.params=r),t},generateErrorMessageFor:function(e,t){var n=t.code;Object(u.a)(n)||(n=h.a.INTERNAL_ERROR);var r=t.message,i=t.data,a={jsonrpc:this.jsonRpcVersion,id:e,error:{code:n,message:r}};return Object(d.a)(i)&&(a.error.data=i),a},generateResultMessageFor:function(e,t){return{jsonrpc:this.jsonRpcVersion,id:e,result:t}},staticMembers:{__QUALIFIED_CLASS_NAME__:"JsonRpcMessageFormatterV2"}}),g=0,m=r.a.extend(o.a,{channel:Object(o.g)({type:c.a}),messageFormatter:p.sharedInstance,serializer:i.a.sharedInstance,shouldHandleMessage:a.a.define(),handleMessage:a.a.define(),incomingMessageListener:Object(o.h)("channel.incomingMessage",(function(e){if(e){var t=this.serializer.decode(e.context);Object(s.a)(t)&&this.shouldHandleMessage(t)&&this.handleMessage(t)}})),staticMembers:{__QUALIFIED_CLASS_NAME__:"JsonRpcBase"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(1470);function i(e){switch(e){case"opener":case"top":case"window":case"parent":case"this":return!0;default:return!1}}function a(e){return null!==(t=e)&&"object"===typeof t&&"type"in e&&"string"===typeof e.type&&"__serviceNode"in e&&"1.0"===e.__serviceNode;var t}function o(e,t,n,r){return{__serviceNode:"1.0",type:"connect",serviceName:e,serviceZone:n,serviceOrigin:r,port:t}}function s(e){return"connect"===e.type&&"port"in e&&e.port instanceof MessagePort&&"serviceZone"in e&&"string"===typeof e.serviceZone&&i(e.serviceZone)&&"serviceOrigin"in e&&"string"===typeof e.serviceOrigin}var c=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},l="navigator"in globalThis&&navigator.userAgent.includes("jsdom"),u="SharedWorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.SharedWorkerGlobalScope,d="DedicatedWorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.DedicatedWorkerGlobalScope,h="Window"in globalThis&&globalThis instanceof Window,f=new(function(){function e(){var e,t,n,r=this;if(this.serviceNameToUpstreamListeners=new Map,this.sharedWorkerUpstreamPostMessages=[],this.serviceNameToOnConnect=new Map,this.serviceNameToListenerConnection=new Map,this.serviceNameToBufferedConnectMessages=new Map,this.messageEventSourceToNeighboringBrowsingContext=new WeakMap,this.pendingConnections=new Set,this.upstreamRegistrations=new Set,this.parentOrigin={ready:!0},this.topOrigin={ready:!0},this.openerOrigin={ready:!0},this.handleMessage=function(e){var t,n;e instanceof MessageEvent&&e.isTrusted&&(e.origin===globalThis.origin||(null===(t=r.allowedRemoteOrigins)||void 0===t?void 0:t.includes(e.origin)))&&a(e.data)&&(s(e.data)?r.handleConnectMessage(e.data,e.source):"register"===(n=e.data).type&&"port"in n&&n.port instanceof MessagePort&&"serviceZone"in n&&"string"===typeof n.serviceZone&&i(n.serviceZone)&&"connectionOrigin"in n&&"string"===typeof n.connectionOrigin?r.handleRegisterMessage(e.data):function(e){return"ping"===e.type}(e.data)?r.handlePingMessage(e):function(e){return"pong"===e.type}(e.data)&&r.handlePongMessage(e))},this.handleSharedWorkerConnect=function(e){var t=function(t,n){e.source instanceof MessagePort&&e.source.postMessage(t,n)};for(var n of(r.sharedWorkerUpstreamPostMessages.push(t),r.upstreamRegistrations))r.sendRegisterMessage(t,n);for(var i of r.pendingConnections)r.sendConnectMessage(t,i)},h){globalThis.addEventListener("message",this.handleMessage);var o=globalThis.__SK_INIT;if(o){for(var c of(o.earlyListener&&globalThis.removeEventListener("message",o.earlyListener),null!==(e=o.earlyNeighboringContexts)&&void 0!==e?e:[]))this.addNeighboringBrowsingContext(c);if(null===(t=o.allowedRemoteOrigins)||void 0===t?void 0:t.length){if(this.allowedRemoteOrigins=o.allowedRemoteOrigins,window.parent!==window)try{this.parentOrigin={ready:!0,value:window.parent.origin}}catch(d){this.parentOrigin={ready:!1,onReady:[]},window.parent.postMessage({__serviceNode:"1.0",type:"ping"},"*")}if(window.top&&window.top!==window)try{this.topOrigin={ready:!0,value:window.top.origin}}catch(f){this.topOrigin={ready:!1,onReady:[]},window.top!==window.parent&&window.top.postMessage({__serviceNode:"1.0",type:"ping"},"*")}if(window.opener&&window.opener instanceof Window&&window.opener!==window)try{this.openerOrigin={ready:!0,value:window.opener.origin}}catch(p){this.openerOrigin={ready:!1,onReady:[]},window.opener!==window.parent&&window.opener!==window.top&&window.opener.postMessage({__serviceNode:"1.0",type:"ping"},"*")}}for(var l of null!==(n=o.earlyMessages)&&void 0!==n?n:[])this.handleMessage(l);delete globalThis.__SK_INIT}}u&&globalThis.addEventListener("connect",this.handleSharedWorkerConnect)}var t=e.prototype;return t.addNeighboringBrowsingContext=function(e){if(e instanceof HTMLIFrameElement){var t=e.contentWindow;if(!t)return;this.messageEventSourceToNeighboringBrowsingContext.set(t,e)}else e instanceof Worker?(this.messageEventSourceToNeighboringBrowsingContext.set(e,e),e.addEventListener("message",this.handleMessage)):e instanceof SharedWorker?(this.messageEventSourceToNeighboringBrowsingContext.set(e.port,e),e.port.addEventListener("message",this.handleMessage)):e instanceof Window&&this.messageEventSourceToNeighboringBrowsingContext.set(e,e)},t.removeNeighboringBrowsingContext=function(e){if(e instanceof HTMLIFrameElement){var t=e.contentWindow;if(!t)return;this.messageEventSourceToNeighboringBrowsingContext.delete(t)}else e instanceof Worker?(e.removeEventListener("message",this.handleMessage),this.messageEventSourceToNeighboringBrowsingContext.delete(e)):e instanceof SharedWorker?(e.port.removeEventListener("message",this.handleMessage),this.messageEventSourceToNeighboringBrowsingContext.delete(e.port)):e instanceof Window&&this.messageEventSourceToNeighboringBrowsingContext.delete(e)},t.connectToService=function(e,t){var n,r,i;return c(this,void 0,void 0,(function*(){var a,s=null!==(n=null===t||void 0===t?void 0:t.serviceZone)&&void 0!==n?n:"top",c=null!==(r=null===t||void 0===t?void 0:t.serviceOrigin)&&void 0!==r?r:globalThis.origin,l=null!==(i=null===t||void 0===t?void 0:t.connectionTimeout)&&void 0!==i?i:1e4,u=null===t||void 0===t?void 0:t.abortSignal;if(null===u||void 0===u?void 0:u.aborted)return null;var d,h=new Promise((function(e){a=function(){return e(null)}}));null===u||void 0===u||u.addEventListener("abort",a);var f=new Promise((function(e){d=e})),p=this.getInitialServiceZone(s),g=p[0],m=p[1];if(!m){var v=this.serviceNameToOnConnect.get(e);if(v){var y=new MessageChannel;return v(y.port2,null),y.port1}}var _={serviceName:e,serviceZone:g,serviceOrigin:c,resolved:!1,resolve:d,promise:f,attempts:new Set};if(this.pendingConnections.add(_),m)for(var b of m)this.sendConnectMessage(b,_);else{var w=this.makeConnectionAttempt(_),S=o(e,w,s,c),E=this.serviceNameToListenerConnection.get(e);E?E.postMessage(S,[w]):this.ensureBufferedConnectMessages(e).push([S,null])}var I="indefinite"===l?null:new Promise((function(e){globalThis.setTimeout((function(){return e(null)}),l)}));try{return yield Promise.race(I?[_.promise,I,h]:[_.promise,h])}finally{for(var C of(null===u||void 0===u||u.removeEventListener("abort",a),this.pendingConnections.delete(_),Array.from(_.attempts)))C.close()}}))},t.registerService=function(e,t,n){var r,i,a=this,o=null!==(r=null===n||void 0===n?void 0:n.serviceZone)&&void 0!==r?r:"top",s=null!==(i=null===n||void 0===n?void 0:n.connectionOrigin)&&void 0!==i?i:globalThis.origin,c=this.getInitialServiceZone(o),l=c[0],u=c[1];if(u){if(this.serviceNameToUpstreamListeners.has(e))return null;var d={serviceName:e,serviceZone:l,connectionOrigin:s,onConnect:t};for(var h of(this.upstreamRegistrations.add(d),u))this.sendRegisterMessage(h,d);return function(){var t;a.upstreamRegistrations.delete(d);var n=Array.from(null!==(t=a.serviceNameToUpstreamListeners.get(e))&&void 0!==t?t:[]);for(var r of n)r.close()}}if(this.serviceNameToListenerConnection.has(e)||this.serviceNameToOnConnect.has(e))return null;this.serviceNameToOnConnect.set(e,t);var f=this.serviceNameToBufferedConnectMessages.get(e);for(var p of(this.serviceNameToBufferedConnectMessages.delete(e),null!==f&&void 0!==f?f:[])){var g=p[0],m=p[1];this.handleConnectMessageToLocalService(t,g,m)}return function(){a.serviceNameToOnConnect.has(e)&&(a.serviceNameToOnConnect.delete(e),a.serviceNameToBufferedConnectMessages.delete(e))}},t.makeConnectionAttempt=function(e){var t=new MessageChannel,n=new r.a(t.port1),i=function(t){if(a(t.data))if("connected"!==t.data.type);else{if(!e.resolved){e.resolved=!0;var r=new MessageChannel;n.postMessage({__serviceNode:"1.0",type:"connectedAck",serviceName:t.data.serviceName,port:r.port2},[r.port2]),e.resolve(r.port1)}n.close()}};return e.attempts.add(n),n.addEventListener("message",i),n.addEventListener("connectionstatechange",(function t(){if("closed"===n.connectionState)return e.attempts.delete(n),n.removeEventListener("message",i),void n.removeEventListener("connectionstatechange",t)})),n.start(),t.port2},t.addUpstreamListener=function(e,t){var n=this.serviceNameToUpstreamListeners.get(e);if(n)n.add(t);else{var r=new Set;this.serviceNameToUpstreamListeners.set(e,r),r.add(t)}},t.removeUpstreamListener=function(e,t){var n=this.serviceNameToUpstreamListeners.get(e);n&&(n.delete(t),0===n.size&&this.serviceNameToUpstreamListeners.delete(e))},t.ensureBufferedConnectMessages=function(e){var t=this.serviceNameToBufferedConnectMessages.get(e);if(t)return t;var n=[];return this.serviceNameToBufferedConnectMessages.set(e,n),n},t.handleConnectMessage=function(e,t){var n=this.getForwardingServiceZone(e.serviceZone),r=n[0],i=n[1];if(i)i(Object.assign(Object.assign({},e),{serviceZone:r}),[e.port]);else{var a=e.serviceName,o=this.serviceNameToOnConnect.get(a);if(o)this.handleConnectMessageToLocalService(o,e,t);else{var s=this.serviceNameToListenerConnection.get(a);s?s.postMessage(e,[e.port]):this.ensureBufferedConnectMessages(a).push([e,t])}}},t.handleConnectMessageToLocalService=function(e,t,n){var i=this,o=new r.a(t.port),s=function(t){var r;if(a(t.data)&&"connectedAck"===(r=t.data).type&&"port"in r&&r.port instanceof MessagePort){var s=n?i.messageEventSourceToNeighboringBrowsingContext.get(n):void 0;return e(t.data.port,null!==s&&void 0!==s?s:null),void o.close()}};o.addEventListener("message",s),o.addEventListener("connectionstatechange",(function e(){"closed"===o.connectionState&&(o.removeEventListener("message",s),o.removeEventListener("connectionstatechange",e))})),o.postMessage({__serviceNode:"1.0",type:"connected",serviceName:t.serviceName}),o.start()},t.handleRegisterMessage=function(e){var t=this,n=this.getForwardingServiceZone(e.serviceZone),i=n[0],a=n[1];if(a)a(Object.assign(Object.assign({},e),{serviceZone:i}),[e.port]);else{var o=e.serviceName,s=new r.a(e.port);if(this.serviceNameToListenerConnection.has(o)||this.serviceNameToOnConnect.has(o))s.close();else{this.serviceNameToListenerConnection.set(o,s),s.addEventListener("connectionstatechange",(function e(){"closed"===s.connectionState&&(t.serviceNameToListenerConnection.delete(o),t.serviceNameToBufferedConnectMessages.delete(o),s.removeEventListener("connectionstatechange",e))}));var c=this.serviceNameToBufferedConnectMessages.get(o);for(var l of(this.serviceNameToBufferedConnectMessages.delete(o),null!==c&&void 0!==c?c:[])){var u=l[0];s.postMessage(u,[u.port])}s.start()}}},t.handlePingMessage=function(e){var t;null===(t=e.source)||void 0===t||t.postMessage({__serviceNode:"1.0",type:"pong"},{targetOrigin:e.origin})},t.handlePongMessage=function(e){if(window.parent!==window&&e.source===parent&&!this.parentOrigin.ready){for(var t of this.parentOrigin.onReady)t(e.origin);this.parentOrigin={ready:!0,value:e.origin}}if(window.top&&window.top!==window&&e.source===top&&!this.topOrigin.ready){for(var n of this.topOrigin.onReady)n(e.origin);this.topOrigin={ready:!0,value:e.origin}}if(window.opener&&window.opener!==window&&e.source===opener&&!this.openerOrigin.ready){for(var r of this.openerOrigin.onReady)r(e.origin);this.openerOrigin={ready:!0,value:e.origin}}},t.getInitialServiceZone=function(e){if(u)switch(e){case"this":return["this",null];case"parent":return["this",[...this.sharedWorkerUpstreamPostMessages]];default:return[e,[...this.sharedWorkerUpstreamPostMessages]]}var t=this.getForwardingServiceZone(e),n=t[0],r=t[1];return r?[n,[r]]:[n,null]},t.getForwardingServiceZone=function(e){var t=this;if(d)switch(e){case"this":return["this",null];case"parent":return["this",function(e,t){globalThis.postMessage(e,t)}];default:return[e,function(e,t){globalThis.postMessage(e,t)}]}if(h)switch(e){case"opener":var n=window.opener;return n?["this",function(e,r){var i;t.openerOrigin.ready?n.postMessage(e,null!==(i=t.openerOrigin.value)&&void 0!==i?i:window.origin,r):t.openerOrigin.onReady.push((function(t){n.postMessage(e,t,r)}))}]:["this",null];case"top":var r=null!==window.top&&window!==window.top?window.top:null;return r?["this",function(e,n){var i;t.topOrigin.ready?r.postMessage(e,null!==(i=t.topOrigin.value)&&void 0!==i?i:window.origin,n):t.topOrigin.onReady.push((function(t){r.postMessage(e,t,n)}))}]:["this",null];case"parent":var i=window!==window.parent?window.parent:null;return i?["this",function(e,n){var r;t.parentOrigin.ready?i.postMessage(e,null!==(r=t.parentOrigin.value)&&void 0!==r?r:window.origin,n):t.parentOrigin.onReady.push((function(t){i.postMessage(e,t,n)}))}]:["this",null];default:return["this",null]}if(l)return["this",null];throw new Error("Unrecognized JavaScript environment")},t.sendConnectMessage=function(e,t){return c(this,void 0,void 0,(function*(){var n=this.makeConnectionAttempt(t),r=o(t.serviceName,n,t.serviceZone,t.serviceOrigin);e(r,[n])}))},t.sendRegisterMessage=function(e,t){var n=this,i=new MessageChannel,o=t.serviceName,c=new r.a(i.port1),l=function(e){a(e.data)&&s(e.data)&&n.handleConnectMessageToLocalService(t.onConnect,e.data,null)};c.addEventListener("message",l),c.addEventListener("connectionstatechange",(function e(){"closed"===c.connectionState&&(c.removeEventListener("message",l),c.removeEventListener("connectionstatechange",e),n.removeUpstreamListener(o,c))})),this.addUpstreamListener(o,c),c.start();var u=function(e,t,n,r){return{__serviceNode:"1.0",type:"register",serviceName:e,serviceZone:n,connectionOrigin:r,port:t}}(o,i.port2,t.serviceZone,t.connectionOrigin);e(u,[i.port2])},e}())},function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return y})),n.d(t,"c",(function(){return A}));var r=n(1316),i=n(1317),a=n(1318);function o(){for(var e=u[l-1];h>e;)c(--h);l--}function s(e,t,n){return 0===l&&(u[l++]=h,setTimeout(o,0)),d[h]=e,h++}function c(e){var t=d[e];d[e]=null,t&&t.release(void 0,void 0)}var l=0,u=[],d=[],h=0,f=("undefined"!==typeof window&&window,n(1319)),p=n(1321),g=n(1322),m=n(1320),v=0,y={isClass:!0,name:null,isNamed:null,mixins:[],ancestors:[],superclass:null,create:function(){var e=new this.Constructor;if(e.init.apply(e,arguments),!e._baseInitCalled)throw new r.a("Base init was never invoked. Overridden init methods must always call `super()`.");return e.isInitialized=!0,e},mixinWasApplied:i.a,isInitialized:!0,extend:function(){var e=Object.create(this),t=e.prototype=Object.create(e.prototype);e.isInitialized=!1,t.isInitialized=!1,e.mixins=e.mixins.slice();var n=function(){};if(n.prototype=t,e.Constructor=n,t.constructor=e,e.ancestors=this.ancestors.slice(),e.ancestors.push(this),e.superclass=this,b(e,arguments),e._baseInitCalled=!1,t._baseInitCalled=!1,e.init(),!e._baseInitCalled)throw new r.a("Base init was never invoked. Overridden init methods must always call `super()`.");return e.isInitialized=!0,e},init:function(){this._baseInitCalled=!0},hasMixin:function(e){return this.mixins.indexOf(e)>=0},subclassOf:function(e){return this.ancestors.indexOf(e)>=0},kindOf:function(e){return!!e&&(this.hasMixin(e)||this.subclassOf(e)||this===e)},toString:function(){return"[Class "+Object(a.a)(this)+"]"},toJSON:function(){return this.toString()},prototype:{_cwGUID:"",init:function(e){if(arguments.length>1)throw new r.a("Default initializer supports at most one argument. If you would like to apply a mixin it should be done when calling .extend().");var t;T(this,e),this.trackReferences&&((t=this)._trackRetain=E,t._trackRelease=I,t.referenceTracker={}),this._baseInitCalled=!0},_baseInitCalled:!1,_metadataKeysForCreate:null,isObject:!0,isInitialized:!0,isDisposing:!1,isDisposed:!1,_retainCount:0,retain:function(e,t){if(this.isDisposed)throw new r.a("Cannot retain an object that has already been disposed.",{object:this,type:this.constructor.name,referencer:e,description:t});this._retainCount++,this._trackRetain(e,t);var n=this._autoreleaseForTransferToken;return isNaN(n)||(this._autoreleaseForTransferToken=NaN,function(e,t){if(d[t]!==e)throw new r.a("CW.Utils._cancelAutorelease: attempted to cancel autorelease for a different object",{object:e});c(t)}(this,n)),this},release:function(e,t){var n=--this._retainCount,i=this._autoreleaseForTransferToken;if(isNaN(i)||(this._autoreleaseForTransferToken=NaN),this._trackRelease(e,t),n<0)throw new r.a("Cannot release an object more times than it has been retained.",{object:this,type:this.constructor.name,referencer:e,description:t,referenceTracker:this.referenceTracker,overreleasedReference:this.overreleasedReference});if(0===n){if(this.cleanup(),!this._baseCleanupCalled)throw new r.a("Base cleanup was never invoked. Overridden cleanup methods must always call `$super()`.",this);if(this._baseCleanupCalled=!1,this._captureDisposingObjectForPool(),this.isPooled){if(this.didEnterPool(),!this._baseDidEnterPoolCalled)throw new r.a("Base didEnterPool was never invoked. Overridden didEnterPool methods must always call `$super()`.",this);this._baseDidEnterPoolCalled=!1}else{if(this.isDisposing=!0,this.dispose(),!this._baseDisposeCalled)throw new r.a("Base dispose was never invoked. Overridden dispose methods must always call `$super()`.",this);this.isDisposing=!1,this.isDisposed=!0}}return this},autorelease:function(e,t){return s(this),this},_autoreleaseForTransfer:function(e,t){return this._autoreleaseForTransferToken=s(this),this},_autoreleaseForTransferToken:NaN,trackReferences:!1,referenceTracker:null,overreleasedReference:null,cleanup:function(){!function(e){var t=e._weakReferences;if(t){var n,r,i,a,o=t.length,s=A._bestBatchSetterClass.begin();for(n=0;n<o;n+=3)(i=t[n])&&(r=t[n+1],a=t[n+2],r.call(i,a,s));s.end(),t.length=0}}(this),this._baseCleanupCalled=!0},didEnterPool:function(){this._baseDidEnterPoolCalled=!0},dispose:function(){this._baseDisposeCalled=!0},_baseCleanupCalled:!1,_baseDidEnterPoolCalled:!1,_baseDisposeCalled:!1,_captureDisposingObjectForPool:i.a,registerWeakReference:function(e,t,n){var r,i=this._weakReferences;if(i){var a=this._weakReferenceAvailableIndicesLength;a>=0?(r=this._weakReferenceAvailableIndices[a],this._weakReferenceAvailableIndicesLength=a-1):r=i.length+1}else i=this._weakReferences=[],this._weakReferenceAvailableIndices=[],this._weakReferenceAvailableIndicesLength=-1,r=1;return i[r-1]=e,i[r]=t,i[r+1]=n,r},deregisterWeakReference:function(e){var t=this._weakReferences;if(!t[e-1])throw e===v?new r.a("Attempted to deregister the null weak reference token.",this):new r.a("Cannot deregister a weak reference that wasn't registered or was previously deregistered.",this);t[e-1]=t[e]=t[e+1]=null,this._weakReferenceAvailableIndices[++this._weakReferenceAvailableIndicesLength]=e},_weakReferences:null,_weakReferenceAvailableIndices:null,_weakReferenceAvailableIndicesLength:-1,_trackRetain:i.a,_trackRelease:i.a,_findLeakedAncestors:i.a,hasMixin:function(e){return this.constructor.hasMixin(e)},instanceOf:function(e){if(!e)return!1;if(e.isClass){var t=e&&e.Constructor;return!!t&&this instanceof t}return this.hasMixin(e)}}};Object.defineProperties(y,{name:{get:function(){return Object(a.a)(this)}},isNamed:{get:function(){return this.hasOwnProperty("__QUALIFIED_CLASS_NAME__")}}});var _=function(){};function b(e,t){var n,i,a=t.length;for(n=0;n<a;n++){if(!(i=t[n]))throw new r.a("Error: attempting to mixin undefined as a mixin to "+e.toString()+".");if(i.isClass)throw new r.a("Error: attempting to mixin class "+i.toString()+" as a mixin to "+e.toString()+". Cannot use classes as mixins.",{class:e,mixin:i});e.hasMixin(i)||w(e,i)}return e}function w(e,t){var n,r,i;return(n=t.mixinDependencies)&&b(e,n),e.mixins.push(t),S(e,r=t.staticMembers),T(e,r),S(i=e.prototype,t),T(i,t),e.mixinWasApplied(t),e}function S(e,t){if(t){var n=t.__superMap,r=e.__s;for(var i in r=r?Object.create(r):{},n){var a=n[i];r[i]=e[a]}e.__s=r}}_.prototype=y.prototype,y.Constructor=_,y.prototype.constructor=y;var E=function(e,t){var n=C(this.referenceTracker,e,t),r=++n.referenceCount;n.highestReferenceCount=Math.max(r,n.highestReferenceCount);var i=O();n.timestamps.push(i)},I=function(e,t){var n=C(this.referenceTracker,e,t),r=--n.referenceCount,i=0-O();n.timestamps.push(i),r<0&&(n.hasOverreleased=!0,this.overreleasedReference=n)};function C(e,t,n){var r=t?Object(a.a)(t)+" - "+Object(f.a)(t):"Unknown referencer",i=n?n+" - "+r:r,o=e[i];return o||(o=e[i]={descriptor:i,referenceCount:0,highestReferenceCount:0,timestamps:[],hasOverreleased:!1}),o}var O=function(){var e=Date.now();return function(){return(Date.now()-e)/1e3}}();function T(e,t){if(t){var n=Object.getOwnPropertyNames(t);n.push.apply(n,Object.getOwnPropertySymbols(t));for(var r=n.length,i=0;i<r;i++){var a=n[i];if("staticMembers"!==a&&"mixinDependencies"!==a){for(var o=t[a],s=!0;o&&o.initializeMember;)if(void 0===(o=o.initializeMember(e,a))){s=!1;break}s&&(e[a]=o)}}}}var A=y.extend(m.a,{staticMembers:{begin:function(){var e=this.create();return e.retain(e,N),e._isReady=!0,e},_bestBatchSetterClass:null,init:function(){this.__s._$C3x$init.apply(this,arguments),this._bestBatchSetterClass=this},__superMap:{_$C3x$init:"init"},__QUALIFIED_CLASS_NAME__:"NonObservableBatchSetter"},begin:function(){throw new r.a("BatchSetter Begin must be called on the class, reusing BatchSetter objects is not allowed.")},set:function(e,t,n){if(!this._isReady)throw new r.a("BatchSetter Begin must be called on the class before calling set, reusing BatchSetter objects is not allowed. (Path: %{path})",{path:t,object:e,value:n});if(!e||!t)throw new r.a("BatchSetter Set requires a path and an object. (Path: %{path}, Object: %{object})",{path:t,object:e,value:n});var i={rootObject:e,path:t,value:n};return this._toSetArray.push(i),this},setIfChanged:function(e,t,n){if(!this._isReady)throw new r.a("BatchSetter.begin must be called on the class before calling set, reusing BatchSetter objects is not allowed. (Path: %{path}, Object: %{object})",{path:t,object:e,value:n});return n!==this._getOldValue(e,t)&&this.set(e,t,n),this},end:function(){this._performSet(this._toSetArray),this._toSetArray.length=0,this._isReady=!1;var e=this._pointerTuple;e[0]=e[1]=null,this.release(this,N)},init:function(){this.__s._$CnS$init.apply(this,arguments),this._toSetArray=[],this._pointerTuple=new Array(2)},_isReady:!1,_toSetArray:null,_pointerTuple:null,_performSet:function(e){for(var t=this._pointerTuple,n=0,r=e.length;n<r;n++){var i=e[n],a=i.value,o=this._resolvePointer(i,t);o[0][o[1]]=a}},_resolvePointer:function(e,t){for(var n=Object(p.a)(e.path),r=e.rootObject,i=n.length,a=0;a<i-1;a++)r=r[n[a]];return t[0]=r,t[1]=n[i-1],t},_getOldValue:function(e,t){for(var n=this._toSetArray,r=n.length-1;r>=0;r--){var i=n[r],a=i.rootObject,o=i.path,s=i.value;if(a===e&&o===t)return s}return Object(g.a)(e,t)},__superMap:{_$CnS$init:"init"}}),N="BatchSetter: self-reference for the duration"},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var r=n(1316),i={staticMembers:{init:function(e){return this.isAbstract&&!this.hasOwnProperty("isAbstract")&&(this.isAbstract=!1),this.__s._$EA$init.call(this,e)},isAbstract:!0,__superMap:{_$EA$init:"init"}},init:function(e){if(this.constructor.isAbstract)throw new r.a("this class cannot be instantiated because it is abstract");this.__s._$Ko$init.call(this,e)},__superMap:{_$Ko$init:"init"}},a=n(1331),o={mixinDependencies:[i,a.b],initializeClass:function(){var e=s(this),t=this.constructor;t.isAbstract=!!e,t.missingRequires=e,this.__s._$uM$initializeClass.call(this)},staticMembers:{initializeClass:function(){var e=s(this);this.isAbstract=this.isAbstract||!!e,this.missingRequires+=e,this.__s._$12U$initializeClass.call(this)},__superMap:{_$12U$initializeClass:"initializeClass"}},init:function(e){if(this.constructor.isAbstract)throw new r.a(this+" cannot be instantiated because it is abstract. Missing keys: "+this.constructor.missingRequires);this.__s._$1A0$init.call(this,e)},__superMap:{_$uM$initializeClass:"initializeClass",_$1A0$init:"init"}};function s(e){var t=e.getMetadataByType(c),n="";for(var r in t)t[r].validate(e,r)||(n+="\n    "+r);return n}var c=a.a.extend({validate:function(e,t){return t in e},requiresSupport:o,isOnlyMetadataForKey:!1,allowedOnClass:!0,staticMembers:{__QUALIFIED_CLASS_NAME__:"Required"}})},function(e,t,n){"use strict";n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return F})),n.d(t,"c",(function(){return j}));var r=n(1315),i=n(1593),a=n(1337),o=n(1316),s=n(1321),c=n(1354),l=n(1356),u=n(1357),d=n(1355),h=n(1576),f=[],p=[],g=[],m=[],v=[],y=[],_=[],b=0,w=[],S=0;function E(){var e;return e=S>0?w[--S]:b++,f[e]=c.a.NULL_INDEX,p[e]=void 0,m[e]=void 0,g[e]=c.a.NULL_INDEX,v[e]=c.a.NULL_INDEX,y[e]=c.a.NULL_INDEX,_[e]=c.a.NULL_INDEX,e}var I=d.a.extend({staticMembers:{init:function(){this.__s._$1wC$init.apply(this,arguments),this.managers={}},instanceFor:function(e,t){var n=this.managers[t];return n||(n=this.managers[t]=this.create(e,t)),n},__superMap:{_$1wC$init:"init"},__QUALIFIED_CLASS_NAME__:"ChainedLookupNodeManager"},type:"ChainedLookupNodeManager",lookupID:"",init:function(e,t){this.__s._$2LI$init.call(this),this.lookupID=this.type+": "+t,this.key=e,this.lookupPath=t},setUpForObject:function(e,t,n){var r=t.downstreamNodes,i=this.lookupID,a=c.a._sanitizeNodeID(r[i]);if(a<0){r[i]=a=t.allocNode(this,c.a.PULL_ON_FLUSH|c.a.FREE);var o=E();f[o]=n,c.a.addChildToNode(a,n,!0),c.a.setDataForNode(o,a)}return a},calculateValueForNode:function(e,t,n){var r=c.a.getDataForNode(t);if(!c.a.isValidNodeID(f[r]))throw new o.a("Corrupted chained lookup manager on "+e.toString());var i=m[c.a.getValueForNode(f[r])];c.a.getParentIDs(t,O);var a=O[1];if(i!==p[r]){if(a>=0&&c.a.removeChildFromNode(t,a),a=c.a.NULL_INDEX,i){var s=this.key,l=i.downstreamNodes;l&&(a=c.a._sanitizeNodeID(l[s])),a>=0?c.a.addChildToNode(t,a,!1):R(this.key,this.lookupPath,i)}p[r]=i}return m[r]=a>0?c.a.getValueForNode(a):void 0,r},nodeWillFree:function(e,t){var n;n=c.a.getDataForNode(t),f[n]=c.a.NULL_INDEX,g[n]=c.a.NULL_INDEX,p[n]=void 0,m[n]=void 0,v[n]=c.a.NULL_INDEX,y[n]=c.a.NULL_INDEX,_[n]=c.a.NULL_INDEX,w[S++]=n},addDebugInfoForNode:function(e,t,n){t.type=this.type,t.object=e,t.key=this.lookupID,t.toString=function(){return this.object+"."+this.key},t.name=t.toString()},__superMap:{_$2LI$init:"init"}}),C=I.extend({staticMembers:{instanceFor:function(e){var t=this.managers[e];return t||(t=this.managers[e]=this.create(e)),t},__QUALIFIED_CLASS_NAME__:"ChainedLookupRootNodeManager"},type:"ChainedLookupRootNodeManager",init:function(e){this.__s._$4Qg$init.call(this,e,e)},setUpForObject:function(e,t){var n,r=t.downstreamNodes,i=this.lookupID,a=c.a._sanitizeNodeID(r[i]);if(a<0){if((n=c.a._sanitizeNodeID(r[this.key]))<0)throw new o.a("Chained binding could not look up key on object (key: "+this.key+", object: "+t+").",{key:this.key,object:t});r[i]=a=t.allocNode(this,c.a.PULL_ON_FLUSH|c.a.FREE);var s=E();c.a.setDataForNode(s,a),p[s]=t,c.a.addChildToNode(a,n,!0)}return a},calculateValueForNode:function(e,t,n){var r=c.a.getDataForNode(t);c.a.getParentIDs(t,O);var i=O[0];if(!c.a.isValidNodeID(i))throw new o.a("Corrupted chained root lookup manager on "+e.toString());var a=c.a.getValueForNode(i);return m[r]=a,r},__superMap:{_$4Qg$init:"init"}}),O=[0,0],T=[0],A=d.a.extend({calculateValueForNode:function(e,t,n){if(n){var r=c.a.getDataForNode(t),i=_[r];if(!c.a.isValidNodeID(i))throw new o.a("Corrupted downstream proxy manager on "+e.toString());c.a.getValueForNode(i),c.a.getParentIDs(t,O);var a,s=O[1];return c.a._sanitizeNodeID(s)>0&&(a=c.a.getValueForNode(s)),a}return c.a.getStateDataForNode(t)},isCacheable:!1,addDebugInfoForNode:function(e,t,n){t.type="ChainedLookupProxyNode (downstream)",t.object=e,t.key="[downstream proxy]",t.toString=function(){return this.object+"[downstream proxy]"},t.name=t.toString()},validateDescendantDownstreamNodeManager:function(e,t,n){c.a.getParentIDs(n,O);var r=O[1];r!==c.a.NULL_INDEX&&c.a.getManagerForNode(r).validateDescendantDownstreamNodeManager(e,t,r)},didAddParentToNode:function(e,t,n,r){if(1!==r){c.a.getChildrenIDs(t,T);var i=T[0];if(i!==c.a.NULL_INDEX){var a=c.a.getManagerForNode(i);a.isDependentComputedProperty||a.instanceOf(l.a)&&c.a.getManagerForNode(n).validateDescendantDownstreamNodeManager(a,i,n)}}}}).create(),N=u.b.extend({calculateValueForNode:function(e,t,n){var r=c.a.getDataForNode(t);c.a.getChildrenIDs(t,T);var i,a=T[0];if(!c.a.isValidNodeID(a))return r;if(n){var o=c.a.getStateIDForNode(t);i=this.pullDataFromParent(t,o)}else i=c.a.getStateDataForNode(t);return i!==u.a&&c.a.passValueToNode(i,a),r},addDebugInfoForNode:function(e,t,n){t.type="ChainedLookupProxyNode (upstream)",t.object=e,t.key="[upstream proxy]",t.toString=function(){return this.object+"[upstream proxy]"},t.name=t.toString()}}).create(),M=I.extend({type:"ChainedLookupTerminalNodeManager",connectUpstreamProxyNodeToLookedUpNodes:function(e,t,n){c.a.addChildToNode(e,t,n)},connectDownstreamProxyNodeToLookedUpNodes:function(e,t){c.a.addChildToNode(e,t,!1)},disconnectProxyNodeFromLookupUpNodes:function(e,t){c.a.removeChildFromNode(e,t)},getDownstreamProxyNode:function(e){var t=e.downstreamNodes,n=this.lookupID,r=c.a._sanitizeNodeID(t[n]),i=c.a.getDataForNode(r);return v[i]},getUpstreamProxyNode:function(e){var t=e.downstreamNodes,n=this.lookupID,r=c.a._sanitizeNodeID(t[n]),i=c.a.getDataForNode(r);return y[i]},setUpForObject:function(e,t,n,r){var i,a,o,s=t.downstreamNodes,l=this.lookupID,u=c.a._sanitizeNodeID(s[l]);return u<=0&&(s[l]=u=t.allocNode(this,c.a.PULL_ON_FLUSH|c.a.FREE|c.a.RELATIONSHIPS),i=E(),c.a.setDataForNode(i,u),_[i]=u,f[i]=n,a=t.allocNode(A,c.a.RELATIONSHIPS),s["Downstream Proxy for "+l]=a,v[i]=a,c.a.setDataForNode(i,a),c.a.addChildToNode(a,u,!1),o=t.allocNode(N,c.a.RELATIONSHIPS),t.upstreamNodes["Upstream Proxy for "+l]=o,y[i]=o,c.a.setDataForNode(i,o),this._shouldFlushUpstream=!!r,c.a.addChildToNode(u,n,!0)),u},getPreviouslyProxiedDownstreamNode:function(e){return c.a.getParentIDs(e,O),O[1]},calculateValueForNode:function(e,t,n){var r=c.a.getDataForNode(t);if(!c.a.isValidNodeID(f[r]))throw new o.a("Corrupted chained terminal manager on "+e.toString());var i=m[c.a.getValueForNode(f[r])],a=p[r];if(i!==a){p[r]=i;var s=this.key,l=y[r],u=v[r],d=this.getPreviouslyProxiedDownstreamNode(u),h=g[r];if(a&&(g[r]=c.a.NULL_INDEX,this.disconnectFromPreviousProperty(a,s,h,d,l,u)),i){var _,b,w=i.downstreamNodes;w&&(_=c.a._sanitizeNodeID(w[s])),(w=i.upstreamNodes)&&(b=c.a._sanitizeNodeID(w[s])),this.hookUpToNewProperty(i,s,b,_,l,u),g[r]=b}}return this._shouldFlushUpstream=!1,r},disconnectFromPreviousProperty:function(e,t,n,r,i,a){a>=0&&r>=0&&this.disconnectProxyNodeFromLookupUpNodes(a,r),i>=0&&n>=0&&this.disconnectProxyNodeFromLookupUpNodes(n,i)},hookUpToNewProperty:function(e,t,n,r,i,a){r>0?(n>0&&this.connectUpstreamProxyNodeToLookedUpNodes(n,i,this._shouldFlushUpstream),this.connectDownstreamProxyNodeToLookedUpNodes(a,r)):R(this.key,this.lookupPath,e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"ChainedLookupTerminalNodeManager"}}),D=M.extend({init:function(e,t){t+="Downstream",this.__s._$BIf$init.call(this,e,t)},connectUpstreamProxyNodeToLookedUpNodes:function(e,t,n){c.a.addChildToNode(t,e,n)},connectDownstreamProxyNodeToLookedUpNodes:function(e,t){c.a.addChildToNode(t,e,!0)},getPreviouslyProxiedDownstreamNode:function(e){return c.a.getChildrenIDs(e,T),T[0]},disconnectProxyNodeFromLookupUpNodes:function(e,t){c.a.removeChildFromNode(t,e)},disconnectFromPreviousProperty:function(e,t){e.isDisposed||e.unbind(t)},hookUpToNewProperty:function(e,t,n,r,i,a){var o=e.getMetadataByType(h.b)[t];o||R(this.key,this.lookupPath,e),o._disconnectNodes(r,n),o._configurePropertyAsBound(r,n),this.__s._$Bzw$hookUpToNewProperty.apply(this,arguments),c.a.triggerFlush()},nodeWillFree:function(e,t){var n=this.key,r=c.a.getDataForNode(t),i=p[r];i&&!i.isDisposed&&i.unbind(n),this.__s._$CB6$nodeWillFree.call(this,e,t)},__superMap:{_$BIf$init:"init",_$Bzw$hookUpToNewProperty:"hookUpToNewProperty",_$CB6$nodeWillFree:"nodeWillFree"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownstreamChainedLookupTerminalNodeManager"}});function R(e,t,n){var r;throw r=n&&n.constructor?"an instance of "+n.constructor.toString():n?n+"":"a missing object ("+n+")",new o.a("Attempted to bind or observe a non-observable property: '"+e+"' on "+r+", via path '"+t+"'.",{key:e,lookupPath:t,object:n})}var L={upstreamNode:0,downstreamNode:0,clear:function(){this.upstreamNode=0,this.downstreamNode=0}},k=Object(r.b)("BindingConnection",(function(e){e("CONNECT"),e("DONT_CONNECT"),e("OPTIONAL")})),x=Symbol("CW.OWNER"),F=i.a.extend(k.toStaticMixin(),{staticMembers:{createForPaths:function(e){var t,n,r=e?e.length:0,i=new Array(r);if(!e)return i;for(t=0;t<r;t++)(n=e[t]).instanceOf&&n.instanceOf(this)||(n=this.create(n)),i[t]=n;return i},hookUpBinding:function(e,t,n,r,i,o,s){t&&Object(a.a)(t)&&(t=this.create(t)),n&&Object(a.a)(n)&&(n=this.create(n)),void 0===o&&(o=this.OPTIONAL),void 0===s&&(s=this.CONNECT),L.clear(),P(e,t,r,!0,L);var l=L.upstreamNode,u=L.downstreamNode;L.clear(),P(e,n,r,!1,L);var d=L.upstreamNode,h=L.downstreamNode;if(s!==this.DONT_CONNECT)if(u>0&&h>0)c.a.addChildToNode(h,u,i);else if(s===this.CONNECT)return!1;if(o!==this.DONT_CONNECT)if(l>0&&d>0)c.a.addChildToNode(l,d,r);else if(o===this.CONNECT)return!1;return!0},hookUpDownstreamNode:function(e,t,n,r){L.clear(),P(e,t,!1,!0,L);var i=L.downstreamNode;return!(i<=0)&&(c.a.addChildToNode(n,i,r),!0)},__QUALIFIED_CLASS_NAME__:"Binding"},rootObject:null,path:"",components:null,init:function(e,t){if(this.__s._$3ez$init.call(this),!e)throw new o.a("Cannot create CW.Binding with no path.",{path:e});var n=!1;"."===e[0]&&(n=!0,e=e.substring(1));var r=Object(s.a)(e),i=r[0];if(!n)if("global"===i||"\ud83c\udf10"===i)t=window,r.shift();else if("(owner)"===i){if(t)throw new o.a("Cannot create a CW.Binding relative to (owner): %{path}. It already has a root object.",{rootObject:t,path:e});t=x,r.shift()}if(t!==x&&0===r.length)throw new o.a("Cannot create CW.Binding with an invalid path ('%{path}').",{path:e,rootObject:t});this.components=r,this.path=r.join("."),t&&(this.rootObject=t)},__superMap:{_$3ez$init:"init"}});function P(e,t,n,r,i){var a,s=t.components,l=s.length,u=0,d=t.rootObject||e;if(d===x)throw new o.a("CW.Binding cannot resolve path %{path}. (owner) was specified, but a value was not provided.",{path:t.path});for(a=s[u];d&&(!d.downstreamNodes||!d.downstreamNodes.hasOwnProperty(a));)d=d[a],a=s[++u];if(!d||u===l){var h=s.join(".");throw new o.a("No observable properties found along binding path ("+h+").",{object:e,path:h})}return u===l-1?function(e,t,n){var r=e.upstreamNodes[t];(r=c.a._sanitizeNodeID(r))>0&&(n.upstreamNode=r);var i=e.downstreamNodes[t];return(i=c.a._sanitizeNodeID(i))>0&&(n.downstreamNode=i),n}(d,a,i):function(e,t,n,r,i,a,o){var s,c,l=n.length,u=n[r],d=u;for(s=C.instanceFor(u).setUpForObject(e,t),r++;r<l-1;r++)d+="."+(u=n[r]),s=I.instanceFor(u,d).setUpForObject(e,t,s);return d+="."+(u=n[r]),(c=a?M.instanceFor(u,d):D.instanceFor(u,d)).setUpForObject(e,t,s,i),o.downstreamNode=c.getDownstreamProxyNode(t),o.upstreamNode=c.getUpstreamProxyNode(t),o}(e,d,s,u,n,r,i)}function j(e){return F.create(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(1330),i=n(1364),a=n(1345),o=n(1576),s=n(1339),c=n(1366).a.extend({init:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.__s._$87$init.apply(this,arguments);var e=Object(s.a)(this.updateDimensions,this);window.addEventListener("resize",e),window.document.addEventListener("DOMContentLoaded",e)},dispose:function(){var e=Object(s.a)(this.updateDimensions,this);return window.removeEventListener("resize",e),window.document.removeEventListener("DOMContentLoaded",e),this.__s._$Gt$dispose.apply(this,arguments)},x:0,y:0,width:0,height:0,updateDimensions:function(){this.beginBatchSet().setIfChanged("width",window.innerWidth).setIfChanged("height",window.innerHeight).end()},__superMap:{_$87$init:"init",_$Gt$dispose:"dispose"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BrowserWindow"}}),l=r.a.extend(i.a,o.a,{init:function(e){var t=e&&e.userAgent;t?delete e.userAgent:t=window.navigator.userAgent,t=t.toLowerCase();var n,r,i,a,o,c=/\sedge\//.test(t),l=!c&&/fxios/.test(t),u=!c&&!l&&/chrome|crios/.test(t),d=!c&&!l&&!u&&/safari/.test(t),h=l||!c&&!u&&!d&&/firefox/.test(t),f=!c&&!u&&!d&&!h&&/trident|msie/.test(t),p=c,g=!p&&/applewebkit/.test(t)&&!/edge/.test(t),m=!p&&!g&&/trident/.test(t),v=!p&&!g&&!m&&/gecko/.test(t);c?(n=t.match(/(?:edge).(\d+)\.(\d+)/),a=t.match(/(?:edge).(\d+)/)):(n=t.match(/(?:chrome|crios|version|firefox|fxios|msie|rv).(\d+)\.(\d+)/),a=t.match(/(?:applewebkit|gecko|trident).(\d+)/));var y=c||f;n&&(r=parseInt(n[1],10),i=parseInt(n[2],10)),a&&(o=parseInt(a[1])),this.__s._$t8$init.call(this,{isChrome:u,isSafari:d,isSafari12OrLower:d&&r<13,isFirefox:h,isEdge:c,isIE:f,isEdgeOrIE:y,isIE9OrLower:f&&r<10,isIE8OrLower:f&&r<9,majorVersion:r,minorVersion:i,isEdgeHTML:p,isWebKit:g,isGecko:v,isTrident:m,engineMajorVersion:o}),window.addEventListener("online",Object(s.a)(this.updateNetworkConnectionStatus,this)),window.addEventListener("offline",Object(s.a)(this.updateNetworkConnectionStatus,this)),this.updateNetworkConnectionStatus()},dispose:function(){return window.removeEventListener("online",Object(s.a)(this.updateNetworkConnectionStatus,this)),window.removeEventListener("offline",Object(s.a)(this.updateNetworkConnectionStatus,this)),this.__s._$1DW$dispose.apply(this,arguments)},updateNetworkConnectionStatus:function(){this.isOffline=!window.navigator.onLine},isOffline:Object(o.g)(),isChrome:void 0,isFirefox:void 0,isEdge:void 0,isIE:void 0,isEdgeOrIE:void 0,isIE9OrLower:void 0,isIE8OrLower:void 0,isSafari:void 0,majorVersion:void 0,minorVersion:void 0,isEdgeHTML:void 0,isWebKit:void 0,isGecko:void 0,isTrident:void 0,engineMajorVersion:void 0,window:Object(o.g)({strong:!0,defaultValue:Object(a.b)(c)}),__superMap:{_$t8$init:"init",_$1DW$dispose:"dispose"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Browser"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1334),i=n(1587),a=n(1368),o={mixinDependencies:[{mixinDependencies:[n(1594).a],isValid:a.a.define(),wasRemoved:a.a.define(),value:Object(i.c)({readOnly:!0,get:function(){return this.source.decode(this.encodedValue,this.position)}}),encodedValue:a.a.define(),start:Object(i.c)({get:function(){return this._provider.startHandle}}),next:a.a.define(),isAdjacentTo:function(e){return this.next===e||e.next===this},hasNext:a.a.define(),init:function(e,t){this.source=e,this._provider=t,this.__s._$28Q$init.call(this)},initFromPool:function(e,t){this.source=e,this._provider=t,this.__s._$2B9$initFromPool.call(this)},didEnterPool:function(){this.source=null,this._provider=null,this.__s._$2D0$didEnterPool.call(this)},source:Object(i.c)({strong:!0}),_provider:Object(i.c)(),__superMap:{_$28Q$init:"init",_$2B9$initFromPool:"initFromPool",_$2D0$didEnterPool:"didEnterPool"}}],atDistance:function(e){for(var t=Math.sign(e),n=this.retain(this,"atDistance: current handle"),r=0;r!==e;r+=t){var i=t>0?n.next:n.previous;i.retain(this,"atDistance: current handle"),n.release(this,"atDistance: current handle"),n=i}return n.autorelease(this,"atDistance: current handle")},hasHandleAtDistance:r.a.define(),end:Object(i.c)({get:function(){return this._provider.endHandle}}),previous:a.a.define(),hasPrevious:a.a.define()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return y}));var r=n(1330),i=n(1345),a=n(1316),o=n(1317),s=n(1304),c=n(1332),l=n(1365),u=n(1386),d=n(1378),h=n(1372),f=n(1374),p=r.a.extend(h.a,{application:null,events:null,init:function(e){var t=e&&e.element;if(t){var n=window.document,r=t;t===n&&(r=n.body),this._cursorLockElement=r,delete e.element}if(this.__s._$Z1$init.call(this,e),this._eventListeners=new Map,this.events)for(var i of this.events){var a=i.handlers,o=i.useCapture;for(var s of Object.entries(a)){var c=s[0],l=s[1].bind(this);this._eventListeners.set(c,[l,{capture:o||!1,passive:!1}])}}t&&this.addEventListenersToElement(t)},addEventListenersToElement:function(e){var t=window.document;for(var n of(!t||e!==t.body&&e!==t.documentElement||(e=window.document),g(e),this._listenedElements.push(e),this._eventListeners.entries())){var r=n[0],i=n[1],a=i[0],o=i[1];e.addEventListener(r,a,o)}},prependEventListenerToElement:function(e,t,n,r){var i=this._listenedElements.indexOf(e)>=0;i&&this._removeEventListener(e,t),n._fromCW=!0,e.addEventListener(t,n,r),i&&this._addEventListener(e,t)},_addEventListener:function(e,t){if(this._eventListeners.has(t)){var n=this._eventListeners.get(t),r=n[0],i=n[1];e.addEventListener(t,r,i)}},_removeEventListener:function(e,t){if(this._eventListeners.has(t)){var n=this._eventListeners.get(t),r=n[0],i=n[1];e.removeEventListener(t,r,i)}},_listenedElements:Object(i.b)(Array),_eventListeners:null,dispatchEvent:function(e){var t=this;if(!e)throw new a.a("RootResponder#dispatchEvent requires an event.");var n,r,i=e.cwType;"keyDown"!==i&&"keyUp"!==i||u.a.sharedInstance[i](e),"pointerDown"===i&&u.a.sharedInstance.syncMetaKeyStateFromEvent(e),"number"===typeof e.pointerId&&(n=this.getPointerCapture(e.pointerId));var o=v(e);if(e.targetView=o,this._synthesizePointerMoveEventsIfNecessary(e),n){if(!function(e,t){var n=t.cwType;if("pointerUp"===n||"pointerCancel"===n||"pointerMove"===n)return!0;var r=m(t.target);return!r||e.get("element")===r}(n,e))return;r=n}else(r=o)||(r=this.getPath("application.topFocusLayer.focusResponder"));r||(r=this),this.willDispatchEvent(e);var s=!1;if(e.bubbles?s=Object(f.a)(r,i,e):r.handleEvent&&(b[0]=i,b[1]=e,s=r.handleEvent.apply(r,b),b[0]="",b[1]=null),this.didDispatchEvent(e,s),e.pointerType===d.b.TOUCH&&("pointerUp"===i||"pointerCancel"===i)){if(!o||!o.isDisposed){var c=d.a.create({nativeEvent:e,cwType:"pointerOut",target:e.target});this.dispatchEvent(c)}for(var l=o;l&&!l.isDisposed;){var h=d.a.create({cwType:"pointerLeave",bubbles:!1,target:l.element});this.dispatchEvent(h),l=l.parent}}var p=(e.nativeEvent||e||{}).defaultPrevented;return"pointerUp"!==i||p||(this._resetPointerUpSeen(),this._pointerUpSeen=!0,this._pointerUpSeenInfo={target:e.target},this._pointerUpSeenInfo.timeout=setTimeout((function(){t._resetPointerUpSeen()}),1e3)),"click"===i&&this._pointerUpSeenInfo&&this._pointerUpSeenInfo.target===e.target&&this._resetPointerUpSeen(),s},_pointerUpSeen:!1,_pointerUpSeenInfo:null,_clearPointerUpInfo:function(){this._pointerUpSeenInfo&&(this._pointerUpSeenInfo.timeout&&clearTimeout(this._pointerUpSeenInfo.timeout),this._pointerUpSeenInfo=null)},_resetPointerUpSeen:function(){this._pointerUpSeen=!1,this._clearPointerUpInfo()},_synthesizePointerMoveEventsIfNecessary:function(e){var t,n=e.cwType;if("pointerOut"===n&&this._checkIfPointerLeft(e),"pointerMove"===n&&this._dispatchPointerEnterOrLeave(e,e.targetView),e.pointerType===d.b.TOUCH&&"pointerDown"===n)for(t=e.targetView;t;){var r=d.a.create({cwType:"pointerEnter",bubbles:!1,target:t.element});this.dispatchEvent(r);var i=d.a.create({target:t.element,bubbles:!1,cwType:"pointerOver"});this.dispatchEvent(i),t=t.parent}},_checkIfPointerLeft:function(e){for(var t=e.relatedTarget,n=this._listenedElements,r=n.length,i=0;i<r;i++)if(n[i].contains(t))return;return this._pointerLeft(e)},_previousPointerMoveView:null,_previousViewAncestors:Object(i.b)(Array),_previousViewAncestorsSwap:Object(i.b)(Array),_pointerLeft:function(e){return this._dispatchPointerEnterOrLeave(e,null),!1},_dispatchPointerEnterOrLeave:function(e,t){if(t!==this._previousPointerMoveView){var n=this._previousViewAncestorsSwap;n.length=0;for(var r=t;r;)n.push(r),r=r.parent;for(var i,a=n.length-1,o=this._previousViewAncestors,s=o.length-1;o[s]===n[a]&&s>=0&&a>=0;)s--,a--;for(i=0;i<=s;i++){var c=o[i];if(!c.isDisposed){var l=d.a.create({cwType:"pointerLeave",bubbles:!1,target:c.element});this.dispatchEvent(l)}}for(i=0;i<=a;i++){var u=n[i],h=d.a.create({cwType:"pointerEnter",bubbles:!1,target:u.element});this.dispatchEvent(h)}this._previousViewAncestors=n,this._previousViewAncestorsSwap=o,this._previousPointerMoveView=t}},willDispatchEvent:o.a,didDispatchEvent:o.a,lockCursor:function(e){var t;switch(e){case"default":t="cw-global-cursor-default";break;case"pointer":t="cw-global-cursor-pointer";break;case"horizontal-resize":t="cw-global-cursor-horizontal-resize";break;case"vertical-resize":t="cw-global-cursor-vertical-resize"}var n=this._cursorLockElement;t&&n.classList.add(t),this._cursorLockClassName=t,n.addEventListener("selectstart",_)},releaseCursor:function(){var e=this._cursorLockClassName,t=this._cursorLockElement;e&&t.classList.remove(e),this._cursorLockClassName=null,t.removeEventListener("selectstart",_)},__superMap:{_$Z1$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"RootResponder"}}),g=function(e){if(l.b.isPointerSupported){var t=window.document;e===t&&(e=t.body);var n=e.style;n?(n.msTouchAction="none",n.touchAction="none"):s.b.warn("Could not attach `touch-action` property to the `RootResponder`\u2019s element. Some touch events will be handled by default browser behavior instead of going to the `RootResponder`.")}};function m(e){return Object(c.a)(e,window.SVGElementInstance)?e.correspondingElement:e}function v(e){return y(m(e.target))}function y(e){for(var t;e&&!(t=e.view);)e=e.parentNode;return t}function _(e){return e.preventDefault&&e.preventDefault(),!1}var b=new Array(2)},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1316),i=n(1389),a=n(1575),o=n(1387),s="__CW_SPRITE_LOADED",c="__CW_SPRITE_ERROR",l=i.a.extend({action:function(e){if(window.__CW_BLOBS_READY)return o.a.resolve();var t=o.a.create(),n=function(){t.resolve()},i=function(e){if(!e.data)throw new r.a("Failed to preload images in SpritePreloader");t.reject(e.data)};return window.addEventListener(s,n),window.addEventListener(c,i),t.finally((function(){window.removeEventListener(s,n),window.removeEventListener(c,i)}))},staticMembers:{__QUALIFIED_CLASS_NAME__:"SpritePreloader"}}),u=i.a.extend({dependencies:[a.a,l],action:function(e){var t=e.rootViewController;if(!t){var n=e.getRootViewController;if(!n)throw new r.a("Application#getRootViewController must return a root view controller, or a promise which resolves to one.");return Promise.resolve(n()).then((function(t){if(!t)throw new r.a("Application#getRootViewController must return a root view controller, or a promise which resolves to one.");e.rootViewController=t}))}t.isClass&&(e.rootViewController=t.create())},staticMembers:{__QUALIFIED_CLASS_NAME__:"RootViewControllerInitializer"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(1390),i=n(1603),a=n(1385),o=n(1332),s=n(1316),c=n(1576),l=n(1578),u=n(1345),d=n(1587),h=n(1601),f=n(1602),p=n(1584),g=n(1428),m=p.a.extend({modalDialogDidDismiss:function(){this.hide()},dismissModalDialog:function(){this.view&&this.view.instanceOf(g.a)&&this.view.animateClosed()},staticMembers:{__QUALIFIED_CLASS_NAME__:"ModalDialogViewController"}}),v=n(1430),y=r.a.extend({viewClass:h.a,view:Object(c.g)({downstreamBindings:{iconNames:"(owner).iconNames",message:"(owner).message",description:"(owner).description",alertStyle:"(owner).alertStyle",accessoryView:"(owner).accessoryView",buttonViews:"(owner).buttonViews"}}),iconNames:Object(c.g)(),message:Object(c.g)(),description:Object(c.g)(),alertStyle:Object(c.g)(),accessoryView:Object(c.g)(),buttonViews:Object(c.g)(),staticMembers:{__QUALIFIED_CLASS_NAME__:"AlertContentController"}}),_=m.extend({staticMembers:{show:function(e){var t=this.create(e);return t.show(),t},__QUALIFIED_CLASS_NAME__:"AlertViewController"},message:Object(c.g)(),description:Object(c.g)(),iconNames:Object(c.g)(),alertStyle:Object(c.g)(v.a.ALERT),accessoryView:Object(c.g)({strong:!0,didChange:function(e){if(e){e.alertView=this.view;var t=this._previousAccessoryView;t&&(t.alertView=null,this._previousAccessoryView=e)}}}),buttons:Object(c.g)({type:l.b}),primaryButton:Object(c.g)({set:function(e){if(e)return e.isPrimary=!0,e.isDestructive=!1,this.createButton(e)}}),alternateButton:Object(c.g)({set:function(e){if(e)return e.isAlternate=!0,this.createButton(e)}}),otherButton:Object(c.g)({set:function(e){if(e)return this.createButton(e)}}),createButtonView:function(e){return f.a.create(e)},createButton:function(e){if(e){!1===Object(o.a)(e,i.a)&&(e=this.createButtonView(e));var t=e.element.classList;if(!0===e.isPrimary&&(t.add("primary"),void 0===e.keyEquivalent&&(e.keyEquivalent=a.a.RETURN)),!0===e.isAlternate){if(!0===e.isPrimary)throw new s.a("AlertButton cannot be configured as both `isPrimary` and `isAlternate`.",{button:e});t.add("alternate"),void 0===e.keyEquivalent&&(e.keyEquivalent=a.a.ESC)}return!0===e.isDestructive&&t.add("destructive"),e}},viewClass:h.b,contentController:Object(c.g)({defaultValue:Object(u.b)(y),downstreamBindings:{iconNames:"(owner).iconNames",message:"(owner).message",description:"(owner).description",alertStyle:"(owner).alertStyle",accessoryView:"(owner).accessoryView",buttonViews:"(owner).buttonViews"}}),_previousAccessoryView:Object(d.c)({strong:!0}),_buttonViewsArray0:Object(d.c)({get:function(){return l.b.create()}}),_buttonViewsArray1:Object(d.c)({get:function(){return l.b.create()}}),_currentlyUsingButtonViewsArray1:!0,buttonViews:Object(c.g)({readOnly:!0,dependencies:["primaryButton","alternateButton","otherButton","buttons","buttons.contentsDidChange"],get:Object.assign((function(){var e=this,t=this.primaryButton,n=this.alternateButton,r=this.otherButton,i=this.buttons;if(i&&(t||n||r))throw new s.a("Cannot use `primaryButton`/`alternateButton`/`otherButton` API in conjunction with the `buttons[]` API.",{primaryButton:t,alternateButton:n,otherButton:r,buttons:i});var a=this._currentlyUsingButtonViewsArray1,o=a?this._buttonViewsArray0:this._buttonViewsArray1;return o.length=0,i?i.forEach((function(t){t&&o.push(e.createButton(t))})):(r&&b(o,r),n&&b(o,n),t&&b(o,t)),this._currentlyUsingButtonViewsArray1=!a,o}),{__CW__getter:function(e,t,n,r){var i=this,a=r.internalGet(this,t[0+n]),o=r.internalGet(this,t[1+n]),c=r.internalGet(this,t[2+n]),l=r.internalGet(this,t[3+n]);if(l&&(a||o||c))throw new s.a("Cannot use `primaryButton`/`alternateButton`/`otherButton` API in conjunction with the `buttons[]` API.",{primaryButton:a,alternateButton:o,otherButton:c,buttons:l});var u=this._currentlyUsingButtonViewsArray1,d=u?this._buttonViewsArray0:this._buttonViewsArray1;return d.length=0,l?l.forEach((function(e){e&&d.push(i.createButton(e))})):(c&&b(d,c),o&&b(d,o),a&&b(d,a)),this._currentlyUsingButtonViewsArray1=!u,d}})})}),b=function(e,t){if(t.isDestructive)e.push(t);else{for(var n=0,r=0;r<e.length&&!e.objectAt(r).isDestructive;r++)n=r+1;e.splice(n,0,t)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n(1428),i=n(1576),a={staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:["cw-modal-dialog"],attributes:{role:{key:"role",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"modalDialogRole",attributes:{},attribute:"role"},type:"ATTRIBUTE"},"aria-labelledby":{key:"aria-labelledby",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaLabelledByID",attributes:{},attribute:"aria-labelledby"},type:"ATTRIBUTE"},"aria-describedby":{key:"aria-describedby",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaDescribedByID",attributes:{},attribute:"aria-describedby"},type:"ATTRIBUTE"},tabindex:{key:"tabindex",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"tabIndex",attributes:{},attribute:"tabindex"},type:"ATTRIBUTE"}}}}},isFocusable:!0,tabIndex:Object(i.g)(-1),ariaLabelledByID:Object(i.g)(),ariaDescribedByID:Object(i.g)(),modalDialogRole:Object(i.g)("dialog")},o=n(1381),s=n(1579),c=1,l=s.a.extend(a,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",name:"alertIcon",classes:["alert-icon"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"h1",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"message",attributes:{}}],classes:["message"],attributes:{id:{key:"id",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaLabelledByID",attributes:{},attribute:"id"},type:"ATTRIBUTE"},tabindex:"0"}},{type:"ELEMENT",tagname:"p",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"description",attributes:{}}],classes:["description"],attributes:{id:{key:"id",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaDescribedByID",attributes:{},attribute:"id"},type:"ATTRIBUTE"},tabindex:"0"}}],name:"contentWrapper",classes:["alert-text-container"]}],classes:["alert-main-content"]},{type:"VIEWOUTLET",tagname:"view",name:"accessoryView",classes:["alert-accessory-view"]}],classes:["main-container",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_hasText",truevalue:"",falsevalue:"cw-hidden",attributes:{}}]},{type:"MULTIVIEWOUTLET",tagname:"views",name:"buttonViews",classes:["alert-button-container",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_hasMoreThanTwoButtons",truevalue:"has-more-than-two-buttons",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_hasOtherButton",truevalue:"has-other-button",attributes:{}}]}],classes:["cw-alert",{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"_alertStyleClassName",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"AlertContentView"},ariaLabelledByID:Object(i.g)({readOnly:!0,get:function(){return"alert-m-"+ ++c}}),ariaDescribedByID:Object(i.g)({readOnly:!0,get:function(){return"alert-d-"+c++}}),message:Object(i.g)(),description:Object(i.g)(),iconNames:Object(i.g)(),alertStyle:Object(i.g)(),_alertStyleClassName:Object(i.g)({readOnly:!0,dependencies:["alertStyle"],get:Object.assign((function(){return this.alertStyle?this.alertStyle.value:""}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[0+n])?r.internalGet(this,t[0+n]).value:""}})}),_hasText:Object(i.g)({readOnly:!0,dependencies:["message","description"],get:Object.assign((function(){return Boolean(this.message||this.description)}),{__CW__getter:function(e,t,n,r){return Boolean(r.internalGet(this,t[0+n])||r.internalGet(this,t[1+n]))}})}),_hasMoreThanTwoButtons:Object(i.g)({dependencies:["buttonViews","buttonViews.contentsDidChange"],type:Boolean,readOnly:!0,get:Object.assign((function(){var e=this.buttonViews;return void 0!==e&&e.length>2}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return void 0!==i&&i.length>2}})}),_hasOtherButton:Object(i.g)({dependencies:["buttonViews","buttonViews.contentsDidChange"],type:Boolean,readOnly:!0,get:Object.assign((function(){var e=this.buttonViews;return void 0!==e&&e.length>1&&(e.length>2||!0!==e.objectAt(1).isAlternate)}),{__CW__getter:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return void 0!==i&&i.length>1&&(i.length>2||!0!==i.objectAt(1).isAlternate)}})}),_iconNamesDidChange:Object(i.h)({inputs:["iconNames"],callback:function(e){var t=this.get("alertIcon");this._originalClassName?t.className=this._originalClassName:this._originalClassName=t.className,e&&(e instanceof Array?e.forEach((function(e){t.classList.add(e)})):t.classList.add(e))}}),disableAllButtons:function(){this.buttonViews.forEach((function(e){e.isDisabled=!0}))},enableAllButtons:function(){this.buttonViews.forEach((function(e){e.isDisabled=!1}))},buttonViews:Object(i.g)()}),u=r.a.extend({additionalClassNames:Object(o.a)(["cw-ui-alert-view","cw-alert-modal"]),buttonDidActivate:function(e){this.sendEvent("alertWillDismiss"),this.contentView&&this.contentView.disableAllButtons(),this.animateClosed()},dismissOnEscape:!1,staticMembers:{__QUALIFIED_CLASS_NAME__:"AlertView"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1579),i=n(1603),a=n(1576),o=r.a.extend(i.a,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{signal:"titleDidRender"}}],classes:["title"]}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasLeftIcon",truevalue:"cw-has-left-icon",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasRightIcon",truevalue:"cw-has-right-icon",attributes:{}}],attributes:{title:{key:"title",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"tooltip",attributes:{},attribute:"title"},type:"ATTRIBUTE"}}}},className:"cw-button",__QUALIFIED_CLASS_NAME__:"Button"},title:Object(a.g)(""),tooltip:Object(a.g)(""),hasLeftIcon:Object(a.g)(!1),hasRightIcon:Object(a.g)(!1)})},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(1353),i=n(1345),a=n(1372),o=n(1391),s=n(1385),c=n(1417),l=n(1576),u=n(1431),d=n(1587),h={mixinDependencies:[n(1398).a],staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isBeingPressed",truevalue:"cw-being-pressed",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isBeingHovered",truevalue:"cw-being-hovered",attributes:{}}]}}},_rootResponder:Object(d.c)({readOnly:!0,get:function(){for(var e=this.nextResponder,t=this;e;)t=e,e=e.nextResponder;return t}}),isBeingPressed:Object(l.g)(!1),isBeingHovered:Object(l.g)(!1),isPointerActivationDisabled:Object(l.g)(!1),pointerActivate:function(e){},pointerHitTest:function(e){var t=document.elementFromPoint(e.clientX,e.clientY);return this.element.contains(t)},pointerDown:function(e){return!this.isPointerActivationDisabled&&0===e.button&&!!this.pointerHitTest(e)&&(this.setPointerCapture(e.pointerId),this.updateHoverPressState(e),!0)},pointerOut:function(e){return this.updateHoverPressState(e),!1},pointerOver:function(e){return this.updateHoverPressState(e),!1},pointerUp:function(e){var t=!1;if(this.getPointerCapture(e.pointerId)!==this?t=!0:this.pointerHitTest(e)?(this.isDisabled||0!==e.button)&&(t=!0):t=!0,t)return this.releasePointerCapture(e.pointerId),this.updateHoverPressState(e),!1;this.releasePointerCapture(e.pointerId);var n=this.isBeingPressed;return this.updateHoverPressState(e),n&&this.pointerActivate(e),!0},click:function(e){this._rootResponder._pointerUpSeen||this.pointerActivate(e)},pointerMove:function(e){return this.updateHoverPressState(e),this.getPointerCapture(e.pointerId)===this},setPointerCapture:function(e){return this._capturedPointerId=e,this.sendEvent("lockCursor",this.getPath("style.cursor")),this.__s._$25V$setPointerCapture.apply(this,arguments)},releasePointerCapture:function(e){return this._capturedPointerId=NaN,this.sendEvent("releaseCursor"),this.__s._$2Bo$releasePointerCapture.apply(this,arguments)},cancelPointerInteraction:function(){var e=this._capturedPointerId;isNaN(e)||this.releasePointerCapture(e),this.beginBatchSet().setIfChanged("isBeingPressed",!1).setIfChanged("isBeingHovered",!1).end()},updateHoverPressState:function(e){var t=Boolean("pointerOut"!==e.cwType&&this.pointerHitTest(e)),n=this.getPointerCapture(e.pointerId)===this,r=this.isPointerActivationDisabled;this.beginBatchSet().setIfChanged("isBeingPressed",n&&t&&!r).setIfChanged("isBeingHovered",(n||t)&&!r).end()},_releasePointerCaptureWhenUnattached:Object(l.h)("isAttached","isPointerActivationDisabled",(function(e,t){e&&!t||this.cancelPointerInteraction()})),dispose:function(){this.cancelPointerInteraction(),this.__s._$2h7$dispose.apply(this,arguments)},__superMap:{_$25V$setPointerCapture:"setPointerCapture",_$2Bo$releasePointerCapture:"releasePointerCapture",_$2h7$dispose:"dispose"}},f={mixinDependencies:[u.a,a.a,c.a,h,o.a],staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isPointerFocused",truevalue:"cw-is-pointer-focused",falsevalue:"",attributes:{}}],attributes:{"aria-haspopup":{key:"aria-haspopup",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaHasPopup",attributes:{},attribute:"aria-haspopup"},type:"ATTRIBUTE"},"aria-owns":{key:"aria-owns",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaOwns",attributes:{},attribute:"aria-owns"},type:"ATTRIBUTE"}}}}},isPointerActivationDisabled:Object(l.g)({readOnly:!0,binding:"isDisabled"}),isPointerFocused:Object(l.g)({type:Boolean,readOnly:!0,dependencies:["isFocused","_mayBePointerFocused"],get:Object.assign((function(){return this._mayBePointerFocused&&this.isFocused}),{__CW__getter:function(e,t,n,r){return r.internalGet(this,t[1+n])&&r.internalGet(this,t[0+n])}})}),_mayBePointerFocused:Object(l.g)({type:Boolean,defaultValue:!1}),action:Object(l.g)({type:"string",defaultValue:"wasActivated"}),context:Object(l.g)({defaultValue:r.a}),contextKeys:Object(i.b)(["context"]),keyEquivalent:Object(l.g)({didChange:function(e){e&&this.sendEvent("registerKeyEquivalent",this)}}),isAttachedDidChange:Object(l.h)("isAttached",(function(e){e&&this.keyEquivalent&&this.sendEvent("registerKeyEquivalent",this)})),performKeyEquivalent:function(e){var t=this.keyEquivalent,n=e.keyCode,r=n===t;return(r=r||t.some&&t.some((function(e){return e===n})))&&this.triggerButtonAction()},pointerDown:function(e){var t=this.__s._$30y$pointerDown.apply(this,arguments);return e.preventDefault(),!this.isDisabled&&this.isFocusable&&(this._mayBePointerFocused=!0),t},keyUp:function(e){e.which!==s.a.SPACE||this.isDisabled||this.triggerButtonAction()},didBlur:function(){this._mayBePointerFocused=!1,this.__s._$3C6$didBlur.apply(this,arguments)},pointerActivate:function(e){this.__s._$3Fp$pointerActivate.apply(this,arguments),this.triggerButtonAction()},delayAction:!1,triggerButtonAction:function(){return!this.isDisabled&&(this.sendEvent("buttonWillActivate",this),this.delayAction?setTimeout(this._actuallyTriggerButtonAction.bind(this),0):this._actuallyTriggerButtonAction(),!0)},_actuallyTriggerButtonAction:function(){if(this.target)this.callAction();else{for(var e=[this.action],t=this.contextKeys,n=0,r=t.length;n<r;n++)e.push(this[t[n]]);this.sendEvent.apply(this,e)}this.sendEvent("buttonDidActivate",this)},ariaRole:"button",ariaHasPopup:Object(l.g)(),ariaOwns:Object(l.g)(),__superMap:{_$30y$pointerDown:"pointerDown",_$3C6$didBlur:"didBlur",_$3Fp$pointerActivate:"pointerActivate"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r,i=Uint8Array||Array;r="undefined"!==typeof crypto&&crypto.getRandomValues?function(e){window.crypto.getRandomValues(e)}:function(e){for(var t,n,r,i=0;i<16;)for(n=Math.random(),t=0;t<4;i++,t++)r=0|(n*=256),e[i]=r,n-=r};var a,o=n(1432);function s(){var e;return e=(e=a)||new i(16),r(e),e[6]=15&e[6]|64,e[8]=63&e[8]|128,a=e,Object(o.a)(a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1330),i=n(1576),a=n(1371),o=n(1316),s=n(1445),c=n(1425),l=n(1436),u=r.a.extend(i.a,s.a,{autoconnect:!0,isDisconnected:Object(i.g)({readOnly:!0,get:function(){return this._isDisconnected}}),incomingMessage:Object(i.i)(),outgoingMessage:Object(i.i)(),outgoingWindow:a.a.define(),remoteOrigin:Object(i.g)({type:"string"}),_isDisconnected:!0,_messageHandler:null,connect:function(){if(this.isDisconnected){if(!this.outgoingWindow||!this.outgoingWindow.postMessage)throw new o.a("The `outgoingWindow` must be configured and support `postMessage()`");window.addEventListener("message",this._messageHandler),this._isDisconnected=!1,this.propertyChanged("isDisconnected")}},disconnect:function(){this.isDisconnected||(window.removeEventListener("message",this._messageHandler),this._isDisconnected=!0,this.propertyChanged("isDisconnected"))},init:function(){this._messageHandler=d.bind(this),this.__s._$1AC$init.apply(this,arguments)},send:function(e){if(this.outgoingWindow&&this.outgoingWindow.postMessage){if(this.isDisconnected)throw new o.a("Cannot send message because the channel has not been connected.",this);var t=this.remoteOrigin;if(!t)throw new o.a("Cannot send message without `remoteOrigin` specified.",this);this.outgoingWindow.postMessage(e,t),this.outgoingMessage(e)}},outgoingWindowDidChange:Object(i.h)("outgoingWindow",(function(e){e?this.autoconnect&&this.connect():this.disconnect()})),__superMap:{_$1AC$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"WindowPostMessageChannel"}});function d(e){var t=e.originalEvent,n=(t||e).origin,r=this.outgoingWindow,i=e.source,a=r===i;try{a||(a=r.actualOutgoingWindow===i)}catch(o){a=!1}a&&function(e,t){if("*"===e||"*"===t)return!0;var n=l.a.parse(e),r=l.a.parse(t);if(Object(c.a)(n.protocol)||Object(c.a)(r.protocol)||n.protocol!==r.protocol)return!1;if(Object(c.a)(n.hostname)||Object(c.a)(r.hostname)||n.hostname!==r.hostname)return!1;if(e===t)return!0;var i=n.port;Object(c.a)(i)&&(i="https:"===n.protocol?"443":"80");var a=r.port;return Object(c.a)(a)&&(a="https:"===r.protocol?"443":"80"),i===a}(n,this.remoteOrigin)&&this.incomingMessage((t||e).data)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(1330),i=n(1304),a=n(1316),o=n(1436),s=n(1582),c=n(1411),l=n(1340),u=n(1442),d=r.a.extend(u.a,{regionFormat:"",formattingRules:{},serializedProperties:["regionFormat","formattingRules"],toString:function(){return this.serialize()},staticMembers:{__QUALIFIED_CLASS_NAME__:"Response"}}),h=(n(1435),globalThis.IntlPolyfill),f=r.a.extend({_region:null,_cachedNumberInstances:{},_cachedDateTimeInstances:{},_pendingRegionsToRegister:{},_is12HourTimeForRegions:{},localeMap:null,SHORT_DATE:{month:"numeric",day:"numeric",year:"numeric"},MEDIUM_DATE:{month:"short",day:"numeric",year:"numeric"},LONG_DATE:{month:"long",day:"numeric",year:"numeric"},FULL_DATE:{weekday:"long",month:"long",day:"numeric",year:"numeric"},SHORT_TIME:{hour:"numeric",minute:"numeric"},MEDIUM_TIME:{hour:"numeric",minute:"numeric",second:"numeric"},LONG_TIME:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},FULL_TIME:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},registerRegionFormat:function(e){if(e&&h){h.__disableRegExpRestore();var t=e.locale.toLowerCase();this._region=t,this._pendingRegionsToRegister[t]=e}else i.b.info("No Intl polyfill or region rules. Skipping RegionFormatter initialization.")},loadFormattingRules:function(e,t,n){e.validate()||a.b("Invalid hostInfo",e.errors);var r=this.localeMap;r&&t in r&&(t=r[t]);var i=o.a.create(e.urlString),c=s.a.create(e.requestProperties);n||(n={});var l=n.fallbackRegionFormat||"en-us",u="maxRetries"in n?n.maxRetries:3,h=i.pathname;"/"!==h.charAt(h.length-1)&&(i.pathname=h+"/");var f=this._getISOnameForRegion(t);return i.pathname=i.pathname+f+".json",c.url=i,c.send().then(function(e){var n=e.body;return this.registerRegionFormat(n),d.create({regionFormat:t,formattingRules:n})}.bind(this)).catch(function(r){var i=t.split("-"),a=l;if(404===r.status&&t!==l&&i.length>1&&(i.pop(),a=i.join("-")),u>0)return a===l&&(n.maxRetries=u-1),this.loadFormattingRules(e,a,n);throw new Error('Cannot load region formatting rules for "'+t+'".')}.bind(this))},getNumberFormatter:function(e){h||a.b("Cannot use Intl without polyfill."),this._registerPendingRegionFormats();var t=this._getCacheKeyForOptions(e),n=this._cachedNumberInstances[t];return n||(n=new h.NumberFormat(this._region,e),this._cachedNumberInstances[t]=n),n},getDateTimeFormatter:function(e){h||a.b("Cannot use Intl without polyfill."),this._registerPendingRegionFormats();var t=this._getCacheKeyForOptions(e),n=this._cachedDateTimeInstances[t];return n||(n=new h.DateTimeFormat(this._region,e),this._cachedDateTimeInstances[t]=n),n},is12HourTime:function(e){this._registerPendingRegionFormats();var t=e?e.toLowerCase():this._region;return this._is12HourTimeForRegions[t]},_registerPendingRegionFormats:function(){for(var e=this._pendingRegionsToRegister,t=Object.keys(e),n=0;n<t.length;n++){var r=e[t[n]];h.__addLocaleData(c.a(r));var i=r.locale.toLowerCase();this._is12HourTimeForRegions[i]=r.date.hour12,delete this._pendingRegionsToRegister[i]}},_getCacheKeyForOptions:function(e){return e?this._region+":"+l.a(e):this._region+":default"},_getISOnameForRegion:function(e){var t="",n=e?e.split("-"):["en","us"];return t=n[0].toLowerCase(),n.length>2?(t+="-"+this._capitalizeFirstLetter(n[1]),t+="-"+n[2].toUpperCase()):n.length>1&&(t+=n[1].length>2?"-"+this._capitalizeFirstLetter(n[1]):"-"+n[1].toUpperCase()),t},_capitalizeFirstLetter:function(e){var t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)},staticMembers:{__QUALIFIED_CLASS_NAME__:"RegionFormatter"}}).create({localeMap:{no:"nb","no-no":"nb-no"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1579),i=n(1405),a=n(1576),o=n(1448),s=n(1345),c=r.a.extend(i.a,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"TEXT",data:"    "},{type:"VIEWOUTLET",tagname:"view",name:"loadingView"},{type:"TEXT",data:"    "},{type:"ELEMENT",tagname:"iframe",name:"iframe",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isActive",truevalue:"",falsevalue:"cw-hidden",attributes:{}}],attributes:{id:{key:"id",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"appId",attributes:{},attribute:"id"},type:"ATTRIBUTE"},src:{key:"src",value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"src",attributes:{},attribute:"src"},type:"ATTRIBUTE"}}}],classes:["hosted-application"]},className:"hak-hosted-application-view",__QUALIFIED_CLASS_NAME__:"HostedApplicationView"},appId:a.g({type:"string"}),src:a.g({type:"string"}),isActive:a.g({type:"boolean"}),loadingView:a.g({type:o.a,defaultValue:s.b(o.a.extend({isVisible:a.g({readOnly:!0,dependencies:["isActive"],get:Object.assign((function(){return!this.isActive}),{__CW__getter:function(e,t,n,r){return!r.internalGet(this,t[0+n])}})}),isActive:a.g({type:"boolean"})})),downstreamBindings:{isActive:"(owner).isActive"}})})}]));