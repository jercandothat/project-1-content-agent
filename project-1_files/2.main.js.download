/**!
 * IMPORTANT NOTE:
 *    This file is licensed only for use in providing the iCloud
 *    service or any part thereof, and is subject to the iCloud
 *    Terms and Conditions. You may not port this file to another
 *    platform without Apple's written consent.
 *
 *    Portions of this Apple Software may utilize copyrighted material under open source licenses.
 *    Please see the file at https://www.icloud.com/system/icloud.com/2520Project46/en-us/acknowledgements.txt for licensing information.
 */
!function(e){const t="object"==typeof globalThis&&globalThis||"object"==typeof window&&window||"object"==typeof self&&self;try{const{performance:o,Promise:n,MessageChannel:s,requestAnimationFrame:r}=t;if(!(o&&o.mark&&n&&s&&r))return;const a=t=>o.mark("chunk-"+e+"-"+t);let c=!1,f=!1,i=n.resolve();a("exec-start");for(let e=0;e<5;e++)i=i.then();i.then(()=>{a("exec-sync-end")});if("undefined"!=typeof window){let e=()=>{c&&!f&&(a("after-paint"),f=!0)},t=new s;t.port1.onmessage=e,t.port2.postMessage(null),setTimeout(e),r(()=>{c=!0,a("raf"),t.port2.postMessage(null),setTimeout(e)})}}catch(e){t.__jsPerformanceMarksError=e}}("2.main");(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[2],{1424:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return i}));var n=a(524),r=a(1425);function i(e){return n.createElement(r.a,e)}},1425:function(e,t,a){"use strict";a.d(t,"a",(function(){return B}));var n=a(524),r=a(639),i=a.n(r),c=a(775),l=(a(1426),a(1427)),o=a(1434),s=a(1428),u=a(1221),d=a(1436),m=a(1240),b=a(2133),p=a(1208),g=a(1437),h=a(762),v=a(2131),f=a(638),E=a(2107),y=a(1438),O=a(672),j=a(1485),N=a(600),P=a(591),S=a(2189),D=a(1197),T=a(601),w=a(1244),I=a(2095),C=a(1569);function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const k=Object(D.a)({resolved:{},chunkName:()=>"Routes-HomePageRoute",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!a.m[t]},importAsync:()=>Object(w.a)(()=>Promise.all([a.e(4),a.e(1)]).then(a.bind(null,2101))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return a(t)},resolve:()=>2101}),L=Object(D.a)({resolved:{},chunkName:()=>"Routes-LegacyShareAcceptanceRoute",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!a.m[t]},importAsync:()=>Object(w.a)(()=>Promise.all([a.e(7),a.e(11)]).then(a.bind(null,2035))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return a(t)},resolve:()=>2035}),F=Object(D.a)({resolved:{},chunkName:()=>"Routes-CKShareAcceptanceRoute",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!a.m[t]},importAsync:()=>Object(w.a)(()=>Promise.all([a.e(7),a.e(12)]).then(a.bind(null,2039))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return a(t)},resolve:()=>2039}),R=Object(D.a)({resolved:{},chunkName:()=>"Routes-UnauthedShareRoute",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!a.m[t]},importAsync:()=>Object(w.a)(()=>a.e(8).then(a.bind(null,2230))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return a(t)},resolve:()=>2230}),M=Object(D.a)({resolved:{},chunkName:()=>"Routes-CalendarEventReplyRoute",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!a.m[t]},importAsync:()=>Object(w.a)(()=>a.e(5).then(a.bind(null,2112))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return a(t)},resolve:()=>2112});function z(e){var t,a,r;const i=e.rootState,c=null==(t=Object(h.b)())||null==(a=t.details)||null==(r=a.beneficiaryInfo)?void 0:r.isBeneficiary;switch(n.useLayoutEffect(()=>{"child-application"===i.kind?document.body.classList.add("disable-scroll"):document.body.classList.remove("disable-scroll")},[i.kind]),i.kind){case"load-child-application-adp-blocked":return n.createElement(o.a,{className:e.className,applicationIdentifier:i.applicationIdentifier,pcsKeyIdentifier:i.pcsKeyIdentifier,onComplete:i.onComplete});case"load-child-application":return n.createElement(l.a,{className:e.className,applicationIdentifier:i.applicationIdentifier,hadError:i.hadError});case"unauthed-share":return n.createElement(R,{onSignInPressed:i.onSignInPressed,shareRecord:i.shareRecord,className:e.className,fallback:n.createElement(C.a,null)});case"redirect-to-domain":return n.createElement(I.i,{className:e.className,pageProps:i.pageProps});case"springboard":return n.createElement(k,{initiallyInCustomizeMode:i.initiallyInCustomizeMode,className:e.className});case"ck-share-acceptance":return n.createElement(F,{className:e.className,ckShareRecord:i.ckShareRecord,isAuthenticated:i.isAuthenticated,onSignInPressed:i.onSignInPressed,fallback:n.createElement(C.a,null)});case"share-acceptance":return n.createElement(L,{className:e.className,shareRecord:i.shareRecord,isAuthenticated:i.isAuthenticated,fallback:n.createElement(C.a,null)});case"share-acceptance-error":return n.createElement(I.k,A({className:e.className},i));case"ck-reminders-template":return n.createElement(I.b,{className:e.className,pageProps:i.remindersTemplatePageProps});case"mail-email-view":return n.createElement(I.f,{threadId:i.threadId});case"calendar-event-view":return n.createElement(I.c,{eventId:i.eventId,collectionId:i.collectionId});case"calendar-event-reply":return n.createElement(M,{className:e.className,isAuthenticated:i.isAuthenticated,details:i.details,fallback:n.createElement(C.a,null)});case"mail-drop":return n.createElement(I.e,{className:e.className,isAuthenticated:i.isAuthenticated,details:i.details});case"terms-and-conditions":return n.createElement(I.n,{className:e.className,pageProps:i.pageProps});case"terms-and-conditions-confirmation":return n.createElement(I.m,{wasTermsUpdatePerformed:i.wasTermsUpdatePerformed,onDismiss:i.onDismiss});case f.b.plan:return n.createElement(I.g,{className:e.className,isBeneficiary:c});case f.b.storage:return n.createElement(I.l,{className:e.className,isBeneficiary:c});case f.b.recovery:return n.createElement(I.h,{className:e.className});case f.b.icloudplus:return n.createElement(I.d,{className:e.className});case f.b.settings:return n.createElement(I.j,{className:e.className});case"web-access-blocked":return n.createElement(I.p,{className:e.className,onComplete:i.onComplete});case"account-maintenance":return n.createElement(I.a,{className:e.className});case"waiting-for-pcs-keys":return n.createElement(I.o,{className:e.className});default:return null}}function B(e){Object(g.a)(!!e.hasChildApplicationWithUnsavedChanges);const t=n.useRef(null),a=n.useRef();switch(e.rootState.kind){case"home-login":a.current||(a.current=e.homeLoginProps)}const r=n.useRef([]),[l]=n.useState(()=>document.getElementById("early-child")),[o]=n.useState(()=>l?n.createElement("iframe",{id:"early-child",src:l.src,className:l.className,"data-name":l.getAttribute("data-name")}):null),[h]=n.useState(l?"initial-load-with-early-child":"initial-load");n.useEffect(()=>()=>{null==l||l.__data.onHydrate()},[l]);const D=n.useRef(1),w=n.useRef({kind:h}),[I,C]=n.useState(null);var k,L,F;if((L=w.current,F=e.rootState,L.kind!==F.kind||"child-application"===L.kind&&"child-application"===F.kind&&L.applicationIdentifier!==F.applicationIdentifier)&&(null!=(k=e.hideChildApplicationRef)&&k.current?((null==w?void 0:w.current.kind)===f.b.icloudplus||(null==w?void 0:w.current.kind)===f.b.recovery&&e.rootState.kind!==f.b.icloudplus)&&(null==e.hideChildApplicationRef.current||e.hideChildApplicationRef.current()):document.querySelectorAll("ui-pane, ui-pane-backdrop").forEach(e=>{e.classList.add("hide")}),C({content:n.createElement(z,{key:D.current,rootState:w.current,className:"fade-out"}),state:w.current}),++D.current,w.current.kind===h&&e.rootState.kind!==h&&"springboard"!==e.rootState.kind)){const t=T.r.value,a=e.rootState.kind,n={source:a};switch(n.statCategory=t?N.a.USER:N.a.SESSION,n.__allow_user=!0,a){case"load-child-application":n.childName=e.rootState.applicationIdentifier;break;case"plan":n.hasCid=!!S.a.sharedInstance.applicationParameter.url.searchParams.get("cid")}P.a.withEventAndLabel("load","deeplink",n).record()}w.current=e.rootState,n.useEffect(()=>{const a=t.current;if(!a)return;const n=[],i=[];for(const t of r.current)e.remoteViewControllers.includes(t)||n.push(t);for(const t of e.remoteViewControllers)r.current.includes(t)||i.push(t);r.current=[...e.remoteViewControllers];for(const e of i){const t=e.iframe;"early-child"!==t.id&&a.appendChild(t),e.isConnected=!0}for(const e of n){const t=e.iframe;a.removeChild(t),e.isConnected=!1}const c="child-application"===e.rootState.kind?e.rootState.applicationIdentifier:null,l="child-application"===(null==I?void 0:I.state.kind)?I.state.applicationIdentifier:null;for(const e of r.current)e.controller.applicationConfiguration.identifier===c?(e.iframe.classList.add("fade-in"),e.iframe.classList.remove("fade-out"),e.iframe.removeAttribute("aria-hidden")):e.controller.applicationConfiguration.identifier===l?(e.iframe.classList.add("fade-out"),e.iframe.classList.remove("fade-in"),e.iframe.setAttribute("aria-hidden","")):(e.iframe.classList.remove("fade-in"),e.iframe.classList.remove("fade-out"),e.iframe.setAttribute("aria-hidden",""))});const R=e.remoteViewControllers.some(e=>e.controller.applicationConfiguration.identifier===O.b.identifier);return n.useEffect(()=>{I&&setTimeout(()=>{C(null)},800)},[I]),n.createElement(n.Fragment,null,n.createElement(d.a,null,n.createElement("div",{className:"root-viewport"},n.createElement(p.a,{to:e.notificationElement}),n.createElement("div",{className:"init-spinner-container",suppressHydrationWarning:!0},n.createElement(c.a,{description:Object(v.b)("CloudOS.Spinner.Loading")})),e.bannerData&&n.createElement(j.a,{bannerData:e.bannerData}),R&&n.createElement(y.a,null),n.createElement("div",{className:"root-component",ref:t},o,null==I?void 0:I.content,n.createElement(z,{key:D.current,className:"fade-in",rootState:e.rootState}),a.current&&n.createElement(s.a,{className:i()("home-login-route",{"fade-in":"home-login"===e.rootState.kind,"fade-out":"home-login"!==e.rootState.kind})},n.createElement(u.b,{value:u.a.LOGIN},n.createElement(E.a,null)),n.createElement(b.a,A({},a.current,{appleIdControllerRef:e.appleIdControllerRef})),n.createElement("footer",null," ",n.createElement(m.a,null)," "))))))}},1426:function(e,t,a){},1427:function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var n=a(524),r=a(639),i=a.n(r),c=a(821),l=a(738),o=a(635),s=a(634),u=a(794),d=a(1428),m=a(1221),b=a(2107),p=a(2131),g=a(1433),h=a(1240),v=a(2093),f=a(2156),E=(a(1430),a(1431)),y=a(2142);function O(e){var t;const a=s.a.sharedInstance.getApplicationConfiguration(e.applicationIdentifier),r=null==a?void 0:a.identifier;let O=null;a&&(O="newspublisher"===r?Object(o.e)(a):Object(o.d)(a));const j=n.useRef(null);return n.useEffect(()=>{const e=j.current;if(!e)return;const t=null==a?void 0:a.applicationInfo;if(!t)return;const n=u.a.sharedInstance.getChildApplicationController(t);if(!n)return;const r=n.applicationContext;if(!r)return;const i=()=>{l=window.setTimeout(()=>{r.targetUIStateWhenLaunched=c.a.ACTIVE_FOREGROUND,t&&u.a.sharedInstance.launchChildApplication(t,{},void 0,!0)},500)};e.addEventListener("animationend",i);let l=window.setTimeout(()=>{r.targetUIStateWhenLaunched=c.a.BACKGROUND,e.classList.add("load-child-application-main-fade-in")},2700);return r.targetUIStateWhenLaunched=c.a.ACTIVE_FOREGROUND,()=>{r.targetUIStateWhenLaunched=c.a.BACKGROUND,e.removeEventListener("animationend",i),window.clearTimeout(l)}},[a]),n.useEffect(()=>{const t=j.current;e.hadError&&t&&!t.classList.contains("load-child-application-main-fade-in")&&t.classList.add("load-child-application-main-fade-in")},[e.hadError]),n.createElement(d.a,{className:i()("load-child-application-route",e.className)},n.createElement(m.b,{value:m.a.LOGIN},n.createElement(b.a,null)),n.createElement("main",{className:"centering",ref:j},r&&n.createElement(v.a,{className:"delayed-fade-in",iconSize:80,applicationIdentifier:r}),O&&n.createElement("div",{className:"delayed-fade-in title"},O),!e.hadError&&n.createElement(E.a,{className:"load-child-application-dots"}),e.hadError&&n.createElement(n.Fragment,null,n.createElement("div",{className:"problem"},Object(p.b)("LoadingPage.Problem",{application:null!=(t=O)?t:""})),n.createElement(l.a,{className:"try-again",onActivate:async()=>{const t=s.a.sharedInstance.displayOrder.find(e=>e.identifier===r);t&&y.c.isAppPreferenceFailedToInitilize(t.applicationInfo.authBagId)?(await y.c.initializeAppPreferences([t.applicationInfo.authBagId],!0)).isOK&&u.a.sharedInstance.switchToApplication(e.applicationIdentifier,{}):u.a.sharedInstance.switchToApplication(e.applicationIdentifier,{})}},n.createElement(g.a,{"aria-hidden":"true",desiredFontSize:12,layoutMode:"glyphBox"}),"\xa0",Object(p.b)("LoadingPage.TryAgain")),n.createElement(f.a,{className:"system-status",href:"https://www.apple.com/support/systemstatus/"},Object(p.b)("LoadingPage.SystemStatus"))),n.createElement("div",{style:{flex:1}})),n.createElement("footer",null,n.createElement(h.a,null)))}},1428:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(524),r=a(639),i=a.n(r);function c(e){return n.createElement("div",{className:i()("flex-page-viewport",e.className),style:e.style},n.createElement("div",{className:i()("flex-page-content")},e.children))}a(1429)},1429:function(e,t,a){},1430:function(e,t,a){},1431:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(524),r=a(628),i=a(639),c=a.n(i);function l(e){let{className:t}=e;return n.createElement("div",{"aria-label":Object(r.b)("LoadingPage.Loading"),className:c()("loading-dots",t)},n.createElement("div",{"aria-hidden":!0}),n.createElement("div",{"aria-hidden":!0}),n.createElement("div",{"aria-hidden":!0}))}a(1432)},1432:function(e,t,a){},1434:function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var n=a(524),r=a(639),i=a.n(r),c=a(903),l=a(738),o=a(635),s=a(634),u=a(794),d=a(1428),m=a(1221),b=a(2107),p=a(2131),g=a(1392),h=a(585),v=a(1240),f=a(2093),E=(a(1435),a(1394)),y=a(601);function O(e){const t=e.applicationIdentifier,a=e.pcsKeyIdentifier,r=s.a.sharedInstance.getApplicationConfiguration(t),l=null==r?void 0:r.applicationInfo.adpMinimumOSListLocKey,p=!!t&&-1!==["mail","photos","iclouddrive"].indexOf(t),g=r?p?Object(o.d)(r):Object(o.e)(r):"",[h,y]=Object(E.b)(t,a);n.useEffect(()=>{h===E.a.AccessGranted&&u.a.sharedInstance.switchToApplication(t)},[t,h]);const O=e.onComplete;n.useEffect(()=>()=>{null==O||O()},[O]);const j=(()=>{switch(h){case E.a.ArmingRequest:return n.createElement(N,null);case E.a.FailedToSendAccessRequest:return n.createElement(S,{adpMinimumOSListLocKey:l,onTryAgain:y});case E.a.AwaitingDeviceConsent:return n.createElement(P,{adpMinimumOSListLocKey:l,onTryAgain:y});case E.a.FailedToObtainConsent:return n.createElement(D,{applicationIdentifier:t,onTryAgain:y});case E.a.DeviceConsentDenied:return n.createElement(T,{applicationIdentifier:t,onTryAgain:y});case E.a.FailedToFetchKeys:return n.createElement(I,{applicationIdentifier:t,onTryAgain:y});case E.a.AppNotSupportedWithArmedDevice:return n.createElement(C,{applicationIdentifier:t,adpMinimumOSListLocKey:l});case E.a.FetchingKeys:case E.a.AccessGranted:return n.createElement(A,{applicationIdentifier:t})}})(),w=n.useRef(null);return n.useEffect(()=>{var e,t;null==(e=w.current)||null==(t=e.querySelector("h2"))||t.focus()},[h]),n.createElement(d.a,{className:i()("load-child-application-adp-blocked-route",e.className)},n.createElement(m.b,{value:m.a.LOGIN},n.createElement(b.a,null)),n.createElement("main",{ref:w,className:"centering"},t&&n.createElement(f.a,{iconSize:80,applicationIdentifier:t}),n.createElement("div",{className:"title"},g),n.createElement(c.a,{"aria-hidden":"true",className:"rectangle-icon",layoutMode:"layoutBox",desiredFontSize:40}),j,n.createElement("div",{style:{flex:1}})),n.createElement("footer",null,n.createElement(v.a,null)))}function j(){return n.createElement("span",{className:"ellipsis"},n.createElement("span",{className:"dots"}))}function N(){return n.createElement("h2",{tabIndex:-1,className:"with-ellipsis"},n.createElement("span",null,Object(p.b)("ADP.ArmingRequestState.Title")),"\u2060",n.createElement(j,null))}function P(e){var t;const a=h.a.sharedInstance.isDomainCN?Object(p.b)("ADP.Domain.icloud.com.cn"):Object(p.b)("ADP.Domain.icloud.com"),r=Object(p.b)("ADP.AwaitingDeviceConsentState.Title"),i=Object(p.b)("ADP.AwaitingDeviceConsentState.Description.WithOSList",{domain:a,osList:Object(p.b)(null!=(t=e.adpMinimumOSListLocKey)?t:"ADP.SupportedOS.Default")}),c=Object(p.b)("ADP.AwaitingDeviceConsentState.DidntReceive"),o=Object(p.b)("ADP.AwaitingDeviceConsentState.SendAgain");return n.createElement(n.Fragment,null,n.createElement("h2",{tabIndex:-1},r),n.createElement("div",{className:"description"},i),n.createElement("div",{className:"didnt-receive"},c),n.createElement(l.a,{variant:"send-again",onActivate:e.onTryAgain}," ",o))}function S(e){var t,a,r;const i=null==(t=y.J.value)?void 0:t.primaryEmail,c=Object(p.b)("ADP.FailedToSendAccessRequest.Title"),l=i?Object(p.b)("ADP.FailedToSendAccessRequest.Description.WithOSList",{appleId:i,osList:Object(p.b)(null!=(a=e.adpMinimumOSListLocKey)?a:"ADP.SupportedOS.Default")}):Object(p.b)("ADP.FailedToSendAccessRequest.Description.NoUser.WithOSList",{osList:Object(p.b)(null!=(r=e.adpMinimumOSListLocKey)?r:"ADP.SupportedOS.Default")}),o=Object(p.b)("ADP.FailedToSendAccessRequest.TryAgain");return n.createElement(w,{title:c,description:l,buttonText:o,onClick:e.onTryAgain})}function D(e){const t=h.a.sharedInstance.isDomainCN?Object(p.b)("ADP.Domain.icloud.com.cn"):Object(p.b)("ADP.Domain.icloud.com"),a=Object(g.a)(e.applicationIdentifier),r=Object(g.b)(e.applicationIdentifier),i=Object(p.b)("ADP.FailedToObtainConsent.Title",{data:r}),c=Object(p.b)("ADP.FailedToObtainConsent.Description",{domain:t,data:a}),l=Object(p.b)("ADP.FailedToObtainConsent.TryAgain");return n.createElement(w,{title:i,description:c,buttonText:l,onClick:e.onTryAgain})}function T(e){const t=h.a.sharedInstance.isDomainCN?Object(p.b)("ADP.Domain.icloud.com.cn"):Object(p.b)("ADP.Domain.icloud.com"),a=Object(g.a)(e.applicationIdentifier),r=Object(g.b)(e.applicationIdentifier),i=Object(p.b)("ADP.DeviceConsentDenied.Title",{data:r}),c=Object(p.b)("ADP.DeviceConsentDenied.Description",{domain:t,data:a}),l=Object(p.b)("ADP.DeviceConsentDenied.TryAgain");return n.createElement(w,{title:i,description:c,buttonText:l,onClick:e.onTryAgain})}function w(e){return n.createElement(n.Fragment,null,n.createElement("h2",{tabIndex:-1},e.title),n.createElement("div",{className:"description"},e.description),!e.hideButtons&&e.buttonText&&e.onClick&&n.createElement("div",null,n.createElement(l.a,{variant:"failed-state",onActivate:e.onClick},e.buttonText)))}function I(e){const t=Object(g.a)(e.applicationIdentifier),a=Object(g.b)(e.applicationIdentifier),r=Object(p.b)("ADP.FailedToFetchKeys.Title",{data:a}),i=Object(p.b)("ADP.FailedToFetchKeys.Description",{data:t}),c=Object(p.b)("ADP.FailedToFetchKeys.TryAgain");return n.createElement(w,{title:r,description:i,buttonText:c,onClick:e.onTryAgain})}function C(e){var t;const a=Object(g.a)(e.applicationIdentifier),r=Object(g.b)(e.applicationIdentifier),i=Object(p.b)("ADP.FailedToFetchKeys.Title",{data:r}),c=Object(p.b)("ADP.FailedToFetchKeys.ArmedDeviceNotSupported.Description",{data:a,osList:Object(p.b)(null!=(t=e.adpMinimumOSListLocKey)?t:"ADP.SupportedOS.Default")});return n.createElement(w,{title:i,description:c})}function A(e){const t=h.a.sharedInstance.isDomainCN?Object(p.b)("ADP.Domain.icloud.com.cn"):Object(p.b)("ADP.Domain.icloud.com"),a=(()=>{switch(e.applicationIdentifier){case"maildrop":case"bookmarks":return Object(p.b)("ADP.FetchingKeysState.Description.MailDrop");case"iclouddrivefilerecovery":return Object(p.b)("ADP.FetchingKeysState.Description.RestoreFiles");default:return Object(p.b)("ADP.FetchingKeysState.Description",{domain:t,data:Object(g.a)(e.applicationIdentifier)})}})();return n.createElement(n.Fragment,null,n.createElement("h2",{tabIndex:-1,className:"with-ellipsis"},n.createElement("span",null,Object(p.b)("ADP.FetchingKeysState.Title")),"\u2060",n.createElement(j,null)),n.createElement("div",{className:"description"},a))}},1435:function(e,t,a){},1436:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return s}));var n=a(524),r=a(824),i=a(2115),c=a(762);const l=n.createContext(void 0);function o(e){let{children:t}=e;const[a,o]=n.useState(),s=Object(c.d)();return n.useEffect(()=>{if(Object(r.c)())return;if(!s)return;let e=!0;return(async()=>{try{const t=Object(i.b)(),a=await(null==t?void 0:t.getAddressBookContacts());if(!a.ok||!a.value)return void(e&&o(new Map));const n=a.value.items;e&&o(function(e){const t=new Map;return e.forEach(e=>{e&&e.emailAddresses&&e.emailAddresses.forEach(a=>{a&&!t.has(a.field)&&t.set(a.field,e)})}),t}(n))}catch(t){e&&o(new Map)}})(),()=>{e=!1}},[s]),n.createElement(l.Provider,{value:{contacts:a}},t)}function s(){const e=n.useContext(l);if(void 0===e)throw new Error("`useContactsLookupService` must be used within a ContactsLookupProvider");return e}},1437:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(524),r=a(2131),i=a(635),c=a(794);function l(e){n.useEffect(()=>{if(!e)return;const t=e=>{var t;const a=null==(t=c.a.sharedInstance.hasChildApplicationWithUnsavedChanges())?void 0:t.applicationConfiguration;if(!a)return;e.preventDefault();const n=Object(r.b)("CloudOS.UnsavedChanges.Alert.Description",{applicationName:Object(i.e)(a)});return e.returnValue=n,n};return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}},[e])}},1438:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a(524);var n=a(1440),r=a(1066),i=a(672),c=a(1439);function l(){const e=Object(n.useRecentDriveDocs)(Object(c.a)("app")),t=r.a.sharedInstance;return e.result&&t.setTileData(i.b.identifier,JSON.stringify(e.result)),t.switchDriveToAppMode=e.appIsLaunching,null}},1439:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(2131),r=a(1068);const i=e=>{const t=Object(n.k)();return{mode:e,fetchRecents:e=>Object(r.i)({webServices:t},e),getChanges:(e,a)=>Object(r.j)({webServices:t},e,a)}}},1485:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(524),r=a(738),i=(a(1486),a(1264));function c(e){const t=e.bannerData;return n.createElement("div",{role:"banner",className:"banner"},n.createElement("div",{className:"banner-inner"},n.createElement("span",{className:"title"},t.title),n.createElement("span",{className:"description"},t.description),t.buttonTitle&&t.onClick&&n.createElement(r.a,{variant:"banner-button",onActivate:()=>null==t.onClick?void 0:t.onClick(t)},n.createElement("span",null,t.buttonTitle),"link"===t.buttonType&&n.createElement(i.b,{"aria-hidden":!0,desiredFontSize:8}))))}},1486:function(e,t,a){},1487:function(e,t,a){},1488:function(e,t,a){},1489:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(524),r=a(639),i=a.n(r),c=a(1087),l=a(1088),o=a(1089);a(1490);const s=e=>n.createElement("div",{className:i()("icloud-hero",e.className)},n.createElement("div",{className:"clouds"},n.createElement("img",{src:c.a,srcSet:`${c.a}, ${l.a} 2x, ${o.a} 3x`,width:430,height:388,alt:"","aria-hidden":!0})),n.createElement("h1",null,e.title))},1490:function(e,t,a){},1491:function(e,t,a){},1492:function(e,t,a){},1493:function(e,t,a){},1494:function(e,t,a){},1495:function(e,t,a){},1497:function(e,t,a){},1498:function(e,t,a){"use strict";var n=a(2229);a.d(t,"a",(function(){return n.a}))},1499:function(e,t,a){},1501:function(e,t,a){},1502:function(e,t,a){},1503:function(e,t,a){},1506:function(e,t,a){},1508:function(e,t,a){},1509:function(e,t,a){},1510:function(e,t,a){},1511:function(e,t,a){},1512:function(e,t,a){},1513:function(e,t,a){},1514:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(524),r=a(2167);function i(e){const[t,a]=n.useState(!1);n.useEffect(()=>{a(r.a.sharedInstance.hasPCSKey(e))},[e]);const i=n.useCallback((t,n)=>{n===e&&a(!0)},[e]);return n.useEffect(()=>(r.a.sharedInstance.addListener(i),()=>{r.a.sharedInstance.removeListener(i)}),[i]),t}},1515:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(524),r=a(639),i=a.n(r),c=a(1518),l=a(1517),o=(a(1516),a(738)),s=a(2198),u=a(646),d=a(645),m=a(647);const b=e=>{let{className:t,refetch:a,errorMessage:r=Object(s.a)("ErrorHomeTileContent.Message"),showClouds:b=!0,hideRetryButton:p=!1,showOpenAppId:g}=e;const{isInCustomizationMode:h}=Object(u.c)(),v=Object(d.b)(),f=Object(s.a)("ErrorHomeTileContent.TryAgain"),E=Object(s.a)("ErrorHomeTileContent.OpenApp",{appName:Object(s.a)("ICloudDrive.DisplayName")});return n.createElement("div",{className:i()("error-home-tile-content",t)},b&&n.createElement(l.a,{"aria-hidden":!0,className:"cloud",height:50,width:50,layoutMode:"glyphBox"}),n.createElement("p",{className:"message"},r),!h&&!p&&n.createElement(o.a,{className:"reload-button",onActivate:a},n.createElement(c.a,{"aria-hidden":!0,className:"arrow-clockwise",height:20,width:20,layoutMode:"glyphBox"}),f),!h&&g&&n.createElement(o.a,{className:"reload-button",onActivate:()=>{v.launchApp(g,{options:{source:{reason:m.b.TILE_CLICK}}})}},E))}},1516:function(e,t,a){},1519:function(e,t,a){},1521:function(e,t,a){},1523:function(e,t,a){},1525:function(e,t,a){},1526:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(524);function r(e){const t=n.useRef(null);return n.useLayoutEffect(()=>{e.forEach(e=>{let[a,n,r]=e;const i=t.current;i&&("set"===a?i.setAttribute(n,null!=r?r:""):"remove"===a&&i.removeAttribute(n))})},[e]),t}},1530:function(e,t,a){},1531:function(e,t,a){},1532:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(2245);function r(){const{data:e}=Object(n.a)();if(!e||!e["home.cameras"])return 0;const t=e["home.cameras"].limit;return void 0===t?"unlimited":t}},1533:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(524),r=a(1534),i=a(2131),c=a(1085),l=a(2237),o=a(668),s=a(1535),u=a(2093);const d=e=>{let{numberOfCamsSupported:t}=e;const a=n.createElement(u.a,{iconSize:54,applicationIdentifier:"homekit"}),c=Object(i.b)("ICloudPlusPage.HomeKitSecureVideoModalContent.Title"),d="unlimited"===t?Object(i.b)("ICloudPlusPage.HomeKitSecureVideoModalContent.SubTitle.Unlimited"):Object(i.c)({one:"ICloudPlusPage.HomeKitSecureVideoModalContent.SubTitle.One",two:"ICloudPlusPage.HomeKitSecureVideoModalContent.SubTitle.Two",many:"ICloudPlusPage.HomeKitSecureVideoModalContent.SubTitle.Many"},t),m=Object(i.b)("ICloudPlusPage.HomeKitSecureVideoModalContent.Section.Description"),b=Object(o.a)("homeKitSecureVideo");return n.createElement(r.a,{icon:a,modalTitle:c,modalSubTitle:d,modalDescription:m,learnMoreLink:b,titleId:"homekit-secure-video-modal-title",feature:l.a.HOMEKIT_SECURE_VIDEO,variant:s.a.HOMEKIT_SECURE_VIDEO})};function m(e){return Object(c.a)(n.createElement(d,e),{ariaLabelledBy:"homekit-secure-video-modal-title"})}},1534:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(524),r=a(2156),i=a(1535),c=a(2131);a(1536);const l=e=>{let{icon:t,modalTitle:a,modalSubTitle:l,modalSectionTitle:o,modalDescription:s,learnMoreLink:u,titleId:d,feature:m,variant:b}=e;const p=Object(c.b)("ICloudPlusPage.ModalContent.LearnMore");return n.createElement("div",{className:"modal-content feature-info"},n.createElement("div",{className:"modal-icon","data-testid":"icon"},t),n.createElement("h2",{className:"modal-title","data-testid":"title",id:d},a),n.createElement("div",{className:"modal-subtitle","data-testid":"subtitle"},l),o&&n.createElement("h3",{className:"modal-section-title","data-testid":"sectiontitle"},o),n.createElement("div",{className:"modal-section-description","data-testid":"description"},s," ",n.createElement(r.a,{href:u},p)),n.createElement(i.b,{feature:m,variant:b}))}},1535:function(e,t,a){"use strict";var n=a(2148);a.d(t,"a",(function(){return n.a})),a.d(t,"b",(function(){return n.b}))},1536:function(e,t,a){},1537:function(e,t,a){},1538:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(524),r=a(1534),i=a(2131),c=a(1085),l=a(2237),o=a(668),s=a(1535),u=a(2093);const d=()=>{const e=n.createElement(u.a,{iconSize:54,applicationIdentifier:"privaterelay"}),t=Object(i.b)("ICloudPlusPage.PrivateRelayModalContent.Title"),a=Object(i.b)("ICloudPlusPage.PrivateRelayModalContent.SubTitle"),c=Object(i.b)("ICloudPlusPage.PrivateRelayModalContent.Section.Description"),d=Object(o.a)("privateRelay");return n.createElement(r.a,{icon:e,modalTitle:t,modalSubTitle:a,modalDescription:c,learnMoreLink:d,titleId:"private-relay-modal-title",feature:l.a.PRIVATE_RELAY,variant:s.a.PRIVATE_RELAY})};function m(){return Object(c.a)(n.createElement(d,null),{ariaLabelledBy:"private-relay-modal-title"})}},1539:function(e,t,a){},1540:function(e,t,a){},1541:function(e,t,a){},1542:function(e,t,a){},1543:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(1544),r=a(2154),i=a(1071),c=a(1545);function l(e,t){return Object(n.a)(),Object(c.a)({...t,endpoint:r.c.photosLibraryInfo,cacheKeys:[e],fetchProvider:t=>Object(i.c)(t,e)})}},1544:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(524),r=a(681),i=a(762),c=a(2197),l=a(1072),o=a(592);function s(){const e=Object(i.a)();if(!e)throw new Error("usePhotosTile() needs a dsid!");const t=e.dsid;n.useEffect(()=>r.configure({user:{dsid:t},fetch:c.a,urlForServiceName:o.i,telemetry:Object(l.a)("photos")}),[t])}},1545:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(2154);const r=6e4;function i(e){let{endpoint:t,fetchProvider:a,pageActiveFetchInterval:i=3*r,pageHiddenFetchInterval:c=30*r,cacheKeys:l,...o}=e;return Object(n.M)({...o,endpoint:t,cacheKeys:l,fetchProvider:a,refetchInterval:"hidden"===document.visibilityState?i:c,refetchIntervalInBackground:!0})}},1546:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return c}));var n=a(2131),r=a(681);function i(e){switch(e){case r.PhotosTileAssetListType.Library:return Object(n.b)("PhotosHomeTile.TileCustomization.Library.Name");case r.PhotosTileAssetListType.Favorites:return Object(n.b)("PhotosHomeTile.TileCustomization.Favorites.Name");case r.PhotosTileAssetListType.Recents:return Object(n.b)("PhotosHomeTile.TileCustomization.Recents.Name");default:return e}}function c(e,t){if(void 0===(null==e?void 0:e.breakdown)){var a;const r=Object(n.c)({zero:"Media.Count.Total.Zero",one:"Media.Count.Total.One",two:"Media.Count.Total.Two",many:"Media.Count.Total.More"},null!=(a=null==e?void 0:e.itemsCount)?a:0);return t?Object(n.b)("Media.Count.WithListName",{count:r,selectedLibrary:i(t)}):r}const{photosCount:r=0,videosCount:c=0,othersCount:s=0}=(null==e?void 0:e.breakdown)||{},u={photosCount:o(r),videosCount:o(c),otherItemsCount:o(s)};let d=Object(n.b)(`Media.Count.${l(r)}.${l(c)}.${l(s)}.0`,u);for(let[,n]of Object.entries(u))d=d.replace(n+" ",n+"\xa0");return t?Object(n.b)("Media.Count.WithListName",{count:d,selectedLibrary:i(t)}):d}const l=e=>e<3?String(e):"More",o=(e,t)=>Number(e).toLocaleString(t).replace(/ /g,"\xa0")},1548:function(e,t,a){},1549:function(e,t,a){},1550:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(524),r=(a(1551),a(2131)),i=a(2180),c=a(728),l=a(2179),o=a(1228),s=a(738),u=a(639),d=a.n(u),m=a(2145),b=a(1517),p=a(1257);const g=e=>{var t;let{profilePhoto:a,isProfilePhotoLoading:u,size:g=120,onPhotoReady:h,imageAlt:v,showPlaceholderOnError:f=!1}=e;const E=v||Object(r.b)("Avatar.ImageAlt"),y=Object(r.e)(null!=(t=null==a?void 0:a.url)?t:""),[O,j]=n.useState(!1),N=n.useRef(null==a?void 0:a.url),P=Object(r.b)("AccountTilePopover.Button.Text"),S=!a||!a.url||!a.crop,D=S||f;n.useEffect(()=>{(null==a?void 0:a.url)!==N.current&&(N.current=null==a?void 0:a.url,j(!1))},[null==a?void 0:a.url]),n.useEffect(()=>{!u&&S&&(null==h||h())},[h,u,S]);const T=n.useRef(null),w=Object(i.b)({...i.c,anchorMargin:-10,sidePreference:[i.a.below]}),[I]=Object(c.h)(n.createElement(l.b,{style:{padding:"10px",width:"275px",height:"60px",display:"flex",justifyContent:"center",alignItems:"center"},arrowAsset:n.createElement(n.Fragment,null),cornerArrowAsset:n.createElement(n.Fragment,null),positioner:w,anchorRef:T},n.createElement("div",null,P))),C=null!=a&&a.crop&&y?Object(m.e)(a.crop,y):void 0;return n.createElement("div",{className:d()("static-avatar",u?"static-avatar-loading":void 0,D?"image-placeholder":void 0),style:{width:g,height:g}},!u&&n.createElement("div",{className:d()("profile-image-container",D?"image-placeholder":void 0)},S?n.createElement(p.a,{width:g,height:g,layoutMode:"glyphBox",className:"icon"}):C&&!O?n.createElement(o.b,{style:{width:g,height:g},src:null==a?void 0:a.url,crop:C,alt:E,onLoadFailure:()=>{j(!0),null==h||h(!0)},onLoad:h}):null,O&&(f?n.createElement(p.a,{width:g,height:g,layoutMode:"glyphBox",className:"icon"}):n.createElement(s.a,{ref:T,className:"static-avatar-error",onActivate:I},n.createElement(b.a,{height:35,width:24,layoutMode:"glyphBox"})))))}},1551:function(e,t,a){},1552:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(524);a(1553);const r=e=>{const{ariaLevel:t,id:a,text:r}=e;return n.createElement("span",{"aria-level":t,className:"ScreenreaderOnlyHeading",id:a,role:"heading"},r)}},1553:function(e,t,a){},1554:function(e,t,a){},1555:function(e,t,a){},1557:function(e,t,a){},1558:function(e,t,a){},1559:function(e,t,a){},1560:function(e,t,a){},1561:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return i}));var n=a(2131);const r=e=>{switch(e){case"key":case"numbers":case"pages":return{width:36,height:40,viewBox:"0 0 18 20"};case"pptx":case"ppt":case"xlsx":case"xls":case"xlam":case"docx":case"doc":return{width:40,height:40,viewBox:"0 0 20 20"};case"jpg":case"jpeg":case"png":case"gif":case"tiff":case"tif":case"bmp":return{width:48,height:36,viewBox:"0 0 24 18"};case"aac":case"wav":case"m4a":case"m4p":case"aiff":case"midi":case"wave":case"mp3":return{width:36,height:40,viewBox:"0 0 22 24"};case"mp4":case"m4v":case"mov":return{width:44,height:36,viewBox:"0 0 22 18"};case"pdf":case"zip":default:return{width:32,height:40,viewBox:"0 0 16 20"}}},i=e=>{switch(e){case"key":return Object(n.b)("Drive.Icon.Description.Key");case"numbers":return Object(n.b)("Drive.Icon.Description.Numbers");case"pages":return Object(n.b)("Drive.Icon.Description.Pages");case"pptx":case"ppt":return Object(n.b)("Drive.Icon.Description.PowerPoint");case"xlsx":case"xls":case"xlam":return Object(n.b)("Drive.Icon.Description.Excel");case"docx":case"doc":return Object(n.b)("Drive.Icon.Description.Word");case"jpg":case"jpeg":case"png":case"gif":case"tiff":case"tif":case"bmp":return Object(n.b)("Drive.Icon.Description.Image",{fileExtension:e.toUpperCase()});case"aac":case"wav":case"m4a":case"m4p":case"aiff":case"midi":case"wave":case"mp3":return Object(n.b)("Drive.Icon.Description.Audio",{fileExtension:e.toUpperCase()});case"mp4":case"m4v":case"mov":return Object(n.b)("Drive.Icon.Description.Video",{fileExtension:e.toUpperCase()});case"zip":return Object(n.b)("Drive.Icon.Description.Archive");case"pdf":return Object(n.b)("Drive.Icon.Description.Pdf");case"folder":return Object(n.b)("ShareAcceptancePage.User.Description.Folder.Name");default:return Object(n.b)("Drive.Icon.Description.Default")}}},1563:function(e,t,a){},1564:function(e,t,a){},1567:function(e,t,a){},1568:function(e,t,a){},1569:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(2177),r=a(524),i=a(1221),c=a(775),l=a(2131);a(1570);const o=()=>r.createElement("div",{className:"chunk-loading-page"},r.createElement(i.b,{value:i.a.LOGIN},r.createElement(n.a,null)),r.createElement("div",{className:"spinner-container"},r.createElement(c.a,{description:Object(l.b)("LoadingPage.Loading")})))},1570:function(e,t,a){},2095:function(e,t,a){"use strict";a.d(t,"o",(function(){return vr})),a.d(t,"a",(function(){return fr})),a.d(t,"p",(function(){return Er})),a.d(t,"j",(function(){return yr})),a.d(t,"h",(function(){return Or})),a.d(t,"d",(function(){return jr})),a.d(t,"l",(function(){return Nr})),a.d(t,"g",(function(){return Pr})),a.d(t,"e",(function(){return Sr})),a.d(t,"k",(function(){return Dr})),a.d(t,"b",(function(){return Tr})),a.d(t,"f",(function(){return wr})),a.d(t,"c",(function(){return Ir})),a.d(t,"i",(function(){return Cr})),a.d(t,"m",(function(){return Ar})),a.d(t,"n",(function(){return kr}));var n=a(1428),r=a(524),i=a.n(r),c=a(639),l=a.n(c),o=a(1221),s=a(2177),u=a(775),d=a(2131);a(1487);const m=()=>{const e=Object(d.b)("EP.Loading.Message");return r.createElement("div",{className:"parent-container-loading"},r.createElement(u.a,{className:"ui-spinner-loading",description:Object(d.b)("CloudOS.Spinner.Loading")}),r.createElement("article",{className:"loading-screen-text"},e))};var b=a(1240),p=(a(1488),a(1489)),g=a(2116),h=a(2156),v=a(668);const f=e=>{let{className:t}=e;const a=function(){const e=Object(g.c)().maintenanceDuration,t=Object(d.b)("AccountMaintenance.Description"),a=e>0&&e<=18e5?Object(d.b)("AccountMaintenance.Description.ShortDuration"):e>18e5&&e<=36e5?Object(d.b)("AccountMaintenance.Description.MediumDuration"):e>36e5&&e<=432e5?Object(d.b)("AccountMaintenance.Description.LongDuration",{hours:Math.ceil(e/36e5)}):null;return a?t+" "+a:t}();return r.createElement("div",{className:l()("account-maintenance-page",t)},r.createElement("div",{className:"header-section"},r.createElement(p.a,{title:Object(d.b)("AccountMaintenance.Title")})),r.createElement("section",{className:"body-section description"},r.createElement("div",{className:"item-description"},a),r.createElement("div",{className:"learn-more-link"},r.createElement(h.a,{href:Object(v.a)("accountMaintenance"),useSemiboldArrow:!0,statName:"accountMaintenanceLearnMoreLink"},Object(d.b)("AccountMaintenance.LearnMore")))))};a(1491);var E,y=a(738),O=a(715),j=a(671),N=a(713),P=a(585),S=a(762),D=a(2181),T=a(2201),w=a(1269),I=a(903),C=a(1395),A=a(2149),k=a(601);!function(e){e[e.Init=0]="Init",e[e.Sending=1]="Sending",e[e.Failed=2]="Failed",e[e.Sent=3]="Sent",e[e.Granted=4]="Granted",e[e.Denied=5]="Denied",e[e.Timeout=6]="Timeout",e[e.Canceled=7]="Canceled"}(E||(E={}));const L=e=>{var t,a,n,i,c,o,s,u;let{className:m,onComplete:b}=e;const g=Object(A.a)(),[h,v]=Object(C.a)(E.Init,2e3);r.useEffect(()=>()=>{null==b||b()},[b]);const f=Object(S.b)(),L=null!=(t=null==f||null==(a=f.details)?void 0:a.firstName)?t:"",F=null!=(n=null==f||null==(i=f.details)?void 0:i.lastName)?n:"",R=Object(N.a)(L,F),M=Object(N.a)(L,F,!0),z=P.a.sharedInstance.isDomainCN?Object(d.b)("CloudOS.AccountNeedsSetup.Domain.icloud.com.cn"):Object(d.b)("CloudOS.AccountNeedsSetup.Domain.icloud.com");if(null==f||null==(c=f.details)||null==(o=c.beneficiaryInfo)?void 0:o.isBeneficiary){const e=Object(O.a)(L),t=e?Object(d.b)("WebAccessBlocked.Greeting.Beneficiary.NameIsCJK",{firstName:R}):Object(d.b)("WebAccessBlocked.Greeting.Beneficiary",{firstName:R}),a=e?Object(d.b)("WebAccessBlocked.Title.Beneficiary.NameIsCJK",{firstName:L,currentDomain:z}):Object(d.b)("WebAccessBlocked.Title.Beneficiary",{firstName:L,currentDomain:z}),n=e?Object(d.b)("WebAccessBlocked.Description.Beneficiary.NameIsCJK",{firstName:L}):Object(d.b)("WebAccessBlocked.Description.Beneficiary",{firstName:L});return r.createElement("div",{className:l()("web-access-blocked-page",m)},r.createElement("div",{className:"header-section"},r.createElement(p.a,{title:t}),r.createElement(I.a,{className:"lock-image",width:64,height:60,layoutMode:"glyphBox"}),r.createElement("h1",null,a)),r.createElement("section",{className:"body-section description"},r.createElement("div",{className:"item-description"},n)))}const B=(null!=(s=null==f||null==(u=f.details)?void 0:u.ICDRSCapableDeviceCount)?s:0)<1,x=(new Date).getHours(),U=x<6?"WebAccessBlocked.Greeting.0-6":x<12?"WebAccessBlocked.Greeting.6-12":x<18?"WebAccessBlocked.Greeting.12-18":"WebAccessBlocked.Greeting.18-0",H=Object(d.b)(U,{firstName:R}),V=Object(k.i)(),W=V?Object(d.b)("WebAccessBlocked.Title.ADP"):Object(d.b)("WebAccessBlocked.Title"),_=V?Object(d.b)("WebAccessBlocked.Description.ADP",{currentDomain:z}):Object(d.b)("WebAccessBlocked.Description",{currentDomain:z});if(B)return r.createElement("div",{className:l()("web-access-blocked-page",m)},r.createElement("div",{className:"header-section"},r.createElement(p.a,{title:H}),r.createElement("h1",null,W)),r.createElement("section",{className:"body-section description"},r.createElement("div",{className:"item-description"},_)),r.createElement("section",{className:"no-device-section"},r.createElement("p",{className:"section-no-device"},r.createElement("span",null,Object(d.b)("ContinueOnDevice.NoDevice.IOS.Description")),r.createElement("br",null),r.createElement(j.a,{interpolations:{"#{chevron}":r.createElement(g,{layoutMode:"glyphBox",desiredFontSize:7})}},Object(d.b)("WebAccessBlocked.NoDevice.Description",{fullName:M}))),r.createElement("p",{className:"section-no-device"},r.createElement("span",null,Object(d.b)("ContinueOnDevice.NoDevice.Mac.Description")),r.createElement("br",null),r.createElement(j.a,{interpolations:{"#{chevron}":r.createElement(g,{layoutMode:"glyphBox",desiredFontSize:7})}},Object(d.b)("WebAccessBlocked.NoDevice.Description2",{fullName:M}))),r.createElement("p",{className:"section-no-device"},Object(d.b)("WebAccessBlocked.NoDevice.Notice"))),!V&&r.createElement("div",{className:"quick-access-container"},r.createElement(D.a,{manageDevicesHidden:!0})));const K=()=>{h!==E.Sending&&(async()=>{T.b.sharedInstance.enableWebAccess({current:!1},new class{sentRequestToEnableWebAccess(){v(E.Sending)}receivedRequestToEnableWebAccesseFailure(){v(E.Failed)}receivedRequestToEnableWebAccessNotificationSent(){v(E.Sent)}receivedRequestToEnableWebAccessNotificationGranted(){v(E.Granted)}receivedRequestToEnableWebAccesseNotificationDenied(){v(E.Denied)}receivedRequestToEnableWebAccessNotificationTimeout(){v(E.Timeout)}canceledEnableWebAccess(){v(E.Canceled)}})})()};switch(h){case E.Init:return r.createElement("div",{className:l()("web-access-blocked-page",m)},r.createElement("div",{className:"header-section"},r.createElement(p.a,{title:H}),r.createElement("h1",null,W)),r.createElement("section",{className:"body-section description init"},r.createElement("div",{className:"item-description"},_)),r.createElement("section",{className:"body-section"},r.createElement("div",{className:"buttons-row"},r.createElement(y.a,{onActivate:K,variant:"block primary large"},r.createElement(w.a,{"aria-hidden":!0,desiredFontSize:14,layoutMode:"glyphBox"}),"\xa0",Object(d.b)("WebAccessBlocked.ManageButton.Title"))),r.createElement("div",{className:"item-notice"},Object(d.b)("WebAccessBlocked.Notice")),!V&&r.createElement("div",{className:"quick-access-container"},r.createElement(D.a,{manageDevicesHidden:!0}))));case E.Sending:return r.createElement("div",{className:l()("web-access-blocked-page",m)},r.createElement("div",{className:"header-section"},r.createElement(p.a,{title:H}),r.createElement("h1",null,Object(d.b)("WebAccessBlocked.Title.Sending"))));case E.Failed:return r.createElement("div",{className:l()("web-access-blocked-page",m)},r.createElement("div",{className:"header-section"},r.createElement(p.a,{title:H}),r.createElement("h1",null,Object(d.b)("WebAccessBlocked.Title.Failed"))),r.createElement("section",{className:"body-section description"},r.createElement("div",{className:"item-description failed"},Object(d.b)("WebAccessBlocked.Description.Failed"))),r.createElement("section",{className:"body-section"},r.createElement("div",{className:"buttons-row"},r.createElement(y.a,{onActivate:K,variant:"push primary large"},Object(d.b)("WebAccessBlocked.ManageButton.Title.TryAgain")))));case E.Sent:case E.Granted:case E.Denied:case E.Timeout:case E.Canceled:return r.createElement("div",{className:l()("web-access-blocked-page",m)},r.createElement("div",{className:"header-section"},r.createElement(p.a,{title:H}),r.createElement("h1",null,Object(d.b)("WebAccessBlocked.Title.Sent"))),r.createElement("section",{className:"body-section description"},r.createElement("div",{className:"item-description"},Object(d.b)("WebAccessBlocked.Description.Sent"))),r.createElement("section",{className:"body-section"},r.createElement("div",{className:"item-description notice"},Object(d.b)("WebAccessBlocked.Notice.Sent")),r.createElement("div",{className:"buttons-row"},r.createElement(y.a,{onActivate:K,variant:"send-again"},Object(d.b)("WebAccessBlocked.ManageButton.Title.SendAgain")))),r.createElement("section",{className:"body-section footnote"},r.createElement(j.a,{interpolations:{"#{chevron}":r.createElement(g,{layoutMode:"glyphBox",desiredFontSize:7})}},Object(d.b)("WebAccessBlocked.Description2.Sent",{fullName:M}))))}};a(1426);var F=a(761);const R=()=>{var e,t;const a=Object(F.c)(),n=Object(S.b)(),r=null==n||null==(e=n.details)||null==(t=e.beneficiaryInfo)?void 0:t.isBeneficiary;return a!==F.a.Plus&&a!==F.a.MAID&&!r};a(1492);var M=["styles"];function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var B=function(e){e.styles;var t=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,M);return i.a.createElement("svg",z({viewBox:"0 0 18 24",xmlns:"http://www.w3.org/2000/svg"},t),i.a.createElement("path",{d:"M16.33 14.1c-.93-.87-1.41-1.95-1.42-3.26-.01-1.68.75-2.99 2.29-3.92-.86-1.23-2.16-1.91-3.88-2.04-.64-.05-1.41.08-2.33.41-.97.36-1.55.54-1.72.54-.23 0-.74-.15-1.55-.45-.81-.3-1.45-.45-1.95-.45-.9.01-1.75.25-2.52.71-.78.46-1.4 1.09-1.86 1.89C.8 8.5.5 9.69.5 11.06c0 1.2.22 2.44.66 3.72.41 1.18.93 2.22 1.57 3.12.59.84 1.09 1.43 1.48 1.78.62.58 1.24.85 1.86.83.41-.01.95-.15 1.61-.42.66-.27 1.28-.4 1.86-.4.55 0 1.16.13 1.81.4.66.27 1.22.4 1.69.4.65-.01 1.26-.28 1.82-.8.37-.32.84-.89 1.42-1.71a11.17 11.17 0 001.46-2.93c-.51-.24-.98-.55-1.41-.95zM12.32 3.28c.75-.89 1.12-1.84 1.12-2.87 0-.14-.01-.27-.02-.41-.52.03-1.07.18-1.66.47-.58.29-1.07.65-1.45 1.09-.76.86-1.19 1.91-1.19 2.9 0 .14.01.27.02.39 1.19.09 2.28-.52 3.18-1.57z"}))},x=a(2097),U=a(1264);const H=e=>r.createElement("section",{"aria-label":"Breadcrumbs",className:"breadcrumbs"},r.createElement("ol",null,r.createElement("li",null,r.createElement("a",{href:"/",onClick:e=>{e.preventDefault(),e.stopPropagation(),x.a.cloudOSApplication.switchToSpringboard()}},r.createElement(B,{className:"apple-logo"}),Object(d.b)("Application.Title"))),r.createElement("li",null,r.createElement(U.b,{"aria-hidden":!0,layoutMode:"glyphBox",desiredFontSize:8,className:"chevron"}),r.createElement("span",{"aria-current":"page"},e.currentPageName))));a(1493);var V=a(714),W=a(532),_=(a(1494),a(771)),K=a(1248),G=a(1496),q=a(1095),$=a(1194),Q=a(2207),Z=a(595),Y=a(1189),J=a(1190),X=a(768),ee=a(2198),te=a(591),ae=a(600),ne=a(2142);const re=()=>{const{permissionState:e,userSubscription:t,subscribeToPushNotification:a,unsubscribeToPushNotifications:n,askUserPermission:i}=(()=>{const[e,t]=Object(r.useState)(),[a,n]=Object(r.useState)(!1),{permissionState:i,setPermissionState:c,notificationsEnabled:l}=Object($.a)("notifications");return Object(r.useEffect)(()=>{l()&&(n(!1),Q.a.sharedInstance.getBrowserSubscription().then(e=>{t(e)}).catch(()=>t(null)))},[l]),{permissionState:i,askUserPermission:async()=>{n(!1);const e=await Q.a.sharedInstance.requestPermission();return c("default"===e?"prompt":e),e},subscribeToPushNotification:async()=>{let e;n(!1);try{if(e=await Q.a.sharedInstance.createNotificationSubscription(),e.ok){const{value:a}=e;Object(J.a)("Subscription Created"),t(a)}return e}catch(a){const e=Object(Y.a)(a);return Z.Result.failure(new Error(e))}},unsubscribeToPushNotifications:async()=>(n(!1),e&&e.unsubscribe().then(()=>(Object(J.a)("Subscription Removed"),t(null),!0)).catch(e=>{const t="Couldn't remove the subscription."+e;throw n(t),console.error(t),new Error(t)}),!1),userSubscription:e,error:a,notificationsEnabled:l}})(),[c,l]=r.useState(null),[o,s]=r.useState(!0),[u,d]=r.useState(!1),m=r.useRef(!1),b=r.useRef(!1),p=r.useRef({mailToggleValue:Q.a.sharedInstance.pushEnabledApps.has(Q.c.mail),calendarToggleValue:Q.a.sharedInstance.pushEnabledApps.has(Q.c.calendar)}),g=r.useRef(!1),h=Object(X.a)(),v=r.useCallback(e=>{new te.a("pushNotification.showPushErrorModal",{statCategory:ae.a.SESSION,error:e}).record(),h({title:Object(ee.a)("NotificationSettings.Error.UnableToSave.Title"),description:Object(ee.a)("NotificationSettings.Error.UnableToSave.Description"),buttons:[{title:Object(ee.a)("NotificationSettings.Error.UnableToSave.Acknowledge"),action:""}],onActionSelected:()=>{l(Q.b.create_subscription_failed)}})},[h]);r.useEffect(()=>{ne.c.isInitialized||ne.c.isReady.then(e=>{e.isOK&&(p.current={mailToggleValue:Q.a.sharedInstance.pushEnabledApps.has(Q.c.mail),calendarToggleValue:Q.a.sharedInstance.pushEnabledApps.has(Q.c.calendar)}),s(!1)})},[]);const f=()=>{var e,t;return null!=(e=null==(t=k.J.value)?void 0:t.isExtendedLogin)?e:null};var E;E=()=>new te.a("pushNotification.closeNotificationModal",{statCategory:ae.a.USER,changeset:{initialState:p.current,endState:{mailToggleValue:m.current,calendarToggleValue:b.current}},browserPermission:e,extendedSessionEnabled:f(),userDidToggle:g.current}).record(),r.useEffect(()=>()=>E(),[]);const y=r.useCallback(()=>{new te.a("pushNotification.openNotificationModal",{statCategory:ae.a.USER,success:!0,initialState:p.current,browserPermission:e,extendedSessionEnabled:f()}).record()},[e]);r.useEffect(()=>{if(o&&ne.c.isInitialized)return"denied"===e||"prompt"===e?(s(!1),void y()):void("granted"===e&&(m.current=Q.a.sharedInstance.pushEnabledApps.has(Q.c.mail),b.current=Q.a.sharedInstance.pushEnabledApps.has(Q.c.calendar),s(!1),y()))},[e,y,o,s]);const O=async()=>{d(!0);try{if("prompt"===e&&"denied"===await i())return m.current=!1,b.current=!1,void d(!1);const c=new Set;m.current&&c.add(Q.c.mail),b.current&&c.add(Q.c.calendar);const l=await(async()=>{if(m.current||b.current){if(t)return Z.Result.success(t);{const e=await a();if(!e.ok){const{error:t}=e;return m.current=!1,b.current=!1,Z.Result.failure(new Error(t.message))}return e}}return await n(),t?Z.Result.success(t):Z.Result.failure(new Error("Failure to update Subscription"))})();if(l.ok){const{value:e}=l,t=await Q.a.sharedInstance.updateAccountPreferences(e,c);var r;t.success||v(null!=(r=t.errorDesc)?r:"")}else if(!l.ok){const{error:e}=l,t=Object(Y.a)(e);v(t)}}catch(c){const e=Object(Y.a)(c);v(e)}finally{d(!1)}};return{isMailBrowserNotificationsEnabled:m.current,isCalendarBrowserNotificationsEnabled:b.current,updatePushAppValue:async(e,t)=>{switch(g.current=!0,e){case Q.c.mail:m.current!==t&&(m.current=t,await O());break;case Q.c.calendar:b.current!==t&&(b.current=t,await O());break;default:return}},permissionState:e,isSaving:u,error:c,isLoading:o,saveCurrentData:O}};var ie=a(2189),ce=a(2225),le=(a(1495),a(741)),oe=a(1294),se=a(750);const ue=e=>{let{title:t,description:a,labelName:n,loadingDescription:i,initialCheckedValue:c,isDisabled:l=!1,icon:o,isWaiting:s=!1,onStateChanged:d,shouldDebounce:m=!0}=e;const b=Object(se.a)(d,1e3);return r.createElement("div",{className:"notification-switch-wrapper"},r.createElement("div",{className:"notification-switch"},r.createElement(le.a,{htmlFor:n+"-notifications-switch"},o,t),s?r.createElement(u.a,{description:i,style:{fontSize:16}}):l?r.createElement(oe.a,{id:n+"-notifications-switch",defaultChecked:!1,disabled:l,ariaDescribedBy:n+"-switch-description"}):r.createElement(oe.a,{id:n+"-notifications-switch",defaultChecked:c,ariaDescribedBy:n+"-switch-description",onStateChange:m?b:d})),r.createElement("div",{id:n+"-switch-description",className:"description"},r.createElement("div",null,a)))};var de=a(757);const me=e=>{let{onClose:t}=e;const a="https://support.apple.com/ht213880?cid=mc-ols-icloud-article_ht213880-settings_ui-08072023",{isMailBrowserNotificationsEnabled:n,isCalendarBrowserNotificationsEnabled:i,updatePushAppValue:c,permissionState:l,isSaving:o,error:s,isLoading:m}=re(),b="denied"===l,[p,g]=r.useState(!1),[v,f]=r.useState(!1);return r.useEffect(()=>{o||(g(!1),f(!1))},[o]),r.useEffect(()=>{b&&(g(!1),f(!1))},[b]),r.useEffect(()=>{s===Q.b.create_subscription_failed&&t()},[s,t]),r.createElement("div",{className:"notification-settings-overlay"},r.createElement("div",{className:"close-button"},r.createElement(de.a,{onActivate:t,className:"modal-close-button"})),r.createElement("div",{className:"content"},r.createElement("div",{className:"title-icon"},r.createElement(K.a,{layoutMode:"glyphBox",width:54,height:54})),r.createElement("h2",null,Object(d.b)("NotificationSettings.ChangeNotificationSettings.Title")),r.createElement("div",{className:"browser-push-notifications-description"},Object(d.b)("NotificationSettings.ChangeNotificationSettings.Description")),m?r.createElement(u.a,{className:"loading-content",description:Object(d.b)("NotificationSettings.Loading.MainContent")}):r.createElement(r.Fragment,null,b&&r.createElement("div",{className:"denied-content"},r.createElement("div",{className:"title"},Object(d.b)("NotificationSettings.Error.Denied.Title")),r.createElement("div",{className:"description"},Object(d.b)("NotificationSettings.Error.Denied.Description")),r.createElement(h.a,{className:"link",href:a},Object(d.b)("NotificationSettings.Error.Denied.ExternalLink"))),r.createElement("div",{className:"notification-switches-container "+(b&&"denied")},r.createElement("div",{className:"title"},Object(d.b)("NotificationSettings.Switches.Title")),r.createElement(ue,{title:Object(d.b)("NotificationSettings.Mail.Title"),description:Object(d.b)("NotificationSettings.Mail.Description"),labelName:Q.c.mail,loadingDescription:Object(d.b)("NotificationSettings.Loading.MailSwitch"),initialCheckedValue:n,icon:r.createElement(G.a,{layoutMode:"glyphBox",width:17,height:17}),isDisabled:b,isWaiting:p,shouldDebounce:"prompt"!==l,onStateChanged:e=>{void 0!==e.checked&&("prompt"===l&&g(!0),c(Q.c.mail,e.checked))}}),r.createElement(ue,{title:Object(d.b)("NotificationSettings.Calendar.Title"),description:Object(d.b)("NotificationSettings.Calendar.Description.Title"),labelName:Q.c.calendar,loadingDescription:Object(d.b)("NotificationSettings.Loading.CalendarSwitch"),initialCheckedValue:i,icon:r.createElement(q.a,{layoutMode:"glyphBox",width:17,height:17}),isDisabled:b,isWaiting:v,shouldDebounce:"prompt"!==l,onStateChanged:e=>{void 0!==e.checked&&("prompt"===l&&f(!0),c(Q.c.calendar,e.checked))}})),!b&&r.createElement(r.Fragment,null,r.createElement("div",{className:"notification-settings-note"},Object(d.b)("NotificationSettings.ChangeNotificationSettings.Note"),r.createElement(h.a,{className:"learn-more",href:a},Object(d.b)("NotificationSettings.ChangeNotificationSettings.Note.LearnMore"))),r.createElement("div",{className:"calendar-note"},r.createElement("div",{className:"divider"}),Object(d.b)("NotificationSettings.Calendar.Note"))))))};a(1497);var be=a(638),pe=a(2145),ge=a(1498),he=a(1243);const ve=e=>{const t=Object(F.c)(),a=l()("plan-card",e.className,t),{storageUsage:n}=Object(ge.a)(),i=function(e){switch(e){case F.a.MAID:return{title:Object(d.b)("AccountPage.PlanCard.MAID.Title"),links:[be.b.plan,be.b.storage]};case F.a.Lite:return{title:Object(d.b)("AccountPage.PlanCard.WebOnly.Title"),description:Object(d.b)("AccountPage.PlanCard.WebOnly.Description"),links:[be.b.plan,be.b.storage]};case F.a.Standard:return{title:Object(d.b)("AccountPage.PlanCard.iCloud.Title"),links:[be.b.plan,be.b.storage]};case F.a.Plus:return{title:Object(d.b)("AccountPage.PlanCard.iCloud+.Title"),links:[be.b.plan,be.b.storage,be.b.icloudplus]};default:Object(pe.d)(e)}}(t);return r.createElement("article",{"aria-label":Object(d.b)("VoiceOver.AccountPage.PlanCard"),className:a},r.createElement(he.a,{className:"shadow"}),r.createElement(he.a,null),r.createElement("div",{className:"plan-card-content"},r.createElement("div",{className:"plan-card-title"},i.title),i.description&&r.createElement("div",{className:"plan-card-description"},i.description),r.createElement("div",{className:"plan-card-info"},r.createElement("div",{className:"plan-card-links"},i.links.map(e=>{const t=e===be.b.plan?Object(d.b)("AccountPage.PlanCard.Plan.Link.Name"):e===be.b.storage?Object(d.b)("AccountPage.PlanCard.Storage.Link.Name"):e===be.b.icloudplus?Object(d.b)("AccountPage.PlanCard.iCloud+.Link.Name"):void Object(pe.d)(e);return r.createElement("div",{key:t,className:"link"},r.createElement(be.a,{to:e,name:t},t,r.createElement(U.b,{layoutMode:"glyphBox",desiredFontSize:12})))})),n?r.createElement("div",{className:"quota"},Object(pe.b)(n.totalBytes,0)):null)))};var fe=a(1085),Ee=a(1500),ye=(a(1499),a(2209));function Oe(e){var t;return null!=(t=function(e,t){let a,n,r,i;for(let c in t){const l=parseFloat(c);(!i||!r||l>r)&&(i=t[c],r=l);const o=l-e;(void 0===a||o>=0&&o<a)&&(a=o,n=t[l])}return n||i}(window.devicePixelRatio>1?58:29,e.iconURLs))?t:"../eec23e311e07b52d13d853f0c7746612.png"}const je=Object(se.a)((function(e,t,a){a({...t,isDiscoverable:e})}),2e3),Ne=e=>r.createElement("div",{className:"modal-content look-me-up-by-email-modal-content"},r.createElement("div",{className:"modal-icon","data-testid":"icon"},r.createElement(Ee.a,{layoutMode:"glyphBox",width:39,height:52})),r.createElement("h2",{className:"modal-title","data-testid":"title",id:e.titleId},Object(d.b)("AccountPage.Settings.LookMeUpByEmail.Modal.Title")),r.createElement("div",{className:"modal-description","data-testid":"description"},Object(d.b)("AccountPage.Settings.LookMeUpByEmail.Modal.Description")," ",r.createElement(h.a,{href:Object(v.a)("lookMeUp")},Object(d.b)("AccountPage.Settings.LookMeUpByEmail.Modal.LearnMore"))),r.createElement("div",{className:"look-me-up-by-email-list"},e.isLoading?r.createElement("div",{className:"loading"},r.createElement(u.a,{description:Object(d.b)("AccountPage.Settings.LookMeUpByEmail.Modal.LoadingDescription")})):function(e,t){if(e&&0!==e.length){const a=Object(d.c)({one:"AccountPage.Settings.LookMeUpByEmail.Modal.List.Title.One",two:"AccountPage.Settings.LookMeUpByEmail.Modal.List.Title.Two",zero:"AccountPage.Settings.LookMeUpByEmail.Modal.List.Title.One",many:"AccountPage.Settings.LookMeUpByEmail.Modal.List.Title.Many"},e.length);return r.createElement(r.Fragment,null,r.createElement("div",{className:"count"},a),r.createElement("div",{className:"description"},Object(d.b)("AccountPage.Settings.LookMeUpByEmail.Modal.List.Description")),r.createElement("div",{role:"table","aria-label":Object(d.b)("VoiceOver.AccountPage.LookMeUpByEmail.Modal.List.AriaLabel")},e.map(e=>r.createElement("div",{key:e.id,role:"row"},r.createElement("div",{role:"cell",className:"checkbox-cell"},r.createElement(ye.a,{defaultChecked:e.isDiscoverable,ariaLabel:Object(d.b)("VoiceOver.AccountPage.LookMeUpByEmail.Modal.List.Checkbox.AriaLbel",{appName:e.name}),onStateChange:a=>je(a.checked,e,t)})),r.createElement("div",{role:"cell",className:"text-cell"},r.createElement("img",{src:Oe(e),"aria-hidden":!0,alt:""}),r.createElement("span",null,e.name))))))}return r.createElement("div",{className:"empty-list"},r.createElement("div",{className:"title"},Object(d.b)("AccountPage.Settings.LookMeUpByEmail.Modal.List.Empty.Title")),r.createElement("div",{className:"content"},Object(d.b)("AccountPage.Settings.LookMeUpByEmail.Modal.List.Empty.Content")))}(e.items,e.onUpdateLookMeUpByEmail)));function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Se=a(2154),De=a(609);const Te=De.z.object({bundleId:De.z.string(),displaySetId:De.z.string(),applicationNameLocalized:De.z.string(),applicationIconUrls:De.z.record(De.z.string())}),we=De.z.object({isDiscoverable:De.z.boolean(),containerType:De.z.string(),containerName:De.z.string(),bundleIdAndIcons:De.z.record(De.z.array(Te).or(De.z.null()))}),Ie=De.z.array(we);function Ce(e){const t=null==e?void 0:e.bundleIdAndIcons;if(!t)return;let a=void 0,n="";for(let i in t){var r;n=i;const c=null!=(r=t[i])?r:[];for(let t=0;t<c.length;t++){const n=c[t],r={id:n.bundleId||"",name:n.applicationNameLocalized||"",iconURLs:n.applicationIconUrls,containerName:e.containerName,containerType:e.containerType,isDiscoverable:e.isDiscoverable};(!a||r.id&&r.name&&r.iconURLs)&&(a=r)}}return!a&&n&&(a={id:n,name:n,iconURLs:{},containerName:e.containerName,containerType:e.containerType,isDiscoverable:e.isDiscoverable}),a}function Ae(e){return`/ws/v1/${e.containerName}/${e.containerType}/privacy/set`}var ke=a(853);var Le=["styles"];function Fe(){return(Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Re=function(e){e.styles;var t=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,Le);return i.a.createElement("svg",Fe({width:"60",height:"60",xmlns:"http://www.w3.org/2000/svg"},t),i.a.createElement("defs",null,i.a.createElement("clipPath",{id:"1745ae87233d84a26db476836e9c4233a"},i.a.createElement("path",{d:"M42.053 0c6.24 0 8.503.65 10.785 1.87a12.721 12.721 0 015.292 5.292C59.35 9.444 60 11.707 60 17.947v24.106c0 6.24-.65 8.503-1.87 10.785a12.721 12.721 0 01-5.292 5.292C50.556 59.35 48.293 60 42.053 60H17.947c-6.24 0-8.503-.65-10.785-1.87a12.721 12.721 0 01-5.292-5.292C.65 50.556 0 48.293 0 42.053V17.947c0-6.24.65-8.503 1.87-10.785A12.721 12.721 0 017.162 1.87C9.444.65 11.707 0 17.947 0h24.106z"})),i.a.createElement("clipPath",{id:"1745ae87233d84a26db476836e9c4233b"},i.a.createElement("path",{d:"M12.017 13.606c3.383 0 6.018 2.619 6.038 6.301 1.554.69 2.557 2.186 2.557 3.899 0 2.304-1.928 4.194-4.425 4.194l-11.25-.02C2.124 27.98 0 25.913 0 23.471c0-2.008 1.101-3.682 2.97-3.997.04-2.304 2.222-3.86 4.268-3.308 1.003-1.398 2.616-2.56 4.779-2.56zm26.807.236c3.698 0 6.176 2.481 6.176 6.164 0 3.662-2.478 6.143-6.176 6.143H22.461a6.214 6.214 0 00.452-2.343c0-2.245-1.003-4.056-2.655-5.277-.275-1.851-1.062-3.446-2.242-4.687zm-.275 4.135c-1.101 0-2.046.926-2.046 2.029 0 1.122.945 2.047 2.046 2.028 1.101-.02 2.026-.906 2.026-2.028a2.05 2.05 0 00-2.026-2.029zM33.416 0c2.792 0 4.936 1.32 5.9 3.741l3.5 8.684c-1.16-.571-2.517-.886-3.992-.886H15.656c-.354 0-.807 0-1.279.078a7.157 7.157 0 00-2.439-.295l3.069-7.58C15.99 1.318 18.134 0 20.927 0z"})),i.a.createElement("linearGradient",{id:"1745ae87233d84a26db476836e9c4233c",x1:"22.5",y1:"0",x2:"22.5",y2:"28",gradientUnits:"userSpaceOnUse"},i.a.createElement("stop",{stopColor:"#3980FF",offset:"0%"}),i.a.createElement("stop",{stopColor:"#5CBEFF",offset:"100%"}))),i.a.createElement("g",{clipPath:"url(#1745ae87233d84a26db476836e9c4233a)"},i.a.createElement("path",{fill:"var(--theme-color-backgroundPrimary)",d:"M0 0h60v60H0V0z"}),i.a.createElement("path",{d:"M17.947 0h24.106c6.24 0 8.503.65 10.785 1.87a12.721 12.721 0 015.292 5.292C59.35 9.444 60 11.707 60 17.947v24.106c0 6.24-.65 8.503-1.87 10.785a12.721 12.721 0 01-5.292 5.292C50.556 59.35 48.293 60 42.053 60H17.947c-6.24 0-8.503-.65-10.785-1.87a12.721 12.721 0 01-5.292-5.292C.65 50.556 0 48.293 0 42.053V17.947c0-6.24.65-8.503 1.87-10.785A12.721 12.721 0 017.162 1.87C9.444.65 11.707 0 17.947 0z",stroke:"var(--theme-color-gray6)",fill:"none",strokeMiterlimit:"5"})),i.a.createElement("g",{clipPath:"url(#1745ae87233d84a26db476836e9c4233b)",transform:"translate(6.5 16)"},i.a.createElement("path",{fill:"#1C1C1F",d:"M0 0h45v28H0V0z"}),i.a.createElement("path",{fill:"url(#1745ae87233d84a26db476836e9c4233c)",d:"M0 0h45v28H0V0z"})))},Me=a(2235),ze=a(667),Be=(a(1501),a(2093));const xe=e=>{const t=P.a.sharedInstance.isDomainCN,a=[{title:Object(d.b)("UpgradePlanTiles.MoreStorage"),description:Object(d.b)("UpgradePlanTiles.MoreStorage.Description"),icon:r.createElement(Re,{width:60,height:60,"aria-hidden":!0}),contentImageSrc1x:"../27118e413e14022017c5056c3c9b2a6f.png",contentImageSrc2x:"../1376acec25c19758d863429654396a0e.png",contentImageSrc3x:"../a656e6879dab8f4a76db6bb6cbb757ca.png",linkInfo:{text:Object(d.b)("UpgradePlanTiles.MoreStorage.LinkText"),href:Object(v.a)("iCloudPlusPlanPricing")}},{title:Object(d.b)("UpgradePlanTiles.HomeKitSecureVideo"),description:Object(d.b)("UpgradePlanTiles.HomeKitSecureVideo.Description"),icon:r.createElement(Be.a,{iconSize:60,applicationIdentifier:"homekit"}),linkInfo:{text:Object(d.b)("UpgradePlanTiles.HomeKitSecureVideo.LinkText"),href:Object(v.a)("homeKitSecureVideo")}},{title:Object(d.b)("UpgradePlanTiles.FamilySharing"),description:Object(d.b)("UpgradePlanTiles.FamilySharing.Description"),icon:r.createElement(Be.a,{applicationIdentifier:"plan",iconSize:60}),linkInfo:{text:Object(d.b)("UpgradePlanTiles.FamilySharing.LinkText"),href:Object(v.a)("familySharing")}},{title:Object(d.b)("UpgradePlanTiles.HideMyEmail"),description:Object(d.b)("UpgradePlanTiles.HideMyEmail.Description"),icon:r.createElement(Be.a,{iconSize:60,applicationIdentifier:"hidemyemail"}),contentImageSrc1x:ze.a,linkInfo:{text:Object(d.b)("UpgradePlanTiles.HideMyEmail.LinkText"),href:Object(v.a)("hideMyEmail")}}],n=[{title:Object(d.b)("UpgradePlanTiles.PrivateRelay"),description:Object(d.b)("UpgradePlanTiles.PrivateRelay.Description"),icon:r.createElement(Be.a,{iconSize:60,applicationIdentifier:"privaterelay"}),linkInfo:{text:Object(d.b)("UpgradePlanTiles.PrivateRelay.LinkText"),href:Object(v.a)("privateRelay")}},{title:Object(d.b)("UpgradePlanTiles.CustomEmailDomain"),description:Object(d.b)("UpgradePlanTiles.CustomEmailDomain.Description"),icon:r.createElement(Be.a,{iconSize:60,applicationIdentifier:"customdomainsettings"}),linkInfo:{text:Object(d.b)("UpgradePlanTiles.CustomEmailDomain.LinkText"),href:Object(v.a)("customEmailDomains")}}],i=t?a:[a[0],n[0],a[1],a[3],n[1],a[2]];return r.createElement("div",{className:l()("upgrade-plan-tiles",e.className)},r.createElement("div",{className:"application-content"},r.createElement("h2",{className:"upgrade-heading"},Object(d.b)("UpgradePlanTiles.Upgrade")),r.createElement("p",{className:"upgrade-description"},Object(d.b)("UpgradePlanTiles.Upgrade.Description")),r.createElement(Me.a,{tiles:i})))};var Ue=a(2162);let He;!function(e){e[e.Deg0=0]="Deg0",e[e.DegNeg90=1]="DegNeg90",e[e.DegNeg180=2]="DegNeg180",e[e.DegNeg270=3]="DegNeg270"}(He||(He={}));var Ve=a(1319),We=a(1228),_e=a(1257),Ke=(a(1502),a(1290)),Ge=a(1504),qe=a(1505);a(1503);const $e=e=>{const t=l()("zoom-control",e.className,e.disabled?"disabled":void 0),a=Object(d.b)("ImagePicker.ZoomControl.ZoomLabel"),n=Object(d.b)("VoiceOver.ImagePicker.ZoomControl.ZoomControlAriaLabel"),i=99*(e.zoomLevel-1)/7;return r.createElement("div",{className:t},r.createElement(Ke.a,{min:0,max:99,step:1,value:i,onStateChange:t=>{void 0!==t.value&&e.onZoomLevelChange(7*t.value/99+1)},disabled:e.disabled,ariaLabel:n}),r.createElement("div",{className:"label-container"},r.createElement(Ge.a,{width:12,height:12,layoutMode:"glyphBox","aria-hidden":"true"}),r.createElement("label",{htmlFor:"zoom-control"},a),r.createElement(qe.a,{width:12,height:12,layoutMode:"glyphBox","aria-hidden":"true"})))};var Qe=a(1507);a(1506);const Ze=[He.Deg0,He.DegNeg90,He.DegNeg180,He.DegNeg270],Ye=e=>{const t=l()("rotation-control",e.className,e.disabled?"disabled":void 0),a=Object(d.b)("ImagePicker.RotationControl.RotateLabel"),n=Object(d.b)("VoiceOver.ImagePicker.RotationControl.RotateLabel");return r.createElement("div",{className:t},r.createElement(y.a,{className:"rotate-button",variant:"push",ariaLabel:n,onActivate:()=>{e.onRotate(Ze[(e.orientation+1)%4])},disabled:e.disabled},r.createElement(Qe.a,{width:26,height:26,layoutMode:"glyphBox"})),r.createElement("div",{className:"rotate-label"},a))},Je=r.forwardRef((e,t)=>{const{id:a,className:n,style:i,cancelButtonLabel:c,doneButtonLabel:o,compactDoneButtonLabel:s,changeImageButtonLabel:m,imageAlt:b,loadingAriaLabel:p,onComplete:g,onCancel:h,imageURL:v,meCardCrop:f,onUserSelectedImage:E,acceptType:O,instructionsLabel:j,errorTextForImageFailedToLoad:N,ariaLabel:P,title:S,dropZoneLabel:D}=e,[T,w]=Object(r.useState)(!v),[I,C]=Object(r.useState)(null),[A,k]=Object(r.useState)(0),[L,F]=Object(r.useState)(0),[R,M]=Object(r.useState)(!1),[z,B]=Object(r.useState)(1),[x,U]=Object(r.useState)(He.Deg0),H=["rotate(0)","rotate(-90deg)","rotate(-180deg)","rotate(-270deg)"][x],[V,W]=Object(r.useState)(!1),_=Object(r.useRef)(void 0),K=Object(r.useRef)(null),G=Object(r.useRef)(null),q=Object(r.useRef)(null),$=Object(r.useRef)(null),Q=Object(r.useRef)(null),[Z,Y]=Object(r.useState)(1),J=Z*z;Object(r.useEffect)(()=>{I&&f&&!_.current&&!R&&(_.current=Object(pe.e)(f,I))},[f,I,R]),Object(r.useEffect)(()=>{if(V)return;if(!I)return;const e=200/Math.min(I.width,I.height);if(Y(e),_.current){const t=200/_.current.width;B(t/e),W(!0)}else _.current={top:(I.height*e-200)/e/2,left:(I.width*e-200)/e/2,width:200/e,height:200/e},W(!0)},[I,V,f]),Object(r.useLayoutEffect)(()=>{V&&_.current&&q.current&&Ee({scrollLeft:_.current.left*J+(_.current.width*J-200)/2,scrollTop:_.current.top*J+(_.current.height*J-200)/2})},[V,J]);const[X,ee]=Object(r.useState)(v);async function te(e){const t=null==e?void 0:e[0],a=!E||E(t);if(t&&a){ee(void 0);const e=await Object(Ve.a)(t);ee(e),M(!0),U(He.Deg0),B(1)}}const ae=V?42/J:0,ne=Object(r.useRef)(X);Object(r.useEffect)(()=>{X!==ne.current&&(ne.current=X,_.current=void 0,w(!1),C(null),Y(1),W(!1))},[X]),Object(r.useEffect)(()=>{const e=()=>{Y(1),W(!1)};return window.addEventListener("orientationchange",e),()=>window.removeEventListener("orientationchange",e)},[]),Object(r.useEffect)(()=>{const e=q.current;if(e){const t=e=>{e.preventDefault(),e.stopPropagation()};return e.addEventListener("wheel",t,{passive:!1}),()=>{e.removeEventListener("wheel",t)}}},[]);const re=Object(r.useRef)(!1),ie=Object(r.useRef)(0),ce=Object(r.useRef)(0),le=Object(r.useRef)(0),oe=Object(r.useRef)(0);function se(e,t){T&&q.current&&(x===He.Deg0?Ee({scrollLeft:le.current+ie.current-e,scrollTop:oe.current+ce.current-t}):x===He.DegNeg90?Ee({scrollLeft:oe.current-ce.current+t,scrollTop:le.current+ie.current-e}):x===He.DegNeg180?Ee({scrollLeft:le.current-ie.current+e,scrollTop:oe.current-ce.current+t}):Ee({scrollLeft:oe.current+ce.current-t,scrollTop:le.current-ie.current+e}))}function ue(){re.current=!1}function me(e,t){re.current=!0,ie.current=e,ce.current=t;const a=q.current;a&&(x===He.Deg0||x===He.DegNeg180?(le.current=a.scrollLeft,oe.current=a.scrollTop):(le.current=a.scrollTop,oe.current=a.scrollLeft))}function be(e){let{up:t=0,left:a=0,down:n=0,right:r=0}=e;const i=q.current;T&&i&&(x===He.Deg0?(i.scrollLeft+=a,i.scrollTop+=t,i.scrollLeft-=r,i.scrollTop-=n):x===He.DegNeg90?(i.scrollTop+=a,i.scrollLeft-=t,i.scrollTop-=r,i.scrollLeft+=n):x===He.DegNeg180?(i.scrollLeft-=a,i.scrollTop-=t,i.scrollLeft+=r,i.scrollTop+=n):(i.scrollTop-=a,i.scrollLeft+=t,i.scrollTop+=r,i.scrollLeft-=n))}const[ge,he]=Object(r.useState)(!1);function ve(){return h?h():null}function fe(){if(q.current&&X&&_.current)return g(X,_.current,x)}function Ee(e){let{scrollLeft:t,scrollTop:a}=e;const n=q.current;n&&("function"===typeof n.scrollTo?n.scrollTo(t,a):(n.scrollTop=a,n.scrollLeft=t))}return r.createElement("div",{"aria-label":P,id:a,style:i,className:l()(n,A>0?"drag-over":void 0,"image-picker",T?"is-loaded":"is-loading",ge?"has-error":void 0,X?void 0:"no-image"),ref:t,onDragOver:e=>e.preventDefault(),onDragEnter:()=>k(e=>e+1),onDragLeave:()=>k(e=>e-1),onDrop:()=>{k(0),F(0)}},r.createElement("div",{className:"close-button"},r.createElement(de.a,{onActivate:ve,ariaLabel:Object(d.b)("VoiceOver.ImagePicker.CloseButtonLabel"),className:"modal-close-button"})),r.createElement("div",{className:"content"},r.createElement("div",{className:"title-icon"},r.createElement(_e.a,{layoutMode:"glyphBox",width:48,height:48})),r.createElement("h2",null,S),r.createElement("div",{className:l()("image-wrapper",L>0?"drag-over":void 0),ref:K,onDragOver:e=>e.preventDefault(),onDragEnter:()=>F(e=>e+1),onDragLeave:()=>F(e=>e-1),onDrop:function(e){var t,a;e.preventDefault(),e.stopPropagation(),k(0),F(0),te(null!=(t=null==(a=e.dataTransfer)?void 0:a.files)?t:void 0)}},A>0?r.createElement("div",{className:"drop-zone-label"},r.createElement("span",null,D)):X?ge?r.createElement("div",{className:"error-message"},r.createElement("span",null,N)):T?void 0:r.createElement("div",{className:"loading-indicator"},r.createElement(u.a,{description:p})):r.createElement("div",{className:"empty-profile-image"}),r.createElement("div",{className:"scroll-container",tabIndex:0,ref:q,onScroll:function(e){if(T&&V&&_.current){const t=e.target;e.preventDefault(),_.current={top:t.scrollTop/J,left:t.scrollLeft/J,width:200/J,height:200/J}}},onMouseDown:function(e){T&&me(e.clientX,e.clientY)},onMouseMove:function(e){re.current&&se(e.clientX,e.clientY)},onMouseUp:ue,onMouseLeave:ue,onTouchStart:function(e){T&&me(e.touches[0].clientX,e.touches[0].clientY)},onTouchEnd:ue,onTouchMove:function(e){re.current&&se(e.touches[0].clientX,e.touches[0].clientY)},style:{transform:H},onKeyDown:e=>{switch(e.key){case"Enter":e.preventDefault(),fe();break;case"Esc":e.preventDefault(),ve();break;case"Left":case"ArrowLeft":e.preventDefault(),be({left:10});break;case"Up":case"ArrowUp":e.preventDefault(),be({up:10});break;case"Right":case"ArrowRight":e.preventDefault(),be({right:10});break;case"Down":case"ArrowDown":e.preventDefault(),be({down:10});break;default:return}}},r.createElement(We.b,{alt:b,src:X,style:{transform:`scale(${J}) `,transformOrigin:"left top",padding:ae},ref:$,onLoad:function(){w(!0),C({width:$.current.offsetWidth,height:$.current.offsetHeight}),ge&&he(!1)},onLoadFailure:function(){he(!0)}})),r.createElement(Xe,{ref:G})),r.createElement("div",{className:"controls"},r.createElement($e,{zoomLevel:z,onZoomLevelChange:B,disabled:!X||!T}),r.createElement(Ye,{orientation:x,onRotate:U,disabled:!X||!T})),r.createElement("div",{className:l()("instructions-label",T||ge?void 0:"muted")},j),r.createElement(y.a,{onActivate:()=>{var e;null==Q||null==(e=Q.current)||e.click()},variant:"push primary",className:"file-upload",disabled:!T&&!ge},r.createElement("input",{ref:Q,type:"file",title:"",accept:O||"image/jpeg",onChange:e=>{!function(e){const t=e.target.files;t&&!t.length||te(null!=t?t:void 0)}(e)}}),m)),r.createElement("div",{className:"button-container"},r.createElement(y.a,{className:"compact-done-button",onActivate:fe,variant:"block primary large"},s),r.createElement(y.a,{className:"cancel-button",onActivate:ve,variant:"block secondary large"},c),r.createElement(y.a,{className:"regular-done-button",disabled:!T||void 0,onActivate:fe,variant:"block primary large"},o)))});Je.displayName="UIImagePicker";const Xe=r.forwardRef((e,t)=>r.createElement("svg",{viewBox:"0 0 284 284",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",className:"image-picker-mask"},r.createElement("defs",null,r.createElement("circle",{id:"b",cx:"50%",cy:"50%",r:"100"}),r.createElement("rect",{id:"a",rx:"8",width:"284",height:"284"}),r.createElement("mask",{id:"c"},r.createElement("use",{xlinkHref:"#a",fill:"#fff"}),r.createElement("use",{xlinkHref:"#b"}))),r.createElement("use",{xlinkHref:"#a",mask:"url(#c)",fill:"rgba(73, 73, 75, 0.6)",className:"square"}),r.createElement("use",{xlinkHref:"#b",fill:"none",stroke:"#fff",strokeWidth:"2px",ref:t,className:"circle"})));function et(){return(et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}Xe.displayName="ImagePickerMask";var tt=a(584);function at(e,t,a,n){const r=t.width,i=t.height,c=Math.round(r*a),l=Math.round(i*a),o=document.createElement("canvas");o.width=c,o.height=l;const s=o.getContext("2d");if(!s)throw new Error("extractImageData: cannot get canvas context");s.fillStyle="#ffffff",s.fillRect(0,0,c,l),s.drawImage(e,t.left,t.top,r,i,0,0,c,l);const u=o.toDataURL("image/jpeg",n);return{dataURL:u,width:c,height:l,size:u.length,scale:a,quality:n}}function nt(e,t,a,n,r,i,c){let l=0;if(a.size>c&&++l,n.size>c&&++l,r.size>c&&++l,i.size>c&&++l,4===l||0===l)return null;const o=a.scale,s=i.scale,u=a.quality,d=i.quality;if(s-o<.05||d-u<.05)return a;const m=(o+s)/2,b=(u+d)/2,p=at(e,t,m,d),g=at(e,t,s,b),h=at(e,t,m,b);let v;if(v=nt(e,t,h,g,p,i,c))return v;const f=at(e,t,m,u);if(v=nt(e,t,f,n,h,g,c))return v;const E=at(e,t,o,b);return(v=nt(e,t,E,h,r,p,c))||(v=nt(e,t,a,f,E,h,c)),v}async function rt(e,t,a){const{width:n,height:r}=e,{left:i,top:c}=t,l=n-t.width-i,o=r-t.height-c,s=function(e,t){let{left:a,top:n,right:r,bottom:i,width:c,height:l}=e;const o=[a,n,r,i,a],s=[c,l,c],[u,d]=o.slice(t,t+2),[m,b]=s.slice(t%2,t%2+2);return{left:u,top:d,width:m,height:b}}({...t,right:l,bottom:o},a),u=document.createElement("canvas"),d=a===He.Deg0||a===He.DegNeg180?n:r,m=a===He.Deg0||a===He.DegNeg180?r:n;u.width=d,u.height=m;const b=u.getContext("2d");if(!b)return Promise.resolve({...e,crop:t});const p=new Image;p.src=e.dataURL;try{await p.decode()}catch{return Promise.resolve({...e,crop:t})}b.translate(d/2,m/2),b.rotate(-Math.PI/2*a),b.drawImage(p,-n/2,-r/2);const g=u.toDataURL("image/jpeg");return Promise.resolve({dataURL:g,width:d,height:m,size:g.length,scale:e.scale,quality:e.quality,crop:s})}var it=a(659);const ct=["image/jpeg","image/gif","image/png","image/bmp"];var lt=a(632);a(1508),a(1509);const ot=e=>{let{crossed:t,onChange:a}=e;return r.createElement("button",{className:"sandwich-menu-toggle-icon","aria-label":Object(d.b)("SandwichMenu.NavLinks.ToggleIcon"),"data-cross-activated":t,onClick:()=>a({crossed:t})},r.createElement("div",{className:"sandwich-menu-toggle-icon-top"},r.createElement("div",{className:"sandwich-menu-toggle-icon-crust-top"})),r.createElement("div",{className:"sandwich-menu-toggle-icon-bottom"},r.createElement("div",{className:"sandwich-menu-toggle-icon-crust-bottom"})))};var st=a(535),ut=a(764);function dt(){return(dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const mt=e=>{const t=e.useHorizontalSizeClass||ut.c,a=t()===(e.collapsedSizeClass||(e=>{if(e)return st.e.COMPACT;throw new TypeError("When bringing your own sizeClass media query, you need to set a `collapsedSizeClass`!")})(t===ut.c)),[n,i]=r.useState(!1),c=r.useCallback(()=>i(!1),[i]);r.useEffect(()=>{a||c()},[a,c]);const[o,s]=r.useState(!0);r.useLayoutEffect(()=>{s(a)},[a]);const u=a&&n;r.useEffect(()=>{document.documentElement.classList[u?"add":"remove"]("sandwich-menu-open")},[u]);const m=c,b=r.useCallback(e=>{" "!==e.key&&"Return"!==e.key||m()},[m]),{liProps:p,selectedItem:g}=e,h=e.menuItems.map(e=>{const{key:t}=e;if(!t)throw new TypeError("menuItems need to set a `key` prop!");const a=g&&t===g?"selected":null,n=l()(null==p?void 0:p.className,a)||void 0;return r.createElement("li",dt({key:t,className:n,onClick:m,onKeyDown:b},p),e)});return r.createElement("div",{className:l()("sandwich-menu",u?"open":"closed",o?"animated":null)},r.createElement("div",{className:"sandwich-menu-button-container"},r.createElement(ot,{crossed:n,onChange:e=>{let{crossed:t}=e;return i(!t)}})),r.createElement("div",{className:"sandwich-menu-header"},e.compactHeader),r.createElement("section",{className:"sandwich-menu-items-container","aria-label":Object(d.b)("SandwichMenu.AriaLabel")},r.createElement("ul",null,h)))};a(1510);const bt=e=>{let{route:t,locPrefix:a}=e;const n=Object(be.c)(t,`${a}${be.g[t]}`,void 0,!0);return r.createElement(n,null)},pt=e=>{var t,a,n;let{current:i,tabs:c}=e;const l=function(){var e,t,a;const n=null==(e=Object(S.b)())||null==(t=e.details)||null==(a=t.beneficiaryInfo)?void 0:a.isBeneficiary;return[be.b.plan,be.b.storage,Object(F.b)()&&!n?be.b.icloudplus:null,n?null:be.b.recovery,n?null:be.b.settings].filter(lt.a)}();c||(c=l);const o=Object(F.b)(),s="MD"===Object(d.j)(),u=(null==(t=Object(S.b)())||null==(a=t.details)||null==(n=a.beneficiaryInfo)?void 0:n.isBeneficiary)?"ShortName.":o&&s?"":"LongName.",m=c.map(e=>r.createElement(bt,{key:e,route:e,locPrefix:u}));return r.createElement(mt,{menuItems:m,selectedItem:i,useHorizontalSizeClass:d.j,collapsedSizeClass:"SM"})};var gt=a(794),ht=a(1207),vt=a(778),ft=a(2213);const Et=e=>{var t,a,n,i;let{className:c,onPageLoaded:o}=e;const s=l()("account-page",c),u=function(){const e=Object(X.a)();return()=>e({title:Object(ee.a)("AccountPage.Settings.Access.Signout.Modal.Title"),description:Object(ee.a)("AccountPage.Settings.Access.Signout.Modal.Description"),buttons:[{title:Object(ee.a)("AccountPage.Settings.Access.Signout.Confirm"),action:"signout"},{title:Object(ee.a)("AccountPage.Settings.Access.Signout.Cancel"),action:"cancel"}],defaultAction:"cancel",cancelAction:"cancel",onActionSelected:e=>{"signout"===e&&Object(k.E)()},unmountWithPresenter:!0})}(),m=Object(F.c)(),b=Object(S.b)(),p=R(),g=Object(V.a)(Object(W.b)(),{givenName:null==b||null==(t=b.details)?void 0:t.firstName,familyName:null==b||null==(a=b.details)?void 0:a.lastName}),v=Object(ft.a)().find(e=>"find"===e.applicationIdentifier),{data:f,isLoading:E}=Object(Se.M)({endpoint:Se.c.lookMeUpByEmailList,fetchProvider:e=>()=>async function(e){let{webServices:t}=e;if(null==t||!t.cksharews)throw new Error("no service url available");return function(e){const t=[];for(let a=0;a<e.length;a++){const n=Ce(e[a]);n&&t.push(n)}return t}(await Object(Se.h)({url:t.cksharews+"/ws/v1/com.apple.cloudkit/production/privacy/getall",method:"POST",includeCredentials:!0,body:{lang:Object(W.b)(),platform:null},validate:{type:"WireLookMeUpByEmailListResponse",schema:Ie}}))}(e)}),O=function(){const e=Object(d.k)(),t=Object(ke.useQueryClient)();return Object(ke.useMutation)(t=>async function(e,t){let{webServices:a}=e;if(null==a||!a.cksharews)throw new Error("no service url available");return await Object(Se.K)({url:`${a.cksharews}${Ae(t)}`,method:"POST",includeCredentials:!0,body:{bundleId:t.id,isDiscoverable:t.isDiscoverable}}).then(Se.J),!0}({webServices:e},t),{onSuccess:(e,a)=>{var n;const r=null!=(n=t.getQueryData([Se.c.lookMeUpByEmailList]))?n:[],i=r.findIndex(e=>e.id===a.id);i<0||t.setQueryData([Se.c.lookMeUpByEmailList],[...r.slice(0,i),a,...r.slice(i+1)])}})}(),j=(N={items:f,isLoading:E,onUpdateLookMeUpByEmail:function(e){O.mutate(e)}},Object(fe.a)(r.createElement(Ne,Pe({},N,{titleId:"look-me-up-by-email-modal-title"})),{ariaLabelledBy:"look-me-up-by-email-modal-title"}));var N;const{isImageLoading:P,showImagePicker:D}=function(){const{data:e,isLoading:t}=Object(Ue.a)(),a=Object(Ue.b)(),n=Object(d.b)("ImagePicker.Alert.Title.UnsupportedFileType"),i=Object(d.b)("ImagePicker.Alert.Title.FileTooLarge"),c=Object(d.b)("ImagePicker.Alert.Title.Generic"),l=Object(d.b)("ImagePicker.Alert.Description.UnsupportedFileType"),o=Object(d.b)("ImagePicker.Alert.Description.FileTooLarge"),s=Object(d.b)("ImagePicker.Alert.Description.Generic"),u=Object(d.b)("ImagePicker.Alert.Action.Ok"),m=Object(X.a)(),[b,p]=r.useState(null==e?void 0:e.url),g=r.useRef(b);(null==e?void 0:e.url)!==g.current&&(g.current=null==e?void 0:e.url,p(null==e?void 0:e.url));const[h,v]=r.useState(!1),f=function(e){const t=Object(r.useRef)(null),a=r.createElement(Je,et({ref:t},e,{onComplete:(t,a,n)=>{e.onComplete(t,a,n),i()},onCancel:()=>{e.onCancel(),i()}})),[n,i]=Object(_.a)(a,{initialFocus:t,className:"for-image-picker"});return n}({cancelButtonLabel:Object(d.b)("ImagePicker.CancelButtonLabel"),compactDoneButtonLabel:Object(d.b)("ImagePicker.CompactDoneButtonLabel"),doneButtonLabel:Object(d.b)("ImagePicker.DoneButtonLabel"),changeImageButtonLabel:Object(d.b)("ImagePicker.ChangeImageButtonLabel"),imageAlt:Object(d.b)("Avatar.ImageAlt"),loadingAriaLabel:Object(d.b)("VoiceOver.ImagePicker.LoadingAriaLabel"),instructionsLabel:Object(d.b)("ImagePicker.Instructions"),title:Object(d.b)("ImagePicker.Title"),errorTextForImageFailedToLoad:Object(d.b)("ImagePicker.ErrorImageFailedToLoad"),onUserSelectedImage:e=>{if(e){const t=e.type;return ct.includes(t)?!(e.size>1e7)||(m({title:i,description:o,buttons:[u]}),!1):(m({title:n,description:l,buttons:[u]}),!1)}return m({title:c,description:s,buttons:[u]}),!1},onComplete:async(t,n,r)=>{try{var i,l,o,d;if(!e)return;v(!0);const c=await Object(it.a)(t,void 0,void 0,"use-credentials");v(!1);const s=Object(pe.f)(n,{height:c.height,width:c.width});if(t!==g.current||s.x!==(null==(i=e.crop)?void 0:i.x)||s.y!==(null==(l=e.crop)?void 0:l.y)||s.height!==(null==(o=e.crop)?void 0:o.height)||s.width!==(null==(d=e.crop)?void 0:d.width)||r!==He.Deg0){const t=await async function(e,t,a,n,r){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1e7,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const l=c?r:{left:0,top:0,width:t,height:a},o=.1,s=1,u=.1,d=1;let m,b=at(e,l,s,d);if(b.size>i&&(b=nt(e,l,at(e,l,o,u),at(e,l,s,u),at(e,l,o,d),b,i)),!b)throw new Error("extractImageData: cannot convert image to data URL");if(c)m={left:0,top:0,width:b.width,height:b.height};else{const e=b.scale;m={top:Math.round(r.top*e),left:Math.round(r.left*e),width:Math.round(r.width*e),height:Math.round(r.height*e)}}const p=await rt(b,m,n);return Promise.resolve(p)}(c,c.width,c.height,r,n,96256,!1),i={contactId:""!==e.contactId?e.contactId:Object(tt.a)().toUpperCase(),url:t.dataURL,crop:Object(pe.f)(t.crop,{width:t.width,height:t.height}),signature:e.signature};a.mutate(i)}}catch{m({title:c,description:s,buttons:[u]})}},acceptType:"image/*",onCancel:()=>{},imageURL:null==e?void 0:e.url,meCardCrop:null==e?void 0:e.crop,dropZoneLabel:Object(d.b)("ImagePicker.DropZoneLabel")});return{isImageLoading:t||a.isLoading||h,showImagePicker:f}}(),T="lookmeupbyemail"===(null==(n=ie.a.sharedInstance.applicationParameter.informationalPageDetails)?void 0:n.relativePath);r.useEffect(()=>{E||null==o||o()},[E,o]),r.useEffect(()=>{T&&j()},[T,j]);const w=Object(vt.a)(),I=l()("standard-button",{tall:w}),C=Object(k.i)(),A=function(){var e,t,a,n;const[i,c]=Object(_.a)(r.createElement(me,{onClose:()=>{c()}}),{ariaLabel:Object(d.b)("NotificationSettings.ChangeNotificationSettings.Title")}),l=null!=(e="notifications"===(null==ie.a||null==(t=ie.a.sharedInstance)||null==(a=t.applicationParameter)||null==(n=a.informationalPageDetails)?void 0:n.relativePath))&&e;return r.useEffect(()=>{l&&Object(ce.a)()&&i()},[l,i]),i}();return r.createElement("div",{className:s},r.createElement(pt,{current:be.b.settings}),r.createElement("div",{className:"account-info-wrapper"},r.createElement("div",{className:"application-content"},r.createElement("div",{className:"account-page-header"},r.createElement("h1",{className:l()({tall:w})},g)),r.createElement("div",{className:"page-content"},r.createElement("div",{className:"content-column"},r.createElement(ve,null),r.createElement("section",null,r.createElement("h2",null,Object(d.b)("AccountPage.Settings.Title")),!C&&r.createElement("section",null,r.createElement("h3",null,Object(d.b)("AccountPage.Settings.Customize.Title")),r.createElement("p",null,Object(d.b)("AccountPage.Settings.Customize.Description")),r.createElement(y.a,{className:I,onActivate:function(){x.a.cloudOSApplication.switchToSpringboard(!1,!0)}},Object(d.b)("AccountPage.Settings.Customize.Button.Name"),r.createElement(U.a,{layoutMode:"glyphBox",desiredFontSize:8}))),r.createElement("section",{className:"notification-section"},r.createElement("h3",null," ",Object(d.b)("AccountPage.Settings.ChangeNotificationSettings.Title")),r.createElement("p",null,Object(ce.a)()?Object(d.b)("AccountPage.Settings.ChangeNotificationSettings.Description"):Object(d.b)("AccountPage.Settings.ChangeNotificationSettings.NotSupported.Description")),Object(ce.a)()?r.createElement(y.a,{className:I,onActivate:A},Object(d.b)("AccountPage.Settings.ChangeNotificationSettings.Button.Label"),r.createElement(U.a,{layoutMode:"glyphBox",desiredFontSize:8})):r.createElement(h.a,{href:"https://support.apple.com/guide/icloud/mm3392084d5d/icloud",useSemiboldArrow:!0},Object(d.b)("AccountPage.Settings.ChangeNotificationSettings.NotSupported.Button.Label"))),r.createElement("section",null,r.createElement("h3",null,Object(d.b)("AccountPage.Settings.LookMeUpByEmail.Title")),r.createElement("p",null,Object(d.b)("AccountPage.Settings.LookMeUpByEmail.Description")),r.createElement(y.a,{className:I,onActivate:j},Object(d.b)("AccountPage.Settings.LookMeUpByEmail.Button.Name"),r.createElement(U.a,{layoutMode:"glyphBox",desiredFontSize:8}))),r.createElement("section",null,r.createElement("h3",null,Object(d.b)("AccountPage.Settings.Access.Title")),r.createElement("p",null,Object(d.b)("AccountPage.Settings.Access.Description")),r.createElement(y.a,{className:I,variant:"push primary destructive",onActivate:u},Object(d.b)("AccountPage.Settings.Access.Button.Name"))))),r.createElement("div",{className:"content-column second"},r.createElement("section",null,r.createElement("section",{className:"apple-id"},r.createElement("h2",null,Object(d.b)("AccountPage.AppleId.Title")),r.createElement("p",{className:"account-email"},null==b||null==(i=b.details)?void 0:i.appleId)),r.createElement("section",null,r.createElement("h3",null,Object(d.b)("AccountPage.Settings.Photo.Title")),r.createElement(y.a,{className:I+" change-photo",onActivate:D,disabled:P},Object(d.b)("AccountPage.Settings.Photo.ChangeAppleIDPhoto.Button.Name"),r.createElement(U.a,{layoutMode:"glyphBox",desiredFontSize:8}))),r.createElement("section",{className:l()(m===F.a.Lite&&"final-section")},r.createElement("h3",null,Object(d.b)("AccountPage.Settings.AppleID.Title")),r.createElement("p",null,Object(d.b)("AccountPage.Settings.AppleID.Description")),r.createElement(h.a,{href:"",onClick:()=>Object(ht.c)(),useSemiboldArrow:!0},Object(d.b)("AccountPage.Settings.AppleID.Button.Name"))),m!==F.a.Lite&&v&&r.createElement("section",{className:"final-section"},r.createElement("h3",null,Object(d.b)("AccountPage.Settings.FindDevices.Title")),r.createElement("p",null,Object(d.b)("AccountPage.Settings.FindDevices.Description")),r.createElement(y.a,{className:I,onActivate:function(){gt.a.sharedInstance.switchToApplication("find",{hash:"",route:void 0})}},Object(d.b)("AccountPage.Settings.FindDevices.Button.Name"),r.createElement(U.a,{layoutMode:"glyphBox",desiredFontSize:8})))))))),p?r.createElement(xe,null):null)};var yt=a(2153),Ot=a(2212);a(1511);const jt=e=>{const{title:t,subtitle:a,subtitleDescription:n,extraSubtitle:i,description:c}=e,o=l()("page-header",e.className);return r.createElement("div",{className:o},r.createElement("div",{className:"application-content"},r.createElement("div",{className:"page-header-top-row"},r.createElement("h1",{className:"page-header-title"},t)),!!a&&r.createElement("div",{className:"page-header-subtitle"}," ",a," "),!!n&&r.createElement("div",{className:"page-header-description"},n),!!i&&r.createElement("div",{className:"page-header-subtitle"},i),!!c&&r.createElement("div",{className:"page-header-description"},c)))};a(1512);var Nt=a(892),Pt=a(890);function St(e){const t=[];return e.forEachBookmarkRecord(a=>{var n;if(!function(e){var t,a;if("BookmarkLeaf"!==e.recordType)return!1;const n=Date.now()-2592e6,r=!(null==(t=e.fields.Deleted)||!t.value),i=e.modified.timestamp,c=null==(a=e.fields.ParentFolder)?void 0:a.value.recordName;return r&&"Reading List"!==c&&i>=n}(a))return;const r=null==(n=a.fields.ParentFolder)?void 0:n.value.recordName,i=r?e.getBookmarkRecord(r):void 0;t.push({recordName:a.recordName,title:Tt(a),deletionDate:new Date(a.modified.timestamp),url:wt(a),folder:i?Tt(i):"",isFavoritesBar:"Favorites Bar"===r})}),t}function Dt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt.a.shared;const[t,a]=r.useState(()=>St(e)),[n,i]=r.useState(e.isLoading),c=r.useRef({bookmarksDidChange(){a(St(e))},loadingDidChange(e,t){i(t)}}).current;return r.useEffect(()=>(e.addListener(c),()=>{e.removeListener(c)}),[e,c]),[t,n]}function Tt(e){switch(e.recordName){case"Favorites Bar":return Object(d.b)("RecoveryPage.BookmarksRecoveryModal.LocalizedName.FavoritesBar");case"Bookmarks Menu":return Object(d.b)("RecoveryPage.BookmarksRecoveryModal.LocalizedName.BookmarksMenu");default:{var t;const a=null==(t=e.fields.Title)?void 0:t.value;if(!a)return"";const n=atob(a),r=new Uint8Array(n.length);for(let e=0;e<n.length;++e)r[e]=n.charCodeAt(e);return(new TextDecoder).decode(r)}}}function wt(e){var t;const a=null==(t=e.fields.URL)?void 0:t.value;if(!a)return"";const n=atob(a),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return(new TextDecoder).decode(r)}const It=De.z.object({dateCreated:De.z.string(),archiveId:De.z.string(),sharedCalendars:De.z.boolean().optional(),sharedEvents:De.z.boolean().optional()}),Ct=De.z.object({archives:De.z.array(It).optional(),status:De.z.string().optional(),sharedCalendars:De.z.boolean().optional(),sharedEvents:De.z.boolean().optional()}),At=De.z.object({dateCreated:De.z.string(),drivewsid:De.z.string(),docwsid:De.z.string(),zone:De.z.string(),name:De.z.string(),extension:De.z.string().optional(),isDeleted:De.z.boolean(),parentId:De.z.string(),hierarchy:De.z.array(De.z.object({drivewsid:De.z.string(),name:De.z.string(),etag:De.z.string()})),isChainedToParent:De.z.boolean().optional(),dateModified:De.z.string(),dateChanged:De.z.string(),size:De.z.number(),etag:De.z.string(),type:De.z.string()}),kt=De.z.object({hasMoreItems:De.z.boolean().optional(),items:De.z.array(At).optional(),jobId:De.z.string(),jobStatus:De.z.string(),retryAfterMilliseconds:De.z.number().optional()}),Lt=De.z.object({status:De.z.union([De.z.literal("BUSY"),De.z.literal("FREE")])});function Ft(e){if(e.dateModified&&e.name&&e.extension)return{deletionDate:new Date(e.dateModified),titleWithExtension:`${e.name}.${e.extension}`}}function Rt(e){return e.archives?e.archives.map(e=>{const{dateCreated:t,archiveId:a}=e;return{deletionDate:new Date(t),archiveId:a}}):[]}var Mt=a(633),zt=a(2167),Bt=a(666);const xt=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const r=await Object(Se.h)({url:e,method:"POST",includeCredentials:!0,body:{jobId:t,offset:a},validate:{type:"WireDeletedItemDetailsResponse",schema:kt}}),{items:i=[]}=r,c=n.concat(i);return"PENDING"!==r.jobStatus?Promise.resolve(c):(await Object(Mt.a)(r.retryAfterMilliseconds||0),xt(e,r.jobId,i.length,c))},Ut=(e,t)=>{let{webServices:a}=e;if(null==a||!a.archivews)throw new Error("fetchDevices: no service url available");return Object(Se.h)({url:Object(Se.v)(a.archivews),method:"POST",includeCredentials:!0,body:{service:t},validate:{type:"WireListArchivesResponse",schema:Ct}}).then(Rt)},Ht=(e,t,a)=>{let{webServices:n}=e;if(null==n||!n.archivews)throw new Error("restoreDeletedArchives: no service url available");return Object(Se.h)({url:Object(Se.B)(n.archivews),method:"POST",includeCredentials:!0,body:{service:t,archiveId:a},validate:{type:"WireServiceStatusResponse",schema:Lt}})},Vt=(e,t)=>{let{webServices:a}=e;if(null==a||!a.archivews)throw new Error("retrieveServiceStatus: no service url available");return Object(Se.h)({url:Object(Se.D)(a.archivews),method:"POST",includeCredentials:!0,body:{service:t},validate:{type:"WireServiceStatusResponse",schema:Lt}})},Wt=e=>Vt(e,"CALENDAR-REMINDERS"),_t=e=>Vt(e,"CONTACTS");var Kt=a(898),Gt=a(900),qt=a(645),$t=a(754),Qt=a(1388);a(1513);const Zt=()=>{const e=r.createElement(Kt.a,{iconSize:54,symbolSize:30,symbol:Qt.a,backgroundColor:"#AF52DF"}),t=Object(d.b)("RecoveryPage.FilesRecoveryModalContent.Title");return r.createElement(r.Fragment,null,r.createElement("div",{className:"modal-icon","data-testid":"icon"},e),r.createElement("h2",{className:"modal-title","data-testid":"title",id:"files-recovery-modal-title"},t),r.createElement("p",{className:"files-recovery-unsupported-modal-content"},Object(d.b)("RecoveryPage.FilesRecoveryUnsupportedModal.Content")))};var Yt=a(634),Jt=a(1390),Xt=a(1514),ea=a(792),ta=a(1515),aa=a(893);const na=e=>{const t=ea.a.applicationInfo.pcsKeyIdentifier,a=Object(Xt.a)(t),{deletedDriveItems:n=[],tileSize:i,error:c}=e,l=e.isLoading&&a,o=Object(d.b)("RecoveryPage.DriveItemsTile.Title"),s=n.length,u=Object(d.c)({zero:"RecoveryPage.DriveItemsTile.TotalNumber.Zero",one:"RecoveryPage.DriveItemsTile.TotalNumber.One",two:"RecoveryPage.DriveItemsTile.TotalNumber.Two",many:"RecoveryPage.DriveItemsTile.TotalNumber.Many"},s),m=a?l?Object(d.b)("RecoveryPage.Loading"):u:"";n.sort((e,t)=>t.deletionDate.getTime()-e.deletionDate.getTime());const b=Object(Gt.a)(n,e=>e.titleWithExtension,za),p=Object(qt.b)(),g=Object(fe.a)(r.createElement(Zt,null),{ariaLabelledBy:""}),[h,v]=Object($t.b)("load","iclouddrive-recovery-tile",{measureFromBaseline:!0});r.useEffect(()=>{e.isLoading||(e.isSuccess?h():v())},[e.isLoading,e.isSuccess,h,v]);const f=Object(Jt.a)(),E=r.useCallback(()=>{const e=()=>{const e=Yt.a.sharedInstance.getApplicationInfo("iclouddrivefilerecovery");e&&gt.a.sharedInstance.canLaunchChildApplication(e)?p.launchApp("iclouddrivefilerecovery",void 0,{presentationStyle:"modal"}):g()};t&&!zt.a.sharedInstance.hasPCSKey(t)?f("iclouddrivefilerecovery",t,!1,t=>{t&&e()}):e()},[f,g,p,t]);return r.createElement(Ot.b,{tileIndex:-1,icon:r.createElement(Kt.a,{iconSize:40,symbolSize:20,symbol:Qt.a,backgroundColor:"#AF52DF"}),className:"driveitems-recovery-tile",heading:o,description:m,tileSize:i,isLoading:l,onTileClick:E,error:c},!l&&a&&!c&&r.createElement(aa.a,{contentListItems:b.length>0?b:[Object(d.b)("RecoveryPage.TileContent.NoItems")],contentDescriptionText:""}),!l&&a&&c&&r.createElement(ta.a,{refetch:e.refetch,showClouds:!1}),!a&&r.createElement("div",{className:"adp-locked-tile"},r.createElement(I.a,{"aria-hidden":"true",className:"adp-icon",layoutMode:"glyphBox",desiredFontSize:18}),r.createElement("div",{className:"title"},Object(d.b)("ADP.BookmarksRecoveryTile.Title"))))},ra=e=>{const{deletedArchives:t=[],tileSize:a,headingText:n,iconSymbol:i,iconColor:c,isLoading:l,onTileClick:o,error:s}=e,u=t.length,m=Object(d.c)({zero:"RecoveryPage.ArchivesTile.TotalNumber.Zero",one:"RecoveryPage.ArchivesTile.TotalNumber.One",two:"RecoveryPage.ArchivesTile.TotalNumber.Two",many:"RecoveryPage.ArchivesTile.TotalNumber.Many"},u),b=l?Object(d.b)("RecoveryPage.Loading"):m;t.sort((e,t)=>t.deletionDate.getTime()-e.deletionDate.getTime());const p=Object(Gt.a)(t,e=>Object(pe.h)(e.deletionDate,"long"),za);return r.createElement(Ot.b,{tileIndex:-1,icon:r.createElement(Kt.a,{iconSize:40,symbolSize:20,symbol:i,backgroundColor:c}),className:"archives-recovery-tile",heading:n,description:b,tileSize:a,isLoading:l,onTileClick:o,error:s},l?null:s?r.createElement(ta.a,{refetch:e.refetch,showClouds:!1}):r.createElement(aa.a,{contentListItems:p.length>0?p:[Object(d.b)("RecoveryPage.TileContent.NoItems")],contentDescriptionText:""}))};var ia=a(1522);var ca=a(1520);a(1519);const la=e=>{let{items:t,listDescription:a,isLoading:n,restoringArchiveId:i,onRestoreArchive:c}=e;const l=Object(d.f)({zero:"RecoveryPage.ArchivesTile.TotalNumber.Zero",one:"RecoveryPage.ArchivesTile.TotalNumber.One",two:"RecoveryPage.ArchivesTile.TotalNumber.Two",many:"RecoveryPage.ArchivesTile.TotalNumber.Many"},t.length),o=Object(d.b)("VoiceOver.RecoveryPage.ArchivesRecoveryList.ArchiveTableLabel"),s=Object(d.b)("RecoveryPage.ArchivesRecoveryList.LoadingDescription"),m=Object(d.b)("RecoveryPage.ArchivesRecoveryList.EmptyList"),b=t.map(e=>{let{deletionDate:t,archiveId:a}=e;return{archiveId:a,deletionDate:Object(pe.h)(t,"long")}}),p=r.createElement("div",{role:"table","aria-label":o},b.map(e=>r.createElement("div",{key:e.archiveId,role:"row"},r.createElement("div",{role:"cell",className:"date-cell"},r.createElement(ca.a,{"aria-hidden":!0,desiredFontSize:10,layoutMode:"glyphBox"}),e.deletionDate),r.createElement("div",{role:"cell",className:"restore-cell"},e.archiveId===i?r.createElement("span",{className:"restoring"},r.createElement(u.a,{description:Object(d.b)("RecoveryPage.ArchivesRecoveryList.RestoringArchiveDescription",{date:e.deletionDate})}),Object(d.b)("RecoveryPage.ArchivesRecoveryList.Restoring")):r.createElement(y.a,{className:"restore-button",variant:"push secondary neutral",ariaLabel:Object(d.b)("VoiceOver.RecoveryPage.ArchivesRecoveryList.RestoreButtonLabel",{date:e.deletionDate}),onActivate:()=>c(e.archiveId),disabled:void 0!==i},Object(d.b)("RecoveryPage.ArchivesRecoveryList.RestoreButton")))))),g=r.createElement("div",{className:"empty-list"},m);return r.createElement("div",{className:"archives-recovery-list"},r.createElement("div",{className:"count"},l),r.createElement("div",{className:"description"},a),n?r.createElement("div",{className:"loading"},r.createElement(u.a,{description:s})):t.length?p:g)},oa=e=>{let{icon:t,modalTitle:a,modalDescription:n,learnMoreLink:i,titleId:c,...l}=e;const o=Object(d.b)("RecoveryPage.ArchivesRecoveryModalContent.LearnMore");return r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-icon","data-testid":"icon"},t),r.createElement("h2",{className:"modal-title","data-testid":"title",id:c},a),r.createElement("div",{className:"modal-description","data-testid":"description"},n," ",r.createElement(h.a,{href:i},o)),r.createElement(la,l))};var sa=a(678);const ua=e=>{var t;let{items:a,isLoading:n,onRestoreArchive:i,restoringArchiveId:c}=e;const l=r.createElement(Kt.a,{iconSize:54,symbolSize:30,symbol:q.a,backgroundColor:"#F04634"}),o=1===(null==(t=Yt.a.sharedInstance.getApplicationConfiguration(sa.a))?void 0:t.applicationInfo.generation),s=o?Object(d.b)("RecoveryPage.CalendarsRecoveryModalContent.Reminders.Title"):Object(d.b)("RecoveryPage.CalendarsRecoveryModalContent.Title"),u=o?Object(d.b)("RecoveryPage.CalendarsRecoveryModalContent.Reminders.Description"):Object(d.b)("RecoveryPage.CalendarsRecoveryModalContent.Description"),m=Object(v.a)("restoreCalendars"),b=r.createElement(r.Fragment,null,Object(d.b)("RecoveryPage.CalendarsRecoveryModalContent.ListDescription.FirstLine"),r.createElement("ul",null,r.createElement("li",null,Object(d.b)("RecoveryPage.CalendarsRecoveryModalContent.ListDescription.BulletPointOne")),r.createElement("li",null,Object(d.b)("RecoveryPage.CalendarsRecoveryModalContent.ListDescription.BulletPointTwo")),r.createElement("li",null,Object(d.b)("RecoveryPage.CalendarsRecoveryModalContent.ListDescription.BulletPointThree"))));return r.createElement(oa,{icon:l,modalTitle:s,modalDescription:u,learnMoreLink:m,items:a,listDescription:b,isLoading:n,onRestoreArchive:i,titleId:"calendars-recovery-modal-title",restoringArchiveId:c})};function da(e,t){const a=r.useRef();r.useEffect(()=>{a.current=e},[e]),r.useEffect(()=>{if(null!==t){const e=setInterval((function(){null==a.current||a.current()}),t);return()=>clearInterval(e)}},[t])}function ma(e,t,a){const n=Object(d.k)();return function(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3;const c=r.useRef(0),[l,o]=r.useState("idle");da(()=>{e().then(e=>{"pending"===l&&"idle"===e&&(o("idle"),t())},()=>{c.current++,c.current>=i&&"pending"===l&&(o("idle"),a())})},"pending"===l?n:null);const s=()=>{c.current=0,o("pending")};return s}(()=>e({webServices:n}).then(e=>"FREE"===e.status?"idle":"pending"),t,a)}a(1521);var ba=a(2188),pa=e=>({recordOpenedRecovery:Object(r.useCallback)(()=>{ba.b.sharedInstance.recordStat(new te.a("openedRecover"+Object(pe.c)(e)))},[e]),recordStartedRecovery:Object(r.useCallback)(()=>{ba.b.sharedInstance.recordStat(new te.a("startedRecover"+Object(pe.c)(e)))},[e])}),ga=a(2199);const ha=e=>{let{confirmationTitle:t,confirmationDescription:a,confirmationRestore:n,confirmationCancel:i,recoveryType:c,startRestore:l,endRestore:o}=e;const[s]=Object(ga.b)(),u=pa(c);return Object(r.useCallback)(e=>{s({title:t,description:a,buttons:[{title:n,action:"restore"},{title:i,action:"cancel"}],cancelAction:"cancel",onActionSelected:t=>{"cancel"===t?o():"restore"===t&&(u.recordStartedRecovery(),l(e))}})},[t,a,n,i,l,o,s,u])},va=()=>{var e;const t=Object(W.b)(),a=Object(Se.M)({endpoint:Se.c.listCalendarArchives,fetchProvider:e=>()=>Ut(e,"CALENDAR-REMINDERS")}),n=Object(d.b)("RecoveryPage.ArchivesTile.Title.Calendars"),[i,c]=r.useState(void 0),l=Object(d.b)("RecoveryPage.CalendarArchivesRecoveryTileWrapper.Confirmation.Title"),o=Object(d.b)("RecoveryPage.CalendarArchivesRecoveryTileWrapper.Confirmation.Description"),s=Object(d.b)("Alert.CancelButton"),u=Object(d.b)("RecoveryPage.CalendarArchivesRecoveryTileWrapper.Confirmation.RestoreButton"),m=Object(d.b)("RecoveryPage.CalendarArchivesRecoveryTileWrapper.AlertSuccess.Title"),b=Object(d.b)("Alert.OkButton"),p=Object(d.b)("RecoveryPage.CalendarArchivesRecoveryTileWrapper.AlertFailure.Title"),g=Object(d.b)("RecoveryPage.CalendarArchivesRecoveryTileWrapper.AlertFailure.Description"),f=Object(d.b)("Alert.ContactSupport"),E=pa("calendar"),y=Object(X.a)(),[O,j]=Object($t.b)("workflow","restore-calendar"),[N,P]=Object($t.b)("load","calendar-recovery-tile",{measureFromBaseline:!0});r.useEffect(()=>{a.isLoading||(a.isSuccess?N():P())},[a,N,P]);const S=()=>{j(),y({title:p,description:g,accessory:r.createElement(h.a,{className:"calendar-recovery-failure-alert-support-link",href:Object(v.a)("contactAppleSupport")},f),buttons:[b]}),w()},D=ma(Wt,()=>{O(),y({title:m,description:Object(d.b)("RecoveryPage.CalendarArchivesRecoveryTileWrapper.AlertSuccess.Description",{time:(new Date).toLocaleTimeString(t,{hour12:!0,hour:"numeric",minute:"2-digit"})}),buttons:[b]}),w()},S),T=function(e,t){const a=Object(d.k)();return Object(ke.useMutation)(e=>((e,t)=>Ht(e,"CALENDAR-REMINDERS",t))({webServices:a},e),{onSuccess:e,onError:t})}(()=>{D()},()=>{S()}),w=()=>{c(void 0),a.refetch()},I=ha({confirmationTitle:l,confirmationDescription:o,confirmationRestore:u,confirmationCancel:s,recoveryType:"calendar",startRestore:e=>{c(e),T.mutate(e)},endRestore:w}),C=(A={items:null!=(e=a.data)?e:[],isLoading:a.isLoading,onRestoreArchive:e=>{I(e)},restoringArchiveId:i},Object(fe.a)(r.createElement(ua,A),{ariaLabelledBy:"calendars-recovery-modal-title"}));var A;return r.createElement(ra,{error:a.error,isLoading:a.isLoading,isSuccess:a.isSuccess,refetch:a.refetch,deletedArchives:a.data,tileSize:Ot.c.Small,headingText:n,iconColor:"#FF3B30",iconSymbol:ia.a,onTileClick:()=>{E.recordOpenedRecovery(),C()}})};var fa=a(1524);const Ea=e=>{let{items:t,isLoading:a,onRestoreArchive:n,restoringArchiveId:i}=e;const c=r.createElement(Kt.a,{iconSize:54,symbolSize:30,symbol:_e.a,backgroundColor:"#61BFF4"}),l=Object(d.b)("RecoveryPage.ContactsRecoveryModalContent.Title"),o=Object(d.b)("RecoveryPage.ContactsRecoveryModalContent.Description"),s=Object(v.a)("restoreContacts"),u=r.createElement(r.Fragment,null,Object(d.b)("RecoveryPage.ContactsRecoveryModalContent.ListDescription.FirstLine"),r.createElement("ul",null,r.createElement("li",null,Object(d.b)("RecoveryPage.ContactsRecoveryModalContent.ListDescription.BulletPointOne")),r.createElement("li",null,Object(d.b)("RecoveryPage.ContactsRecoveryModalContent.ListDescription.BulletPointTwo"))));return r.createElement(oa,{icon:c,modalTitle:l,modalDescription:o,learnMoreLink:s,items:t,listDescription:u,isLoading:a,onRestoreArchive:n,restoringArchiveId:i,titleId:"contacts-recovery-modal-title"})};a(1523);const ya=()=>{var e;const t=Object(W.b)(),a=Object(Se.M)({endpoint:Se.c.listContactArchives,fetchProvider:e=>()=>Ut(e,"CONTACTS")}),n=Object(d.b)("RecoveryPage.ArchivesTile.Title.Contacts"),[i,c]=r.useState(void 0),l=Object(d.b)("RecoveryPage.ContactArchivesRecoveryTileWrapper.Confirmation.Title"),o=Object(d.b)("RecoveryPage.ContactArchivesRecoveryTileWrapper.Confirmation.Description"),s=Object(d.b)("Alert.CancelButton"),u=Object(d.b)("RecoveryPage.ContactArchivesRecoveryTileWrapper.Confirmation.RestoreButton"),m=Object(d.b)("RecoveryPage.ContactArchivesRecoveryTileWrapper.AlertSuccess.Title"),b=Object(d.b)("Alert.OkButton"),p=Object(d.b)("RecoveryPage.ContactArchivesRecoveryTileWrapper.AlertFailure.Title"),g=Object(d.b)("RecoveryPage.ContactArchivesRecoveryTileWrapper.AlertFailure.Description"),f=Object(d.b)("Alert.ContactSupport"),E=pa("contact"),y=Object(X.a)(),[O,j]=Object($t.b)("workflow","restore-contacts"),[N,P]=Object($t.b)("load","contacts-recovery-tile",{measureFromBaseline:!0});r.useEffect(()=>{a.isLoading||(a.isSuccess?N():P())},[a,N,P]);const S=()=>{j(),y({title:p,description:g,accessory:r.createElement(h.a,{className:"contact-recovery-failure-alert-support-link",href:Object(v.a)("contactAppleSupport")},f),buttons:[b]}),w()},D=ma(_t,()=>{O(),y({title:m,description:Object(d.b)("RecoveryPage.ContactArchivesRecoveryTileWrapper.AlertSuccess.Description",{time:(new Date).toLocaleTimeString(t,{hour12:!0,hour:"numeric",minute:"2-digit"})}),buttons:[b]}),w()},S),T=function(e,t){const a=Object(d.k)();return Object(ke.useMutation)(e=>((e,t)=>Ht(e,"CONTACTS",t))({webServices:a},e),{onSuccess:e,onError:t})}(()=>{D()},()=>{S()}),w=()=>{c(void 0),a.refetch()},I=ha({confirmationTitle:l,confirmationDescription:o,confirmationRestore:u,confirmationCancel:s,recoveryType:"contact",startRestore:e=>{c(e),T.mutate(e)},endRestore:w}),C=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=Object(fe.a)(r.createElement(Ea,e),{ariaLabelledBy:"contacts-recovery-modal-title",closeButtonDisabled:t});return a}({items:null!=(e=a.data)?e:[],isLoading:a.isLoading,onRestoreArchive:e=>{I(e)},restoringArchiveId:i},void 0!==i);return r.createElement(ra,{error:a.error,isLoading:a.isLoading,isSuccess:a.isSuccess,refetch:a.refetch,deletedArchives:a.data,tileSize:Ot.c.Small,headingText:n,iconColor:"#5AC8FA",iconSymbol:fa.a,onTileClick:()=>{E.recordOpenedRecovery(),C()}})};var Oa,ja=a(902),Na=a(1529),Pa=a(1527),Sa=a(1528),Da=a(2178),Ta=(a(1525),a(1526));function wa(e){let{bookmark:t,checked:a,onCheck:n}=e;const i=t.deletionDate,c=Math.min(Math.max(0,Math.floor((Date.now()-i.getTime())/1e3/60/60/24)),30),l=Math.max(30-c,0),o=(()=>{switch(c){case 0:return Object(d.b)("RecoveryPage.BookmarksRecoveryModal.DeletedToday",{daysRemaining:l});case 1:return Object(d.b)("RecoveryPage.BookmarksRecoveryModal.DeletedYesterday",{daysRemaining:l});default:return Object(d.b)("RecoveryPage.BookmarksRecoveryModal.DeletedDaysAgo",{daysAgo:c,daysRemaining:l})}})();return r.createElement("div",{className:"deleted-bookmark-row"},r.createElement("div",null,r.createElement(ye.a,{id:t.recordName,checked:a,onStateChange:e=>n(e.checked,t.recordName)})),r.createElement("div",{className:"middle-column"},r.createElement(le.a,{htmlFor:t.recordName},t.title),r.createElement("div",{className:"bookmark-date"},o),r.createElement("div",{className:"bookmark-link"},r.createElement(h.a,{hideArrow:!0,href:t.url},t.url))),r.createElement("div",{className:"folder-label"},t.folder,"\xa0",t.isFavoritesBar?r.createElement(Pa.a,{"aria-hidden":"true",desiredFontSize:8,layoutMode:"glyphBox"}):r.createElement(Sa.a,{"aria-hidden":"true",desiredFontSize:8,layoutMode:"glyphBox"})))}function Ia(e,t){const a={};if(t.newChecked)for(const n of t.deletedBookmarks)t.newChecked[n.recordName]&&(a[n.recordName]=!0);else for(const n of t.deletedBookmarks)e[n.recordName]&&(a[n.recordName]=!0);return a}!function(e){e[e.SELECTING=0]="SELECTING",e[e.RESTORING=1]="RESTORING",e[e.DELETING=2]="DELETING"}(Oa||(Oa={}));const Ca=()=>{const[e,t]=Dt(),a=pa("bookmark"),n=Object(d.c)({zero:"RecoveryPage.BookmarksTile.TotalNumber.Zero",one:"RecoveryPage.BookmarksTile.TotalNumber.One",two:"RecoveryPage.BookmarksTile.TotalNumber.Two",many:"RecoveryPage.BookmarksTile.TotalNumber.Many"},e.length),[i,c]=r.useState(Oa.SELECTING),o=i===Oa.RESTORING,s=i===Oa.DELETING,m=i!==Oa.SELECTING,[b,p]=r.useReducer(Ia,{}),[g]=Object(ga.b)(),[f,E]=Object($t.b)("workflow","restore-bookmarks");r.useEffect(()=>{p({deletedBookmarks:e})},[e]);const[O,j]=r.useState("date"),N=(()=>{switch(O){case"name":return[...e].sort((e,t)=>e.title.localeCompare(t.title));case"folder":return[...e].sort((e,t)=>e.folder.localeCompare(t.folder));case"date":default:return[...e].sort((e,t)=>t.deletionDate.getTime()-e.deletionDate.getTime())}})(),P=N.every(e=>!!b[e.recordName]),S=N.some(e=>!!b[e.recordName]),D=(t,a)=>{const n={...b};n[a]=t,p({deletedBookmarks:e,newChecked:n})},T=r.useMemo(()=>[m?["set","inert"]:["remove","inert"]],[m]),w=Object(Ta.a)(T);return r.createElement(r.Fragment,null,r.createElement("div",{className:"bookmarks-recovery-modal-content"},r.createElement("div",{className:"bookmarks-recovery-modal-icon","data-testid":"icon"},r.createElement(Kt.a,{iconSize:54,symbolSize:30,symbol:ja.a,backgroundColor:"#FF9500"})),r.createElement("h2",{className:"bookmarks-recovery-modal-title","data-testid":"title",id:"bookmarks-recovery-modal-title-id"},Object(d.b)("RecoveryPage.BookmarksRecoveryModal.Title")),r.createElement("div",{className:"bookmarks-recovery-modal-description","data-testid":"description"},Object(d.b)("RecoveryPage.BookmarksRecoveryModal.Description")," ",r.createElement(h.a,{href:Object(v.a)("restoreBookmarks")},Object(d.b)("RecoveryPage.BookmarksRecoveryModal.LearnMore"))),r.createElement("div",{className:l()("bookmarks-recovery-list",{blocked:m}),ref:w},r.createElement("div",{className:"count"},n),r.createElement("div",{className:"description"},Object(d.b)("RecoveryPage.BookmarksRecoveryModal.ListDescription.FirstLine")),t?r.createElement("div",{className:"loading"},r.createElement(u.a,{description:Object(d.b)("RecoveryPage.BookmarksRecoveryModal.LoadingDescription")})):N.length?r.createElement(r.Fragment,null,r.createElement("div",{className:"header"},r.createElement(y.a,{variant:"standard bookmarks-recovery",onActivate:()=>{const t={};for(const a of e)t[a.recordName]=!P;p({deletedBookmarks:e,newChecked:t})}},P?Object(d.b)("RecoveryPage.BookmarksRecoveryModal.DeselectAll"):Object(d.b)("RecoveryPage.BookmarksRecoveryModal.SelectAll")),r.createElement("div",{className:"flex-space"}),r.createElement(Aa,{onSortChange:e=>{let{value:t}=e;j(t)}})),N.map(e=>r.createElement(wa,{bookmark:e,checked:!!b[e.recordName],onCheck:D,key:e.recordName}))):r.createElement("div",null,Object(d.b)("RecoveryPage.BookmarksRecoveryModal.EmptyList")))),!m&&r.createElement(La,{hidden:!S},r.createElement(y.a,{variant:"block secondary large",disabled:!S,onActivate:()=>{g({title:Object(d.b)("RecoveryPage.BookmarksRecoveryModal.DeletePrompt.Title"),description:Object(d.b)("RecoveryPage.BookmarksRecoveryModal.DeletePrompt.Description"),buttons:[{title:"Delete",destructive:!0,action:"delete"},{title:Object(d.b)("RecoveryPage.BookmarksRecoveryModal.DeletePrompt.Cancel"),action:"cancel"}],cancelAction:"cancel",onActionSelected:t=>{"delete"===t&&(async()=>{c(Oa.DELETING),await function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pt.a.shared;return t.deleteBookmarkRecords(e.map(e=>e.recordName))}(e.filter(e=>!!b[e.recordName])),c(Oa.SELECTING)})()}})}},Object(d.b)("RecoveryPage.BookmarksRecoveryModal.Delete")),r.createElement("div",{className:"flex-space"}),r.createElement(y.a,{className:"block primary large",disabled:!S,onActivate:async()=>{a.recordStartedRecovery(),c(Oa.RESTORING),await function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pt.a.shared;return t.restoreBookmarkRecords(e.map(e=>e.recordName))}(e.filter(e=>!!b[e.recordName]))?f():E(),c(Oa.SELECTING)}},Object(d.b)("RecoveryPage.BookmarksRecoveryModal.Restore"))),o&&r.createElement(ka,{text:Object(d.b)("RecoveryPage.BookmarksRecoveryModal.Restoring")}),s&&r.createElement(ka,{text:Object(d.b)("RecoveryPage.BookmarksRecoveryModal.Deleting")}))};function Aa(e){return r.createElement(Da.a,{variant:"standard bookmarks-recovery",shouldUseNativeControl:!0,defaultValue:"date",onStateChange:e.onSortChange,chevronAsset:r.createElement(r.Fragment,null,"\xa0",r.createElement(Na.a,{layoutMode:"glyphBox",desiredFontSize:9}))},r.createElement(Da.c,{value:"date"},Object(d.b)("RecoveryPage.BookmarksRecoveryModal.DateDeleted")),r.createElement(Da.c,{value:"name"},Object(d.b)("RecoveryPage.BookmarksRecoveryModal.Name")),r.createElement(Da.c,{value:"folder"},Object(d.b)("RecoveryPage.BookmarksRecoveryModal.Folder")))}function ka(e){return r.createElement(La,null,r.createElement("div",{className:"bottom-spinner-bar"},r.createElement(u.a,{variant:"standard bookmarks-recovery",description:"","aria-hidden":"true"}),r.createElement("span",{className:"status"},e.text)))}function La(e){return r.createElement("div",{className:l()("bottom-bar",{"visually-hidden":!0===e.hidden})},e.children)}var Fa=a(728),Ra=a(2172),Ma=(a(749),a(1101),a(2118));a(709),a(1530),a(1082),Object(Bt.a)("iclouddrive");const za=6;function Ba(e){const t=Object(Xt.a)(Nt.b),[a,n]=Dt(),i=t&&n,[c]=Object($t.b)("load","bookmarks-recovery-tile",{measureFromBaseline:!0});return r.useEffect(()=>{i||c()},[i,c]),r.createElement(Nt.a,{isLoading:i,isLocked:!t,deletedBookmarks:null!=a?a:[],tileSize:Ot.c.Small,maxTileLines:za,onTileClick:e.onBookmarksRecoveryModalClicked})}const xa=e=>{var t;const a=l()("recovery-page",e.className),n=Object(d.b)("RecoveryPage.Title"),i=Object(d.b)("RecoveryPage.Details.Standard"),c=Object(Se.M)({endpoint:Se.c.retrieveDeletedItemDetails,fetchProvider:e=>()=>(async e=>{let{webServices:t}=e;if(null==t||!t.drivews)throw new Error("fetchDevices: no service url available");await zt.a.sharedInstance.getPCSKeyPromise(Object(Bt.a)("iclouddrive"));const a=await xt(Object(Se.o)(t.drivews)),n=new Map(a.map(e=>[e.drivewsid,e]));return Array.from(n.values()).map(Ft).filter(lt.a)})(e)}),o=pa("bookmark"),s=Object(fe.a)(r.createElement(Ca,null),{className:"bookmarks-recovery-modal",paneType:Fa.c.Modal,ariaLabelledBy:"bookmarks-recovery-modal-title-id"}),u=Object(Jt.a)(),m=r.useCallback(()=>{zt.a.sharedInstance.hasPCSKey(Nt.b)?(s(),o.recordOpenedRecovery()):u("bookmarks",Nt.b,!1,e=>{e&&(s(),o.recordOpenedRecovery())})},[s,u,o]),b=Object(F.c)()!==F.a.Lite,p=null==(t=Ra.c.value)?void 0:t.safariBookmarksHasMigratedToCloudKit;return r.createElement($t.a,{scope:"data-recovery-page",baseline:!0},r.createElement("div",{className:a},r.createElement(pt,{current:be.b.recovery}),r.createElement(jt,{title:n,description:i}),r.createElement("div",{className:"application-content"},r.createElement("div",{className:"recovery-page-tiles"},r.createElement(na,{error:c.error,isLoading:c.isLoading||c.isRefetching,isSuccess:c.isSuccess,deletedDriveItems:c.data,refetch:c.refetch,tileSize:Ot.c.Small}),b&&p&&r.createElement(Ba,{onBookmarksRecoveryModalClicked:m}),r.createElement(ya,null),b&&r.createElement(va,null)))))};a(1531);var Ua=a(2105),Ha=a(1193),Va=a(1538),Wa=a(1533),_a=a(1532),Ka=a(2132),Ga=a(647);a(1541);const qa=e=>{let{tileIndex:t}=e;const a=Object(qt.b)(),n=Object(d.b)("Invites.DisplayName"),i=Object(d.b)("InvitesPlusTile.Description");return r.createElement(Ot.b,{tileIndex:null!=t?t:0,icon:r.createElement(Be.a,{applicationIdentifier:"invites",iconSize:40}),className:"invites-plus-tile",heading:n,description:i,isLoading:!1,tileSize:Ot.c.Small,onTileClick:()=>{a.launchApp(Ka.a,{options:{source:{reason:Ga.b.TILE_CLICK}}})},ariaLevel:3},Object(d.b)("InvitesPlusTile.Content"))},$a=P.a.sharedInstance.isDomainCN,Qa=e=>{let{className:t,onPageLoaded:a}=e;const n=l()("icloud-plus-page",t),i=Object(d.b)("ICloudPlusPage.Title"),c=Object(d.b)("ICloudPlusPage.Description"),{modalToOpen:o,setModalToOpen:s}=Object(Ha.b)(),u=Object(Va.a)(),m=Object(_a.a)(),b=Object(Wa.a)({numberOfCamsSupported:m}),[p,g]=r.useState(!1),[h,v]=r.useState(!1);r.useEffect(()=>{p&&h&&(null==a||a())},[p,h,a]),r.useEffect(()=>{if(""!==o){switch(o){case"private-relay":u();break;case"homekit-secure-video":b()}s("")}},[o,s,u,b]);const f=Object(ft.a)(),E=r.useMemo(()=>f.some(e=>e.applicationIdentifier===Ka.a),[f]);return r.createElement("div",{className:n},r.createElement(pt,{current:be.b.icloudplus}),r.createElement(jt,{title:i,description:c}),r.createElement("div",{className:"application-content"},r.createElement("div",{className:"tile-grid-content"},r.createElement(Ua.c,{onSuccess:()=>g(!0),onError:()=>g(!0)}),$a?null:r.createElement(Ua.a,{onSuccess:()=>v(!0),onError:()=>v(!0)}),E?r.createElement(qa,null):null),r.createElement("section",{"aria-labelledby":"icloud-plus-device-only-header",className:"device-only-content"},r.createElement("h2",{id:"icloud-plus-device-only-header",className:"heading"},Object(d.b)("ICloudPlusPage.OnlyOnDevices.Title")),r.createElement("p",null,Object(d.b)("ICloudPlusPage.OnlyOnDevices.Description")),r.createElement("div",{className:"tile-grid-content"},$a?null:r.createElement(Ua.e,null),r.createElement(Ua.d,null),r.createElement(Ua.b,null)))))};var Za=a(2229),Ya=(a(1542),a(2226)),Ja=a(1543);function Xa(e){return e.devices.filter(e=>e.latestBackup).map(e=>({latestBackup:new Date(e.latestBackup),name:e.name,modelSmallPhotoURL1x:e.modelSmallPhotoURL1x,modelSmallPhotoURL2x:e.modelSmallPhotoURL2x,modelLargePhotoURL1x:e.modelLargePhotoURL1x,modelLargePhotoURL2x:e.modelLargePhotoURL2x,backupSizeBytes:0}))}const en=De.z.object({imei:De.z.string().optional(),latestBackup:De.z.string().optional(),model:De.z.string(),modelDisplayName:De.z.string(),modelLargePhotoURL1x:De.z.string(),modelLargePhotoURL2x:De.z.string(),modelSmallPhotoURL1x:De.z.string(),modelSmallPhotoURL2x:De.z.string(),name:De.z.string(),osVersion:De.z.string().optional(),paymentMethods:De.z.array(De.z.string()).optional(),serialNumber:De.z.string().optional(),udid:De.z.string().optional(),hasActivationLock:De.z.boolean().optional(),isMissing:De.z.boolean().optional()}),tn=De.z.object({balanceStatus:De.z.union([De.z.literal("YES"),De.z.literal("NO"),De.z.literal("NOTAPPLICABLE"),De.z.literal("UNAVAILABLE"),De.z.literal("NEGATIVE")]),id:De.z.string(),isCarKey:De.z.boolean().optional(),lastFourDigits:De.z.string().optional(),suspensionReason:De.z.string().optional(),type:De.z.string(),balanceTime:De.z.string().optional(),balanceCode:De.z.string().optional(),balance:De.z.string().optional(),name:De.z.string().optional(),routeDestinationStation:De.z.string().optional(),routeOriginStation:De.z.string().optional()}),an=De.z.object({devices:De.z.array(en),paymentMethods:De.z.array(tn).optional()});var nn=a(1547),rn=a(1546),cn=a(681);const ln={photos:()=>{const{data:e,isSuccess:t}=Object(Ja.a)({library:cn.GoldilocksLibrary.Personal,assetListKey:cn.PhotosTileAssetListType.Library}),a=Object(rn.b)(e);return r.createElement(r.Fragment,null,t?a:"\u2026")},mail:()=>r.createElement(r.Fragment,null,Object(d.b)("StoragePage.AppCounts.Mail.All")),backup:()=>{const{data:e,isSuccess:t}=Object(Se.M)({endpoint:Se.c.devicesBackup,fetchProvider:e=>()=>(e=>{let{webServices:t}=e;if(null==t||!t.account)throw new Error("fetchDevices: no service url available");return Object(Se.h)({url:Object(Se.p)(t.account),includeCredentials:!0,validate:{type:"WireDevicesResponse",schema:an}}).then(Xa)})(e)}),a=Object(d.c)({zero:"DeviceBackupList.TotalNumber.Zero",one:"DeviceBackupList.TotalNumber.One",two:"DeviceBackupList.TotalNumber.Two",many:"DeviceBackupList.TotalNumber.Many"},(null==e?void 0:e.length)||0);return r.createElement(r.Fragment,null,t?a:"\u2026")},messages:()=>r.createElement(r.Fragment,null,Object(d.b)("StorageUsageList.Messages.Count")),docs:()=>r.createElement(r.Fragment,null,Object(d.b)("StorageUsageList.Drive.Count")),family:()=>r.createElement(r.Fragment,null,Object(d.b)("StorageUsageList.Family.Count"))},on=e=>{var t,a,n,i;let{className:c,isError:o,isLoading:s,refetch:u,storageUsage:m,firstName:b,isBeneficiary:p}=e;const g=l()("storage-usage-list",c,{loading:s,error:o}),h=Object(d.b)("VoiceOver.StorageUsageList.Table"),v=p&&b?Object(d.b)("StorageUsageList.Family.Personal.TitleWithName",{firstName:b}):Object(d.b)("StorageUsageList.Family.Personal.Title"),f=null!=(t=null==m?void 0:m.usageByMedia.filter(e=>"family"!==e.mediaKey))?t:[],E=(null!=(a=null==m?void 0:m.usedBytes)?a:0)-(null!=(n=null==m||null==(i=m.familyStorageUsage)?void 0:i.usageInBytes)?n:0);return r.createElement("article",{className:g,"aria-labelledby":"storage-usage-heading"},o?r.createElement("div",null,r.createElement("div",{className:"error-description"},Object(d.b)("StorageUsageList.Content.Error.Description")),r.createElement(y.a,{className:"reload-button",onActivate:u},r.createElement(nn.a,{layoutMode:"glyphBox",width:"20px",height:"20px"}),Object(d.b)("ErrorHomeTileContent.TryAgain"))):r.createElement(r.Fragment,null,null!=m&&m.familyStorageUsage?r.createElement("div",{className:"title"},r.createElement("h2",{id:"family-storage-list"},v),r.createElement("h2",null,Object(pe.b)(E,1))):null,f.length>0?r.createElement("div",{role:"table","aria-label":h},f.filter(e=>e.usageInBytes).map((e,t)=>{var a;return r.createElement("div",{key:t,role:"row"},r.createElement(sn,{usageInfo:e,totalBytes:null!=(a=null==m?void 0:m.totalBytes)?a:0}))})):null))},sn=e=>{var t;let{usageInfo:a,totalBytes:n}=e;const i=(a.usageInBytes/n*100).toFixed(1)+"%",{mediaKey:c}=a,l=Object(pe.b)(a.usageInBytes,1),o=ln[c],s=Object(d.b)("VoiceOver.StorageUsageList.StorageUsed",{percentage:i});return r.createElement(r.Fragment,null,r.createElement("span",{className:"app-name-icon",role:"cell"},r.createElement(Be.a,{className:"icon",applicationIdentifier:c,iconSize:32}),r.createElement("div",null,r.createElement("span",{className:"label"},null!=(t=(e=>"photos"===e?Object(d.b)("Photos.DisplayName"):"docs"===e?Object(d.b)("StorageUsageList.Drive.Heading"):"backup"===e?Object(d.b)("DeviceBackupList.Heading"):void 0)(a.mediaKey))?t:a.displayLabel),r.createElement("span",{className:"item-description-small"},r.createElement(o,null)))),r.createElement("span",{className:"item-description",role:"cell"},r.createElement(o,null)),r.createElement("span",{className:"usage",role:"cell"},l,r.createElement(Ya.a,null,r.createElement(r.Fragment,null,", ",s)),r.createElement("span",{className:"dot",style:{backgroundColor:"#"+a.displayColor}})))};a(1548),a(1549);var un=a(1436),dn=a(1550);const mn=e=>{const t=Object(O.a)(e.firstName)&&Object(O.a)(e.lastName),a=e.firstName.charAt(0)+e.lastName.charAt(0),n=Object(pe.j)(e.firstName,e.lastName);return t&&!e.profilePhoto?r.createElement(_e.a,{width:36,height:36,layoutMode:"glyphBox",className:"cjk-profile-photo"}):r.createElement(r.Fragment,null,e.profilePhoto?r.createElement(r.Fragment,null,e.profilePhoto):r.createElement("div",{className:"profile-photo-placeholder","aria-label":Object(d.b)("StorageUsageList.Family.ImageAlt",{familyMemberName:n})},r.createElement("div",{className:"initials"},a)))},bn=e=>{var t,a;let{member:n}=e;const{contacts:i}=Object(un.b)(),c=null==i?void 0:i.get(n.appleId),l=Object(pe.j)(n.firstName,n.lastName),o=r.createElement(dn.a,{imageAlt:Object(d.b)("StorageUsageList.Family.ImageAlt",{familyMemberName:l}),profilePhoto:c?{contactId:c.contactId,url:null==(t=c.photo)?void 0:t.url,crop:null==(a=c.photo)?void 0:a.crop}:void 0,isProfilePhotoLoading:!1,size:36});return r.createElement(mn,{firstName:n.firstName,lastName:n.lastName,profilePhoto:c&&o})},pn=e=>{const t=l()("family-usage-list",e.className),a=e.familyMembers.reduce((e,t)=>e+t.usageInBytes,0),n=e.isBeneficiary&&e.ownerFirstName?Object(d.b)("StorageUsageList.Family.TitleWithName",{firstName:e.ownerFirstName}):Object(d.b)("StorageUsageList.Family.Title");return r.createElement("article",{className:t,"aria-labelledby":"family-storage-list"},r.createElement("div",{className:"title"},r.createElement("h2",{id:"family-storage-list"},n),r.createElement("h2",null,Object(pe.b)(a,1))),!e.isBeneficiary&&r.createElement("div",{role:"table","aria-label":Object(d.b)("VoiceOver.StorageUsageList.FamilyUsageList")},e.familyMembers.map(t=>r.createElement("div",{key:t.appleId,role:"row"},r.createElement("div",{role:"cell"},r.createElement(bn,{member:t}),r.createElement("span",{className:"member-name"},t.fullName)),r.createElement("div",{role:"cell"},Object(pe.b)(t.usageInBytes,1),r.createElement("span",{className:"dot",style:{backgroundColor:"#"+e.displayColor}}))))))};var gn=a(1535),hn=a(2237);const vn=()=>r.createElement("section",{className:"change-plan-section learn-more-section"},r.createElement("div",{className:"change-plan-section-heading"},r.createElement(j.a,{interpolations:{"#{iCloudPlusLink}":r.createElement(h.a,{href:Object(v.a)("iCloudPlusPlanPricing")},Object(d.b)("PlanDetailsPage.ChangePlanSection.LearnMore.Link.Title"))}},Object(d.b)("PlanDetailsPage.ChangePlanSection.LearnMore.Text"))));var fn=a(1397),En=a(2228),yn=a(1552);function On(){return(On=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}a(1554);const jn=e=>{let{className:t,...a}=e;return r.createElement("svg",On({},a,{className:l()("dual-tone-exclamation-mark",t),viewBox:"0 0 99.61 99.657",xmlns:"http://www.w3.org/2000/svg"}),r.createElement("path",{fill:"currentColor",d:"M49.805 99.61c27.246 0 49.805-22.608 49.805-49.805C99.61 22.559 77.002 0 49.756 0 22.56 0 0 22.559 0 49.805c0 27.197 22.608 49.804 49.805 49.804Z"}),r.createElement("path",{fill:"#fff",d:"M49.805 58.887c-2.54 0-3.955-1.416-4.004-4.004l-.635-26.612c-.049-2.587 1.856-4.443 4.59-4.443 2.686 0 4.688 1.904 4.639 4.492l-.684 26.563c-.049 2.636-1.465 4.004-3.906 4.004ZM49.805 75.244c-2.93 0-5.469-2.344-5.469-5.225 0-2.88 2.49-5.273 5.469-5.273 2.978 0 5.469 2.344 5.469 5.273 0 2.93-2.54 5.225-5.47 5.225Z"}))};var Nn=a(1249);a(1555);const Pn=e=>{var t,a,n,i,c,l;let{storageUsage:o,isLoading:s,isError:u,isBeneficiary:m,continueOnDeviceSection:b,isPlanUpgradeEligibleDataReady:p,shouldShowContinueOnDeviceUpgradePlanSection:g}=e;const h=null!=(t=null==o?void 0:o.usedBytes)?t:0,v=null!=(a=null==o?void 0:o.totalBytes)?a:0,f=(null!=(n=null==o?void 0:o.totalBytes)?n:0)-h,E=Object(fn.b)();return r.createElement("div",{className:"meter-header"},r.createElement("div",{className:"usage-header"},r.createElement("div",{className:"storage-label-section"},r.createElement("span",{className:"storage-label"},u||s?r.createElement(Nn.a,{layoutMode:"glyphBox",height:26,width:39,fill:"var(--theme-color-backgroundPrimary)"}):r.createElement(r.Fragment,null,Object(pe.b)(v,1))),E&&r.createElement(jn,{"aria-hidden":!0,className:"warning-icon",width:24,height:24})),r.createElement(yn.a,{ariaLevel:2,text:Object(d.b)("StorageUsageList.Heading"),id:"storage-usage-heading"}),s?r.createElement("div",{className:"loading"},Object(d.b)("StorageUsageList.Description.Loading")):u?r.createElement("div",{className:"error"},Object(d.b)("StorageUsageList.Description.Error")):r.createElement("div",{className:"usage-description"},r.createElement(j.a,{interpolations:{"#{freeStorage}":r.createElement("span",{className:"free-storage"},Object(d.b)("StorageUsageList.FreeStorage",{free:Object(pe.b)(f,1)})),"#{usedStorage}":r.createElement("span",{className:"used-storage"},Object(d.b)("StorageUsageList.UsedStorage",{used:Object(pe.b)(h,1)}))}},Object(d.b)("StorageUsageList.Description")))),r.createElement(En.a,{hideInfo:!0,usedBytes:null!=(i=null==o?void 0:o.usedBytes)?i:0,totalBytes:null!=(c=null==o?void 0:o.totalBytes)?c:0,usageByMedia:null!=(l=null==o?void 0:o.usageByMedia)?l:[]}),E&&p&&g&&r.createElement(r.Fragment,null,r.createElement(Sn,{type:E}),!m&&r.createElement("div",{className:"xl-no-display"},b)))};function Sn(e){switch(e.type){case fn.a.AlmostFull:return r.createElement(Dn,null);case fn.a.Full:return r.createElement(Tn,null);case fn.a.FullNoUpgrade:return r.createElement(In,null);case fn.a.AlmostFullNoUpgrade:return r.createElement(wn,null)}}function Dn(){return r.createElement(Cn,null,Object(d.b)("StoragePage.StorageWarning.AlmostFull"))}function Tn(){return r.createElement(Cn,null,Object(d.b)("StoragePage.StorageWarning.Full"))}function wn(){return r.createElement(Cn,null,Object(d.b)("StoragePage.StorageWarning.AlmostFull.NoUpgrade"))}function In(){return r.createElement(Cn,null,Object(d.b)("StoragePage.StorageWarning.Full.NoUpgrade"))}function Cn(e){let{children:t}=e;return r.createElement("div",{className:"usage-warning",role:"note"},r.createElement(jn,{className:"warning-icon",width:17,height:17}),t)}var An=a(1271),kn=a(828),Ln=a(1270),Fn=a(1556);const Rn=e=>{var t,a,n,i;let{className:c,onPageLoaded:o}=e;const s=Object(S.b)(),u=null==s||null==(t=s.details)||null==(a=t.beneficiaryInfo)?void 0:a.isBeneficiary,m=null!=(n=null==s||null==(i=s.details)?void 0:i.firstName)?n:"",b=l()("storage-page",c),p=u&&m?Object(d.b)("StoragePage.TitleWithName",{firstName:m}):Object(d.b)("StoragePage.Title"),g=u?Object(d.b)("StoragePage.Description.Neutral"):Object(d.b)("StoragePage.Description.Standard"),{storageUsage:h,isLoading:v}=Object(Za.a)(),f=l()("callout manage-storage",{"has-family-storage":null==h?void 0:h.familyStorageUsage}),E=Object(fn.b)();r.useEffect(()=>{!v&&o&&o()},[v,o]);const y=Object(F.c)(),{isPlanUpgradeEligibleDataReady:O,shouldShowPlanUpgrade:j,planUpgradeEligibleDeviceList:N,planUpgradeButtonTextData:P}=Object(Ln.b)(Fn.EntryPoint.StoragePage),D=void 0!==E&&y!==F.a.MAID&&!u&&!j;return r.createElement("div",{className:b},r.createElement(pt,{current:be.b.storage}),r.createElement(jt,{title:p,description:g}),r.createElement("div",{className:"application-content"},r.createElement(Pn,{storageUsage:h,isLoading:v,isError:null==h&&!v,isBeneficiary:u,continueOnDeviceSection:r.createElement(zn,{calloutClassName:f,isPlanUpgradeEligibleDataReady:O,shouldShowContinueOnDeviceUpgradePlanSection:D}),isPlanUpgradeEligibleDataReady:O,shouldShowContinueOnDeviceUpgradePlanSection:D}),j&&r.createElement(Mn,{planUpgradeEligibleDeviceList:N,icloudPlan:y,planUpgradeButtonTextData:P}),r.createElement("div",{className:"content-section"},r.createElement("div",{className:"content-column"},r.createElement(on,{storageUsage:h,isError:null==h&&!v,isLoading:v,refetch:()=>{var e;return null==(e=Object(kn.b)())?void 0:e.fetchStorageQuota()},firstName:m,isBeneficiary:u}),null!=h&&h.familyStorageUsage&&E?r.createElement(pn,{familyMembers:h.familyStorageUsage.familyMembers,className:"family-usage",ownerFirstName:m,isBeneficiary:u,displayColor:h.familyStorageUsage.displayColor}):null),r.createElement("div",{className:"content-column"},null!=h&&h.familyStorageUsage&&!E?r.createElement(pn,{familyMembers:h.familyStorageUsage.familyMembers,className:"family-usage",ownerFirstName:m,isBeneficiary:u,displayColor:h.familyStorageUsage.displayColor}):null,r.createElement("div",{className:"xl-display"},r.createElement(zn,{calloutClassName:f,isPlanUpgradeEligibleDataReady:O,shouldShowContinueOnDeviceUpgradePlanSection:D})),!u&&r.createElement(gn.b,{className:f,feature:hn.a.STORAGE_MANAGE,variant:gn.a.STORAGE_MANAGE})))))},Mn=e=>{let{planUpgradeEligibleDeviceList:t,icloudPlan:a,planUpgradeButtonTextData:n}=e;const[i,c]=r.useState(!1),o=Object(Ln.a)();return r.createElement("div",{className:l()("upgrade-plan",{"is-hidden":i})},t?r.createElement(An.StoragePageUpgradePlanSection,{continueOnDeviceEligibleDevicesList:t,userPlan:a,refetchPageContent:()=>{o(),c(!0)},buttonTextData:n}):void 0)},zn=e=>{let{calloutClassName:t,isPlanUpgradeEligibleDataReady:a,shouldShowContinueOnDeviceUpgradePlanSection:n}=e;return r.createElement(r.Fragment,null,a&&r.createElement(r.Fragment,null,n?r.createElement(r.Fragment,null,r.createElement(gn.b,{className:t,feature:hn.a.PLAN_UPGRADE,variant:gn.a.STORAGE_FULL}),r.createElement(vn,null)):void 0))};var Bn=a(2161);a(1557);const xn=e=>{const t=l()("change-plan-section",e.className);return r.createElement(r.Fragment,null,e.plan===F.a.Lite&&r.createElement("section",{className:t},r.createElement("h2",{className:"change-plan-section-heading"},Object(d.b)("PlanDetailsPage.ChangePlanSection.Title.Lite")),r.createElement("p",{className:"change-plan-section-body"},Object(d.b)("PlanDetailsPage.ChangePlanSection.Body.Lite")," ",r.createElement(h.a,{href:Object(v.a)("webOnlyPlan")},Object(d.b)("PlanDetailsPage.ChangePlanSection.Body.Lite.LearnMore.Title")))),e.plan!==F.a.Lite&&r.createElement(r.Fragment,null,r.createElement(gn.b,{feature:hn.a.PLAN_UPGRADE,variant:gn.a.PLAN_UPGRADE}),r.createElement(vn,null)))};a(1558);const Un=P.a.sharedInstance.isDomainCN,Hn=e=>{let{text:t}=e;return r.createElement("li",null,r.createElement("span",{className:"bullet-dot"}),r.createElement("span",null,t))},Vn=e=>{const{planType:t,planFeatures:a,isBeneficiary:n=!1}=e,i=function(e,t){if(e===F.a.MAID)return{storage:"",premium:[],featuresHeader:"",features:[]};if(e===F.a.Lite)return{storage:Object(d.b)("PlanDetailsPage.Bullets.Lite.Storage"),premium:[],featuresHeader:Object(d.b)("PlanDetailsPage.Bullets.Lite.FeaturesHeader"),features:[Object(d.b)("PlanDetailsPage.Bullets.Features.Drive"),Object(d.b)("PlanDetailsPage.Bullets.Features.Notes"),Object(d.b)("PlanDetailsPage.Bullets.Features.Contacts"),Object(d.b)("PlanDetailsPage.Bullets.Features.Pages"),Object(d.b)("PlanDetailsPage.Bullets.Features.Numbers"),Object(d.b)("PlanDetailsPage.Bullets.Features.Keynote")]};if(e===F.a.Standard)return{storage:Object(d.b)("PlanDetailsPage.Bullets.Standard.Storage"),premium:[],featuresHeader:Object(d.b)("PlanDetailsPage.Bullets.StandardPlus.FeaturesHeader"),features:[Object(d.b)("PlanDetailsPage.Bullets.Features.Photos"),Object(d.b)("PlanDetailsPage.Bullets.Features.Drive"),Object(d.b)("PlanDetailsPage.Bullets.Features.Backup"),Object(d.b)("PlanDetailsPage.Bullets.Features.Mail"),Object(d.b)("PlanDetailsPage.Bullets.Features.PasswordAndKeychain")]};if(e===F.a.Plus){const e=t?"unlimited"===t.numberOfSupportedCameras?Object(d.b)("PlanDetailsPage.Bullets.Plus.Premium.HomeKitSecureCam.Unlimited"):Object(d.c)({one:"PlanDetailsPage.Bullets.Plus.Premium.HomeKitSecureCam.One",two:"PlanDetailsPage.Bullets.Plus.Premium.HomeKitSecureCam.Two",many:"PlanDetailsPage.Bullets.Plus.Premium.HomeKitSecureCam.Many"},t.numberOfSupportedCameras):Object(d.b)("PlanDetailsPage.Bullets.Plus.Premium.HomeKitSecureCam.One");var a,n;return Un?{storage:Object(d.b)("PlanDetailsPage.Bullets.Plus.Storage",{storage:null!=(a=null==t?void 0:t.storageSize)?a:""}),premium:[Object(d.b)("PlanDetailsPage.Bullets.Plus.Premium.HideMyEmail"),e,Object(d.b)("PlanDetailsPage.Bullets.Plus.Premium.FamilySharing")],featuresHeader:Object(d.b)("PlanDetailsPage.Bullets.StandardPlus.FeaturesHeader"),features:[Object(d.b)("PlanDetailsPage.Bullets.Features.Photos"),Object(d.b)("PlanDetailsPage.Bullets.Features.Drive"),Object(d.b)("PlanDetailsPage.Bullets.Features.Backup"),Object(d.b)("PlanDetailsPage.Bullets.Features.Mail"),Object(d.b)("PlanDetailsPage.Bullets.Features.PasswordAndKeychain")]}:{storage:Object(d.b)("PlanDetailsPage.Bullets.Plus.Storage",{storage:null!=(n=null==t?void 0:t.storageSize)?n:""}),premium:[Object(d.b)("PlanDetailsPage.Bullets.Plus.Premium.PrivateRelay"),Object(d.b)("PlanDetailsPage.Bullets.Plus.Premium.HideMyEmail"),Object(d.b)("PlanDetailsPage.Bullets.Plus.Premium.CustomEmailDomain"),e,Object(d.b)("PlanDetailsPage.Bullets.Plus.Premium.FamilySharing")],featuresHeader:Object(d.b)("PlanDetailsPage.Bullets.StandardPlus.FeaturesHeader"),features:[Object(d.b)("PlanDetailsPage.Bullets.Features.Photos"),Object(d.b)("PlanDetailsPage.Bullets.Features.Drive"),Object(d.b)("PlanDetailsPage.Bullets.Features.Backup"),Object(d.b)("PlanDetailsPage.Bullets.Features.Mail"),Object(d.b)("PlanDetailsPage.Bullets.Features.PasswordAndKeychain")]}}Object(pe.d)(e)}(t,a),c=n?Object(d.b)("PlanDetailsPage.Included"):Object(d.b)("PlanDetailsPage.Includes"),o=l()("included-in-plan-section",e.className);return t===F.a.MAID?r.createElement(r.Fragment,null):r.createElement("section",{className:o},r.createElement("h2",{className:"heading"},c),r.createElement("ul",null,r.createElement(Hn,{text:i.storage})),i.premium.length>0?r.createElement(r.Fragment,null,r.createElement("h3",{className:"heading-secondary"},Object(d.b)("PlanDetailsPage.Bullets.Plus.Premium.Header")),r.createElement("ul",null,i.premium.map((e,t)=>r.createElement(Hn,{key:t,text:e})))):null,r.createElement("h3",{className:"heading-secondary"},i.featuresHeader),r.createElement("ul",null,i.features.map((e,t)=>r.createElement(Hn,{key:t,text:e}))),t!==F.a.Lite&&r.createElement("p",{className:"included-in-plan-learn-more"},r.createElement(j.a,{interpolations:{"#{iCloudFeaturesLink}":r.createElement(h.a,{href:Object(v.a)("iCloudAppsFeatures")},Object(d.b)("PlanDetailsPage.Included.iCloudFeatures.Link.Title"))}},Object(d.b)("PlanDetailsPage.Included.StandardPlus.LearnMore.Features"))),t===F.a.Plus&&r.createElement("p",{className:"downgrade-or-cancel-icloudplus"},r.createElement(h.a,{href:Object(v.a)("downgradeICloudPlus")},Object(d.b)("PlanDetailsPage.Downgrade.Link.Title"))))};a(1559);const Wn=e=>{var t,a,n,i,c,o;let{className:s,onPageLoaded:u}=e;const m=l()("plan-details-page",s),b=Object(F.c)(),p=R(),g=Object(Bn.d)(),h=null!=(t=Object(Bn.c)(g))?t:"",v=Object(_a.a)(),f=Object(S.b)(),E=null==f||null==(a=f.details)||null==(n=a.beneficiaryInfo)?void 0:n.isBeneficiary,y=null!=(i=null==f||null==(c=f.details)?void 0:c.firstName)?i:"",O=E?Object(d.b)("PlanDetailsPage.TitleWithName",{firstName:y}):Object(d.b)("PlanDetailsPage.Title"),{planDetails:j,planDescription:N,extraPlanDetails:P,price:D}=function(e,t){if(e===F.a.MAID)return"free"===t.type?{planDetails:Object(d.b)("PlanDetailsPage.MAID.Details",{storage:Object(Bn.b)(t.storageSize)}),price:Object(d.b)("PlanDetailsPage.MAID.Price")}:{price:Object(d.b)("PlanDetailsPage.MAID.Price")};if(e===F.a.Lite)return{planDetails:Object(d.b)("PlanDetailsPage.Lite.Details"),price:Object(d.b)("PlanDetailsPage.Lite.Price")};if(e===F.a.Standard)return{planDetails:Object(d.b)("PlanDetailsPage.Standard.Details"),price:Object(d.b)("PlanDetailsPage.Standard.Price")};if(e===F.a.Plus){const e=t.type;if("loading"===e||"error"===e)return{};if("apple-one"===e)return{planDetails:Object(d.b)("PlanDetailsPage.Plus.Details",{storage:Object(Bn.b)(t.storageSize)}),planDescription:Object(d.b)("PlanDetailsPage.AppleOne")};if("apple-one-with-extra"===e)return{planDetails:Object(d.b)("PlanDetailsPage.Plus.Details",{storage:Object(Bn.b)(t.storageSize)}),planDescription:Object(d.b)("PlanDetailsPage.AppleOne"),extraPlanDetails:Object(d.b)("PlanDetailsPage.ExtraStorage",{storage:Object(Bn.b)(t.extraStorageSize)}),price:Object(Bn.a)(t.price,t.renewalPeriod)};if("icloud+"===e)return{planDetails:Object(d.b)("PlanDetailsPage.Plus.Details",{storage:Object(Bn.b)(t.storageSize)}),price:Object(Bn.a)(t.price,t.renewalPeriod)};if("family-sharing"===e)return{planDetails:Object(d.b)("PlanDetailsPage.Plus.Details",{storage:Object(Bn.b)(t.storageSize)}),planDescription:Object(d.b)("PlanDetailsPage.SharedBy",{planOwnerName:t.sharerName})};if("free"===e)return{planDetails:Object(d.b)("PlanDetailsPage.Plus.Details",{storage:Object(Bn.b)(t.storageSize)}),price:Object(d.b)("PlanDetailsPage.Plus.Free")};Object(pe.d)(e)}else Object(pe.d)(e)}(b,g);r.useEffect(()=>{"loading"!==g.type&&(null==u||u())},[g,u]);const{isPlanUpgradeEligibleDataReady:T,shouldShowPlanUpgrade:w,planUpgradeEligibleDeviceList:I,planUpgradeButtonTextData:C}=Object(Ln.b)(Fn.EntryPoint.PlanPage),A=Object(Ln.a)(),[k,L]=r.useState(!1);return r.createElement("div",{className:m},r.createElement(pt,{current:be.b.plan}),r.createElement(jt,{title:O,subtitle:j,subtitleDescription:N,extraSubtitle:P,description:D}),r.createElement("div",{className:"plan-details-page-first-row"},r.createElement("div",{className:"application-content plan-section-wrapper"},r.createElement("div",{className:"plan-section"},r.createElement("div",{className:"border-box"},r.createElement(Vn,{planType:b,planFeatures:{storageSize:h,numberOfSupportedCameras:v},isBeneficiary:E}))),T&&r.createElement(r.Fragment,null,b!==F.a.MAID&&!E&&r.createElement("div",{className:"plan-section change-plan"},null!=f&&null!=(o=f.details)&&o.dsid&&w&&I?r.createElement("div",{className:l()("upgrade-plan",{"is-hidden":k})},r.createElement(An.PlanPageUpgradePlanSection,{continueOnDeviceEligibleDevicesList:I,userPlan:b,refetchPageContent:()=>{A(),L(!0)},buttonTextData:C})):r.createElement(xn,{plan:b}))))),p?r.createElement(xe,null):null)};a(1560);var _n=a(1562),Kn=a(2242),Gn=a(2243),qn=a(1393),$n=a(1561),Qn=a(587);function Zn(){return(Zn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Yn=e=>{var t;let{className:a,mailDropDetail:n}=e;const i=l()("maildrop-page",a),c=Object(d.b)("ShareAcceptancePage.Title"),[o]=Object(ga.b)(),s=n.downloadURL?n.title:"",u=Object(pe.b)(n.downloadURL?n.size:0,1),m=function(e){const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return e.replace(/[&<>]/g,e=>t[e]||"")}(n.downloadURL&&null!=(t=n.fileType)?t:"dmg"),b=Object(d.b)("MailDropPage.Download.Item.Description",{fileType:Object($n.a)(m),size:u}),p=r.useRef(void 0),g=r.useRef(),h=r.useRef();function v(){x.a.cloudOSApplication.switchToSpringboard(!0)}const f=r.useCallback((e,t)=>{o({icon:r.createElement(qn.a,null),title:Object(d.b)(e),description:Object(d.b)(t),variant:"standard",buttons:[{title:Object(d.b)("CloudOS.Button.OK.Title"),action:"ok"}],defaultAction:"ok",onActionSelected:v})},[o]);r.useEffect(()=>{n.downloadURL?g.current=Object(Qn.a)(n.downloadURL,{teh:"1"}):f("MailDropPage.Error.Title","MailDropPage.Error.Description")},[n.downloadURL,f]);const E=e=>{switch(h.current=e,null==e?void 0:e.status){case 403:case 410:f("MailDropPage.Error.Title.Expired","MailDropPage.Error.Description.Expired");break;case 404:f("MailDropPage.Error.Title.NotFound","MailDropPage.Error.Description.NotFound");break;case 429:f("MailDropPage.Error.Title.MaxDownloads","MailDropPage.Error.Description.MaxDownloads");break;default:f("MailDropPage.Error.Title","MailDropPage.Error.Description")}const t=new te.a("MaildropAttachment.failure",{status:null==e?void 0:e.status});ba.b.sharedInstance.recordStat(t)},O=()=>{const e=p.current;e&&(p.current=void 0,window.removeEventListener("message",e))};return r.createElement("div",{className:i},r.createElement("div",{className:"header-section"},r.createElement(_n.a,{className:"header-image",width:60,height:60,layoutMode:"glyphBox"}),r.createElement("h2",null,c),r.createElement("p",null,Object(d.b)("MailDropPage.Description")),r.createElement("div",{className:"maildrop-details"},r.createElement(Ma.a,Zn({fileExtension:m},Object($n.b)(m))),r.createElement("div",{className:"item-title"},s),r.createElement("div",{className:"item-description"},b))),r.createElement("div",{className:"bottom-section"},r.createElement("div",{className:"buttons-row"},r.createElement(y.a,{onActivate:async()=>{if(!g.current)return void f("MailDropPage.Error.Title","MailDropPage.Error.Description");const e=new Kn.a(" ",g.current.hostname),t=new Gn.a(g.current.href," ");(()=>{if(!p.current){const e=p.current=e=>(e=>{var t;if(e.origin===(null==(t=g.current)?void 0:t.origin)){let t=e.data;try{t=JSON.parse(t)}catch(a){t={}}E(t)}O()})(e);window.addEventListener("message",e)}})(),(await e.download(t)).success?(ba.b.sharedInstance.recordStat(new te.a("MaildropAttachment.success",{status:200})),O()):setTimeout(()=>{h.current||(O(),E())},3e3)},className:"download-button",variant:"block primary"},Object(d.b)("MailDropPage.Download.Button.Text")))))},Jn=r.memo(Yn);a(1563);const Xn=e=>{let{className:t,errorTitle:a,errorDescription:n}=e;const i=l()("share-acceptance-error-page",t),c=Object(d.b)("ShareAcceptancePage.Title");return r.createElement("div",{className:i},r.createElement("div",{className:"header-section"},r.createElement(_n.a,{className:"header-image",width:60,height:60,layoutMode:"glyphBox"}),r.createElement("h2",null,c),r.createElement("div",{className:"error-details"},r.createElement("div",{className:"error-title"},a),r.createElement("div",{className:"error-description"},n))))};a(1564);var er=a(626);const tr=e=>{let{longGuid:t,isUnsupportedOs:a,isUnsupportedOsVersion:n,isIOS:i,isiPad:c,isMac:l}=e;return a?r.createElement("h3",null,Object(d.b)("RemindersTemplatePage.Description.UnsupportedOs")):n?r.createElement("h3",null,Object(d.b)(c?"RemindersTemplatePage.Description.UnsupportedIpadOsVersion":i?"RemindersTemplatePage.Description.UnsupportedIOsVersion":l?"RemindersTemplatePage.Description.UnsupportedMacOsVersion":"RemindersTemplatePage.Description.UnsupportedOs")):r.createElement(y.a,{onActivate:()=>{er.a("x-apple-reminderkit://publictemplate/"+t)},className:"preview-template",variant:"block primary"},Object(d.b)("RemindersTemplatePage.Button.RemindersTemplate"))},ar=e=>{let{className:t,shareInfo:a}=e;const{applicationIdentifier:n,shareTitle:i,longGuid:c}=a,o=l()("reminders-template-page",t),s=Object(d.b)("ShareAcceptancePage.Title"),{isMac:u,isIOS:m,osMajorVersion:b,osMinorVersion:p,osMicroVersion:g,isDesktopClassIpad:h}=ie.a.sharedInstance.applicationParameter,v=st.c.sharedInstance.isiPad,{isUnsupportedOs:f,isUnsupportedOsVersion:E}=function(e,t,a,n,r,i){return{isUnsupportedOs:!(e||t),isUnsupportedOsVersion:e&&(n<10||10===n&&(r<15||15===r&&i<7))||t&&!a&&n<16}}(u,m,h,b,p,g);return r.createElement("div",{className:o},r.createElement("div",{className:"share-contant-container"},r.createElement("div",{className:"header-section"},r.createElement(_n.a,{className:"header-image",width:60,height:60,layoutMode:"glyphBox"}),r.createElement("h2",null,s),r.createElement("div",{className:l()("sharing-details",{disabled:f||E})},r.createElement(Be.a,{applicationIdentifier:n,iconSize:40}),r.createElement("div",{className:"sharing-title"},Object(d.b)("RemindersTemplatePage.Title.RemindersTemplate")),r.createElement("div",{className:"sharing-item-description"},i))),r.createElement("div",{className:"bottom-section"},r.createElement("div",{className:"buttons-row"},r.createElement(tr,{longGuid:c,isUnsupportedOs:f,isUnsupportedOsVersion:E,isIOS:m,isiPad:v,isMac:u})),r.createElement("p",{className:"download-add-description"},f||E?Object(d.b)("RemindersTemplatePage.Description.Unsupported"):Object(d.b)("RemindersTemplatePage.Description.Supported")))))};var nr=a(1087),rr=a(1088),ir=a(1089),cr=a(1565);function lr(){return(lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const or=e=>r.createElement(cr.a,lr({},e,{logo:r.createElement("img",{src:nr.a,srcSet:`${nr.a}, ${rr.a} 2x, ${ir.a} 3x`,width:430,height:388,alt:"","aria-hidden":!0})}));a(1567);var sr=a(628);function ur(e){const t=r.useRef(null);r.useEffect(()=>{var e;null==(e=t.current)||e.focus()},[]);const a=Object(sr.a)("CloudOS.TermsAndConditions.SuccessConfirmation.Title"),n=(()=>{switch((ie.a.sharedInstance.needsGameCenterTermsFlow?1:0)+2*(e.wasTermsUpdatePerformed?1:0)){case 0:return Object(sr.a)("CloudOS.TermsAndConditions.SuccessConfirmation.UpToDate.Description");case 1:return Object(sr.a)("CloudOS.TermsAndConditions.SuccessConfirmation.GameCenter.UpToDate.Description");case 2:return Object(sr.a)("CloudOS.TermsAndConditions.SuccessConfirmation.Description");case 3:return Object(sr.a)("CloudOS.TermsAndConditions.SuccessConfirmation.GameCenter.Description");default:return}})();return r.createElement("div",{className:"terms-and-conditions-success-confirmation"},r.createElement("div",{className:"content"},r.createElement("div",{className:"title-text"},a),r.createElement("div",{className:"description-text"},n),r.createElement(y.a,{ref:t,onActivate:()=>{ie.a.sharedInstance.applicationUrl.pathname.startsWith("/terms")&&ie.a.sharedInstance.replaceHistoryState(void 0,void 0,void 0,void 0,void 0,void 0),null==e.onDismiss||e.onDismiss()}},Object(sr.a)("CloudOS.Button.OK.Title"))))}a(1568);var dr=a(1231),mr=a(1338);function br(e){const[t]=Object(ga.b)(),[a]=Object(ga.b)(),n=e=>{let{title:t,description:a,accessory:n,onActionSelected:i,animates:c=Fa.a.IN,showAlertFn:l,variant:o="standard",buttons:s=[{title:Object(d.b)("CloudOS.TermsAndConditions.AgreeButton.Title"),action:"agree"},{title:Object(d.b)("CloudOS.TermsAndConditions.CancelButton.Title"),action:"cancel"}]}=e;l({icon:r.createElement(K.a,{fill:"#0061e1",layoutMode:"glyphBox","aria-hidden":"true"}),variant:o,animates:c,title:t,buttons:s,cancelAction:"cancel",onActionSelected:e=>{i(e)},...!!a&&{description:a},...!!n&&{accessory:n}})};return r.useEffect(()=>{var e;null==(e=document.getElementsByTagName("ui-main-pane")[0])||e.removeAttribute("inert");let t=document.getElementsByClassName("show-modal-pane-centered");for(let a=0;a<t.length;a++){const{style:e}=t[a];e.background="transparent",e.pointerEvents="none"}},[]),r.createElement("div",{className:"terms-and-conditions"},r.createElement(K.a,{desiredFontSize:24,fill:"#0061e1",className:"cloud-image"}),r.createElement("div",{className:"terms-header"},r.createElement("div",{className:"terms-header-title"},e.isChina?r.createElement(r.Fragment,null,Object(d.b)("Application.Title"),r.createElement(dr.a,{className:"china-terms-and-conditions-branding"}),r.createElement("div",null,Object(d.b)("CloudOS.TermsAndConditions.Title.WithoutiCloud"))):r.createElement(r.Fragment,null,Object(d.b)("CloudOS.TermsAndConditions.Title")))),r.createElement("div",{className:"content-scroll"},r.createElement("div",{className:"content-desc",dangerouslySetInnerHTML:{__html:e.termsDetails.iCloudTerms.content}})),r.createElement("div",{className:"terms-footer"},r.createElement(y.a,{variant:"block secondary",className:"download-button",onActivate:()=>{const{locale:t,country:a,downloadICloudTerms:n}=e.termsDetails,r=Object(Qn.a)(n,{locale:t,country:a});new Kn.a("X-APPLE-TERMS-VALIDATE",P.a.sharedInstance.current.servicesDomain).download(new Gn.a(r,"termsValidateToken"))}},Object(d.b)("CloudOS.TermsAndConditions.DownloadCopyButton.Title")),r.createElement("div",{className:"button-groups"},r.createElement(y.a,{variant:"block neutral",className:"disagree-button",onActivate:()=>{window.location.reload()}},Object(d.b)("CloudOS.TermsAndConditions.DisagreeButton.Title")),r.createElement(y.a,{variant:"block primary",onActivate:()=>{n({showAlertFn:t,title:Object(d.b)("CloudOS.TermsAndConditions.Title"),description:"CHN"===e.accountCountry?Object(d.b)("CloudOS.TermsAndConditions.ChinaTerms.Description"):Object(d.b)("CloudOS.TermsAndConditions.Description"),onActionSelected:t=>{var r,i,c,l,o;"agree"===t&&(e.showGcbdPrivacyConsent?n({showAlertFn:a,title:null!=(r=e.termsDetails.gcbdPrivacyNoticeTitle)?r:"",accessory:Object(mr.default)(`<p class="description">${o=null!=(i=e.termsDetails.gcbdPrivacyNoticeMessage)?i:"",o.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&amp;/g,"&")}</p>`),variant:"standard disable-animation should-stack",buttons:[{title:null!=(c=e.termsDetails.confirmAndAgreeButtonText)?c:Object(d.b)("CloudOS.TermsAndConditions.AgreeButton.Title"),action:"agree"},{title:null!=(l=e.termsDetails.disagreeButtonText)?l:Object(d.b)("CloudOS.TermsAndConditions.DisagreeButton.Title"),action:"cancel"}],onActionSelected:t=>{"agree"===t&&e.onAcceptTerms(!0)}}):e.onAcceptTerms(!0))}})}},Object(d.b)("CloudOS.TermsAndConditions.AgreeButton.Title")))))}function pr(e){return r.createElement("div",{className:"terms-and-conditions"},r.createElement(K.a,{desiredFontSize:24,fill:"#0061e1",className:"cloud-image"}),r.createElement("div",{className:"terms-header"},r.createElement("div",{className:"terms-header-title"},Object(d.b)("Application.Title"),r.createElement(dr.a,{className:"china-terms-and-conditions-branding"}))),r.createElement("div",{className:"content-scroll"},r.createElement("div",{className:"china-terms-label"},Object(d.b)("CloudOS.TermsAndConditions.ChinaTerms.Paragraph.One")),r.createElement("div",{className:"china-terms-label"},Object(d.b)("CloudOS.TermsAndConditions.ChinaTerms.Paragraph.Two"))),r.createElement("div",{className:"terms-footer china"},r.createElement(y.a,{variant:"block primary",onActivate:e.onContinue},Object(d.b)("CloudOS.TermsAndConditions.ContinueButton.Title"))))}const gr=e=>{const[t,a]=r.useState(!1),n="CHN"!==e.accountCountry||t?r.createElement(br,{onAcceptTerms:e.onAcceptTerms,accountCountry:e.accountCountry,termsDetails:e.termsDetails,isChina:"CHN"===e.accountCountry,showGcbdPrivacyConsent:e.showGcbdPrivacyConsent}):r.createElement(pr,{onContinue:()=>a(!0)});return r.createElement("div",{className:"terms-and-conditions-container"},n)};function hr(){g.i.value&&x.a.cloudOSApplication.triggerPrefetchTileData(!1,g.i.value),Object(yt.d)()}function vr(e){return r.createElement(n.a,{className:e.className},r.createElement(o.b,{value:o.a.LOGIN},r.createElement(s.a,null)),r.createElement("main",null,r.createElement(m,null)),r.createElement("footer",null,r.createElement(b.a,null)))}function fr(e){return r.createElement(n.a,{className:e.className},r.createElement(o.b,{value:o.a.LOGIN},r.createElement(s.a,null)),r.createElement("main",null,r.createElement(f,null)),r.createElement("footer",null,r.createElement(b.a,null)))}function Er(e){return r.createElement(n.a,{className:e.className},r.createElement(o.b,{value:o.a.LOGIN},r.createElement(s.a,null)),r.createElement("main",null,r.createElement(L,{onComplete:e.onComplete})),r.createElement("footer",null,r.createElement(b.a,null)))}function yr(e){const t=R();return r.createElement(n.a,{className:l()("settings-page-route",e.className)},r.createElement(o.b,{value:o.a.INTERNAL_APP},r.createElement(s.a,{canTriggerAutoWhatsNew:!0})),r.createElement("main",null,r.createElement(Et,{onPageLoaded:hr})),r.createElement("footer",{className:t?"gray-theme":""},r.createElement(H,{currentPageName:Object(d.b)("Settings.DisplayName")}),r.createElement(b.a,null)))}function Or(e){return r.createElement(n.a,{className:l()("recovery-page-route",e.className)},r.createElement(o.b,{value:o.a.INTERNAL_APP},r.createElement(s.a,{canTriggerAutoWhatsNew:!0})),r.createElement("main",null,r.createElement(xa,null)),r.createElement("footer",null,r.createElement(H,{currentPageName:Object(d.b)("RecoveryPage.Title")}),r.createElement(b.a,null)))}function jr(e){return r.createElement(n.a,{className:l()("icloud-plus-page-route",e.className)},r.createElement(o.b,{value:o.a.INTERNAL_APP},r.createElement(s.a,{canTriggerAutoWhatsNew:!0})),r.createElement("main",null,r.createElement(Qa,{onPageLoaded:hr})),r.createElement("footer",null,r.createElement(H,{currentPageName:Object(d.b)("ICloudPlusPage.Title")}),r.createElement(b.a,null)))}function Nr(e){const t=e.isBeneficiary?Object(d.b)("StoragePage.Title.Lite"):Object(d.b)("StoragePage.Title");return r.createElement(n.a,{className:l()("storage-page-route",e.className)},r.createElement(o.b,{value:o.a.INTERNAL_APP},r.createElement(s.a,{canTriggerAutoWhatsNew:!0})),r.createElement("main",null,r.createElement(Rn,{onPageLoaded:hr})),r.createElement("footer",null,r.createElement(H,{currentPageName:t}),r.createElement(b.a,null)))}function Pr(e){const t=e.isBeneficiary?Object(d.b)("PlanDetailsPage.Title.Lite"):Object(d.b)("PlanDetailsPage.Title"),a=R();return r.createElement(n.a,{className:l()("plan-page-route",e.className)},r.createElement(o.b,{value:o.a.INTERNAL_APP},r.createElement(s.a,{canTriggerAutoWhatsNew:!0})),r.createElement("main",null,r.createElement(Wn,{onPageLoaded:hr})),r.createElement("footer",{className:a?"gray-theme":""},r.createElement(H,{currentPageName:t}),r.createElement(b.a,null)))}function Sr(e){return r.createElement(n.a,{className:e.className},r.createElement(o.b,{value:o.a.LOGIN},r.createElement(s.a,null)),r.createElement("main",null,r.createElement(Jn,{mailDropDetail:e.details})),r.createElement("footer",null,r.createElement(b.a,null)))}function Dr(e){return r.createElement(n.a,{className:e.className},r.createElement(o.b,{value:o.a.LOGIN},r.createElement(s.a,null)),r.createElement("main",null,r.createElement(Xn,{errorDescription:e.errorDescription,errorTitle:e.errorTitle,applicationIdentifier:e.applicationIdentifier})),r.createElement("footer",null,r.createElement(b.a,null)))}function Tr(e){return r.createElement(n.a,{className:e.className},r.createElement(o.b,{value:o.a.LOGIN},r.createElement(s.a,null)),r.createElement("main",{className:"centering"},r.createElement(ar,e.pageProps)),r.createElement("footer",null,r.createElement(b.a,null)))}function wr(e){return Object(qt.b)().launchApp("mail",{options:{source:{reason:Ga.b.OPEN_DOCUMENT},launchItem:{id:e.threadId}}}),null}function Ir(e){return Object(qt.b)().launchApp("calendar",{options:{source:{reason:Ga.b.OPEN_DOCUMENT},launchItem:{id:e.eventId,calendarId:e.collectionId}}}),null}function Cr(e){return r.createElement(n.a,{className:l()("redirect-to-domain-route",e.className)},r.createElement(o.b,{value:o.a.LOGIN},r.createElement(s.a,null)),r.createElement("main",null,r.createElement(or,e.pageProps)),r.createElement("footer",null,r.createElement(b.a,null)))}function Ar(e){return r.createElement("main",null,r.createElement(ur,{wasTermsUpdatePerformed:e.wasTermsUpdatePerformed,onDismiss:e.onDismiss}))}function kr(e){return r.createElement(n.a,{className:l()("terms-and-conditions-route",e.className)},r.createElement(o.b,{value:o.a.LOGIN},r.createElement(s.a,null)),r.createElement("main",null,r.createElement(gr,e.pageProps)),r.createElement("footer",null,r.createElement(b.a,null)))}},2105:function(e,t,a){"use strict";a.d(t,"c",(function(){return C})),a.d(t,"a",(function(){return k})),a.d(t,"d",(function(){return M})),a.d(t,"e",(function(){return x})),a.d(t,"b",(function(){return Y}));var n=a(524),r=a(2154),i=a(609);let c;!function(e){e.Safari="SAFARI",e.Mail="MAIL",e.News="APPLE_NEWS",e.OnDemand="ON_DEMAND",e.InApp="IN_APP"}(c||(c={}));const l=i.z.object({anonymousId:i.z.string(),domain:i.z.string().optional(),forwardToEmail:i.z.string().optional(),hme:i.z.string(),isActive:i.z.boolean(),recipientMailId:i.z.string().optional(),label:i.z.string().optional(),origin:i.z.nativeEnum(c)}),o=i.z.object({forwardToEmails:i.z.array(i.z.string()),hmeEmails:i.z.array(l),selectedForwardTo:i.z.string().optional()}),s=i.z.object({errorCode:i.z.string(),errorMessage:i.z.string(),retryAfter:i.z.number().optional()}),u=i.z.object({success:i.z.boolean(),timestamp:i.z.number(),error:s.optional()}),d=u.merge(i.z.object({result:o.optional()}));let m;var b,p;!function(e){e.InProgress="IN_PROGRESS",e.EmailNotSelected="DEFAULT_EMAIL_NOT_SELECTED",e.Complete="COMPLETE"}(m||(m={})),function(e){e.NotStarted="NOT_STARTED",e.InProgress="IN_PROGRESS",e.Success="SUCCESS",e.Failed="FAILED"}(b||(b={})),function(e){e.NotStarted="NOT_STARTED",e.InProgress="VERIFICATION_IN_PROGRESS",e.Success="VERIFICATION_SUCCESS",e.Failed="VERIFICATION_FAILED"}(p||(p={}));const g=i.z.object({name:i.z.string(),owner:i.z.object({dsid:i.z.string(),firstName:i.z.string(),lastName:i.z.string()}),isShared:i.z.boolean(),isOwner:i.z.boolean(),status:i.z.nativeEnum(m),transferTimestamp:i.z.number().optional(),dnsRecordsGenerated:i.z.boolean().optional(),dnsProviderName:i.z.string().optional(),isDomainConnect:i.z.boolean().optional(),applyTemplateUrl:i.z.string().optional(),verificationStatus:i.z.nativeEnum(b).optional(),catchAllEnabled:i.z.boolean().optional(),isEmailImportSupported:i.z.boolean().optional(),reverificationStatus:i.z.nativeEnum(p).optional()}),h=i.z.object({domains:i.z.array(g),maxDomainsAllowed:i.z.number()}),v=u.merge(i.z.object({result:h.optional()}));var f=a(2131),E=a(610),y=a(601);function O(e){var t,a;return(null==(t=y.J.value)||null==(a=t.details)?void 0:a.accountType)!==E.a.HSA2&&!e}var j=a(2212),N=a(2189),P=a(645),S=a(646),D=a(1515),T=a(893),w=a(2093);const I=e=>{var t;const{hmeInfo:a,tileSize:r,isLoading:i,tileIndex:c,error:l,appId:o}=e,s=Object(f.b)("HideMyEmailTile.Heading"),u=Object(f.b)("HideMyEmailTile.Description"),d=Object(f.b)("HideMyEmailTile.Content.Title"),m=[Object(f.b)("HideMyEmailTile.Content.ListItem.Active",{count:a?a.active:0}),Object(f.b)("HideMyEmailTile.Content.ListItem.Inactive",{count:a?a.inactive:0})],b=Object(P.b)(),p=n.useCallback(()=>{b.launchApp("hidemyemail",void 0,{presentationStyle:"modal"})},[b]),g="hidemyemail"===(null==(t=N.a.sharedInstance.applicationParameter.informationalPageDetails)?void 0:t.relativePath);n.useEffect(()=>{g&&p()},[p,g]);const{isInCustomizationMode:h}=Object(S.c)();return n.createElement(j.b,{appId:o,tileIndex:c,icon:n.createElement(w.a,{iconSize:40,applicationIdentifier:"hidemyemail"}),className:"hide-my-email-tile",heading:s,description:u,isLoading:i,tileSize:r,onTileClick:h?void 0:p,error:l},e.error?n.createElement(D.a,{refetch:e.refetch,showClouds:!1}):n.createElement(T.a,{contentTitleText:d,contentListItems:m}))},C=e=>{let{onSuccess:t,onError:a,appId:i,tileIndex:c,tileSize:l}=e;const{data:o,error:s,isLoading:u,isSuccess:m,refetch:b}=(p={onSuccess:t,onError:a},Object(r.M)({...p,endpoint:r.c.hmeList,fetchProvider:e=>()=>function(e){let{webServices:t}=e;if(null==t||!t.premiummailsettings)throw new Error("no service url available");return Object(r.h)({url:t.premiummailsettings+"/v2/hme/list",includeCredentials:!0,validate:{type:"WireHmeListResponse",schema:d}}).then(e=>function(e){if(O(e.success))return{active:0,inactive:0};if(e.success&&e.result){const{hmeEmails:t}=e.result;return{active:t.filter(e=>e.isActive).length,inactive:t.filter(e=>!e.isActive).length}}var t;throw new Error((null==e||null==(t=e.error)?void 0:t.errorMessage)||"hide my email api returns error")}(e))}(e)}));var p;return n.createElement(I,{appId:i,tileIndex:null!=c?c:0,error:s,isLoading:u,isSuccess:m,hmeInfo:o,refetch:b,tileSize:null!=l?l:j.c.Small})};const A=e=>{var t;const{customEmailDomainNames:a,tileSize:r,isLoading:i,tileIndex:c,error:l,appId:o}=e,s=Object(f.b)("CustomEmailDomainTile.Heading"),u=Object(f.b)("CustomEmailDomainTile.Description"),d=a?a.length:0,m=Object(f.c)({zero:"CustomEmailDomainTile.Content.Title.Zero",one:"CustomEmailDomainTile.Content.Title.One",two:"CustomEmailDomainTile.Content.Title.Two",many:"CustomEmailDomainTile.Content.Title.Many"},d),b=Object(P.b)(),p=n.useCallback(()=>{b.launchApp("customdomainsettings",void 0,{presentationStyle:"modal"})},[b]),g="customdomain"===(null==(t=N.a.sharedInstance.applicationParameter.informationalPageDetails)?void 0:t.relativePath);n.useEffect(()=>{g&&p()},[p,g]);const{isInCustomizationMode:h}=Object(S.c)();return n.createElement(j.b,{appId:o,tileIndex:c,icon:n.createElement(w.a,{iconSize:40,applicationIdentifier:"customdomainsettings"}),className:"custom-email-domain-tile",heading:s,description:u,isLoading:i,tileSize:r,onTileClick:h?void 0:p,error:l},e.error?n.createElement(D.a,{refetch:e.refetch,showClouds:!1}):n.createElement(T.a,{contentTitleText:m,contentListItems:a}))},k=e=>{let{onSuccess:t,onError:a,appId:i,tileIndex:c,tileSize:l}=e;const{data:o,error:s,isLoading:u,isSuccess:d,refetch:b}=(p={onSuccess:t,onError:a},Object(r.M)({...p,endpoint:r.c.customEmailDomains,fetchProvider:e=>()=>function(e){let{webServices:t}=e;if(null==t||!t.premiummailsettings)throw new Error("no service url available");return Object(r.h)({url:t.premiummailsettings+"/v2/domain/list",includeCredentials:!0,validate:{type:"WireCustomDomainListResponse",schema:v}}).then(e=>function(e){if(O(e.success))return[];var t;if(!e.success||!e.result)throw new Error((null==e||null==(t=e.error)?void 0:t.errorMessage)||"hide my email api returns error");return e.result.domains.map(e=>e.status===m.InProgress?Object(f.b)("CustomEmailDomainTile.Status.InProgress",{domain:e.name}):e.name)}(e))}(e)}));var p;return n.createElement(A,{appId:i,tileIndex:null!=c?c:0,error:s,isLoading:u,isSuccess:d,customEmailDomainNames:o,refetch:b,tileSize:null!=l?l:j.c.Small})};var L=a(1532),F=a(1533);a(1537);const R=e=>{const{tileSize:t,isLoading:a,tileIndex:r,numberOfCamsSupported:i,ariaLevel:c=3}=e,l=Object(f.b)("HomeKitSecureVideoTile.Heading"),o="unlimited"===i?Object(f.b)("HomeKitSecureVideoTile.Description.Unlimited"):Object(f.c)({one:"HomeKitSecureVideoTile.Description.One",two:"HomeKitSecureVideoTile.Description.Two",many:"HomeKitSecureVideoTile.Description.Many"},i),s=Object(f.b)("HomeKitSecureVideoTile.Content.Description"),u=Object(F.a)({numberOfCamsSupported:i});return n.createElement(j.b,{tileIndex:r,icon:n.createElement(w.a,{iconSize:40,applicationIdentifier:"homekit"}),className:"home-kit-secure-video-tile",heading:l,description:o,isLoading:a,tileSize:t,ariaLevel:c,onTileClick:()=>u()},n.createElement(T.a,{contentDescriptionText:s,continueOnDevice:!0}))},M=()=>{const e=Object(L.a)();return n.createElement(R,{tileIndex:0,error:null,isLoading:!1,isSuccess:!0,refetch:()=>{},tileSize:j.c.Small,numberOfCamsSupported:e})};var z=a(1538);a(1539);const B=e=>{const{tileSize:t,isLoading:a,tileIndex:r,ariaLevel:i=3}=e,c=Object(f.b)("PrivateRelayTile.Heading"),l=Object(f.b)("PrivateRelayTile.Description"),o=Object(f.b)("PrivateRelayTile.Content.Description"),s=Object(z.a)();return n.createElement(j.b,{tileIndex:r,icon:n.createElement(w.a,{iconSize:40,applicationIdentifier:"privaterelay"}),className:"private-relay-tile",heading:c,description:l,isLoading:a,tileSize:t,onTileClick:()=>s(),ariaLevel:i},n.createElement(T.a,{contentDescriptionText:o,continueOnDevice:!0}))},x=()=>n.createElement(B,{tileIndex:0,error:null,isLoading:!1,isSuccess:!0,refetch:()=>{},tileSize:j.c.Small});var U=a(1534),H=a(2185),V=a(1085),W=a(2237),_=a(1535),K=a(668);const G="family-sharing-modal-title",q=e=>{let{role:t,ownerShortName:a,ownerLongName:r}=e;const i=t===H.a.NonOrganizerMember,c=t===H.a.OrganizerWithNoMember,l=n.createElement(w.a,{applicationIdentifier:"plan",iconSize:54}),o=Object(f.b)("ICloudPlusPage.FamilySharingModalContent.Title"),s=i?Object(f.b)("ICloudPlusPage.FamilySharingModalContent.SubTitle.Sharing",{name:a}):Object(f.b)("ICloudPlusPage.FamilySharingModalContent.SubTitle.NotSharing"),u=i?Object(f.b)("ICloudPlusPage.FamilySharingModalContent.Section.Description.Sharing",{name:r}):Object(f.b)("ICloudPlusPage.FamilySharingModalContent.Section.Description.NotSharing"),d=Object(K.a)("familySharing");return i?n.createElement(U.a,{icon:l,modalTitle:o,modalSubTitle:s,modalDescription:u,learnMoreLink:d,titleId:G,feature:W.a.FAMILY_SHARING,variant:_.a.FAMILY_SHARING_MEMBER}):c?n.createElement(U.a,{icon:l,modalTitle:o,modalSubTitle:s,modalDescription:u,learnMoreLink:d,titleId:G,feature:W.a.FAMILY_SHARING,variant:_.a.FAMILY_SHARING_ORGANIZER_NO_FAMILY}):n.createElement(U.a,{icon:l,modalTitle:o,modalSubTitle:s,modalDescription:u,learnMoreLink:d,titleId:G,feature:W.a.FAMILY_SHARING,variant:_.a.FAMILY_SHARING_ORGANIZER})};a(1540);var $=a(2145);const Q=e=>{const{tileSize:t,tileIndex:a,error:r,isLoading:i,role:c,organizer:l,ariaLevel:o=3}=e,s=null!==r,u=c===H.a.NonOrganizerMember,d=Object($.j)(l.firstName,l.lastName),m=Object($.j)(l.firstName,l.lastName,!0),b=Object(f.b)("FamilySharingTile.Heading"),p=u?Object(f.b)("FamilySharingTile.Description.Member",{name:d}):Object(f.b)("FamilySharingTile.Description.Five"),g=u?Object(f.b)("FamilySharingTile.Content.Description.Member",{name:m}):Object(f.b)("FamilySharingTile.Content.Description"),h=function(e){const t=Object(V.b)();return()=>t(n.createElement(q,e),{ariaLabelledBy:G})}({role:c,ownerShortName:d,ownerLongName:m});return n.createElement(j.b,{tileIndex:a,icon:n.createElement(w.a,{applicationIdentifier:"plan",iconSize:40}),className:"family-sharing-tile",heading:b,description:p,isLoading:i,tileSize:t,onTileClick:()=>h(),ariaLevel:o,error:r},s?n.createElement(D.a,{refetch:e.refetch,showClouds:!1}):n.createElement(T.a,{contentDescriptionText:g,continueOnDevice:!0}))};var Z=a(1268);const Y=()=>{const{result:e,refetch:t}=Object(Z.c)(),a=Object(Z.b)(),r=e.ok&&void 0===e.value||a.ok&&void 0===a.value,i=e.ok&&(e.value===Z.a.None||a.ok),c=i?null:new Error("Missing family data"),l=e.ok&&e.value?e.value:Z.a.Organizer,o=a.ok&&a.value?a.value:{dsid:"",firstName:"",lastName:"",fullName:""};return n.createElement(Q,{tileIndex:0,error:c,isLoading:r,isSuccess:i,role:l,organizer:o,refetch:t,tileSize:j.c.Small})}},2118:function(e,t,a){"use strict";a.d(t,"a",(function(){return W}));var n=a(524),r=a.n(n),i=["styles"];function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var l=function(e){e.styles;var t=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,i);return r.a.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",viewBox:"37.11 6.39 82.13 90.14"},t),r.a.createElement("path",{fill:"var(--theme-color-systemBlue)",fillRule:"evenodd",d:"M55.663 37.29h44.796c1.503 0 2.685 1.181 2.685 2.736a2.661 2.661 0 01-2.685 2.695H55.663c-1.514 0-2.685-1.182-2.685-2.695 0-1.555 1.171-2.737 2.685-2.737zm22.435-5.067c-6.81 0-11.773-4.827-11.773-10.287 0-6.063 5.502-10.486 11.773-10.486 5.959 0 11.689 4.122 11.689 10.62 0 5.389-4.963 10.153-11.69 10.153zM45.692 50.255h64.948c6.3 0 9.66-4.13 8.29-10.968l-4.682-23.034c-1.204-6.08-5.426-9.865-11.546-9.865H53.63c-6.12 0-10.342 3.786-11.535 9.865l-4.682 23.034c-1.38 6.838 1.98 10.968 8.28 10.968zM74.08 91.72h8.174V48.853H74.08zm-12.89 4.806h33.95c2.227 0 4.082-1.906 4.082-4.082 0-2.237-1.855-4.082-4.082-4.082H61.19c-2.227 0-4.082 1.845-4.082 4.082 0 2.176 1.855 4.082 4.082 4.082z"}))},o=["styles"];function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var u=function(e){e.styles;var t=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,o);return r.a.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",viewBox:"31.89 11.51 92.55 78.89"},t),r.a.createElement("path",{fill:"var(--theme-color-systemOrange)",d:"M70.12 42.164l10.174 10.235 16.4-16.338c10.7-10.647 16.737-20.997 13.968-23.767-2.977-2.966-13.287 2.699-23.934 13.335zm5.488 13.375l-8.616-8.586-26.194 26.194-2.613 3.722 7.466 7.403 3.764-2.55zM32.113 88.116c-.788 1.451.622 2.81 2.01 2.073l7.236-3.821-5.362-5.31zm17.918 2.249h70.482c2.135 0 3.927-1.803 3.927-3.979 0-2.124-1.792-3.926-3.927-3.926H57.988z"}))},d=["styles"];function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var b=function(e){e.styles;var t=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,d);return r.a.createElement("svg",m({xmlns:"http://www.w3.org/2000/svg",viewBox:"32 6.28 92.33 90.35"},t),r.a.createElement("path",{fill:"var(--theme-color-systemGreen)",d:"M37.499 96.634h6.37c3.29 0 5.447-2.261 5.447-5.673V73.584c0-3.35-2.158-5.673-5.446-5.673h-6.371c-3.278 0-5.498 2.323-5.498 5.673v17.377c0 3.412 2.22 5.673 5.498 5.673zm24.995 0h6.37c3.268 0 5.499-2.261 5.499-5.673V50.239c0-3.413-2.23-5.684-5.498-5.684h-6.37c-3.29 0-5.447 2.271-5.447 5.684V90.96c0 3.412 2.158 5.673 5.446 5.673zm25.037 0h6.308c3.289 0 5.508-2.261 5.508-5.673V11.9c0-3.412-2.22-5.62-5.508-5.62h-6.308c-3.278 0-5.498 2.208-5.498 5.62v79.06c0 3.412 2.22 5.673 5.498 5.673zm24.984 0h6.32c3.288 0 5.497-2.261 5.497-5.673v-56.2c0-3.412-2.209-5.673-5.498-5.673h-6.319c-3.267 0-5.498 2.261-5.498 5.673v56.2c0 3.412 2.23 5.673 5.498 5.673z"}))},p=["styles"];function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var h=function(e){e.styles;var t=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,p);return r.a.createElement("svg",g({width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},t),r.a.createElement("path",{d:"M16.795 0c1.115 0 1.519.116 1.926.334.407.218.727.538.945.945.218.407.334.811.334 1.926v13.59c0 1.115-.116 1.519-.334 1.926a2.272 2.272 0 01-.945.945c-.407.218-.811.334-1.926.334H3.205c-1.115 0-1.519-.116-1.926-.334a2.272 2.272 0 01-.945-.945C.116 18.314 0 17.91 0 16.795V3.205C0 2.09.116 1.686.334 1.279.552.872.872.552 1.279.334 1.686.116 2.09 0 3.205 0h13.59zm-6.663 4.431H5.933V15H7.77v-3.516l2.362.001.263-.007a3.7 3.7 0 001.607-.435 3.185 3.185 0 001.256-1.236c.301-.53.452-1.145.452-1.847v-.014l-.007-.26a3.54 3.54 0 00-.445-1.584 3.177 3.177 0 00-1.256-1.231c-.536-.293-1.159-.44-1.87-.44zm-.454 1.51l.223.006c.58.035 1.038.208 1.375.52.379.35.568.846.568 1.489v.015l-.007.207c-.037.54-.224.966-.561 1.28-.379.353-.911.53-1.598.53H7.77V5.94h1.91z",fill:"#B9380B",fillRule:"evenodd"}))},v=["styles"];function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var E=function(e){e.styles;var t=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,v);return r.a.createElement("svg",f({width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},t),r.a.createElement("path",{d:"M16.795 0c1.115 0 1.519.116 1.926.334.407.218.727.538.945.945.218.407.334.811.334 1.926v13.59c0 1.115-.116 1.519-.334 1.926a2.272 2.272 0 01-.945.945c-.407.218-.811.334-1.926.334H3.205c-1.115 0-1.519-.116-1.926-.334a2.272 2.272 0 01-.945-.945C.116 18.314 0 17.91 0 16.795V3.205C0 2.09.116 1.686.334 1.279.552.872.872.552 1.279.334 1.686.116 2.09 0 3.205 0h13.59zM5.177 4.931H3.264L6.098 15.5h1.734L10 7.867h.105l2.179 7.633h1.727l2.834-10.569h-1.904l-1.83 7.99h-.105l-2.132-7.99H9.231l-2.11 7.99h-.106l-1.838-7.99z",fill:"#205BC5",fillRule:"evenodd"}))},y=["styles"];function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var j=function(e){e.styles;var t=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,y);return r.a.createElement("svg",O({width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},t),r.a.createElement("path",{d:"M16.795 0c1.115 0 1.519.116 1.926.334.407.218.727.538.945.945.218.407.334.811.334 1.926v13.59c0 1.115-.116 1.519-.334 1.926a2.272 2.272 0 01-.945.945c-.407.218-.811.334-1.926.334H3.205c-1.115 0-1.519-.116-1.926-.334a2.272 2.272 0 01-.945-.945C.116 18.314 0 17.91 0 16.795V3.205C0 2.09.116 1.686.334 1.279.552.872.872.552 1.279.334 1.686.116 2.09 0 3.205 0h13.59zm-9.33 4.931h-2.38l3.388 5.224L5.06 15.5h2.19l2.494-3.816 2.427 3.816h2.313l-3.451-5.3 3.506-5.269H12.28l-2.443 3.91-2.373-3.91z",fill:"#297337",fillRule:"evenodd"}))},N=["styles"];function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var S=function(e){e.styles;var t=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,N);return r.a.createElement("svg",P({width:"16",height:"20",xmlns:"http://www.w3.org/2000/svg"},t),r.a.createElement("path",{d:"M2.949 20H13.05c1.97 0 2.949-.98 2.949-2.92V8.61H9.113c-1.218 0-1.798-.569-1.798-1.763V0H2.95C.989 0 0 .989 0 2.93v14.15C0 19.03.98 20 2.949 20zm5.08-6.627c.315 0 .573.057.774.171.202.114.35.278.447.49.097.212.146.466.146.76 0 .298-.05.555-.148.771a1.074 1.074 0 01-.45.5c-.201.116-.458.174-.769.174H6.843v-2.866zm3.855 0v.554h-1.286v.693h1.17v.537h-1.17v1.082H9.87v-2.866h2.014zm-6.517 0c.233 0 .428.045.584.136.157.09.275.21.355.36.08.151.12.317.12.498 0 .182-.041.348-.122.496a.882.882 0 01-.358.355 1.199 1.199 0 01-.587.132h-.541v.889H4.09v-2.866zm2.546.547h-.342v1.771h.342c.13 0 .24-.018.333-.054a.537.537 0 00.228-.165.724.724 0 00.132-.275c.028-.11.042-.239.042-.386 0-.196-.025-.36-.076-.493a.583.583 0 00-.238-.299.792.792 0 00-.42-.1zM5.2 13.903h-.384v.928H5.2a.57.57 0 00.26-.055.39.39 0 00.17-.158.506.506 0 00.058-.251c0-.15-.043-.266-.13-.345a.512.512 0 00-.358-.12zM8.62.103c.399.065.789.335 1.236.783l5.241 5.233c.457.457.733.83.79 1.213H9.14c-.351 0-.523-.168-.523-.504z",fill:"var(--theme-color-systemRed)"}))},D=["styles"];function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var w=function(e){e.styles;var t=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,D);return r.a.createElement("svg",T({width:"16",height:"20",xmlns:"http://www.w3.org/2000/svg"},t),r.a.createElement("path",{d:"M6.602 0L6.24 1.502 5.784 3.46a3.66 3.66 0 00-.086.783c0 1.157.628 1.922 1.712 2.118v2.341H5.755c-.333 0-.59.243-.59.56 0 .327.257.588.59.588H7.41v1.38H5.755c-.333 0-.59.243-.59.56 0 .327.257.588.59.588H7.41v1.38H5.755c-.333 0-.59.243-.59.56 0 .327.257.588.59.588H7.41v1.38H5.755a.573.573 0 100 1.148H7.41v1.063h1.18v-2.332h1.655a.573.573 0 100-1.147H8.59v-1.38h1.655c.333 0 .59-.253.59-.58a.573.573 0 00-.59-.568H8.59v-1.38h1.655c.333 0 .59-.253.59-.58a.573.573 0 00-.59-.568H8.59v-1.38h1.655c.333 0 .59-.253.59-.58a.573.573 0 00-.59-.568H8.59V6.362c1.084-.196 1.712-.96 1.712-2.118a3.66 3.66 0 00-.086-.783l-.455-1.952h.002L9.41 0h3.64c1.899 0 2.878.92 2.945 2.725l.004.204V17.08c0 1.95-.98 2.92-2.949 2.92H2.95C.979 20 0 19.03 0 17.08V2.93C0 .988.98 0 2.949 0h3.653zM8 3.134c.58 0 1.037.448 1.037 1.017 0 .578-.438 1.026-1.037 1.026-.59 0-1.037-.448-1.037-1.026 0-.569.457-1.017 1.037-1.017z",fill:"var(--theme-color-labelPrimary)"}))},I=["styles"];function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var A=function(e){e.styles;var t=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,I);return r.a.createElement("svg",C({width:"24",height:"18",xmlns:"http://www.w3.org/2000/svg"},t),r.a.createElement("path",{d:"M3.563 18h16.874c2.049 0 3.063-1.007 3.063-3.021V3.03C23.5 1.017 22.486 0 20.437 0H3.563C1.524 0 .5 1.017.5 3.031v11.948C.5 16.993 1.524 18 3.563 18zm4.253-8.75a2.417 2.417 0 01-2.41-2.416 2.424 2.424 0 012.41-2.415c1.316 0 2.399 1.095 2.399 2.415a2.415 2.415 0 01-2.4 2.415zm-4.234 7.186c-.946 0-1.512-.567-1.512-1.526v-.596l2.995-2.62c.43-.382.897-.577 1.326-.577.478 0 .976.195 1.405.596l1.863 1.682 4.662-4.146c.478-.43 1.015-.625 1.57-.625a2.27 2.27 0 011.552.635l4.487 4.165v1.506c0 .939-.576 1.506-1.503 1.506H3.582z",fill:"var(--theme-color-systemYellow)"}))},k=["styles"];function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var F=function(e){e.styles;var t=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,k);return r.a.createElement("svg",L({width:"22",height:"24"},t),r.a.createElement("path",{fill:"var(--theme-color-systemPink)",d:"M8.736 0c.667 0 1.19.523 1.19 1.18v20.907c0 .656-.523 1.169-1.19 1.169a1.153 1.153 0 01-1.158-1.17V1.18C7.578.523 8.09 0 8.736 0zm7.578 2.215c.666 0 1.19.533 1.19 1.19v16.457c0 .656-.524 1.179-1.19 1.179a1.162 1.162 0 01-1.159-1.18V3.405c0-.656.513-1.19 1.159-1.19zM4.953 3.507c.656 0 1.179.533 1.179 1.19V18.56c0 .656-.523 1.179-1.18 1.179a1.164 1.164 0 01-1.168-1.18V4.697c0-.656.512-1.19 1.169-1.19zm7.577 1.59c.657 0 1.18.532 1.18 1.189V16.98a1.17 1.17 0 01-1.18 1.17 1.162 1.162 0 01-1.169-1.17V6.286c0-.657.513-1.19 1.17-1.19zM20.108 6.9c.656 0 1.18.533 1.18 1.18v7.095c0 .656-.524 1.169-1.18 1.169a1.156 1.156 0 01-1.169-1.17V8.08c0-.646.513-1.18 1.169-1.18zm-18.95.554c.667 0 1.19.533 1.19 1.189v5.978c0 .646-.523 1.169-1.19 1.169A1.16 1.16 0 010 14.622V8.644c0-.656.513-1.19 1.159-1.19z"}))},R=["styles"];function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var z=function(e){e.styles;var t=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,R);return r.a.createElement("svg",M({width:"22",height:"18",xmlns:"http://www.w3.org/2000/svg"},t),r.a.createElement("path",{d:"M2.166 18h17.668C21.14 18 22 17.122 22 15.797V2.203C22 .878 21.14 0 19.834 0H2.166C.85 0 0 .878 0 2.203v13.594C0 17.122.851 18 2.166 18zm-.01-14.26a.42.42 0 01-.435-.43v-.925c0-.277.186-.468.454-.468h1.027c.241 0 .417.182.417.449v.944c0 .238-.176.43-.417.43H2.156zm3.471 4.3c-.296 0-.5-.2-.5-.505V2.423c0-.305.204-.506.5-.506h10.709c.296 0 .5.2.5.506v5.113c0 .305-.204.505-.5.505H5.627zm13.134-4.3a.423.423 0 01-.426-.429v-.944c0-.267.185-.449.426-.449h1.018c.277 0 .462.191.462.468v.925a.42.42 0 01-.435.43h-1.045zM2.156 6.84a.425.425 0 01-.435-.429v-.935c0-.267.176-.448.435-.448h1.046c.241 0 .417.181.417.448v.935c0 .23-.176.43-.417.43H2.156zm16.605 0a.43.43 0 01-.426-.429v-.935c0-.267.185-.448.426-.448h1.045c.26 0 .435.181.435.448v.935c0 .23-.175.43-.435.43h-1.045zM2.156 9.901a.42.42 0 01-.435-.429v-.935c0-.257.176-.438.435-.438h1.046c.241 0 .417.18.417.438v.935c0 .239-.176.43-.417.43H2.156zm16.605 0a.423.423 0 01-.426-.429v-.935a.42.42 0 01.426-.438h1.045c.26 0 .435.18.435.438v.935a.42.42 0 01-.435.43h-1.045zM5.627 16.073c-.296 0-.5-.2-.5-.505v-5.085c0-.305.204-.515.5-.515h10.709c.296 0 .5.21.5.515v5.085c0 .305-.204.505-.5.505H5.627zm-3.47-3.09c-.26 0-.436-.2-.436-.44v-.925c0-.267.176-.448.435-.448h1.046c.241 0 .417.181.417.448v.926c0 .238-.176.439-.417.439H2.156zm16.604 0a.431.431 0 01-.426-.44v-.925c0-.267.185-.448.426-.448h1.045c.26 0 .435.181.435.448v.926a.428.428 0 01-.435.439h-1.045zm-16.586 3.09a.437.437 0 01-.454-.458V14.7c0-.268.176-.449.435-.449h1.046c.241 0 .417.181.417.449v.934c0 .258-.176.44-.417.44H2.175zm16.586 0a.42.42 0 01-.426-.439V14.7c0-.268.185-.449.426-.449h1.045c.26 0 .435.181.435.449v.915a.439.439 0 01-.462.458H18.76z",fill:"var(--theme-color-gray1)"}))},B=["styles"];function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var U=function(e){e.styles;var t=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,B);return r.a.createElement("svg",x({width:"16",height:"20",xmlns:"http://www.w3.org/2000/svg"},t),r.a.createElement("path",{d:"M4.379 5.366a.605.605 0 01-.443-1.03.615.615 0 01.443-.17h7.253c.176 0 .323.056.441.17a.559.559 0 01.178.42.602.602 0 01-.619.61H4.379zm0 3.322a.597.597 0 01-.443-.18.592.592 0 01-.178-.43.56.56 0 01.178-.422.615.615 0 01.443-.17h7.253c.176 0 .323.057.441.17a.56.56 0 01.178.421c0 .168-.06.311-.178.431a.595.595 0 01-.441.18H4.379zm0 3.313a.614.614 0 01-.443-.17.56.56 0 01-.178-.42.605.605 0 01.62-.61l3.472-.002a.597.597 0 01.617.611.567.567 0 01-.173.42.606.606 0 01-.444.171H4.379zM0 17.024c0 .985.252 1.728.755 2.227.503.5 1.249.749 2.236.749h10.018c.993 0 1.74-.25 2.24-.749.5-.499.751-1.242.751-2.227V2.985c0-.986-.25-1.73-.75-2.232C14.75.251 14.001 0 13.01 0H2.99C2.005 0 1.259.251.756.753.252 1.255 0 2 0 2.985v14.039z",fill:"var(--theme-color-systemPurple)"}))},H=a(2131);function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const W=e=>{const t={aac:"FileIcon.FileType.aac",abbu:"FileIcon.FileType.abbu",ai:"FileIcon.FileType.ai",aiff:"FileIcon.FileType.aiff",apk:"FileIcon.FileType.apk",app:"FileIcon.FileType.app",avi:"FileIcon.FileType.avi",band:"FileIcon.FileType.band",bat:"FileIcon.FileType.bat",bin:"FileIcon.FileType.bin",blend:"FileIcon.FileType.blend",bmp:"FileIcon.FileType.bmp",c:"FileIcon.FileType.c",c4d:"FileIcon.FileType.c4d",class:"FileIcon.FileType.class",cpp:"FileIcon.FileType.cpp",css:"FileIcon.FileType.css",cer:"FileIcon.FileType.cer",csv:"FileIcon.FileType.csv",dae:"FileIcon.FileType.dae",dmg:"FileIcon.FileType.dmg",dng:"FileIcon.FileType.dng",doc:"FileIcon.FileType.doc",docx:"FileIcon.FileType.docx",dxf:"FileIcon.FileType.dxf",eps:"FileIcon.FileType.eps",exe:"FileIcon.FileType.exe",fbx:"FileIcon.FileType.fbx",gif:"FileIcon.FileType.gif",gz:"FileIcon.FileType.gz",h:"FileIcon.FileType.h",hqx:"FileIcon.FileType.hqx",htm:"FileIcon.FileType.htm",epub:"FileIcon.FileType.epub",ibooks:"FileIcon.FileType.ibooks",icns:"FileIcon.FileType.icns",ico:"FileIcon.FileType.ico",ics:"FileIcon.FileType.ics",indd:"FileIcon.FileType.indd",ipa:"FileIcon.FileType.ipa",iso:"FileIcon.FileType.iso",java:"FileIcon.FileType.java",jpg:"FileIcon.FileType.jpg",jpeg:"FileIcon.FileType.jpg",js:"FileIcon.FileType.js",key:"FileIcon.FileType.key",keychain:"FileIcon.FileType.keychain",log:"FileIcon.FileType.log",m:"FileIcon.FileType.m",m3u:"FileIcon.FileType.m3u",m4a:"FileIcon.FileType.m4a",m4p:"FileIcon.FileType.m4p",m4r:"FileIcon.FileType.m4r",m4v:"FileIcon.FileType.m4v",mid:"FileIcon.FileType.mid",qt:"FileIcon.FileType.qt",mp3:"FileIcon.FileType.mp3",mp4:"FileIcon.FileType.mp4",mpeg:"FileIcon.FileType.mpeg",numbers:"FileIcon.FileType.numbers",obj:"FileIcon.FileType.obj",otf:"FileIcon.FileType.otf",pages:"FileIcon.FileType.pages",pdf:"FileIcon.FileType.pdf",perl:"FileIcon.FileType.perl",pkg:"FileIcon.FileType.pkg",png:"FileIcon.FileType.png",pps:"FileIcon.FileType.pps",ppsx:"FileIcon.FileType.ppsx",ppt:"FileIcon.FileType.ppt",pptx:"FileIcon.FileType.pptx",ps:"FileIcon.FileType.ps",psd:"FileIcon.FileType.psd",py:"FileIcon.FileType.py",rar:"FileIcon.FileType.rar",rtf:"FileIcon.FileType.rtf",safariextz:"FileIcon.FileType.safariextz",scpt:"FileIcon.FileType.scpt",sh:"FileIcon.FileType.sh",stl:"FileIcon.FileType.stl",svg:"FileIcon.FileType.svg",swift:"FileIcon.FileType.swift",tar:"FileIcon.FileType.tar",tiff:"FileIcon.FileType.tiff",ttf:"FileIcon.FileType.ttf",txt:"FileIcon.FileType.txt",vcf:"FileIcon.FileType.vcf",wave:"FileIcon.FileType.wave",wma:"FileIcon.FileType.wma",wmv:"FileIcon.FileType.wmv",xcodeproj:"FileIcon.FileType.xcodeproj",xhtml:"FileIcon.FileType.xhtml",xlam:"FileIcon.FileType.xlam",xls:"FileIcon.FileType.xls",xlsx:"FileIcon.FileType.xlsx",xml:"FileIcon.FileType.xml",zip:"FileIcon.FileType.zip"},{fileExtension:a,...r}=e,i=a&&t[a]?Object(H.b)(t[a]):Object(H.b)("FileIcon.FileType.default");return n.createElement("div",{className:"icon"},(()=>{switch(a){case"key":return n.createElement(l,V({"aria-label":i,"data-testid":"keynote-icon",height:18,width:20},r));case"numbers":return n.createElement(b,V({"aria-label":i,"data-testid":"numbers-icon",height:18,width:20},r));case"pages":return n.createElement(u,V({"aria-label":i,"data-testid":"pages-icon",height:18,width:20},r));case"pptx":case"ppt":return n.createElement(h,V({"aria-label":i,"data-testid":"ppt-icon"},r));case"xlsx":case"xls":case"xlam":return n.createElement(j,V({"aria-label":i,"data-testid":"excel-icon"},r));case"docx":case"doc":return n.createElement(E,V({"aria-label":i,"data-testid":"word-icon"},r));case"jpg":case"jpeg":case"png":case"gif":case"tiff":case"tif":case"bmp":return n.createElement(A,V({"aria-label":i,"data-testid":"image-icon"},r));case"aac":case"wav":case"m4a":case"m4p":case"aiff":case"midi":case"wave":case"mp3":return n.createElement(F,V({"aria-label":i,"data-testid":"audio-icon"},r));case"mp4":case"m4v":case"mov":return n.createElement(z,V({"aria-label":i,"data-testid":"video-icon"},r));case"zip":return n.createElement(w,V({"aria-label":i,"data-testid":"zip-icon"},r));case"pdf":return n.createElement(S,V({"aria-label":i,"data-testid":"pdf-icon"},r));case"folder":default:return n.createElement(U,V({"aria-label":i,"data-testid":"default-icon"},r))}})())}},2162:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return s}));var n=a(524),r=a(836);function i(){var e;const t=null==(e=Object(r.b)())?void 0:e.meCard;return t?function(e){var t;const a=null==(t=e.contacts)?void 0:t[0];if(!a)return{contactId:""};const n=a.photo;return n?{contactId:a.contactId,url:n.url,crop:{width:n.crop.width,height:n.crop.height,x:n.crop.x,y:n.crop.y},signature:n.signature}:{contactId:a.contactId}}(t):{contactId:""}}function c(){const[e,t]=n.useState(()=>i()),a=Object(r.b)(),[c,l]=n.useState(()=>{var e;return null!=(e=null==a?void 0:a.isFetching)&&e});return n.useEffect(()=>{const e=()=>{const e=i();""!==e.contactId&&t(e)};null==a||a.addEventListener("change",e);const n=()=>{var e;l(null!=(e=null==a?void 0:a.isFetching)&&e)};return null==a||a.addEventListener("fetchingchange",n),()=>{null==a||a.removeEventListener("fetchingchange",n),null==a||a.removeEventListener("change",e)}},[a]),{isLoading:c,data:e}}var l=a(853),o=a(601);function s(){return Object(l.useMutation)(e=>{const t=(()=>{var e,t;const a=null!=(e=null==(t=o.J.value)?void 0:t.details)?e:null;return Object(o.e)(a)})(),a=Object(r.b)();return t&&a?a.storePhoto(t,{...e}):Promise.resolve(null)})}},2242:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(545),r=a(2196),i=a(2243);let c;!function(e){e[e.FAILED=0]="FAILED",e[e.SURVIVED=1]="SURVIVED"}(c||(c={}));class l{constructor(){this.running=!1,this.urlQueue=[]}downloadFromURL(e){const t=new Promise(t=>{this.urlQueue.push([e,t])});return this.running||this.run(),t}async run(){for(this.running=!0;this.urlQueue.length;){const[e,t]=this.urlQueue.shift();t(await this.beginIFrameDownload(e))}this.running=!1}async beginIFrameDownload(e){const t=document.createElement("iframe");t.style.display="none",document.body.appendChild(t);let a=()=>{},n=c.FAILED;try{const i=new Promise(e=>{window.setTimeout(e,5e3)}).then(()=>c.SURVIVED),l=new Promise(e=>{a=()=>e(c.FAILED)});t.addEventListener("load",a),t.id=e,t.src=e,n=await Promise.race([i,l])}finally{var r;t.removeEventListener("load",a),null==(r=t.parentElement)||r.removeChild(t)}return n}}var o=a(535),s=a(2189);let u;!function(e){e.FAILED_TO_DOWNLOAD="Failed to download the url",e.ALREADY_DOWNLOADING="Already downloading a file. Retry after some time."}(u||(u={}));class d{static create(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return new d(...t)}constructor(e,t){if(this.downloadCookieName=e,this._cookieManager=void 0,this.shouldUseIFrameDownloader=void 0,this._downloadManager=void 0,!e)throw new Error("downloadCookieName is required to create the ValidatedDownloadManager");if(!t)throw new Error("cookieManagerDomain is required to create the ValidatedDownloadManager");this._cookieManager=new r.a(t),this._downloadManager=new l;let a=!0;if(o.c.sharedInstance.primaryInteractionMode===o.b.TOUCH){const e=s.a.sharedInstance.applicationParameter.isIOS,t=s.a.sharedInstance.applicationParameter.osMajorVersion;a=e&&t>=13}this.shouldUseIFrameDownloader=a}download(e){if(!(e instanceof i.a))throw new Error("Url to be downloaded is not of type ValidatedDownloadUrl");const{_cookieManager:t,downloadCookieName:a}=this;return t.readCookieValue(a)?Promise.resolve({success:!1,errorReason:u.ALREADY_DOWNLOADING}):(this._writeCookie(e),this.startDownload(e))}async startDownload(e){return this.shouldUseIFrameDownloader?await this._downloadManager.downloadFromURL(e.href)===c.FAILED?{success:!1,errorReason:u.FAILED_TO_DOWNLOAD}:{success:!0}:(Object(n.a)(e.toString(),{target:"_blank",features:[]}),{success:!0})}_writeCookie(e){const{downloadTokenQueryParamValue:t}=e,{_cookieManager:a,downloadCookieName:n}=this;a.writeCookie(n,t,void 0,!0,void 0,1)}}},2243:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(629),r=a(584),i=a(2195),c=a(609),l=a(587),o=a(592);const s=c.z.object({package_token:c.z.object({url:c.z.string()})});class u extends class{constructor(e){if(this.url=void 0,"string"===typeof e)this.url=i.c(e);else{if(!e||e.constructor!==window.Location)throw new Error("A URL object cannot be created with the data provided");this.url=i.c(e.href)}}get protocol(){return this.url.protocol}set protocol(e){this.url.protocol=e}get auth(){return`${this.url.username}:${this.url.password}`}set auth(e){const[t,a]=e.split(":");this.url.username=t,this.url.password=a}get hostname(){return this.url.hostname}set hostname(e){this.url.hostname=e}get port(){return this.url.port}set port(e){this.url.port="number"===typeof e?e.toString():parseInt(e,10).toString()}get pathname(){return this.url.pathname}set pathname(e){this.url.pathname=e}get query(){return this.url.search}set query(e){this.url.search=e}get hash(){return this.url.hash}set hash(e){this.url.hash=e}get href(){return this.url.href}get host(){return this.url.host}get origin(){return this.url.origin}get path(){return this.query?`${this.pathname||""}${this.query}`:this.pathname}get queryObject(){const e=this.url.searchParams,t={};return e.forEach((a,n)=>{if(t[n])return;const r=e.getAll(n);if(1!==r.length)t[n]=r;else{const e=r[0];e.indexOf(",")>-1?t[n]=e.split(","):t[n]=e}}),t}set queryObject(e){const t=[];for(const a of Object.keys(e)){const n=e[a];Array.isArray(n)?t.push(`${a}=${n.map(e=>e.toString()).join(",")}`):t.push(`${a}=${n.toString()}`)}this.url.search="?"+t.join("&")}isInDomain(e){const t=this.hostname;return!(!t||""===e)&&t.indexOf(e)>-1}setQueryParameter(e,t){const a=this.url.searchParams;return a.delete(e),a.set(e,t),this.url.search="?"+a.toString(),this}appendQueryParameter(e,t){const a=this.url.searchParams;return a.append(e,t),this.url.search="?"+a.toString(),this}removeQueryParameter(e){return this.url.searchParams.delete(e),this}getQueryParameter(e){return this.url.searchParams.get(e)}setMultipleQueryParameters(e){for(const t in e)e.hasOwnProperty(t)&&this.setQueryParameter(t,e[t]);return this}toString(){return this.url.href}toJSON(){return this.url.toJSON()}}{static async packageUrlFromShortToken(e,t){if(!e)throw new Error("Cannot fetch a `ValidatedPackageDownloadURL` without a `shortToken`.");if(!t)throw new Error("Cannot fetch a `ValidatedPackageDownloadURL` without defining a `databaseScope`.");const a=Object(l.a)(Object(o.i)("docws",`ws/${t.toLowerCase()}/download/by_token`),{short_token:e}),r=await async function(e){try{const t=await n.a.fetchJSON(e,{validate:{type:"WirePackageDownloadUrl",schema:s}});return t.ok?{success:!0,url:t.value.package_token.url}:{success:!1,data:t.response}}catch{return{success:!1,data:null}}}(a);return r.success?new u(r.url," "):r}constructor(e,t,a){if(super(String(e)),this.downloadTokenQueryParamKey=void 0,this.downloadTokenQueryParamValue=void 0,!t)throw new Error("downloadTokenQueryParamKey not provided");this.downloadTokenQueryParamKey=t,this.downloadTokenQueryParamValue=a||Object(r.a)(),this.setQueryParameter(this.downloadTokenQueryParamKey,this.downloadTokenQueryParamValue)}static create(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return new u(...t)}}}},0,[4,1]]);
//# sourceMappingURL=2.main.js.map